/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[68,8,11,19,20,22,33,46,65,66,69,76,93],Array(48).concat([function(e,t,n){"use strict";var i,r;!(i=[n(119)],r=function(e){return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(434),n(113)],r=function(e,t){var n=t;return{get:function e(){return n},getFlag:function e(t){var i=n[t];return true===i||"true"===i},load:function i(){return e.get().then(function(e){for(var t in e)n[t]=e[t];return n}).catch(function(){n=t;return n})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(54)],r=function(e,t){var n={};var i="screen and (orientation: portrait)";var r="screen and (max-width: 640px), screen and (max-height: 480px)";var o;var a;n.Orientation={portrait:"portrait",landscape:"landscape"};var s=false;var l=false;var u=n.Orientation.landscape;function c(e){return"function"===typeof e}function d(e){s=e.matches;n.ViewChanged.emit(s)}function f(e){l=e.matches;n.ViewChangedDirect.emit(l)}var p=t.debounce(d,250);function h(e){u=e.matches?n.Orientation.portrait:n.Orientation.landscape;n.OrientationChanged.emit(u)}function v(){if(o&&c(o.removeListener)){o.removeListener(p);o.removeListener(f)}a&&c(a.removeListener)&&a.removeListener(h)}function m(){v();if(window&&c(window.matchMedia)){o=window.matchMedia(r);a=window.matchMedia(i);o.addListener(p);o.addListener(f);a.addListener(h)}}function g(){d(o);f(o);h(a)}e.mixin(n);n.notification("ViewChanged");n.notification("ViewChangedDirect");n.notification("OrientationChanged");n.init=function e(t){if(true===t){m(t);g(t)}};n.destroy=v;Object.defineProperties(n,{isSmallDevice:{get:function e(){return s}},isSmallDeviceDirect:{get:function e(){return l}},orientation:{get:function e(){return u}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(119),n(89)],r=function(e,t,n){var i=[],r;t.componentDirective("qvShowServiceView",{destroyComponent:"&",input:"=",deferredResult:"=",exposedApi:"="});var o={template:"<div><div ng-repeat='view in views' qv-show-service-view component='view.component' data-input='view.input' data-deferred-result='view.deferredResult' destroy-component='unshow(view)' data-exposed-api='view.exposedApi'></div></div>",controller:["$scope",function(e){e.unshow=function(t){var n=e.views.indexOf(t);n>=0&&e.views.splice(n,1)}}]};function a(){if(!r){var t=e("<div id='show-service-popup-dialog'></div>");e("body").append(t);t.showComponent(o,{views:i});r=true}}function s(e,t){a();var r=new n;var o={component:e,input:t,keepOpen:t.input&&t.input.keepOpen,deferredResult:r,exposedApi:{destroy:s,resultPromise:r.promise}};i.push(o);function s(){var e=i.indexOf(o);e>=0&&i.splice(e,1)}return o.exposedApi}function l(n,i){var r={$element:e("body"),input:i};for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);return t.$injector.invoke(n,{},r)}var u=null;function c(e){u=e}function d(e,t){if(u)return u(e,t);return"function"===typeof e||Array.isArray(e)?l(e,t):s(e,t)}function f(){return i.length>0}function p(){i.forEach(function(e){e.keepOpen||e.exposedApi.destroy()})}return{show:d,isViewShowing:f,closeAll:p,setShowFn:c}}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,function(e,t,n){"use strict";window.requirejs||n(61);window.requirejs.config.call(null,{config:{text:{useXhr:function e(t,i,r,o){if(0===t.indexOf(n.p))return true;var a=window.requirejs("text");return a.useXhr(t,i,r,o)}}},context:window.requirejs.s.contexts.sense?"sense":null,paths:{},shim:{},waitSeconds:60});window.requirejs.s.contexts.sense&&(window.requirejs.s.contexts._.defined.angular=window.requirejs.s.contexts.sense.defined.angular)},function(e,t,n){var i=n(10);(function(e,t){"use strict";var n=t.$$minErr("$sanitize");var i;var r;var o;var a;var s;var l;var u;var c;var d;var f;function p(){var p=false;var h=false;this.$get=["$$sanitizeUri",function(e){p=true;h&&r(q,C);return function(t){var n=[];d(t,f(n,function(t,n){return!/^unsafe:/.test(e(t,n))}));return n.join("")}}];this.enableSvg=function(e){if(s(e)){h=e;return this}return h};this.addValidElements=function(e){if(!p){a(e)&&(e={htmlElements:e});I(C,e.svgElements);I(g,e.htmlVoidElements);I(q,e.htmlVoidElements);I(q,e.htmlElements)}return this};this.addValidAttrs=function(e){p||r(O,A(e,true));return this};i=t.bind;r=t.extend;o=t.forEach;a=t.isArray;s=t.isDefined;l=t.$$lowercase;u=t.noop;d=P;f=R;c=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=/([^#-~ |!])/g;var g=D("area,br,col,hr,img,wbr");var b=D("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y=D("rp,rt"),x=r({},y,b);var w=r({},b,D("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var S=r({},y,D("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var C=D("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan");var E=D("script,style");var q=r({},g,w,S,x);var _=D("background,cite,href,longdesc,src,xlink:href,xml:base");var T=D("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width,style");var k=D("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var O=r({},_,k,T);function D(e,t){return A(e.split(","),t)}function A(e,t){var n={},i;for(i=0;i<e.length;i++)n[t?l(e[i]):e[i]]=true;return n}function I(e,t){t&&t.length&&r(e,A(t))}var L=function(e,t){var i;if(!t||!t.implementation)throw n("noinert","Can't create an inert html document");i=t.implementation.createHTMLDocument("inert");var r=(i.documentElement||i.getDocumentElement()).querySelector("body");r.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(r.querySelector("svg")){r.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';return r.querySelector("svg img")?a:s}return o;function o(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var n=new e.XMLHttpRequest;n.responseType="document";n.open("GET","data:text/html;charset=utf-8,"+t,false);n.send(null);var i=n.response.body;i.firstChild.remove();return i}function a(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;n.firstChild.remove();return n}catch(e){return}}function s(e){r.innerHTML=e;t.documentMode&&F(r);return r}}(e,e.document);function P(e,t){null===e||void 0===e?e="":"string"!==typeof e&&(e=""+e);var i=L(e);if(!i)return"";var r=5;do{if(0===r)throw n("uinput","Failed to sanitize html because the input is unstable");r--;e=i.innerHTML;i=L(e)}while(e!==i.innerHTML);var o=i.firstChild;while(o){switch(o.nodeType){case 1:t.start(o.nodeName.toLowerCase(),M(o.attributes));break;case 3:t.chars(o.textContent);break}var a;if(!(a=o.firstChild)){1===o.nodeType&&t.end(o.nodeName.toLowerCase());a=j("nextSibling",o);if(!a)while(null==a){o=j("parentNode",o);if(o===i)break;a=j("nextSibling",o);1===o.nodeType&&t.end(o.nodeName.toLowerCase())}}o=a}while(o=i.firstChild)i.removeChild(o)}function M(e){var t={};for(var n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function N(e){return e.replace(/&/g,"&amp;").replace(v,function(e){var t=e.charCodeAt(0);var n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(m,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function R(e,t){var n=false;var r=i(e,e.push);return{start:function(e,i){e=l(e);!n&&E[e]&&(n=e);if(!n&&true===q[e]){r("<");r(e);o(i,function(n,i){var o=l(i);var a="img"===e&&"src"===o||"background"===o;if(0===o.indexOf("data-")||true===O[o]&&(true!==_[o]||t(n,a))){r(" ");r(i);r('="');r(N(n));r('"')}});r(">")}},end:function(e){e=l(e);if(!n&&true===q[e]&&true!==g[e]){r("</");r(e);r(">")}e==n&&(n=false)},chars:function(e){n||r(N(e))}}}function F(t){while(t){if(t.nodeType===e.Node.ELEMENT_NODE){var n=t.attributes;for(var i=0,r=n.length;i<r;i++){var o=n[i];var a=o.name.toLowerCase();if("xmlns:ns1"===a||0===a.lastIndexOf("ns1:",0)){t.removeAttributeNode(o);i--;r--}}}var s=t.firstChild;s&&F(s);t=j("nextSibling",t)}}function j(e,t){var i=t[e];if(i&&c.call(t,i))throw n("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return i}}function h(e){var t=[];var n=f(t,u);n.chars(e);return t.join("")}t.module("ngSanitize",[]).provider("$sanitize",p).info({angularVersion:"1.7.2"});t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;var r=t.$$minErr("linky");var o=t.isDefined;var a=t.isFunction;var s=t.isObject;var l=t.isString;return function(t,u,c){if(null==t||""===t)return t;if(!l(t))throw r("notstring","Expected string but received: {0}",t);var d=a(c)?c:s(c)?function e(){return c}:function e(){return{}};var f;var p=t;var v=[];var m;var g;while(f=p.match(n)){m=f[0];f[2]||f[4]||(m=(f[3]?"http://":"mailto:")+m);g=f.index;b(p.substr(0,g));y(m,f[0].replace(i,""));p=p.substring(g+f[0].length)}b(p);return e(v.join(""));function b(e){if(!e)return;v.push(h(e))}function y(e,t){var n,i=d(e);v.push("<a ");for(n in i)v.push(n+'="'+i[n]+'" ');!o(u)||"target"in i||v.push('target="',u,'" ');v.push('href="',e.replace(/"/g,"&quot;"),'">');b(t);v.push("</a>")}}}])})(window,window.angular)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;function i(){return Promise.all([n.e(1),n.e(3),n.e(6),n.e(5),n.e(64)]).then(n.t.bind(null,80,7))}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.loadExtensionAMD=s;t.loadConnectorAMD=l;t.loadMashupAMD=u;function i(){return Promise.all([n.e(77),n.e(67)]).then(n.t.bind(null,53,7))}function r(){return Promise.all([n.e(1),n.e(11),n.e(34)]).then(n.t.bind(null,81,7))}function o(){return Promise.all([n.e(1),n.e(12),n.e(20),n.e(0),n.e(37)]).then(n.t.bind(null,82,7))}function a(){return Promise.all([n.e(1),n.e(22),n.e(20),n.e(11),n.e(35)]).then(n.t.bind(null,83,7))}function s(){return Promise.all([i(),r(),o()])}function l(){return Promise.all([i(),r(),a()])}function u(){return Promise.all([r(),o()])}},,function(module,exports){var requirejs,require,define;(function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.5",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!!("undefined"!==typeof window&&"undefined"!==typeof navigator&&window.document),isWebWorker=!isBrowser&&"undefined"!==typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=false;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){t&&eachProp(t,function(t,r){if(n||!hasProp(e,r))if(!i||"object"!==typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp)e[r]=t;else{e[r]||(e[r]={});mixin(e[r],t,n,i)}});return e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;each(e.split("."),function(e){t=t[e]});return t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);r.requireType=e;r.requireModules=i;n&&(r.originalError=n);return r}if("undefined"!==typeof define)return;if("undefined"!==typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs;requirejs=void 0}if("undefined"!==typeof require&&!isFunction(require)){cfg=require;require=void 0}function newContext(e){var t,n,i,r,o,a={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},s={},l={},u={},c=[],d={},f={},p={},h=1,v=1;function m(e){var t,n;for(t=0;t<e.length;t++){n=e[t];if("."===n){e.splice(t,1);t-=1}else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;if(t>0){e.splice(t-1,2);t-=2}}}}function g(e,t,n){var i,r,o,s,l,u,c,d,f,p,h,v,g=t&&t.split("/"),b=a.map,y=b&&b["*"];if(e){e=e.split("/");c=e.length-1;a.nodeIdCompat&&jsSuffixRegExp.test(e[c])&&(e[c]=e[c].replace(jsSuffixRegExp,""));if("."===e[0].charAt(0)&&g){v=g.slice(0,g.length-1);e=v.concat(e)}m(e);e=e.join("/")}if(n&&b&&(g||y)){o=e.split("/");e:for(s=o.length;s>0;s-=1){u=o.slice(0,s).join("/");if(g)for(l=g.length;l>0;l-=1){r=getOwn(b,g.slice(0,l).join("/"));if(r){r=getOwn(r,u);if(r){d=r;f=s;break e}}}if(!p&&y&&getOwn(y,u)){p=getOwn(y,u);h=s}}if(!d&&p){d=p;f=h}if(d){o.splice(0,f,d);e=o.join("/")}}i=getOwn(a.pkgs,e);return i||e}function b(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===i.contextName){t.parentNode.removeChild(t);return true}})}function y(e){var t=getOwn(a.paths,e);if(t&&isArray(t)&&t.length>1){t.shift();i.require.undef(e);i.makeRequire(null,{skipMap:true})([e]);return true}}function x(e){var t,n=e?e.indexOf("!"):-1;if(n>-1){t=e.substring(0,n);e=e.substring(n+1,e.length)}return[t,e]}function w(e,t,n,r){var o,a,s,l,u=null,c=t?t.name:null,f=e,p=true,m="";if(!e){p=false;e="_@r"+(h+=1)}l=x(e);u=l[0];e=l[1];if(u){u=g(u,c,r);a=getOwn(d,u)}if(e)if(u)m=n?e:a&&a.normalize?a.normalize(e,function(e){return g(e,c,r)}):-1===e.indexOf("!")?g(e,c,r):e;else{m=g(e,c,r);l=x(m);u=l[0];m=l[1];n=true;o=i.nameToUrl(m)}s=!u||a||n?"":"_unnormalized"+(v+=1);return{prefix:u,name:m,parentMap:t,unnormalized:!!s,url:o,originalName:f,isDefine:p,id:(u?u+"!"+m:m)+s}}function S(e){var t=e.id,n=getOwn(s,t);n||(n=s[t]=new i.Module(e));return n}function C(e,t,n){var i=e.id,r=getOwn(s,i);if(!hasProp(d,i)||r&&!r.defineEmitComplete){r=S(e);r.error&&"error"===t?n(r.error):r.on(t,n)}else"defined"===t&&n(d[i])}function E(e,t){var n=e.requireModules,i=false;if(t)t(e);else{each(n,function(t){var n=getOwn(s,t);if(n){n.error=e;if(n.events.error){i=true;n.emit("error",e)}}});i||req.onError(e)}}function q(){if(globalDefQueue.length){each(globalDefQueue,function(e){var t=e[0];"string"===typeof t&&(i.defQueueMap[t]=true);c.push(e)});globalDefQueue=[]}}r={require:function(e){return e.require?e.require:e.require=i.makeRequire(e.map)},exports:function(e){e.usingExports=true;if(e.map.isDefine)return e.exports?d[e.map.id]=e.exports:e.exports=d[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(a.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}};function _(e){delete s[e];delete l[e]}function T(e,t,n){var i=e.map.id;if(e.error)e.emit("error",e.error);else{t[i]=true;each(e.depMaps,function(i,r){var o=i.id,a=getOwn(s,o);if(a&&!e.depMatched[r]&&!n[o])if(getOwn(t,o)){e.defineDep(r,d[o]);e.check()}else T(a,t,n)});n[i]=true}}function k(){var e,n,r=1e3*a.waitSeconds,s=r&&i.startTime+r<(new Date).getTime(),u=[],c=[],d=false,f=true;if(t)return;t=true;eachProp(l,function(e){var t=e.map,i=t.id;if(!e.enabled)return;t.isDefine||c.push(e);if(!e.error)if(!e.inited&&s)if(y(i)){n=true;d=true}else{u.push(i);b(i)}else if(!e.inited&&e.fetched&&t.isDefine){d=true;if(!t.prefix)return f=false}});if(s&&u.length){e=makeError("timeout","Load timeout for modules: "+u,null,u);e.contextName=i.contextName;return E(e)}f&&each(c,function(e){T(e,{},{})});s&&!n||!d||!isBrowser&&!isWebWorker||o||(o=setTimeout(function(){o=0;k()},50));t=false}n=function(e){this.events=getOwn(u,e.id)||{};this.map=e;this.shim=getOwn(a.shim,e.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};n.prototype={init:function(e,t,n,i){i=i||{};if(this.inited)return;this.factory=t;n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)}));this.depMaps=e&&e.slice(0);this.errback=n;this.inited=true;this.ignore=i.ignore;i.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){if(!this.depMatched[e]){this.depMatched[e]=true;this.depCount-=1;this.depExports[e]=t}},fetch:function(){if(this.fetched)return;this.fetched=true;i.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();i.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;if(!f[e]){f[e]=true;i.load(this.map.id,e)}},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,r=this.depExports,o=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=i.execCb(n,a,r,o)}catch(t){e=t}else o=i.execCb(n,a,r,o);if(this.map.isDefine&&void 0===o){t=this.module;t?o=t.exports:this.usingExports&&(o=this.exports)}if(e){e.requireMap=this.map;e.requireModules=this.map.isDefine?[this.map.id]:null;e.requireType=this.map.isDefine?"define":"require";return E(this.error=e)}}else o=a;this.exports=o;if(this.map.isDefine&&!this.ignore){d[n]=o;if(req.onResourceLoad){var s=[];each(this.depMaps,function(e){s.push(e.normalizedMap||e)});req.onResourceLoad(i,this.map,s)}}_(n);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit("defined",this.exports);this.defineEmitComplete=true}}}else hasProp(i.defQueueMap,n)||this.fetch()},callPlugin:function(){var e=this.map,t=e.id,n=w(e.prefix);this.depMaps.push(n);C(n,"defined",bind(this,function(n){var r,o,l,u=getOwn(p,this.map.id),c=this.map.name,d=this.map.parentMap?this.map.parentMap.name:null,f=i.makeRequire(e.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){n.normalize&&(c=n.normalize(c,function(e){return g(e,d,true)})||"");o=w(e.prefix+"!"+c,this.map.parentMap,true);C(o,"defined",bind(this,function(e){this.map.normalizedMap=o;this.init([],function(){return e},null,{enabled:true,ignore:true})}));l=getOwn(s,o.id);if(l){this.depMaps.push(o);this.events.error&&l.on("error",bind(this,function(e){this.emit("error",e)}));l.enable()}return}if(u){this.map.url=i.nameToUrl(u);this.load();return}r=bind(this,function(e){this.init([],function(){return e},null,{enabled:true})});r.error=bind(this,function(e){this.inited=true;this.error=e;e.requireModules=[t];eachProp(s,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&_(e.map.id)});E(e)});r.fromText=bind(this,function(n,o){var s=e.name,l=w(s),u=useInteractive;o&&(n=o);u&&(useInteractive=false);S(l);hasProp(a.config,t)&&(a.config[s]=a.config[t]);try{req.exec(n)}catch(e){return E(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}u&&(useInteractive=true);this.depMaps.push(l);i.completeLoad(s);f([s],r)});n.load(e.name,f,r,a)}));i.enable(n,this);this.pluginMaps[n.id]=n},enable:function(){l[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(e,t){var n,o,a;if("string"===typeof e){e=w(e,this.map.isDefine?this.map:this.map.parentMap,false,!this.skipMap);this.depMaps[t]=e;a=getOwn(r,e.id);if(a){this.depExports[t]=a(this);return}this.depCount+=1;C(e,"defined",bind(this,function(e){if(this.undefed)return;this.defineDep(t,e);this.check()}));this.errback?C(e,"error",bind(this,this.errback)):this.events.error&&C(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id;o=s[n];hasProp(r,n)||!o||o.enabled||i.enable(e,this)}));eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(s,e.id);t&&!t.enabled&&i.enable(e,this)}));this.enabling=false;this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]);n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)});"error"===e&&delete this.events[e]}};function O(e){hasProp(d,e[0])||S(w(e[0],null,true)).init(e[1],e[2])}function D(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,false)}function A(e){var t=e.currentTarget||e.srcElement;D(t,i.onScriptLoad,"load","onreadystatechange");D(t,i.onScriptError,"error");return{node:t,id:t&&t.getAttribute("data-requiremodule")}}function I(){var e;q();while(c.length){e=c.shift();if(null===e[0])return E(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));O(e)}i.defQueueMap={}}i={config:a,contextName:e,registry:s,defined:d,urlFetched:f,defQueue:c,defQueueMap:{},Module:n,makeModuleMap:w,nextTick:req.nextTick,onError:E,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");if("string"===typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t}}var n=a.shim,r={paths:true,bundles:true,config:true,map:true};eachProp(e,function(e,t){if(r[t]){a[t]||(a[t]={});mixin(a[t],e,true,true)}else a[t]=e});e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(p[e]=t)})});if(e.shim){eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e});!e.exports&&!e.init||e.exportsFn||(e.exportsFn=i.makeShimExports(e));n[t]=e});a.shim=n}e.packages&&each(e.packages,function(e){var t,n;e="string"===typeof e?{name:e}:e;n=e.name;t=e.location;t&&(a.paths[n]=e.location);a.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")});eachProp(s,function(e,t){e.inited||e.map.unnormalized||(e.map=w(t,null,true))});(e.deps||e.callback)&&i.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;e.init&&(t=e.init.apply(global,arguments));return t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){n=n||{};function o(a,l,u){var c,f,p;n.enableBuildCallback&&l&&isFunction(l)&&(l.__requireJsBuild=true);if("string"===typeof a){if(isFunction(l))return E(makeError("requireargs","Invalid require call"),u);if(t&&hasProp(r,a))return r[a](s[t.id]);if(req.get)return req.get(i,a,t,o);f=w(a,t,false,true);c=f.id;if(!hasProp(d,c))return E(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")));return d[c]}I();i.nextTick(function(){I();p=S(w(null,t));p.skipMap=n.skipMap;p.init(a,l,u,{enabled:true});k()});return o}mixin(o,{isBrowser:isBrowser,toUrl:function(e){var n,r=e.lastIndexOf("."),o=e.split("/")[0],a="."===o||".."===o;if(-1!==r&&(!a||r>1)){n=e.substring(r,e.length);e=e.substring(0,r)}return i.nameToUrl(g(e,t&&t.id,true),n,true)},defined:function(e){return hasProp(d,w(e,t,false,true).id)},specified:function(e){e=w(e,t,false,true).id;return hasProp(d,e)||hasProp(s,e)}});t||(o.undef=function(e){q();var n=w(e,t,true),r=getOwn(s,e);r.undefed=true;b(e);delete d[e];delete f[n.url];delete u[e];eachReverse(c,function(t,n){t[0]===e&&c.splice(n,1)});delete i.defQueueMap[e];if(r){r.events.defined&&(u[e]=r.events);_(e)}});return o},enable:function(e){var t=getOwn(s,e.id);t&&S(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(a.shim,e)||{},l=o.exports;q();while(c.length){n=c.shift();if(null===n[0]){n[0]=e;if(t)break;t=true}else n[0]===e&&(t=true);O(n)}i.defQueueMap={};r=getOwn(s,e);if(!t&&!hasProp(d,e)&&r&&!r.inited){if(!(!a.enforceDefine||l&&getGlobal(l)))return y(e)?void 0:E(makeError("nodefine","No define call for "+e,null,[e]));O([e,o.deps||[],o.exportsFn])}k()},nameToUrl:function(e,t,n){var r,o,s,l,u,c,d,f=getOwn(a.pkgs,e);f&&(e=f);d=getOwn(p,e);if(d)return i.nameToUrl(d,t,n);if(req.jsExtRegExp.test(e))u=e+(t||"");else{r=a.paths;o=e.split("/");for(s=o.length;s>0;s-=1){l=o.slice(0,s).join("/");c=getOwn(r,l);if(c){isArray(c)&&(c=c[0]);o.splice(0,s,c);break}}u=o.join("/");u+=t||(/^data\:|^blob\:|\?/.test(u)||n?"":".js");u=("/"===u.charAt(0)||u.match(/^[\w\+\.\-]+:/)?"":a.baseUrl)+u}return a.urlArgs&&!/^blob\:/.test(u)?u+a.urlArgs(e,u):u},load:function(e,t){req.load(i,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=A(e);i.completeLoad(t.id)}},onScriptError:function(e){var t=A(e);if(!y(t.id)){var n=[];eachProp(s,function(e,i){0!==i.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id){n.push(i);return true}})});return E(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}};i.require=i.makeRequire();return i}req=requirejs=function(e,t,n,i){var r,o,a=defContextName;if(!isArray(e)&&"string"!==typeof e){o=e;if(isArray(t)){e=t;t=n;n=i}else e=[]}o&&o.context&&(a=o.context);r=getOwn(contexts,a);r||(r=contexts[a]=req.s.newContext(a));o&&r.configure(o);return r.require(e,t,n)};req.config=function(e){return req(e)};req.nextTick="undefined"!==typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()};require||(require=req);req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName("head")[0];baseElement=document.getElementsByTagName("base")[0];baseElement&&(head=s.head=baseElement.parentNode)}req.onError=defaultOnError;req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");i.type=e.scriptType||"text/javascript";i.charset="utf-8";i.async=true;return i};req.load=function(e,t,n){var i=e&&e.config||{},r;if(isBrowser){r=req.createNode(i,t,n);r.setAttribute("data-requirecontext",e.contextName);r.setAttribute("data-requiremodule",t);if(!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera){r.addEventListener("load",e.onScriptLoad,false);r.addEventListener("error",e.onScriptError,false)}else{useInteractive=true;r.attachEvent("onreadystatechange",e.onScriptLoad)}r.src=n;i.onNodeCreated&&i.onNodeCreated(r,i,t,n);currentlyAddingScript=r;baseElement?head.insertBefore(r,baseElement):head.appendChild(r);currentlyAddingScript=null;return r}if(isWebWorker)try{setTimeout(function(){},0);importScripts(n);e.completeLoad(t)}catch(i){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,i,[t]))}};function getInteractiveScript(){if(interactiveScript&&"interactive"===interactiveScript.readyState)return interactiveScript;eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e});return interactiveScript}isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode);dataMain=e.getAttribute("data-main");if(dataMain){mainScript=dataMain;if(!cfg.baseUrl&&-1===mainScript.indexOf("!")){src=mainScript.split("/");mainScript=src.pop();subPath=src.length?src.join("/")+"/":"./";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,"");req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain);cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true}});define=function(e,t,n){var i,r;if("string"!==typeof e){n=t;t=e;e=null}if(!isArray(t)){n=t;t=null}if(!t&&isFunction(n)){t=[];if(n.length){n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)});t=(1===n.length?["require"]:["require","exports","module"]).concat(t)}}if(useInteractive){i=currentlyAddingScript||getInteractiveScript();if(i){e||(e=i.getAttribute("data-requiremodule"));r=contexts[i.getAttribute("data-requirecontext")]}}if(r){r.defQueue.push([e,t,n]);r.defQueueMap[e]=true}else globalDefQueue.push([e,t,n])};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)})(window,"undefined"===typeof setTimeout?void 0:setTimeout);window.require=require;window.requirejs=requirejs;window.define=define},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=h(n(98));var r=n(412);var o=h(n(48));var a=h(n(91));var s=h(n(135));var l=h(n(1818));var u=h(n(1819));var c=h(n(1729));var d=h(n(2009));var f=h(n(1699));var p=h(n(2010));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){v(o,i,r,a,s,"next",e)}function s(e){v(o,i,r,a,s,"throw",e)}a(void 0)})}}var g=o.default.getService("qvLoader");g.show({messageObj:{task:""}});var b=false;var y;var x={};Object.keys(d.default).forEach(function(e){var t=d.default[e];var n=t.name;var i=new l.default(t);var r={name:n,module:null,route:i,loaded:null};x[n]=r;s.default.addRoute(i)});Object.keys(d.default).forEach(function(e){var t=d.default[e].name;var n=x[t];var o=n.route;o.Route.bind(m(regeneratorRuntime.mark(function e(){var o,s,l,d,h,v,m=arguments;return regeneratorRuntime.wrap(function e(w){while(1)switch(w.prev=w.next){case 0:o=f.default.get()!==n;f.default.set(n);for(s=m.length,l=new Array(s),d=0;d<s;d++)l[d]=m[d];if(b){w.next=7;break}w.next=6;return(0,p.default)();case 6:(0,r.render)(i.default.createElement(u.default,{view:f.default.get().module,urlParameters:l,ref:function e(t){y=t}}),document.getElementById("qv-page-container"));case 7:if(x[t].loaded){w.next=15;break}w.next=10;return(0,c.default)(t);case 10:h=w.sent.default;x[t].module=h;x[t].loaded=true;if(!b&&g.isOpen()){v=n.module.loaderTranslationKey?a.default.get(n.module.loaderTranslationKey):"";g.setMessageObj(v)}"function"===typeof h.init&&h.init.call(null);case 15:if(o){y.setView(f.default.get().module,l);b=true}else y.setUrlParameters(l);case 16:case"end":return w.stop()}},e)})));o.DeRoute.bind(function(){y.setView(null);f.default.set(null)})});s.default.start()},,,,function(e,t,n){"use strict";var i,r;!(i=[n(119)],r=function(e){var t;t=function t(){var n=e.getService("$q").defer();return n};t.resolve=function(t){var n=e.getService("$q").defer();n.resolve(t);return n.promise};t.reject=function(){return e.getService("$q").reject.apply(null,arguments)};t.all=function(){return e.getService("$q").all.apply(null,arguments)};t.when=function(){return e.getService("$q").when.apply(null,arguments)};Object.defineProperty(t,"Promise",{get:function t(){return e.getService("$q")}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(139),n(54),n(13)],r=function(e,t,n,i){var r;var a="string"===typeof location.hostname?location.hostname:"";var s=19076;var l="string"===typeof location.protocol?location.protocol:"";var u="https:"===l;var c=location.href;var d=c.split("#")[0];function f(e){var t=(+e).toString(16);return 1===t.length?"0"+t:t}var p={findValuesOfQProperty:function e(t,n){var i=[];function r(e,t){if(!e||"object"!==o(e))return;Array.isArray(e)?e.forEach(function(e,n){r(e,t+"/"+n)}):Object.keys(e).forEach(function(a){var s=o(e[a]);a===n?i.push(e[a]):"object"===s&&/^[^q]/.test(a)&&r(e[a],t+"/"+a)})}r(t,"");return i},isEqual:function e(t,i){return n.isEqual(t,i)},compare:function e(t,n){return t<n?-1:t>n?1:0},normalizeToHex:function e(t){if("string"===typeof t&&"#"===t[0])return t;if(0===t)return"#000000";var n=/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})/i;var i=n.exec(t);if(i)t="#"+f(i[1])+f(i[2])+f(i[3]);else if("string"===typeof t&&0!==t.indexOf("#")&&/^[a-f0-9]{3,6}$/i.test(t))t="#"+t;else if(/^[0-9]+$/.test(t)){t=(255&t)<<16|65280&t|(16711680&t)>>>16;t="#"+t.toString(16)}else t=null;return t},numberFormat:function e(t,n,i){var r={3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",24:"Y","-3":"m","-6":"Î¼","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"},o="",a;if(Number.isNaN(+t)||Number.isNaN(+n)||Number.isNaN(+i))return t;t=Number(Number(t).toPrecision(n));i-=i%3;if(i in r){o=r[i];t/=Math.pow(10,i);t=Number(t.toPrecision(n))}else if(0===i){a=Math.pow(10,n);t=Math.round(t*a)/a}return t+o},getExponent:function e(t){if(Number.isNaN(+t))throw new TypeError("Parameter is not numeric");return Number(Number(t).toExponential().split("e")[1])},hostname:a,port:19076,reloadURI:d,isSecure:u,setValue:function e(t,n,i){if(!n)return;var r=n.split("."),o=t,a=r[r.length-1],s;for(s=0;s<r.length-1;++s){"undefined"===typeof o[r[s]]&&(o[r[s]]=Number.isNaN(+r[s+1])?{}:[]);o=o[r[s]]}"undefined"!==typeof i?o[a]=i:delete o[a]},getValue:function e(t,n,i){var r=n.split("."),o=t,a;if(void 0===o)return i;for(a=0;a<r.length;++a){if("undefined"===typeof o[r[a]])return i;o=o[r[a]]}return o},getParameterByName:i.getParameterByName,generateId:function e(){return r.id()},getRandomString:function e(t){var n="",i,r;for(i=0;i<t;i++){r=Math.floor(62*Math.random());n+=r<10?r:r>9&&r<36?String.fromCharCode(r+55):String.fromCharCode(r+61)}return n},escapeRegExp:function e(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")},match:function e(n,i){return"string"===typeof n?-1!==t.string(n.toLowerCase()).indexOf(t.string(i)):n instanceof Array&&n.some(function(t){return e(t,i)})},crop:function e(t,n){if(t.length>n)return t.substring(0,n);return t},isEdge:function e(){var t=navigator.userAgent;return/Edge\/\d+/.test(t)},isMSIE:function e(){var t=navigator.userAgent;return t.indexOf(" MSIE ")>-1||t.indexOf(" Trident/")>-1},isIos:function e(){return/iPad|iPhone|iPod/.test(navigator.userAgent)},isAndroid:function e(){return/Android/.test(navigator.userAgent)},isSafari:function e(){var t=navigator.userAgent;return t.indexOf("Chrome")<0&&/Safari\/\d+/.test(t)},isFirefox:function e(){var t=navigator.userAgent;return/Firefox\/\d+/.test(t)},extend:function t(){return e.extend.apply(null,arguments)},isFunction:function t(){return e.isFunction.apply(null,arguments)},isNumeric:function e(t){return!Number.isNaN(parseFloat(t))&&Number.isFinite(+t)},isInteger:function e(t){return!Number.isNaN(parseInt(t,10))&&parseFloat(t,10)===parseInt(t,10)},isPromise:function e(t){return t&&"function"===typeof t.then},qouteScript:function e(t){if(!t)return t;if(-1!==t.indexOf("[")||-1!==t.indexOf("]"))return'"'+t+'"';return"["+t+"]"},escapeField:function e(t){return t&&"]"!==t?/^[A-Za-z][A-Za-z0-9_]*$/.test(t)?t:"["+t.replace(/\]/g,"]]")+"]":t},isEmpty:function t(n){return e.isEmptyObject(n)},hasFileExtension:function e(t,n){if(n){n="."===n.substring(0,1)?n:"."+n;return t.substring(t.length-n.length).toUpperCase()===n.toUpperCase()}return false},removeExtensionFromName:function e(t,n){t.length>n.length&&this.hasFileExtension(t,n)&&(t=t.substring(0,t.length-n.length));return t},isLocalStorageSupported:function e(){var t,n="testLocalStorageSupport";try{localStorage.setItem(n,n);localStorage.removeItem(n);t=true}catch(e){t=false}return t},ellipseText:function e(t,n){var i=t;i.length>n&&(i=i.substr(0,n-3)+"...");return i},hashFromString:function e(t){var n=0,i,r;if(!t||!t.length)return n;for(r=0;r<t.length;r++){i=t.charCodeAt(r);n=(n<<5)-n+i;n&=n}return n},getUnique:function e(t){var n,i,r;var o=[];for(n=0,i=t.length;n<i;n++){r=t[n];t[n]=void 0===r?void 0:t[n];t.indexOf(r)===n&&o.push(r)}return o}};Object.defineProperty(p,"baseURI",{get:function e(){return i.baseURI}});Object.defineProperty(p,"project",{get:function e(){return p.baseURI.split("/").reverse()[1]||"sense"}});Object.defineProperty(p,"basePath",{get:function e(){return i.basePath}});r={getChar:function e(t){var n=[48,111,79,105,73,108],i;if(t>9){i=65+t-10;i>90&&(i+=6)}else t=(t+"").charCodeAt(0);return n.indexOf(i)>-1?this.getChar(t+1):String.fromCharCode(i)},base62:function e(t){var n=this.getChar(t%62),i=Math.floor(t/62);return i>0?this.base62(i)+n:n},id:function e(){var t=this.base62(Math.round(99e11*Math.random()+1e11));return t.replace(/\W/g,"")}};return p}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(208),n(90),n(11),n(199),n(138),n(519)],r=function(e,t,n,i,r,a){var s={},l="en-US",u={},c=[{short:"es",long:"es-ES",label:"Spanish",translatedLabel:"Common.Spanish"},{short:"sv",long:"sv-SE",label:"Swedish",translatedLabel:"Common.Swedish"},{short:"ja",long:"ja-JP",label:"Japanese",translatedLabel:"Common.Japanese"},{short:"en",long:"en-US",label:"English",translatedLabel:"Common.English"},{short:"de",long:"de-DE",label:"German",translatedLabel:"Common.German"},{short:"fr",long:"fr-FR",label:"French",translatedLabel:"Common.French"},{short:"it",long:"it-IT",label:"Italian",translatedLabel:"Common.Italian"},{short:"nl",long:"nl-NL",label:"Dutch",translatedLabel:"Common.Dutch"},{short:"pt",long:"pt-BR",label:"Brazilian Portuguese",translatedLabel:"Common.BrazilianPortuguese"},{short:"ru",long:"ru-RU",label:"Russian",translatedLabel:"Common.Russian"},{short:"zh",long:"zh-CN",label:"Simplified Chinese",translatedLabel:"Common.SimplifiedChinese"},{short:"zh",long:"zh-TW",label:"Traditional Chinese",translatedLabel:"Common.TraditionalChinese"},{short:"pl",long:"pl-PL",label:"Polish",translatedLabel:"Common.Polish"},{short:"tr",long:"tr-TR",label:"Turkish",translatedLabel:"Common.Turkish"},{short:"ko",long:"ko-KR",label:"Korean",translatedLabel:"Common.Korean"}],d=function e(t,n){t=t||"";n=n||[];"string"!==typeof n&&"number"!==typeof n||(n=[n]);return t.replace(/\{(\d+)\}/g,function(e,t){return"undefined"!==typeof n[t]?n[t]:e})},f=function t(n,i){var r=v.get(n.attr("data-"+i+"translation")),o=n.data(i?"title-text":"text");"undefined"!==typeof o&&"undefined"!==typeof o.value&&(r=d(r,o.value));return e.encodeForHTML(r)},p=function e(t){var n={language:null,context:"client"};if("string"===typeof t)n.language=t;else if(null!==t&&"object"===o(t)&&(t.hasOwnProperty("language")||t.hasOwnProperty("context"))){n.language=t.language||n.language;n.context=t.context||n.context}return n},h=n.Deferred(),v={contexts:{client:["common","client","engine"],dle:["common","client","engine"],dmv:["common","client","engine"]},languageList:c,append:function e(t){n.extend(s,t)},appendHelp:function e(t){n.extend(true,u,t)},apply:function e(t){n("[data-translation], [data-title-translation], [data-placeholder-translation]",t||document).addBack().each(function(){var e=n(this),t=f(e,""),i=f(e,"title-"),r=f(e,"placeholder-");t&&e.html(t);i&&e.attr("title",i);r&&e.attr("placeholder",r)});return t},get:function e(t,n){var i="undefined"!==typeof s[t]?s[t]:t;void 0!==n&&(i=d(i,n));return i},getHelp:function e(t){return u[t]},localeDetected:"",setup:function e(n){var i=p(n);var o=i.context;var a=i.language||t.getParameterByName("language");if("undefined"===typeof a||null===a){r.locale.set();a=r.locale.get()}this.localeDetected=a;b(a,o,function e(t,n){v.language=t;n.forEach(v.append);v.apply();h&&h.resolve();h=null});return v.ready}};Object.defineProperty(v,"ready",{get:function e(){if(h)return h.promise();var t=n.Deferred();t.resolve();return t.promise()}});i.LANGUAGES&&c.push({short:"pseudo",long:"pseudo",label:"pseudo"},{short:"zz",long:"zz",label:"zz"});function m(e){"pseudo"!==e.toLowerCase()&&(e=e.substring(0,2));return e.toLowerCase()}function g(e){var t;t=v.languageList.filter(function(t){return t.long.toLowerCase()===e.toLowerCase()});if(t.length)e=t[0].long;else{t=v.languageList.filter(function(t){return t.short===m(e)});t.length&&(e="zh-hk"===e.toLocaleLowerCase()||"zh-mo"===e.toLocaleLowerCase()?"zh-TW":t[0].long)}if(!t.length){window.console.warn&&window.console.warn("Language '"+e+"' not supported, falling back to '"+l+"'");e=l}return e}function b(e,t,n,i){e=g(e);Promise.all(v.contexts[t].map(function(t){return a.load(e,t)})).then(function(t){n(e,t);y(e)},function(){i||b(l,t,n,true)})}function y(e){v.languageCode=m(e);n("html").attr("lang")||n("html").attr("lang",e)}return v}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){var e=/xyz/.test(function(){var e})?/\b_super\b/:/.*/;var t=function e(){};t.extend=function t(n,i){var r=this.prototype;if("string"!==typeof n){i=n;n="Class"}var o=Object.create(this.prototype);for(var a in i)o[a]="function"===typeof i[a]&&"function"===typeof r[a]&&e.test(i[a])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);this._super=n;return i}}(a,i[a]):i[a];if(!/^[_a-z][_a-z\d]*$/i.test(n))throw new Error("Invalid subclass name. Alphanumericals only.");var s=new Function("return (function "+n+"(){ typeof this.init === 'function' && this.init.apply(this, [].slice.call(arguments)) });")();s.prototype=o;s.prototype.constructor=s;s.extend=t;return s};return t}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(143),n(89),n(227),n(490),n(562),n(990),n(259),n(110),n(90),n(91),n(563),n(182)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f){var p=["OnExcessLicenseAssignment","OnMaxParallelSessionsExceeded","OnLicenseAccessDenied","OnLicenseAccessDeniedPendingUserSync","OnNoAppFound","OnEngineWebsocketFailed","OnNoEngineAvailable","OnNoDataPrepServiceAvailable","OnDataPrepServiceWebsocketFailed"];var h=["OnSessionLoggedOut","OnSessionTimedOut","OnSessionClosed"];var v=["GetProperties","GetFullPropertyTree"];var m=/(?!^GetHyperCube|^GetListObject)(^Get)/i;var g=void 0;function b(t,n,r,o,a){if(t.code===l.LocalizedErrorCode.LOCERR_GENERIC_ABORTED)return;e.getService("$timeout")(function(){if(t.isHandled)return;t.isHandled=true;o&&o.hasHandlers("closed")&&"closed"===o.originalEvent?o.emit("closed",{message:"Session closed.",isHandled:t.isHandled}):o&&o.hasHandlers("error")&&"closed"!==o.originalEvent?o.emit("error",t):r?r():n?n(t):i.showDialog(t,a)},1e3)}function y(e,t,n){var i=[];if(!e.warnings)return;if(1===e.warnings.length&&e.warnings[0]===l.LocalizedWarningCode.LOCWARN_EXPORT_DATA_TRUNCATED)return;for(var o=0;o<e.warnings.length;o++)i.push({code:e.warnings[o]});n&&n.hasHandlers("warning")?n.emit("warning",e):t?t(e):r.showDialog(i)}function x(e,t,i){var r=t.handle?e.apis.getApi(t.handle):void 0;if(r&&!r.isCancelled&&i.code===l.LocalizedErrorCode.LOCERR_GENERIC_ABORTED&&m.test(t.method)){i.isHandled=true;return t.retry()}return n.reject(i)}function w(e,t,i){if(i.code===s.enums.LocalizedErrorCode.LOCERR_HC_MODAL_OBJECT_ERROR){i.isHandled=true;return e.app.abortModalSelection().then(function(){return t.retry()})}return n.reject(i)}function S(e){"undefined"===typeof e&&(e={});"undefined"===typeof e.urlParams&&(e.urlParams={});e.ttl=parseFloat(u.getParameterByName("ttl"));Number.isNaN(+e.ttl)||(e.suspendOnClose=true);"string"!==typeof e.host&&(e.host=u.hostname);"string"!==typeof e.port&&(e.port=u.port||void 0);"string"!==typeof e.prefix&&(e.prefix="/"===u.basePath?"":u.basePath);"boolean"!==typeof e.isSecure?e.secure=u.isSecure:e.secure=e.isSecure;"string"!==typeof e.reloadURI?e.urlParams.reloadUri=u.reloadURI:e.urlParams.reloadUri=e.reloadURI;if("undefined"===typeof e.identity){var t=u.getParameterByName("identity");t&&(e.identity=t)}"/"===e.prefix&&(e.prefix="");return e}var C={},E;function q(i,r){var a=C[i];if(!a){var u=r.responseInterceptors?r.responseInterceptors:[];a=o.create({Promise:e.getService("$q"),schema:s,mixins:d,url:i,suspendOnClose:r.suspendOnClose,createSocket:function e(t){return new WebSocket(t)},requestInterceptors:[{onFulfilled:function e(t,n){if(-1!==v.indexOf(n.method)){n.return_empty=true;n.delta=false}return n}}],responseInterceptors:u.concat([{onRejected:x},{onRejected:w},{onRejected:function e(t,i,o){var a="Not connected";if(o.message===a)return n.reject(o);r.qEvent&&(r.qEvent.originalEvent="error");b(o,r.onError,void 0,r.qEvent);return n.reject(o)}}])});a.sessionConfig=r;a.on("notification:*",function(e,n){var i=-1!==p.indexOf(e);var o=-1!==h.indexOf(e);function a(e){if(r.qEvent&&r.qEvent.hasHandlers("error")){r.qEvent.originalEvent="ProxyError";r.qEvent.emit("error",e)}else r.onError&&r.onError(e)}if("OnAuthenticationInformation"===e){t.parse(n);f.setServerNodeId(n.serverNodeId)}"fatal"===n.severity&&(i?c.ready.then(function(){a({method:e,message:c.get("ProxyError."+e)})}):a({method:e,message:n.message?n.message:n}));o&&(g?g():i=true);i&&b({message:"ProxyError."+e,refreshButton:true},r.onError,void 0,r.qEvent);"OnConnected"===e&&"SESSION_ERROR_NO_LICENSE"===n.qSessionState&&b({message:"SessionError.SessionErrorNoLicense",refreshButton:false},r.onError,void 0,r.qEvent,true)});a.on("traffic:received",function(e){r.qEvent&&(r.qEvent.originalEvent="traffic:received");y(e,r.onWarning,r.qEvent)});a.on("closed",function(){r.qEvent&&(r.qEvent.originalEvent="closed");c.ready.then(function(){b({code:l.LocalizedErrorCode.LOCERR_GENERIC_CONNECTION_LOST,message:c.get("ErrorCode."+l.LocalizedErrorCode.LOCERR_GENERIC_CONNECTION_LOST)},r.onError,r.onClose,r.qEvent)});E===C[i]&&(E=void 0);delete C[i]});C[i]=a;E=E||a}return a}function _(e,t,n){e=e||"";t.appId=e;var i=a.buildUrl(t);var r=q(i,t);return r.open().then(function(t){if(!e)return{global:t};r.openDocPromise||(r.openDocPromise=t.openDoc(e,"","","",!!n).then(function(e){e.global=t;return e}));return r.openDocPromise}).catch(function(e){if(e.srcElement instanceof WebSocket){e={message:"ErrorDialog.NoConnectionCreated"};t.qEvent&&(t.qEvent.originalEvent="error");b(e,t.onError,void 0,t.qEvent)}throw e})}function T(e,t){e=e||u.getParameterByName("app");if(!e&&!t&&E)return n.resolve(E.app);t=S(t);var i="true"===u.getParameterByName("noData");return _(e,t,i)}return{get:function e(t,n){n=S(n);return t?this.getApp(t,n):this.getGlobal(n)},getApp:function e(t,n){return T(t,n)},getSessionApp:function e(t,i){return this.getGlobal(i).then(function(e){var r=t&&"?transient="!==t?e.createSessionAppFromApp(t):e.createSessionApp();return r.then(function(t){return{global:e,app:t}}).catch(function(t){if(t.code===l.LocalizedErrorCode.LOCERR_APP_ALREADY_OPEN){t.isHandled=true;return e.getActiveDoc()}i.qEvent&&(i.qEvent.originalEvent="error");b(t,i.onError,void 0,i.qEvent);return n.reject(t)})})},getGlobal:function e(t){t=S(t);return _(void 0,t).then(function(e){return e.global})},setLogoutHandler:function e(t){g=t},_unsupported_clearSessions:function e(){C={}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(135)],r=function(e,t){var n={},i,r,o,a,s,l;n.States={analysis:0,edit:1,play:2,editstory:3,insight:4,selections:5};n.Views={overview:0,sheet:1,story:2,object:3,masterObject:4,dataManager:7,dataSpaceScriptEditor:8,dataSpaceAssociations:9,dataSpaceDataModel:10};e.mixin(n);n.notification("StateChanged");n.notification("SheetChanged");n.notification("StoryChanged");n.setState=function(e){if(e!==r){s=r;r=e;n.StateChanged.emit(i,r,l,s);i===n.Views.sheet||i===n.Views.object||i===n.Views.masterObject?t.setUrl(t.buildUrl("sheet",o.layout.qInfo.qId,"state",Object.keys(n.States)[e])):i===n.Views.story&&t.setUrl(t.buildUrl("story",o.layout.qInfo.qId,"state",Object.keys(n.States)[e],"slide",a))}};n.setView=function(e){if(e!==i){l=i;i=e;e===n.Views.overview&&(o=null);n.StateChanged.emit(i,r,l,s)}};n.setSheet=function(e,t){var a=false;if(e!==o){o=e;l=i;i=n.Views.sheet;n.SheetChanged.emit(e);a=true}if(n.States[t]!==r){s=r;r=n.States[t]||n.States.analysis;a=true}a&&n.StateChanged.emit(i,r,l,s)};n.setStory=function(e,t,u){var c=false;if(e!==o){o=e;l=i;i=n.Views.story;n.StoryChanged.emit(e,u);c=true}else a!==u&&n.StoryChanged.emit(e,u);a=u;if(n.States[t]!==r){s=r;r=n.States[t]||n.States.editstory;c=true}c&&n.StateChanged.emit(i,r,l,s)};n.isInAnalysisMode=function(){return r===n.States.analysis};n.isInEditMode=function(){return r===n.States.edit};n.inStoryPlayState=function(){return n.inStorytelling()&&r===n.States.play};n.inStorytelling=function(){return i===n.Views.story};n.inAppOverView=function(){return i===n.Views.overview};n.inDataManager=function(){return i===n.Views.dataManager};n.inDataSpaceScriptEditor=function(){return i===n.Views.dataSpaceScriptEditor};n.inDataSpaceDataModel=function(){return i===n.Views.dataSpaceDataModel};n.inDataSpaceAssociations=function(){return i===n.Views.dataSpaceAssociations};n.inSheetView=function(){return i===n.Views.sheet};n.inObjectView=function(){return i===n.Views.object};n.inMasterObjectView=function(){return i===n.Views.masterObject};n.getModel=function(){return n.model};n.getAllStateKeys=function(){return Object.keys(n.States)};n.reset=function(){i=null;r=null;o=null;a=null;s=null;l=null};Object.defineProperties(n,{state:{get:function e(){return r}},view:{get:function e(){return i}},model:{get:function e(){return o},set:function e(t){o=t}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(){this.topics={};this.wildcards=[]}e.prototype.getTopics=function(e,t){var n=this.topics[e];if("undefined"===typeof n&&t){n=[];this.topics[e]=n}return n};e.prototype.createMatcher=function(e){e=e.replace(/\$/g,"\\$");return new RegExp("^"+e.replace(/\*/g,".+?")+"$","i")};e.prototype.subscribe=function(e,t,n){e=e.toLowerCase().split(".");if("function"!==typeof t)throw new Error("pubsub: Invalid handler");var i={handler:t,topic:e[0],namespace:e[1],context:n||window};if(e[0].indexOf("*")>-1){i.matcher=this.createMatcher(e[0]);this.wildcards.push(i)}else this.getTopics(e[0],true).push(i)};e.prototype.subscribeOnce=function(e,t,n){var i=this;function r(){t.apply(this,arguments);i.unsubscribe(e,t)}r.original=t;this.subscribe(e,r,n)};e.prototype.unsubscribe=function(e,t){e=e.toLowerCase();this["."===e[0]?"unsubscribeNamespace":"unsubscribeTopic"](e,t)};e.prototype.unsubscribeNamespace=function(e){e=e.substr(1);var t;function n(t){return t.namespace!==e}this.wildcards=this.wildcards.filter(n);for(t in this.topics){this.topics[t]=this.topics[t].filter(n);this.topics[t].length||delete this.topics[t]}};e.prototype.unsubscribeTopic=function(e,t){e=e.split(".");var n=this.getTopics(e[0]);function i(n){var i=n.topic!==e[0];!i&&t&&(i=n.handler.original?n.handler.original!==t:n.handler!==t);return i}this.wildcards=this.wildcards.filter(i);if(n){n=n.filter(i);this.topics[e[0]]=n;n.length||delete this.topics[e[0]]}};e.prototype.publish=function(e,t){e=e.toLowerCase().split(".");var n=this.getTopics(e[0]);function i(n){(!n.matcher||n.matcher&&n.matcher.test(e[0]))&&n.handler.call(n.context,t,e[0])}this.wildcards.forEach(i);n&&n.forEach(i)};return new e}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(96),n(95),n(523)],r=function(e,t,n){var i=250,r=false,o=n.isNeeded()?new n:null,a;function s(e){r=true;u("/resize/start",e)}function l(e){u("/resize/end",e);r=false}function u(e,n){t.publish(e,{width:window.innerWidth,height:window.innerHeight,element:n.target})}function c(e){if(e.target!==window&&e.target!==document)return;r||s(e);clearTimeout(a);u("/resize/update",e);a=setTimeout(function(){l(e)},i)}function d(e){if(o)o.rotate(function(){s(e);l(e)});else{s(e);l(e)}}e.utils.touch&&"ondeviceorientation"in window&&window.addEventListener("orientationchange",d,false);o||window.addEventListener("resize",c,false);return{on:function e(n,i){t.subscribe("/resize/"+n,i)},off:function e(n,i){t.unsubscribe("/resize/"+n,i)},force:function e(n){n=n||"end";t.publish("/resize/"+n)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";true;e.exports=n(1335)},function(e,t,n){"use strict";var i,r;!(i=[n(96),n(308)],r=function(e,t){var n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var i={AUTO:"auto",TOUCH:"touch",DESKTOP:"desktop"};function r(e){if("string"!==typeof e||!i[e.toUpperCase()])throw new Error("Invalid device type");t.deviceType=e}function o(){var n=t.deviceType;if(n===i.AUTO){if(e.utils.msPointer&&(0===window.navigator.msMaxTouchPoints||0===window.navigator.maxTouchPoints))return true;if(e.utils.msPointer&&(window.navigator.msMaxTouchPoints>0||window.navigator.maxTouchPoints>0))return false;return!e.utils.touch}return n===i.DESKTOP}function a(n){var r=t.deviceType;if(r===i.AUTO)return e.utils.isMouse(n);return r===i.DESKTOP}function s(){return n}return{setDeviceType:r,treatAsDesktop:o,isMouse:a,getMouseWheelEventName:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(102),n(162),n(1062),n(599),n(603),n(327),n(49),n(261),n(193)],r=function(e,t,n,i,r,o,a,s){var l="sense";var u=null;var c=[];var d={};var f={};var p=true;var h={};var v=new r({providers:{default:true,qrs:!s.getFlag("DISABLE_ONPREM_THEMES"),rls:s.getFlag("CLOUD_THEMES")}});function m(){c.forEach(function(e){e.node.parentNode.removeChild(e.node);o.toggleCssClass(e.cssClass,false)});c=[]}t.create(h,"ThemeChanged");h.getCurrentTheme=function(){return u||l};h.applyTheme=function(t){var n=new e;t===u&&n.resolve(true);v.getRawJson(t).then(function(e){var r=o.parseTheme(e,i,true);u&&m();v.getThemePath(t).then(function(e){v.getResourceUrlParams(t).then(function(i){c=o.injectExtraStyleNodes(r,e,i);d=r;u=t;Object.keys(f).forEach(function(e){f[e].setTheme(u,d)});y();h.ThemeChanged.emit();n.resolve(true)})})}).catch(function(){n.resolve(false)});return n.promise};h.getThemeJSON=function(t){var n=new e;v.getRawJson(t).then(function(e){n.resolve(o.parseTheme(e,i,true))}).catch(function(e){n.reject(e)});return n.promise};h.saveTheme=function(e){n.setProperties({theme:e||h.getCurrentTheme()})};h.isValidTheme=function(t){return v.getType(t).then(function(){return e.resolve(true)}).catch(function(){return e.resolve(false)})};h.getAvailableThemes=function(){return v.getAvailableThemes()};h.getCustomThemesPage=function(e){return v.getCustomThemesPage(e)};h.getPagesTotal=function(){return v.getPagesTotal()};Object.defineProperty(h,"currentPalette",{iterable:false,get:function e(){var t;t=d.palettes&&d.palettes.ui&&d.palettes.ui[0]?d.palettes.ui[0].colors:i.palettes.ui[0].colors;"none"!==t[0]&&t.unshift("none");return t}});Object.defineProperty(h,"smallPalette",{iterable:false,get:function e(){return g}});Object.defineProperty(h,"firstPalette",{iterable:false,get:function e(){return d.palettes&&d.palettes.ui&&d.palettes.ui[0]?d.palettes.ui[0]:i.palettes.ui[0]}});Object.defineProperty(h,"themePalettes",{iterable:false,get:function e(){var t=[],n;for(var r=0;r<d.palettes.ui.length;r++)if(d.palettes&&d.palettes.ui&&d.palettes.ui[r]){n=d.palettes.ui[r];t.push(n)}else{n=i.palettes.ui[0];t.push(n)}return t}});Object.defineProperty(h,"deprecatedPalette",{iterable:false,get:function e(){return g}});Object.defineProperty(h,"scales",{iterable:false,get:function e(){return d.scales||i.scales}});Object.defineProperty(h,"dataPalettes",{iterable:false,get:function e(){return d.palettes&&d.palettes.data||i.palettes.data}});Object.defineProperty(h,"dataColors",{iterable:false,get:function e(){return d.dataColors||i.dataColors}});h.initializeService=function(e){f[e]||(f[e]=new a(e,u,d));return f[e]};h.getMatch=function(e){var t,n={linechart:"lineChart",barchart:"barChart",scatterplot:"scatterPlot",piechart:"pieChart",straightable:"straightTable",pivottable:"pivotTable",table:"straightTable","pivot-table":"pivotTable",listbox:"listBox",referenceline:"referenceLine",datacolors:"dataColors","text-image":"textImage",boxplot:"boxPlot",map:"mapChart",mapchart:"mapChart"};t=n[e.toLowerCase()]?n[e.toLowerCase()]:e;return t};var g=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"];var b=["none","#ffffff","#46c646","#276e27","#b6d7ea","#7db8da","#4477aa","#8e477d","#ffcf02","#f8981d","#f93f17","#633d0c","#b0afae","#7b7a78","#545352","#000000"];function y(){var e=h.currentPalette;var t=true;e.forEach(function(e,n){b[n]&&b[n].toLowerCase()===e.toLowerCase()||(t=false)});p=t}h.resolveColor=function(e,t){t=t||h.currentPalette;if("undefined"!==typeof e&&null!==e){if(void 0!==e.index&&-1!==e.index&&t[e.index])return t[e.index];if(void 0!==e.color)return e.color?e.color:"none";if(p&&g[e])return g[e];if(t[e])return t[e];return e||"none"}return"none"};h.mapIndex=function(e,t,n){n=n||h.currentPalette;var i=t?n:g,r=t?g:n;e=r.indexOf(i[e]);return-1!==e?e:t?3:6};h.getPaletteScale=function(e,t){var n=this.dataPalettes;var i;n.some(function(t){if(t.propertyValue.toLowerCase()===e.toLowerCase()){i=t;return true}return false});i||(i=n[0]);if("pyramid"===i.type){t=t||i.scale.length;var r=Math.max(Math.min(i.scale.length-1,t-1)%i.scale.length,0);return i.scale[r]}return i.scale};h.hasCardLayout=function(){return!!d._cards};u=l;d=o.parseTheme(i,i,true);return h}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(90)],r=function(e){function t(e){return"object"===o(e.items)&&"array"!==e.type&&("items"===e.type||"items"===e.component||"expandable-items"===e.component||"accordion"===e.component||!e.type&&!e.component)}function n(e,t,n){if("string"!==typeof t)return t;switch(e){case"integer":t=parseInt(t,10);Number.isNaN(+t)&&(t=n);break;case"number":t=parseFloat(t);Number.isNaN(+t)&&(t=n);break;case"boolean":t="true"===t;break}return t}function i(e,t){if("function"===typeof t.defaultValue)return t.defaultValue();if("undefined"!==typeof t.defaultValue)return t.defaultValue;if(Array.isArray(t.options))return t.options[0].value;switch(e){case"array":return[];case"string":return"";case"integer":return 0;case"number":return 0;case"boolean":return false;default:return null}}function r(n){var r={};function o(n){var a,s,l;if(n.schemaIgnore)return;if(t(n)){a=Object.keys(n.items);for(l=0;l<a.length;l++){s=n.items[a[l]];s&&o(s)}}else n.ref&&!n.schemaIgnore&&e.setValue(r,n.ref,i(n.type,n))}if("array"===n.type&&n.items){r={};o({type:"items",items:n.items})}else o(n);return r}function a(e,t){return"undefined"!==typeof t.undefinedValue?t.undefinedValue:i(e,t)}return{getValue:e.getValue,setValue:e.setValue,getTypeValue:n,getDefaultValue:i,getDefaults:r,isHierarchical:t,getUndefinedValue:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=[];var t=false;var n=false,i,r;i=function i(r,o){if(true!==n)throw new Error("This class can't be instantiated directly.");this.observers=[];this.receiver=r;Object.defineProperty(this,"name",{get:function e(){return o}});t&&e.push(this)};i.prototype.bind=function e(t){if("function"!==typeof t)throw new Error("Observer must be a function.");if(t===i.prototype.emit)throw new Error("Observer cannot be proxied this way. Use a wrapper function.");this.observers.push(t)};i.prototype.once=function e(t){var n=this;function i(){n.unbind(i);t.apply(n.receiver,arguments)}i.onceObserver=t;n.bind(i)};i.prototype.unbind=function e(t){var n;n=this.observers.reduce(function(e,n,i){if(-1!==e)return e;if(n===t||n.onceObserver===t)return i;return-1},-1);-1!==n&&this.observers.splice(n,1)};i.prototype.emit=function e(){var t=this.receiver,n=Array.prototype.slice.call(arguments),i=this.observers.slice();i.forEach(function(e){e.apply(t,n)})};i.prototype.release=function(){var e=this.receiver;delete e[this.name];Object.keys(r.prototype).forEach(function(t){delete e[t]});this.receiver=null;this.observers=null};i.create=function e(t,r){if(!t)throw new Error("Not a valid receiver.");if("string"!==typeof r)throw new Error("Nofification name not optional.");if(!/^([A-Z][a-z]+)+$/.test(r))throw new Error("The notification name must be PascalCased.");if(r in t)throw new Error("A property named '"+r+"' is already present on the receiver.");n=true;t[r]=new i(t,r);n=false;return t[r]};i.mixin=function(e){if(!e)throw new Error("Not a valid receiver.");Object.keys(r.prototype).forEach(function(t){if(t in e)throw new Error("A property named '"+t+"' is already present on the receiver.");e[t]=r.prototype[t]})};i.release=function(e){Object.keys(e).forEach(function(t){var n=e[t];n instanceof i&&n.release()})};r={prototype:{notification:function e(t){return i.create(this,t)}}};false;return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(2),n(94),n(991),n(49),n(14),n(90),n(378)],r=function e(t,n,i,r,o,a,s){var l="de-senseclient-usagemetrics";var u=30;var c=o.getProductInfoSync();var d;var f;function p(e){return{productName:a.getValue(e,"composition.productName"),productId:a.getValue(e,"composition.senseId"),deploymentEnv:a.getValue(e,"composition.deploymentEnvironment")}}var e={_qm:null,_eventQueue:[],_enabled:true,init:function n(i,o,l){f=l;if(!r.getFlag("CLIENT_METRICS")||this._qm){this._enabled=!!r.getFlag("CLIENT_METRICS");return}if(r.getFlag("HAS_QRS")){var u=a.getRandomString(16);var p=(a.basePath||"/")+"qrs/datacollection/settings?";p+="xrfKey="+u;t.request({url:p,method:"GET",headers:{"Content-Type":"application/json","X-Qlik-XrfKey":u}}).then(function(t){if(false===a.getValue(t,"data.optIn",null)){e._enabled=false;return}h()}).catch(h)}else h();function h(){i.getAuthenticatedUser().then(function(t){var n="no-id";if("string"===typeof t&&t.toLowerCase().indexOf("userdirectory")>-1&&t.toLowerCase().indexOf("userid")>-1){var i=t.split(";").map(function(e){return e.split("=")}).reduce(function(e,t){return e.concat([t[1].trim()])},[]);var r=i[0]?i[0]:void 0;var o=i[1]?i[1]:void 0;var a=void 0!==r&&void 0!==o&&"none"===r.toLowerCase()&&0===o.toLowerCase().indexOf("anonymous");n=a?"anonymous_"+(1234567890*Math.random()).toString(32):r+"_"+o;n=s(n)}e._initQlikMetrics(n);e._processEventsInQueue()})}d=!o?this.customEvents.SENSE_CLIENT:o;var v={components:c.components,composition:c.composition};f&&(v.appInfo={isRtl:!!f.isRtl||false,theme:f.theme||"sense",published:!!f.published});this.trackEvent(this.customEvents.CLIENT_LOADED,v)},_initQlikMetrics:function t(n){e._qm=new i({apiKey:"Kt1Hy2dvEOa39mRMvSQLRaEOk7E6l28M229QmWt2",integrationId:l,productInfo:p(c)});e._qm.setPropOnEvents("userId",n);e._qm.setPropOnEvents("version","6.105.4");e._qm.start()},_processEventsInQueue:function e(){var t;while(this._eventQueue.length>0){t=this._eventQueue.shift();this._sendEvent(t.eventName,t.details)}},_sendEvent:function t(i,r){var o={currentState:n.state,currentView:n.view,details:r,appId:f?f.appId:""};e._qm.trackEvent(i,o,d)},trackEvent:function t(n,i){if(!this._enabled)return;e._qm?this._sendEvent(n,i):this._eventQueue.length<u&&this._eventQueue.push({eventName:n,details:i})},customEvents:{CLIENT_LOADED:"client_loaded",SENSE_CLIENT:"sense-client",CLIENT_VIEW_LOADED:"client_view_loaded",CLIENT_STATE_LOADED:"client_state_loaded",DATA_LOAD_CLICK:"data_load_click",DATA_LOAD_EDITOR:"data_load_editor",DATA_LOAD_ELAPSED_TIME:"data_load_elapsed_time",DATA_MANAGER_LOAD:"data_manager_load",TABLE_VIEW_CLICK:"table_view_click",BUBBLE_VIEW_CLICK:"bubble_view_click",LOAD_DATA_CLICK:"load_data_click",REFRESH_DATA_FROM_SOURCE:"refresh_data_from_source",ADD_DATA_BY_CONNECTOR:"add_data_by_connector",ADD_DATA_BY_CONNECTOR_SCRIPT_EDITOR:"add_Data_by_connector_script_editor",FOLDER_CLICK:"folder_click",CONNECTOR_CLICKED:"connector_clicked",PAGE_RENDER_ERROR:"page_render_error",VIEW_LOAD_ERROR:"view_load_error",VIEW_RENDER_ERROR:"view_render_error",EXTENSION_LOAD_ERROR:"extension_load_error",INSIGHTS_CLICKED:"insights_clicked",INSIGHTS_SEARCH:"insights_search",INSIGHTS_ADD_CHART:"insights_add_chart",INSIGHTS_EXPORT:"insights_export",INSIGHTS_FIELD_PICKER:"insights_field_picker",INSIGHTS_TYPED_QUERY:"insights_typed_query",INSIGHTS_FLIP_TO_TABLE:"insights_flip_to_table",GLOBAL_SELECTIONS_CLICKED:"global_selections_clicked",EXPLORE_SELECTIONS_OPENED:"explore_selections_opened",ASSOCIATIVE_INSIGHTS_GENERATED:"associative_insights_generated",NEW_SELECTION_MADE:"new_selection_made",NEW_MEASURE_CHOSEN:"new_measure_chosen",ASSOCIATIVE_INSIGHTS_CARD_CLICKED:"associative_insights_card_clicked",SELECT_POSSIBLE_CLICKED:"select_possible_clicked",SELECT_EXCLUDED_CLICKED:"select_excluded_clicked",INSIGHTS_CONFIDENCE_INDICATOR_CLICKED:"confidence_indicator_clicked",INSIGHTS_HIDE_CHART_CLICKED:"hide_chart_clicked",INSIGHTS_HELP_US_LEARN_CLICKED:"insights_help_us_learn_clicked",INSIGHTS_NOT_A_DIMENSION_CLICKED:"insights_not_a_dimension_clicked",INSIGHTS_NOT_A_MEASURE_CLICKED:"insights_not_a_measure_clicked",INSIGHTS_NEVER_PROPOSE_FIELD_CLICKED:"insights_never_propose_field_clicked",INSIGHTS_NEVER_PROPOSE_LIB_CLICKED:"insights_never_propose_lib_clicked",INSIGHTS_PROPOSE_FIELD_AGAIN_CLICKED:"insights_propose_field_again_clicked",INSIGHTS_LIGHT_EDITING_DRAG_AND_DROP:"insights_light_editing_drag_and_drop",INSIGHTS_LIGHT_EDITING_AGGREGATION_CHANGE:"insights_light_editing_aggregation_change",INSIGHTS_LIGHT_EDITING_FIELD_CHANGE:"insights_light_editing_field_change",INSIGHTS_REFRESH_CLICKED:"insights_refresh_clicked",INSIGHTS_LEARN_CLICKED:"insights_learn_clicked",STU_SET_NULLS_CLICK:"stu_set_nulls_click",STU_REPLACE_CLICK:"stu_replace_click",STU_REORDER_CLICK:"stu_reorder_click",STU_SPLIT_CLICK:"stu_split_click",STU_BUCKETING_CLICK:"stu_bucketing_click",GETTING_STARTED_QUICK_DATA_LOAD:"getting_started_quick_data_load",GETTING_STARTED_DATA_LOAD_EDITOR:"getting_started_data_load_editor",DATA_MANAGER_TABLES_COUNT:"data_manager_tables_count",DATA_MANAGER_TIME_SPENT:"data_manager_time_spent",APPLY_UNPIVOT:"apply_unpivot",ADD_CALCULATED_FIELD:"add_calculated_field",CONCATENATE_TABLES:"concatenate_tables",DATA_MODEL_VIEWER:"data_model_viewer",DATA_MODEL_VIEWER_LOAD:"data_model_viewer_load",DATA_LOAD_WITHOUT_TRANSFORMATION:"data_load_without_transformation",CHART_CREATED:"chart_created",CHART_DELETED:"chart_deleted",SHEET_RENDERED:"sheet_rendered",EXTENSION_PAINT_ERROR:"extension_paint_error",DOWNLOAD_DIALOG_OPEN:"download_dialog_open",DOWNLOAD_CONFIRMED:"download_confirmed",CONTAINER_RENDERED:"container_rendered",CONTAINER_ADD_CHART:"container_add_chart",CONTAINER_REMOVE_CHART:"container_remove_chart",CONTAINER_SET_ACTIVE:"container_set_active"}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(226)],r=function(e){function t(e,t,n,i){0===arguments.length?this.set(0,0,0,0):this.set(e,t,n,i)}t.prototype={toString:function e(){return this.x+" "+this.y+" "+this.width+" "+this.height},clone:function e(){return new t(this.x,this.y,this.width,this.height)},set:function e(t,n,i,r){if(i>=0){this.x=t;this.width=i}else{this.x=t+i;this.width=-i}if(r>=0){this.y=n;this.height=r}else{this.y=n+r;this.height=-r}},setLTRB:function e(t,n,i,r){if(t<=i){this.x=t;this.width=i-t}else{this.x=i;this.width=t-i}if(n<=r){this.y=n;this.height=r-n}else{this.y=r;this.height=n-r}},equal:function e(t){return t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},combineWith:function e(n){var i,r,o,a,s=Math.max(n.getRight(),this.getRight()),l=Math.max(n.getBottom(),this.getBottom());i=Math.min(n.x,this.x);r=Math.min(n.y,this.y);o=Math.max(0,s-i);a=Math.max(0,l-r);return new t(i,r,o,a)},intersectsWith:function e(t){if(!t)return false;if(this.x<=t.getRight()&&t.x<=this.getRight()&&this.y<=t.getBottom()&&t.y<=this.getBottom())return true;return false},intersectsRect:function e(t){return this.intersectsWith(t)},intersection:function e(n,i){var r,o,a,s;if(this.intersectsWith(n)){r=Math.max(this.x,n.x);o=Math.max(this.y,n.y);a=Math.min(this.getRight(),n.getRight());s=Math.min(this.getBottom(),n.getBottom());return new t(r,o,a-r,s-o)}return i?null:new t(this.x,this.y,this.width,this.height)},union:function e(n){var i,r,o,a;i=Math.min(this.x,n.x);r=Math.min(this.y,n.y);o=Math.max(this.getRight(),n.getRight());a=Math.max(this.getBottom(),n.getBottom());return new t(i,r,o-i,a-r)},pointInside:function e(t,n){return t>=this.x&&t<=this.getRight()&&n>=this.y&&n<=this.getBottom()},rectInside:function e(t){var n=t.getPoints(),i;for(i=0;i<4;i++)if(!this.pointInside(n[i].x,n[i].y))return false;return true},intersectsLine:function t(n){var i=this.getRight(),r=this.getBottom();if(this.pointInside(n.x1,n.y1)||this.pointInside(n.x2,n.y2))return true;if(n.intersectsLine(new e(this.x,this.y,i,this.y))||n.intersectsLine(new e(i,this.y,i,r))||n.intersectsLine(new e(i,r,this.x,r))||n.intersectsLine(new e(this.x,r,this.x,this.y)))return true;return false},getPoints:function e(){var t=[];t.push({x:this.x,y:this.y});t.push({x:this.getRight(),y:this.y});t.push({x:this.getRight(),y:this.getBottom()});t.push({x:this.x,y:this.getBottom()});return t},getRight:function e(){return this.x+this.width},getBottom:function e(){return this.y+this.height},getCenterPoint:function e(){return{x:this.x+this.width/2,y:this.y+this.height/2}},getBoundingRect:function e(){return this},scale:function e(t){var n=t-1,i=n*this.width/2,r=n*this.height/2;this.x-=i;this.y-=r;this.width*=t;this.height*=t},hasNaN:function e(){return Number.isNaN(+this.x)||Number.isNaN(+this.y)||Number.isNaN(+this.width)||Number.isNaN(+this.height)}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={Precedents:{PrecedentTypes:{Like:"like",Dislike:"dislike"}},Visualization:{ChartTypes:{Custom:"custom",Kpi:"kpi",Gauge:"gauge",BarChart:"barchart",ValueRange:"ValueRange",Table:"table",Mapping:"Mapping"},CustomVisualizations:{CountFact:"countFact",Ordinal:"Ordinal",NullFacts:"nullFacts",RangeFacts:"rangeFacts",UniValueFrequency:"uniValueFrequency",DTypeFacts:"dTypeFacts",ValueFrequency:"valueFrequency",TemporalFacts:"temporalFacts",MixedTypeValues:"mixedTypeValues"},Actions:{Bucketing:"bucket",Ordinal:"ordinal",SplitValuesDef:"splitValuesDef",SplitValues:"splitValues",SplitEmail:"splitEmail",SplitAddress:"splitAddress",SplitField:"splitField",MapValues:"mapValues",MixedTypeValues:"mixedTypeValues",RenameMapping:"rename",MapNulls:"mapNulls",MappingLimit:99,SplitLimit:9},Size:{Auto:"auto",Small:"small",Medium:"medium",Large:"large"},Layout:{Cellspan:{Small:1,Medium:2,Large:3}},ValueRangeDisplayModes:{Text:"text",RangeLine:"rangeLine"}},Events:{Associations:{ApplyRecommendation:"ApplyRecommendation",ToggleAssociationsRecommendationsPanel:"ToggleAssociationsRecommendationsPanel",UpdateAssociationsRecommendationsToolbarButtonState:"UpdateAssociationsRecommendationsToolbarButtonState"},TablePreview:{UpdateTablePreview:"UpdateTablePreview"},SplitAction:{Reset:"SpitActionReset",Validate:"SpitActionValidate",LoadComplete:"CardLoadComplete"},EditorDetailsPane:{CardsResize:"cardsResize",ResizeChart:"resizeChart",BucketingChange:"bucketingChange",BucketingReset:"bucketingReset",OrderingChange:"orderingChange",FieldCreated:"fieldCreated",MappingCreated:"MappingCreated",MappingReset:"MappingReset",DisableMappingActionButtons:"DisableMappingActionButtons"},PubSub:{ForceReloadComplete:"/datamanager/forcereloadcomplete",StartSpinInvalidation:"/spin/start/invalidation",StopSpinInvalidation:"/spin/stop/invalidation",StartSpin:"/spin/start",StopSpin:"/spin/stop",ConnectionDeleted:"/connection/deleted",ConnectionCreated:"/connection/created",AppDetailsViewChange:"/datamanager/appdetailsviewchange",ExpandSmartSearchSuggestedChart:"expandSmartSearchSuggestedChart",RestoreSearchState:"restoreSearchState"}},KeyCodes:{Enter:13,Esc:27,Up:38,Down:40,Tab:9,SpaceBar:32,Delete:8},AddData:{Folder:"folder",InlineData:"inlinedata"},Tags:{Hidden:"$hidden"},JoinTables:{joinTypes:{join:"Join",innerJoin:"Inner Join",outerJoin:"Outer Join",leftJoin:"Left Join",rightJoin:"Right Join"}},Toolbar:{height:42}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=null;function t(e,t,n,i){t=t||"model";var r=function i(){var r=this;var o=this.getLayout();e.__layoutRPCId=o.rpcId;o.then(function(i){var o=e.$eval(t);if(o!==r)return;n&&n(i)}).catch(function(){})},o,a,s;function l(){var n=e.$eval(t);n&&n.Invalidated&&n.Invalidated.unbind(o)}s=e.$on("$destroy",function(){l()});a=e.$watch(t,function(e,t){t&&t!==e&&t.Invalidated&&t.Invalidated.unbind(o);if(e&&(!e.isClosing||!e.isClosed)){i&&i(e);e.getLayout().then(n);o=r.bind(e);e.Invalidated.bind(o)}});return function(){l();a();s();n&&(n=null);i&&(i=null)}}function n(){return(e||t).apply(this,arguments)}n.mock=function(t){e=t};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};Object.defineProperties(e,{name:{value:255,writable:false},url:{value:2e3,writable:false},description:{value:512,writable:false},expression:{value:64e3,writable:false},script:{value:5e4,writable:false},textImage:{value:12e3,writable:false}});return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(49)],r=function(e,t){var n={};var i=null;n.setup=function(){var r=t.getFlag("IS_DESKTOPCLIENT");if(!i){i=new e;n.sessionPromise=i.promise;i.resolve({isPersonalMode:r})}return i.promise};n.inClient=function(){return document.body.classList.contains("qv-client")&&!document.body.classList.contains("qw")};n.isPersonalModeSync=function(){var e=t.getFlag("IS_DESKTOPCLIENT");false;return e};n.isPersonalMode=function(){return Promise.resolve(n.isPersonalModeSync())};n.isDesktop=n.isPersonalMode;n.isCloud=function(){false;return Promise.resolve(false)};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(605)],r=function(e,t){var n=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i,i=/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d(\.\d+)?)\)$/i,r=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i,o=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i,a=/^hsl\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i,s=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i,l=Math.floor,u=Math.round,c;c=e.extend({init:function e(){var n=0,i=0,r=0,o=1,a,s,d,f,p,h,v,m,g,b,y,x;this._invalid=false;if(arguments[0]instanceof c){n=arguments[0]._r;i=arguments[0]._g;r=arguments[0]._b;o=arguments[0]._a;this._invalid=arguments[0]._invalid}else if(arguments.length<3)if("string"===typeof arguments[0]){x=arguments[0];if(y=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(x)){n=parseInt(y[1],10);i=parseInt(y[2],10);r=parseInt(y[3],10)}else if(y=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d+)?)\s*\)$/i.exec(x)){n=parseInt(y[1],10);i=parseInt(y[2],10);r=parseInt(y[3],10);o=parseFloat(y[4])}else if(y=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(x)){n=parseInt(y[1],16);i=parseInt(y[2],16);r=parseInt(y[3],16);o=1}else if(y=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i.exec(x)){n=parseInt(y[1]+y[1],16);i=parseInt(y[2]+y[2],16);r=parseInt(y[3]+y[3],16);o=1}else if(y=/^hsl\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i.exec(x)){a=parseFloat(y[1]);s=parseFloat(y[3]);f=parseFloat(y[5]);a%=360;s/=100;f/=100;a=a<0?0:a>360?360:a;s=s<0?0:s>1?1:s;f=f<0?0:f>1?1:f;h=f<=.5?2*f*s:(2-2*f)*s;v=a/60;m=h*(1-Math.abs(v%2-1));g=[];v=Math.floor(v);switch(v){case 0:g=[h,m,0];break;case 1:g=[m,h,0];break;case 2:g=[0,h,m];break;case 3:g=[0,m,h];break;case 4:g=[m,0,h];break;case 5:g=[h,0,m];break;default:g=[0,0,0]}b=f-.5*h;n=g[0]+b;i=g[1]+b;r=g[2]+b;n=u(255*n);i=u(255*i);r=u(255*r);o=1}else if(y=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i.exec(x)){a=parseFloat(y[1]);s=parseFloat(y[3]);f=parseFloat(y[5]);o=parseFloat(y[7]);a%=360;s/=100;f/=100;a=a<0?0:a>360?360:a;s=s<0?0:s>1?1:s;f=f<0?0:f>1?1:f;h=f<=.5?2*f*s:(2-2*f)*s;v=a/60;m=h*(1-Math.abs(v%2-1));g=[];v=Math.floor(v);switch(v){case 0:g=[h,m,0];break;case 1:g=[m,h,0];break;case 2:g=[0,h,m];break;case 3:g=[0,m,h];break;case 4:g=[m,0,h];break;case 5:g=[h,0,m];break;default:g=[0,0,0]}b=f-.5*h;n=g[0]+b;i=g[1]+b;r=g[2]+b;n=u(255*n);i=u(255*i);r=u(255*r)}else if(y=/^hsv\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i.exec(x)){a=parseFloat(y[1]);s=parseFloat(y[3]);p=parseFloat(y[5]);a%=360;s/=100;p/=100;a=a<0?0:a>360?360:a;s=s<0?0:s>1?1:s;p=p<0?0:p>1?1:p;h=p*s;v=a/60;m=h*(1-Math.abs(v%2-1));g=[];v=Math.floor(v);switch(v){case 0:g=[h,m,0];break;case 1:g=[m,h,0];break;case 2:g=[0,h,m];break;case 3:g=[0,m,h];break;case 4:g=[m,0,h];break;case 5:g=[h,0,m];break;default:g=[0,0,0]}b=p-h;n=g[0]+b;i=g[1]+b;r=g[2]+b;n=u(255*n);i=u(255*i);r=u(255*r);o=1}else if(t[x.toLowerCase()]){d=x.toLowerCase();n=t[d].r;i=t[d].g;r=t[d].b;o="number"===typeof t[d].a?t[d].a:1}else this._invalid=true}else if("number"===typeof arguments[0]&&arguments[0]>=0&&"argb"===arguments[1]){o=(4278190080&arguments[0])>>>24;o/=255;n=(16711680&arguments[0])>>16;i=(65280&arguments[0])>>8;r=255&arguments[0]}else if("number"===typeof arguments[0]&&arguments[0]>=0){n=(16711680&arguments[0])>>16;i=(65280&arguments[0])>>8;r=255&arguments[0]}else this._invalid=true;else if(arguments.length>=3){n=arguments[0];i=arguments[1];r=arguments[2];o=arguments.length>=4?arguments[3]:1}else this._invalid=true;Number.isNaN(+n+i+r+o)&&(this._invalid=true);this._r=l(n);this._g=l(i);this._b=l(r);this._a=o;this._spaces={}},isInvalid:function e(){return this._invalid},setAlpha:function e(t){this._a=t;this._spaces={}},getAlpha:function e(){return this._a},toRGB:function e(){this._spaces.rgb||(this._spaces.rgb=c.toRGB(this));return this._spaces.rgb},toRGBA:function e(){this._spaces.rgba||(this._spaces.rgba=c.toRGBA(this));return this._spaces.rgba},toString:function e(){this._spaces.rgb||(this._spaces.rgb=c.toRGB(this));return this._spaces.rgb},toHex:function e(){this._spaces.hex||(this._spaces.hex=c.toHex(this));return this._spaces.hex},toHSL:function e(t){this._spaces.hsl||(this._spaces.hsl=c.toHSL(this,t));return this._spaces.hsl},toHSLA:function e(t){this._spaces.hsla||(this._spaces.hsla=c.toHSLA(this,t));return this._spaces.hsla},toHSV:function e(){var t=this.toHSVComponents();return"hsv("+t.h+","+t.s+","+t.v+")"},toHSVComponents:function e(){this._spaces.hsvComp||(this._spaces.hsvComp=c.toHSVComponents(this));return this._spaces.hsvComp},toNumber:function e(){this._spaces.num||(this._spaces.num=c.toNumber(this));return this._spaces.num},isDark:function e(){return this.isInvalid()||this.getLuminance()<125},getLuminance:function e(){"undefined"===typeof this._lumi&&(this._lumi=.299*this._r+.587*this._g+.114*this._b);return this._lumi},shiftLuminance:function e(t){var n,i,r,o,a,s=this.toHSLA();a=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i.exec(s);n=parseFloat(a[1]);i=parseFloat(a[3]);r=parseFloat(a[5]);o=parseFloat(a[7]);r+=t;r=Math.max(0,Math.min(r,100));return"hsla("+n+","+i+","+r+","+o+")"},isEqual:function e(t){if(t instanceof c)return this._r===t._r&&this._g===t._g&&this._b===t._b;t=new c(t);return this._r===t._r&&this._g===t._g&&this._b===t._b},blend:function e(t,n){var i=l(this._r+(t._r-this._r)*n),r=l(this._g+(t._g-this._g)*n),o=l(this._b+(t._b-this._b)*n),a=l(this._a+(t._a-this._a)*n);return"rgba("+[i,r,o,a].join(",")+")"},createShiftedColor:function e(t){(void 0===t||Number.isNaN(+t))&&(t=1);var n=this.getLuminance(),i=this._g<126?1:1+this._g/512,r=this.shiftLuminance(20*(n*i<220?.8+1/(n+1)*4:-(.8+n/255*1))*t);return new c(r)}});c.toRGB=function e(t){if(t instanceof c)return"rgb("+[t._r,t._g,t._b].join(",")+")";"string"===typeof t&&(t=c.toNumber(t));var n=(16711680&t)>>16,i=(65280&t)>>8,r=255&t;return"rgb("+n+","+i+","+r+")"};c.toRGBA=function e(t,n){if(t instanceof c)return"rgba("+[t._r,t._g,t._b,"undefined"!==typeof n?n:t._a].join(",")+")";"string"===typeof t&&(t=c.toNumber(t));var i=(16711680&t)>>16,r=(65280&t)>>8,o=255&t;return"rgba("+i+","+r+","+o+","+("undefined"!==typeof n?n:t._a)+")"};c.toHex=function e(t){var n,i,r;if(t instanceof c){n=t._r.toString(16);i=t._g.toString(16);r=t._b.toString(16);1===n.length&&(n="0"+n);1===i.length&&(i="0"+i);1===r.length&&(r="0"+r);return"#"+[n,i,r].join("")}"string"===typeof t&&(t=c.toNumber(t));n=((16711680&t)>>16).toString(16);i=((65280&t)>>8).toString(16);r=(255&t).toString(16);1===n.length&&(n="0"+n);1===i.length&&(i="0"+i);1===r.length&&(r="0"+r);return"#"+n+i+r};c.toHSL=function(e,t){var n,i,r,o=0,a,s,l,u,d;"string"===typeof e&&(e=new c(e));n=e._r/255;i=e._g/255;r=e._b/255;l=Math.max(n,i,r);u=Math.min(n,i,r);s=t?.21*n+.72*i+.07*r:(l+u)/2;if(l===u){a=0;o=0}else{d=l-u;a=s>.5?d/(2-l-u):d/(l+u);switch(l){case n:o=(i-r)/d+(i<r?6:0);break;case i:o=(r-n)/d+2;break;case r:o=(n-i)/d+4;break}o/=6}return"hsl("+360*o+","+100*a+","+100*s+")"};c.toHSLA=function(e,t){var n,i,r,o,a=0,s,l,u,d,f;"string"===typeof e&&(e=new c(e));n=e._r/255;i=e._g/255;r=e._b/255;o=e._a;u=Math.max(n,i,r);d=Math.min(n,i,r);l=t?.21*n+.72*i+.07*r:(u+d)/2;if(u===d){s=0;a=0}else{f=u-d;s=l>.5?f/(2-u-d):f/(u+d);switch(u){case n:a=(i-r)/f+(i<r?6:0);break;case i:a=(r-n)/f+2;break;case r:a=(n-i)/f+4;break}a/=6}return"hsla("+360*a+","+100*s+","+100*l+","+o+")"};c.toHSVComponents=function(e){var t,n,i,r=0,o,a,s,l,u;"string"===typeof e&&(e=new c(e));t=e._r/255;n=e._g/255;i=e._b/255;s=Math.max(t,n,i);l=Math.min(t,n,i);a=s;if(s===l){o=0;r=0}else{u=s-l;o=0===u?0:u/a;switch(s){case t:r=(n-i)/u+(n<i?6:0);break;case n:r=(i-t)/u+2;break;case i:r=(t-n)/u+4;break}r/=6}return{h:360*r%360,s:100*o,v:100*a}};c.toNumber=function e(){if(1===arguments.length&&arguments[0]instanceof c)return(arguments[0]._r<<16)+(arguments[0]._g<<8)+arguments[0]._b;var t=0,n=0,i=0,r,o;if(1===arguments.length&&"string"===typeof arguments[0]){o=arguments[0];if(r=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i.exec(o)){t=parseInt(r[1],10);n=parseInt(r[2],10);i=parseInt(r[3],10)}else if(r=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(o)){t=parseInt(r[1],16);n=parseInt(r[2],16);i=parseInt(r[3],16)}else if(r=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i.exec(o)){t=parseInt(r[1]+r[1],16);n=parseInt(r[2]+r[2],16);i=parseInt(r[3]+r[3],16)}}return(t<<16)+(n<<8)+i};c.blend=function e(t,n,i){t=c.toNumber(t);n=c.toNumber(n);var r=(16711680&t)>>16,o=(65280&t)>>8,a=255&t,s=(16711680&n)>>16,l=(65280&n)>>8,u=255&n,d=r+(s-r)*i,f=o+(l-o)*i,p=a+(u-a)*i;return(d<<16)+(f<<8)+p};c.getBlend=function e(t,n,i){var r=t._r+(n._r-t._r)*i,o=t._g+(n._g-t._g)*i,a=t._b+(n._b-t._b)*i,s=t._a+(n._a-t._a)*i;return new c(r,o,a,s)};c.isCSSColor=function(e){if(arguments.length>1||"string"!==typeof e)return false;return n.test(e)||i.test(e)||r.test(e)||o.test(e)||a.test(e)||s.test(e)||t[e.toLowerCase()]};c.getBestContrast=function(e,t,n){var i=e.getLuminance();return Math.abs(i-t.getLuminance())>Math.abs(i-n.getLuminance())?t:n};c.getContrast=function(e,t){if(!e||!t)return;var n=e.getLuminance()/100,i=t.getLuminance()/100;return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)};c.isDark=function(){var e={getLuminance:c.prototype.getLuminance,isInvalid:c.prototype.isInvalid};c.prototype.init.apply(e,[].slice.call(arguments));return c.prototype.isDark.call(e)};c.useDarkLabel=function(e,t){return e._a>.5?!e.isDark():!t};return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(259)],r=function(e){var t=e.enums;for(var n in t)t["Nx"+n]=t[n];return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";(function(e){var i,r;!(i=[n(10),n(522),n(525)],r=function(e,t,n){var i=e.module("qv.context-menu",["leonardo-ui.overlay"]);i.service("qvContextMenu",["luiOverlay","luiInlineOverlay",function(e,i){var r={},o;r.show=function(n,i){if(0===n.items.length)return;this.close();var r=i.component||t;return o=e.show(r,{menu:n,options:i})};r.showInline=function(e,n,r){if(0===e.items.length)return;var a=n.component||t;return o=i.show(a,{menu:e,options:n,container:r})};r.close=function(){if(o){o.close();o=null}};r.menu=function(){var e=new n;var t={addItem:function t(n,i){return e.addItem(n,i)}};Object.defineProperty(t,"items",{get:function t(){return e.items}});return t};return r}])}.apply(t,i),void 0!==r&&(e.exports=r))}).call(this,n(55)(e))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(90),n(95),n(94),n(131),n(91)],r=function(e,t,n,i,r,o,a){var s;function l(e,n){t.getService("qvConfirmDialog").show({message:a.get(e),icon:"cogwheel"}).closed.then(function(e){e&&n.apply()})}function u(e){if(!s)throw new TypeError("Permissions are not available yet. Make sure you have initialized this module with init().");switch(e){case"measure":return s.createMeasure;case"dimension":return s.createDimension;case"visualization":return s.createMasterobject;case"odagLink":return s.createOdagLink;default:throw new TypeError("'"+e+"' is an unknown type.")}}var c={init:function t(n,i){n&&(s=e.extend({},n,i))},getContextMenuAddToText:function e(t){var n=o.selectedObject;return t&&"odaglinks"===t?"library.addtoAppNavigation":n&&"sheetCell"===n.type?"contextMenu.addToSheet":"contextMenu.addToVisualization"},getAddToOptions:function e(){var t=o.selectedObject,n=null;if(t&&r.isInEditMode()){n={};"gridCell"===t.type?n.object=true:"sheetCell"===t.type&&(n.sheet=true)}return n},getAddToText:function e(t){var n=o.selectedObject;if(n&&r.isInEditMode())return t&&"odaglinks"===t?"library.addtoAppNavigation":"gridCell"===n.type?"library.addtoVisualization":"sheetCell"===n.type?"library.addtosheet":"";return null},addItemToSheetOrVisualization:function e(t,n){if(!this.isAddToMode())return;var r=o.selectedObject,a={item:t};n&&(a.event=n);r&&"gridCell"===r.type&&(a.cell=r.customObject);i.publish("/ui/library/addToSheet",a)},librarySearchFn:function e(t,i,r){if(!i||""===i)return true;r=r||function(e,t){return n.match([e.name],t)};return r(t,i.toLowerCase())},libraryMultiSearch:function e(t,i,r){t.match={};if(!i||""===i)return true;i=i.toLowerCase();var o=false;for(var a=0;a<r.length;++a){var s=r[a];if(n.match(t[s],i)){o=true;t.match[s]=true}}return o},itemDblClickHandler:function e(t){this.isAddToSheetMode()&&i.publish("/ui/library/addToSheet",{item:t})},removeDialog:l,editDialog:l,hasLinks:function e(t,n){return n.get(t).then(function(e){return e.getLinkedObjects().then(function(e){return 0!==e.length})})},toggleSelection:function t(n,i){var r=e(i.currentTarget);n.selected=!n.selected;if(!n.selected){r.off("qv-outside");return false}r.on("qv-outside",function(t){var i=e(t.target);if(1===i.closest("#library-preview").length||1===i.closest(".qv-contextmenu").length)return;n.selected=false;r.off("qv-outside")});return true},removeSelection:function t(n){e.each(n,function(e,t){t.selected=false})},localeOrderBy:function e(t,n){var i="pseudo"===a.language?"en-US":a.language;if(t){var r=function e(t,n){return t.localeCompare(n,i)};n&&n instanceof Function&&(r=function e(t,r){return n(t).localeCompare(n(r),i)});t.sort(r)}return t},isAddToSheetMode:function e(){return r.model&&r.isInEditMode()&&r.view===r.Views.sheet&&r.model.layout.permissions.update},isAddToVisualizationMode:function e(){return r.isInEditMode()&&(r.view===r.Views.object&&r.model.layout.permissions.update||r.view===r.Views.masterObject)},isAddToMode:function e(){return this.isAddToSheetMode()||this.isAddToVisualizationMode()},hasAppUpdatePermssion:function e(){return s.update},permissionToCreate:u,toggleTableSelect:function e(t,n){t.forEach(function(e){"assets-tab-field"===e.id&&(e.hasTableFilter=n)})}};return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(13)],r=function(e){var t={SMARTSEARCH_OBJECTS:true,SMARTSEARCH_INDEX_CLOSE:true,QDM_MULTITABLE:true,CARDS:false,SEARCH_HISTORY:true,GENERIC_SELECT_FILTER_TABLE:true,DESKTOP_AUTHENTICATION:false,BOX_MEASURE_RANGE:false,MAP_MEASURE_LABEL:false,DIST_2MES:false,ODAG_MASHUP:true,COLOR_BY_MEA:false,LIBRARY_DATA_BUTTONS:true,SHEET_NAME_EXPR:true,ST_HSCROLL:true,LIGHT_CUR_SEL:false,CAO_DEBUG:false,SCROLL_BUTTON:false,CAO_FIELD_PICKER_SYNC:false,CONTEXT_MENU:true,SPA:true,CAO_MOBILE:false,TI_IMPCP:false,PIVOT_SHOW_HIDE:true,ALT_STATE_ONE:true,CHANGE_CHART_TYPE:true,DEFAULT_BOOKMARK:true,DLE_CREATE_CONNECTION:true,DM_handle_nulls:true,DM_hide_fields:true,"ps-1245":true,"sui-3868":true,PIE_RADIUS:true,ACCESSIBLE_FILTERPANE:true,LOADING_CARD_IMAGES:true,ADVANCED_EXPRESSION_EDITOR_PART3:true,SET_EXPRESSION_CHECKBOX:true,DROP_ZONES:false,SSA_IN_EDIT:false,GEO_BACKGROUND_WMS:false,GEO_BACKGROUND_IMAGE:false,BRIGHT_THEME:true,MOBILE_GRID:false};var n=(e.getParameterByName("feature")||"").split("+");n.forEach(function(e){e&&(t[e.toUpperCase()]=true)});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(162),n(102)],r=function(e,t){var n={};var i=false;var r="ltr";var o=false;t.mixin(n);n.notification("DirectionChanged");n.init=function(t){return e.getProperties(t).then(function(e){o=true;return n.setRtl(e&&e.rtl)})};n.setRtl=function(e){if(i!==e){i=e;r=i?"rtl":"ltr";n.DirectionChanged.emit(r)}return r};Object.defineProperty(n,"isInit",{get:function e(){return o}});Object.defineProperty(n,"isRtl",{get:function e(){return i}});Object.defineProperty(n,"direction",{get:function e(){return r}});function a(e){n.setRtl(e.rtl)}e.UpdateObjProps.bind(a);return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};function t(t){return e[t]}function n(t,n){e[t]=n}function i(t){delete e[t]}return{getType:t,getRegisteredNames:function t(){return Object.keys(e)},getLibraryInfo:function t(n){return e[n]?e[n].getLibraryInfo():null},getIconName:function t(n){return e[n]?e[n].getIconName():null},getIconChar:function t(n){return e[n]?e[n].getIconChar():null},getIconPath:function t(n){return e[n]?e[n].getIconPath():null},registerType:n,removeType:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;false;e.exports=n(1820)()},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(597),n(90)],r=function(e,t){function n(e,n){"object"===o(n)&&(n=t.extend(true,Array.isArray(n)?[]:{},n));if(e&&"qResult"!==e){var i={};i[e]=n;return i}return n}function i(e,t){var n=Object.keys(e);var i=t.In.map(function(e){return e.Name});return 0!==n.filter(function(e,t){return e===i[t]}).length}function r(e,t){var n=[];Array.isArray(t)&&1===t.length&&"object"===o(t[0])&&i(t[0],e)&&(t=t[0]);if(Array.isArray(t)||"object"!==o(t))Array.isArray(t)?n=t:n.push(t);else for(var r=0;r<e.In.length;++r)t&&void 0!==t[e.In[r].Name]?n.push(t[e.In[r].Name]):e.In[r].Optional&&void 0!==e.In[r].DefaultValue&&n.push(e.In[r].DefaultValue);return n}function a(e,t,i,o){var a=e[t];var s=1===a.Out.length?a.Out[0].Name:null;t=t.substring(0,1).toLowerCase()+t.substring(1);i[t]=function(){var e=Array.prototype.slice.call(arguments);e=r(a,e);var i=o[t].apply(o,e).then(n.bind(null,s));i.__protocolRequestId=i.requestId;return i}}var s={global:void 0,currentApp:void 0};s.bootstrap=function(t){if(!s.global){s.global={};s.global.enigmaGlobal=t.global;Object.keys(e.Global).forEach(function(n){a(e.Global,n,s.global,t.global)})}var n={};Object.keys(e.Doc).forEach(function(i){a(e.Doc,i,n,t)});return n};s.setCurrentApp=function(e){s.currentApp=e};s.getCurrentApp=function(){return s.currentApp};"undefined"!==typeof window&&(window.engineModuleGlobal=s);return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(){var e=1;var t=256;var n=166/26;var i=12;var r=11;var o=12;var a=o/r;function s(n){var i=/^[^\\/:*?"<>|\x00-\x1f]+$/;return"undefined"!==typeof n&&!d(n,"_")&&!d(n,"$$")&&i.test(n)&&n.length>=e&&n.length<=t}function l(e){return!/[\\*?"()<>|' &$Â£Â¤^/+-]+/.test(e)}function u(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e.toLowerCase())}function c(e){if(/^.*:\/\//.test(e))return e;return"http://"+e}function d(e,t){return 0===e.indexOf(t)}function f(e,t){return-1!==e.indexOf(t,e.length-t.length)}function p(e,t){t||(t="");return e.length>0?e.reduce(function(e,n){return e+t+n}):""}function h(e){var t=e.replace(/.*\[|\]/gi,""),n=t.match(/"[^=]*"|[^;]+/g);return n}function v(e,t){var n=h(e),i;if(n)for(i=0;i<n.length;i++)if(-1!==n[i].toLowerCase().indexOf(t.toLowerCase()))return n[i].split("=")[1];return""}function m(e,t){function n(){return(e+"\\"+t).replace("\\\\","\\")}function i(){if("\\\\"===e.substring(0,2))return"\\"+n()}return i()||n()}function g(e){var t=h(e),n=[],i;t&&t.forEach(function(e){i=e.split("=");i&&n.push({key:i[0],value:i.length>1?i[1]:""})});return n}function b(e){"\\"===e.charAt(0)&&(e=e.substring(1));"\\"===e.charAt(e.length-1)&&(e=e.slice(0,-1));return e}function y(e){"\\"!==e.charAt(e.length-1)&&(e+="\\");return e}function x(e){var t;if("\\\\"===e.substring(0,2)){t=b(e.substring(2)).split("\\");t.pop();return"\\\\"+p(t,"\\")}t=b(e).split("\\");t.pop();return 1===t.length?t[0]+"\\":p(t,"\\")}function w(e){return e.replace(/[0-9]+/g,function(e){var t=e.length,n=""+t,i="000",r=i.substring(0,i.length-n.length)+n;return r+""+e})}function S(e,t,n){e.sort(function(e,i){return C(e[t],i[t],n)})}function C(e,t,n){var i=w(e).toLowerCase(),r=w(t).toLowerCase();return i.localeCompare(r,n)}function E(e,t){if(!e)throw new Error("Haystack is undefined.");if(!t)throw new Error("Needle is undefined.");return-1!==e.indexOf(t)}function q(e,t,n){e+="";t+="";if(!t)return 0;var i=t.match(/^\/(.*)\/([a-z]*)$/);if(!i){if(!n){e=e.toLowerCase();t=t.toLowerCase()}var r=0,o=0;var a=t.length;var s=false;while(!s){o=e.indexOf(t,o);if(o>=0){r++;o+=a}else s=true}return r}try{var l=new RegExp(i[1],-1===i[2].indexOf("i")?"":"i");return e.split(l).length-1}catch(e){return 0}}function _(e){return e.substring(e.lastIndexOf("\\")+1,e.length)}function T(e){return e.substring(0,e.lastIndexOf("\\")+1)}function k(e){var t=e.match(/.*\\(.*)\\.*$/);t||(t=e.match(/^(.*)\\.*$/));return t?t[1]:null}function O(e){return!(!e||"false"===e)}function D(e){var t=3;return(Math.min(e,t)*i+Math.max(e-t,0)*n)/r}function A(e){if(!e)return{latin:0,cjk:0};var t=e.match(/[\u4E00-\u9FFF]/g);var n=e.match(/[\u3040-\u309F]/g);var i=e.match(/[\u30A0-\u30FF]/g);t=t?t.length:0;n=n?n.length:0;i=i?i.length:0;var r=t+n+i;return{latin:e.length-r,cjk:r}}function I(e,t){var n={latin:0,cjk:0};void 0===t?e.forEach(function(e){var t=A(e.qText);n.latin+=t.latin;n.cjk+=t.cjk}):e.forEach(function(e){var i=A(e[t].qText);n.latin+=i.latin;n.cjk+=i.cjk});var i=Math.max(1,n.latin+n.cjk);n.latinRatio=n.latin/i;n.cjkRatio=n.cjk/i;return n}function L(e,t,n){var i=I(t,n);var r=i.latinRatio*e;var o=i.cjkRatio*e;var s=Math.ceil(D(r)+o*a);return s}function P(e,t,n){var i=e<=24?t:n;return e*i}function M(e,t,n,i,r){return e*n+P(t,i,r)}return{MIN_CONNECTION_NAME_LENGTH:e,MAX_CONNECTION_NAME_LENGTH:t,isValidConnectionName:s,isValidFieldName:l,isValidUrl:u,prefixHttpToUrl:c,endsWith:f,startsWith:d,goUpOneFolderLevel:x,removeSurroundingSlashes:b,arrayToString:p,formatDirectoryPathForEngine:y,sortSlightlyMoreNaturallyArray:S,sortSlightlyMoreNaturallySingle:C,_expandNumbersForNaturalSorting:w,getValueFromConnectionString:v,tokenizeConnectionString:g,contains:E,occurrencesRE:q,combinePath:m,fileNameFromPath:_,fileDirectoryFromPath:T,lastFolderFromPath:k,bool:O,stringWidthOverMWidth:D,getCharacterRatios:A,getTotalCharacterRatios:I,getAdjustedMaxGlyphCount:L,estimateLatinLabelWidth:P,estimateLabelWidth:M}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(10),n(258),n(3),n(16),n(96),n(60),n(57),n(514),n(515),n(433),n(435),n(111),n(526),n(548),n(551),n(552),n(556),n(558)],r=function(e,t,n,i){var r,o={},a=[],s=[],l,u,c,d,f,p,h,v;o.bootstrap=function(e,n){n=n||[];n.some(function(e){return"qlik-angular"===e})||(n=n.concat(["qlik-angular"]));t.bootstrap(e,n)};o.module=t.module("qlik-angular",["ngAnimate","ngSanitize","leonardo-ui","vs-repeat","qv.dragoman","qv.directives","qv.filters","qv.locale","qv.mobile-menu","qv.alert-dialog","qv.confirm-dialog","qv.context-menu","qv.loader","qv.about-dialog"],["$provide","$compileProvider","$filterProvider","$httpProvider","$animateProvider","$sceDelegateProvider","$qProvider",function(e,t,n,r,o,a,s){d=e;f=t;p=n;var l=i.getConfig();r.defaults.withCredentials=l.withCredentials;l.csrfToken&&r.interceptors.push(function(){return{request:function e(t){t.headers["qlik-csrf-token"]=l.csrfToken;return t}}});l.clientApiKey&&r.interceptors.push(function(){return{request:function e(t){t.headers["qlik-client-api-key"]=l.clientApiKey;return t}}});s.errorOnUnhandledRejections(false);a.resourceUrlWhitelist(["self"]);o.classNameFilter(/\bqv-animate\b/i);e.value("$anchorScroll",function(){})}]).run(["$injector","$rootScope","$compile","$controller","$timeout","$q",function(e,t,n,i,d,f){l=t;u=n;c=i;h=d;v=f;r=e;o.$injector=r;o.$rootScope=l;o.isBootstrapped=true;a.forEach(function(e){o[e.name]=e.fn});s.forEach(function(e){e.fn.apply(e.fn,e.args)});a.length=0;s.length=0}]);function m(e,t){if(o.isBootstrapped)o[e]=t;else{a.push({name:e,fn:t});o[e]=function(){var e=Array.prototype.slice.call(arguments);s.push({fn:t,args:e})}}}m("directive",function(e,t){f.directive(e,t)});m("nativeComponent",function(e,t){f.component(e,t)});o.component=function(e,t){o.directive(e,function(){return{transclude:null==t.transclude||t.transclude,template:t.template,requires:t.requires,scope:null!=t.scope?t.scope:"=",controller:t.controller||function(){},link:t.link||function(){},restrict:"E",replace:true}})};m("filter",function(e,t){p.register(e,t)});m("service",function(e,t){d.service(e,t);return r.get(e)});m("provider",function(e,t){return d.provider(e,t)});m("injectComponent",function(t,i,o){var a;if(!i)throw new Error("Trying to show undefined component.");if("function"===typeof i)return i.apply({},[t,o]);if(Array.isArray(i)){var s={$element:t,input:o};for(var d in o)o.hasOwnProperty(d)&&(s[d]=o[d]);return r.invoke(i,{},s)}if(i.controller){var f=e(t).scope();f||(f=l);n(f,function(){var e=f.$new();e.extractComponent=function(){if(!e.$$destroyed){e.$destroy();t.off(".qvangularcoreshowcomponent");t.html("")}};e.destroyComponent=e.extractComponent;var n={$scope:e,$element:t,$transclude:void 0,input:o};for(var r in o)if(o.hasOwnProperty(r)){n[r]=o[r];e[r]=o[r]}t.html(i.template);var s=u(t.contents());if(i.controller){a=c(i.controller,n);t.contents().data("$ngControllerController",a)}s(e);t.on("remove.qvangularcoreshowcomponent",function(){e.$$destroyed||e.$destroy()})});return a}});m("componentDirective",function(e,n,i,r){var a={};for(var s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);a[e]="=";a.input="=";a.component="=";o.directive(e,["$compile","$controller",function(n,o){return{restrict:"EA",replace:true,terminal:true,scope:a,link:function a(s,l,u){var c=0,d;s.$watch("component",function(a){var f=++c;a||(a=i);if(a&&a.template){if(f!==c)return;d&&d.$destroy();d=s.$new();l.html(a.template);var p=n(l.contents());var h={$scope:d,$element:l,$attrs:u};!s.input||!a.scope||t.forEach(a.scope,function(e,t){var n;n="string"===typeof e&&"="===e.charAt(0)&&e.length>1?e.substring(1):t;d[n]=s.input[t];var i=d[n];d.$watch(function e(){var r=s.input[t];if(r!==d[n])if(r!==i){d[n]=r;i=r}else{i=d[n];s.input[t]=d[n]}return r})});if(s.input){for(var v in s.input)s.input.hasOwnProperty(v)&&(h[v]=s.input[v]);h.input=s.input}var m;if(a.controller){m=o(a.controller,h);l.contents().data("$"+e+"Controller",m)}p(d);"function"===typeof r&&("function"===typeof m.onInit?m.onInit().then(function(){r(m,d,l)}).catch(function(e){false}):r(m,d,l))}else{if(d){d.$destroy();d=null}l.html("")}})}}}])});s.push({name:"componentDirective",fn:function e(){o.componentType=o.componentDirective;o.componentDirective("qvaInclude",{ngModel:"="})}});o.$apply=n;o.defer=function(){return v.defer()};o.when=function(e,t,n){return v.when(e,t,n)};o.promise=function e(t){return h(function(){return t})};o.getService=function(e){return r.get(e)};e.fn.showComponent=function(e,t){return"string"===typeof e?o.injectComponent(this,{template:e,controller:t||function(){}},{}):o.injectComponent(this,e,t)};window.qvangularGlobal=o;return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.create=function(e,t){return n(t).then(function(t){return t.createSheet(e)})};i.remove=function(e,t){return n(t).then(function(t){return t.destroyObject(e)})};i.get=function(e,t){return n(t).then(function(t){return t.getObject(e)})};i.getList=function(e){return n(e).then(function(e){return e.getSheetListObject()})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(48),n(101),n(89),n(90),n(91)],r=function(e,t,n,i,r){function a(e,t,n){return"function"===typeof e.refFn?e.refFn(t,n):e.ref}var s={defineValue:function n(i,r,o,l){var u,c,d;function f(e){var n=a(r,o(),i.args);var s=t.getValue(o(),n);if("undefined"===typeof s)return t.getUndefinedValue(e,r);return s}function p(n,l,u){var c=t.getTypeValue(n,l,u);var d=o();var f=a(r,d,i.args);r.rollbackInvalid?s.validateType(c,r,d)?t.setValue(d,f,c):e.getService("$timeout")(function(){e.$rootScope.$broadcast("pp-revalidate")}):t.setValue(d,f,c)}if(r.convertFunctions){c=function e(){return r.convertFunctions.get(f,r,i.args)};d=function e(t){return r.convertFunctions.set(t,p,r,i.args)}}else{c=function e(){return f(r.type)};d=function e(n){var i=t.getDefaultValue(r.type,r);p(r.type,n,i)}}u="undefined"!==typeof l?l:"value";Object.defineProperty(i,u,{get:c,set:d})},defineExpression:function e(n,i,r){var s=n.definition.expression,l=n.definition.expressionType,u="optional"===s||"always"===s,c=i?"qValueExpression":"qStringExpression";!l&&u&&(l=i?"ValueExpression":"StringExpression");n.expressionType=l;n.isExpressionDefinition=u;Object.defineProperty(n,"displayValue",{get:function e(){var t=n.value;if(t&&"object"===o(t)){t=t[c].qExpr;t&&"="!==t[0]&&(t="="+t)}return t},set:function e(t){var i=u&&t&&0===t.indexOf("=");var r;if(t&&i){r={};r[c]={qExpr:t.substr(1)}}else r=t;n.value=r}});n.isExpression=function(){if("always"===s)return true;if("optional"===s){var e=a(n.definition,n.data,n.args);var i=t.getValue(n.data,e);return"object"===o(i)}return!!l};n.isLocked=function(){if(u){var e=n.value;"object"===o(e)&&(e=e[c].qExpr);if(!e||i&&"number"===typeof e)return false;var t=r&&-1!==e.indexOf("\n");return e&&(t||e.length>n.maxlength)}return false}},defineChange:function e(t,n){function i(){t.$emit("saveProperties")}t.change=function(){if("function"===typeof t.definition.change){var e=t.definition.change(t.data,n,t.args.properties,t.args);"object"===o(e)&&e.then?e.then(function(e){false!==e&&i()}):false!==e&&i()}else i()}},defineVisible:function e(t,n){var i=t.definition.show;"function"===typeof i?Object.defineProperty(t,"visible",{get:function e(){return i(t.data,n,t.args)}}):t.visible="boolean"!==typeof i||i},defineReadOnly:function e(t,n){var i=t.definition.readOnly;"function"===typeof i?Object.defineProperty(t,"readOnly",{get:function e(){return i(t.data,n,t.args)}}):t.readOnly="boolean"===typeof i&&i},definePlaceholder:function e(t,n){n.placeholderTranslation?t.placeholder=r.get(n.placeholderTranslation):n.placeholder&&(t.placeholder=n.placeholder)},defineLabel:function e(t,n,i,o){n.translation?t.label=r.get(n.translation):"function"===typeof n.label?Object.defineProperty(t,"label",{get:function e(){return n.label(i(),o)}}):n.label&&(t.label=n.label);return""},defineCustom:function e(t,n,i){var r=t.definition[i];"function"===typeof r?Object.defineProperty(t,i,{get:function e(){return r(t.data,n,t.args,t)}}):r&&(t[i]=r)},fillOptions:function e(t,i,a,s,l){var u=new n;function c(){var e=t.options;"function"===typeof e&&(e=t.options.call(null,i,a,l));if("object"===o(e)&&"function"===typeof e.then)return e;return n.resolve(e)}function d(e){return e.filter(function(e){return!!e}).map(function(e){var t={value:e.value};e.translation?t.label=r.get(e.translation):e.label?t.label=e.label:t.label=e.value;e.tooltipTranslation?t.tooltip=r.get(e.tooltipTranslation):e.tooltip&&(t.tooltip=e.tooltip);return t})}c().then(function(e){e=d(e);s.splice(0,s.length);for(var t=0;t<e.length;++t)s.push(e[t]);u.resolve()},u.reject);return u.promise},validateType:function e(t,n,r,o){var a=false;"boolean"===typeof n.invalid&&(a=a||n.invalid);"function"===typeof n.invalid&&(a=a||n.invalid.call(null,r,o.properties,o));if("number"===n.type)if(i.isNumeric(t)){"number"===typeof n.max&&t>n.max&&(a=true);"number"===typeof n.min&&t<n.min&&(a=true)}else a=true;if("integer"===n.type)if(i.isInteger(t)){"number"===typeof n.max&&t>n.max&&(a=true);"number"===typeof n.min&&t<n.min&&(a=true)}else a=true;if("string"===n.type){"undefined"!==typeof n.maxlength&&(a=a||t.length>n.maxlength);"undefined"!==typeof n.minlength&&(a=a||t.length<n.minlength)}return!a}};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(135),n(177),n(90)],r=function(e,t,n){var i={getUrlForHub:function t(){return e.buildHubUrl().replace("/noData/true","")},getUrlForSheet:function i(r,o,a){var s=n.getParameterByName("app");o||(o=t.analysis(s).state);if(a)return e.buildUrl(true,"sense","app",s,"sheet",r,"state",o,"overlay",a);return e.buildUrl(true,"sense","app",s,"sheet",r,"state",o)},getUrlForStory:function i(r,o,a){var s=n.getParameterByName("app");"undefined"===typeof o&&(o=t.story(s).state||"editstory");return a?e.buildUrl(true,"sense","app",s,"story",r,"state",o,"slide",a):e.buildUrl(true,"sense","app",s,"story",r,"state",o)},getUrlForOverview:function t(){var i=n.getParameterByName("app");return e.buildUrl(true,"sense","app",i)},getUrlForDataModelViewer:function t(){var i=n.getParameterByName("app");return e.buildUrl(true,"datamodelviewer","app",i)},getUrlForDataLoadEditor:function t(){var i=n.getParameterByName("app");return e.buildUrl(true,"dataloadeditor","app",i)},getUrlForDataManager:function t(){var i=n.getParameterByName("app");return e.buildUrl(true,"sense","app",i,"datamanager","datamanager")},goToHub:function t(){e.setUrl(i.getUrlForHub(),false,false,true)},goToOverview:function t(){e.setUrl(i.getUrlForOverview())},goToDataManager:function t(){e.setUrl(i.getUrlForDataManager())},goToDataModelViewer:function t(){e.setUrl(i.getUrlForDataModelViewer())},goToDataLoadEditor:function t(){e.setUrl(i.getUrlForDataLoadEditor())},goToSheet:function t(n,r,o){e.setUrl(i.getUrlForSheet(n,r,o))},goToStory:function t(n,r,o){e.setUrl(i.getUrlForStory(n,r,o))}};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={STATIC:0,ANALYSIS:1,EDIT:2};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(13),n(115),n(312),n(332),n(671),n(210),n(345),n(49)],r=function(e,t,i,r,o,a,s,l,u){var c=null;var d=null;var f=false;function p(e,i){i=i||{};i.previewIconURL||"string"===typeof i.preview&&i.preview.match(/\.(?:png|gif|jpe?g|svg)$/)&&(i.cloud?i.previewIconURL="/api/v1/extensions/"+i.id+"/file/"+i.preview:i.folder?i.previewIconURL=n.p+i.folder+"/"+e+"/"+i.preview:i.previewIconURL=t.rootPath+"extensions/"+e+"/"+i.preview);i.icon&&"extension"!==i.icon||(i.icon="puzzle");i.description=i.description||i.name;i.template=i.template||e;i.isLibraryItem=false!==i.isLibraryItem;i.isThirdParty=true;i.name=i.name||i.template||e;return i}function h(e){if(e.data&&"visualization"===e.data.type){if(i.getType(e.id.toLowerCase())){e.data.bundle?console.warn("Bundled extension already loaded (this is likely correct): "+e.id):console.error("Extension id already registered: "+e.id);return}var t=p(e.id,e.data);o.registerThirdPartyLibraryInfo(e.id,t);i.registerType(e.id,new r({type:e.id,path:e.path||"extensions/"+e.id+"/"+e.id}))}}function v(t){if(!f){i.registerType("listbox",new r({type:"listbox",path:"extensions.qliktech/listbox/listbox"}));i.registerType("filterpane",new r({type:"filterpane",path:"extensions.qliktech/filterpane/filterpane"}));u.getFlag("CONTAINER_OBJECT")&&i.registerType("container",new r({type:"container",path:"extensions.qliktech/container/container"}));u.getFlag("DISABLE_AUTO_CHART")||i.registerType("auto-chart",new r({type:"auto-chart",path:"extensions.qliktech/auto-chart/auto-chart"}));i.registerType("boxplot",new r({type:"boxplot",path:"extensions.qliktech/boxplot/boxplot"}));i.registerType("histogram",new r({type:"histogram",path:"extensions.qliktech/histogram/histogram"}));i.registerType("distributionplot",new r({type:"distributionplot",path:"extensions.qliktech/distributionplot/distributionplot"}));i.registerType("waterfallchart",new r({type:"waterfallchart",path:"extensions.qliktech/waterfallchart/waterfallchart"}));i.registerType("gauge",new r({type:"gauge",path:"extensions.qliktech/gauge/gauge"}));i.registerType("kpi",new r({type:"kpi",path:"extensions.qliktech/kpi/kpi"}));i.registerType("table",new r({type:"table",path:"extensions.qliktech/straight-table/straight-table"}));i.registerType("pivot-table",new r({type:"pivot-table",path:"extensions.qliktech/pivot-table/pivot-table"}));i.registerType("barchart",new r({type:"barchart",path:"extensions.qliktech/barchart/barchart"}));i.registerType("piechart",new r({type:"piechart",path:"extensions.qliktech/piechart/piechart"}));i.registerType("scatterplot",new r({type:"scatterplot",path:"extensions.qliktech/scatterplot/scatterplot"}));i.registerType("linechart",new r({type:"linechart",path:"extensions.qliktech/linechart/linechart"}));i.registerType("combochart",new r({type:"combochart",path:"extensions.qliktech/combochart/combochart"}));i.registerType("treemap",new r({type:"treemap",path:"extensions.qliktech/treemap/treemap"}));i.registerType("map",new r({type:"map",path:""}));i.registerType("text-image",new r({type:"text-image",path:"extensions.qliktech/text-image/text-image"}));i.registerType("widget",new r({type:"widget",path:"extensions.qliktech/widget/widget"}));f=true}var n=[];if(d)return t?d:d.then(m);var o=u.getFlag("DASHBOARD_EXT_BUNDLE")?a.getDashBundleList():[];o.forEach(function(e){n.push(e)});var s=u.getFlag("VIZ_EXT_BUNDLE")||u.getFlag("VIZBUN_QCS_31")?a.getVisBundleList():[];s.forEach(function(e){n.push(e)});d=e.all(n);return d.then(function(e){e.forEach(h);if(!t)return m()}).catch(function(){console.warn("Error when loading extensions")})}function m(){if(!c){var t=u.getFlag("DISABLE_ONPREM_EXTENSIONS")?e.resolve([]):s.getList();var n=u.getFlag("CLOUD_EXTENSIONS")?l.getList():e.resolve([]);c=n.then(function(e){e.forEach(h);return t.then(function(e){e.forEach(h)})})}return c}function g(e){i.removeType(e);o.remove(e)}return{load:v,isLoaded:function e(t){return!!i.getType(t)},registerExtension:h,removeExtension:g}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){function e(e){return e&&"[object Array]"===Object.prototype.toString.call(e)}function t(e){return e&&"function"===typeof e}function n(n,i){var r,o;if(!e(n))throw new Error("No valid items were specified.");if(!t(i))throw new Error("No valid action function was specified.");if(Array.prototype.forEach)n.forEach(i);else for(r in n){o=n[r];i(o)}}function i(t,n){if(!e(t))throw new Error("No valid items were specified.");if(Array.prototype.indexOf)return-1!==t.indexOf(n);var i=t.length;while(i--)if(t[i]===n)return true;return false}function r(e,t){if(!e||!t||!e.length||!t.length)return false;var n=t.length,i;for(i=0;i<n;i++)if(e.indexOf(t[i])>-1)return true;return false}function o(e,t){if(!e||!t||!e.length||!t.length)return false;var n=e.indexOf(t[0]);if(-1!==n){for(var i=0;i<t.length;i++){var r=e.indexOf(t[i]);if(n>r)return false;n=r}return true}return false}function a(e,t,n){if(n>=e.length){var i=n-e.length;while(1+i--)e.push(void 0)}e.splice(n,0,e.splice(t,1)[0])}function s(e,t,n){var i=e[t];e[t]=e[n];e[n]=i}function l(e,t){var n;for(n=0;n<e.length;++n)e[n]>=0&&e[n]>=t&&++e[n];e.push(t)}function u(e,t,n){var i;for(i=0;i<e.length;++i)e[i]>=0&&e[i]>=t&&++e[i];e.splice(n,0,t)}function c(e,t){var n=0;var i;for(i=0;i<e.length;++i)e[i]>t?--e[i]:e[i]===t&&(n=i);e.splice(n,1);return n}function d(e,t){if(e.length>t)return e.slice(0,t);return e}function f(e){if(!(e instanceof Array))throw new Error("Argument is not an Array.");return e.slice(0)}return{forEach:n,contains:i,move:a,swap:s,limit:d,indexAdded:l,indexAddedAt:u,indexRemoved:c,intersects:r,isOrderedSubset:o,copy:f}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{sectionIDs:{template:"template",cloudExtensions:"cloud-extensions",extensions:"extensions",field:"field",time:"time",dimension:"dimension",measure:"measure",visualization:"visualization",odag:"odag"}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){var t={};t.getParentElementWithAttribute=function(e,t,n){var i=false,r=0;while(e&&e.parentNode&&r<100&&!i){r++;if(e.nodeName===t.toUpperCase()&&e.hasAttribute(n)){i=true;return e}e=e.parentNode}if(!i)return null};t.getAncestorsUntil=function(e,t){var n=[];t||(t=function e(){return false});while(e&&e.parentNode&&!t(e)){n.push(e);e=e.parentNode}return n};t.isInput=function(e){return e&&("INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)};t.elementFromEventPosition=function(e){var t=document;var n=t.body;var i=e.pageX+(t&&t.clientLeft||n&&n.clientLeft||0)-(t&&t.scrollLeft||n&&n.scrollLeft||0);var r=e.pageY+(t&&t.clientTop||n&&n.clientTop||0)-(t&&t.scrollTop||n&&n.scrollTop||0);return document.elementFromPoint(i,r)};t.scrollElmentIntoView=function t(n,i,r,o){var a;if(!n.length)return;a=i instanceof e?i:n.closest(i);if(a.length){var s=a.offset().top,l=s+a.height(),u=n.offset().top,c=u+n.outerHeight(!!o),d=c-u,f=l-s,p;p=n[0].getBoundingClientRect().top;if(r){p-=a.height()/2;a.scrollTop(a.scrollTop()+p)}else if(f<d){p=u-s;a.scrollTop(a.scrollTop()+p)}else if(c>l){p=c-l;a.scrollTop(a.scrollTop()+p)}else if(u<s){p=u-s;a.scrollTop(a.scrollTop()+p)}}};t.getAction=function(t,n,i){var r,o,a,s=(i?e(t.target).closest("[data-action]"):e(t.target).parent())[0];if(t.target.getAttribute("data-action")){r=t.target.getAttribute("data-action");o=e(t.target)}else if(s&&s.getAttribute("data-action")){r=s.getAttribute("data-action");o=e(s)}r&&n&&(a=e(o.closest(n)).scope());return{action:r,element:o,scope:a}};t.isElementInViewport=function t(n,i){var r=n.getBoundingClientRect(),o,a={top:false,right:false,bottom:false,left:false,inView:false};o=(i||e("body")[0]).getBoundingClientRect();a.top=r.top+r.height-o.top>=0;a.right=o.right-(r.right-r.width)>=0;a.bottom=o.bottom+r.height>=r.bottom;a.left=r.left-o.left+r.width>=0;a.inView=a.top&&a.right&&a.bottom&&a.left;return a};t.isClickOnScrollbar=function t(n,i){var r=e(n.target),o=n.clientX||n.pageX,a=r.offset().left+e(n.target).width();if(!r.is(i))return false;return o>a-17};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(89),n(106),n(97),n(50),n(131),n(613),n(94),n(11),n(91)],r=function(e,t,n,i,r,o,a,s,l,u){var c=null,d=null,f={gridElement:null,scrollTop:0,scrollTopSheet:0,scrollLeft:0,scrollLeftSheet:0,lastZoomedCell:null,intervalPromise:null,hightlightedCellId:null};function p(e,t){s.setView(e);var n=l(document.body);n.toggleClass("qv-view-sheet",!t);n.toggleClass("qv-view-object",t);n.toggleClass("qv-gridzoom",t)}function h(){c.grid.updateCellsSize()}function v(){c.grid.updateCellsSize()}function m(e){return e?t.resolve():c.grid.autoCollapse()}function g(t){var l;if(c)return;c=e.$rootScope.$new(true);c.grid=new a(this,t.enigmaModel.app);c.model=t;c.stageState=o;n(c,"model",function(e){c&&c.grid.update(e)});r.ViewChanged.bind(h);i.on("end",v);c.$watch(s.isInEditMode,function(e){l=e;if(c.grid.layout){c.grid.update(c.grid.layout);if(l)c.grid.updateActiveCell();else{c.grid.removeResizeHandles();k();m(l)}}});c.$watch("grid.zoomCell",function(e){if(T()||s.view===s.Views.story&&s.state!==s.States.analysis)return;var t=e?s.Views.object:s.Views.sheet;p(t,!!e)});c.$watch("grid.changedZoom",function(e){false!==e||c.grid.zoomCell||h(c.grid)});c.$watch("stageState.selectedObject",function(e){c&&e&&"gridCell"!==e.type&&c.grid.clearActiveCell()});s.SheetChanged.bind(b)}function b(e){if(!c)return;m(s.isInEditMode()).then(function(){if(c){c.model=e;c.grid.unblock()}})}function y(){d||(d=e.getService("$interval"));if(!c)return;c.$destroy();c=null;r.ViewChanged.unbind(h);i.off("end",v);s.SheetChanged.unbind(b);d.cancel(f.intervalPromise);f.gridElement=null}function x(){var t=c&&c.grid.getOptimalCell();t||e.getService("qvAlertDialog").show({title:u.get("Ui.Warning.GridFull.Title"),message:u.get("Ui.Warning.GridFull"),closeLabel:u.get("Common.OK")});return t}function w(e){if(!c)return;_(e.pos)}function S(){return c&&c.grid.isBlocked()}function C(e){if(S())return t.reject();c.grid.block();return c.model.addObject(e).finally(function(){c.grid.unblock()})}function E(e,n){if(S())return t.reject();return c.model.swapObjects(e,n)}function q(e,n){if(S())return t.reject();return c.model.moveObject(e,n)}function _(e){if(S())return t.reject();c.grid.block();return c.model.removeObject(e).finally(function(){c.grid.unblock()})}function T(){return c&&c.grid&&!c.model}function k(){if(!T())return;b(s.model);p(s.Views.sheet,false)}function O(e,t){if(!c)return;c.model=null;c.grid.setEditMaster(e,t);p(s.Views.masterObject,true)}return{start:g,stop:y,goToEditMode:function e(){s.setState(s.States.edit)},getOptimalCell:x,removeCell:w,isActive:function e(){return!!c},getGrid:function e(){return c&&c.grid},getModel:function e(){return c&&c.model},activateCell:function e(t){c&&c.grid.toggleActive(t)},deactivateCell:function e(){c&&c.grid.toggleActive(null)},getZoomCell:function e(){return c&&c.grid.zoomCell},getZoomedCellId:function e(){return c.grid.zoomCell.id},zoomInOnCell:function e(t){var n;if(c){n=c.grid.cells.filter(function(e){return e.id===t});n.length&&c.grid.zoom(n[0])}},zoomOut:function e(){if(c){c.grid.zoom(null);c.grid.gridService.restoreSheetScrollState()}},saveZoom:function e(){c&&c.grid&&f&&!f.lastZoomedCell&&c.grid.zoomCell&&c.grid.zoomCell.id&&(f.lastZoomedCell=c.grid.zoomCell.id)},restoreZoom:function t(){if(f.lastZoomedCell){var n=e.getService("$timeout");n(function(){c.grid.blockZoomAnimation=true;this.zoomInOnCell(f.lastZoomedCell);f.lastZoomedCell=null}.bind(this))}},setGridElement:function e(t){f.gridElement=t},saveScrollState:function e(){if(l(".qvt-sheet").length>0&&!f.lastZoomedCell&&f.gridElement){f.scrollTop=f.gridElement.scrollTop;f.scrollLeft=f.gridElement.scrollLeft;f.scrollTopSheet=l(".qvt-sheet")[0].scrollTop;f.scrollLeftSheet=l(".qvt-sheet")[0].scrollLeft}},restoreScrollState:function t(){d||(d=e.getService("$interval"));if(f.lastZoomedCell)return;f.scrollTop>0&&(f.intervalPromise=d(function(){if(f.gridElement.children.length>0){f.gridElement.scrollTop=f.scrollTop;f.scrollTop=0;d.cancel(f.intervalPromise)}},50));f.scrollLeft>0&&(f.intervalPromise=d(function(){if(f.gridElement.children.length>0){f.gridElement.scrollLeft=f.scrollLeft;f.scrollLeft=0;d.cancel(f.intervalPromise)}},50))},restoreSheetScrollState:function t(n,i){var r=e.getService("$timeout");r(function(){if(l(".qvt-sheet").length>0)if("undefined"!==typeof n||"undefined"!==typeof i){l(".qvt-sheet")[0].scrollTop>0&&(l(".qvt-sheet")[0].scrollTop=0);l(".qvt-sheet")[0].scrollLeft>0&&(l(".qvt-sheet")[0].scrollLeft=0)}else{f.scrollTopSheet>0&&(l(".qvt-sheet")[0].scrollTop=f.scrollTopSheet);f.scrollLeftSheet>0&&(l(".qvt-sheet")[0].scrollLeft=f.scrollLeftSheet)}})},resetSmallDeviceSheetScroll:function t(){var n=e.getService("$timeout");n(function(){var t=e.getService("qvSheetService").get();if(t&&t.length){t=t.find("#grid")[0];if(t){t.scrollTop=0;t.scrollLeft=0}t=null}})},scrollToPos:function e(t,n){if(l(".qvt-sheet").length){l(".qvt-sheet").scrollLeft(t);l(".qvt-sheet").scrollTop(n-80)}},getCellWithId:function e(t){if(c){var n=c.grid.cells.filter(function(e){return e.id===t});return n.length?n[0]:null}return null},highlightedCell:function e(t){t&&(f.hightlightedCellId=t);var n;if(c&&f.hightlightedCellId){n=c.grid.cells.filter(function(e){return e.id===f.hightlightedCellId});if(n.length){c.grid.highlight(n[0]);f.hightlightedCellId=null}}},isBlocked:S,addObject:C,swapObjects:E,moveObject:q,isEditMaster:T,closeEditMaster:k,editMaster:O}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.camelToKebabCase=i;t.luiClassName=r;function i(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=t.className,i=t.modifiers,r=void 0===i?{}:i,o=t.states,a=void 0===o?{}:o;var s="lui-".concat(e);var l=s;Object.keys(r).forEach(function(e){"boolean"===typeof r[e]?r[e]&&(l+=" ".concat(s,"--").concat(e)):r[e]&&(l+=" ".concat(s,"--").concat(r[e]))});Object.keys(a).forEach(function(e){a[e]&&(l+=" lui-".concat(e))});n&&(l+=" ".concat(n));return l}},function(e,t,n){"use strict";var i,r;!(i=[n(125),n(144)],r=function(e,t){function n(e){e=e.trim();if("="===e.charAt(0)){e=e.substring(1);e=e.trim()}var t=e.length-1;if("["===e.charAt(0)&&"]"===e.charAt(t)){e=e.substring(1,t);e=e.trim()}return e}function i(i,r){var o=t.expand(e.copy(r));var a,s;i=n(i);if(o)for(a=0;a<o.length;a++){s=o[a];if(s.qName===i)return s}return null}function r(e,t){var n,i;if(t)for(n=0;n<t.length;n++){i=t[n];if(i.qInfo.qId===e)return i}return null}function o(e,t){var n,i;if(t)for(n=0;n<t.length;n++){i=t[n];if(i.qInfo.qId===e)return i}return null}function a(n){return n.getFieldList().then(function(n){return t.expand(e.copy(n)).sort(function(e,t){return e.qName.toLowerCase().localeCompare(t.qName.toLowerCase())})})}function s(t){return t.getDimensionList().then(function(t){return e.copy(t).sort(function(e,t){return e.qData.title.toLowerCase().localeCompare(t.qData.title.toLowerCase())})})}function l(t){return t.getMeasureList().then(function(t){return e.copy(t).sort(function(e,t){return e.qData.title.toLowerCase().localeCompare(t.qData.title.toLowerCase())})})}return{findField:i,findLibraryDimension:o,findLibraryMeasure:r,getSortedFields:a,getSortedDimensions:s,getSortedMeasures:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(11)],r=function(e,t){var n={};var i=false;var r=false;n.reset=function(){n.selectedObject=null;n.assetsOpen=true;n.propertiesOpen=false;i=false};n.hasPropertiesBeenClosedByUser=function(){return r};n.togglePropertyPanelByUser=function(){n.propertiesOpen=!n.propertiesOpen;i=n.propertiesOpen;i||(r=true);return n.propertiesOpen};n.resetPropertyPanelToggle=function(){n.propertiesOpen!==i&&(n.propertiesOpen=i)};n.setSelectedObject=function(i){var r={id:"",type:"",customObject:null,canCopy:function e(){return true},copy:null,canCut:function e(){return true},cut:null,paste:null,canRemove:function e(){return true},remove:null,getAllPropertyPanelContent:function t(){var n={objectType:"",iconClass:"",titleRef:"",definition:{},properties:{},layout:{},localeInfo:null,app:null,cache:null,ext:null,globalChangeListeners:null,handler:null,model:null};return e.resolve(n)}};if(i){t.extend(r,i);n.selectedObject=r}else n.selectedObject=null};n.reset();return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){return{get:function n(i){var r=i?t.resolve(i.enigmaModel):e.getApp();return r.then(function(e){return e.getCurrentSelectionObject()})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(748),n(90),n(192),n(95),n(154),n(120),n(132),n(89),n(108),n(49),n(749),n(456)],r=function(e,t,n,i,r,o,a,s,l,u,c){var d=null;var f=null;function p(e){if(f)return s.resolve(true);if(e){l.setup();return s.resolve(true)}return l.setup()}var h={addingNewNavPointID:{},odagLinkSessionObjects:{},getODAGLinksPromise:{}};h.ODAGRequestActionConst={CANCEL:"cancel",PAUSE:"pause",RESUME:"resume",CANCEL_ACK:"ackcancel",FAIL_ACK:"ackfailure"};h.getODAGLinks=function(e,t){t=void 0!==t&&t;var i=this;this.getODAGLinksPromise[e.id]&&!t||(this.getODAGLinksPromise[e.id]=n.getList(e).then(function(t){return t.getLayout().then(function(t){return i.onAppLinksLoaded(e,t)})}));return this.getODAGLinksPromise[e.id]};h.onAppLinksLoaded=function(e,t){var n=t.map(function(e){return e.qData.odagLinkRef});return h.loadODAGLinks(e,n)},h.loadODAGLinks=function(e,t){return v(e).getODAGLinksWithIds(e.id,t)};h.loadODAGLink=function(e,t){return v(e).getODAGLink(t)};h.canCreateLink=function(e){return v(e).canCreateLink(e.id)};h.isODAGAvailable=function(e){return p(e).then(function(){var t=l.isPersonalModeSync();return!(u.getFlag("ODAG_CLIENT_SAAS")&&!u.getFlag("ODAG_SAAS_ENABLED"))&&(!t&&v(e).isODAGAvailable().then(function(e){if(u.getFlag("ODAG_SAAS_ENABLED"))return e;return!(!e||!e.available)}).catch(function(){return false}))})};h.createODAGLink=function(e,i){var r=t.extend({},i);r.selectionApp=e.id;return v(e).createODAGLink(r).then(function(t){var i={qMetaDef:{odagLinkRef:u.getFlag("ODAG_SAAS_ENABLED")?t.id:t.objectDef.id}};return n.create(e,i)})};h.deleteODAGLink=function(e,r,a){var l=t.extend({},a);u.getFlag("ODAG_SAAS_ENABLED")&&(l.data.selectionApp=e.id);return v(e).deleteODAGLink(r,l).then(function(){return n.getList(e).then(function(t){return t.getLayout().then(function(t){var a=null;for(var l=0;l<t.length&&!a;l++){var c=t[l];c.qData.odagLinkRef===r&&(a=c.qInfo.qId)}u.getFlag("ODAG_SAAS_ENABLED")&&i.publish("hack_odag_link_update");if(a)return n.remove(e,a).then(function(){return o.getList(e).then(function(e){return e.getLayout().then(function(e){var t=[];e.forEach(function(e){var n=o.get(e.qInfo.qId).then(function(e){return e.removeRefToLinkIDFromNavPoints(r)});t.push(n)});return s.all(t)})})})})})})};h.updateODAGLink=function(e,r,o){var a=t.extend({},o);u.getFlag("ODAG_SAAS_ENABLED")&&(a.selectionApp=e.id);return v(e).updateODAGLink(r,a).then(function(t){return n.getList(e).then(function(r){return r.getLayout().then(function(r){var o=null;for(var a=0;a<r.length;a++){var s=r[a];var l=u.getFlag("ODAG_SAAS_ENABLED")?t.id:t.objectDef.id;if(s.qData.odagLinkRef===l){o=s.qInfo.qId;break}}u.getFlag("ODAG_SAAS_ENABLED")&&i.publish("hack_odag_link_update");if(o)return n.get(e,o).then(function(e){return e.getProperties().then(function(t){t.qMetaDef.timestamp=Date.now();return e.setProperties(t)})})})})})};h.addODAGNavPoint=function(e,n){if(e){var i=t.generateId();this.addingNewNavPointID[e.id]=i;var r={insertBeforeNavPointID:n.insertBeforeItem?n.insertBeforeItem.data.info.id:null,data:{info:{id:i},title:n.title,odagLinkRefID:n.odagLinkRefID}};e.addNavPoint(r)}};function v(t){if(d)return d;var n="";var i="";var r="";var o=false;if(t&&t.enigmaModel&&t.enigmaModel.session){var a=t.enigmaModel.session.sessionConfig?t.enigmaModel.session.sessionConfig:null;if(a){n=a.prefix?a.prefix:"/";i=a.host?a.host:null;r=1907;o=!(!a.isSecure&&!a.secure)}}d=new e;d.init(i,r,n,o);return d}function m(e,t,n,i,r,o,a){e||(e=[]);t||(t=[]);return i<o?n.getHyperCubeData("/qHyperCubeDef",[{qTop:i,qLeft:0,qWidth:1,qHeight:1e4}]).then(function(s){s[0].qMatrix.forEach(function(n){var i=n[0];r.indexOf(i.qState)>-1&&e.push({selStatus:i.qState,strValue:i.qText,numValue:u.getFlag("ODAG_SAAS_ENABLED")?i.qNum+"":i.qNum});a&&"S"===i.qState&&t.push({selStatus:i.qState,strValue:i.qText,numValue:u.getFlag("ODAG_SAAS_ENABLED")?i.qNum+"":i.qNum})});i+=1e4;return m(e,t,n,i,r,o,a)}):s.resolve({fieldValues:e,selectedFieldValues:t})}function g(e,n,i){var r=n.selectAppParamName;var o=n.selectionStates;var a=t.extend(true,{},c.fieldHyperCubeProperties);a.qHyperCubeDef.qDimensions.push({qDef:{qFieldDefs:[r]},qNullSuppression:true});return e.enigmaModel.createSessionObject(a).then(function(t){return t.getLayout().then(function(n){var r=n.qHyperCube.qSize.qcy;return m(null,null,t,0,o,r,i).then(function(t){b(e,n.qInfo.qId);return t})})})}function b(e,t){var n=e.enigmaModel||e;return n.enigmaModel["destroySessionObject"].apply(n,[t])}function y(e,t){var n={bindingValuesArray:[],selectedValuesArray:[]};if(!t)return s.resolve(null);var i=t.bindings?t.bindings.filter(function(e){return"BDI"!==e.selectAppParamType}):[];var r=t.bindings?t.bindings.filter(function(e){return"BDI"===e.selectAppParamType}):[];return h.getBDIBindingValues(e,r).then(function(t){n.bindingValuesArray=t.bindingValuesArray||[];return h.getCurrentlySelectedFields(e).then(function(t){return h.getAllFieldBindingValues(e,i,t).then(function(r){for(var o=0;o<i.length;o++){var a=r[o];var s=-1;for(var l=0;l<t.length;l++)if(t[l]&&t[l].fieldName===i[o].selectAppParamName){s=l;break}if(s>=0){var u={selectionAppParamType:"Field",selectionAppParamName:i[o].selectAppParamName,values:a.selectedFieldValues.length<10001?a.selectedFieldValues:[],selectedSize:a.selectedFieldValues.length};n.selectedValuesArray.push(u);t.splice(s,1)}var c={selectionAppParamType:"Field",selectionAppParamName:i[o].selectAppParamName,values:a.fieldValues};n.bindingValuesArray.push(c)}var d=[];for(var f=0;f<t.length;f++)d.push({selectAppParamName:t[f].fieldName,selectionStates:"S"});return h.getAllFieldBindingValues(e,d,t).then(function(e){for(var i=0;i<t.length;i++){var r=e[i];var o={selectionAppParamType:"Field",selectionAppParamName:t[i].fieldName,values:r.fieldValues.length<10001?r.fieldValues:[],selectedSize:r.fieldValues.length};n.selectedValuesArray.push(o)}return n})})})})}h.clearSelections=function(e){return a.get(e).then(function(e){return e.clearAll()})};h.renameGenApp=function(e,t,n){return v(e).renameApp(t,n)};h.deleteGenApp=function(e,t){return v(e).deleteApp(t)};h.selectFieldValuesForField=function(e,t,n){var i=[];for(var o=0;o<n.length;o++){var a=n[o];var s={};if(Number.isNaN(+a.numValue)){s.qIsNumeric=false;s.qText=a.strValue}else{s.qIsNumeric=true;s.qNumber=a.numValue}i.push(s)}return r.get(t,null,e).then(function(e){return e.selectValues(i,true,true)})};h.getAllFieldBindingValues=function(e,t,n){if(t.length){var i=[];for(var r=0;r<t.length;r++){var o=t[r];var a=o.selectAppParamName;var l=n&&!!n.filter(function(e){return e.fieldName===a})[0];i.push(g(e,o,l))}return s.all(i)}return s.resolve([])};h.getConstraintFieldBindingValues=function(e,t){if(t.length){var n=[];for(var i=0;i<t.length;i++){var r=t[i];r.range?n.push(g(e,r,false)):n.push(s.resolve({noConstraint:true,fieldValues:[],selectedFieldValues:[]}))}return s.all(n)}return s.resolve([])};h.getCurrentlySelectedFields=function(e){return a.get(e).then(function(e){return e.getLayout().then(function(e){var t=[];for(var n=0;n<e.qSelectionObject.qSelections.length;n++){var i=e.qSelectionObject.qSelections[n];t.push({fieldName:i.qField,selectionCount:i.qSelectedCount})}return t})})};h.getBDIObject=function(e){return e.createSessionObject({qProp:{qInfo:{qType:"BDIObject"},qBDIObjectDef:{}}})};h.getBDISelection=function(e,t){return h.getBDIObject(e,t).then(function(e){return e.getLayout().then(function(n){if(!n||!n.qBDIObject||!n.qBDIObject.qValid)return s.resolve({});return e.setProperties({qProp:{qInfo:{qType:"BDIObject"},qBDIObjectDef:{qHandleCopyInLayout:t}}}).then(function(){return e.getLayout()})})})};h.getTemplateApps=function(e){var t=e.get();return u.getFlag("ODAG_SAAS_ENABLED")?d.getTemplateApps().then(function(e){return t.then(function(t){var n=e.data.filter(function(e){return e.id.toLowerCase()!=t.id.toLowerCase()});return n.map(function(e){return{qDocId:e.id,qDocName:e.name}})})}):t.then(function(t){return e.getList(t.session).then(function(e){var n=e.filter(function(e){return e.qDocId.toLowerCase()!=t.id.toLowerCase()});return n})})};h.getBDIBindingValues=function(e,t){if(t&&t.length>0){var n=[];return h.getBDISelection(e,"model").then(function(i){var r=i&&i.qBDIObject;if(r&&r.qValid){for(var o=0;o<t.length;++o)if("setHandle"===t[o].selectAppParamName){var a={selectionAppParamType:"BDI",selectionAppParamName:t[o].selectAppParamName,values:[{selStatus:"S",strValue:r.qGeneratedHandleCopy,numValue:"NaN"}]};n.push(a)}b(e,i.qInfo.qId)}return{bindingValuesArray:n}})}return s.resolve({})};h.reloadApp=function(e,t,n,i,r){switch(i){case 1:case 2:return y(e,t).then(function(t){if(t){var o=false;2==i&&(o=true);return v(e).reloadApp(n,r,t.bindingValuesArray,t.selectedValuesArray,o)}return s.resolve(null)});default:return v(e).reloadApp(n)}};h.getSelections=function(e,t){return v(e).getSelections(t)};h.generateApp=function(e,t,n,i,r){return y(e,n).then(function(o){return o?v(e).generateApp(n.id,e.id,i,t,r,o.bindingValuesArray,o.selectedValuesArray):s.resolve(null)})};h.removeODAGAppLinkWithODAGLinkId=function(e,t){return n.getList(e).then(function(i){return i.getLayout().then(function(i){var r=i.filter(function(e){return e.qData.odagLinkRef===t});if(r.length)return n.remove(e,r[0].qInfo.qId)})})};h.reorderNavPoints=function(e,t){e.reorderNavPoints(t)};h.moveNavPoint=function(e,t,n){e.moveNavPoint(t,n)};h.requestAction=function(e,t,n,i,r){return v(e).requestAction(t,n,i,r)};h.getGeneratedAppsForLink=function(e,t,n,i,r,o){return v(e).getGeneratedAppsForLink(n,i,e.id,t,r,o,true)};h.clearCachedSessionObjects=function(e){var t=this;function n(n){return t.odagLinkSessionObjects[e.id][n].getLayout().then(function(i){b(e,i.qInfo.qId);delete t.odagLinkSessionObjects[e.id][n]})}var i=[];for(var r in this.odagLinkSessionObjects[e.id])i.push(n(r));this.getODAGLinksPromise[e.id]=null;return s.all(i)};h.getOrCreateSessionObjectsForLink=function(e,t){var n=this;if(this.odagLinkSessionObjects[e.id]&&this.odagLinkSessionObjects[e.id][t.id])return s.resolve(this.odagLinkSessionObjects[e.id][t.id]);c.maxRowExpression.MaxRowCountExpression.qValueExpression.qExpr=t.rowEstExpr;return e.enigmaModel.createSessionObject(c.maxRowExpression).then(function(i){n.odagLinkSessionObjects[e.id]||(n.odagLinkSessionObjects[e.id]={});n.odagLinkSessionObjects[e.id][t.id]=i;return i})};return h}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89),n(90)],r=function(e,t,n){function i(n){return n?t.resolve(n.enigmaModel):e.getApp()}var r={};r.get=function(e,t){return i(t).then(function(t){return t.getDimension(e)})};r.create=function(e,t){return i(t).then(function(t){e.qInfo.qId=e.qInfo.qId||n.generateId();return t.createDimension(e)})};r.remove=function(e,t){return i(t).then(function(t){return t.destroyDimension(e)})};r.getList=function(e){return i(e).then(function(e){return e.getDimensionListObject()})};r.getListLayout=function(e){return r.getList(e).then(function(e){return e.getLayout()})};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(987),n(90)],r=function(e,t){location.hash&&history.replaceState(null,null,location.href.replace("#!/",""));var n={};var i=t.getParameterByName("app");var r=t.getParameterByName("language");var o=t.getParameterByName("theme");var a=t.getParameterByName("debug");var s=t.getParameterByName("options");var l=t.getParameterByName("bookmark");var u=t.getParameterByName("noData");var c=t.getParameterByName("feature");var d=t.getParameterByName("ttl");var f=t.getParameterByName("identity");var p=[];var h=[];var v=[];var m=[];i&&p.push("app",i);r&&h.push("language",r);o&&h.push("theme",o);a&&h.push("debug",a);s&&h.push("options",s);l&&h.push("bookmark",l);u&&h.push("noData",true);c&&h.push("feature",c);d&&h.push("ttl",d);f&&h.push("identity",f);n.isSuffixInUse=function(e){for(var t=0;t<h.length;t++)if(h[t]===e)return true;return false};n.removePartialSuffix=function(e){var t=false;for(var i=0;i<h.length;i++)if(h[i]===e){h.splice(i,2);t=true;break}if(t){var r=location.href,o=new RegExp("/"+e+"/[^/]+","i");g();if(o.test(r)){r=r.replace(o,"");n.setUrl(r)}}return t};function g(){m.forEach(function(e){e.dispose()});v.forEach(function(e){n.addRoute(e)})}function b(){window.addEventListener("popstate",function(){var e=t.getParameterByName("app");if(i&&i!==e){location.href=location.href;return}n.parse()},false)}n.parse=function(t){e.parse(t||location.pathname)};n.addRoute=function(t){var n=this;var i=t.pattern;v.push(t);t.isPartial&&"/"===i&&(i="");var r=e.addRoute(i,function(){n.lastRoute&&n.lastRoute!==t&&n.lastRoute.DeRoute.emit();n.lastRoute=t;t.Route.emit.apply(t.Route,arguments)});m.push(r)};n.setUrl=function(e,t,i,r){t=true;var o=location.href.toLowerCase().indexOf("?x-")>-1;o&&(e=e.replace(/\?x-.+?=[^&]+/i,"").replace("&","?"));if(r)location.href=e;else if(e!==location.href){history[t?"replaceState":"pushState"](null,null,e);i||n.parse()}};n.start=function(){this.setUrl(location.href);b(this);n.parse()};n.buildUrl=function(){var e=Array.apply(null,arguments);var n="";var i="";var r;if(true===e[0]){n=e[1];e=e.slice(2)}else e.unshift.apply(e,p);h.length&&e.push.apply(e,h);e=e.map(function(e){return encodeURIComponent(e).replace(/'/g,"%27")});if(n){var o=new RegExp("([^/])/"+t.project+"/","i");i=t.baseURI.replace(o,"$1/"+n+"/")}else i=t.baseURI;r=i+e.join("/").replace(/[/]+/g,"/");return r};n.buildHubUrl=function(){return window.customHubUrl?window.customHubUrl:this.buildUrl(true,"hub")};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(48),n(11),n(102),n(112)],r=function(e,t,n,i,r){return e.extend({init:function e(n){this.assets=n;this.loading=true;this.$scope=t.$rootScope.$new(true);this.$scope.assets=n;i.create(this,"Resize");this.initLoadData();this.bindWatches()},destroy:function e(){this.$scope.$destroy()},initLoadData:function e(){},onLoadData:function e(){},doFilter:function e(t){return t.slice()},bindWatches:function e(){this.$scope.$watch("assets.query",this.onFilter.bind(this))},onFilter:function e(){var t=this.doFilter(this.list);this.items=t;this.matchCount=this.assets.query?t.length:0},resize:function e(t){this.Resize.emit(t)},addItemToSheetOrActiveObject:function e(t){r.itemDblClickHandler(t)},openContextMenu:function e(){},openPreview:function e(t,i){this.previewManager.open(t,this.assets.query,n(i.currentTarget))},closePreview:function e(){this.previewManager.close()}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(111)],r=function(e){var t,n;t={openPreview:function e(i){t.close();n=i},openContextMenu:function n(i,r,o){t.close();e.getService("qvContextMenu").show(i,{position:{x:o.pageX,y:o.pageY}})},close:function t(){if(n){n.close();n=null}e.getService("qvContextMenu").close()}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(2),n(90),n(13),n(49),n(489)],r=function(e,t,i,r,a){var s="en-US";var l=["es-ES","es","sv-SE","sv","ja-JP","ja","en-US","en-GB","en","de-DE","de","fr-FR","fr","it-IT","it","nl-NL","nl","pt-BR","pt","ru-RU","ru","zh-CN","zh","zh-TW","ko-KR","ko","tr-TR","tr","pl-PL","pl"];function u(){var t=i.apiPath+"v1/locale";return e({method:"GET",url:t,timeout:3e3}).then(function(e){return e.data.locale})}function c(){var t=i.apiPath+"about/v1/language";return e({method:"GET",url:t,headers:{"x-qlik-capabilities":"about"},timeout:3e3}).then(function(e){return e.data["accept-language"]})}function d(){return r.getFlag("USE_LOCALE_SERVICE")?u():c()}function f(e){var i=n.p+"assets/external/dragomanjs/";var r=i.replace(/\?+\d+/g,"");var u={path:r,fallbackLanguage:s,supportedLocales:l};var c=t.extend({},u,e);c="undefined"!==typeof e&&"object"===o(e)?t.extend({},u,e):u;return a.init(c)}function p(e){return d().then(function(n){e=t.extend({},e,{requestedLocales:n.toString()});return f(e)}).catch(function(){return f(e)})}return{init:p,translate:a.translate,locale:a.locale,format:a.format,parse:a.parse,defaultLocale:s,supportedLocales:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={CACHE:Object.create(null)};e.string=function(t){var n=e.CACHE[t]||(t+"").normalize("NFKC");e.CACHE[t]=n;return n};e.array=function(t){return t.map(function(t){return e.string(t)})};e.exist=function(t,n){t=e.string(t);n=e.array(n);return n.indexOf(t)>-1};e.find=function(t,n,i){t=e.string(t);var r=e.array(n);return(i?r:n).filter(function(e,n){return r[n].indexOf(t)>-1})};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(609),n(254),n(117),n(89),n(90)],r=function(e,t,n,i,r){var o={},a,s,l;a=e.extend("App",{init:function e(n,r,o,a,l){var u=this;o&&s||(s=u);u.rpcOptions=r||{};u.rpcOptions.onError=a;u.rpcOptions.onWarning=l;u.session=t.get(n,r);u.session.modelCache[n]=i.resolve(u);u.waitForOpen=new i;u._super({id:n,session:u.session,checkCreate:true});try{u.open().then(function(){u.waitForOpen.resolve(u)},function(e){u.waitForOpen.reject({error:e})})}catch(e){u.waitForOpen.reject({isHandled:false,error:e})}},open:function e(){var t=this;t.session.Error.bind(function(e){setTimeout(function(){e.error&&!e.error.isHandled&&window.console.log("Error from Engine:",e)},1e3)});function i(){t.enigmaModel=t.session.__enigmaApp;t.handle=t.enigmaModel.handle;t.engineApp=n.bootstrap(t.enigmaModel);t.engineApp.name=t.id;t.enigmaModel.engineApp=t.engineApp;a.current===t&&n.setCurrentApp(t.engineApp);t.bindToRPC()}return t.session.enigmaPromise.then(i)},close:function e(t){delete o[this.cacheId];this.session.close();if(s===this){s=void 0;l=true}return this._super(t)},createSessionObject:function e(t){return this.rpc("CreateSessionObject","qReturn",[t])},createSessionVariable:function e(t){return this.rpc("CreateSessionVariable","qReturn",[t])},doSave:function e(){return this.rpc("DoSave",null)},getProperties:function e(){return this._super("GetAppProperties")},setProperties:function e(t){return this._super(t,"SetAppProperties")},checkExpression:function e(t,n){var i=[t];n&&i.push(n);return this.rpc("CheckExpression",null,i)},checkNumberOrExpression:function e(t){return this.rpc("CheckNumberOrExpression",null,[t])},evaluateExpression:function e(t){return this.rpc("Evaluate","qReturn",[t])},getConfiguration:function e(){return this.session.rpc({method:"GetConfiguration",handle:-1,params:[]}).then(function(e){return e.result.qConfig})},getVersion:function e(){return this.session.rpc({method:"QvVersion",handle:-1,params:[]}).then(function(e){return e.result.qReturn})},getListOfFunctions:function e(){return this.session.rpc({method:"GetFunctions",handle:-1,params:[]}).then(function(e){return e.result.qFunctions})},getLocaleInfo:function e(){return this.rpc("GetLocaleInfo","qReturn")},getExpressions:function e(){return this.rpc("GetExpressions","qExpressions")},getStreams:function e(){var t=this;return t.streamsList?i.resolve(t.streamsList):this.session.rpc({method:"GetStreamList",handle:-1,params:[]}).then(function(e){t.streamsList=e.result.qStreamList;return t.streamsList})},getPublishableStreams:function e(){var t=this.getLayout();var n=this.getStreams();var r=new i;i.all({layout:t,streams:n}).then(function(e){var t=e.streams.filter(function(t){return e.layout.stream?t.qId===e.layout.stream.id&&-1!==t.privileges.indexOf("publish"):-1!==t.privileges.indexOf("publish")});r.resolve(t)});return r.promise},getMatchingFields:function e(t){return this.rpc("GetMatchingFields",null,[t])},getContentLibraries:function e(){return this.rpc("GetContentLibraries").then(function(e){return e.qList.qItems})},getLibraryContent:function e(t){return this.rpc("GetLibraryContent",null,[t]).then(function(e){return e.qList.qItems})},getMediaList:function e(){return this.rpc("GetMediaList").then(function(e){return e.qList.qItems})},findMatchingFields:function e(t,n){return this.rpc("FindMatchingFields",null,[t,n])},abortModal:function e(t){return this.enigmaModel.switchModalSelection(t)},switchModal:function e(t,n,r){this.enigmaModel.switchModalSelection(t&&t.enigmaModel,n,r);return i.resolve()},setModal:function e(t){this.enigmaModel.setModalSelection(t&&t.enigmaModel)},isModal:function e(){return this.enigmaModel.isInModalSelection()},publish:function e(t){return this.rpc("Publish",null,[t])}});Object.defineProperty(a,"current",{get:function e(){return s}});a.makeCacheId=function(e,t){var n=e.toLowerCase();if(t){n+=t.host?"/"+t.host:"/";n+=t.identity?"/"+t.identity:"/";n+=t.openWithoutData?"/openWithoutData":"/";n+=t.port?"/"+t.port:"/";n+=t.prefix?"/"+t.prefix:"/";n+=t.subpath?"/"+t.subpath:"/"}return n};a.get=function(e,t,n,r,o){if(!arguments.length&&l)return i.reject(new Error("The current app has been closed"));var s=a.getSync(e,t,n,r,o);return s.waitForOpen.promise};a.getSync=function(e,t,n,i,s){e=e||r.getParameterByName("app")||"?transient=";"undefined"===typeof t&&(t={});"string"!==typeof t.host&&(t.host=r.hostname);"string"!==typeof t.port&&(t.port=r.port);"string"!==typeof t.prefix&&(t.prefix="/"===r.basePath?"":r.basePath);"boolean"!==typeof t.isSecure&&(t.isSecure=r.isSecure);"string"!==typeof t.reloadURI&&(t.reloadURI=r.reloadURI);var l=a.makeCacheId(e,t);o[l]=o[l]||new a(e,t,n,i,s);var u=o[l];u.cacheId=l;return u};a.create=function(e,t){return t.rpc({method:"CreateApp",handle:-1,params:[e]}).then(function(e){return e.result})};a.remove=function(e,t){return t.rpc({method:"DeleteApp",handle:-1,params:[e]}).then(function(e){return e.result})};a.getList=function(e){return e.rpc({method:"GetDocList",handle:-1,params:[]}).then(function(e){return e.result.qDocList})};return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89),n(115),n(153),n(90),n(124),n(10)],r=function(e,t,n,i,r,o,a){var s=[];function l(n){return n?t.resolve(n.enigmaModel):e.getApp()}var u={};u.get=function(e,t){return l(t).then(function(t){return t.getObject(e)})};u.createTransient=function(e,t,i){var r,l,u,c=-1,d=s.length;r={that:e,app:t,props:i};for(l=0;l<d;l++)if(s[l].askFor.that===e&&s[l].askFor.app===t&&a.equals(s[l].askFor.props,i)){c=l;break}if(c>=0)return s[c].result;u=o.load().then(function(){return n.getType("listbox").getInitialProperties(i).then(function(e){return t.createSessionObject(e)})});s.push({askFor:r,result:u});return u};u.createTransientField=function(e,t,n){var o={};o.qListObjectDef=i.createFieldDimension(t);r.extend(true,o,n||{});return this.createTransient(this,e,o)};u.createTransientDimension=function(e,t,n){var o={};o.qListObjectDef=i.createLibraryDimension(t);r.extend(true,o,n||{});return this.createTransient(this,e,o)};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){return e&&e.enigmaModel&&e.enigmaModel.app&&e.enigmaModel===e.enigmaModel.app.modalSelectionObject}function t(e){return e&&e.qSelectionInfo&&e.qSelectionInfo.qInSelections}function n(e,t){var n=false;return e.getField(t).then(function(e){return e.getNxProperties().then(function(e){return e.qOneAndOnlyOne||n})})}function i(e){return e.getAppLayout().then(function(e){return["$"].concat(e.qStateNames)})}function r(e,t){var n=!!e.qOneAndOnlyOne;var i=!!t.qOneAndOnlyOne;if(n===i)return e.qSortIndex-t.qSortIndex;return n?-1:1}function o(e){return e.filter(function(e){return!e.qOneAndOnlyOne&&!e.qLocked})}function a(e){return(e||[]).filter(function(e){return o(e.qSelectionObject.qSelections).length})}return{isModalSelectionModel:e,isInSelection:t,isSingleSelect:n,getSelectionStates:i,sortSelections:r,getClearableItems:o,getClearableStates:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){var t={},n,i,r,o,a=false,s=e.Deferred();t.parse=function(e){n=e.userId;i=e.userDirectory;a=e.mustAuthenticate;o=e.loginUri;r=e.logoutUri;true===a&&e.loginUri&&(window.location.href=e.loginUri);s.resolve(this)};t.onDataReceived=s.promise();Object.defineProperties(t,{userId:{get:function e(){return n}},userDirectory:{get:function e(){return i}},mustAuthenticate:{get:function e(){return a}},loginUri:{get:function e(){return o}},logoutUri:{get:function e(){return r}}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(153),n(148),n(161),n(186),n(399),n(49),n(157),n(229)],r=function(e,t,n,i,r,o,a){function s(t,s,l,u){var c;if(o.getFlag("DISABLE_AUTO_CHART")||a.isVariableDefined("DISABLE_AUTO_CHART")||u&&u.shiftKey||!t.classifications&&!l.isDerived){c=e.createFieldDimension(t.qName);e.autoSortDimension(c,[t]);return{id:"newObject",args:{template:"filterpane",children:[e.createDefaultListBox(c,n.trimAutoCalendarName(t.qName))],init:{}}}}var d={id:"newObject",args:{template:"auto-chart",init:{qHyperCubeDef:{qDimensions:[],qMeasures:[],qInterColumnSortOrder:[0]}},annotatedFields:s}};if(i.isMeasure(t.classifications))return r.getAggregationForFieldItem(t).then(function(e){d.args.init.qHyperCubeDef.qMeasures.push({qDef:{qDef:i.getMeasureExpression(t.qName,e)},qSortBy:{qSortByNumeric:-1,qSortByLoadOrder:1}});return d});var f={qDef:{qFieldDefs:[t.qName],qSortCriterias:[{qSortByLoadOrder:1}]}};d.args.init.qHyperCubeDef.qDimensions.push(f);return d}function l(e){var t=[];for(var i=0;i<e.length;++i){var r=e[i];r.isDateField=c(r);r.isGeoField=d(r);t.push(r);if(r.qDerivedFieldData)for(var o=0;o<r.qDerivedFieldData.qDerivedFieldLists.length;++o){var a=r.qDerivedFieldData.qDerivedFieldLists[o];for(var s=0;s<a.qFieldDefs.length;++s){var l=a.qFieldDefs[s];t.push({qName:l.qName,displayName:n.trimAutoCalendarName(l.qName),qSrcTables:r.qSrcTables,qTags:l.qTags,isDerived:true,isDerivedFromDate:r.isDateField,sourceField:r.qName,derivedDefinitionName:a.qDerivedDefinitionName})}}}return t}function u(e,t,i){var r=[];if(t)for(var o=0;o<t.qDerivedFieldLists.length;++o){var a=t.qDerivedFieldLists[o];for(var l=0;l<a.qFieldDefs.length;++l){var u=a.qFieldDefs[l];r.push({id:u.qName,qName:u.qMethod,name:u.qName,displayName:n.trimAutoCalendarName(u.qName),qSrcTables:e.qSrcTables,srcTables:e.qSrcTables,qTags:u.qTags,tags:u.qTags,type:"field",isDerived:true,isDerivedFromDate:i,getDropOption:s.bind(null,u,null),sourceField:e.qName,derivedDefinitionName:a.qDerivedDefinitionName})}}return r}function c(e){if(e.qDerivedFieldData)return e.qTags.indexOf("$date")>-1||e.qTags.indexOf("$timestamp")>-1;return false}function d(e){return e.qTags.indexOf("$geoname")>-1}var f={create:function e(n,i){var r=n.map(function(e){var n=c(e);var r=d(e);var o=s.bind(null,e,null);var a=void 0;var l=void 0;var f=void 0;if(i){var p=i._getFields(e.qName,e.qSrcTables);if(p.length>0){a=i.getClassifications(e.qName,e.qSrcTables);l=i.getDataTypes(e.qName,e.qSrcTables);f=i.getDefaultAggregation(e.qName,e.qSrcTables)}o=s.bind(null,e,p);e["defaultAggregation"]=f;e["classifications"]=a;e["dataTypes"]=l}var h={id:e.qName,name:e.qName,type:"field",dataTypes:[],classifications:[],defaultAggregation:"",isDateField:n,isGeoField:r,srcTables:e.qSrcTables,sourceField:e.sourceField,calendarTemplateName:e.derivedDefinitionName,getDropOption:o,tags:e.qTags,icon:t.isDirectDiscoveryField(e)?"direct-discovery":"",iconTooltip:t.getTypeTranslationKey(e.qTags),derivedFields:e.qDerivedFieldData?u(e,e.qDerivedFieldData,n):[]};if(i){h.dataTypes=l;h.classifications=a;h.defaultAggregation=f}return h});return r},expand:l,createFromArray:function e(t,n){var i,r=[];for(i=0;i<t.length;i++){n&&(t[i].qName=t[i][n]);r.push({name:t[i].qName,type:"field",getDropOption:s.bind(null,t[i],null)})}return r},getTables:function e(t){var n=t;var i,r,o;o=[];for(i=0;i<n.length;++i)for(r=0;r<n[i].qSrcTables.length;++r)-1===o.indexOf(n[i].qSrcTables[r])&&o.push(n[i].qSrcTables[r]);return o}};return f}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(641),n(643)],r=function(){}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){function e(e,t){0===arguments.length?this.set(0,0):this.set(e,t)}e.prototype={toString:function e(){return this.x+" "+this.y},clone:function t(){return new e(this.x,this.y)},set:function e(t,n){this.x=t;this.y=n},equal:function e(t){return this.x===t.x&&this.y===t.y},closeTo:function e(t,n){if(!t)return false;return Math.abs(this.x-t.x)<n&&Math.abs(this.y-t.y)<n},distanceTo:function e(t){if(!t)return NaN;return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}};return e}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89),n(90)],r=function(e,t,n){function i(n){return n?t.resolve(n.enigmaModel):e.getApp()}var r={};r.get=function(e,t){return i(t).then(function(t){return t.getMeasure(e)})};r.create=function(e,t){return i(t).then(function(t){e.qInfo.qId=e.qInfo.qId||n.generateId();return t.createMeasure(e)})};r.remove=function(e,t){return i(t).then(function(t){return t.destroyMeasure(e)})};r.getList=function(e){return i(e).then(function(e){return e.getMeasureListObject()})};r.getListLayout=function(e){return r.getList(e).then(function(e){return e.getLayout()})};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){return!!e.qTags&&-1!==e.qTags.indexOf("$dd_measure")}function t(e){return!!e.qTags&&-1!==e.qTags.indexOf("$dd_details")}function n(e){return!!e.qTags&&-1!==e.qTags.indexOf("$dd_dimension")}function i(e){return!!e.qTags&&-1!==e.qTags.indexOf("$directdiscovery")}function r(n){var i=n;n&&(i=n.filter(function(n){return!e(n)&&!t(n)}));return i}function o(i){var r="";var o={qTags:i};e(o)?r="DirectDiscovery.Measure":t(o)?r="DirectDiscovery.Details":n(o)&&(r="DirectDiscovery.Dimension");return r}return{isMeasure:e,isDetails:t,isDimension:n,removeMeasureAndDetailsFields:r,getTypeTranslationKey:o,isDirectDiscoveryField:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(89),n(97),n(48)],r=function(e,t,n,i){function r(e,n){var i=new t;e.get(n).then(function(e){t.all({properties:e.getProperties(),layout:e.getLayout?e.getLayout():t.resolve()}).then(function(t){i.resolve({model:e,properties:t.properties,layout:t.layout})})});return i.promise}function o(t,n){t=t.map(function(t){return{name:t,matching:n&&e.match(t,n)}});t.sort(function(e,t){return e.matching&&!t.matching?-1:!e.matching&&t.matching?1:e.name.localeCompare(t.name)});return t}function a(e){var t=e.item;var n=e.query&&e.query.toLowerCase();var i=o(t.tags,n);return{query:n,name:t.name,tags:i}}function s(e,t,n,i){function r(){e(n);t()}return{action:r,icon:i.icon,disabled:i.disabled,title:i.title,tid:i.tid}}function l(e,t,n){return s(e,t,n,{icon:"bin",title:"Common.Delete",tid:"preview-delete-item"})}function u(e,t,n){return s(e,t,n,{icon:"lui-icon lui-icon--edit",title:"Common.Edit",tid:"preview-edit-item"})}function c(e,t,n){return s(e,t,n,{icon:"copy",title:"Common.Duplicate",tid:"preview-duplicate-item"})}function d(e,t,n,i,r){return s(e,t,n,{icon:"drop",title:i,tid:"preview-add-to-sheet",disabled:!r})}function f(e,t,n,i){return s(e,t,n,{icon:"drop",title:"library.addtosheet",tid:"preview-add-to-sheet",disabled:!i})}function p(e,t,n,i){return s(e,t,n,{icon:"expression",title:"contextMenu.addToMasterItems.AsMeasure",tid:"preview-add-as-measure",disabled:!i})}function h(e,t,n,i){return s(e,t,n,{icon:"box",title:"contextMenu.addToMasterItems.AsDimension",tid:"preview-add-as-dimension",disabled:!i})}function v(e,t,n,i){return s(e,t,n,{icon:"cogwheel",title:"field.settings.dialog.title",tid:"preview-field-settings",disabled:!i})}function m(e,t,n){return s(e,t,n,{icon:"code",title:"contextMenu.embed",tid:"7a71"})}function g(e,t){if(!t)return;e.alignTo=t;var n=e.alignTo.offset(),i=e.alignTo.parents("ul").outerWidth(),r=e.alignTo.outerHeight(),o=i+7,a=r/2;e.offset={x:n.left+o,y:n.top+a};e.position="centerRight"}function b(e){var t;var r=null;var o;function a(i,a,l){t=false;o=i;function u(u){if(t)return;r=e.createPreview({item:i,query:a,modelInfo:u,$element:l,closePreview:function e(t){t&&"qv-outside"===t.type&&(o=null);s()}});e.itemDialogHandler.openPreview(r);n.on("start.assets-preview",s);e.State.StateChanged.bind(s)}e.getSlowInfo?e.getSlowInfo(i).then(function(e){u(e)}):u()}function s(){if(r){r.close();e.itemDialogHandler.close();e.State.StateChanged.unbind(s);n.off("start.assets-preview",s);r=null;if(o){o.selected=false;o=null;i.$apply(i.$rootScope)}}t=true}return{open:a,close:s}}return{buttonDelete:l,buttonEdit:u,buttonDuplicate:c,buttonAddTo:d,buttonAddToSheet:f,buttonAddMeasure:p,buttonAddDimension:h,buttonFieldSettings:v,buttonEmbed:m,alignPreview:g,getBasePreviewInfo:a,getItemInformation:r,previewManagerFactory:b}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(93),n(89),n(144),n(48),n(678),n(679),n(680),n(681),n(682),n(94),n(683),n(107),n(166),n(91),n(455),n(96),n(685),n(49),n(686),n(99),n(500),n(425),n(710),n(712)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g,b,y,x,w){var S=null,C=null,E=[];function q(){if(C){C.close();C=null}}function _(e){if(E[e]){E[e].close();E[e]=null}}function T(e,t){t.preventDefault();var n=e.controller.previewText();e.codearea.contextApi.replaceSelection(n)}function k(e,t){t.preventDefault();e.codearea.contextApi.replaceSelection(e.controller.selectedFunction.value+"()");var n=e.codearea.contextApi.getCursor();n.ch+=-1;e.codearea.contextApi.setCursor(n)}function O(e,t){t.preventDefault();e.codearea.contextApi.replaceSelection(e.controller.selectedVariable.qName)}function D(e,t){t.preventDefault();"0"===e.controller.setExpressionOption?w.getCurrentSelections(e.controller.app,e.controller.selectedAlternateState).then(function(t){void 0!==t&&void 0!==t.qSetExpression&&""!==t.qSetExpression?e.codearea.contextApi.replaceSelection("{"+t.qSetExpression+"}"):void 0!==t&&void 0!==t.qSetExpression||M()}):e.controller.selectedBookmark&&w.getSelectionsFromBookmarkId(e.controller.app,e.controller.selectedBookmark.value,e.controller.selectedAlternateState).then(function(t){void 0!==t&&void 0!==t.qSetExpression&&""!==t.qSetExpression?e.codearea.contextApi.replaceSelection("{"+t.qSetExpression+"}"):void 0!==t&&void 0!==t.qSetExpression||M()})}function A(e,t){e.functionTipOptions={service:t,view:v}}function I(t,n,i,o){if(!i)return;if(C){s();return}i=i.replace(/\n/g," ");/^(input|textarea)$/i.test(document.activeElement.tagName)&&e.support.touch&&document.activeElement.blur();function a(){s();n.codearea.contextApi.focus()}function s(){e(document).off("keydown",a);e(document).off("mouseup",a);q()}C=r.getService("luiPopover").show({template:"<lui-popover><lui-popover-body><p>{{input.text}}</p></lui-popover-body></lui-popover>",input:{text:i},controller:["$element",function(e){e.css("z-index","1022")}],alignTo:o.target,closeOnEscape:true,closeOnOutside:true,dock:"top",autoFocus:false});C.closed.then(function(){s()});e(document).one("keydown",{self:this},a);e(document).one("mouseup",{self:this},a)}function L(e,t){var n={expression:e,validity:t.validity};return p.validateExpr(n,f)}function P(e){var t={};e.forEach(function(e){e.fglist.forEach(function(n){t[n]||(t[n]=[]);t[n].push(e.func)})});return t}function M(){var e=r.getService("qvAlertDialog");return e.show({title:h.get("ErrorDialog.Title"),message:h.get("ExpressionEditor.TooManySelections"),closeOnEscape:false})}function N(){var e={statusText:"",errorMsg:"",extraErrorMsg:"",status:"",expr:"",expandedExpr:"",codeArea:null};return e}var R=false;var F=b.getFlag("ADVANCED_EXPRESSION_EDITOR_PART3");var j=F&&b.getFlag("ALT_STATE_ONE");var B={template:o,sections:{fields:{key:"fields",translation:"ExpressionEditor.Fields",template:a,state:{sectionExpanded:true,table:{label:"",value:""},field:{label:"",value:""},aggregfunc:{label:"",value:""},setExpressionCheckBox:false,distinctCheckBox:"",totalCheckBox:""},expanded:true},functions:{key:"functions",translation:"ExpressionEditor.Functions",template:s,state:{sectionExpanded:false,functionCategory:{label:"",value:"ALL"},funct:{label:"",value:""}},expanded:false},setExpressions:{key:"setExpressions",translation:"ExpressionEditor.SetExpressions",template:u,state:{sectionExpanded:false,setExpressionOption:"0",selectedBookmark:"",selectedAlternateState:""},expanded:false},variables:{key:"variables",translation:"ExpressionEditor.Variables",template:l,state:{sectionExpanded:false,variable:"",sysVarsCheckBox:false,showVariablesFirstTime:true},expanded:false}},controller:["$scope","$element","$timeout",function(t,n,i){t.stringLimits=f;t.controller=t.input.controller;t.codearea={content:t.input.expr};t.validity={expression:true};t.initializeToolbar=function(){t.undoDisabled=false;t.redoDisabled=false};t.exposeSetExpression=b.getFlag("SET_EXPRESSION_CHECKBOX");t.isAdvancedPart3=b.getFlag("ADVANCED_EXPRESSION_EDITOR_PART3");t.sections=B.sections;t.items=[B.sections.fields,B.sections.functions,B.sections.setExpressions,B.sections.variables];t.$watch("controller.helpmodeActive",function(){if(t.controller.helpmodeActive){t.helpmodeTooltip="Tooltip.HelpMode.Exit";if(t.isAdvancedPart3){t.undoDisabled=true;t.redoDisabled=true}}else{t.helpmodeTooltip="Tooltip.HelpMode.Enter";if(t.isAdvancedPart3){t.undoDisabled=false;t.redoDisabled=false}}});t.$watch("controller.selectedFunctionCategory",function(e){t.sections.functions.state.functionCategory=e;t.controller.setFunctionCategoryFilter(e)});t.$watch("controller.selectedFunction",function(e){t.sections.functions.state.funct=e;e&&(t.controller.selectedFunctionTip=t.input.expressionBnfModel.getFunctionTip(e.value))});t.$watch("controller.selectedTable",function(e){t.sections.fields.state.table=e;t.controller.setTableFilter(e)});t.$watch("controller.selectedField",function(e){t.sections.fields.state.field=e});t.$watch("controller.selectedFunction",function(e){t.sections.fields.state.funct=e});t.$watch("controller.selectedCommonFunction",function(e){t.sections.fields.state.aggregfunc=e});t.$watch("controller.currentOption",function(e){if(t.exposeSetExpression){t.sections.fields.state.setExpressionCheckBox=e;e&&w.getCurrentSelections(t.app,t.controller.stateName).then(function(n){if(void 0!==n&&void 0!==n.qSetExpression&&""!==n.qSetExpression)t.controller.setCurrentSelections(n.qSetExpression);else if(void 0===n||void 0===n.qSetExpression){t.controller.currentOption=!e;t.sections.fields.state.setExpressionCheckBox=!e;M()}else{t.controller.currentOption=!e;t.items[0].state.setExpressionCheckBox=!e}}).catch(function(){t.controller.currentOption=!e;t.sections.fields.state.setExpressionCheckBox=!e})}});t.$watch("controller.distinctOption",function(e){t.sections.fields.state.distinctCheckBox=e});t.$watch("controller.totalOption",function(e){t.sections.fields.state.totalCheckBox=e});t.$watch("controller.showSystemVars",function(e){t.sections.variables.state.sysVarsCheckBox=e;t.controller.setSysVarsFilter()});t.$watch("controller.selectedVariable",function(e){t.sections.variables.state.variable=e;e?e.qDefinition&&0===e.qDefinition.indexOf("=")?t.app.evaluate(e.qDefinition).then(function(n){t.controller.showVariableInfo(e.qDefinition,n)}):t.controller.showVariableInfo(e.qDefinition,e.qDefinition):t.controller.showVariableInfo("","")});t.enableTouchOverlay=m.utils.touch;t.insertTextHandler=T.bind(null,t);t.insertFunctionHandler=k.bind(null,t);t.insertVariableHandler=O.bind(null,t);t.insertSetExpressionHandler=D.bind(null,t);t.info=N();t.showErrorMessage=I.bind(null,n,t);t.qlikviewReloadScriptMode={name:"qlikviewscript",service:t.input.expressionBnfModel};t.helpModeOptions={syntax:"chartsyntax",service:t.input.expressionBnfModel};t.autocompleteOptions={completeSingle:false,service:t.input.expressionBnfModel};A(t,t.input.expressionBnfModel);t.cancel=function(){t.close();t.$destroy()};function o(e){return e.replace(/(\r\n|\r|\n)/,"\r\n")}t.confirm=function(){var e=o(t.codearea.content);var n=L(e,t);(n||t.input.allowEmpty&&""===e)&&t.close(e)};c.StateChanged.bind(t.cancel);function a(e){t.info.codeArea=t.codearea;e=o(e);t.validity.expression||L(e,t)}x.treatAsDesktop()&&i(function(){i(function(){t.codearea.contextApi.focus();t.codearea.contextApi.setCursor(t.codearea.contextApi.lineCount(),0)})});t.$watch("codearea.content",a);t.openPopover=function(e){var n=e.currentTarget.dataset.context;S&&E&&S!==n&&_(S);S=n;if(!E[n]){E[n]=r.getService("luiPopover").show({template:y.template,controller:y.controller,alignTo:e.currentTarget,input:{context:n,ctrl:t.controller,closePopover:_,items:t.controller.getData(S),setSelectedItem:t.controller.setSelectedItem},position:"bottom",closeOnEscape:true});E[n].closed.then(function(){_(n)})}};i(function(){e(".qv-expandable-list-component").on("scroll",function(){_()})});t.closePopoverIfOpen=function(t){var n=e(t.currentTarget).parents(".popover-wrapper").length>0,i=e(t.target).hasClass("expression-editor-dropdown"),r=e(t.target).hasClass("label");n||i||r||_(S)};t.$on("$destroy",function(){q();_(S);e(".qv-expandable-list-component").off("scroll");R=false;c.StateChanged.unbind(t.cancel)});t.onHelpmode=function(){t.controller.helpmodeActive=!t.controller.helpmodeActive;e(document.body).toggleClass("help-mode",t.controller.helpmodeActive)};function s(){t.controller.helpmodeActive=false}t.onUndo=function(){s();t.codearea.contextApi.undo()};t.onRedo=function(){s();t.codearea.contextApi.redo()};t.initializeToolbar();t.changeCurrentSetExpressionOption=function(e){if(!F)return;t.sections.setExpressions.state.setExpressionOption=e;t.controller.selectedBookmark="";t.controller.selectedAlternateState="";"0"===e?j&&t.controller.currentSelectionsAlternateStates.length>0&&(t.controller.selectedAlternateState=t.controller.currentSelectionsAlternateStates[0].value):t.controller.bookmarks.length>0&&(t.controller.selectedBookmark=t.controller.bookmarks[0])};t.$watch("controller.selectedBookmark",function(e){if(!F)return;t.sections.setExpressions.state.selectedBookmark=e;j&&e&&e.alternateStates.length>0&&(t.controller.isStateInArray(e.alternateStates,t.controller.selectedAlternateState)||(t.controller.selectedAlternateState=e.alternateStates[0].value))});t.$watch("controller.selectedAlternateState",function(e){j&&(t.sections.setExpressions.state.selectedAlternateState=e)})}]};function V(e){var o=e.app?n.resolve(e.app.enigmaModel):t.getApp();return o.then(function(t){return n.all({bnf:g.get(t),fields:t.getFieldList(),variables:t.getVariableList(),layout:t.getLayout(),bookmarks:t.getBookmarkList()}).then(function(o){if(R)return n.reject();var a=o.bnf;var s=i.expand(o.fields);var l=P(a.getFunctionsAndCategories());var u=String(e.expr||"");var c={title:e.title,allowEmpty:e.allowEmpty,labels:e.labels,expr:u,mode:e.mode,controller:d.create({fields:s,sections:B.sections,functions:l,variables:o.variables,bookmarks:o.bookmarks,translator:h,exposeSetExpression:b.getFlag("SET_EXPRESSION_CHECKBOX"),isAdvancedPart3:F,isAlternateState:j,showAlternateStates:j&&t.layout.qStateNames.length>0,stateName:e.stateName,published:true===o.layout.published,app:t}),app:t,expressionBnfModel:a};R=true;var f=r.getService("luiDialog").show({template:B.template,controller:B.controller,input:c,closeOnOutside:false,showArrow:false});return f.closed.then(function(e){return void 0===e?n.reject():e})})})}function H(){return R}return{_insertTextHandler:T,show:V,isOpen:H}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.GetFields=function(){return[e.QueryField.name,e.QueryExpressionField.name,e.QueryTransformField.name]},e}();n.QueryStatus={delete:"Delete",update:"Update",add:"Add",inSynchWithMaster:""},n.tags={hidden:"$hidden"},n.QueryField={name:"QueryField"},n.Query={name:"Query",prefix:"query"},n.ConcatenationQuery={name:"ConcatenationQuery",prefix:"concatquery"},n.ForcedConcatenationQuery={name:"ForcedConcatenationQuery"},n.JoinedQuery={name:"JoinedQuery"},n.CompositeQueryField={name:"CompositeQueryField"},n.CrossTableQuery={name:"CrossTableQuery"},n.DataSourceDescriptor={name:"DataSourceDescriptor",prefix:"dsd"},n.QueryExpressionField={name:"QueryExpressionField"},n.QueryTransformField={name:"QueryTransformField"},n.Transformations={geoPoint:"makeGeoPoint",lookupGeoInfo:"lookupGeoInfo",interpretValues:"interpretValues",defineOrder:"defineOrder",fieldSplit:"fieldSplit",mapValues:"mapValues",bucketed:"bucketed"},t.DSMTypes=n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i=n(11);var r=n(54);var o=n(615);(function(e,t){var n=this,r;r=n.SirTrevor={};r.DEBUG=false;r.SKIP_VALIDATION=false;r.version="0.3.0";r.LANGUAGE="en";function a(t){return t instanceof e?t:e(t)}r.DEFAULTS={defaultType:false,spinner:{className:"st-spinner",lines:9,length:8,width:3,radius:6,color:"#000",speed:1.4,trail:57,shadow:false,left:"50%",top:"50%"},blockLimit:0,blockTypeLimits:{},required:[],uploadUrl:"/attachments",baseImageUrl:"/sir-trevor-uploads/",errorsContainer:void 0};r.BlockMixins={};r.Blocks={};r.Formatters={};r.instances=[];r.Events=o;var s=false;var l={bound:[],_bindFunctions:function(){this.bound.length>0&&t.bindAll.apply(null,t.union([this],this.bound))}};var u={tagName:"div",className:"sir-trevor__view",attributes:{},$:function(e){return this.$el.find(e)},render:function(){return this},destroy:function(){t.isUndefined(this.stopListening)||this.stopListening();this.$el.remove()},_ensureElement:function(){if(this.el)this._setElement(this.el);else{var n=t.extend({},t.result(this,"attributes")),i;this.id&&(n.id=this.id);this.className&&(n["class"]=this.className);if(n.html){i=n.html;delete n.html}var r=e("<"+this.tagName+">").attr(n);i&&r.html(i);this._setElement(r)}},_setElement:function(e){this.$el=a(e);this.el=this.$el[0];return this}};function c(e,t){var n=-1,i=-1,r=t.length,o=e.length;for(var a=0;a<r;a++){-1==n&&e.substr(a,1)!=t.substr(a,1)&&(n=a-1);-1==i&&e.substr(o-a-1,1)!=t.substr(r-a-1,1)&&(i=a)}return{result:t.substr(n,r-i-n+1),pos1:n,pos2:i}}(function(e){function t(e){e.preventDefault()}function n(t){t.originalEvent.dataTransfer.dropEffect="copy";e(t.currentTarget).addClass("st-drag-over");t.preventDefault()}function i(t){e(t.currentTarget).removeClass("st-drag-over");t.preventDefault()}e.fn.dropArea=function(){this.bind("dragenter",t).bind("dragover",n).bind("dragleave",i);return this};e.fn.noDropArea=function(){this.unbind("dragenter").unbind("dragover").unbind("dragleave");return this};e.fn.caretToEnd=function(){var e,t;e=document.createRange();e.selectNodeContents(this[0]);e.collapse(false);t=window.getSelection();t.removeAllRanges();t.addRange(e);return this}})(i);var d=function(e,n){var i=this;var r;r=e&&t.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)};t.extend(r,i,n);var o=function(){this.constructor=r};o.prototype=i.prototype;r.prototype=new o;e&&t.extend(r.prototype,e);r.__super__=i.prototype;return r};r.log=function(e){!t.isUndefined(console)&&r.DEBUG&&console.log(e)};r.Locales={en:{general:{delete:"Delete?",drop:"Drag __block__ here",paste:"Or paste URL here",upload:"...or choose a file",close:"close",position:"Position",wait:"Please wait...",link:"Enter a link"},errors:{title:"You have the following errors:",validation_fail:"__type__ block is invalid",block_empty:"__name__ must not be empty",type_missing:"You must have a block of type __type__",required_type_empty:"A required block type __type__ is empty",load_fail:"There was a problem loading the contents of the document"},blocks:{text:{title:"Text"},list:{title:"List"},quote:{title:"Quote",credit_field:"Credit"},image:{title:"Image",upload_error:"There was a problem with your upload"},video:{title:"Video"},embedly:{title:"Embedly",fetch_error:"There was a problem fetching your embed",key_missing:"An Embedly API key must be present"},heading:{title:"Heading"}}}};if(void 0===window.i18n){r.log("Using i18n stub");window.i18n={t:function(e,n){var i=e.split(":"),o,a,s,l;a=r.Locales[r.LANGUAGE];for(l=0;l<i.length;l++){s=i[l];t.isUndefined(a[s])||(a=a[s])}o=a;if(!t.isString(o))return"";o.indexOf("__")>=0&&t.each(n,function(e,t){o=o.replace("__"+t+"__",e)});return o}}}else{r.log("Using i18next");i18n.init({resStore:r.Locales,fallbackLng:r.LANGUAGE,ns:{namespaces:["general","blocks"],defaultNs:"general"}})}(function(e,t,n){function i(e,n){var i=t.createElement(e||"div"),r;for(r in n)i[r]=n[r];return i}function r(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function o(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,a=Math.max(1-(1-e)/t*(100-o),e),s=f.substring(0,f.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return d[r]||(p.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+a+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",0),d[r]=1),r}function a(e,t){var i=e.style,r,o;if(i[t]!==n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(o=0;o<c.length;o++){r=c[o]+t;if(i[r]!==n)return r}}function s(e,t){for(var n in t)e.style[a(e,n)||n]=t[n];return e}function l(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)e[r]===n&&(e[r]=i[r])}return e}function u(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var c=["webkit","Moz","ms","O"],d={},f,p=function(){var e=i("style");return r(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},v=function e(t){if(!this.spin)return new e(t);this.opts=l(t||{},e.defaults,h)};v.defaults={},l(v.prototype,{spin:function(e){this.stop();var t=this,n=t.opts,r=t.el=s(i(0,{className:n.className}),{position:"relative",zIndex:n.zIndex}),o=n.radius+n.length+n.width,a,l;e&&(e.insertBefore(r,e.firstChild||null),l=u(e),a=u(r),s(r,{left:("auto"==n.left?l.x-a.x+(e.offsetWidth>>1):n.left+o)+"px",top:("auto"==n.top?l.y-a.y+(e.offsetHeight>>1):n.top+o)+"px"})),r.setAttribute("aria-role","progressbar"),t.lines(r,t.opts);if(!f){var c=0,d=n.fps,p=d/n.speed,h=(1-n.opacity)/(p*n.trail/100),v=p/n.lines;!function e(){c++;for(var i=n.lines;i;i--){var o=Math.max(1-(c+i*v)%p*h,n.opacity);t.opacity(r,n.lines-i,o,n)}t.timeout=t.el&&setTimeout(e,~~(1e3/d))}()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function n(e,n){return s(i(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*a+t.rotate)+"deg) translate("+t.radius+"px,0)",borderRadius:(t.width>>1)+"px"})}var a=0,l;for(;a<t.lines;a++)l=s(i(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:f&&o(t.opacity,t.trail,a,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&r(l,s(n("#000","0 0 4px #000"),{top:"2px"})),r(e,r(l,n(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),!function(){function e(e,t){return i("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=s(i("group"),{behavior:"url(#default#VML)"});!a(t,"transform")&&t.adj?(p.addRule(".spin-vml","behavior:url(#default#VML)"),v.prototype.lines=function(t,n){function i(){return s(e("group",{coordsize:l+" "+l,coordorigin:-a+" "+-a}),{width:l,height:l})}function o(t,o,l){r(c,r(s(i(),{rotation:360/n.lines*t+"deg",left:~~o}),r(s(e("roundrect",{arcsize:1}),{width:a,height:n.width,left:n.radius,top:-n.width>>1,filter:l}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var a=n.length+n.width,l=2*a,u=2*-(n.width+n.length)+"px",c=s(i(),{position:"absolute",top:u,left:u}),d;if(n.shadow)for(d=1;d<=n.lines;d++)o(d,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(d=1;d<=n.lines;d++)o(d);return r(t,c)},v.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}):f=a(t,"animation")}(),e.Spinner=v})(window,document);r.editorStore=function(e,n,i){var o;i=i||{};switch(n){case"create":var a=t.trim(e.$el.val());e.dataStore={data:[]};if(a.length>0)try{var s=JSON.parse(a);t.isUndefined(s.data)||(e.dataStore=s)}catch(t){e.errors.push({text:i18n.t("errors:load_fail")});e.renderErrors();r.log("Sorry there has been a problem with parsing the JSON");r.log(t)}break;case"reset":e.dataStore={data:[]};break;case"add":if(i.data){e.dataStore.data.push(i.data);o=e.dataStore}break;case"save":e.$el.val(e.dataStore.data.length>0?JSON.stringify(e.dataStore):"");break;case"read":o=e.dataStore;break}if(o)return o};r.Submittable=function(e){this.$form=e;this.intialize()};t.extend(r.Submittable.prototype,{intialize:function(){this.$submitBtn=this.$form.find("input[type='submit']");var n=[];t.each(this.$submitBtn,function(t){n.push(e(t).attr("value"))});this.submitBtnTitles=n;this.canSubmit=true;this.globalUploadCount=0;this._bindEvents()},setSubmitButton:function(e,t){this.$submitBtn.attr("value",t)},resetSubmitButton:function(){t.each(this.$submitBtn,function(t,n){e(t).attr("value",this.submitBtnTitles[n])},this)},onUploadStart:function(e){this.globalUploadCount++;r.log("onUploadStart called "+this.globalUploadCount);1===this.globalUploadCount&&this._disableSubmitButton()},onUploadStop:function(e){this.globalUploadCount=this.globalUploadCount<=0?0:this.globalUploadCount-1;r.log("onUploadStop called "+this.globalUploadCount);0===this.globalUploadCount&&this._enableSubmitButton()},onError:function(e){r.log("onError called");this.canSubmit=false},_disableSubmitButton:function(e){this.setSubmitButton(null,e||i18n.t("general:wait"));this.$submitBtn.attr("disabled","disabled").addClass("disabled")},_enableSubmitButton:function(){this.resetSubmitButton();this.$submitBtn.removeAttr("disabled").removeClass("disabled")},_events:{disableSubmitButton:"_disableSubmitButton",enableSubmitButton:"_enableSubmitButton",setSubmitButton:"setSubmitButton",resetSubmitButton:"resetSubmitButton",onError:"onError",onUploadStart:"onUploadStart",onUploadStop:"onUploadStop"},_bindEvents:function(){t.forEach(this._events,function(e,t){r.EventBus.on(t,this[e],this)},this)}});r.fileUploader=function(n,i,o,a){var s=[n.blockID,(new Date).getTime(),"raw"].join("-");var l=new FormData;l.append("attachment[name]",i.name);l.append("attachment[file]",i);l.append("attachment[uid]",s);n.resetMessages();var u=function(e){r.log("Upload callback called");!t.isUndefined(o)&&t.isFunction(o)&&t.bind(o,n)(e)};var c=function(e,i,o){r.log("Upload callback error called");!t.isUndefined(a)&&t.isFunction(a)&&t.bind(a,n)(i)};var d=e.ajax({url:r.DEFAULTS.uploadUrl,data:l,cache:false,contentType:false,processData:false,dataType:"json",type:"POST"});n.addQueuedItem(s,d);d.done(u).fail(c).always(t.bind(n.removeQueuedItem,n,s));return d};var f=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;t.mixin({isURI:function(e){return f.test(e)},titleize:function(e){if(null===e)return"";e=String(e).toLowerCase();return e.replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})},classify:function(e){return t.titleize(String(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},classifyList:function(e){return t.map(e,function(e){return t.classify(e)})},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()},underscored:function(e){return t.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},reverse:function(e){return e.split("").reverse().join("")},flattern:function(e){var n={};t.each(e,function(i,r){n[t.isArray(e)?i:r]=true});return n},to_slug:function(e){return e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}});r.toHTML=function(e,n){n=t.classify(n);var i=e,o="Text"===n;t.isUndefined(o)&&(o=false);o&&(i="<div>"+i);i=i.replace(/^\> (.+)$/gm,"$1");var a,s;for(a in r.Formatters)if(r.Formatters.hasOwnProperty(a)){s=r.Formatters[a];!t.isUndefined(s.toHTML)&&t.isFunction(s.toHTML)&&(i=s.toHTML(i))}var l;if(r.Blocks.hasOwnProperty(n)){l=r.Blocks[n];!t.isUndefined(l.prototype.toHTML)&&t.isFunction(l.prototype.toHTML)&&(i=l.prototype.toHTML(i))}if(o){i=i.replace(/\n\n/gm,"</div><div><br></div><div>");i=i.replace(/\n/gm,"</div><div>")}i=i.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\n/g,"<br>").replace(/\*\*/,"").replace(/__/,"");i=i.replace(/\\\*/g,"*").replace(/\\\[/g,"[").replace(/\\\]/g,"]").replace(/\\\_/g,"_").replace(/\\\(/g,"(").replace(/\\\)/g,")").replace(/\\\~/g,"~").replace(/\\\-/g,"-");o&&(i+="</div>");return i};r.toMarkdown=function(e,n){n=t.classify(n);var i=e;i=i.replace(/( class=(")?Mso[a-zA-Z]+(")?)/g,"").replace(/<!--(.*?)-->/g,"").replace(/\/\*(.*?)\*\//g,"").replace(/<(\/)*(meta|link|\\?xml:|st1:|o:)(.*?)>/gi,"");var o=["style","script","applet","embed","noframes","noscript"],a,s;for(s=0;s<o.length;s++){a=new RegExp("<"+o[s]+".*?"+o[s]+"(.*?)>","gi");i=i.replace(a,"")}i=i.replace(/\*/g,"\\*").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\_/g,"\\_").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\~/g,"\\~").replace(/\-/g,"\\-");function l(e,n,i){t.isUndefined(i)&&(i="");return"**"+n.replace(/<(.)?br(.)?>/g,"")+"**"+i}function u(e,n,i){t.isUndefined(i)&&(i="");return"_"+n.replace(/<(.)?br(.)?>/g,"")+"_"+i}i=i.replace(/\u200b/g,"").replace(/<(\w+)(?:\s+\w+="[^"]+(?:"\$[^"]+"[^"]+)?")*>\s*<\/\1>/gim,"").replace(/\n/gm,"");var c,d;for(c in r.Formatters)if(r.Formatters.hasOwnProperty(c)){d=r.Formatters[c];!t.isUndefined(d.toMarkdown)&&t.isFunction(d.toMarkdown)&&(i=d.toMarkdown(i))}i=i.replace(/([^<>]+)(<div>)/g,"$1\n$2").replace(/<div><div>/g,"\n<div>").replace(/(?:<div>)([^<>]+)(?:<div>)/g,"$1\n").replace(/(?:<div>)(?:<br>)?([^<>]+)(?:<br>)?(?:<\/div>)/g,"$1\n").replace(/<\/p>(?!$)/g,"\n").replace(/<(.)?br(.)?>/g,"\n");i=i.replace(/&nbsp;/g," ");var f;if(r.Blocks.hasOwnProperty(n)){f=r.Blocks[n];!t.isUndefined(f.prototype.toMarkdown)&&t.isFunction(f.prototype.toMarkdown)&&(i=f.prototype.toMarkdown(i))}i=i.replace(/<\/?[^>]+(>|$)/g,"");return i};r.EventBus=t.extend({},r.Events);r.BlockMixins.Ajaxable={mixinName:"Ajaxable",ajaxable:true,initializeAjaxable:function(){this._queued=[]},addQueuedItem:function(e,t){r.log("Adding queued item for "+this.blockID+" called "+e);r.EventBus.trigger("onUploadStart");this._queued.push({name:e,deffered:t})},removeQueuedItem:function(e){r.log("Removing queued item for "+this.blockID+" called "+e);r.EventBus.trigger("onUploadStop");this._queued=t.reject(this._queued,function(t){return t.name==e})},hasItemsInQueue:function(){return this._queued.length>0},resolveAllInQueue:function(){t.each(this._queued,function(e){r.log("Aborting queued request: "+e.name);e.deffered.abort()},this)}};r.BlockMixins.Controllable={mixinName:"Controllable",initializeControllable:function(){r.log("Adding controllable to block "+this.blockID);this.$control_ui=e("<div>",{class:"st-block__control-ui"});t.each(this.controls,function(e,n){this.addUiControl(n,t.bind(e,this))},this);this.$inner.append(this.$control_ui)},getControlTemplate:function(t){return e("<a>",{"data-icon":t,class:"st-icon st-block-control-ui-btn st-block-control-ui-btn--"+t})},addUiControl:function(e,t){this.$control_ui.append(this.getControlTemplate(e));this.$control_ui.on("click",".st-block-control-ui-btn--"+e,t)}};r.BlockMixins.Droppable={mixinName:"Droppable",valid_drop_file_types:["File","Files","text/plain","text/uri-list"],initializeDroppable:function(){r.log("Adding droppable to block "+this.blockID);this.drop_options=t.extend({},r.DEFAULTS.Block.drop_options,this.drop_options);var n=e(t.template(this.drop_options.html,{block:this}));this.$editor.hide();this.$inputs.append(n);this.$dropzone=n;this.$dropzone.dropArea().bind("drop",t.bind(this._handleDrop,this));this.$inner.addClass("st-block__inner--droppable")},_handleDrop:function(n){n.preventDefault();n=n.originalEvent;var i=e(n.target),o=n.dataTransfer.types,a,s=[];i.removeClass("st-dropzone--dragover");!t.isUndefined(o)&&t.some(o,function(e){return t.include(this.valid_drop_file_types,e)},this)&&this.onDrop(n.dataTransfer);r.EventBus.trigger("block:content:dropped")}};r.BlockMixins.Fetchable={mixinName:"Fetchable",initializeFetchable:function(){this.withMixin(r.BlockMixins.Ajaxable)},fetch:function(n,i,r){var o=t.uniqueId(this.blockID+"_fetch"),a=e.ajax(n);this.resetMessages();this.addQueuedItem(o,a);t.isUndefined(i)||a.done(t.bind(i,this));t.isUndefined(r)||a.fail(t.bind(r,this));a.always(t.bind(this.removeQueuedItem,this,o));return a}};r.BlockMixins.Pastable={mixinName:"Pastable",initializePastable:function(){r.log("Adding pastable to block "+this.blockID);this.paste_options=t.extend({},r.DEFAULTS.Block.paste_options,this.paste_options);this.$inputs.append(t.template(this.paste_options.html,this));this.$(".st-paste-block").bind("click",function(){e(this).select()}).bind("paste",this._handleContentPaste).bind("submit",this._handleContentPaste)}};r.BlockMixins.Uploadable={mixinName:"Uploadable",uploadsCount:0,initializeUploadable:function(){r.log("Adding uploadable to block "+this.blockID);this.withMixin(r.BlockMixins.Ajaxable);this.upload_options=t.extend({},r.DEFAULTS.Block.upload_options,this.upload_options);this.$inputs.append(t.template(this.upload_options.html,this))},uploader:function(e,t,n){return r.fileUploader(this,e,t,n)}};r.BlockPositioner=function(){var e=["<div class='st-block-positioner__inner'>","<span class='st-block-positioner__selected-value'></span>","<select class='st-block-positioner__select'></select>","</div>"].join("\n");var n=function(e,t){this.$block=e;this.instanceID=t;this.total_blocks=0;this._ensureElement();this._bindFunctions();this.initialize()};t.extend(n.prototype,l,u,{bound:["onBlockCountChange","onSelectChange","toggle","show","hide"],className:"st-block-positioner",visibleClass:"st-block-positioner--is-visible",initialize:function(){this.$el.append(e);this.$select=this.$(".st-block-positioner__select");this.$select.on("change",this.onSelectChange);r.EventBus.on(this.instanceID+":blocks:count_update",this.onBlockCountChange)},onBlockCountChange:function(e){if(e!=this.total_blocks){this.total_blocks=e;this.renderPositionList()}},onSelectChange:function(){var e=this.$select.val();if(0!==e){r.EventBus.trigger(this.instanceID+":blocks:change_position",this.$block,e,1==e?"before":"after");this.toggle()}},renderPositionList:function(){var e="<option value='0'>"+i18n.t("general:position")+"</option>";for(var t=1;t<=this.total_blocks;t++)e+="<option value="+t+">"+t+"</option>";this.$select.html(e)},toggle:function(){this.$select.val(0);this.$el.toggleClass(this.visibleClass)},show:function(){this.$el.addClass(this.visibleClass)},hide:function(){this.$el.removeClass(this.visibleClass)}});return n}();r.BlockReorder=function(){var n=function(e){this.$block=e;this._ensureElement();this._bindFunctions();this.initialize()};t.extend(n.prototype,l,u,{bound:["onMouseDown","onClick","onDragStart","onDragEnd","onDrag","onDrop"],className:"st-block-ui-btn st-block-ui-btn--reorder st-icon",tagName:"a",attributes:function(){return{html:"reorder",draggable:"true","data-icon":"move"}},initialize:function(){this.$el.bind("mousedown touchstart",this.onMouseDown).bind("click",this.onClick).bind("dragstart",this.onDragStart).bind("dragend touchend",this.onDragEnd).bind("drag touchmove",this.onDrag);this.$block.dropArea().bind("drop",this.onDrop)},onMouseDown:function(){r.EventBus.trigger("block:reorder:down")},onDrop:function(n){n.preventDefault();var i=this.$block,o=n.originalEvent.dataTransfer.getData("text/plain"),a=e("#"+o);t.isUndefined(o)||t.isEmpty(a)||i.attr("id")==o||i.attr("data-instance")!=a.attr("data-instance")||i.after(a);r.EventBus.trigger("block:reorder:dropped",o)},onDragStart:function(t){var n=e(t.currentTarget).parent();t.originalEvent.dataTransfer.setDragImage(this.$block[0],n.position().left,n.position().top);t.originalEvent.dataTransfer.setData("Text",this.$block.attr("id"));r.EventBus.trigger("block:reorder:dragstart");this.$block.addClass("st-block--dragging")},onDragEnd:function(e){r.EventBus.trigger("block:reorder:dragend");this.$block.removeClass("st-block--dragging")},onDrag:function(e){},onClick:function(){},render:function(){return this}});return n}();r.BlockDeletion=function(){var e=function(){this._ensureElement();this._bindFunctions()};t.extend(e.prototype,l,u,{tagName:"a",className:"st-block-ui-btn st-block-ui-btn--delete st-icon",attributes:{html:"delete","data-icon":"bin"}});return e}();var p=function(e){var n=e.attr("data-st-name")||e.attr("name");n||(n="Field");return t.capitalize(n)};r.BlockValidations={errors:[],valid:function(){this.performValidations();return 0===this.errors.length},performValidations:function(){this.resetErrors();var e=this.$(".st-required");t.each(e,this.validateField,this);t.each(this.validations,this.runValidator,this);this.$el.toggleClass("st-block--with-errors",this.errors.length>0)},validations:[],validateField:function(t){t=e(t);var n=t.attr("contenteditable")?t.text():t.val();0===n.length&&this.setError(t,i18n.t("errors:block_empty",{name:p(t)}))},runValidator:function(e){t.isUndefined(this[e])||this[e].call(this)},setError:function(e,t){var n=this.addMessage(t,"st-msg--error");e.addClass("st-error");this.errors.push({field:e,reason:t,msg:n})},resetErrors:function(){t.each(this.errors,function(e){e.field.removeClass("st-error");e.msg.remove()});this.$messages.removeClass("st-block__messages--is-visible");this.errors=[]}};r.BlockStore={blockStorage:{},createStore:function(e){this.blockStorage={type:t.underscored(this.type),data:e||{}}},save:function(){this.toData()},saveAndReturnData:function(){this.save();return this.blockStorage},saveAndGetData:function(){var e=this.saveAndReturnData();return e.data||e},getData:function(){return this.blockStorage.data},setData:function(e){r.log("Setting data for block "+this.blockID);t.extend(this.blockStorage.data,e||{})},setAndRetrieveData:function(e){this.setData(e);return this.getData()},setAndLoadData:function(e){this.setData(e);this.beforeLoadingData()},toData:function(){},loadData:function(){},beforeLoadingData:function(){r.log("loadData for "+this.blockID);r.EventBus.trigger("editor/block/loadData");this.loadData(this.getData())},_loadData:function(){r.log("_loadData is deprecated and will be removed in the future. Please use beforeLoadingData instead.");this.beforeLoadingData()},checkAndLoadData:function(){t.isEmpty(this.getData())||this.beforeLoadingData()}};r.SimpleBlock=function(){var n=function(e,n){this.createStore(e);this.blockID=t.uniqueId("st-block-");this.instanceID=n;this._ensureElement();this._bindFunctions();this.initialize.apply(this,arguments)};t.extend(n.prototype,l,r.Events,u,r.BlockStore,{focus:function(){},valid:function(){return true},className:"st-block",block_template:t.template("<div class='st-block__inner'><%= editor_html %></div>"),attributes:function(){return{id:this.blockID,"data-type":this.type,"data-instance":this.instanceID}},title:function(){return t.titleize(this.type.replace(/[\W_]/g," "))},blockCSSClass:function(){this.blockCSSClass=t.to_slug(this.type);return this.blockCSSClass},type:"",class:function(){return t.classify(this.type)},editorHTML:"",initialize:function(){},onBlockRender:function(){},beforeBlockRender:function(){},_setBlockInner:function(){var e=t.result(this,"editorHTML");this.$el.append(this.block_template({editor_html:e}));this.$inner=this.$el.find(".st-block__inner");this.$inner.bind("click mouseover",function(e){e.stopPropagation()})},render:function(){this.beforeBlockRender();this._setBlockInner();this._blockPrepare();return this},_blockPrepare:function(){this._initUI();this._initMessages();this.checkAndLoadData();this.$el.addClass("st-item-ready");this.on("onRender",this.onBlockRender);this.save()},_withUIComponent:function(e,t,n){this.$ui.append(e.render().$el);t&&n&&this.$ui.on("click",t,n)},_initUI:function(){var t=e("<div>",{class:"st-block__ui"});this.$inner.append(t);this.$ui=t;this._initUIComponents()},_initMessages:function(){var t=e("<div>",{class:"st-block__messages"});this.$inner.prepend(t);this.$messages=t},addMessage:function(t,n){var i=e("<span>",{html:t,class:"st-msg "+n});this.$messages.append(i).addClass("st-block__messages--is-visible");return i},resetMessages:function(){this.$messages.html("").removeClass("st-block__messages--is-visible")},_initUIComponents:function(){this._withUIComponent(new r.BlockReorder(this.$el))}});n.fn=n.prototype;n.extend=d;return n}();r.Block=function(){var n=function(e,t){r.SimpleBlock.apply(this,arguments)};var i=["<div class='st-block__ui-delete-controls'>","<label class='st-block__delete-label'>","<%= i18n.t('general:delete') %>","</label>","<a class='st-block-ui-btn st-block-ui-btn--confirm-delete st-icon' data-icon='tick'></a>","<a class='st-block-ui-btn st-block-ui-btn--deny-delete st-icon' data-icon='close'></a>","</div>"].join("\n");var o={html:['<div class="st-block__dropzone">','<span class="st-icon"><%= _.result(block, "icon_name") %></span>','<p><%= i18n.t("general:drop", { block: "<span>" + _.result(block, "title") + "</span>" }) %>',"</p></div>"].join("\n"),re_render_on_reorder:false};var a={html:['<input type="text" placeholder="<%= i18n.t("general:paste") %>"',' class="st-block__paste-input st-paste-block">'].join("")};var s={html:['<div class="st-block__upload-container">','<input type="file" type="st-file-upload">','<button class="st-upload-btn"><%= i18n.t("general:upload") %></button>',"</div>"].join("\n")};r.DEFAULTS.Block={drop_options:o,paste_options:a,upload_options:s};t.extend(n.prototype,r.SimpleBlock.fn,r.BlockValidations,{bound:["_handleContentPaste","_onFocus","_onBlur","onDrop","onDeleteClick","clearInsertedStyles","getSelectionForFormatter","onBlockRender"],className:"st-block st-icon--add",attributes:function(){return t.extend(r.SimpleBlock.fn.attributes.call(this),{"data-icon-after":"add"})},icon_name:"default",validationFailMsg:function(){return i18n.t("errors:validation_fail",{type:this.title()})},editorHTML:'<div class="st-block__editor"></div>',toolbarEnabled:true,droppable:false,pastable:false,uploadable:false,fetchable:false,ajaxable:false,drop_options:{},paste_options:{},upload_options:{},formattable:true,_previousSelection:"",initialize:function(){},toMarkdown:function(e){return e},toHTML:function(e){return e},withMixin:function(e){if(!t.isObject(e))return;var n="initialize"+e.mixinName;if(t.isUndefined(this[n])){t.extend(this,e);this[n]()}},render:function(){this.beforeBlockRender();this._setBlockInner();this.$editor=this.$inner.children().first();if(this.droppable||this.pastable||this.uploadable){var t=e("<div>",{class:"st-block__inputs"});this.$inner.append(t);this.$inputs=t}this.hasTextBlock&&this._initTextBlocks();this.droppable&&this.withMixin(r.BlockMixins.Droppable);this.pastable&&this.withMixin(r.BlockMixins.Pastable);this.uploadable&&this.withMixin(r.BlockMixins.Uploadable);this.fetchable&&this.withMixin(r.BlockMixins.Fetchable);this.controllable&&this.withMixin(r.BlockMixins.Controllable);this.formattable&&this._initFormatting();this._blockPrepare();return this},remove:function(){this.ajaxable&&this.resolveAllInQueue();this.$el.remove()},loading:function(){t.isUndefined(this.spinner)||this.ready();this.spinner=new Spinner(r.DEFAULTS.spinner);this.spinner.spin(this.$el[0]);this.$el.addClass("st--is-loading")},ready:function(){this.$el.removeClass("st--is-loading");if(!t.isUndefined(this.spinner)){this.spinner.stop();delete this.spinner}},toData:function(){r.log("toData for "+this.blockID);var e=this.$el,n={};if(this.hasTextBlock()){var i=this.getTextBlock().html();i.length>0&&(n.text=r.toMarkdown(i,this.type))}this.$(":input").not(".st-paste-block").length>0&&this.$(":input").each(function(e,t){t.getAttribute("name")&&(n[t.getAttribute("name")]=t.value)});t.isEmpty(n)||this.setData(n)},focus:function(){this.getTextBlock().focus()},blur:function(){this.getTextBlock().blur()},onFocus:function(){this.getTextBlock().bind("focus",this._onFocus)},onBlur:function(){this.getTextBlock().bind("blur",this._onBlur)},_onFocus:function(){this.trigger("blockFocus",this.$el)},_onBlur:function(){},onDrop:function(e){},onDeleteClick:function(e){e.preventDefault();var n=function(e){e.preventDefault();this.trigger("removeBlock",this.blockID)};var r=function(e){e.preventDefault();this.$el.removeClass("st-block--delete-active");o.remove()};if(this.isEmpty()){n.call(this,new Event("click"));return}this.$inner.append(t.template(i));this.$el.addClass("st-block--delete-active");var o=this.$inner.find(".st-block__ui-delete-controls");this.$inner.on("click",".st-block-ui-btn--confirm-delete",t.bind(n,this)).on("click",".st-block-ui-btn--deny-delete",t.bind(r,this))},pastedMarkdownToHTML:function(e){return r.toHTML(r.toMarkdown(e,this.type),this.type)},onContentPasted:function(e,t){t.html(this.pastedMarkdownToHTML(t[0].innerHTML));this.getTextBlock().caretToEnd()},beforeLoadingData:function(){this.loading();if(this.droppable||this.uploadable||this.pastable){this.$editor.show();this.$inputs.hide()}r.SimpleBlock.fn.beforeLoadingData.call(this);this.ready()},_handleContentPaste:function(n){var i=e(n.currentTarget);t.delay(t.bind(this.onContentPasted,this,n,i),0)},_getBlockClass:function(){return"st-block--"+this.className},_initUIComponents:function(){var e=new r.BlockPositioner(this.$el,this.instanceID);this._withUIComponent(e,".st-block-ui-btn--reorder",e.toggle);this._withUIComponent(new r.BlockReorder(this.$el));this._withUIComponent(new r.BlockDeletion,".st-block-ui-btn--delete",this.onDeleteClick);this.onFocus();this.onBlur()},_initFormatting:function(){var e;for(var n in r.Formatters)if(r.Formatters.hasOwnProperty(n)){e=r.Formatters[n];t.isUndefined(e.keyCode)||e._bindToBlock(this.$el)}},_initTextBlocks:function(){this.getTextBlock().bind("paste",this._handleContentPaste).bind("keyup",this.getSelectionForFormatter).bind("mouseup",this.getSelectionForFormatter).bind("DOMNodeInserted",this.clearInsertedStyles)},getSelectionForFormatter:function(){t.defer(function(){var e=window.getSelection(),t=e.toString().trim();""===t?r.EventBus.trigger("formatter:hide"):r.EventBus.trigger("formatter:positon")})},clearInsertedStyles:function(e){var t=e.target;t.removeAttribute("style")},hasTextBlock:function(){return this.getTextBlock().length>0},getTextBlock:function(){t.isUndefined(this.text_block)&&(this.text_block=this.$(".st-text-block"));return this.text_block},isEmpty:function(){return t.isEmpty(this.saveAndGetData())}});n.extend=d;return n}();r.Formatter=function(){var e=function(e){this.formatId=t.uniqueId("format-");this._configure(e||{});this.initialize.apply(this,arguments)};var n=["title","className","cmd","keyCode","param","onClick","toMarkdown","toHTML"];t.extend(e.prototype,{title:"",className:"",cmd:null,keyCode:null,param:null,toMarkdown:function(e){return e},toHTML:function(e){return e},initialize:function(){},_configure:function(e){this.options&&(e=t.extend({},this.options,e));for(var i=0,r=n.length;i<r;i++){var o=n[i];e[o]&&(this[o]=e[o])}this.options=e},isActive:function(){return document.queryCommandState(this.cmd)},_bindToBlock:function(e){var t=this,n=false;e.on("keyup",".st-text-block",function(e){17!=e.which&&224!=e.which&&91!=e.which||(n=false)}).on("keydown",".st-text-block",{formatter:t},function(e){17!=e.which&&224!=e.which&&91!=e.which||(n=true);if(e.which==e.data.formatter.keyCode&&true===n){document.execCommand(e.data.formatter.cmd,false,true);e.preventDefault();n=false}})}});e.extend=d;return e}();r.Blocks.Quote=function(){var e=t.template(['<blockquote class="st-required st-text-block" contenteditable="true"></blockquote>','<label class="st-input-label"> <%= i18n.t("blocks:quote:credit_field") %></label>','<input maxlength="140" name="cite" placeholder="<%= i18n.t("blocks:quote:credit_field") %>"',' class="st-input-string st-required js-cite-input" type="text" />'].join("\n"));return r.Block.extend({type:"quote",title:function(){return i18n.t("blocks:quote:title")},icon_name:"quote",editorHTML:function(){return e(this)},loadData:function(e){this.getTextBlock().html(r.toHTML(e.text,this.type));this.$(".js-cite-input").val(e.cite)},toMarkdown:function(e){return e.replace(/^(.+)$/gm,"> $1")}})}();r.Blocks.Heading=r.Block.extend({type:"Heading",title:function(){return i18n.t("blocks:heading:title")},editorHTML:'<div class="st-required st-text-block st-text-block--heading" contenteditable="true"></div>',icon_name:"heading",loadData:function(e){this.getTextBlock().html(r.toHTML(e.text,this.type))}});r.Blocks.Image=r.Block.extend({type:"image",title:function(){return i18n.t("blocks:image:title")},droppable:true,uploadable:true,icon_name:"image",loadData:function(t){this.$editor.html(e("<img>",{src:t.file.url}))},onBlockRender:function(){this.$inputs.find("button").bind("click",function(e){e.preventDefault()});this.$inputs.find("input").on("change",t.bind(function(e){this.onDrop(e.currentTarget)},this))},onDrop:function(t){var n=t.files[0],i="undefined"!==typeof URL?URL:"undefined"!==typeof webkitURL?webkitURL:null;if(/image/.test(n.type)){this.loading();this.$inputs.hide();this.$editor.html(e("<img>",{src:i.createObjectURL(n)})).show();this.uploader(n,function(e){this.setData(e);this.ready()},function(e){this.addMessage(i18n.t("blocks:image:upload_error"));this.ready()})}}});r.Blocks.Text=r.Block.extend({type:"text",title:function(){return i18n.t("blocks:text:title")},editorHTML:'<div class="st-required st-text-block" contenteditable="true"></div>',icon_name:"text",loadData:function(e){this.getTextBlock().html(r.toHTML(e.text,this.type))}});r.Blocks.List=function(){var e='<div class="st-text-block st-required" contenteditable="true"><ul><li></li></ul></div>';return r.Block.extend({type:"list",title:function(){return i18n.t("blocks:list:title")},icon_name:"list",editorHTML:function(){return t.template(e,this)},loadData:function(e){this.getTextBlock().html("<ul>"+r.toHTML(e.text,this.type)+"</ul>")},onBlockRender:function(){this.checkForList=t.bind(this.checkForList,this);this.getTextBlock().on("click keyup",this.checkForList)},checkForList:function(){0===this.$("ul").length&&document.execCommand("insertUnorderedList",false,false)},toMarkdown:function(e){return e.replace(/<\/li>/gm,"\n").replace(/<\/?[^>]+(>|$)/g,"").replace(/^(.+)$/gm," - $1")},toHTML:function(e){e=e.replace(/^ - (.+)$/gm,"<li>$1</li>").replace(/\n/gm,"");return e},onContentPasted:function(e,t){var n=this.pastedMarkdownToHTML(t[0].innerHTML),i=this.$("ul").html(n);this.getTextBlock().caretToEnd()},isEmpty:function(){return t.isEmpty(this.saveAndGetData().text)}})}();r.Blocks.Video=function(){return r.Block.extend({providers:{vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?vimeo.com\/(.+)/,html:'<iframe src="{{protocol}}//player.vimeo.com/video/{{remote_id}}?title=0&byline=0" width="580" height="320" frameborder="0"></iframe>'},youtube:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:(?:youtube.com\/watch\?(?:.*)(?:v=))|(?:youtu.be\/))([^&].+)/,html:'<iframe src="{{protocol}}//www.youtube.com/embed/{{remote_id}}" width="580" height="320" frameborder="0" allowfullscreen></iframe>'}},type:"video",title:function(){return i18n.t("blocks:video:title")},droppable:true,pastable:true,icon_name:"video",loadData:function(e){if(!this.providers.hasOwnProperty(e.source))return;this.providers[e.source].square?this.$editor.addClass("st-block__editor--with-square-media"):this.$editor.addClass("st-block__editor--with-sixteen-by-nine-media");var t=this.providers[e.source].html.replace("{{protocol}}",window.location.protocol).replace("{{remote_id}}",e.remote_id).replace("{{width}}",this.$editor.width());this.$editor.html(t)},onContentPasted:function(t){this.handleDropPaste(e(t.target).val())},handleDropPaste:function(e){if(!t.isURI(e))return;var n,i;t.each(this.providers,function(r,o){n=r.regex.exec(e);if(null!==n&&!t.isUndefined(n[1])){i={source:o,remote_id:n[1]};this.setAndLoadData(i)}},this)},onDrop:function(e){var t=e.getData("text/plain");this.handleDropPaste(t)}})}();(function(){var e=r.Formatter.extend({title:"bold",cmd:"bold",keyCode:66,text:"B"});var t=r.Formatter.extend({title:"italic",cmd:"italic",keyCode:73,text:"i"});var n=r.Formatter.extend({title:"link",iconName:"link",cmd:"CreateLink",text:"link",onClick:function(){var e=prompt(i18n.t("general:link")),t=/((ftp|http|https):\/\/.)|mailto(?=\:[-\.\w]+@)/;if(e&&e.length>0){t.test(e)||(e="http://"+e);document.execCommand(this.cmd,false,e)}},isActive:function(){var e=window.getSelection(),t;e.rangeCount>0&&(t=e.getRangeAt(0).startContainer.parentNode);return t&&"A"==t.nodeName}});var i=r.Formatter.extend({title:"unlink",iconName:"link",cmd:"unlink",text:"link"});r.Formatters.Bold=new e;r.Formatters.Italic=new t;r.Formatters.Link=new n;r.Formatters.Unlink=new i})();r.BlockControl=function(){var e=function(e,t){this.type=e;this.instance_scope=t;this.block_type=r.Blocks[this.type].prototype;this.can_be_rendered=this.block_type.toolbarEnabled;this._ensureElement()};t.extend(e.prototype,l,u,r.Events,{tagName:"a",className:"st-block-control",attributes:function(){return{"data-type":this.block_type.type}},render:function(){this.$el.html('<span class="st-icon">'+t.result(this.block_type,"icon_name")+"</span>"+t.result(this.block_type,"title"));return this}});return e}();r.BlockControls=function(){var n=function(e,t){this.instance_scope=t;this.available_types=e||[];this._ensureElement();this._bindFunctions();this.initialize()};t.extend(n.prototype,l,u,r.Events,{bound:["handleControlButtonClick"],block_controls:null,className:"st-block-controls",html:"<a class='st-icon st-icon--close'>"+i18n.t("general:close")+"</a>",initialize:function(){for(var e in this.available_types)if(r.Blocks.hasOwnProperty(e)){var t=new r.BlockControl(e,this.instance_scope);t.can_be_rendered&&this.$el.append(t.render().$el)}this.$el.delegate(".st-block-control","click",this.handleControlButtonClick)},show:function(){this.$el.addClass("st-block-controls--active");r.EventBus.trigger("block:controls:shown")},hide:function(){this.$el.removeClass("st-block-controls--active");r.EventBus.trigger("block:controls:hidden")},handleControlButtonClick:function(t){t.stopPropagation();this.trigger("createBlock",e(t.currentTarget).attr("data-type"))}});n.extend=d;return n}();r.FloatingBlockControls=function(){var n=function(e,t){this.$wrapper=e;this.instance_id=t;this._ensureElement();this._bindFunctions();this.initialize()};t.extend(n.prototype,l,u,r.Events,{className:"st-block-controls__top",attributes:function(){return{"data-icon":"add"}},bound:["handleBlockMouseOut","handleBlockMouseOver","handleBlockClick","onDrop"],initialize:function(){this.$el.on("click",this.handleBlockClick).dropArea().bind("drop",this.onDrop);this.$wrapper.on("mouseover",".st-block",this.handleBlockMouseOver).on("mouseout",".st-block",this.handleBlockMouseOut).on("click",".st-block--with-plus",this.handleBlockClick)},onDrop:function(n){n.preventDefault();var i=this.$el,o=n.originalEvent.dataTransfer.getData("text/plain"),a=e("#"+o);t.isUndefined(o)||t.isEmpty(a)||i.attr("id")==o||this.instance_id!=a.attr("data-instance")||i.after(a);r.EventBus.trigger("block:reorder:dropped",o)},handleBlockMouseOver:function(t){var n=e(t.currentTarget);n.hasClass("st-block--with-plus")||n.addClass("st-block--with-plus")},handleBlockMouseOut:function(t){var n=e(t.currentTarget);n.hasClass("st-block--with-plus")&&n.removeClass("st-block--with-plus")},handleBlockClick:function(t){t.stopPropagation();var n=e(t.currentTarget);this.trigger("showBlockControls",n)}});n.extend=d;return n}();r.FormatBar=function(){var n=function(e){this.options=t.extend({},r.DEFAULTS.formatBar,e||{});this._ensureElement();this._bindFunctions();this.initialize.apply(this,arguments)};t.extend(n.prototype,l,r.Events,u,{className:"st-format-bar",bound:["onFormatButtonClick","renderBySelection","hide"],initialize:function(){var t,n,i;this.$btns=[];for(t in r.Formatters)if(r.Formatters.hasOwnProperty(t)){n=r.Formatters[t];i=e("<button>",{class:"st-format-btn st-format-btn--"+t+" "+(n.iconName?"st-icon":""),text:n.text,"data-type":t,"data-cmd":n.cmd});this.$btns.push(i);i.appendTo(this.$el)}this.$b=e(document);this.$el.bind("click",".st-format-btn",this.onFormatButtonClick)},hide:function(){this.$el.removeClass("st-format-bar--is-ready")},show:function(){this.$el.addClass("st-format-bar--is-ready")},remove:function(){this.$el.remove()},renderBySelection:function(e){var t=window.getSelection(),n=t.getRangeAt(0),i=n.getBoundingClientRect(),r={};r.top=i.top+20+window.pageYOffset-this.$el.height()+"px";r.left=(i.left+i.right)/2-this.$el.width()/2+"px";this.highlightSelectedButtons();this.show();this.$el.css(r)},highlightSelectedButtons:function(){var e;t.each(this.$btns,function(t){e=r.Formatters[t.attr("data-type")];t.toggleClass("st-format-btn--is-active",e.isActive())},this)},onFormatButtonClick:function(n){n.stopPropagation();var i=e(n.target),o=r.Formatters[i.attr("data-type")];if(t.isUndefined(o))return false;!t.isUndefined(o.onClick)&&t.isFunction(o.onClick)?o.onClick():document.execCommand(i.attr("data-cmd"),false,o.param);this.highlightSelectedButtons();return false}});n.extend=d;return n}();r.Editor=function(){var n=function(e){this.initialize(e)};t.extend(n.prototype,l,r.Events,{bound:["onFormSubmit","showBlockControls","hideAllTheThings","hideBlockControls","onNewBlockCreated","changeBlockPosition","onBlockDragStart","onBlockDragEnd","removeBlockDragOver","onBlockDropped","createBlock"],events:{"block:reorder:down":"hideBlockControls","block:reorder:dragstart":"onBlockDragStart","block:reorder:dragend":"onBlockDragEnd","block:content:dropped":"removeBlockDragOver","block:reorder:dropped":"onBlockDropped","block:create:new":"onNewBlockCreated"},initialize:function(e){r.log("Init SirTrevor.Editor");this.blockTypes={};this.blockCounts={};this.blocks=[];this.errors=[];this.options=t.extend({},r.DEFAULTS,e||{});this.ID=t.uniqueId("st-editor-");if(!this._ensureAndSetElements())return false;!t.isUndefined(this.options.onEditorRender)&&t.isFunction(this.options.onEditorRender)&&(this.onEditorRender=this.options.onEditorRender);this._setRequired();this._setBlocksTypes();this._bindFunctions();this.store("create");this.build();r.instances.push(this);r.bindFormSubmit(this.$form)},build:function(){this.$el.hide();this.block_controls=new r.BlockControls(this.blockTypes,this.ID);this.fl_block_controls=new r.FloatingBlockControls(this.$wrapper,this.ID);this.formatBar=new r.FormatBar(this.options.formatBar);this.listenTo(this.block_controls,"createBlock",this.createBlock);this.listenTo(this.fl_block_controls,"showBlockControls",this.showBlockControls);this._setEvents();r.EventBus.on(this.ID+":blocks:change_position",this.changeBlockPosition);r.EventBus.on("formatter:positon",this.formatBar.renderBySelection);r.EventBus.on("formatter:hide",this.formatBar.hide);this.$wrapper.prepend(this.fl_block_controls.render().$el);e(document.body).append(this.formatBar.render().$el);this.$outer.append(this.block_controls.render().$el);e(window).bind("click",this.hideAllTheThings);var n=this.store("read");n.data.length>0?t.each(n.data,function(e){r.log("Creating: "+e.type);this.createBlock(e.type,e.data)},this):false!==this.options.defaultType&&this.createBlock(this.options.defaultType,{});this.$wrapper.addClass("st-ready");t.isUndefined(this.onEditorRender)||this.onEditorRender()},destroy:function(){this.formatBar.destroy();this.fl_block_controls.destroy();this.block_controls.destroy();t.each(this.blocks,function(e){this.removeBlock(e.blockID)},this);this.stopListening();var e=this.$el.detach();r.instances=t.reject(r.instances,t.bind(function(e){return e.ID==this.ID},this));this.store("reset");this.$outer.replaceWith(e)},reinitialize:function(e){this.destroy();this.initialize(e||this.options)},_setEvents:function(){t.each(this.events,function(e,t){r.EventBus.on(t,this[e],this)},this)},hideAllTheThings:function(e){this.block_controls.hide();this.formatBar.hide();t.isUndefined(this.block_controls.current_container)||this.block_controls.current_container.removeClass("with-st-controls")},showBlockControls:function(e){t.isUndefined(this.block_controls.current_container)||this.block_controls.current_container.removeClass("with-st-controls");this.block_controls.show();e.append(this.block_controls.$el.detach());e.addClass("with-st-controls");this.block_controls.current_container=e},store:function(e,t){return r.editorStore(this,e,t||{})},createBlock:function(e,n,i){e=t.classify(e);if(this._blockLimitReached()){r.log("Cannot add any more blocks. Limit reached.");return false}if(!this._isBlockTypeAvailable(e)){r.log("Block type not available "+e);return false}if(!this._canAddBlockType(e)){r.log("Block Limit reached for type "+e);return false}var o=new r.Blocks[e](n,this.ID);this._renderInPosition(o.render().$el);this.listenTo(o,"removeBlock",this.removeBlock);this.blocks.push(o);this._incrementBlockTypeCount(e);o.focus();r.EventBus.trigger(n?"block:create:existing":"block:create:new",o);r.log("Block created of type "+e);o.trigger("onRender");this.$wrapper.toggleClass("st--block-limit-reached",this._blockLimitReached());this.triggerBlockCountUpdate()},onNewBlockCreated:function(e){this.hideBlockControls();this.scrollTo(e.$el)},scrollTo:function(t){e("html, body").animate({scrollTop:t.position().top},300,"linear")},blockFocus:function(e){this.block_controls.current_container=null},hideBlockControls:function(){t.isUndefined(this.block_controls.current_container)||this.block_controls.current_container.removeClass("with-st-controls");this.block_controls.hide()},removeBlockDragOver:function(){this.$outer.find(".st-drag-over").removeClass("st-drag-over")},triggerBlockCountUpdate:function(){r.EventBus.trigger(this.ID+":blocks:count_update",this.blocks.length)},changeBlockPosition:function(e,t){t-=1;var n=this.getBlockPosition(e);var i=this.$wrapper.find(".st-block").eq(t);var r=this.getBlockPosition(i);var o=n>t?"Before":"After";if(i&&i.attr("id")!==e.attr("id")){this.hideAllTheThings();e["insert"+o](i);this.scrollTo(e)}},onBlockDropped:function(e){this.hideAllTheThings();var n=this.findBlockById(e);t.isUndefined(n)||t.isEmpty(n.getData())||!n.drop_options.re_render_on_reorder||n.beforeLoadingData()},onBlockDragStart:function(){this.hideBlockControls();this.$wrapper.addClass("st-outer--is-reordering")},onBlockDragEnd:function(){this.removeBlockDragOver();this.$wrapper.removeClass("st-outer--is-reordering")},_renderInPosition:function(e){this.block_controls.current_container?this.block_controls.current_container.after(e):this.$wrapper.append(e)},_incrementBlockTypeCount:function(e){this.blockCounts[e]=t.isUndefined(this.blockCounts[e])?1:this.blockCounts[e]+1},_getBlockTypeCount:function(e){return t.isUndefined(this.blockCounts[e])?0:this.blockCounts[e]},_canAddBlockType:function(e){var t=this._getBlockTypeLimit(e);return!(0!==t&&this._getBlockTypeCount(e)>=t)},_blockLimitReached:function(){return 0!==this.options.blockLimit&&this.blocks.length>=this.options.blockLimit},removeBlock:function(e){var n=this.findBlockById(e),i=t.classify(n.type),o=n.$el.find(".st-block-controls");if(o.length){this.block_controls.hide();this.$wrapper.prepend(o)}this.blockCounts[i]=this.blockCounts[i]-1;this.blocks=t.reject(this.blocks,function(e){return e.blockID==n.blockID});this.stopListening(n);n.remove();r.EventBus.trigger("block:remove");this.triggerBlockCountUpdate();this.$wrapper.toggleClass("st--block-limit-reached",this._blockLimitReached())},performValidations:function(e,n){var i=0;if(!r.SKIP_VALIDATION&&n&&!e.valid()){this.errors.push({text:t.result(e,"validationFailMsg")});r.log("Block "+e.blockID+" failed validation");++i}return i},saveBlockStateToStore:function(e){var n=e.saveAndReturnData();if(n&&!t.isEmpty(n.data)){r.log("Adding data for block "+e.blockID+" to block store");this.store("add",{data:n})}},onFormSubmit:function(e){e=false!==e;r.log("Handling form submission for Editor "+this.ID);this.removeErrors();this.store("reset");this.validateBlocks(e);this.validateBlockTypesExist(e);this.renderErrors();this.store("save");return this.errors.length},validateBlocks:function(n){if(!this.required&&r.SKIP_VALIDATION&&!n)return false;var i=function(i,r){var o=t.find(this.blocks,function(t){return t.blockID==e(i).attr("id")});if(t.isUndefined(o))return false;this.performValidations(o,n);this.saveBlockStateToStore(o)};t.each(this.$wrapper.find(".st-block"),i,this)},validateBlockTypesExist:function(e){if(!this.required&&r.SKIP_VALIDATION&&!e)return false;var n=function(e,n){if(!this._isBlockTypeAvailable(e))return;if(0===this._getBlockTypeCount(e)){r.log("Failed validation on required block type "+e);this.errors.push({text:i18n.t("errors:type_missing",{type:e})})}else{var i=t.filter(this.getBlocksByType(e),function(e){return!e.isEmpty()});if(i.length>0)return false;this.errors.push({text:i18n.t("errors:required_type_empty",{type:e})});r.log("A required block type "+e+" is empty")}};t.isArray(this.required)&&t.each(this.required,n,this)},renderErrors:function(){if(0===this.errors.length)return false;t.isUndefined(this.$errors)&&(this.$errors=this._errorsContainer());var e="<ul>";t.each(this.errors,function(t){e+='<li class="st-errors__msg">'+t.text+"</li>"});e+="</ul>";this.$errors.append(e);this.$errors.show()},_errorsContainer:function(){if(t.isUndefined(this.options.errorsContainer)){var n=e("<div>",{class:"st-errors",html:"<p>"+i18n.t("errors:title")+" </p>"});this.$outer.prepend(n);return n}return a(this.options.errorsContainer)},removeErrors:function(){if(0===this.errors.length)return false;this.$errors.hide().find("ul").html("");this.errors=[]},findBlockById:function(e){return t.find(this.blocks,function(t){return t.blockID==e})},getBlocksByType:function(e){return t.filter(this.blocks,function(n){return t.classify(n.type)==e})},getBlocksByIDs:function(e){return t.filter(this.blocks,function(n){return t.contains(e,n.blockID)})},getBlockPosition:function(e){return this.$wrapper.find(".st-block").index(e)},_getBlockTypeLimit:function(e){if(!this._isBlockTypeAvailable(e))return 0;return parseInt(t.isUndefined(this.options.blockTypeLimits[e])?0:this.options.blockTypeLimits[e],10)},_isBlockTypeAvailable:function(e){return!t.isUndefined(this.blockTypes[e])},_ensureAndSetElements:function(){if(t.isUndefined(this.options.el)||t.isEmpty(this.options.el)){r.log("You must provide an el");return false}this.$el=this.options.el;this.el=this.options.el[0];this.$form=this.$el.parents("form");var n=e("<div>").attr({id:this.ID,class:"st-outer",dropzone:"copy link move"});var i=e("<div>").attr({class:"st-blocks"});this.$el.wrap(n).wrap(i);this.$outer=this.$form.find("#"+this.ID);this.$wrapper=this.$outer.find(".st-blocks");return true},_setBlocksTypes:function(){this.blockTypes=t.flattern(t.isUndefined(this.options.blockTypes)?r.Blocks:this.options.blockTypes)},_setRequired:function(){t.isArray(this.options.required)&&!t.isEmpty(this.options.required)?this.required=this.options.required:this.required=false}});return n}();r.setDefaults=function(e){r.DEFAULTS=t.extend(r.DEFAULTS,e||{})};r.bindFormSubmit=function(e){if(!s){new r.Submittable(e);e.bind("submit",this.onFormSubmit);s=true}};r.onBeforeSubmit=function(e){var n=0;t.each(r.instances,function(t,i){n+=t.onFormSubmit(e)});r.log("Total errors: "+n);return n};r.onFormSubmit=function(e){var t=r.onBeforeSubmit();if(t>0){r.EventBus.trigger("onError");e.preventDefault()}};r.getInstance=function(e){if(t.isUndefined(e))return this.instances[0];if(t.isString(e))return t.find(this.instances,function(t){return t.ID===e});return this.instances[e]};r.setBlockOptions=function(e,n){var i=r.Blocks[e];if(t.isUndefined(i))return;t.extend(i.prototype,n||{})};r.runOnAllInstances=function(e){if(t.has(r.Editor.prototype,e)){[].unshift.call(arguments,r.instances);t.invoke.apply(t,arguments)}else r.log("method doesn't exist")}})(i,r);e.exports=SirTrevor},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){return{autoSortDimension:function e(t,n){t.qDef.qSortCriterias=[];t.qDef.autoSort=true;n?n.forEach(function(e,n){t.qDef.qSortCriterias[n]={qSortByState:1,qSortByLoadOrder:1,qSortByNumeric:1,qSortByAscii:1}}):t.qDef.qSortCriterias[0]={qSortByState:1,qSortByLoadOrder:1,qSortByNumeric:1,qSortByAscii:1};return t},createFieldDimension:function e(t){return{qDef:{qFieldDefs:[t],qFieldLabels:[t],qSortCriterias:[]}}},createLibraryDimension:function e(t){return{qLibraryId:t,qDef:{qSortCriterias:[]}}},createDefaultListBox:function t(n,i){var r=e.extend(true,{},n),o;r.qShowAlternatives=true;for(o=0;o<r.qDef.qSortCriterias.length;++o)r.qDef.qSortCriterias[o].qSortByState=1;i=!i&&n.qDef.qLabelExpression?{qStringExpression:{qExpr:n.qDef.qLabelExpression}}:i||n.qDef.qFieldLabels&&n.qDef.qFieldLabels.length&&""!==n.qDef.qFieldLabels[0]?i||(n.qDef.qFieldLabels&&n.qDef.qFieldLabels.length?n.qDef.qFieldLabels[0]:""):n.qDef.qFieldDefs[0];return{qInfo:{qType:"listbox"},qListObjectDef:r,title:i,visualization:"listbox"}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.get=function(e,t,i){return n(i).then(function(n){return n.getField(e,t||"$")})};i.getList=function(e){return n(e).then(function(e){return e.getFieldListObject()})};i.getOnTheFlyList=function(e){return n(e).then(function(e){return e.getOnTheFlyListObject()})};i.getOnTheFlyWithHiddenList=function(e){return n(e).then(function(e){return e.getOnTheFlyWithHiddenListObject()})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(95),n(92),n(89),n(90),n(183),n(396),n(105),n(182)],r=function(e,t,i,r,o,a,s,l,u){var c;var d=i.extend("DataPrepRestService",{init:function e(){},_getAPI:function e(){c||(c=a.getApi("api/dataprepservice/v1","openapi",void 0,void 0,void 0,void 0,u.getServerNodeId()));return c},_handleRestResponse:function e(i,r,o){if(o.body&&o.body.notification&&1005===o.body.notification.data.code){t.publish(l.Events.PubSub.StartSpin,{method:i});return this.executeAfterReload({apiFunc:this[i],initialParams:r}).finally(function(){t.publish(l.Events.PubSub.StopSpin,{method:i})})}o.body.response&&o.body.response.loadModel&&Promise.all([n.e(22),n.e(93)]).then(function(){var e=[n(253)];(function(e){e.updateProperties(o.body.response.loadModel)}).apply(null,e)}).catch(n.oe);return o.body.response},executeAfterReload:function e(t){var n=new r;this.waitForReload(n);return n.promise.then(function(){return t.apiFunc.apply(this,t.initialParams)}.bind(this))},waitForReload:function e(t){this.getProgress().then(function(e){this._checkProgress(e.result)?t.resolve(true):setTimeout(function(){this.waitForReload(t)}.bind(this),1e3)}.bind(this),function(e){t.reject(e)})},_checkProgress:function e(t){var n=false;t.engine&&t.engine.qProgressData&&t.engine.qProgressData.qFinished&&true===t.dps.dataLoad.complete&&true===t.dps.profiling.complete&&(n=true);return n},_getAppName:function e(){return o.getParameterByName("app")},getRestResponseHandler:function e(t,n){return function(){return this[t].bind(this,n)}.bind(this)},getSerializedLoadModel:function e(){var t=this;var n=arguments;return this._getAPI().then(function(e){return e.apis.model.getCurrentLoadModel({appId:t._getAppName()}).then(t._handleRestResponse.bind(t,"getSerializedLoadModel",n))})},_addTables:function e(t){var n=this;var i=arguments;return this._getAPI().then(function(e){return e.apis.table.addTables({appId:n._getAppName(),body:t}).then(n._handleRestResponse.bind(n,"_addTables",i))})},_getDesiredTransforms:function e(){var t=[];t.push("makeGeoPoint");t.push("lookupGeoInfo");return t},isRunning:function e(){return this._getAPI()},getForcedConcatRecommendations:function e(t){var n=this;var i=arguments;return this._getAPI().then(function(e){var r={type:"concatenate",queries:t};return e.apis.table.recommendTableTransformation({appId:n._getAppName(),body:r}).then(n._handleRestResponse.bind(n,"getForcedConcatRecommendations",i))})},getTargetTables:function e(t,n){var i=this;var r=arguments;return this._getAPI().then(function(e){return e.apis.table.getCurrentTables({appId:i._getAppName(),forceReload:t,noData:n}).then(i._handleRestResponse.bind(i,"getTargetTables",r))})},getRecommendations:function e(){var t=this;var n=arguments;return this._getAPI().then(function(e){return e.apis.model.getRecommendations({appId:t._getAppName()}).then(t._handleRestResponse.bind(t,"getRecommendations",n))})},getCurrentClassification:function e(){var t=this;var n=arguments;return this._getAPI().then(function(e){return e.apis.model.getCurrentClassification({appId:t._getAppName()}).then(t._handleRestResponse.bind(t,"getCurrentClassification",n))})},getTableRecommendations:function e(t){var n=this;var i=arguments;return this._getAPI().then(function(e){return e.apis.table.getTableRecommendations({appId:n._getAppName(),tableId:t}).then(n._handleRestResponse.bind(n,"getTableRecommendations",i))})},getTargetTablePreview:function e(t){var n=this;var i=arguments;return this._getAPI().then(function(e){return e.apis.table.getPreviewData({appId:n._getAppName(),tableId:t}).then(n._handleRestResponse.bind(n,"getTargetTablePreview",i))})},getTableFields:function e(t){var n=this;var i=arguments;return this._getAPI().then(function(e){return e.apis.field.getFieldExpressions({appId:n._getAppName(),tableId:t}).then(n._handleRestResponse.bind(n,"getTableFields",i))})},getLoadScript:function e(t){var n=this;var i=arguments;return this._getAPI().then(function(e){return e.apis.model.getCurrentScript({appId:n._getAppName(),useCache:t}).then(n._handleRestResponse.bind(n,"getLoadScript",i))})},invokeWithPolling:function e(n,i,r){i&&t.publish(l.Events.PubSub.StartSpin,{method:r});var o=true;var a=void 0;a=setInterval(function(){o&&this.getProgress().then(function(){})}.bind(this),15e3);var s=function e(){o=false;void 0!==a&&clearInterval(a);a=void 0};return n().then(function(e){s();i&&t.publish(l.Events.PubSub.StopSpin,{method:r});return e},function(e){s();i&&t.publish(l.Events.PubSub.StopSpin);throw e})},invokeWithGlobalSpinnerSupport:function e(n){t.publish(l.Events.PubSub.StartSpinInvalidation);return n().catch(function(){t.publish(l.Events.PubSub.StopSpinInvalidation)})},createConcatenatedQuery:function e(t,n,i){var r=this;var o=arguments;return this.invokeWithGlobalSpinnerSupport(function(){return r._getAPI().then(function(e){var a={type:"forceConcatenate",payload:{name:t,queries:n,mappings:i}};return e.apis.table.applyTransformation({appId:r._getAppName(),body:a}).then(r._handleRestResponse.bind(r,"createConcatenatedQuery",o))})})},createJoinedQuery:function e(t,n,i,r){var o=this;var a=arguments;return this.invokeWithGlobalSpinnerSupport(function(){return o._getAPI().then(function(e){var s={type:"join",payload:{name:t,joinType:n,queries:i,mappings:r}};return e.apis.table.applyTransformation({appId:o._getAppName(),body:s}).then(o._handleRestResponse.bind(o,"createJoinedQuery",a))})})},splitQuery:function e(t,n){var i=this;var r=arguments;return this.invokeWithGlobalSpinnerSupport(function(){return i._getAPI().then(function(e){var o={type:"split",payload:{queries:[t],queryProperties:[{sourceQueries:n}]}};return e.apis.table.applyTransformation({appId:i._getAppName(),body:o}).then(i._handleRestResponse.bind(i,"splitQuery",r))})})},synchronizeScriptedTables:function e(){return this.invokeWithPolling(function(){return this.addTables([],true).then(function(e){return e})}.bind(this),true,"synchronize")},getProgress:function e(){var t=this;var n=arguments;return this._getAPI().then(function(e){var i={appId:t._getAppName()};return e.apis.session.getProgress(i).then(t._handleRestResponse.bind(t,"getProgress",n))})},addTables:function t(n,i){var r={data:[],applyTransformations:this._getDesiredTransforms(),defaults:{},scriptedSources:i};for(var o=0;o<n.length;o++){var a=n[o];var l={tables:[]};l.connectionInfo=e.extend(true,{},a.connectionInfo,{dbInfo:a.dbInfo});r.data.push(l);var u=l.tables;a.tablesAndFields.map(function(e){var t={databaseName:a.databaseName,ownerName:a.ownerName,tableName:e.table.qName,formatSpec:e.table.qFormatSpec,fileFormatSettings:e.table.fileFormatSettings};t.fields=[];e.fields.forEach(function(e){t.fields.push({name:e.qName,selected:true})});u.push(t)})}var c=new s;return c.get().then(function(e){r.defaults.enableQVDCaching=e.enableQVDCaching;return this._addTables(r)}.bind(this))},getVisRecommendations:function e(t,n,i,r,o){var a=this;var s=arguments;return this._getAPI().then(function(e){var l={appId:a._getAppName()};if(t){var u=["fields","libItems","expressions"];u.forEach(function(e){t[e]&&t[e].length&&(l[e]=JSON.stringify(t[e]))});t["table"]&&(l["table"]=t["table"])}i&&(l.bundleOverride=JSON.stringify(i));r&&(l.detailLevel=JSON.stringify([]));o&&(l.options=JSON.stringify(o));var c=e.apis.visualization;var d=n?c.getVisualizationsForLoaded(l):c.getVisualizationsForCurrent(l);return d.then(a._handleRestResponse.bind(a,"getVisRecommendations",s))})},getInsightRecommendations:function e(t,n,i,r,o){var a=this;var s=arguments;i||(i=true);return this._getAPI().then(function(e){var l={appId:a._getAppName()};t&&(l["sp"]=t);n&&(l.bundleOverride=JSON.stringify(n));r&&(l.detailLevel=JSON.stringify([]));o&&(l.options=JSON.stringify(o));var u=e.apis.visualization;var c=i?u.getVisualizationsForLoaded(l):u.getVisualizationsForCurrent(l);return c.then(a._handleRestResponse.bind(a,"getVisRecommendations",s))})},bucketField:function e(t,n,i){var r=this;var o=arguments;return this._getAPI().then(function(e){var a={type:"bucket",bucketing:i};a.bucketing.fieldId=n;var s={appId:r._getAppName(),tableId:t,body:a};return e.apis.table.applyTableTransformation(s).then(r._handleRestResponse.bind(r,"bucketField",o))})},applyOrdinal:function e(t,n,i){var r=this;var o=arguments;return this._getAPI().then(function(e){var a={type:"ordinal",ordinals:i};var s={appId:r._getAppName(),tableId:t,fieldId:n,body:a};return e.apis.field.addFieldTransformation(s).then(r._handleRestResponse.bind(r,"applyOrdinal",o))})},applyFieldMapping:function e(t,n,i){var r=this;var o=arguments;return this._getAPI().then(function(e){var a={type:"mapping",mappings:i};var s={appId:r._getAppName(),tableId:t,fieldId:n,body:a};return e.apis.field.addFieldTransformation(s).then(r._handleRestResponse.bind(r,"applyFieldMapping",o))})},splitField:function e(t,n,i){var r=this;var o=arguments;return this._getAPI().then(function(e){var a={type:"splitField",splitDef:{fieldId:n,splitInfo:i}};var s={appId:r._getAppName(),tableId:t,body:a};return e.apis.table.applyTableTransformation(s).then(r._handleRestResponse.bind(r,"splitField",o))})},adaptVisualization:function e(t,n,i,r,o,a){var s=this;var l=arguments;return this._getAPI().then(function(e){var u={action:t,datasetName:n,analysisType:r,dims:o,msrs:a,visType:i};return e.apis.visualization.createVisRecommendationForCurrent({appId:s._getAppName(),body:u}).then(s._handleRestResponse.bind(s,"adaptVisualization",l))})},adaptMatchRecord:function e(t,n,i){var r=this;var o=arguments;return this._getAPI().then(function(e){var a={action:t,matchRecord:n,analysisType:i,detailLevel:[]};return e.apis.visualization.createVisRecommendationForLoaded({appId:r._getAppName(),body:a}).then(r._handleRestResponse.bind(r,"adaptVisualization",o))})},getExcludedCompareVisualizations:function e(t,n,i){var r=this;var o=arguments;return this._getAPI().then(function(e){var a={appId:r._getAppName(),detailLevel:"complete",analysisTypes:JSON.stringify(["excludedCompare","excludedCompareMsrSelector"]),bundleOverride:JSON.stringify({explore:"grayInsight"})};if(t.length>0)if(i){var s=[];t.forEach(function(e){s.push({libId:e})});a["libItems"]=JSON.stringify(s)}else{var l=[];t.forEach(function(e){l.push({name:e,overrides:{classifications:["measure"],defaultAggregation:"sum"}})});a["fields"]=JSON.stringify(l)}n&&(a.options=JSON.stringify(n));return e.apis.visualization.getVisualizationsForLoaded(a).then(r._handleRestResponse.bind(r,"getVisRecommendations",o))})},adaptAggregationForExcludedCompareVisualization:function e(t){var n=this;var i=arguments;return this._getAPI().then(function(e){var r={action:"update",analysisType:"excludedCompare",matchRecord:t};return e.apis.visualization.createVisRecommendationForLoaded({appId:n._getAppName(),body:r}).then(n._handleRestResponse.bind(n,"adaptVisualization",i))})}});return d}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(383),n(101),n(90)],r=function(e,t,n){var i={},r={},o;o={type:"items",component:"accordion",items:{settings:{uses:"settings"}}};function a(e,n,i){var r,o,s,l=null;if(e.ref===n)return e;if(t.isHierarchical(e)){r=Object.keys(e.items);for(s=0;s<r.length;++s){o=e.items[r[s]];if(o.ref===n){l=o;break}if(i){l=a(o,n,i);if(null!==l)break}}}return l}function s(r,a,l){var u,c,d;l=l||e;r||(r=o);if(a&&i[a])return i[a];var f;while(r.uses){d=t.getValue(l,r.uses);if(!d)throw new Error("No defaults found for: "+r.uses);f=d.uses;r=n.extend(true,{},d,r);if(!f){delete r.uses;break}r.uses=f}if(t.isHierarchical(r)||"array"===r.type&&r.items){c={};Object.keys(r.items).forEach(function(e){r.items[e]&&(c[e]=s(r.items[e],null,l))});u=n.extend({},r,{items:c})}else u=n.extend({},r);a&&!i[a]&&(i[a]=u);return u}function l(e,i,r){var o=s(e,r);return i?n.extend(true,t.getDefaults(o),i):t.getDefaults(o)}function u(e){function n(e){var i={};function r(e){return-1!==e.search(/\.\d/g)}function o(e){var n={type:e.type,defaultValue:t.getDefaultValue(e.type,e)};e.maxlength&&(n.maxlength=e.maxlength);e.min&&(n.min=e.min);e.max&&(n.max=e.max);e.expression&&(n.expression=e.expression);e.options&&"boolean"!==e.type&&(n.enum=e.options.map(function(e){return e.value}));return n}function a(e){var s,l,u,c,d,f;if(t.isHierarchical(e)){s=Object.keys(e.items);for(d=0;d<s.length;d++){l=s[d];u=e.items[l];a(u)}}else if(e.ref&&"array"===e.type&&e.items){c=n({type:"items",items:e.items});f={type:"array",items:c};r(e.ref)||t.setValue(i,e.ref,f)}else if(e.ref){f=o(e);r(e.ref)||t.setValue(i,e.ref,f)}}a(e);return i}return n(e)}function c(e){var n=[];function i(e){var r,o,a;if(t.isHierarchical(e)){r=Object.keys(e.items);for(a=0;a<r.length;++a){o=e.items[r[a]];o.snapshot&&n.push(o);i(o)}}}i(e);return n}function d(e,t){if(t&&r[t])return r[t];var n=[];function i(e){e.globalChange&&n.push(e.globalChange);"items"!==e.type&&"array"!==e.type||!e.items||Object.keys(e.items).forEach(function(t){e.items[t]&&i(e.items[t])})}i(e);t&&!r[t]&&(r[t]=n);return n}return{findDefinition:a,findSnapshotProperties:c,findGlobalListeners:d,mapDefinition:s,mapProperties:l,getPropertyHierarchy:u}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};return{get:function t(){return e},isVariableSet:function t(n){return"1"===e[n]},isVariableDefined:function t(n){return!!e[n]},load:function t(n){return n.getVariableList().then(function(t){t.forEach(function(t){t.qName&&(e[t.qName]=t.qDefinition)});return e}).catch(function(){return e})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(10),n(48),n(89),n(90),n(138),n(91),n(95),n(108),n(491),n(124),n(115),n(210),n(123),n(114),n(335),n(499),n(99),n(56),n(449),n(193)],r=function(e,t,n,i,r,a,s,l,u,c,d,f,p,h,v,m,g){var b=false,y=false;var x={createVisualizationHtml:D,showVisualization:A,clearElement:I,appDoIt:L,setDefaultId:P,getDefaultListParam:M,createHypercubeDef:N,makeConfig:k,inClient:l.inClient,initClient:S,registerExtension:O,addPatches:R,isMeasure:F,validateColumns:B,createDefinition:V,convertDefinition:H,setLanguage:C,setDeviceType:E,resize:q,getExtensionList:_,callRepository:T,getExtensionSupport:U};Object.defineProperty(x,"Promise",{get:function e(){return n.Promise}});return x;function w(e){a.setup({context:"client",language:e});a.append({"Devhub.Cols.Array":"Cols parameter should be an array.","Devhub.Cols.InvalidQtype":"Invalid qType: {0}","Devhub.Cols.QlibraryIdMissing":"qLibraryId missing: {0}","Devhub.Cols.QdefString":"Measure qDef.qDef should be a string: {0}","Devhub.Cols.QfielddefArray":"Dimension qDef.qFieldDefs should be an array: {0}","Devhub.Cols.QdefOrQfielddefs":"Column needs either qDef.qDef or qDef.qFieldDefs: {0}","Devhub.Cols.QdefOrQlibraryid":"Column needs either qLibraryId or qDef: {0}","Devhub.Cols.Visualization.InvalidType":"The visualization type is incorrect: {0}"})}function S(){if(!b){b=true;if(!l.inClient()){u.configureTouchSupport();r.init({Promise:t.getService("$q")}).then(function(){y||""!==a.localeDetected||w()})}}}function C(e){y=true;w(e)}function E(e){g.setDeviceType(e)}function q(e){e?s.publish("/ui/object/resize."+e):s.publish("/resize/end")}function _(e){console.warn("qlik.getExtensionList(callback) is deprecated since June 2019, use available REST APIs instead.");return f.getList().then(function(t){e&&e(t)})}function T(e,n,i){console.warn("qlik.callRepository(path, method, body) is deprecated since June 2019, use available REST APIs instead.");return t.getService("$contentApi").request({method:n||"GET",url:e,data:i})}function k(e){e=e||{};var t=e._qEvent?new v(e._qEvent.handlers):new v;t.scope=e._qEvent?e._qEvent.scope:null;return{host:e.host||i.hostname,port:19076,isSecure:e.isSecure||i.isSecure,reloadURI:e.reloadURI?e.reloadURI:i.reloadURI,transientApp:!!e.transientApp,prefix:e.prefix||i.basePath.replace("/extensions/","/"),openWithoutData:e.openWithoutData,identity:e.identity,subpath:e.subpath,qEvent:t}}function O(e,t,n){var i="extensions/"+e+"/"+e;window.define(i,t);c.registerExtension({id:e,data:n||{type:"visualization"}});return i}function D(e){var t="",n="";if(e&&e.currentSelections){(e.noInteraction||e.noSelections)&&(n=" style='pointer-events:none;'");e.variant=e.variant||"bright";t+='<qv-stage-current-selections class="qvt-selections" options="options" app="app"'+n+'></qv-stage-current-selections><div class="qv-global-search-container"'+n+"></div>"}else e&&e.showNavigationToolbar?t+='<qv-odag-toolbar class="qv-odag-bar-container" model="model" in-edit-mode="inEdit" stand-Alone="standAlone"></qv-odag-toolbar>':t+='<qv-object model="model" options="options" object="object"></qv-object>';return t}function A(i,r,o,a){var s=new n;"string"===typeof i&&(i=document.getElementById(i));if(i){var l=i[0]?i[0]:i;l.innerHTML=D(o);var u=e.element(l).scope();if(u){var c=u.$new(true);var d=e.copy(o)||{};d.isReadonly=false!==d.isReadonly;if(o){o.noSelections&&(d.selections=false);o.noInteraction&&(d.interactionState=p.STATIC);if(o.showNavigationToolbar){c.inEdit=false;c.standAlone=true}}var f=function n(){c.model=r;c.app=a;c.options=d;c.object={};var i=t.getService("$compile");i(e.element(l).children("qv-object, qv-stage-current-selections, qv-odag-toolbar"))(c)};if(h.isInit){d.direction=h.direction;f();s.resolve(c)}else h.init(a.enigmaModel).then(function(){d.direction=h.direction;t.$apply(c,function(){f();s.resolve(c)})});t.$apply(c)}else s.reject(new Error("Element scope is undefined."))}else s.reject(new Error("Element is undefined."));return s.promise}function I(e,t){var i=function e(t){"string"===typeof t?t=document.getElementById(t):t[0]&&(t=t[0]);if(!t)return;t.innerHTML=""};if(t&&"function"===typeof t.then)return t.then(function(t){t.$destroy();i(e)}).catch(function(e){console.error(e)});i(e);return n.resolve()}function L(e,i,r){var o=new n;e.waitForOpen.promise.then(function(){var n=e.enigmaModel||e;t.$apply(t.$rootScope,function(){o.resolve(n[i].apply(n,r))})});return o.promise}function P(e,t){e.qInfo=e.qInfo||{};e.qInfo.qType=e.qInfo.qType||t||"mashup";e.qInfo.qId=e.qInfo.qId||"MU"+i.generateId()}function M(e,t){var n={};P(n,e);"BookmarkList"===e?n.qBookmarkListDef={qType:"bookmark",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description"}}:"SnapshotList"===e?n.qBookmarkListDef={qType:"snapshot",qData:{title:"/title",libraryTitle:"/qMetaDef/title",description:"/qMetaDef/description",sourceObjectId:"/sourceObjectId",visualizationType:"/visualizationType",timestamp:"/timestamp",snapshotData:"/snapshotData",isClone:"/isClone"}}:"CurrentSelections"===e?n.qSelectionObjectDef=t||{}:"DimensionList"===e?n.qDimensionListDef={qType:"dimension",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags",grouping:"/qDim/qGrouping",info:"/qDimInfos"}}:"MeasureList"===e?n.qMeasureListDef={qType:"measure",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags"}}:"sheet"===e?n.qAppObjectListDef={qType:"sheet",qData:{title:"/qMetaDef/title",labelExpression:"/labelExpression",description:"/qMetaDef/description",thumbnail:"/thumbnail",cells:"/cells",rank:"/rank",columns:"/columns",rows:"/rows"}}:"masterobject"===e?n.qAppObjectListDef={qType:"masterobject",qData:{name:"/metadata/name",visualization:"/visualization",tags:"/metadata/tags"}}:"VariableList"===e?n.qVariableListDef={qType:"variable",qData:{tags:"/tags"}}:"story"===e?n.qAppObjectListDef={qType:"story",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description",thumbnail:"/thumbnail",rank:"/rank"}}:n["q"+e+"Def"]={};return n}function N(e,t,n){if(Array.isArray(e)&&!Array.isArray(t)){var i=t||{},r=[],o=[],a=[];e.forEach(function(e){if(F(e)){a.push(-1);o.push(e)}else{a.push(r.length);r.push(e)}});var s=r.length;a.forEach(function(e,t){if(e<0){a[t]=s;s++}});i.columnOrder=a;i.qInterColumnSortOrder=a;return N(r,o,i)}var l=n||{};if(e){var u=[];e.forEach(function(e){"string"===typeof e?u.push({qDef:{qFieldDefs:[e]}}):u.push(e)});l.qDimensions=u}var c=[];t.forEach(function(e){"string"===typeof e?c.push({qDef:{qDef:e}}):c.push(e)});l.qMeasures=c;l.qInitialDataFetch=[{qTop:0,qLeft:0,qHeight:20,qWidth:(l.qDimensions?l.qDimensions.length:0)+l.qMeasures.length}];n&&n.rows&&(l.qInitialDataFetch[0].qHeight=n.rows);return l}function R(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(t[i]instanceof Object&&!Array.isArray(t[i])?R(e+i+"/",t[i],n):n.push({qPath:e+i,qOp:"add",qValue:"string"===typeof t[i]?'"'+t[i]+'"':JSON.stringify(t[i])}))}function F(e){if("string"===typeof e)return 0===e.indexOf("=");if(e.qType)return"measure"===e.qType;return!!(e.qDef&&e.qDef.qDef||e.qSortBy||e.qAttributeExpressions)}function j(e,t,n){e=e?e+", ":"";return e+a.get(t,JSON.stringify(n))}function B(e){if(!Array.isArray(e))return a.get("Devhub.Cols.Array");var t;e.forEach(function(e){"object"===o(e)?e.qType?"measure"!==e.qType&&"dimension"!==e.qType?t=j(t,"Devhub.Cols.InvalidQtype",e):e.qLibraryId||(t=j(t,"Devhub.Cols.QlibraryIdMissing",e)):e.qDef?e.qDef.qDef?"string"!==typeof e.qDef.qDef&&(t=j(t,"Devhub.Cols.QdefString",e)):e.qDef.qFieldDefs?Array.isArray(e.qDef.qFieldDefs)||(t=j(t,"Devhub.Cols.QfielddefArray",e)):t=j(t,"Devhub.Cols.QdefOrQfielddefs",e):t=j(t,"Devhub.Cols.QdefOrQlibraryid",e):"string"!==typeof e&&(t=j(t,"Devhub.Cols.InvalidType",e))});return t}function V(e,t,i,r){var o=d.getType(t);if(!o)return n.reject(a.get("Devhub.Visualization.InvalidType",t));if(i){var s=B(i);if(s)return n.reject(s)}return e.model.waitForOpen.promise.then(function(){return m.createProperties(e.model.enigmaModel,t,i,r)})}function H(e,t,n,i){return m.convertProperties(e,t,n,i)}function U(e){var t=["export","exportData","viewData"];var i={};var r=e.layout.visualization||e.layout.qInfo&&e.layout.qInfo.qType;var o=d.getType(r);if(!o)return n.resolve(i);return o.getExtensionType().then(function(e){Object.keys(e.support).forEach(function(n){-1!==t.indexOf(n)&&(i[n]=e.support[n])});return i}).catch(function(){return i})}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){var t="[A-Za-zÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-Ê¸Ê»-ËË-ËË -Ë¤Ë®Í°-Í³Í¶-Í½ÎÎ-ÏµÏ·-ÒÒ-Öà¤-à¤¹à¤»à¤½-à¥à¥-à¥à¥-à¥à¥-à¥¡à¥¤-à¥¿à¦-à¦¹à¦½-à§à§-à§à§-à§¡à§¦-à§±à§´-à§ºà¨-à¨¹à¨¾-à©à©-à©¯à©²-à©´àª-àª¹àª½-à«à«-à«à«-à«¡à«¦-à«¯à¬-à¬¹à¬½-à¬¾à­à­-à­à­-à­¡à­¦-à­·à®-à®¿à¯-à¯à¯-à¯²à°-à°½à±-à±à±-à±¡à±¦-à±¯à±¿-à²¹à²½-à³à³-à³¡à³¦-àµàµ-àµàµ-àµ¡àµ¦-à·à·-à·à·-à¸°à¸²-à¸³à¹-à¹à¹-àº°àº²-àº³àº½-à»à»-à¼à¼-à¼´à¼¶à¼¸à¼¾-à½¬à½¿à¾à¾-à¾à¾¾-à¿à¿-á¬á±á¸á»-á¼á¿-áá-áá¡-á°áµ-áá-áá-áá-áá-áá -áá -á´á-á¿á-áá -áá -á±áµ-áá -á°á-á¶á¾-áá-áá-ááá -á©á -á¢¨á¢ª-á¤á¤£-á¤¦á¤©-á¤±á¤³-á¤¸á¥-á§á¨-á¨á¨-á©á©á©¡á©£-á©¤á©­-á©²áª-áª­á¬-á¬³á¬µá¬»á¬½-á­á­-á­ªá­´-á­¼á®-á®¡á®¦-á®§á®ª-á¯¥á¯§á¯ª-á¯¬á¯®á¯²-á°«á°´-á°µá°»-á±¿á³á³¡á³©-á³¬á³®-á¶¿á¸-á¾¼á¾¾á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿¼ââ±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-ââ-ââ -ââ¶-âºââ-â©â¬â -â£¿â°-â³¤â³«-â³®â´-âµ°â¶-â·ã-ãã¡-ã©ã±-ãµã¸-ã¼ã-ãã-ãã¡-ãºã¼-ãºã°-ãã -ãã -ã»ã¿-ã°ã-ãã-ã¶ã»-ãã -ã¾ã-ä¶µä¸-êê-êê-ê®ê-ê¯ê²-ê·ê¢-êê-ê ê -ê ê -ê ê -ê ¤ê §ê °-ê ·ê¡-ê¡³ê¢-ê£ê£-ê£ê£²-ê¤¥ê¤®-ê¥ê¥-ê¥¼ê¦-ê¦²ê¦´-ê¦µê¦º-ê¦»ê¦½-ê¨¨ê¨¯-ê¨°ê¨³-ê¨´ê©-ê©ê©-ê©ê©-êª¯êª±êªµ-êª¶êª¹-êª½ê«ê«-ê¯¤ê¯¦-ê¯§ê¯©-ê¯¬ê¯°-ï¬ï¼¡-ï¼ºï½-ï½ï½¦-ï¿]";var n="[Ö¾××××-×´ß-ßªß´-ßµßº-à à à ¤à ¨à °-à¡à¡âï¬ï¬-ï¬¨ï¬ª-ï­]";var i="[ØØØØ-ÙÙ­-Ù¯Ù±-ÛÛ¥-Û¦Û®-Û¯Ûº-ÜÜÜ-Ü¯Ý-Þ¥Þ±ï­-ï´½ïµ-ï·¼ï¹°-ï»¼]";var r='[\t-\r-"&-*;-@[-`{-~ÂÂ¡Â¦-Â©Â«-Â¬Â®-Â¯Â´Â¶-Â¸Â»-Â¿ÃÃ·Ê¹-ÊºË-ËË-ËË¥-Ë­Ë¯-Ë¿Í´-ÍµÍ¾-ÎÎÏ¶ÖØ-ØØ-ØÛÛ©ß¶-ß¹à¯³-à¯¸à¯ºà±¸-à±¾à¼º-à¼½á-áááá-áá°-á á á¥-á¥á§-á§¿á¾½á¾¿-á¿á¿-á¿á¿-á¿á¿­-á¿¯á¿½-ââ-\u2029âµ-ââ-ââ¼-â¾â-ââ-ââ-ââ-âââ-ââ-â£â¥â§â©âº-â»â-ââ-ââ-ââ-ââ-âµâ»-ââ-ââª-â«â­-â¿â¤-â­â³¥-â³ªâ³¹-â³¿â¸-ãã-ã ã°ã¶-ã·ã½-ã¿ã-ãã ã»ã-ã£ã-ãã-ãã¼-ã¾ã±-ã¿ã-ãã·-ãºã-ãã¿ä·-ä·¿ê-êê-êê³ê¾-ê¿ê-ê¡êê ¨-ê «ê¡´-ê¡·ï´¾-ï´¿ï·½ï¸-ï¸ï¸°-ï¹ï¹ï¹ï¹-ï¹ï¹ -ï¹¡ï¹¤-ï¹¨ï¹«ï¼-ï¼ï¼-ï¼ï¼-ï¼ ï¼»-ï½ï½-ï½¥ï¿¢-ï¿¤ï¿¨-ï¿½]';var o=new RegExp(t);var a=new RegExp(n);var s=new RegExp(i);var l=new RegExp(r);var u=String.fromCharCode(8206),c=String.fromCharCode(8207);var d,f;function p(){void 0===f&&y();return f}function h(e){return o.test(e)}function v(e){return a.test(e)||s.test(e)}function m(e){return l.test(e)}function g(e){var t=e?e.length:0,n,i;for(n=0;n<t;n++){i=e[n];if(h(i))return"ltr";if(v(i))return"rtl"}return"ltr"}function b(e){if(f)return"auto";return g(e)}function y(){var e=document.createElement("div"),t=document.getElementsByTagName("body")[0];e.setAttribute("style","position: absolute; width: 1px; height: 1px; top: -999px; overflow: scroll; white-space:nowrap;");e.setAttribute("dir","rtl");t.appendChild(e);d=x(e);f=w(e);t.removeChild(e)}function x(e){e.innerHTML="RTL-SCROLL-TEST";var t="reverse";if(e.scrollLeft>0)t="default";else{e.scrollLeft=1;0===e.scrollLeft&&(t="negative")}return t}function w(t){t.innerHTML="ÙØ§ Ø£Ø­Ø¯ ÙØ­Ø¨ Ø§ÙØ£ÙÙ Ø¨Ø°Ø§ØªÙØ ÙØ³Ø¹Ù ÙØ±Ø§Ø¦Ù Ø£Ù ÙØ¨Øª";var n;switch(d){case"reverse":n=false;break;case"default":n=t.scrollLeft>0;break;case"negative":e(t).scrollLeft(-1e3);n=t.scrollLeft<0;break;default:n=false}return n}y();function S(e,t,n){n=Number.isNaN(+n)?0:n;if(e&&"reverse"===d)return t+n;return t-n}return{supportDirAuto:p,detectTextDirection:g,getAutoOrAlternativeDirection:b,isLtrChar:h,isRtlChar:v,isNeutralChar:m,lrm:u,rlm:c,scrollImplementation:d,getScrollPos:S}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={cellBackgroundColor:true,cellForegroundColor:true,colorByAlternative:true,colorByExpression:true,tooltip:true,urlLabel:true};return{create:function t(n,i){if(!n||!e[n])throw new Error("Attribute Expressions Util: ID required");var r={};i&&Object.keys(i).forEach(function(e){r[e]=i[e]});r.id=n;r.qAttribute=true;return r},getById:function e(t,n,i){if(t){i=i||"id";return t.filter(function(e){return e[i]===n})[0]}return false},getIndexById:function e(t,n,i){var r=-1;if(t){i=i||"id";t.forEach(function(e,t){e[i]===n&&(r=t)})}return r},moveById:function e(t,n,i,r){var o=this.getIndexById(t,i,r);n=n||[];var a=this.getIndexById(n,i,r);if(-1!==o&&-1===a){var s=t.splice(o,1);n.push(s[0])}return n},moveByIdFromGroup:function e(t,n,i,r,o){i=i||"qAttributeExpressions";o=o||"id";for(var a=0;a<t.length;a++){var s=t[a][i];var l=n.length;this.moveById(s,n,r,o);if(l!==n.length)return n}return n},clean:function e(t){return t.filter(function(e){return e&&e.id})},IDMAP:{CELL_BACKGROUND_COLOR:"cellBackgroundColor",CELL_FOREGROUND_COLOR:"cellForegroundColor",COLOR_BY_ALTERNATIVE:"colorByAlternative",COLOR_BY_EXPRESSION:"colorByExpression",TOOLTIP:"tooltip",CELL_URL_LABEL:"urlLabel"}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=".autoCalendar";function t(t){var n=t?t.split(e).join(""):"";return n}return{trimAutoCalendarName:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(598),n(102),n(89),n(90),n(49),n(93)],r=function(e,t,n,i,r,o){var a={},s=null,l=null;t.mixin(a);a.notification("UpdateObjProps");function u(t,n){s=t;e.get(s,n).then(function(e){e.Invalidated.bind(c.bind(this,n))})}function c(e){var t;p(e).then(function(e){t=e;a.UpdateObjProps.emit(t)})}function d(t,n){return e.getList(t).then(function(o){return t.getLayout().then(function(a){return o.getLayout().then(function(o){if(o&&o.length)return u(o[0].qInfo.qId,t);if(n||r.getFlag("THEME_CARDS")&&true===i.getValue(a,"permissions.createMasterobject"))return e.create({},t).then(function(e){return e.getLayout().then(function(){return u(e.id,t)})})})})})}function f(t,n,r){return e.get(t,r).then(function(e){return e.getProperties().then(function(t){var r={};r=i.extend(true,t,n);r.sheetLogoThumbnail.qStaticContentUrl&&delete r.sheetLogoThumbnail.qStaticContentUrl;return e.setProperties(r)})})}function p(t){if(s)return e.get(s,t).then(function(e){return e.getLayout()});l=new n;l.resolve({});return l.promise}function h(e){return e?n.resolve(e):o.getApp()}a.setProperties=function(e,t){return h(t).then(function(t){if(!s)return d(t,true).then(function(){return f(s,e,t)});return f(s,e,t)})};a.getProperties=function(e){return h(e).then(function(e){if(!s)return d(e,false).then(p.bind(this,e));return p(e)})};return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(213)],r=function(e){var t={};Object.defineProperty(t,"path",{get:function t(){var n=e.serverHelpBaseUrl;var i=location.pathname.split("/").slice(-2,-1)[0];location.pathname.toLowerCase().indexOf("/dev-hub/")>-1?i="dev-hub":"qmc"!==i.toLowerCase()&&(i="client");n+=i+"/";return n}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(96)],r=function(e,t){var n=t.Gesture.augment(function(e){this.defaults={which:2,radiusThreshold:3};this.start=function(e,n){if(t.utils.touch)return;if(t.utils.msPointer&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType)return;if(this.isValidMouseButton(e,this.options.which)){this.initiated=true;n.startPoint=n.points[0];this.binder.start.call(this,e,n)}};this.update=function(e,t){if(!this.started&&t.startPoint&&t.startPoint.distanceTo(t.points[0])>=this.options.radiusThreshold){this.started=true;this.binder.update.call(this,e,t)}else this.started&&this.binder.update.call(this,e,t)};this.end=function(e,t){if(this.initiated){this.binder.end.call(this,e,t);this.initiated=false}};function n(){e.apply(this,arguments)}return n});t.gestures.add("wheelswipe",n);function i(e,t){e.gestures.forEach(function(n){n!==t&&e.cancelGesture(n)})}function r(e){var t=0,n=0,i=0,r=60;e.wheelDelta&&(t=e.wheelDelta/r);e.detail&&(t=-e.detail/3);i=t;if(void 0!==e.axis&&e.axis===e.HORIZONTAL_AXIS){i=0;n=-1*t}void 0!==e.wheelDeltaY&&(i=e.wheelDeltaY/r);void 0!==e.wheelDeltaX&&(n=-1*e.wheelDeltaX/r);return{delta:t,deltaX:n,deltaY:i,x:e.pageX,y:e.pageY}}function o(e,t,n){var i,r;return function(){var o=n||this;var a=+new Date,s=arguments;if(i&&a<i+t){clearTimeout(r);r=setTimeout(function(){i=a;e.apply(o,s)},t)}else{i=a;e.apply(o,s)}}}var a={debouceTimer:null};function s(e,t,n){return function(){var i=this,r=arguments,o;n=n||a;l(n);o=setTimeout(function(){e.apply(i,r)},t);n.debounceTimer=o}}function l(e){e=e||a;e.debounceTimer&&clearTimeout(e.debounceTimer);e.debounceTimer=null}function u(t){if(!t)return;t=t.map(function(e){return e.qGroupFieldDefs?e.qGroupFieldDefs[e.qGroupPos||0]:e.qFallbackTitle});e.$rootScope.$broadcast("locked-feedback",[t]);s(function(){e.$rootScope.$broadcast("locked-feedback",[t,true])},100)()}return{getMouseWheelData:r,cancelGestures:i,throttle:o,debounce:s,cancelDebounce:l,showLockedFeedback:u}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[],r=function(){var e={missing:{template:"<div></div>",controller:[function(){}]}};function t(t){var n=t.component;if("string"===typeof n){if(e[n])return e[n];window.console.log('Error! No component found with name "'+n+'"');return e.missing}if("object"===o(n))return n;switch(t.type){case"items":return e.items;case"string":return e.string;case"integer":return e.integer;case"number":return e.number;case"boolean":return e.checkbox;case"array":if(t.items)return e.list;return e.slider;default:if(t.type){window.console.log('Error! No component found for type "'+t.type+'"');return e.missing}window.console.log('Warning! Missing component/type in definition. Using "items" component.');return e.items}}function n(t){return e[t]}function i(e){return!!n(e)}function r(t,n){if(e[t])throw new Error("Property panel component already loaded: "+t);e[t]=n}return{getComponent:n,hasComponent:i,findComponent:t,addComponent:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){return e.replace(/^=+/,"")}function t(e,t){n(e,t);e.description?e.validity.description=e.description.length<=t.description:e.validity.description=true;return e.validity.name&&e.validity.description}function n(e,t){e.validity.name=!!e.name&&!!e.name.trim()&&e.name.length<=t.name;return e.validity.name}function i(t,n){var i=t.expression;var r="string"===typeof i&&i.trim().length>0&&i.length<=n.expression;i&&(t.expression=e(i));t.validity.expression=r;return r}function r(e){var t=e.selectedFields,n=false;if(!t)return false;"single"===e.type?n=1===t.length:"drilldown"===e.type&&(n=t.length>1);e.validity.selectedFields=n;return n}return{validateMetadata:t,validateMetadataName:n,validateExpr:i,validateFieldsInDimension:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};Object.defineProperties(e,{ENTER:{value:13},ESCAPE:{value:27},SPACE:{value:32},TAB:{value:9},BACKSPACE:{value:8},DELETE:{value:46},ALT:{value:18},CTRL:{value:17},SHIFT:{value:16},ARROW_UP:{value:38},ARROW_DOWN:{value:40},ARROW_LEFT:{value:37},ARROW_RIGHT:{value:39},PAGE_DOWN:{value:34},PAGE_UP:{value:33},HOME:{value:36},END:{value:35},F10:{value:121},A:{value:65},F:{value:70}});e.isArrow=function(t){return t===e.ARROW_UP||t===e.ARROW_DOWN||t===e.ARROW_LEFT||t===e.ARROW_RIGHT};return e}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(89),n(310),n(48)],r=function(e,t,n,i){function r(e){e=e.replace(/\$/g,"[dollar]");e=e.replace(/\\/g,"[slash]");return e}function o(e){e=e.replace(/\[dollar\]/g,"$");e=e.replace(/\[slash\]/g,"\\");return e}function a(e){return e}function s(t){t=t.replace(/'/g,"\\'");t=t.replace(/"/g,'\\"');var n=e("div[name='"+t+"']");if(1!==n.length)throw new Error('Could not find the table "'+t+'".');return n}function l(){var t=e("div[table]");return t}function u(e,t){var n=s(e).find("li[data-name='"+t.replace(/'/g,"\\'")+"']");if(1!==n.length)throw new Error('Could not find the field "'+t+'" in the table "'+e+'".');return n}function c(e){var t=s(e);return d(t)}function d(e){return e.find("h1")}function f(e){var t=s(e);return p(t)}function p(e){return d(e).outerHeight()}function h(e,t){return t-n.OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM-f(e)}function v(e){return s(e).height()}function m(e){var t=s(e);return g(t)}function g(e){return e.width()}function b(e,n,i){var r=new t;var o={top:n,left:i};s(e).animate(o,{duration:750,complete:function e(){return r.resolve()}});return r.promise}function y(e,n,i){var r=new t;var o=D(s(e));var a=P(s(e));var l=I(s(e));n>o&&(n=o);i>l&&(i=l);i<a&&(i=a);var u={height:n,width:i};s(e).animate(u,{duration:750,progress:function t(){x(e)},complete:function t(){x(e);return r.resolve()}});return r.promise}function x(e){var i=v(e)-f(e)-n.OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM;s(e).find("ul").height(i);return t.resolve()}function w(e){var t=s(e);var n=parseInt(t.css("top"),10);return n}function S(e){return e.height()}function C(e){var t=s(e);var n=parseInt(t.css("left"),10);return n}function E(t){var n=e(".table-container");n.css("opacity",t)}function q(){e("svg.dmv").fadeIn(750)}function _(){var n=new t;e("svg.dmv").fadeOut(750,function(){return n.resolve()});return n.promise}function T(e){var t=i.getService("qvLoader");function n(){var n=e?"DataModelViewer.ReloadInProgress":"DataModelViewer.RefreshingDataModel";var i={messageObj:{task:n},transparentBackground:true};t.show(i)}if(void 0===e)throw new Error("Reloading is undefined.");t.isOpen()?t.close().then(n):n()}function k(){var e=i.getService("qvLoader");e.close()}function O(){var t=0;var n=0;var i=0;var r=0;var o=Number.MAX_VALUE;var a=Number.MAX_VALUE;l().each(function(s,l){var u=e(l);t=Math.max(t,parseInt(u.css("left"),10));n=Math.max(n,parseInt(u.css("top"),10));i=Math.max(i,u.width());r=Math.max(r,u.height());o=Math.min(o,parseInt(u.css("left"),10));a=Math.min(a,parseInt(u.css("top"),10))});return{left:t,top:n,width:i,height:r,bottom:n+r,right:t+i,furthestLeft:o,furthestTop:a}}function D(e){var t=e.css("height");var n=e.find("ul").css("height");e.css("height","auto");e.find("ul").css("height","auto");var i=e.outerHeight();e.css("height",t);e.find("ul").css("height",n);return i}function A(e){var t=s(e);return D(t)}function I(e){var t=e.css("width");e.css("width","auto");var n=e.outerWidth();e.css("width",t);return n}function L(e){var t=s(e);return I(t)}function P(e){var t=Math.min(n.MIN_TABLE_RESIZE_WIDTH,I(e));return t}function M(e){return p(e)}return{encodeTableName:r,decodeTableName:o,decodeFieldName:a,setTablePosition:b,setTableSize:y,setTableContainerElementOpacity:E,getTableWidth:g,getTableWidthByTableName:m,getTableElementHeight:S,getMaxHeightForTable:D,getMaxWidthForTable:I,getMinWidthForTable:P,getTableElement:s,getFieldElement:u,getMinHeightForTable:M,getTableHeader:c,getTableHeaderHeightByTableName:f,getULHeight:h,getTableHeightByTableName:v,getTableElementTop:w,getTableElementLeft:C,getAllTableElements:l,getHighestHeightForAllTables:O,getMaxHeightForTableByName:A,getMaxWidthForTableByName:L,updateULHeightBasedOnTableHeight:x,fadeInLines:q,fadeOutLines:_,fadeInWorkingOverlay:T,fadeOutWorkingOverlay:k}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Button",{enumerable:true,get:function e(){return i.default}});Object.defineProperty(t,"ButtonGroup",{enumerable:true,get:function e(){return r.default}});Object.defineProperty(t,"Checkbox",{enumerable:true,get:function e(){return o.default}});Object.defineProperty(t,"Dialog",{enumerable:true,get:function e(){return a.default}});Object.defineProperty(t,"FadeButton",{enumerable:true,get:function e(){return s.default}});Object.defineProperty(t,"Icon",{enumerable:true,get:function e(){return l.default}});Object.defineProperty(t,"Input",{enumerable:true,get:function e(){return u.default}});Object.defineProperty(t,"InputGroup",{enumerable:true,get:function e(){return c.default}});Object.defineProperty(t,"List",{enumerable:true,get:function e(){return d.default}});Object.defineProperty(t,"Popover",{enumerable:true,get:function e(){return f.default}});Object.defineProperty(t,"RadioButton",{enumerable:true,get:function e(){return p.default}});Object.defineProperty(t,"Select",{enumerable:true,get:function e(){return h.default}});Object.defineProperty(t,"Search",{enumerable:true,get:function e(){return v.default}});Object.defineProperty(t,"Switch",{enumerable:true,get:function e(){return m.default}});Object.defineProperty(t,"Tab",{enumerable:true,get:function e(){return g.default}});Object.defineProperty(t,"Tabset",{enumerable:true,get:function e(){return b.default}});Object.defineProperty(t,"Textarea",{enumerable:true,get:function e(){return y.default}});Object.defineProperty(t,"Toast",{enumerable:true,get:function e(){return x.default}});Object.defineProperty(t,"Tooltip",{enumerable:true,get:function e(){return w.default}});var i=S(n(1009));var r=S(n(1365));var o=S(n(1368));var a=S(n(1370));var s=S(n(1376));var l=S(n(1381));var u=S(n(1218));var c=S(n(1383));var d=S(n(1387));var f=S(n(1393));var p=S(n(1401));var h=S(n(1403));var v=S(n(1405));var m=S(n(1407));var g=S(n(1409));var b=S(n(1413));var y=S(n(1415));var x=S(n(1417));var w=S(n(1421));function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(10),n(48)],r=function(e,t,n){var i={},r=false,o=false,a=null,s=null,l=null,u={wide:{w:16,h:9},regular:{w:4,h:3}},c={id:"",slide:"",action:""},d={id:null},f=0,p=199,h={},v;function m(t,n){var i=e(".qv-grid-story"),r=i.offset().left+1*n.width-t.outerWidth(),o=i.outerWidth()+i.offset().left-1*n.width,a=i.offset().top+1*n.height-t.outerHeight(),s=i.offset().top+i.outerHeight()-1*n.height;return[r,a,o,s]}function g(e,t,n){var i,r=e.outerHeight(),o=e.outerWidth(),a=e.offset(),s=t.offset(),l=t.outerHeight(),u=t.outerWidth();if(a.left+o<s.left+1*n.width){i=s.left+1*n.width-(a.left+o);e.css("left","+="+i)}if(a.top+r<s.top+1*n.height){i=s.top+1*n.height-(a.top+r);e.css("top","+="+i)}if(a.left+1*n.width>s.left+u){i=a.left+1*n.width-(s.left+u);e.css("left","-="+i)}if(a.top+1*n.height>s.top+l){i=a.top+1*n.width-(s.top+l);e.css("top","-="+i)}}function b(e,t){e=parseInt(e);while(e%t!==0&&e>t)e--;return e<t?t:e}function y(e,t){while(e%t!==0&&e>0)e++;return e}function x(e,t){var n="right"===t?"right":"left",i=e.position().top,r=e.outerWidth(),o=e.outerHeight(),a=e.position().left,s=e.offsetParent().width()-a-r,l=(100*i/e.offsetParent().height()).toFixed(5)+"%",u="right"===n?"auto":(100*a/e.offsetParent().width()).toFixed(5)+"%",c="left"===n?"auto":(100*s/e.offsetParent().width()).toFixed(5)+"%",d=(100*r/e.offsetParent().width()).toFixed(5)+"%",f=(100*o/e.offsetParent().height()).toFixed(5)+"%";return{top:l,left:u,right:c,width:d,height:f,"z-index":parseInt(e.css("z-index"),10)}}function w(e){var t=e.getBoundingClientRect(),n=document.getElementById("selectable").getBoundingClientRect(),i=t.top-n.top,r=t.left-n.left,o=t.width,a=t.height,s=(i/n.height*100).toFixed(2)+"%",l=(r/n.width*100).toFixed(2)+"%",u=(o/n.width*100).toFixed(2)+"%",c=(a/n.height*100).toFixed(2)+"%",d={top:s,left:l,width:u,height:c,"z-index":parseInt(e.style.zIndex,10)};return d}function S(){return i}function C(e){i=e}function E(e){r=e}function q(){return r}function _(e){l=e;t.element(".qv-storytelling-edit-toolbar").scope().$broadcast(e?"slideItemSelected":"slideItemDeselected")}function T(){return l}function k(e){function t(e,t){if(e.qData.rank<t.qData.rank)return-1;if(e.qData.rank>t.qData.rank)return 1;return 0}if(Array.isArray(e)&&e.length>0)return e.sort(t);return e}function O(e,t){var i=n.getService("$compile"),r=n.getService("$rootScope"),o="<div storytelling-thumbnail />",a=r.$new();a.slide={qInfo:{qId:t}};e.empty();e.append(i(o)(a))}function D(){n.getService("$timeout").cancel(v);i.showGrid=true}function A(){n.getService("$timeout").cancel(v);v=n.getService("$timeout")(function(){i.showGrid=false},2300)}return{getContainmentOnElement:m,slideItemOutsideSlide:g,decreaseValueUntilEvenSplit:b,increaseValueUntilEvenSplit:y,getElementPosition:x,getHelperPosition:w,getGridOptions:S,setGridOptions:C,showGridPattern:D,hideGridPattern:A,setPublishState:E,getPublishState:q,sortSlidesByRank:k,setSelectedSlideItemElem:_,getSelectedSlideItemElem:T,currentStoryId:a,currentSlideId:s,createSlideThumbnail:O,availableRatios:u,pasteOffset:f,lastObjPasted:c,lastObjAdded:d,isViewingSource:o,maxNumberOfSlideItems:p,selectionState:h}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(93)],r=function(e,t){function n(n){return n?e.resolve(n.enigmaModel):t.getApp()}var i={};i.get=function(e,t){return n(t).then(function(t){return t.getBookmark(e)})};i.apply=function(e,t){return n(t).then(function(t){return t.applyBookmark(e)})};i.create=function(e,t){return n(t).then(function(t){return t.createBookmark(e)})};i.remove=function(e,t){return n(t).then(function(t){return t.destroyBookmark(e)})};i.getList=function(e){return n(e).then(function(e){return e.getBookmarkListObject()})};i.getListLayout=function(e){return n(e).then(function(e){return e.getBookmarkList()})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(93),n(90),n(89)],r=function(e,t,n,i){e.service("qvColorMapService",[function(){var e="ColorMapModel_";function r(e){var t=null;return e.getLayout().then(function(e){e.colorMap&&(t=e.colorMap);return t?n.extend(true,{},t):null})}function o(e,t){var i=n.extend(true,{},t);return e.getProperties().then(function(t){if(t.colorMap){t.colorMap=i;return e.setProperties(t)}})}var a={getColorMap:function n(o,a){var s;s=a?i.resolve(a):t.getApp();if(!o)return i.resolve(null);return s.then(function(t){return t.getObject((e+o).toString()).then(function(e){return r(e)})}).catch(function(){return null})},setColorMap:function n(i,r){var a=(e+i).toString();return t.getApp().then(function(e){return e.getObject(a).catch(function(){return e.createObject({qInfo:{qType:"ColorMap",qId:a},colorMap:{}})}).then(function(e){return o(e,r)})})},deleteColorMap:function n(i){return t.getApp().then(function(t){return t.destroyObject((e+i).toString())})},getTemplate:function e(){return{colors:[],nul:null,oth:null,pal:null,single:null,usePal:null,autoFill:true}},getMeasureGradient:function e(n,r){var o;o=r?i.resolve(r):t.getApp();return o.then(function(e){return e.getMeasure(n).then(function(e){return e.getProperties().then(function(e){if(e&&e.qMeasure&&e.qMeasure.coloring)return e.qMeasure.coloring.gradient})})}).catch(function(){return null})}};return a}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(95),n(11),n(10),n(48),n(833),n(839),n(94),n(50),n(202)],r=function(e,t,n,i,r,o,a,s,l){i.service("qvGlobalSelectionsService",["$document","$timeout",function(i,u){var c={},d,f=false,p=null,h=[];function v(e){if(!e)return c[0];return c[g(e)]}function m(e,t){c[g(e)]=t}function g(e){return e&&e.id?e.id.toUpperCase():""}function b(e){function t(){var t=v(e);x(t)}function n(){var t=v(e);x(t);y(t)}return{$container:void 0,$app:e,$selectionCount:false,$showFields:false,getComponent:function e(){return s.isSmallDevice?o:r},setup:function e(){s.ViewChanged.bind(n);a.StateChanged.bind(t)},destroy:function e(){s.ViewChanged.unbind(n);a.StateChanged.unbind(t)}}}function y(e){e.$container=n.element("<div>");i.find("#global-selections-container").length>0?i.find("#global-selections-container").append(e.$container):i.find("body").append(e.$container);e.$container.showComponent(e.getComponent(),["$scope",function(t){t.app=e.$app}]);e.setup()}function x(e){if(e.$container){e.$container.remove();e.$container=void 0}h.forEach(function(e){e()});e.destroy()}function w(e){var t=v(e);if(!t){t=new b(e.enigmaModel);m(e,t)}return t}function S(e){return e&&void 0!==e.$container}function C(){e.publish("/toolbar/setContextItemsVisibility",d.getCaoActive()||d.isSelectActive())}function E(e){var n=l.getCurrentSheetInfo();if(S(e)){l.closeAnalysisOverlay(n.sheetId,n.appId);x(e);t("body").removeClass("qv-global-selections-enabled")}else{l.openAnalysisOverlay(n.sheetId,n.appId,a.States.selections);t("body").addClass("qv-global-selections-enabled");y(e)}C()}d={toggleGlobalSelection:function e(t){E(w(t))},off:function e(){Object.keys(c).forEach(function(e){x(c[e])})},isSelectActive:function e(t){var n=v(t);return!!(void 0!==t&&S(n))},getCaoActive:function e(){return f},setCaoActive:function e(t){u(function(){f=t;C()})},setCsShowCallback:function e(t){p=t},setCsShow:function e(t){p&&p(t)},setSelectionCount:function t(n,i){var r=w(i);r.$selectionCount=n;e.publish("/toolbar/invalidateMobileToolbar",n)},getSelectionCount:function e(t){var n=v(t)||{};return n.$selectionCount},setShowFields:function e(t,n){var i=w(n);i.$showFields=t},getShowFields:function e(t){var n=v(t)||{};return!!n.$showFields},onClose:function e(t){"function"===typeof t&&h.push(t)}};return d}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(48),n(283),n(90),n(102),n(10)],r=function(e,t,n,i,r){t.service("qvSelectionToolbarService",function(){var t,o,a;function s(e,t){var n=e[0].getBoundingClientRect(),i=t[0].getBoundingClientRect(),r,o,a,s;if(t.is("th, td")){o=t.closest("table")[0].getBoundingClientRect();r=t.prevAll();a=r.length?r.last():t;s=a[0].getBoundingClientRect();if(s.left-o.left===1)return{top:i.top-n.top,left:i.left-1-n.left,width:i.width}}return{top:i.top-n.top,left:i.left-n.left,width:i.width}}t={open:function t(r,l,u){var c=s(r,l),d={top:-44+c.top,width:c.width+(u.offsetWidth||0),left:c.left};u.toolbar=i.extend(true,u.toolbar,{position:d,menuMaxHeight:u.menuMaxHeight});o=e.element("<div>");a=o.showComponent(n,u);o.appendTo(r);this.Opened.emit()},refresh:function e(){a&&a.refresh()},close:function e(){if(a){a.close();this.Closed.emit();a=void 0}o&&o.remove()},confirm:function e(){if(a){a.confirm();a=void 0}this.close()}};r.create(t,"Closed");r.create(t,"Opened");return t})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e="q3TnObj";function t(){var t=JSON.parse(sessionStorage.getItem(e));null===t&&(t=JSON.parse(localStorage.getItem(e))||{});return t}function n(){return t()}function i(n){var i=t();if(!i[n]){i[n]={data:{view:"",scriptTabIndex:0},tab:"",analysis:{sheetId:"",state:""},story:{storyId:"",slideId:"",state:""}};sessionStorage.setItem(e,JSON.stringify(i));localStorage.setItem(e,JSON.stringify(i));return i[n]}return i[n]}function r(n,r,o,a){var s=i(n);var l=t();void 0===o&&(o=l[n].data.scriptTabIndex);a||(s.tab="data");s.data={view:r,scriptTabIndex:o};l[n]=s;localStorage.setItem(e,JSON.stringify(l));sessionStorage.setItem(e,JSON.stringify(l));return l[n]}function o(e){var n=t();if(n[e])return n[e].data;return"not_found"}function a(n,r,o,a){var s=i(o);var l=t();s.tab="analysis";s.analysis={sheetId:n,state:r,overlay:a};l[o]=s;localStorage.setItem(e,JSON.stringify(l));sessionStorage.setItem(e,JSON.stringify(l));return l[o]}function s(e){var n=t();if(n[e])return n[e].analysis;return"not_found"}function l(n,r,o,a){var s=i(a);var l=t();s.tab="story";s.story={slideId:n,storyId:o,state:r};l[a]=s;localStorage.setItem(e,JSON.stringify(l));sessionStorage.setItem(e,JSON.stringify(l));return l[a]}function u(e){var n=t();if(n[e])return n[e].story;return"not_found"}function c(n,r){var o=i(r);var a=t();o.tab=n;a[r]=o;localStorage.setItem(e,JSON.stringify(a));sessionStorage.setItem(e,JSON.stringify(a));return a[r]}function d(e){var n=t();if(n[e])return n[e].tab;return"not_found"}return{isInSession:n,setData:r,data:o,setSheet:a,analysis:s,setStory:l,story:u,setTab:c,tab:d}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={getCharacterCount:t,getCharacterIndexes:n,getIsCharacterEncapsulated:i,getNormalizedExpression:r,getFormattedAggregation:o};return e;function t(e,t){if(!e||!t)return 0;return e.split(t).length-1}function n(e,t){var n=[];if(!e||!t)return n;for(var i=0;i<e.length;i++){var r=e.charAt(i);r===t&&n.push(i)}return n}function i(e,n,i,r){if(!e||!i||!r)return false;var o=i===r;var a=t(e,i),s=t(e,r);var l=o?a>1:a+s>1;if(!l)return false;var u=e.substr(0,n),c=t(u,i);if(o){var d=a%2===0,f=c%2!==0;if(d)return f;var p=c>0&&c!==a;return p&&f}var h=t(u,r),v=a===s;if(v)return c>h;var m=c<h;if(m||0===s)return false;var g=a-s;return c<=g}function r(e){if(!e)return"";"="===e.charAt(0)&&(e=e.substr(1));var t=e.length-1;"["===e.charAt(0)&&"]"===e.charAt(t)&&(e=e.substring(1,t));return e}function o(e){if(!e)return"";return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(96),n(90),n(772)],r=function(e,t,n,i){var r,o=0;function a(){return".grid-object-dom-api-"+ ++o}function s(e,t){var n=e.getBoundingClientRect();return Math.round(n.bottom-t.bottom)<1}function l(e,t){var n=e.getBoundingClientRect();return Math.round(n.top-t.bottom)<1}function u(e,t){var n=t-e;return 1===n?t:Math.floor(e+n/2)}function c(e,t,n,i,r){var o=n-t,a=u(t,n),s=r(e[a],i);if(0===o)return s?a:-1;if(1===o)return s?a:c(e,t,t,i,r);return s?c(e,a,n,i,r):c(e,t,a,i,r)}r=e.extend({init:function e(t,n,i,r,o,s){s=s||".scroll-content";this.$element=t;this.$scrollArea=n;this.$scrollContent=n.find(s);this.rowSelector=i;this.firstRowSelector=r;this.lastRowSelector=o;this.namespace=a();this.direction="ltr"},destroy:function e(){this.unbindNativeScroll()},bindNativeScroll:function e(t){this.$scrollArea.on("scroll"+this.namespace,t)},unbindNativeScroll:function e(){this.$scrollArea.off(this.namespace)},resetNativeScroll:function e(){if("rtl"===this.direction&&i.getStartType()===i.RTL_SCROLL_START.POSITIVE){var t=this.getScrollWidth();var n=this.getScrollAreaClientWidth();var r=Math.max(0,t-n);this.$scrollArea.scrollLeft(r)}else this.$scrollArea.scrollLeft(0);this.$scrollArea.scrollTop(0)},preventNativeScroll:function e(){t(this.$scrollArea[0]).tap({id:this.namespace});return function(){t(this.$scrollArea[0]).off("tap",this.namespace)}.bind(this)},getBoundingBox:function e(){return this.$element[0].getBoundingClientRect()},getClientWidth:function e(){return this.$element[0].clientWidth},getClientHeight:function e(){return this.$element[0].clientHeight},getNativeScrollOffsetLeft:function e(){return this.$element[0].scrollLeft},getScrollWidth:function e(){return this.$scrollArea[0].scrollWidth},getScrollAreaBoundingBox:function e(){return this.$scrollArea[0].getBoundingClientRect()},getScrollAreaClientWidth:function e(){return this.$scrollArea[0].clientWidth},getScrollAreaClientHeight:function e(){return this.$scrollArea[0].clientHeight},getScrollAreaOffsetTop:function e(){return this.$scrollArea[0].offsetTop},getScrollContentBoundingBox:function e(){return this.$scrollContent[0].getBoundingClientRect()},getFirstRow:function e(){return this.$scrollArea.find(this.firstRowSelector)},getLastRow:function e(){return this.$scrollArea.find(this.lastRowSelector)},getRows:function e(){var t=this.$element[0].querySelectorAll(this.rowSelector);t=Array.prototype.slice.call(t);return t.filter(function(e){return e.nodeType===Node.ELEMENT_NODE})},getHeightOfRow:function e(t){var n=this.getRows();if(n[t]){var i=n[t];return i.getBoundingClientRect().height}},getPartiallyVisibleRowCount:function e(){var t=this.getRows();if(0===t.length)return 0;var n=this.getScrollAreaBoundingBox(),i=c(t,0,t.length-1,n,l)+1;return i},getVisibleRowCount:function e(t){var i=this.getRows();if(0===i.length)return 0;var r=this.getScrollAreaBoundingBox(),o=c(i,0,i.length-1,r,s)+1;if(o===i.length&&n.isNumeric(t)){var a=i[i.length-1],l=a.getBoundingClientRect(),u=Math.round(r.bottom-l.bottom);o+=Math.floor(u/t)}return o},alignToFirstRow:function e(){var t=this.getFirstRow(),n=48;return function(){var e=t.position().top-n;this.$scrollArea.scrollTop(e)}.bind(this)},alignToLastRow:function e(){var t=this.getLastRow(),n=48;return function(){this.$scrollArea.scrollTop(0);var e=t.position().top-this.getScrollAreaBoundingBox().height+t[0].getBoundingClientRect().height+n;this.$scrollArea.scrollTop(e)}.bind(this)},setDirection:function e(t){this.direction=t}});return r}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){return Math.round(100*e)/100}return{recalculateBounds:function e(t,n,i,r,o){if(t.bounds){var a;var s={x:t.bounds.x,y:t.bounds.y,width:t.bounds.width,height:t.bounds.height};if(n!==r){a=r/n;s.x=s.x/a;s.width=s.width/a}if(i!==o){a=o/i;s.y=s.y/a;s.height=s.height/a}return s}return this.getBounds(t,r,o)},compareBounds:function e(t,n){return t&&n&&t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},alignToGrid:function e(t,n){if(n.bounds){var i=this.getAligmentToGrid(n.bounds,t.columns,t.rows);n.row=i.row;n.col=i.col;n.rowspan=i.rowspan||1;n.colspan=i.colspan||1}return n},getAligmentToGrid:function t(n,i,r){var o={};o.row=Math.ceil(e(n.y/100*r));o.col=Math.ceil(e(n.x/100*i));o.rowspan=Math.floor(e(n.y/100*r+n.height/100*r))-o.row;o.colspan=Math.floor(e(n.x/100*i+n.width/100*i))-o.col;return o},getInfluenceOnGrid:function t(n,i,r){var o=n;var a={};a.row=Math.floor(e(o.y/100*r));a.col=Math.floor(e(o.x/100*i));a.rowspan=Math.ceil(e(o.y/100*r+o.height/100*r))-a.row;a.colspan=Math.ceil(e(o.x/100*i+o.width/100*i))-a.col;return a},getBounds:function e(t,n,i){return{y:t.row/i*100,x:t.col/n*100,width:t.colspan/n*100,height:t.rowspan/i*100}},splitBounds:function e(t,n,i,r){var o;var a;if("left"===n||"right"===n){o=i%2;a=t.width/i*(i-o)/2;return{near:{width:a,x:t.x,y:t.y,height:t.height},far:{width:t.width/i*(i+o)/2,x:t.x+a,y:t.y,height:t.height}}}o=r%2;a=t.height/r*(r-o)/2;return{near:{width:t.width,x:t.x,y:t.y,height:a},far:{width:t.width,x:t.x,y:t.y+a,height:t.height/r*(r+o)/2}}},calculateCollapseHeight:function e(t,n){var i=0;for(var r=0;r<n.length;r++)n[r].row+n[r].rowspan>i&&(i=n[r].row+n[r].rowspan);var o=Math.floor(t.height-t.height*(i/t.rows));return o},calculateExtendedRowsAndHeight:function e(t,n){var i={height:t.height,rows:t.rows};t.height||(t.height=100);i.height=t.height+n;i.height<100&&(i.height=100);var r=i.rows/t.height*100;i.rows=Math.floor(r*i.height/100);return i}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e;return{setServerNodeId:function t(n){e=n},getServerNodeId:function t(){return e}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(89),n(3),n(325)],r=function(e,t,n,i){var r={};var o=void 0;r.getApi=function(r,a,s,l,u,c,d){s=s||window.location.protocol.indexOf("https")>-1;l=l||window.location.hostname;u=19076;c=c||e.basePath;var f=new t;var p=(s?"https":"http")+"://"+l+(u?":"+u:"")+(c||"/");var h=p+r;var v=h+"/"+a;var m=function t(i){var r=n.getConfig();r.withCredentials&&(i.credentials="include");r.csrfToken&&i.method&&"GET"!==i.method&&(i.headers["qlik-csrf-token"]=r.csrfToken);r.clientApiKey&&(i.headers["qlik-client-api-key"]=r.clientApiKey);var o=e.getRandomString(16);i.headers["X-Qlik-XrfKey"]=o;d&&(i.headers["X-Qlik-ServerNodeId"]=d);-1!==i.url.indexOf("?")?i.url=i.url+"&xrfkey="+o:i.url=i.url+"?xrfkey="+o;return i};var g=function e(t){o&&o(t);return t};var b={scheme:s?"https":"http",usePromise:true,requestInterceptor:m,responseInterceptor:g};var y=new i(v,b);y.then(function(e){e.spec.basePath=c+r;e.spec.servers&&(e.spec.servers[0].url=h);f.resolve(e)},function(e){window.console.log("Failed to create api:"+e);o&&o(e);f.reject(e)});return f.promise};r.registerSessionTimeoutCheck=function(e){o=e};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(127)],r=function(e,t){var n={a:65,alt:18,b:66,backspace:8,c:67,ctrl:17,d:68,del:46,down:40,e:69,end:35,f:70,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,enter:13,esc:27,g:71,h:72,home:36,i:73,insert:45,j:74,k:75,l:76,left:37,m:77,n:78,o:79,p:80,pagedown:34,pageup:33,q:81,r:82,right:39,s:83,shift:16,space:32,t:84,tab:9,u:85,up:38,v:86,w:87,win:224,x:88,y:89,z:90,cmd:91,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"*":106},i="qvKeyboardShortcuts",r=false,o;function a(){this.groups=[];this.shortcuts=[];this.timer={id:null};this.isReleased=true;this.currentEvent=void 0}a.prototype.createGroup=function(e,t){var n=this,i,r;for(r=0;r<this.groups.length;r++)if(this.groups[r].name===e){i=this.groups[r];break}if(!i){i={name:e,priority:t,active:false,shortcuts:[]};this.groups.push(i);this.groups.sort(function(e,t){return e.priority-t.priority})}return{registerKeys:function e(t,r,o){n.registerKeys(i,t,r,o)},unregisterKeys:function e(t,n){var r=i.shortcuts;for(var o=0;o<r.length;o++)if(r[o].keyCombo===t&&r[o].callback===n){r.splice(o,1);break}},on:function e(){n.activateGroup(i)},off:function e(){n.deactivateGroup(i)},delete:function e(){n.deactivateGroup(i);n.deleteGroup(i)}}};a.prototype.activateGroup=function(t){var n=this;t.active=true;if(!r){r=true;e(document).on("keydown."+i,function(e){n.handleEvent(e)})}};a.prototype.deactivateGroup=function(t){var n;t.active=false;n=this.groups.reduce(function(e,t){t.active&&e++;return e},0);if(0===n&&r){r=false;e(document).off("keydown."+i)}};a.prototype.deleteGroup=function(e){this.groups=this.groups.filter(function(t){return t!==e})};a.prototype.registerKeys=function(e,t,i,r){var o=t.toLowerCase().split("+"),a={keyCombo:t,ctrlKey:false,shiftKey:false,altKey:false,keyCode:null,name:"",callback:null,allowInAllContexts:!!(r&&"allowInInput"in r)&&r.allowInInput,preventDefault:!(r&&"preventDefault"in r)||r.preventDefault,delay:r&&"delay"in r?r.delay:250};for(var s in n)for(var l=0;l<o.length;l++){a.name=t.toLowerCase();a.callback=i;"ctrl"!==o[l]&&"cmd"!==o[l]||(a.ctrlKey=true);"alt"===o[l]&&(a.altKey=true);"shift"===o[l]&&(a.shiftKey=true);o[l]===s&&17!==n[s]&&16!==n[s]&&91!==n[s]&&18!==n[s]&&(a.keyCode=n[s])}e.shortcuts.push(a)};a.prototype.preventDefault=function(){this.currentEvent&&this.currentEvent.preventDefault()};a.prototype.handleEvent=function(e){var i=this;this.currentEvent=e;function r(t,r,a,s){var l,u;for(var c=0;c<i.groups.length;c++){l=i.groups[c];if(l.active)for(var d=l.shortcuts.length-1;d>=0;d--){u=l.shortcuts[d];if((u.keyCode===n["*"]||u.keyCode===s&&u.ctrlKey===t&&u.shiftKey===r&&u.altKey===a)&&!o(e,u))break}}}function o(e,n){var i=t.isInput(document.activeElement);return!(i&&!n.allowInAllContexts)&&a(e,n)}function a(e,t){t.preventDefault&&e.preventDefault();if("number"!==typeof i.timer.id){t.delay>0&&(i.timer.id=setTimeout(function(){s()},t.delay));if(true===t.callback(t,e)){s();return true}}}function s(){clearTimeout(i.timer.id);delete i.timer.id}e.shiftKey?!e.ctrlKey&&!e.metaKey||e.altKey?e.ctrlKey||e.metaKey||!e.altKey?r(false,true,false,e.which):r(false,true,true,e.which):r(true,true,false,e.which):!e.ctrlKey&&!e.metaKey||e.altKey?e.ctrlKey||e.metaKey||!e.altKey?r(false,false,false,e.which):r(false,false,true,e.which):r(true,false,false,e.which)};o=new a;return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(113),n(100),n(101),n(216),n(195)],r=function(e,t,n,i,r){var o=1e3;var a=r.baseColor;function s(e){return true!==n.getValue(e,"color.reverseScheme")}function l(e){return"byExpression"===n.getValue(e,"color.mode")&&false===n.getValue(e,"color.expressionIsColor")}function u(e){return"byExpression"===n.getValue(e,"color.mode")&&true===n.getValue(e,"color.expressionIsColor")}function c(e){var t=i.getDimensionLayouts(e)[0];return t&&t.qCardinal>o}function d(e){return"byDimension"===e.color.mode&&!(n.getValue(e,"color.byDimDef.activeDimensionIndex")>-1)||"byMeasure"===e.color.mode&&!(n.getValue(e,"color.byMeasureDef.activeMeasureIndex")>-1)}function f(){var e=[];var n=t.dataPalettes;n.forEach(function(t){if("true"!==t.disabled){var n={type:"classes",component:"color-scale",translation:t.translation||t.name,value:t.propertyValue};"pyramid"===t.type?n.colors=t.scale[t.scale.length-1]:n.colors=t.scale;e.push(n)}});return e}function p(){var e=[];var n=t.scales;n.forEach(function(t){if(!t.disabled){var n={component:"color-scale",reverse:this.helpers.schemeIsReverse,translation:t.translation||t.name,value:t.propertyValue};if("class-pyramid"===t.type){n.colors=t.scale[t.scale.length-1];n.type="classes"}else{n.colors=t.scale;n.type="gradient"}e.push(n)}},this);return e}function h(e){if(!e)return false;if(e.coloring&&e.coloring.baseColor&&e.coloring.baseColor.color)return e.coloring.baseColor;if(e.baseColor&&e.baseColor.color)return e.baseColor;return false}function v(e){return n.getValue(e,"layout.qHyperCube.qMeasureInfo",[]).filter(function(e){return!!h(e)}).length>0}function m(e){var t=n.getValue(e,"layout.layers",false);return t?t.filter(function(e){return n.getValue(e,"qHyperCube.qDimensionInfo",[]).filter(function(e){return!!h(e)}).length>0}).length>0:n.getValue(e,"layout.qHyperCube.qDimensionInfo",[]).filter(function(e){return!!h(e)}).length>0}function g(e,t){var i=n.getValue(e,t,void 0);if(!i||"undefined"===typeof i.label)return;"="===i.label.charAt(0)?e.color.altLabel={qStringExpression:{qExpr:i.label.substr(1)}}:e.color.altLabel=i.label}function b(e){return!n.getValue(e,"color.auto")&&"byDimension"===n.getValue(e,"color.mode")}function y(e){return!n.getValue(e,"color.auto")&&"byMeasure"===n.getValue(e,"color.mode")}function x(e,t){var n=y(e),i=b(e);if(!n&&!i)return;var r=n?e.color.byMeasureDef:e.color.byDimDef;r.label=t}var w={showLegend:function e(t){var r=n.getValue(t,"color.auto"),o=n.getValue(t,"color.mode"),a=n.getValue(t,"color.expressionIsColor"),s=i.getNumDimensions(t),l=i.getNumMeasures(t);return r&&(s>1||l>1)||!r&&"primary"!==o&&("byExpression"!==o||!a)},colorModeOptions:{primary:function e(){return true},dimension:function e(t){return i.getNumDimensions(t)>0&&i.getNumMeasures(t)<=1},multiColor:function e(t){return i.getNumMeasures(t)>1},measure:function e(t){return i.getNumDimensions(t)>0},expression:function e(t){return i.getNumMeasures(t)>=1}},persistentColorsShow:function e(t){return!n.getValue(t,"color.auto")&&"byDimension"===n.getValue(t,"color.mode")&&i.getNumMeasures(t)<=1},useDimValColShow:function e(t){void 0===n.getValue(t,"color.useDimColVal")&&n.setValue(t,"color.useDimColVal",false);return!n.getValue(t,"color.auto")&&"byDimension"===n.getValue(t,"color.mode")&&"libraryItem"===n.getValue(t,"color.byDimDef.type")},expressionLabelChange:function e(t){var i=n.getValue(t,"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0"),r=n.getValue(t,"color");if(i){i.label=n.getValue(t,"color.expressionLabel");r&&(r.colorExpression=i.qExpression)}},attributeExpressionChange:function e(t){var i=n.getValue(t,"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0"),r=n.getValue(t,"color");if(i){i.id="colorByExpression";r&&(r.colorExpression=i.qExpression)}},attributeExpressionGlobalChange:function e(t){var i=n.getValue(t,"qHyperCubeDef.qMeasures",[]),r=n.getValue(t,"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",[]),o,a,s,l=null,u=function e(t,n){"colorByExpression"===t.id&&(a=n)};if(i.length+r.length>1){for(o=r.length-1;o>=0;--o){s=r[o].qAttributeExpressions||[];a=-1;s.every(u);a>=0&&(l=s.splice(a,1)[0])}for(o=i.length-1;o>=0;--o){s=i[o].qAttributeExpressions||[];a=-1;s.every(u);a>=0&&(l=s.splice(a,1)[0])}if(i.length){!i[0].qAttributeExpressions&&l&&(i[0].qAttributeExpressions=[]);l&&i[0].qAttributeExpressions.splice(0,0,l)}}var c=n.getValue(t,"color.colorExpression");1!==i.length||i[0].qAttributeExpressions&&0!==i[0].qAttributeExpressions.length||!c||(i[0].qAttributeExpressions=[{qExpression:c,id:"colorByExpression"}])},colorByGlobalChange:function e(t,n,i){r.colorByUpdater(t,i)},colorByDimensionChange:function e(t){g(t,"color.byDimDef")},colorByMeasureChange:function e(t){g(t,"color.byMeasureDef")},colorByLabelChange:function e(t){var i=n.getValue(t,"color.altLabel",""),r=i.qStringExpression?"="+i.qStringExpression.qExpr:i;if("="===r)return;x(t,r)}};var S={colorModeOptions:{primary:function e(){return true},dimension:function e(){return true},multiColor:function e(){return false},measure:function e(){return true},expression:function e(t){return i.getNumMeasures(t)>=1}},showLegend:function e(t){var i=n.getValue(t,"color.auto"),r=n.getValue(t,"color.expressionIsColor"),o=n.getValue(t,"color.mode");return!(!i&&"primary"===o||!i&&"byExpression"===o&&(r||void 0===r))},persistentColorsShow:function e(t){return!n.getValue(t,"color.auto")&&"byDimension"===n.getValue(t,"color.mode")},dimPrimaryMode:true};var C={colorModeOptions:{primary:function e(){return true},dimension:function e(){return true},multiColor:function e(){return false},measure:function e(){return true},expression:function e(t){return i.getNumMeasures(t)>=1}},showLegend:function e(t){return"primary"!==n.getValue(t,"color.mode")&&!n.getValue(t,"color.auto")},persistentColorsShow:function e(t){return!n.getValue(t,"color.auto")&&"byDimension"===n.getValue(t,"color.mode")}};var E={colorModeOptions:{primary:function e(){return true},dimension:function e(t){return i.getNumDimensions(t)>1},multiColor:function e(t){return i.getNumMeasures(t)>1},measure:function e(t){return i.getNumDimensions(t)<=1},expression:function e(t){return i.getNumMeasures(t)>=1}}};var q={colorModeOptions:{primary:function e(){return true},dimension:function e(t){return i.getNumDimensions(t)>=1},multiColor:function e(t){return i.getNumMeasures(t)>1},measure:function e(t){return i.getNumDimensions(t)>=1},expression:function e(t){return i.getNumDimensions(t)>=1}}};var _={colorModeOptions:{primary:function e(){return true},dimension:function e(){return true},multiColor:function e(){return false},measure:function t(){return e.COLOR_BY_MEA},expression:function e(t){return i.getNumDimensions(t)>=1}}};var T={scatterplot:C,piechart:S,linechart:E,map:q,distributionplot:_};function k(e,t){var n=T[e]||w;return n[t]||w[t]}var O=function e(r,o){var h=k(o,"colorModeOptions"),g=k(o,"persistentColorsShow"),x=k(o,"useDimValColShow"),w=k(o,"expressionLabelChange"),S=k(o,"attributeExpressionChange"),C=k(o,"attributeExpressionGlobalChange"),E=k(o,"colorByGlobalChange"),q=k(o,"colorByDimensionChange"),_=k(o,"colorByMeasureChange"),T=k(o,"colorByLabelChange");this.helpers={schemeIsReverse:s,showCompressionResolution:c,colorModeOptions:h,getMeasureSchemeOptions:p.bind(this),getDimensionSchemeOptions:f};this.color={colorMode:{options:function e(t){var e=[];"explore"===r&&e.push({value:"auto",translation:"Common.Auto"});h.primary(t)&&e.push({value:"primary",translation:"properties.colorMode.primary"});h.multiColor(t)&&e.push({value:"byMultiple",translation:"properties.colorMode.multicolored"});h.dimension(t)&&e.push({value:"byDimension",translation:"properties.colorMode.byDimension"});h.measure(t)&&e.push({value:"byMeasure",translation:"properties.colorMode.byMeasure"});h.expression(t)&&"explore"!==r&&e.push({value:"byExpression",translation:"properties.colorMode.byExpression"});return e},show:function e(t){return!n.getValue(t,"color.auto")}},paletteColor:{show:function e(i,r){if(!n.getValue(i,"color.paletteColor")){var o=t.resolveColor(n.getValue(i,"color.singleColor"));var s={index:-1,color:o};n.setValue(i,"color.paletteColor",s)}return!n.getValue(i,"color.auto")&&"primary"===n.getValue(i,"color.mode")&&!(a.isSupported(i.visualization)&&v(r)&&"measure"===n.getValue(i,"color.useBaseColors")||m(r)&&"dimension"===n.getValue(i,"color.useBaseColors"))},defaultValue:function e(){var n=t.dataColors.primaryColor;var i=t.currentPalette.indexOf(n);return{index:-1===i?Math.min(6,t.currentPalette.length-1):i}}},colorBy:{globalChange:E,dimension:{show:b,change:q},measure:{show:y,change:_},label:{show:function e(t){return!n.getValue(t,"color.auto")&&d(t)&&("byDimension"===n.getValue(t,"color.mode")&&"libraryItem"!==n.getValue(t,"color.byDimDef.type")||"byMeasure"===n.getValue(t,"color.mode")&&"libraryItem"!==n.getValue(t,"color.byMeasureDef.type"))},change:T}},baseColor:{show:function e(t,i){var r=n.getValue(t,"color.mode");return!n.getValue(t,"color.auto")&&("byMultiple"===r||"primary"===r)&&(v(i)&&a.isSupported(t.visualization)||m(i))},showColors:function e(t,i){return!n.getValue(t,"color.auto")&&"byMultiple"===n.getValue(t,"color.mode")&&"measure"===n.getValue(t,"color.useBaseColors")&&a.isSupported(t.visualization)&&i.layout.qHyperCube.qMeasureInfo.length>1&&v(i)},hasMeasureColor:function e(t){return v(t)},hasDimensionColor:function e(t){return m(t)},isSupported:function e(t){return a.isSupported(t)}},persistentColors:{show:function e(t){if(x(t))return g(t)&&!n.getValue(t,"color.useDimColVal");return g(t)},readOnly:function e(t){return n.getValue(t,"qHyperCubeDef.qDimensions.length")>1}},useDimColVal:{show:x},attributeExpression:{change:S,globalChange:C,show:function e(t){return!n.getValue(t,"color.auto")&&"byExpression"===n.getValue(t,"color.mode")&&i.getNumMeasures(t)>0}},expressionIsColor:{show:function e(t){return!n.getValue(t,"color.auto")&&"byExpression"===n.getValue(t,"color.mode")&&i.getNumMeasures(t)>0}},expressionLabel:{change:w,show:function e(t){return!n.getValue(t,"color.auto")&&l(t)&&i.getNumMeasures(t)>0}},colorSchemeMeasure:{show:function e(t){return!n.getValue(t,"color.auto")&&("byMeasure"===n.getValue(t,"color.mode")||l(t))}},reverseScheme:{show:function e(t){return!n.getValue(t,"color.auto")&&("byMeasure"===n.getValue(t,"color.mode")||l(t))}},colorSchemeDimension:{show:function e(t,i){return(!x(t)||!n.getValue(t,"color.useDimColVal"))&&!n.getValue(t,"color.auto")&&("byDimension"===n.getValue(t,"color.mode")||"byMultiple"===n.getValue(t,"color.mode"))&&!("measure"===n.getValue(t,"color.useBaseColors")&&a.isSupported(t.visualization)&&v(i)&&("byMultiple"===n.getValue(t,"color.mode")||n.getValue(t,"color.auto")&&i.layout.qHyperCube.qMeasureInfo.length>1))}},customRange:{show:function e(t){return!n.getValue(t,"color.auto")},autoMinMax:{show:function e(t){return"byMeasure"===n.getValue(t,"color.mode")||l(t)}},min:{show:function e(t){return("byMeasure"===n.getValue(t,"color.mode")||l(t))&&false===n.getValue(t,"color.autoMinMax")},invalid:function e(t){if("minMax"===n.getValue(t,"color.minMax"))return n.getValue(t,"color.measureMin")>=n.getValue(t,"color.measureMax");return false}},max:{show:function e(t){return("byMeasure"===n.getValue(t,"color.mode")||l(t))&&false===n.getValue(t,"color.autoMinMax")},invalid:function e(t){if("minMax"===n.getValue(t,"color.minMax"))return n.getValue(t,"color.measureMin")>=n.getValue(t,"color.measureMax");return false}}}};var O=k(o,"showLegend");this.legend={show:O,showTitle:{show:function e(t){return n.getValue(t,"legend.show")&&O(t)&&!u(t)}},dock:{show:function e(t){return n.getValue(t,"legend.show")&&O(t)}}}};return{getLogicFor:function e(t,n){return new O(t,n)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(492)],r=function(e,t){var n={dimension:"dimension",measure:"measure",temporal:"temporal"};function i(e,t){t&&e.map(function(e){var n=void 0;var i=void 0;var r=void 0;var o=t._getFields(e.qName,e.qSrcTables);if(o.length>0){n=t.getClassifications(e.qName,e.qSrcTables);i=t.getDataTypes(e.qName,e.qSrcTables);r=t.getDefaultAggregation(e.qName,e.qSrcTables)}e["defaultAggregation"]=r;e["classifications"]=n;e["dataTypes"]=i})}function r(e){if(e&&e.length>0){var n=e[0];return t.ClassificationHelper.isDimension(n)}return false}function o(e){if(e&&e.length>0){var n=e[0];return t.ClassificationHelper.isMeasure(n)}return false}function a(t){return e.escapeField(t)}function s(t,n){if("countdistinct"===n.toLowerCase())return"Count(distinct "+e.escapeField(t)+")";return n+"("+e.escapeField(t)+")"}function l(e){if(e)return e.replace(/=|\[|\]/g,"").toLowerCase();return e}function u(e){if(e)return e.replace(/^=/,"");return e}var c={Constants:n,isDimension:r,isMeasure:o,getDimensionExpression:a,getMeasureExpression:s,normalizeExpression:l,addClassificationDataToFields:i,convertEvaluationExpressionToLabel:u};return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={SYMBOLS:{FUNCTION:{LEFT:"(",RIGHT:")"},FIELD:{LEFT:"[",RIGHT:"]"},STRING:{LEFT:"'",RIGHT:"'"}},OPERATORS:{SINGLES:["=","+","-","*","/","<",">","&"],MULTIPLES:["<=",">=","<>",">>","<<"],WORDS:["precedes","follows","bitnot","bitand","bitor","bitxor","not","and","or","xor","like"]},COMMON_FUNCTIONS:["sum","count","avg","min","max"],FALLBACK_FUNCTION:"count",QUALIFIERS:["total","distinct","nodistinct"]};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){var t={},n=function t(){return e.extend.apply(e,[true].concat(Array.prototype.slice.call(arguments)))},i=e.isPlainObject,r=Array.isArray,o=function e(t){return"undefined"===typeof t},a=function e(t){return"function"===typeof t};function s(e){e&&(e=n({},{val:e}).val);return e}function l(e,t){return a(e[t])||"$$"===t.substring(0,2)||"_"===t.substring(0,1)}function u(e,t){var n="/",i=t.substring(1).split(n).slice(0,-1),r;i.forEach(function(t,n){if(n===i.length)return;r=+t;e[r||t]=o(e[r||t])?Number.isNaN(+r)?{}:[]:e[t];e=e[r||t]});return e}function c(e){Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);n.configurable&&!l(e,t)&&delete e[t]})}function d(e,t){var n=true,o,a;if(i(e)&&i(t)){if(Object.keys(e).length!==Object.keys(t).length)return false;Object.keys(e).forEach(function(i){if(!d(e[i],t[i])){n=false;return false}});return n}if(r(e)&&r(t)){if(e.length!==t.length)return false;for(o=0,a=e.length;o<a;o++)if(!d(e[o],t[o]))return false;return true}return e===t}function f(e,n,i){var r=[],a=e.slice(),s,l,u=-1;function c(e,t,n){if(e[n]&&o(e[n].qInfo))return null;if(e[n]&&e[n].qInfo.qId===t)return n;for(var i=0,r=e.length;i<r;i++)if(e[i]&&e[i].qInfo.qId===t)return i;return-1}if(d(n,a))return r;if(null===n[0]||!o(n[0])&&o(n[0].qInfo)){r.push({op:"replace",path:i,value:n});return r}for(s=a.length-1;s>=0;--s){u=c(n,a[s]&&a[s].qInfo&&a[s].qInfo.qId,s);if(-1===u){r.push({op:"remove",path:i+"/"+s});a.splice(s,1)}else r=r.concat(t.generate(a[s],n[u],i+"/"+s))}for(s=0,l=n.length;s<l;++s){u=c(a,n[s]&&n[s].qInfo&&n[s].qInfo.qId);if(-1===u){r.push({op:"add",path:i+"/"+s,value:n[s]});a.splice(s,0,n[s])}else if(u!==s){r.push({op:"move",path:i+"/"+s,from:i+"/"+u});a.splice(s,0,a.splice(u,1)[0])}}return r}t.generate=function(e,n,a){a=a||"";var u=[];Object.keys(n).forEach(function(c){var p=s(n[c]),h=e[c],v=a+"/"+c;if(d(p,h)||l(n,c))return;o(h)?u.push({op:"add",path:v,value:p}):i(p)&&i(h)?u=u.concat(t.generate(h,p,v)):r(p)&&r(h)?u=u.concat(f(h,p,v)):u.push({op:"replace",path:a+"/"+c,value:p})});Object.keys(e).forEach(function(t){o(n[t])&&!l(e,t)&&u.push({op:"remove",path:a+"/"+t})});return u};t.apply=function(e,t){t.forEach(function(t){var o=u(e,t.path),a=t.path.split("/").splice(-1)[0],s=a&&Number.isNaN(+a)?o[a]:o[+a]||o,l=t.from?t.from.split("/").splice(-1)[0]:null;if("add"===t.op||"replace"===t.op)if(r(o)){"-"===a&&(a=o.length);o.splice(+a,"add"===t.op?0:1,t.value)}else if(r(s)&&r(t.value)){var d=t.value.slice();s.length=0;s.push.apply(s,d)}else if(i(s)&&i(t.value)){c(s);n(s,t.value)}else o[a]=t.value;else if("move"===t.op){var f=u(e,t.from);if(r(o))o.splice(+a,0,f.splice(+l,1)[0]);else{o[a]=f[l];delete f[l]}}else"remove"===t.op&&(r(o)?o.splice(+a,1):delete o[a])})};t.clone=function(e){return n({},e)};t.createPatch=function(e,t,n){var i={op:e.toLowerCase(),path:n};"move"===i.op?i.from=t:"undefined"!==typeof t&&(i.value=t);return i};t.updateObject=function(e,i){if(!Object.keys(e).length){n(e,i);return}t.apply(e,t.generate(e,i))};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(90),n(447),n(125),n(101),n(156),n(91),n(195),n(204),n(160),n(624)],r=function(e,t,n,i,r,a,s,l,u,c){var d,f,p,h,v,m,g=Math.pow(2,53)-1;function b(e,t,n){t.hasOwnProperty(e)&&(n[e]=t[e])}function y(e,t,n,i){t.hasOwnProperty(e)?n[e]=t[e]:n[e]=i}function x(t,n){var r=e.extend(true,{},n,t);i.getValue(r,"qOtherTotalSpec.qOtherCounted")||i.setValue(r,"qOtherTotalSpec.qOtherCounted",{qv:"10"});i.getValue(r,"qOtherTotalSpec.qOtherLimit")||i.setValue(r,"qOtherTotalSpec.qOtherLimit",{qv:"0"});r.hasOwnProperty("othersLabel")||(r.othersLabel=a.get("properties.dimensionLimits.others"));return r}function w(t,n){return e.extend(true,{},n,t)}function S(e){return-1!==["qMetaDef","descriptionExpression","labelExpression"].indexOf(e)}d={exportProperties:function r(o,a){var s=new t,l=o.qProperty,u=a?i.getValue(l,a).qHyperCubeDef:l.qHyperCubeDef,c=s.data[0],d,f,p;u.qInterColumnSortOrder||(u.qInterColumnSortOrder=[]);for(d=0;d<u.qDimensions.length;++d)c.dimensions.push(u.qDimensions[d]);if(u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef&&u.qLayoutExclude.qHyperCubeDef.qDimensions)for(d=0;d<u.qLayoutExclude.qHyperCubeDef.qDimensions.length;++d)c.excludedDimensions.push(u.qLayoutExclude.qHyperCubeDef.qDimensions[d]);for(d=0;d<u.qMeasures.length;++d)c.measures.push(u.qMeasures[d]);if(u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef&&u.qLayoutExclude.qHyperCubeDef.qMeasures)for(d=0;d<u.qLayoutExclude.qHyperCubeDef.qMeasures.length;++d)c.excludedMeasures.push(u.qLayoutExclude.qHyperCubeDef.qMeasures[d]);c.interColumnSortOrder=u.qInterColumnSortOrder.concat();if(u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef&&u.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder){var h=u.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.concat();n.isOrderedSubset(h,c.interColumnSortOrder)&&(c.interColumnSortOrder=h)}delete u.qLayoutExclude;for(f in l)s.properties[f]=l[f];if(a){s.properties.qHyperCubeDef=i.getValue(l,a).qHyperCubeDef;delete i.getValue(l,a).qHyperCubeDef}l.qLayoutExclude||(l.qLayoutExclude={});if(l.qLayoutExclude.disabled){for(f in l.qLayoutExclude.disabled){p=f;s.properties.hasOwnProperty(p)||(s.properties[p]=l.qLayoutExclude.disabled[f])}delete l.qLayoutExclude.disabled}if(l.qLayoutExclude.changed){q(l);delete l.qLayoutExclude.changed}l.qLayoutExclude.quarantine&&!e.isEmpty(l.qLayoutExclude.quarantine)||delete l.qLayoutExclude;return s},importProperties:function t(i,o,a,s){var l={qChildren:[]},u={},c=i.data[0],d,f,p,h,v={layout:{templateId:o.templateId}};a.mapProperties(v);var m=a.getDefaultDimensionProperties();var E=a.getDefaultMeasureProperties();var q=a.data&&a.data.measures;q||(q=a.definition&&a.definition.items&&a.definition.items.measures||{max:0});var _="function"===typeof q.max?q.max(c.dimensions.length):Number.isNaN(+q.max)?g:q.max;var T="function"===typeof q.min?q.min(c.dimensions.length):Number.isNaN(+q.min)?0:q.min;var k=a.data&&a.data.dimensions;k||(k=a.definition&&a.definition.items&&a.definition.items.dimensions||{max:0});var O="function"===typeof k.max?k.max(_):Number.isNaN(+k.max)?g:k.max;var D="function"===typeof k.min?k.min(T):Number.isNaN(+k.min)?0:k.min;u.qLayoutExclude||(u.qLayoutExclude={});u.qLayoutExclude.disabled={};u.qLayoutExclude.quarantine={};for(f in i.properties)"qLayoutExclude"===f?i.properties[f].quarantine&&(u.qLayoutExclude.quarantine=e.extend(true,{},i.properties[f].quarantine)):"qHyperCubeDef"===f&&s||(o.hasOwnProperty(f)||S(f)?u[f]=i.properties[f]:u.qLayoutExclude.disabled[f]=i.properties[f]);if(s&&i.properties.qHyperCubeDef){u[s]=u[s]||{};u[s].qHyperCubeDef=i.properties.qHyperCubeDef}u=e.extend(true,{},o,u);var A=s?o[s].qHyperCubeDef:o.qHyperCubeDef;var I=s?u[s].qHyperCubeDef:u.qHyperCubeDef;I.qDimensions.length=0;I.qMeasures.length=0;if(c.dimensions.length>O&&O>0||c.measures.length>_&&_>0||c.excludedDimensions.length&&c.dimensions.length+c.excludedDimensions.length>D||c.excludedMeasures.length&&c.measures.length+c.excludedMeasures.length>T||!_&&c.measures.length||!O&&c.dimensions.length){I.qLayoutExclude||(I.qLayoutExclude={});I.qLayoutExclude.qHyperCubeDef||(I.qLayoutExclude.qHyperCubeDef={});(c.dimensions.length>O&&O>0||c.excludedDimensions&&c.excludedDimensions.length&&c.dimensions.length+c.excludedDimensions.length>D)&&(I.qLayoutExclude.qHyperCubeDef.qDimensions||(I.qLayoutExclude.qHyperCubeDef.qDimensions=[]));(c.measures.length>_&&_>0||c.excludedMeasures&&c.excludedMeasures.length&&c.measures.length+c.excludedMeasures.length>T)&&(I.qLayoutExclude.qHyperCubeDef.qMeasures||(I.qLayoutExclude.qHyperCubeDef.qMeasures=[]));!_&&c.measures.length&&(I.qLayoutExclude.qHyperCubeDef.qMeasures||(I.qLayoutExclude.qHyperCubeDef.qMeasures=[]));!O&&c.dimensions.length&&(I.qLayoutExclude.qHyperCubeDef.qDimensions||(I.qLayoutExclude.qHyperCubeDef.qDimensions=[]))}if(O>0)for(p=0;p<c.dimensions.length;++p)I.qDimensions.length<O?I.qDimensions.push(x(c.dimensions[p],m)):I.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(c.dimensions[p],m));else if(c.dimensions.length)for(p=0;p<c.dimensions.length;++p)I.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(c.dimensions[p],m));if(c.excludedDimensions.length)for(p=0;p<c.excludedDimensions.length;++p)I.qDimensions.length<D?I.qDimensions.push(x(c.excludedDimensions[p],m)):I.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(c.excludedDimensions[p],m));if(_>0)for(p=0;p<c.measures.length;++p)I.qMeasures.length<_?I.qMeasures.push(w(c.measures[p],E)):I.qLayoutExclude.qHyperCubeDef.qMeasures.push(w(c.measures[p],E));else if(c.measures.length)for(p=0;p<c.measures.length;++p)I.qLayoutExclude.qHyperCubeDef.qMeasures.push(w(c.measures[p],E));if(c.excludedMeasures.length)for(p=0;p<c.excludedMeasures.length;++p)I.qMeasures.length<T?I.qMeasures.push(w(c.excludedMeasures[p],E)):I.qLayoutExclude.qHyperCubeDef.qMeasures.push(w(c.excludedMeasures[p],E));h=I.qDimensions.length+I.qMeasures.length;I.qInterColumnSortOrder=c.interColumnSortOrder.concat();p=I.qInterColumnSortOrder.length;if(p!==h){I.qLayoutExclude&&(I.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder=c.interColumnSortOrder.concat());while(p!==h)if(p<h){n.indexAdded(I.qInterColumnSortOrder,p);++p}else{--p;n.indexRemoved(I.qInterColumnSortOrder,p)}}d=r.mapProperties(r.mapDefinition(a.definition,a.type),{},a.type);var L=s?d[s]&&d[s].qHyperCubeDef:d.qHyperCubeDef;["qAlwaysFullyExpanded","qSuppressMissing","qSuppressZero"].filter(function(e){return L&&"undefined"===typeof L[e]}).forEach(function(e){b(e,A,I)});b("qMaxStackedCells",A,I);b("qNoOfLeftDims",A,I);y("qInitialDataFetch",A,I,[{qTop:0,qLeft:0,qWidth:0,qHeight:0}]);y("qMode",A,I,"S");y("qReductionMode",A,I,"N");y("qSortbyYValue",A,I);y("qIndentMode",A,I);y("qShowTotalsAbove",A,I);C(u,i,o);l.qProperty=u;return l}};f={exportProperties:function e(n){var i=new t,r=n.qProperty,o=r.qListObjectDef,a=i.data[0],s,l,u;(o.qLibraryId||o.qDef&&o.qDef.qFieldDefs[0])&&a.dimensions.push({qLibraryId:o.qLibraryId,qDef:o.qDef,title:o.title,qOtherTotalSpec:{}});if(o.qLayoutExclude&&o.qLayoutExclude.qHyperCubeDef&&o.qLayoutExclude.qHyperCubeDef.qDimensions)for(s=0;s<o.qLayoutExclude.qHyperCubeDef.qDimensions.length;++s)a.excludedDimensions.push(o.qLayoutExclude.qHyperCubeDef.qDimensions[s]);if(o.qLayoutExclude&&o.qLayoutExclude.qHyperCubeDef&&o.qLayoutExclude.qHyperCubeDef.qMeasures)for(s=0;s<o.qLayoutExclude.qHyperCubeDef.qMeasures.length;++s)a.excludedMeasures.push(o.qLayoutExclude.qHyperCubeDef.qMeasures[s]);if(o.qLayoutExclude&&o.qLayoutExclude.qHyperCubeDef&&o.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder)for(s=0;s<o.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.length;++s)a.interColumnSortOrder.push(o.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder[s]);delete o.qLayoutExclude;for(l in r)i.properties[l]=r[l];if(r.qLayoutExclude&&r.qLayoutExclude._disabled){for(l in r.qLayoutExclude._disabled){u="_"===l.substr(0,1)?l.substring(1):l;i.properties.hasOwnProperty(u)||(i.properties[u]=r.qLayoutExclude.disabled[l])}delete r.qLayoutExclude.disabled}if(a.dimensions.length>0)for(s=0;s<a.dimensions[0].qDef.qSortCriterias.length;++s)a.dimensions[0].qDef.qSortCriterias[s].qSortByFrequency=0;return i},importProperties:function t(n,i){var r={qChildren:[]},o={},a=n.data[0],s=1,l,u;o.qLayoutExclude||(o.qLayoutExclude={});o.qLayoutExclude.disabled={};for(l in n.properties)"qLayoutExclude"===l?n.properties[l].quarantine&&(o.qLayoutExclude.quarantine=e.extend(true,{},n.properties[l].quarantine)):i.hasOwnProperty(l)||S(l)?o[l]=n.properties[l]:o.qLayoutExclude.disabled[l]=n.properties[l];o=e.extend(true,{},i,o);o.qListObjectDef.qLayoutExclude||(o.qListObjectDef.qLayoutExclude={});o.qListObjectDef.qLayoutExclude.qHyperCubeDef||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef={});o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions=[]);o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures=[]);o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder=[]);for(u=0;u<a.dimensions.length;++u)if(u<s){o.qListObjectDef.qDef=a.dimensions[u].qDef;o.qListObjectDef.qLibraryId=a.dimensions[u].qLibraryId}else o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions.push(a.dimensions[u]);for(u=0;u<a.excludedDimensions.length;++u)o.qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(a.excludedDimensions[u]));for(u=0;u<a.measures.length;++u)o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures.push(a.measures[u]);for(u=0;u<a.excludedMeasures.length;++u)o.qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures.push(a.excludedMeasures[u]);for(u=0;u<a.interColumnSortOrder.length;++u)o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.push(a.interColumnSortOrder[u]);o.qListObjectDef.qInitialDataFetch=i.qListObjectDef.qInitialDataFetch;C(o,n,i);r.qProperty=o;return r}};p={importProperties:function e(t,n,r){var o=this.hypercube.importProperties(t,n,r),a=i.getValue(o,"qProperty.visualization"),u=i.getValue(o,"qProperty.qHyperCubeDef.qDimensions",[]),c=i.getValue(o,"qProperty.qHyperCubeDef.qMeasures",[]),d=i.getValue(o,"qProperty.qHyperCubeDef.qMeasures.0.qAttributeExpressions",[]),f=i.getValue(o,"qProperty.color.colorExpression",""),p=i.getValue(o,"qProperty.color.mode",""),h=i.getValue(o,"qProperty.color.auto",""),v=i.getValue(o,"qProperty.color.persistent",false);var m=l.canColorBy(o.qProperty,a);if(m[p])if(h)s.colorByUpdater(o.qProperty,"qHyperCubeDef.");else if("byDimension"!==p&&"byMeasure"!==p||!u.length){if("byExpression"===p&&c.length){d.splice(0,0,{qExpression:f,id:"colorByExpression"});i.setValue(o,"qProperty.qHyperCubeDef.qMeasures.0.qAttributeExpressions",d)}}else s.colorByUpdater(o.qProperty,"qHyperCubeDef.");else{i.setValue(o,"qProperty.color.mode","primary");i.setValue(o,"qProperty.color.auto",true);s.colorByUpdater(o.qProperty,"qHyperCubeDef.")}u.length>1&&!v&&E("color.persistent",true,o);u.forEach(function(e){"qTotalMode"in e.qOtherTotalSpec&&delete e.qOtherTotalSpec.qTotalMode});return o},exportProperties:function e(t){var n=this.hypercube.exportProperties(t);var i=n.data[0];u.moveByIdFromGroup(i.dimensions.concat(i.excludedDimensions),[],"qAttributeDimensions",u.IDMAP.COLOR_BY_ALTERNATIVE);u.moveByIdFromGroup(i.dimensions.concat(i.excludedDimensions),[],"qAttributeExpressions",u.IDMAP.COLOR_BY_ALTERNATIVE);u.moveByIdFromGroup(i.measures.concat(i.excludedMeasures),[],"qAttributeExpressions",u.IDMAP.COLOR_BY_EXPRESSION);return n}};h={importProperties:function t(n,i,r){var o=this.colorChart.importProperties.apply(this,[n,i,r]),a=o.qProperty,s,l;i.measureAxis&&"undefined"===typeof i.measureAxis.autoMinMax?T(a,"unsupportedAutoMinMax")||e.extend(a.measureAxis,i.measureAxis):T(a,"supportedAutoMinMax")||e.extend(a.measureAxis,i.measureAxis);if(n.properties.measureAxes&&!i.measureAxes&&i.measureAxis&&"undefined"!==typeof i.measureAxis.autoMinMax){var u=[];a.qHyperCubeDef.qMeasures.length>0&&a.qHyperCubeDef.qMeasures.forEach(function(e){if(e.qDef.series){u[e.qDef.series.axis]||(u[e.qDef.series.axis]={axis:e.qDef.series.axis,type:{line:0,marker:0,bar:0,total:0}});["bar","marker","line"].contains(e.qDef.series.type)&&u[e.qDef.series.axis].type[e.qDef.series.type]++;u[e.qDef.series.axis].type.total++}});if(u.length){var c="barchart"===i.visualization?"bar":"linechart"===i.visualization?"line":"";c&&(s=u.filter(function(e){return e.type[c]>0}).sort(function(e,t){return t.type[c]-e.type[c]}));s&&s.length||(s=u.sort(function(e,t){return t.type.total-e.type.total}));s&&s[0]&&e.extend(a.measureAxis,n.properties.measureAxes[s[0].axis])}else e.extend(a.measureAxis,n.properties.measureAxes[0])}if(a.qHyperCubeDef.qDimensions.length>1){l=a.qHyperCubeDef.qInterColumnSortOrder.indexOf(0);if(0!==l){s=a.qHyperCubeDef.qInterColumnSortOrder[0];a.qHyperCubeDef.qInterColumnSortOrder[0]=0;a.qHyperCubeDef.qInterColumnSortOrder[l]=s}}return o},exportProperties:function e(t){var n=this.colorChart.exportProperties.apply(this,[t]);if("gauge"===n.properties.visualization){_("measureAxis.min",n,"unsupportedAutoMinMax");_("measureAxis.max",n,"unsupportedAutoMinMax")}else{_("measureAxis.min",n,"supportedAutoMinMax");_("measureAxis.max",n,"supportedAutoMinMax")}return n}};v={importProperties:function e(t,n,r){var o,a=this.hypercube.importProperties(t,n,r),s=i.getValue(a,"qProperty.qHyperCubeDef.qDimensions",[]),l=s.length,u=i.getValue(a,"qProperty.qHyperCubeDef.qMeasures",[]).length,c=i.getValue(a,"qProperty.qHyperCubeDef.qInterColumnSortOrder",[]),d,f=true;l+u===c.length&&i.setValue(a,"qProperty.qLayoutExclude.quarantine.interColSortOrder",c.concat());var p=i.getValue(a,"qProperty.qLayoutExclude.quarantine.pivotInterColSortOrder");if(p){c=p;d=p.slice();i.setValue(a,"qProperty.qHyperCubeDef.qInterColumnSortOrder",c);delete a.qProperty.qLayoutExclude.quarantine.pivotInterColSortOrder}else c.length=0;var h=c.indexOf(-1)>-1;var v=l+h;if(v>c.length)for(o=c.length;o<v;o++)c.indexOf(o)<0&&c.push(o-h);for(o=c.length-1;o>=0;o--)c[o]>=l&&c.splice(o,1);u>1&&c.indexOf(-1)<0?c.push(-1):u<2&&c.indexOf(-1)>-1&&c.splice(c.indexOf(-1),1);l>0&&-1===i.getValue(a,"qProperty.qHyperCubeDef.qNoOfLeftDims",-1)&&i.setValue(a,"qProperty.qHyperCubeDef.qNoOfLeftDims",l);if(d&&c&&d.length===c.length){for(o=0;o<d.length;o++)if(d[o]!==c[o]){f=false;break}f&&T(a.qProperty,"noOfLeftDims")}s.forEach(function(e){"qTotalMode"in e.qOtherTotalSpec||(e.qOtherTotalSpec.qTotalMode="TOTAL_EXPR")});return a},exportProperties:function e(t){var n=i.getValue(t,"qProperty.qHyperCubeDef.qInterColumnSortOrder",[]);var r=n.slice(0);var o=n.indexOf(-1);o>-1&&n.splice(o,1);var a=this.hypercube.exportProperties(t),s=a.properties.qHyperCubeDef,l=s.qDimensions.length,u=s.qMeasures.length,c=s.qInterColumnSortOrder;i.setValue(a,"properties.qLayoutExclude.quarantine.pivotInterColSortOrder",r);_("qHyperCubeDef.qNoOfLeftDims",a,"noOfLeftDims");delete a.properties.qHyperCubeDef.qNoOfLeftDims;var d=i.getValue(a,"properties.qLayoutExclude.quarantine.interColSortOrder");if(d){c=d;i.setValue(a,"properties.qHyperCubeDef.qInterColumnSortOrder",c);i.setValue(a,"data.0.interColumnSortOrder",c);delete a.properties.qLayoutExclude.quarantine.interColSortOrder}for(var f=c.length;f<l+u;f++)c.length<=f&&c.push(f);return a}};function C(e,t,n){"masterobject"===t.properties.qInfo.qType?e.qInfo.qType="masterobject":e.qInfo.qType=n.qInfo.qType;e.visualization=n.visualization}function E(e,t,n){var r=n.qProperty,a=n.qProperty.qLayoutExclude;if(!/boolean|number|string/.test(o(t))){i.setValue(r,e,t);return}if(a){a.changed||(a.changed={});a.changed[e]={from:i.getValue(r,e),to:t}}i.setValue(r,e,t)}function q(e){for(var t in e.qLayoutExclude.changed)e.qLayoutExclude.changed[t].to===i.getValue(e,t)&&i.setValue(e,t,e.qLayoutExclude.changed[t].from)}function _(e,t,n){var r=t.properties,a=t.properties.qLayoutExclude,s=i.getValue(r,e),l,u;if(!/boolean|number|string/.test(o(s)))try{l=JSON.stringify(s);u=l.match(/:\{/g);u=u?u.length:0;if(u>2)return;s=JSON.parse(l)}catch(e){return}if(!a){t.properties.qLayoutExclude={quarantine:{}};a=t.properties.qLayoutExclude}a.quarantine||(a.quarantine={});a.quarantine[n]||(a.quarantine[n]={});a.quarantine[n][e]=s}function T(e,t){var n,r=e.qLayoutExclude?e.qLayoutExclude.quarantine:{};if(!r[t])return false;r=r[t];for(n in r)i.setValue(e,n,r[n]);delete e.qLayoutExclude.quarantine[t];return true}m={importProperties:function t(n,i){var r={qChildren:[]},o={},a;o.qLayoutExclude||(o.qLayoutExclude={});o.qLayoutExclude.disabled={};for(a in n.properties){if("qLayoutExclude"===a)continue;i.hasOwnProperty(a)||S(a)?o[a]=n.properties[a]:o.qLayoutExclude.disabled[a]=n.properties[a]}o=e.extend(true,{},i,o);C(o,n,i);r.qProperty=o;return r},exportProperties:function e(n){var i=new t,r=n.qProperty,o,a;for(o in r)i.properties[o]=r[o];r.qLayoutExclude||(r.qLayoutExclude={});if(r.qLayoutExclude.disabled)for(o in r.qLayoutExclude.disabled){a=o;i.properties.hasOwnProperty(a)||(i.properties[a]=r.qLayoutExclude.disabled[o])}delete r.qLayoutExclude;return i}};return{importCommonProperties:C,isMasterItemProp:S,hypercube:d,listbox:f,axisChart:h,colorChart:p,pivotChart:v,other:m,changeProperty:E,quarantineProperty:_,unquarantineObject:T,quarantineConditionalShow:c.quarantine,unquarantineConditionalShow:c.unquarantine}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(102),n(92)],r=function(e,t){var n={Expression:0,NumberOrExpression:1};var i=t.extend("ExpressionValidator",{init:function t(i,r){this.currentExpr=null;this.nextExpr=null;this.hasOutstandingCall=false;this.app=i;this.mode=r||n.Expression;e.create(this,"Update")},onResponse:function e(t){var n,i,r,o,a;this.hasOutstandingCall=false;if(this.nextExpr){n=this.nextExpr;i=this.nextLabels;this.nextExpr=null;this.nextLabels=null;this.callEngine(n,i)}else{n=this.currentExpr;r=!t.qErrorMsg&&0===t.qBadFieldNames.length;for(o=0;o<t.qBadFieldNames.length;o++){a=t.qBadFieldNames[o];a.name=n.substr(a.qFrom||0,a.qCount)}this.Update.emit({valid:r,data:{error:t.qErrorMsg,bad:t.qBadFieldNames}})}},callEngine:function e(t,i){var r=this;if(this.hasOutstandingCall)throw new Error("Invalid state");this.currentExpr=t;this.hasOutstandingCall=true;var o;o=this.mode===n.NumberOrExpression?this.app.checkNumberOrExpression(t):this.app.checkExpression(t,i||[]);o.then(function(e){r.onResponse(e)},function(){r.onResponse({qErrorMsg:"Error",qBadFieldNames:[]})})},validate:function e(t,n){if(this.hasOutstandingCall){this.nextExpr=t;this.nextLabels=n}else this.callEngine(t,n)}});return{ExpressionValidator:i,Modes:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89),n(90)],r=function(e,t,n){function i(n){return n?t.resolve(n.enigmaModel):e.getApp()}var r={};r.create=function(e,t){return i(e).then(function(e){var i={qInfo:{qId:n.generateId(),qType:"odagapplink"},qMetaDef:{odagLinkRef:"",timestamp:Date.now()}};return e.createObject(n.extend(true,i,t))})};r.remove=function(e,t){return i(e).then(function(e){return e.destroyObject(t)})};r.get=function(e,t){return i(e).then(function(e){return e.getObject(t)})};r.getList=function(e){return i(e).then(function(e){return e.getODAGAppLinkObject()})};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(90),n(13),n(89),n(108)],r=function(e,t,n,i,r,o){e.service("$contentApi",["$http",function(e){function a(e){e.headers||(e.headers={})}function s(e){e.params||(e.params={})}function l(e){var t=n.getRandomString(16);e.headers["X-Qlik-XrfKey"]=t;e.params.xrfkey=t;return e}function u(e){"/"===e.url[0]&&(e.url=e.url.substr(1));e.url=i.rootPath+e.url;return e}function c(e){var n=t.language;n&&(e.headers["Accept-Language"]="pseudo"!==n?n:"qps-ploc");return e}function d(t){var n;var i;var d;var f=new r;var p=f.promise;a(t);s(t);o.isPersonalModeSync()||l(t);u(t);c(t);d=e(t);d.then(function(e){f.resolve(e);n&&n(e.data,e.status,e.headers,e.config)},function(e){if(i){f.resolve(e);i(e.data,e.status,e.headers,e.config)}else f.reject(e)});p.success=function(e){n=e;return p};p.error=function(e){i=e;return p};return p}function f(){var e={method:"GET",url:"/qrs/extension/schema"};return d(e).then(function(e){return e.data}).catch(function(e){throw e.data})}return{getExtensions:f,request:d}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){var t={};t.nextIndex=function(t,n){var i=1;var r;r=""===n?new RegExp("^\\((\\d+)\\)$"):new RegExp("^"+e.escapeRegExp(n)+" \\((\\d+)\\)$");t.forEach(function(e){var t=r.exec(e);if(t&&2===t.length){var n=parseInt(t[1],10);i=Math.max(n+1,i)}});return i};t.generateUniqueName=function(e,n){var i=t.nextIndex(e,n);return""===n?"("+i+")":n+" ("+i+")"};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(160),n(101),n(385)],r=function(e,t,n){var i=["scatterplot","map"];var r=["scatterplot","map","barchart","linechart","combochart","piechart","treemap","distributionplot"];return{baseColor:{isSupported:function e(t){return t&&t.length&&-1===i.indexOf(t)}},colorBy:{isSupported:function e(t){return r.contains(t)}},colorByUpdater:function i(r,a){var s=t.getValue(r,"color.mode");var d=t.getValue(r,"color.auto");var f=t.getValue(r,a+"qDimensions",[]);var p=t.getValue(r,a+"qMeasures",[]);var h=t.getValue(r,a+"qLayoutExclude.qHyperCubeDef.qDimensions",[]);var v,m,g,b;var y=t.getValue(r,"visualization");if(d)o(f,h);else if(!d&&"byDimension"===s&&f.length){v=t.getValue(r,"color.byDimDef");v&&c(r,v.label);if(v&&v.activeDimensionIndex>-1){v.activeDimensionIndex=Math.min(v.activeDimensionIndex,f.length-1);m=f[v.activeDimensionIndex];b=n.getColorByDefinition("dimension",false,m);b.activeDimensionIndex=v.activeDimensionIndex;l(r,b)}else if(!v||!v.key){m=f[f.length-1];var x=a.split(".");2===f.length&&"map"===y&&"point"===r.layers[Number(x[1])].type&&(m=f[0]);g=e.getById(m.qAttributeDimensions,e.IDMAP.COLOR_BY_ALTERNATIVE);l(r,n.getColorByDefinition("dimension",!!g,g||m));if(g)return}u(r,true,f,h,p,t.getValue(r,"color.byDimDef.label"))}else if(d||"byMeasure"!==s||!f.length||"map"!==y&&!p.length){"byMultiple"===s&&p.length<2&&t.setValue(r,"color.mode","primary");o(f,h)}else{v=t.getValue(r,"color.byMeasureDef");v&&c(r,v.label);if(v&&v.activeMeasureIndex>-1){v.activeMeasureIndex=Math.min(v.activeMeasureIndex,p.length-1);if(v.activeMeasureIndex>-1){var w=p[v.activeMeasureIndex];b=n.getColorByDefinition("measure",false,w);b.activeMeasureIndex=v.activeMeasureIndex;l(r,b)}}else if((!v||!v.key)&&p.length){var S=p[0];m=f[f.length-1];g=e.getById(m.qAttributeExpressions,e.IDMAP.COLOR_BY_ALTERNATIVE);l(r,n.getColorByDefinition("measure",!!g,g||S));if(g)return}u(r,false,f,h,p,t.getValue(r,"color.byMeasureDef.label"))}},setColorByPropertyDef:l,resolveColorByPropertyDef:u,clearColorByItem:o};function o(t,n){t.forEach(function(t){a(t,e.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeDimensions");a(t,e.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeExpressions")});n.forEach(function(t){a(t,e.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeDimensions");a(t,e.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeExpressions")})}function a(t,n,i){if(t[i]){var r=e.getIndexById(t[i],n);r>=0&&t[i].splice(r,1)}else t[i]=[]}function s(e){return e.split(" ").length>1&&"="!==e[0]&&"["!==e[0]?"["+e+"]":e}function l(e,t,n,i){var r=n?"expression":t.type,o=e.color.mode,a=t.label||t.name||"";c(e,a);switch(r){case"field":o="byDimension";e.color.byDimDef={label:t.label||s(t.name),key:s(t.name),type:"expression",activeDimensionIndex:t.activeDimensionIndex};break;case"expression":o="byMeasure";e.color.byMeasureDef={label:n||t.label||t.name,key:n||t.name,type:"expression",activeMeasureIndex:t.activeMeasureIndex};break;case"dimension":o="byDimension";e.color.byDimDef={label:t.name,key:t.id,type:"libraryItem",activeDimensionIndex:t.activeDimensionIndex};break;case"measure":o="byMeasure";e.color.byMeasureDef={label:t.name,key:t.id,type:"libraryItem",activeMeasureIndex:t.activeMeasureIndex};break}if(!i){e.color.auto=false;e.color.mode=o}}function u(n,i,r,a,s,l){o(r,a);var u=r[r.length-1];if(u){var c=i?t.getValue(n,"color.byDimDef"):t.getValue(n,"color.byMeasureDef");if(c){var d=e.create(e.IDMAP.COLOR_BY_ALTERNATIVE);switch(c.type){case"expression":d.label=l||c.label;i?d.qDef=c.key:d.qExpression=c.key;d.matchMeasure=c.activeMeasureIndex;d.label&&"="===d.label.charAt(0)&&(d.labelExpRef="color.altLabel");break;case"libraryItem":if(!i){var f=-1;s.forEach(function(e,t){c.key===e.qLibraryId&&(f=t)});d.matchMeasure=f}d.qLibraryId=c.key;d.colorMapRef=c.key;break}if(i){d.qSortBy={qSortByAscii:1};u.qAttributeDimensions.push(d)}else u.qAttributeExpressions.push(d)}}}function c(e,t){if(!t)return;var n="="===t.charAt(0);e.color.altLabel=n?{qStringExpression:{qExpr:t.substr(1)}}:t}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(54),n(118)],r=function(e,t){var n="localstorageservice";function i(t){if(!e.isString(t))throw new Error('The key "'+t+'" is not a String.');return n+"."+t}function r(t,n,r){var o=(new Date).getTime(),a,s;if(!e.isString(t))throw new Error('The key "'+t+'" is not a String.');if(!e.isObject(n))throw new Error('The value "'+n+'" for the key "'+t+'" is not valid object.');if(r){if(!e.isNumber(r))throw new Error('The time to live value "'+r+'" is not numeric.');r+=o}s={timeToLive:r,value:n};a=JSON.stringify(s);localStorage[i(t)]=a}function o(t){if(!e.isString(t))throw new Error('The key "'+t+'" is not a String.');var n=e.isEmpty(localStorage[i(t)]);return!n}function a(t,n){if(!e.isString(t))throw new Error('The key "'+t+'" is not a String.');if(!o(t)){if(void 0!==n)return n;throw new Error('There is no data set for the key "'+t+'". Please use contains() first to verify you should actually do a get().')}var i=s(t);return i.value}function s(e){var t=JSON.parse(localStorage[i(e)]);return t}function l(t){if(!e.isString(t))throw new Error('The key "'+t+'" is not a String.');if(!o(t))throw new Error('There is no data set for the key "'+t+'". Please use contains() first to verify you should actually do a get().');delete localStorage[i(t)]}function u(){var i,r,o;for(i in localStorage)if(t.startsWith(i,n)){i=i.substring(n.length+1);r=s(i);o=(new Date).getTime();e.isNumber(r.timeToLive&&o>r.timeToLive)&&l(i)}}return{set:r,get:a,contains:o,clean:u,remove:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(92),n(89),n(497),n(622)],r=function(e,t,n,i,r){var o;o=t.extend("BackendApi",{init:function e(t,n,o){this.model=t;this.localeInfo=t.app&&t.app.layout?t.app.layout.qLocaleInfo:{};this.path=n;n&&(this.dataPath=n.slice(1,-3));this.cacheCube=new i(t,"qDataPages",this.path,o);this.backendStackThrottle=new r(t,"qDataPages",this.path)},setPath:function e(t){this.path=t;t&&(this.dataPath=t.slice(1,-3));this.cacheCube.setPath(t);this.backendStackThrottle.setPath(t)},setCacheOptions:function e(t){this.cacheCube.setOptions(t)},updateCache:function e(){},applyPatches:function e(t,n){return this.model.applyPatches(t,n)},clearSoftProperties:function e(){var t=this;return this.model.getLayout().then(function(e){return e.qHasSoftPatches?t.model.clearSoftPatches():n.resolve()})},beginSelections:function e(){return this.model.app.switchModalSelection(this.model,this.path)},endSelections:function e(t){return this.model.app.switchModalSelection(null,null,t)},clearSelections:function e(t){t=t||0;return this.model.clearSelections(this.path,[t])},getDimensionInfos:function e(){if(!this.model.layout[this.dataPath].qDimensionInfo)return[];if(Array.isArray(this.model.layout[this.dataPath].qDimensionInfo))return this.model.layout[this.dataPath].qDimensionInfo;return[this.model.layout[this.dataPath].qDimensionInfo]},getMeasureInfos:function e(){return this.model.layout[this.dataPath].qMeasureInfo},getRowCount:function e(){return this.model.layout[this.dataPath].qSize.qcy},eachDataRow:function t(n){var i=this.model.layout[this.dataPath],r=true;i&&e.each(i.qDataPages,function(t,i){e.each(i.qMatrix,function(e,t){r=n(i.qArea.qTop+e,t);return r});return r})},drillUp:function e(t,n){return this.model.drillUp(this.path,t,n)},hasSelections:function e(){var t=this.getDimensionInfos();for(var n=0;n<t.length;++n)if(t[n].qStateCounts.qSelected>0)return true;return false},inSelections:function e(){return this.model.layout.qSelectionInfo&&this.model.layout.qSelectionInfo.qInSelections},destroy:function e(){this.cacheCube.destroy();this.backendStackThrottle.destroy()},getSize:function e(){return this.model.layout[this.dataPath].qSize}});return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){var t="undefined"!==typeof window&&"undefined"!==typeof document;var n=(t&&e.getParameterByName("debug")||"").split("+");var i={LANGUAGES:false,DEVELOPER:false,RELEASEMODELS:false,ASSOCIATE:false,BUBBLES:false,DLE_SAFE_MODE:false,DM_LINEAGE:false,DM_PERF:false,DM_STU:false,NOCONNECTOR:false};n.forEach(function(e){e&&(i[e.toUpperCase()]=true)});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92)],r=function(e){var t;t=e.extend({init:function e(){this._elements=[[1,0,0],[0,1,0],[0,0,1]];this._stack=[]},clone:function e(){var n=new t;return n.multiply(this._elements)},set:function e(t){this._elements=t;return this},save:function e(){this._stack.push(this.elements);return this},restore:function e(){this._stack.length&&(this._elements=this._stack.pop());return this},add:function e(t){var n,i;for(n=0;n<this._elements.length;n++)for(i=0;i<this._elements[n].length;i++)this._elements[n][i]+=t;return this},translate:function e(t,n){this.multiply([[1,0,t],[0,1,n],[0,0,1]]);return this},rotate:function e(t){var n=Math.cos(-t),i=Math.sin(-t);this.multiply([[n,i,0],[-i,n,0],[0,0,1]]);return this},skew:function e(t,n){var i=Math.tan(t),r=Math.tan(n);this.multiply([[1,i,0],[r,1,0],[0,0,1]]);return this},multiply:function e(n){var i,r,o,a;n instanceof t&&(n=n._elements);if(Array.isArray(n)){o=[[0,0,0],[0,0,0],[0,0,0]];for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)for(a=0;a<3;a++)o[i][r]+=this._elements[i][a]*n[a][r];this._elements=o}else for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)this._elements[i][r]*=n;return this},scale:function e(t,n){(arguments.length<2||"undefined"===typeof n)&&(n=t);this.multiply([[t,0,0],[0,n,0],[0,0,1]]);return this},determinant:function e(){var t=this._elements[0][0],n=this._elements[0][1],i=this._elements[0][2],r=this._elements[1][0],o=this._elements[1][1],a=this._elements[1][2],s=this._elements[2][0],l=this._elements[2][1],u=this._elements[2][2],c=0;c=t*o*u+n*a*s+i*r*l-i*o*s-n*r*u-t*a*l;return c},invert:function e(){var t=this.determinant(),n=this._elements[0][0],i=this._elements[0][1],r=this._elements[0][2],o=this._elements[1][0],a=this._elements[1][1],s=this._elements[1][2],l=this._elements[2][0],u=this._elements[2][1],c=this._elements[2][2];this._elements=[[a*c-s*u,r*u-i*c,i*s-r*a],[s*l-o*c,n*c-r*l,r*o-n*s],[o*u-a*l,l*i-n*u,n*a-i*o]];this.multiply(1/t);return this},transpose:function e(){var t=Object.create(this._elements);this._elements=[[t[0][0],t[1][0],t[2][0]],[t[0][1],t[1][1],t[2][1]],[t[0][2],t[1][2],t[2][2]]];return this},identity:function e(){this._elements=[[1,0,0],[0,1,0],[0,0,1]];return this},transformPoint:function e(t){var n=[t.x,t.y,1],i,r,o=this._elements,a=[0,0,0];for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)a[i]+=n[r]*o[i][r];return{x:a[0],y:a[1]}},transformPoints:function e(t){var n,i,r,o,a,s=this._elements,l=[];for(o=0;o<t.length;o++){n=[t[o].x,t[o].y,1];a=[0,0,0];for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)a[i]+=n[r]*s[i][r];l.push({x:a[0],y:a[1]})}return l},toString:function e(){var t="";this._elements.forEach(function(e,n,i){t+=e.join("\t")+(n<i.length?"\n":"")});return t},isIdentity:function e(){var t=this._elements;return 1===t[0][0]&&0===t[0][1]&&0===t[0][2]&&0===t[1][0]&&1===t[1][1]&&0===t[1][2]&&0===t[2][0]&&0===t[2][1]&&1===t[2][2]},identityIfClose:function e(t){var n=this._elements;Math.abs(n[0][0]-1)<t&&Math.abs(n[0][1])<t&&Math.abs(n[0][2])<t&&Math.abs(n[1][0])<t&&Math.abs(n[1][1]-1)<t&&Math.abs(n[1][2])<t&&Math.abs(n[2][0])<t&&Math.abs(n[2][1])<t&&Math.abs(n[2][2]-1)<t&&this.identity()}});Object.defineProperties(t.prototype,{elements:{get:function e(){var t=this._elements;return[[t[0][0],t[0][1],t[0][2]],[t[1][0],t[1][1],t[1][2]],[t[2][0],t[2][1],t[2][2]]]}}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(90),n(89),n(122),n(177),n(94),n(93),n(49),n(108),n(50)],r=function(e,t,n,i,r,o,a,s,l){function u(){var t=e.getParameterByName("app");var n=e.getParameterByName("sheet");var r=i.analysis(t);var o=r&&r.sheetId?r.sheetId:n;return{appId:t,sheetId:o}}function c(e){if(!s.inClient()||!a.getFlag("SSA_IN_EDIT")||l.isSmallDevice||e)return t.resolve("analysis");return o.getApp().then(function(e){return e.getLayout().then(function(e){var t=e&&e.permissions&&e.permissions.update;var n=t?r.States.edit:r.States.analysis;return r.getAllStateKeys()[n]})}).catch(function(){return t.resolve("analysis")})}function d(n,r){var o=i.analysis(e.getParameterByName("app"));if(s.inClient()&&o&&o.state&&!r)return t.resolve(o.state);return c(n)}function f(e,t,r,o){i.setSheet(e,t,r,o);n.goToSheet(e,t,o)}function p(t){var n=e.getParameterByName("app");var o=i.analysis(n).overlay;return o===r.getAllStateKeys()[t]}function h(){return a.getFlag("SSA_IN_EDIT")||r.state!==r.States.edit}function v(){return p(r.States.insight)}function m(){return p(r.States.selections)}function g(e,t,n){if(s.inClient()){var o=i.analysis(t).state;var a=r.getAllStateKeys()[n];o||c().then(function(n){f(e,n,t,a)});f(e,o,t,a)}}function b(e,t){if(s.inClient()){var n=i.analysis(t).state;n?f(e,n,t,null):c().then(function(n){f(e,n,t,null)})}}return{getCurrentSheetInfo:u,closeAnalysisOverlay:b,openAnalysisOverlay:g,getDefaultSheetViewState:c,getCurrentSheetViewState:d,shouldShowOverlay:h,isInInsightMode:v,isInSelectionsMode:m}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(104),n(398),n(11),n(200),n(89),n(159)],r=function(e,t,n,i,r,o,a){var s,l,u=window.devicePixelRatio||1,c=document.createElement("canvas"),d=c.getContext("2d"),f=document.createElement("span"),p=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1,h=u/p,v={},m=[],g=!a.supportDirAuto();f.innerText="Wj";function b(e,t){m.length>100&&delete v[m.shift()];m.push(e);v[e]=t}function y(e){if(e.font in v)return v[e.font];var t=1.5*e.measureText("m").width;b(e.font,t);return t}function x(e,t,n,i,r){var o=t.shape.points,a=o?o.length:0,s,l;e.beginPath();s=o[0];if(!s)return;e.moveTo(s.x,s.y);for(l=1;l<a;l+=1){s=o[l];e.lineTo(s.x,s.y)}r&&e.closePath();n&&e.fill();i&&e.stroke()}l={rect:function e(t,n,i,r){i&&t.fillRect(n.shape.x||0,n.shape.y||0,n.shape.width||0,n.shape.height||0);r&&t.strokeRect(n.shape.x||0,n.shape.y||0,n.shape.width||0,n.shape.height||0)},roundRect:function e(t,n,i,r){t.beginPath();t.moveTo(n.shape.x+n.shape.radius,n.shape.y);t.lineTo(n.shape.x+n.shape.width-n.shape.radius,n.shape.y);t.quadraticCurveTo(n.shape.x+n.shape.width,n.shape.y,n.shape.x+n.shape.width,n.shape.y+n.shape.radius);t.lineTo(n.shape.x+n.shape.width,n.shape.y+n.shape.height-n.shape.radius);t.quadraticCurveTo(n.shape.x+n.shape.width,n.shape.y+n.shape.height,n.shape.x+n.shape.width-n.shape.radius,n.shape.y+n.shape.height);t.lineTo(n.shape.x+n.shape.radius,n.shape.y+n.shape.height);t.quadraticCurveTo(n.shape.x,n.shape.y+n.shape.height,n.shape.x,n.shape.y+n.shape.height-n.shape.radius);t.lineTo(n.shape.x,n.shape.y+n.shape.radius);t.quadraticCurveTo(n.shape.x,n.shape.y,n.shape.x+n.shape.radius,n.shape.y);t.closePath();i&&t.fill();r&&t.stroke()},circle:function e(t,n,i,r){n.shape&&n.shape.r&&!n.shape.radius&&(n.shape.radius=n.shape.r);if(Number.isNaN(+n.shape.cx)||Number.isNaN(+n.shape.cy)||Number.isNaN(+n.shape.radius)||n.shape.radius<=0)return;var o=.551784;t.save();t.translate(n.shape.cx,n.shape.cy);t.scale(n.shape.radius,n.shape.radius);t.beginPath();t.moveTo(1,0);t.bezierCurveTo(1,-o,o,-1,0,-1);t.bezierCurveTo(-o,-1,-1,-o,-1,0);t.bezierCurveTo(-1,o,-o,1,0,1);t.bezierCurveTo(o,1,1,o,1,0);t.closePath();t.restore();i&&t.fill();r&&t.stroke()},line:function e(t,n,i,r){if(!r)return;t.beginPath();t.moveTo(n.shape.x1,n.shape.y1);t.lineTo(n.shape.x2,n.shape.y2);t.stroke()},polygon:function e(t,n,i,r){x(t,n,i,r,true)},polyline:function e(t,n,i,r){x(t,n,i,r)},polygons:function e(t,n,i,r){var e=n.shape.polygons,o=e?e.length:0,a,s,l,u,c,d;t.beginPath();for(c=0;c<o;c++){a=e[c];s=a.points;l=s?s.length:0;if(0===l)continue;u=s[0];if(!u)continue;t.moveTo(u.x,u.y);for(d=1;d<l;d+=1){u=s[d];t.lineTo(u.x,u.y)}}i&&t.fill();r&&t.stroke()},multipolygon:function e(t,n,i,r){var o=n.shape.geopolygons,a=o?o.length:0,s,l,u,c,d,f,p,h;t.beginPath();for(f=0;f<a;f++){s=o[f].getPolygons();l=s?s.length:0;for(p=0;p<l;p++){u=s[p].points;c=u?u.length:0;if(0===c)continue;d=u[0];if(!d)continue;t.moveTo(d.x,d.y);for(h=1;h<c;h+=1){d=u[h];t.lineTo(d.x,d.y)}}}i&&t.fill();r&&t.stroke()},arc:function e(t,n,i,r){var e=n.shape;t.beginPath();if(e.end-e.start===2*Math.PI){t.arc(e.cx,e.cy,e.radius,e.start+e.radianOffset,e.end+e.radianOffset,false);t.moveTo(e.cx+e.innerRadius*Math.cos(e.radianOffset+e.start),e.cy+e.innerRadius*Math.sin(e.radianOffset+e.start));t.arc(e.cx,e.cy,e.innerRadius,e.end+e.radianOffset,e.start+e.radianOffset,true)}else{t.arc(e.cx,e.cy,e.radius,e.start+e.radianOffset,e.end+e.radianOffset,false);if(!Number.isNaN(+e.innerRadius)&&e.innerRadius!==e.radius){t.lineTo(e.innerRadius*Math.cos(e.end+e.radianOffset)+e.cx,e.innerRadius*Math.sin(e.end+e.radianOffset)+e.cy);e.innerRadius>0&&t.arc(e.cx,e.cy,e.innerRadius,e.end+e.radianOffset,e.start+e.radianOffset,true);t.lineTo(e.radius*Math.cos(e.start+e.radianOffset)+e.cx,e.radius*Math.sin(e.start+e.radianOffset)+e.cy)}}t.closePath();i&&t.fill();r&&t.stroke()},text:function e(t,n){if(!n.shape||!n.shape.text||!n.fill)return;n.shape.font&&(t.font=n.shape.font);n.shape.align&&(t.textAlign=n.shape.align);n.shape.baseline&&(t.textBaseline=n.shape.baseline);E(t,n.shape)}};function w(e,t,n){var i,r=e?e.replace(/^\s*|\s*$/,"").split(" "):[],o=[],a,s,l=r[0];if(!l)return[];for(i=1;i<r.length;i++){a=l+" "+r[i];s=d.measureText(a).width;if(s>t&&n>o.length){o.push(l);l=r[i]}else l=a}o.length<n?o.push(l):o[Math.max(0,o.length-1)]?o[Math.max(0,o.length-1)]+=" "+l:o[Math.max(0,o.length-1)]=" "+l;return o}function S(e,t,n){if(void 0===e)return;var i,r,o,a,s,l,u,c="â¦",f,p=d.measureText("i").width;for(i=0;i<e.length;i++){r=e[i];u=Math.ceil(Math.max(0,t/p))+1;if(u<r.length){a=r.slice(u);r=r.slice(0,u)}else a="";o=r;if(r&&r.length>1&&d.measureText(r).width>t){s=false;for(l=r.length;l>0;l--){o=o.substring(0,o.length-1);f=o+(i+1<n?"-":c);if(d.measureText(f).width<t){a=r.substring(l-1)+a;r=f;s=true;break}}if(!s){a=r.substring(1);r=r.substring(0,1)}if(!s&&!l){a="";r=c}}e[i]=String(r).trim();a&&i<e.length-1?e[i+1]=a+" "+e[i+1]:a&&e.length<n&&e.push(a)}}function C(e,t,n){var i=n.maxWidth,r;if(Number.isNaN(+i))return[e];r=t>1?w(e,i,t):[e];S(r,i,t);return r}function E(e,t,n){var i=t.text,r=(t.lineHeight||1)*y(e),o="maxWidth"in t?t.maxWidth:t.width,s="maxHeight"in t?t.maxHeight:t.height,l=t.width,u=t.height,c=t.maxNumLines,f,p=t.x||0,h=t.y||0,v=e.textAlign,m="center"===v&&g,b,x,w;d.font=e.font;Number.isNaN(+c)&&(c=s?Math.max(1,Math.floor(s/r)):1);f=C(i,c,{maxWidth:o,maxHeight:s});if(n){l=0;for(b=0;b<f.length;b++)l=Math.max(l,e.measureText(f[b]).width);return{lines:f,numLines:f.length,width:l,height:f.length*r,truncated:Array.isArray(/â¦$/.exec(f[f.length-1]))}}"middle"===e.textBaseline?"undefined"!==typeof u?h+=u/2:f.length&&(h-=(f.length-1)*r/2):"bottom"===e.textBaseline&&("undefined"!==typeof u?h+=u:h-=(f.length-1)*r);"center"===e.textAlign&&l?p+=l/2:"right"===e.textAlign&&l&&(p+=l);for(b=0;b<f.length;b++){x=a.detectTextDirection(f[b]);e.canvas.dir=x;if(m&&"rtl"===x){e.textAlign="left";w=p-e.measureText(f[b]).width/2}else{e.textAlign=v;w=p}e.canvas.dir=a.detectTextDirection(f[b]);e.fillText(f[b],w,h);h+=r}e.textAlign=v}function q(e,t,n,i,r,o){var a,s,u,c,d,f,p;for(a=0;a<n.length;a+=1){c=n[a];if(!c)continue;e.save();u=c.transform;if(u){t.save();t.multiply(u)}"opacity"in c&&(e.globalAlpha=c.opacity);if(c.fill)if(c.fill.gradient){p=c.fill.gradient;if(Number.isNaN(+p.x0)||Number.isNaN(+p.y0)||Number.isNaN(+p.x1)||Number.isNaN(+p.y1))return;f=e.createLinearGradient(p.x0,p.y0,p.x1,p.y1);for(s=0;s<p.limits.length;s++)f.addColorStop(p.limits[s],p.colors[s]);e.fillStyle=f}else e.fillStyle=c.fill;if(c.stroke&&0!==c.strokeWidth){if(c.stroke.gradient){p=c.stroke.gradient;f=e.createLinearGradient(p.x0,p.y0,p.x1,p.y1);for(s=0;s<p.limits.length;s++)f.addColorStop(p.limits[s],p.colors[s]);e.strokeStyle=f}else e.strokeStyle=c.stroke;e.lineWidth=c.strokeWidth||1;i>1&&"polygon"!==c.type&&(e.lineWidth/=i)}c.lineJoin&&(e.lineJoin=c.lineJoin);c.lineCap&&(e.lineCap=c.lineCap);d=t.elements;if("group"===c.type){t.save();if(c.clip){e.beginPath();e.setTransform(d[0][0],d[1][0],d[0][1],d[1][1],d[0][2],d[1][2]);e.rect(c.clip.rect.x,c.clip.rect.y,c.clip.rect.width,c.clip.rect.height);e.clip()}q(e,t,c.children,void 0,!!c.fill||!!r,!!c.stroke&&0!==c.strokeWidth||!!o);t.restore()}else if(c.type in l){e.setTransform(d[0][0],d[1][0],d[0][1],d[1][1],d[0][2],d[1][2]);l[c.type](e,c,!!c.fill||!!r,!!c.stroke&&0!==c.strokeWidth||!!o)}e.globalAlpha=1;u&&t.restore();e.restore()}}function _(e,t,n){if(n){var i=t.elements;switch(n.type){case"clip":e.save();e.setTransform(i[0][0],i[1][0],i[0][1],i[1][1],i[0][2],i[1][2]);e.beginPath();e.rect(n.rect.x,n.rect.y,n.rect.width,n.rect.height);e.clip();break;case"slice":break;default:break}}}function T(e,t){t&&e.restore()}s=e.extend({init:function e(n,o){var a=i.extend(true,{storeObjects:false},o);this._container=n;this._canvas=document.createElement("canvas");this._canvas.style.position="absolute";this._canvas.width=0;this._canvas.height=0;a.name&&this._canvas.setAttribute("name",a.name);this.storeRenderedObjects=true===a.storeObjects;this.scaling={x:1,y:1};this._container&&this._container.appendChild(this._canvas);this.rect=new t(0,0,0,0);this.shapes=[];this._matrix=new r},setDimensions:function e(t,n,i,r){this.rect.set(t,n,i,r)},setDimensionsToContainerRatio:function e(t,n){this.scaling={x:t,y:n};this.ratios={x:t,y:n}},show:function e(){this._canvas.style.display=""},hide:function e(){this._canvas.style.display="none"},clear:function e(t){if(t){if(!this._clearTimer){var r=this;this._clearTimer=n.request(function(){if(r._clearTimer){r._canvas.width=0;r._clearTimer=0}})}}else{n.cancel(this._clearTimer);this._clearTimer=0;this._canvas.width=0;this._canvas.height=0;i(this._canvas).data("shapes",null);this.shapes=[]}},render:function e(){n.cancel(this._clearTimer);this._clearTimer=0;u=window.devicePixelRatio||1;p=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;h=u/p;var t=this._canvas,r=t.getContext("2d"),a=h,s=this._matrix,l=0,c=0,f,v;v=this.rect.height*this.scaling.y;f=this.rect.width*this.scaling.x;if(this.edgeBleed){l=this.edgeBleed.left*this.scaling.x;c=this.edgeBleed.top*this.scaling.y;v+=this.edgeBleed.top*this.scaling.y+this.edgeBleed.bottom*this.scaling.y;f+=this.edgeBleed.left*this.scaling.x+this.edgeBleed.right*this.scaling.x}v=Math.round(v);f=Math.round(f);this._canvas.style.left=-l+"px";this._canvas.style.top=-c+"px";if(t.width!==f||t.height!==v){t.width=a*f;t.height=a*v;this._canvas.style.width=f+"px";this._canvas.style.height=v+"px"}else r.clearRect(0,0,t.width,t.height);r.save();s.save();s.scale(a*this.scaling.x,a*this.scaling.y);s.translate(l/this.scaling.x,c/this.scaling.y);_(r,s,this.viewBox);q(r,s,this.shapes,this.scaling.x);T(r,this.viewBox);r.restore();s.restore();this.storeRenderedObjects&&i(this._canvas).data("shapes",this.shapes);return o.resolve()},setFont:function e(t){this._canvas.getContext("2d").font=t},getFontHeight:function e(t){if("string"!==typeof t)throw new Error("CanvasRenderer.getFontHeight(): Input font is not a string");if(t in v)return v[t];var n=this._canvas.getContext("2d"),i;if(n.font!==t){n.save();n.font=t;i=1.5*n.measureText("m").width;n.restore()}else i=1.5*n.measureText("m").width;b(t,i);return i},getTextWidth:function e(t,n){var i=this._canvas.getContext("2d"),r;i.save();i.font=n;r=void 0!==t?Math.ceil(i.measureText(t).width):0;i.restore();return r},getEMFontWidth:function e(t){var n="m",i,r=this._canvas.getContext("2d");r.save();r.font=t;i=r.measureText(n).width;r.restore();return i},getAverageLetterWidth:function e(t){var n="eeeaaaiinnoorsstldumcph",i;d.font=t||this._canvas.getContext("2d").font;i=d.measureText(n).width;return i/n.length},release:function e(){i(this._canvas).data("shapes",null);this.shapes=[];if(this._container){this._container.removeChild(this._canvas);this._container=null}},applyTransform:function e(){var t;for(t=0;t<this.shapes.length;t+=1)this.shapes[t].type in k&&k[this.shapes[t].type](this.shapes[t].shape,this.ratios)}});var k={rect:function e(t,n){t.x*=n.x;t.y*=n.y;t.width*=n.x;t.height*=n.y},line:function e(t,n){t.x1*=n.x;t.y1*=n.y;t.x2*=n.x;t.y2*=n.y},circle:function e(t,n){t.cx*=n.x;t.cy*=n.y;t.r*=Math.min(n.x,n.y)},polygon:function e(t,n){var i,r;for(i=0;i<t.points.length;i++){r=t.points[i];r.x*=n.x;r.y*=n.y}},text:function e(t,n){t.x*=n.x;t.y*=n.y;t.width*=n.x;t.height*=n.y}};s.getTextWidth=function(e){return Math.ceil(d.measureText(e).width)};s.setFont=function(e){d.font=e};s.getAverageLetterWidth=function(e){var t="eeeaaaiinnoorsstldumcph",n;d.font=e;n=d.measureText(t).width;return n/t.length};s.measureText=function(e,t){var n=d,i,r,o;if(t&&n.font!==t){n.save();n.font=t}r=n.measureText(e).width;if(t in v)i=v[t];else{i=1.5*n.measureText("m").width;b(t,i)}t&&n.restore();o=void 0!==e?{width:r,height:i}:{width:0,height:0};return o};s.measureTextObject=function(e){e.shape.font&&(d.font=e.shape.font);e.shape.align&&(d.textAlign=e.shape.align);e.shape.baseline&&(d.textBaseline=e.shape.baseline);return E(d,e.shape,true)};s.measureDisplayTextObject=function(e){e.font&&(d.font=e.font);e.align&&(d.textAlign=e.align);e.baseline&&(d.textBaseline=e.baseline);return E(d,e,true)};s.getFontHeight=function(e){var t=d,n;if(e in v)return v[e];if(e){t.save();t.font=e}n=1.5*t.measureText("m").width;b(e,n);e&&t.restore();return n};s.getDevicePixelToBackingStoreRatio=function(){return(window.devicePixelRatio||1)/(d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1)};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(238),n(89),n(130),n(125),n(90),n(195),n(185)],r=function(e,t,n,i,r,o,a){var s=1e3,l=1e3;var u;function c(e,t){if(!e)return[];return t&&r.getValue(e,t)?r.getValue(e,t).qHyperCube:e.qHyperCube}u=e.extend({init:function e(t){this._super(t);this.path=t.path},setProperties:function e(t){if(!t)return;this._super(t);this.hcProperties=this.path?r.getValue(t,(this.path?this.path+".":"")+"qHyperCubeDef"):t.qHyperCubeDef;if(!this.hcProperties)return;this.hcProperties.qDimensions||(this.hcProperties.qDimensions=[]);this.hcProperties.qMeasures||(this.hcProperties.qMeasures=[]);this.hcProperties.qInterColumnSortOrder||(this.hcProperties.qInterColumnSortOrder=[]);this.hcProperties.qLayoutExclude||(this.hcProperties.qLayoutExclude={});this.hcProperties.qLayoutExclude.qHyperCubeDef||(this.hcProperties.qLayoutExclude.qHyperCubeDef={});this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions||(this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions=[]);this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures||(this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures=[]);this.hcProperties.qDimensions.forEach(function(e){if(void 0!==e.autoSort){e.qDef.autoSort=e.autoSort;delete e.autoSort}});this.hcProperties.qMeasures.forEach(function(e){if(void 0!==e.autoSort){e.qDef.autoSort=e.autoSort;delete e.autoSort}})},canColorBy:function e(t,n){var i=t||{qHyperCubeDef:this.hcProperties||this.properties.qHyperCubeDef},r=this.layout?this.layout.visualization:null,a=i.qHyperCubeDef.qDimensions.length>=this.minDimensions()&&i.qHyperCubeDef.qMeasures.length>=this.minMeasures();if(o.colorBy.isSupported(r)||n)return a&&this.layout&&this.layout.color?u.canColorBy(i,r):{};return false},getDimensions:function e(){return this.hcProperties?this.hcProperties.qDimensions:[]},getMeasures:function e(){return this.hcProperties?this.hcProperties.qMeasures:[]},getLabels:function e(){return this.getMeasures().filter(function(e){return!e.qLibraryId&&!!e.qDef.qLabel}).map(function(e){return e.qDef.qLabel})},getSorting:function e(){return this.hcProperties.qInterColumnSortOrder},addDimension:function e(n,o,a){var l=this.getDimensions(),u=this;n.qDef.cId||(n.qDef.cId=r.generateId());n.qOtherTotalSpec||(n.qOtherTotalSpec={});if(o){a=void 0!==a?a:this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(a,0,n);return t.resolve(n)}if(l.length<this.maxDimensions()){a=void 0!==a?a:l.length;l.splice(a,0,n);return this.autoSortDimension(n).then(function(){i.indexAdded(u.hcProperties.qInterColumnSortOrder,"undefined"!==typeof a?a:l.length-1);if("function"===typeof u.dimensionDefinition.add)return t.when(u.dimensionDefinition.add.call(u,n,u.properties,u)).then(function(){return n});return n})}if(l.length<s){a=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(a,0,n);return t.resolve(n)}},reinsertDimension:function e(n,o,a){var l=this.getDimensions(),u=this;n.qDef.cId||(n.qDef.cId=r.generateId());if(o){a=void 0!==a?a:this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(a,0,n);if("function"===typeof u.dimensionDefinition.move)return t.when(u.dimensionDefinition.move.call(u,n,u.properties,u)).then(function(){return n})}else if(l.length<this.maxDimensions()){a=void 0!==a?a:l.length;l.splice(a,0,n);i.indexAdded(u.hcProperties.qInterColumnSortOrder,"undefined"!==typeof a?a:l.length-1);if("function"===typeof u.dimensionDefinition.move)return t.when(u.dimensionDefinition.move.call(u,n,u.properties,u)).then(function(){return n})}else if(l.length<s){a=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(a,0,n)}return t.resolve(n)},addMeasure:function e(n,o,a){var s=this.getMeasures(),u=this;n.qDef.cId||(n.qDef.cId=r.generateId());if(o){a=void 0!==a?a:this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(a,0,n);return t.resolve(n)}a=void 0!==a?a:s.length;if(s.length<this.maxMeasures()){s.splice(a,0,n);return this.autoSortMeasure(n).then(function(){i.indexAdded(u.hcProperties.qInterColumnSortOrder,u.getDimensions().length+s.length-1);if("function"===typeof u.measureDefinition.add)return t.when(u.measureDefinition.add.call(null,n,u.properties,u)).then(function(){return n});return n})}if(s.length<l){a=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(a,0,n);return t.resolve(n)}},getDimensionLayouts:function e(){var t=c(this.layout,this.path);return t?t.qDimensionInfo:[]},getDimensionLayout:function e(t){return this.getDimensionLayouts().filter(function(e){return t===e.cId})[0]},getMeasureLayouts:function e(){var t=c(this.layout,this.path);return t?t.qMeasureInfo:[]},getMeasureLayout:function e(t){return this.getMeasureLayouts().filter(function(e){return t===e.cId})[0]},reinsertMeasure:function e(n,o,a){var s=this.getMeasures(),u=this;n.qDef.cId||(n.qDef.cId=r.generateId());if(o){a=void 0!==a?a:this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(a,0,n)}else{a=void 0!==a?a:s.length;if(s.length<this.maxMeasures()){s.splice(a,0,n);i.indexAdded(u.hcProperties.qInterColumnSortOrder,u.getDimensions().length+s.length-1);if("function"===typeof u.measureDefinition.move)return t.when(u.measureDefinition.move.call(null,n,u.properties,u,true)).then(function(){return n})}else if(s.length<l){a=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(a,0,n)}}return t.resolve(n)},replaceDimension:function e(t,n){var i=this.getDimensions(),o=i[t],a=this;return this.autoSortDimension(n).then(function(){n.qDef.cId=r.generateId();i[t]=n;"function"===typeof a.dimensionDefinition.replace&&a.dimensionDefinition.replace.call(null,n,o,t,a.properties,a);return n})},replaceMeasure:function e(t,n){var i=this.getMeasures(),o=i[t],a=this;return this.autoSortMeasure(n).then(function(){n.qDef.cId=r.generateId();i[t]=n;"function"===typeof a.measureDefinition.replace&&a.measureDefinition.replace.call(null,n,o,t,a.properties,a);return n})},autoSortDimension:function e(t){var i=this;function r(e){e.forEach(function(e,n){var r=e.qTags;var o={qSortByLoadOrder:1};if("function"===typeof i.dimensionDefinition.autoSort)i.dimensionDefinition.autoSort(t,i.properties,r,o,i);else{o.qSortByNumeric=1;o.qSortByAscii=1}t.qDef.qSortCriterias?t.qDef.qSortCriterias[n]=o:t.qDef.qSortCriterias=[o]})}return t.qLibraryId?this.app.getDimensionList().then(function(e){var i=n.findLibraryDimension(t.qLibraryId,e);i&&r(i.qData.info);return t}):this.app.getFieldList().then(function(e){var i=n.findField(t.qDef.qFieldDefs[0],e);i&&r([i]);return t})},autoSortMeasure:function e(n){n.qSortBy={qSortByLoadOrder:1,qSortByNumeric:-1};return t.resolve(n)},removeDimension:function e(n,r){var o;if(r){o=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(n,1);if("function"===typeof this.dimensionDefinition.remove)return t.when(this.dimensionDefinition.remove.call(null,o,this.properties,this,n))}else{o=this.hcProperties.qDimensions.splice(n,1)[0];i.indexRemoved(this.hcProperties.qInterColumnSortOrder,n);if("function"===typeof this.dimensionDefinition.remove)return t.when(this.dimensionDefinition.remove.call(null,o,this.properties,this,n))}return t.resolve(o)},removeMeasure:function e(n,r){var o;if(r)o=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(n,1)[0];else{o=this.hcProperties.qMeasures.splice(n,1)[0];i.indexRemoved(this.hcProperties.qInterColumnSortOrder,this.getDimensions().length+n);if("function"===typeof this.measureDefinition.remove)return t.when(this.measureDefinition.remove.call(null,o,this.properties,this,n))}return t.resolve(o)},moveDimension:function e(n,r){var o=this.getDimensions(),a=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions,s,l,u;if(n<o.length&&r<o.length)i.move(o,n,r);else if(n<o.length&&r>=o.length){l=r-o.length;u=a.splice(0,1)[0];o.push(u);u=o.splice(n,1)[0];a.splice(l,0,u)}else if(n>=o.length&&r<o.length){s=n-o.length;u=o.splice(o.length-1,1)[0];a.splice(0,0,u);u=a.splice(s+1,1)[0];o.splice(r,0,u)}else{s=n-o.length;l=r-o.length;i.move(a,s,l)}return t.resolve(u)},moveMeasure:function e(n,r){var o=this.getMeasures(),a=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures,s,l,u;if(n<o.length&&r<o.length)i.move(o,n,r);else if(n<o.length&&r>=o.length){l=r-o.length;u=a.splice(0,1)[0];o.push(u);u=o.splice(n,1)[0];a.splice(l,0,u)}else if(n>=o.length&&r<o.length){s=n-o.length;u=o.splice(o.length-1,1)[0];a.splice(0,0,u);u=a.splice(s+1,1)[0];o.splice(r,0,u)}else{s=n-o.length;l=r-o.length;i.move(a,s,l)}return t.resolve(u)},changeSorting:function e(t,n){i.move(this.hcProperties.qInterColumnSortOrder,t,n)},setSorting:function e(t){t&&t.length===this.hcProperties.qInterColumnSortOrder.length&&(this.hcProperties.qInterColumnSortOrder=t)}});u.canColorBy=function(e,t){var n={primary:true};if(e){var i=a.getLogicFor("hard",t).helpers.colorModeOptions;n.byDimension=i.dimension(e);n.byMeasure=i.measure(e);n.byMultiple=i.multiColor(e);n.byExpression=i.expression(e)}return n};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(89),n(225),n(101)],r=function(e,t,n,i){function r(e){var t=i.getValue(e,"selections.currentDataColIx",void 0);return i.getValue(e,"layout.qHyperCube.qDimensionInfo."+t+".qIsOneAndOnlyOne",false)}var o=e.extend({$scope:null,init:function e(t){this.$scope=t},onPaint:function e(){return t.resolve()},onResize:function e(){return t.resolve()},setInteractionState:function e(){},setFreeResize:function e(){},setDirection:function e(){},setSnapshotData:function e(){},setBackendApi:function e(){},getContextMenu:function e(){},getObjectMenu:function e(){},getSelectionToolbar:function e(){var t=[];r(this.$scope)||t.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function e(){this.selectionsApi.clear()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}});return new n(this.$scope.backendApi,this.$scope.selectionsApi,false,false,t,[])},getPreferredSize:function e(){},onInit:function e(){return t.resolve()}});o.$inject=["$scope"];return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(102),n(90),n(99),n(179),n(243),n(355),n(773),n(774),n(244)],r=function(e,t,n,i,r,o,a){var s;s=e.extend({destroy:function e(){this.$timeout.cancel(this.initPromise);this.$timeout.cancel(this.setVirtualSizePromise);this.unpreventNativeScroll&&this.unpreventNativeScroll();this.domApi.destroy()},init:function e(r,o){t.create(this,"Scroll");this.$timeout=r;this.initPromise=null;this.setVirtualSizePromise=null;void 0!==o.virtualScrollEnabled?this.virtualScrollEnabled=o.virtualScrollEnabled:this.virtualScrollEnabled=i.treatAsDesktop();this.loaderStyle={width:0,height:0};this.totalRows=0;this.totalColumns=0;this.alignBottomAbsolute=false;this.axisDelta={xAxis:0,yAxis:0};this.alignToBottomReduce={active:false,activeFromStart:false};this.ignoreScroll=false;this.loadNext=false;this.loadPrevious=false;this.settings=n.extend(true,{alignToBottom:"absolute",minRowHeight:21,maxRowHeight:21,minColumnWidth:30,viewportRowCount:0,viewportColumnCount:0,width:0,height:0,blockSize:100,keepItemsCount:10},o)},initialize:function e(t,n,i,s){if(!(t instanceof r))throw new Error("Must provide an instance of domApi");if(!(n instanceof o))throw new Error("Must provide an instance of dataApi");if(!(i instanceof a[a.length-1]))throw new Error("Must provide an instance of ScrollAreaController");if(!s||"function"!==typeof s.fadeIn||"function"!==typeof s.fadeOut)throw new Error("Must provide valid loader api");if(this.initPromise)return this.initPromise;Object.defineProperty(this,"DELTA_MODE",{value:i.DELTA_MODE});this.domApi=t;this.dataApi=n;this.virtualScrollApi=i;this.loaderApi=s;this.initPromise=this.$timeout(function(){this.onInit();this.onInitVirtualScroll();this.bindNativeScroll()}.bind(this));return this.initPromise},onInit:function e(){this.updateViewport()},onInitVirtualScroll:function e(){this.virtualScrollApi.onScroll(this.onVirtualScroll.bind(this));this.virtualScrollApi.getScrollAmount=this.getVirtualScrollAmount.bind(this)},bindNativeScroll:function e(){this.domApi.bindNativeScroll(this.onNativeScroll.bind(this))},activate:function e(){this.virtualScrollEnabled&&this.virtualScrollApi.on();if(this.unpreventNativeScroll){this.unpreventNativeScroll();this.unpreventNativeScroll=null}},deactivate:function e(){this.unpreventNativeScroll=this.domApi.preventNativeScroll();this.virtualScrollApi.off()},updateViewport:function e(){var t=this.domApi.getBoundingBox();this.settings.width=t.width;this.settings.height=t.height;this.settings.viewportRowCount=Math.ceil(this.settings.height/this.settings.minRowHeight);this.settings.viewportColumnCount=Math.ceil(this.settings.width/this.settings.minColumnWidth)},setTotalRows:function e(t){this.totalRows=t},setTotalColumns:function e(t){this.totalColumns=t},getSpliceArgs:function e(){var t=this.dataApi.getRowCount(),n=this.settings.viewportRowCount,i=this.settings.keepItemsCount,r=t-n-i;return[0,r]},onSetVirtualSize:function e(t){var n,i=this.domApi.getScrollAreaBoundingBox(),r=this.domApi.getScrollContentBoundingBox(),o=this.virtualScrollApi.getVirtualPosition(),a=this.settings.minRowHeight*this.totalRows,s,l,u;if("reduce"===this.settings.alignToBottom){this.alignToBottomReduce.active=false;this.alignToBottomReduce.activeFromStart=false;if(r.height>=i.height&&this.settings.viewportRowCount>=this.totalRows){n=this.domApi.getVisibleRowCount(this.settings.maxRowHeight);if(n<this.settings.viewportRowCount){this.alignToBottomReduce.active=true;this.alignToBottomReduce.activeFromStart=true;this.settings.viewportRowCount=n}}l={width:i.width,height:this.settings.viewportRowCount*this.settings.minRowHeight}}else l={width:i.width,height:i.height};s={width:this.settings.minColumnWidth*this.totalColumns,height:a};u={top:0,left:0,width:i.width,height:i.height};this.virtualScrollApi.setVirtualSize(s,l,u);t&&this.virtualScrollApi.scroll(o.vPosX,o.vPosY,true)},setVirtualSize:function e(t){if(!this.virtualScrollEnabled)return;this.setVirtualSizePromise=this.$timeout(function(){this.updateViewport();this.onSetVirtualSize(t);this.updateAlignToBottom()}.bind(this));return this.setVirtualSizePromise},getVirtualScrollAmount:function e(t,n,i){var r=this.virtualScrollApi.getVirtualPosition(),o=this.virtualScrollApi.getMaxPosition();switch(i){case this.DELTA_MODE.LINE:return{deltaX:0,deltaY:this.settings.minRowHeight*n};case this.DELTA_MODE.PAGE:var a=Math.max(0,this.domApi.getVisibleRowCount()-1);return{deltaX:0,deltaY:a*this.settings.minRowHeight*n};case this.DELTA_MODE.AREA:return{deltaX:0,deltaY:n>0?r.vPosY*n:r.vPosY-o.vPosY};default:return{deltaX:t,deltaY:n}}},getPage:function e(t){t||(t=this.virtualScrollApi.getVirtualPosition());return{left:Math.floor(t.vPosX/this.settings.minColumnWidth),top:Math.floor(t.vPosY/this.settings.minRowHeight),width:this.settings.viewportColumnCount,height:this.settings.viewportRowCount}},adjustPageToBounds:function e(t){if(t.top>0&&t.top+t.height>this.totalRows){t.top=Math.max(0,this.totalRows-t.height);t.height=Math.min(this.totalRows,t.height)}if(t.left>0&&t.left+t.width>this.totalColumns){t.left=Math.max(0,this.totalColumns-t.width);t.width=Math.min(this.totalColumns,t.width)}},scroll:function e(t,n,i){var r=this.virtualScrollApi.getScrollAmount(t,n,i);this.virtualScrollApi.scroll(r.deltaX,r.deltaY,false,false)},onVirtualScroll:function e(t,n){this.Scroll.emit();var i=this.virtualScrollApi.getVirtualPosition(),r=this.virtualScrollApi.getMaxPosition(),o=this.getPage(i);if(this.alignToBottomReduce.active&&n<0){this.graduallyLeaveAlignToBottomReduce(o);r=this.virtualScrollApi.getMaxPosition()}"reduce"===this.settings.alignToBottom&&r.vPosY>0&&i.vPosY===r.vPosY&&(this.alignToBottomReduce.active=true);this.adjustPageToBounds(o);this.axisDelta.xAxis=t;this.axisDelta.yAxis=n;return this.dataApi.onVirtualScroll(o.top,o.height,o.left,o.width,t,n).then(function(){this.updateAlignToBottom()}.bind(this)).catch(function(e){false})},updateAlignToBottom:function e(){"reduce"===this.settings.alignToBottom?this.updateAlignToBottomReduce():this.updateAlignToBottomAbsolute()},updateAlignToBottomAbsolute:function e(){var t=this.virtualScrollApi.getVirtualPosition(),n=this.virtualScrollApi.getMaxPosition();this.virtualScrollApi.isVerticalScrollEnabled()&&t.vPosY===n.vPosY?this.alignBottomAbsolute=true:this.alignBottomAbsolute=false},updateAlignToBottomReduce:function e(){var t=false;if(this.alignToBottomReduce.active){if(this.axisDelta.yAxis>0){var n=this.domApi.getVisibleRowCount(this.settings.maxRowHeight);this.settings.viewportRowCount=Math.max(1,n)}else{var i=Math.ceil(this.domApi.getScrollAreaClientHeight()/this.settings.minRowHeight);this.settings.viewportRowCount>=i&&(this.alignToBottomReduce.active=false);t=true}var r=this.domApi.getScrollAreaBoundingBox();this.virtualScrollApi.setViewport({top:0,left:0,width:r.width,height:r.height});this.virtualScrollApi.setVirtualViewport({width:r.width,height:this.settings.viewportRowCount*this.settings.minRowHeight});t&&this.virtualScrollApi.setVirtualScrollPos(0,-1)}},graduallyLeaveAlignToBottomReduce:function e(t){var n=Math.ceil(this.domApi.getScrollAreaClientHeight()/this.settings.minRowHeight);if(this.alignToBottomReduce.activeFromStart)return;t.height=Math.min(this.totalRows-t.top,n);this.settings.viewportRowCount=t.height},updateLoadingButtons:function e(){var t=this.dataApi.getFirstElementIndex(),n=this.dataApi.getRowCount();t+n>=this.totalRows||0===this.totalRows||t<0?this.loadNext=false:this.loadNext=true;this.loadPrevious=t>0},resetNativeScroll:function e(){this.ignoreScroll=true;this.loadNext=false;this.loadPrevious=false;this.domApi.resetNativeScroll();return function(){this.ignoreScroll=false}.bind(this)},onNativeScroll:function e(){if(this.virtualScrollEnabled){this.domApi.resetNativeScroll();return}this.Scroll.emit();if(this.ignoreScroll)return;var t=this.dataApi.getLastElementIndex()+1,n=this.settings.blockSize-t;this.ignoreScroll=true;this.dataApi.onInitialNativeScroll(t,n).then(function(){this.updateLoadingButtons()}.bind(this))},gotoNextBlock:function e(){var t="function"===typeof this.domApi.getHorizontalScroll?this.domApi.getHorizontalScroll():0;this.loaderApi.fadeIn(this.domApi.getScrollAreaOffsetTop(),t,this.domApi.getBoundingBox()).then(function(){var e=this.domApi.alignToLastRow(),t=this.dataApi.getLastElementIndex()+1,n=this.settings.blockSize-this.settings.keepItemsCount;this.dataApi.onGotoNextBlock(t,n).then(function(){this.updateLoadingButtons();this.$timeout(function(){e();this.$timeout(function(){this.loaderApi.fadeOut()}.bind(this))}.bind(this))}.bind(this))}.bind(this))},gotoPreviousBlock:function e(){var t="function"===typeof this.domApi.getHorizontalScroll?this.domApi.getHorizontalScroll():0;this.loaderApi.fadeIn(this.domApi.getScrollAreaOffsetTop(),t,this.domApi.getBoundingBox()).then(function(){var e=this.domApi.alignToFirstRow(),t=this.settings.blockSize-this.settings.keepItemsCount,n=this.dataApi.getFirstElementIndex()-t;if(n<0){t+=n;n=0}this.dataApi.onGotoPreviousBlock(n,t).then(function(){this.updateLoadingButtons();this.$timeout(function(){e();this.$timeout(function(){this.loaderApi.fadeOut()}.bind(this))}.bind(this))}.bind(this))}.bind(this))}});return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(90),n(249),n(303)],r=function(e,t,n,i){var r=e.extend("SortableItemList",{init:function e(t,n){this.items=[];this.disabled=false;this.typeFlag=t||1;this.locked=false;Object.keys(n||{}).forEach(function(e){this[e]=n[e]},this)},addSortableItem:function e(t,n){Object.defineProperty(t,"__sortableItem__",{configurable:false,enumerable:true,writable:true,value:{typeFlag:n||1}});this.items.push(t)},moveItem:function e(t,n){this.items.splice(n,0,this.items.splice(t,1)[0])},getIndexByItem:function e(t){return this.items.indexOf(t)},get:function e(t){return this.items.filter(t||function(){return true})},getLockedIndices:function e(){return this.get(function(e){return!!(e.__sortableItem__.typeFlag&i.TYPEFLAG_LOCKED)}).map(function(e){return this.getIndexByItem(e)},this)},reset:function e(){this.items.length=0;this.disabled=false},isEmpty:function e(){return 0===this.items.length},setLocked:function e(t){this.locked=t}});Object.defineProperties(r.prototype,{length:{get:function e(){return this.items.length}}});var o=n.extend("SortableItemLists",{init:function e(){this._super.apply(this,arguments);this.lists=[];this.dragPlaceholder=null},addPlaceholder:function e(n){var r=this.getList(n),o=r?r.items.indexOf(n):-1;this.dragPlaceholder=t.extend(true,{},n);this.dragPlaceholder.id="placeholder";this.dragPlaceholder.__sortableItem__.typeFlag=i.TYPEFLAG_PLACEHOLDER;this.dragPlaceholder.style={opacity:"0.3"};r&&r.items.splice(o,0,this.dragPlaceholder);return this.dragPlaceholder},removePlaceholder:function e(){if(!this.dragPlaceholder)return;var t=this.getList(this.dragPlaceholder),n=t?t.items.indexOf(this.dragPlaceholder):-1;if(-1!==n){t.items.splice(n,1);this.dragPlaceholder=null}},getPlaceholder:function e(){return this.dragPlaceholder},createList:function e(t,n){var i=new r(t,n);this.lists.push(i);return i},reset:function e(){this.lists.forEach(function(e){e.reset()})},getList:function e(t){return this.lists.filter(function(e){return-1!==e.items.indexOf(t)})[0]},disable:function e(t){this.lists.forEach(function(e){e.disabled=!(t.__sortableItem__.typeFlag&e.typeFlag)})},enable:function e(){this.lists.forEach(function(e){e.disabled=false})},getIndexOfItem:function e(t){var n=this.getList(t);var i=n?n.items.indexOf(t):-1;return i},moveItem:function e(t,n){var i=this.getList(t),r=this.getList(n),o,a;if(!i||!r)return;a=r.items.indexOf(n);o=i.items.indexOf(t);i.items.splice(o,1);r.items.splice(a,0,t)},onBegin:function e(t,n){this.addPlaceholder(t,n);this.disable(t)},onEnter:function e(t,n){var r=this.getList(t),o=r.getLockedIndices();if(t===this.dragPlaceholder)return;if(n===i.ENTER_BEFORE||n===i.ENTER_AFTER){var a=this.getList(this.dragPlaceholder),s,l;if(!a||!r)return;s=a.getIndexByItem(this.dragPlaceholder);a.items.splice(s,1);l=r.getIndexByItem(t);l+=n===i.ENTER_AFTER?1:0;r.items.splice(l,0,this.dragPlaceholder)}else this.moveItem(this.dragPlaceholder,t);var u=r.getLockedIndices();o.forEach(function(e,t){r.moveItem(u[t],e)})},onEnterList:function e(t){if(t.disabled||t.locked)return;var n=this.getList(this.dragPlaceholder);if(!n)return;var i=n.getIndexByItem(this.dragPlaceholder);n.items.splice(i,1);t.items.push(this.dragPlaceholder)},onMove:function e(t){if(-1===this.getIndexOfItem(t)){this.onCancel();return false}var n=this.dragPlaceholder;this.moveItem(t,n);this.removePlaceholder();this.enable();return true},onMoveToList:function e(t,n){var i=this.getList(t);if(i&&!(n.disabled||n.locked)){var r=i.items.indexOf(t);if(i===n){this.onMove(t,this.dragPlaceholder);return true}i.items.splice(r,1);n.items.push(t)}this.removePlaceholder();this.enable();return!!i},onCancel:function e(){this.removePlaceholder();this.enable()},allowEnter:function e(t,n){var i=this.getList(t);return void 0!==i&&!i.disabled&&!i.locked&&!!(n.__sortableItem__.typeFlag&i.typeFlag)},allowEnterList:function e(t,n){return!t.disabled&&!t.locked&&!!(n.__sortableItem__.typeFlag&t.typeFlag)}});o.create=function(e){var t=o.extend(e||{});e=new t(e&&e.options);return e};return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";(function(i){var r,o;function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}!(r=[n(517)],o=function(e){var t,n,i,r,o,s,l,u,c,d,f,p,h,v,m,g,b,y,x,w,S,C,E,q,_,T;t={};n={js:[",",".","_"," "]};i={default:[",",".","-","_"," "]};r={width:["%"],height:["%"]};o={default:["-"," ","%"],color:["#"," ","(",")"],image:["(",")",":","/","?","&","-",".",'"',"="," "]};s={background:["(",")",":","%","/","?","&","-"," ",".",'"',"=","#"],"background-image":o.image,"background-color":o.color,"border-color":o.color,"border-image":o.image,color:o.color,icon:o.image,"list-style-image":o.image,"outline-color":o.color};l={attr_name:["on[a-z]{1,}","style","href","src"],attr_val:["javascript:"],css_key:["behavior","-moz-behavior","-ms-behavior"],css_val:["expression"]};u={blacklist:true,RFC3986:true,LOG:false};t.encoder={encodeForHTML:function e(t){if("undefined"===typeof t||null===t)return"";var n="",i=document.createTextNode(t);T.appendChild(i);n=T.innerHTML;T.removeChild(i);return n},encodeForAttr:function e(n,o,a){var s,u,c,d,f,p,h,v,m;n=t.encoder.canonicalize(n).toLowerCase();o=t.encoder.canonicalize(o);if(q(n,l.attr_name)>=0)throw new Error("Unsafe attribute name used: "+n);for(c=0;c<l.attr_val;c++)if(o.toLowerCase().match(l.attr_val[c]))throw new Error("Unsafe attribute value used: "+o);s=r[n];s||(s=i.default);u="";if(!a){for(d=0;d<n.length;d++){f=n.charAt(d);if(!f.match(/[a-zA-Z\-0-9]/))throw new Error("Invalid attribute name specified");u+=f}u+='="'}for(p=0;p<o.length;p++){h=o.charAt(p);v=o.charCodeAt(p);if(!h.match(/[a-zA-Z0-9]/)&&q(h,s)<0){m=v.toString(16);u+="&#x"+m+";"}else u+=h}a||(u+='"');return u},encodeForAttr2:function e(n){return t.encoder.encodeForAttr("nonsens",n,true)},encodeForCSS:function e(n,i,r){var a,u,c,d,f,p,h,v,m,g;n=t.encoder.canonicalize(n).toLowerCase();i=t.encoder.canonicalize(i);if(q(n,l.css_key)>=0)throw new Error("Unsafe property name used: "+n);for(a=0;a<l.css_val.length;a++)if(i.toLowerCase().indexOf(l.css_val[a])>=0)throw new Error("Unsafe property value used: "+i);u=s[n];u||(u=o.default);c="";if(!r){for(d=0;d<n.length;d++){f=n.charAt(d);if(!f.match(/[a-zA-Z-]/))throw new Error("Invalid Property Name specified");c+=f}c+=": "}for(p=0;p<i.length;p++){h=i.charAt(p);v=i.charCodeAt(p);if(!h.match(/[a-zA-Z0-9]/)&&q(h,u)<0){m=v.toString(16);g="000000".substr(m.length);c+="\\"+g+m}else c+=h}return c},encodeForURL:function e(n,i){var r="";if(i){i.match(/^[A-Za-z\-0-9]{1,}$/)?r+=t.encoder.canonicalize(i).toLowerCase():h(this,"Illegal Attribute Name Specified");r+='="'}u.RFC3986?r+=encodeURIComponent(n).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A"):r+=encodeURIComponent(n);r+=i?'"':"";return r},encodeForHref:function n(i){t.encoder.canonicalize(i);0!==i.search("[a-zA-Z0-9]+:")&&(i="http://"+i);var r=new e(i);var o=e.encodeAuthorityAndPath(decodeURI(r.authorityAndPath));var a=r.searchParams;var s=e.encodeSearchParams(a);i=o+s+r.hash;if(-1!==i.indexOf("javascript:"))throw new Error("Attack Detected - Javascript in input");return i},encodeForJS:function e(t,i){var r,o,a,s,l,u;i||(i=n.js);u="";for(r=0;r<t.length;r++){a=t.charAt(r);s=t.charCodeAt(r);if(q(a,i)>=0||null==d[s]){u+=a;continue}o=s.toString(16);if(s<256){l="00".substr(o.length);u+="\\x"+l+o.toUpperCase()}else{l="0000".substr(o.length);u+="\\u"+l+o.toUpperCase()}}return u},canonicalize:function e(t,n){var i,r,o,a,s,l,u=false;if(null===t)return null;i=t;r=t;o=0;a=[new b,new y,new x];while(!u){r=i;for(s=0;s<a.length;s++){l=a[s].decode(i);if(l!==i){o++;i=l}}if(r===i){u=true;continue}}o>1&&v(this,"Attack Detected - Multiple/Double Encodings used in input");if(n&&o>1)throw new Error("Attack Detected - Multiple/Double Encodings used in input");return i}};d=[];for(f=0;f<255;f++)d[f]=f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122?null:f.toString(16);c={html:function e(n){return t.encoder.encodeForHTML(n.unsafe)},css:function e(n){var i,r=[],o=[],a={},s="";n.map?r=n.map:r[n.name]=n.unsafe;for(i in r)if("function"!==typeof r[i]&&r.hasOwnProperty(i)){o[i]=t.encoder.encodeForCSS(i,r[i],true);s+=t.encoder.encodeForCSS(i,r[i],true);a[i]=o[i]}return n.map?a:s},attr:function e(n){var i,r,o=[],a=[],s={},l="";n.map?o=n.map:o[n.name]=n.unsafe;for(i in o)if("function"!==typeof o[i]&&o.hasOwnProperty(i)){a[i]=t.encoder.encodeForAttr(i,o[i],true);l+=t.encoder.encodeForAttr(i,o[i],true);s[i]=a[i]}r=n.map?s:l;return r}};t.encoder.encode=function(){var e=arguments.length,t={context:"html",unsafe:null,name:null,map:null,setter:null,strict:true};if(1===e&&"object"===a(arguments[0]))_(t,arguments[0]);else{t.context=arguments[0];if(2===arguments.length)"html"===t.context?t.unsafe=arguments[1]:"attr"!==t.context&&"css"!==t.context||(t.map=arguments[1]);else{t.name=arguments[2];t.unsafe=arguments[1]}}if("html"===t.context)return c.html(t);if("css"===t.context){null!=t.map&&"object"!==a(t.map)&&h(this,"Invalid parameter type");return c.css(t)}if("attr"===t.context){null!=t.map&&"object"!==a(t.map)&&h(this,"Invalid parameter type");return c.attr(t)}h(this,"Invalid parameter type")};h=function e(t,n){v(t,n);throw new Error(n)};v=function e(t,n){u.LOG&&window.console&&window.console.log&&window.console.log(t,n)};p=function(){var e=false,t;t=function e(){};t.extend=function(n){var i,r;e=true;i=new this;e=false;for(r in n)i[r]=n[r];function o(){!e&&this.init&&this.init.apply(this,arguments)}o.prototype=i;o.constructor=o;o.extend=t.extend;return o};return t}();m=p.extend({_input:null,_pushback:null,_temp:null,_index:0,_mark:0,_hasNext:function e(){if(null==this._input)return false;if(0===this._input.length)return false;return this._index<this._input.length},init:function e(t){this._input=t},pushback:function e(t){this._pushback=t},index:function e(){return this._index},hasNext:function e(){if(null!=this._pushback)return true;return this._hasNext()},next:function e(){if(null!=this._pushback){var t=this._pushback;this._pushback=null;return t}return this._hasNext()?this._input.charAt(this._index++):null},nextHex:function e(){var t=this.next();if(null==t)return null;if(t.match(/[0-9A-Fa-f]/))return t;return null},peek:function e(t){if(t){if(this._pushback&&this._pushback===t)return true;return!!this._hasNext()&&this._input.charAt(this._index)===t}if(this._pushback)return this._pushback;return this._hasNext()?this._input.charAt(this._index):null},mark:function e(){this._temp=this._pushback;this._mark=this._index},reset:function e(){this._pushback=this._temp;this._index=this._mark},remainder:function e(){var t=this._input.substr(this._index);null!=this._pushback&&(t=this._pushback+t);return t}});g=p.extend({decode:function e(t){var n="",i=new m(t),r;while(i.hasNext()){r=this.decodeCharacter(i);n+=null!=r?r:i.next()}return n},decodeCharacter:function e(t){return t.next()}});b=g.extend({decodeCharacter:function e(t){var n,i,r;t.mark();n=t.next();if(null==n||"&"!==n){t.reset();return null}i=t.next();if(null==i){t.reset();return null}if("#"===i){r=this._getNumericEntity(t);if(null!=r)return r}else if(i.match(/[A-Za-z]/)){t.pushback(i);r=this._getNamedEntity(t);if(null!=r)return r}t.reset();return null},_getNamedEntity:function e(t){var n="",i,r,o,a;r=Math.min(t.remainder().length,D.getMaxKeyLength());for(a=0;a<r;a++)n+=t.next().toLowerCase();i=D.getLongestMatch(n);if(null==i)return null;t.reset();t.next();r=i.getKey().length;for(o=0;o<r;o++)t.next();t.peek(";")&&t.next();return i.getValue()},_getNumericEntity:function e(t){var n=t.peek();if(null==n)return null;if("x"===n||"X"===n){t.next();return this._parseHex(t)}return this._parseNumber(t)},_parseHex:function e(t){var n="",i,r;while(t.hasNext()){i=t.peek();if(Number.isNaN(+parseInt(i,16))){if(";"===i){t.next();break}break}n+=i;t.next()}r=parseInt(n,16);if(!Number.isNaN(+r)&&S(r))return String.fromCharCode(r);return null},_parseNumber:function e(t){var n="",i,r;while(t.hasNext()){i=t.peek();if(Number.isNaN(+parseInt(i,10))){if(";"===i){t.next();break}break}n+=i;t.next()}r=parseInt(n,10);if(!Number.isNaN(+r)&&S(r))return String.fromCharCode(r);return null}});y=g.extend({decodeCharacter:function e(t){t.mark();var n=t.next(),i,r,o,a;if(null==n){t.reset();return null}if("%"!==n){t.reset();return null}i="";for(r=0;r<2;r++){o=t.nextHex();null!=o&&(i+=o)}if(2===i.length){a=parseInt(i,16);if(S(a))return String.fromCharCode(a)}t.reset();return null}});x=g.extend({decodeCharacter:function e(t){t.mark();var n=t.next(),i,r,o,a,s;if(null==n||"\\"!==n){t.reset();return null}i=t.next();if(null==i){t.reset();return null}switch(i){case"\r":t.peek("\n")&&t.next();case"\n":case"\f":case"\0":return this.decodeCharacter(t)}if("NaN"===parseInt(i,16))return i;r=i;for(o=0;o<5;o++){a=t.next();if(null==a||C(a))break;if("NaN"===parseInt(a,16)){t.pushback(a);break}r+=a}s=parseInt(r,16);if(S(s))return String.fromCharCode(s);return"ï¿½"}});w=p.extend({root:null,maxKeyLen:0,size:0,init:function e(){this.clear()},getLongestMatch:function e(t){return null==this.root&&null==t?null:this.root.getLongestMatch(t,0)},getMaxKeyLength:function e(){return this.maxKeyLen},clear:function e(){this.root=null;this.maxKeyLen=0;this.size=0},put:function e(t,n){var i,r;null==this.root&&(this.root=new w.Node);if(null!=(i=this.root.put(t,0,n)))return i;r=t.length;r>this.maxKeyLen&&(this.maxKeyLen=t.length);this.size++;return null}});w.Entry=p.extend({_key:null,_value:null,init:function e(t,n){this._key=t;this._value=n},getKey:function e(){return this._key},getValue:function e(){return this._value},equals:function e(t){if(!(t instanceof w.Entry))return false;return this._key===t._key&&this._value===t._value}});w.Node=p.extend({_value:null,_nextMap:null,setValue:function e(t){this._value=t},getNextNode:function e(t){if(!this._nextMap)return null;return this._nextMap[t]},put:function e(t,n,i){var r,o,a;if(t.length===n){a=this._value;this.setValue(i);return a}o=t.charAt(n);if(null==this._nextMap){this._nextMap=w.Node.newNodeMap();r=new w.Node;this._nextMap[o]=r}else if(null==(r=this._nextMap[o])){r=new w.Node;this._nextMap[o]=r}return r.put(t,n+1,i)},get:function e(t,n){var i;if(t.length<=n)return this._value;if(null==(i=this.getNextNode(t.charAt(n))))return null;return i.get(t,n+1)},getLongestMatch:function e(t,n){var i,r;if(t.length<=n)return w.Entry.newInstanceIfNeeded(t,this._value);if(null==(i=this.getNextNode(t.charAt(n))))return w.Entry.newInstanceIfNeeded(t,n,this._value);if(null!=(r=i.getLongestMatch(t,n+1)))return r;return w.Entry.newInstanceIfNeeded(t,n,this._value)}});w.Entry.newInstanceIfNeeded=function(){var e=arguments[0],t,n;if("string"===typeof arguments[1]){t=arguments[1];n=e.length}else{n=arguments[1];t=arguments[2]}if(null==t||null==e)return null;e.length>n&&(e=e.substr(0,n));return new w.Entry(e,t)};w.Node.newNodeMap=function(){return{}};S=function e(t){return t>=0&&t<=1114111};C=function e(t){return t.match(/[\s]/)};var k=[],O=[],D=new w;(function(){k["&quot"]="34";k["&amp"]="38";k["&lt"]="60";k["&gt"]="62";k["&nbsp"]="160";k["&iexcl"]="161";k["&cent"]="162";k["&pound"]="163";k["&curren"]="164";k["&yen"]="165";k["&brvbar"]="166";k["&sect"]="167";k["&uml"]="168";k["&copy"]="169";k["&ordf"]="170";k["&laquo"]="171";k["&not"]="172";k["&shy"]="173";k["&reg"]="174";k["&macr"]="175";k["&deg"]="176";k["&plusmn"]="177";k["&sup2"]="178";k["&sup3"]="179";k["&acute"]="180";k["&micro"]="181";k["&para"]="182";k["&middot"]="183";k["&cedil"]="184";k["&sup1"]="185";k["&ordm"]="186";k["&raquo"]="187";k["&frac14"]="188";k["&frac12"]="189";k["&frac34"]="190";k["&iquest"]="191";k["&Agrave"]="192";k["&Aacute"]="193";k["&Acirc"]="194";k["&Atilde"]="195";k["&Auml"]="196";k["&Aring"]="197";k["&AElig"]="198";k["&Ccedil"]="199";k["&Egrave"]="200";k["&Eacute"]="201";k["&Ecirc"]="202";k["&Euml"]="203";k["&Igrave"]="204";k["&Iacute"]="205";k["&Icirc"]="206";k["&Iuml"]="207";k["&ETH"]="208";k["&Ntilde"]="209";k["&Ograve"]="210";k["&Oacute"]="211";k["&Ocirc"]="212";k["&Otilde"]="213";k["&Ouml"]="214";k["&times"]="215";k["&Oslash"]="216";k["&Ugrave"]="217";k["&Uacute"]="218";k["&Ucirc"]="219";k["&Uuml"]="220";k["&Yacute"]="221";k["&THORN"]="222";k["&szlig"]="223";k["&agrave"]="224";k["&aacute"]="225";k["&acirc"]="226";k["&atilde"]="227";k["&auml"]="228";k["&aring"]="229";k["&aelig"]="230";k["&ccedil"]="231";k["&egrave"]="232";k["&eacute"]="233";k["&ecirc"]="234";k["&euml"]="235";k["&igrave"]="236";k["&iacute"]="237";k["&icirc"]="238";k["&iuml"]="239";k["&eth"]="240";k["&ntilde"]="241";k["&ograve"]="242";k["&oacute"]="243";k["&ocirc"]="244";k["&otilde"]="245";k["&ouml"]="246";k["&divide"]="247";k["&oslash"]="248";k["&ugrave"]="249";k["&uacute"]="250";k["&ucirc"]="251";k["&uuml"]="252";k["&yacute"]="253";k["&thorn"]="254";k["&yuml"]="255";k["&OElig"]="338";k["&oelig"]="339";k["&Scaron"]="352";k["&scaron"]="353";k["&Yuml"]="376";k["&fnof"]="402";k["&circ"]="710";k["&tilde"]="732";k["&Alpha"]="913";k["&Beta"]="914";k["&Gamma"]="915";k["&Delta"]="916";k["&Epsilon"]="917";k["&Zeta"]="918";k["&Eta"]="919";k["&Theta"]="920";k["&Iota"]="921";k["&Kappa"]="922";k["&Lambda"]="923";k["&Mu"]="924";k["&Nu"]="925";k["&Xi"]="926";k["&Omicron"]="927";k["&Pi"]="928";k["&Rho"]="929";k["&Sigma"]="931";k["&Tau"]="932";k["&Upsilon"]="933";k["&Phi"]="934";k["&Chi"]="935";k["&Psi"]="936";k["&Omega"]="937";k["&alpha"]="945";k["&beta"]="946";k["&gamma"]="947";k["&delta"]="948";k["&epsilon"]="949";k["&zeta"]="950";k["&eta"]="951";k["&theta"]="952";k["&iota"]="953";k["&kappa"]="954";k["&lambda"]="955";k["&mu"]="956";k["&nu"]="957";k["&xi"]="958";k["&omicron"]="959";k["&pi"]="960";k["&rho"]="961";k["&sigmaf"]="962";k["&sigma"]="963";k["&tau"]="964";k["&upsilon"]="965";k["&phi"]="966";k["&chi"]="967";k["&psi"]="968";k["&omega"]="969";k["&thetasym"]="977";k["&upsih"]="978";k["&piv"]="982";k["&ensp"]="8194";k["&emsp"]="8195";k["&thinsp"]="8201";k["&zwnj"]="8204";k["&zwj"]="8205";k["&lrm"]="8206";k["&rlm"]="8207";k["&ndash"]="8211";k["&mdash"]="8212";k["&lsquo"]="8216";k["&rsquo"]="8217";k["&sbquo"]="8218";k["&ldquo"]="8220";k["&rdquo"]="8221";k["&bdquo"]="8222";k["&dagger"]="8224";k["&Dagger"]="8225";k["&bull"]="8226";k["&hellip"]="8230";k["&permil"]="8240";k["&prime"]="8242";k["&Prime"]="8243";k["&lsaquo"]="8249";k["&rsaquo"]="8250";k["&oline"]="8254";k["&frasl"]="8260";k["&euro"]="8364";k["&image"]="8365";k["&weierp"]="8472";k["&real"]="8476";k["&trade"]="8482";k["&alefsym"]="8501";k["&larr"]="8592";k["&uarr"]="8593";k["&rarr"]="8594";k["&darr"]="8595";k["&harr"]="8596";k["&crarr"]="8629";k["&lArr"]="8656";k["&uArr"]="8657";k["&rArr"]="8658";k["&dArr"]="8659";k["&hArr"]="8660";k["&forall"]="8704";k["&part"]="8706";k["&exist"]="8707";k["&empty"]="8709";k["&nabla"]="8711";k["&isin"]="8712";k["&notin"]="8713";k["&ni"]="8715";k["&prod"]="8719";k["&sum"]="8721";k["&minus"]="8722";k["&lowast"]="8727";k["&radic"]="8730";k["&prop"]="8733";k["&infin"]="8734";k["&ang"]="8736";k["&and"]="8743";k["&or"]="8744";k["&cap"]="8745";k["&cup"]="8746";k["&int"]="8747";k["&there4"]="8756";k["&sim"]="8764";k["&cong"]="8773";k["&asymp"]="8776";k["&ne"]="8800";k["&equiv"]="8801";k["&le"]="8804";k["&ge"]="8805";k["&sub"]="8834";k["&sup"]="8835";k["&nsub"]="8836";k["&sube"]="8838";k["&supe"]="8839";k["&oplus"]="8853";k["&otimes"]="8855";k["&perp"]="8869";k["&sdot"]="8901";k["&lceil"]="8968";k["&rceil"]="8969";k["&lfloor"]="8970";k["&rfloor"]="8971";k["&lang"]="9001";k["&rang"]="9002";k["&loz"]="9674";k["&spades"]="9824";k["&clubs"]="9827";k["&hearts"]="9829";k["&diams"]="9830";var e,t,n;for(e in k)"function"!==typeof k[e]&&k.hasOwnProperty(e)&&(O[k[e]]=e);for(t in O)if("function"!==typeof O[t]&&O.hasOwnProperty(t)){n=O[t].toLowerCase().substr(1);D.put(n,String.fromCharCode(t))}})();E=Array.prototype.indexOf;q=function e(t,n,i){var r;if(n){if(E)return E.call(n,t,i);r=n.length;i=i?i<0?Math.max(0,r+i):i:0;for(;i<r;i++)if(i in n&&n[i]===t)return i}return-1};_=function e(){var t,n,i,r=arguments[0]||{},o=1,a=arguments.length;for(;o<a;o++)if(null!=(t=arguments[o]))for(n in t)if(t.hasOwnProperty(n)){i=t[n];if(r===i)continue;void 0!==i&&(r[n]=i)}return r};"undefined"!==typeof document&&(T=document.createElement("div"));return t.encoder}.apply(t,r),void 0!==o&&(e.exports=o))}).call(this,n(11))},function(e,t,n){"use strict";var i,r;!(i=[n(119),n(718)],r=function(e,t){var n=30;e.directive("qvTagcloud",["$parse",function(e){return{template:t,replace:true,restrict:"E",scope:{tags:"=",onChange:"&"},link:function t(i,r,o){i.tagInput="";var a=r.find(".qv-tagText");a.bind("blur",function(){i.$apply(function(){i.addTags()})});a.bind("keydown",function(e){if(13===e.which){e.stopPropagation();i.$apply(function(){i.addTags()})}});function s(e){var t=i.tags;e=e.trim();if(!e||-1!==t.indexOf(e)||t.length>=n)return;t.push(e)}i.removeTagAt=function(e){i.tags.splice(e,1);i.onChange()};i.addTags=function(){var e=i.tagInput;if(!e)return;i.tagInput="";var t=e.trim().split(",");t.forEach(s);i.tags.sort(function(e,t){return e.localeCompare(t)});i.onChange()};i.addTagsAndFocus=function(e){e.preventDefault();i.addTags();a.focus()};var l=e(o.update);l.assign&&l.assign(i.$parent,i.addTags)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(48),n(193)],r=function(e,t){var n={list:[]},i=null;n.getList=function(){var n=this;function r(e){t.getService("$contentApi").getExtensions().then(function(t){n.list=[];for(var i in t)t.hasOwnProperty(i)&&n.list.push({id:i,data:t[i]});e.resolve(n.list)},function(){n.list=[];e.resolve(n.list)});return e.promise}if(null===i){i=new e;return r(i)}return i.promise};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(48),n(93),n(716),n(191),n(107),n(90),n(150)],r=function(e,t,n,i,r,a,s){e.directive("qvDescriptionTextarea",function(){return{restrict:"E",scope:{description:"=",descriptionExpression:"=",disableExpression:"=?",isValid:"=?"},template:n,link:function e(n){t.getApp().then(function(e){var t;n.onBlur=u;n.openExpressionDialog=c;n.enableDescriptionExpression=!n.disableExpression;void 0===n.isValid&&(n.isValid=true);n.$watch("editorValue",function(e){if(void 0===e)return;p(n.editorValue,true);h()});t=new i.ExpressionValidator(e);t.Update.bind(m);n.$watchGroup(["description","descriptionExpression"],function(){var e=f();if(!v(e,n.editorValue)){n.editorValue=e;l()}});function l(){var e=d(n.editorValue);e?t.validate(n.editorValue):n.isValid=!n.editorValue||n.editorValue.length<=r.description}function u(){p(n.editorValue,true);l()}function c(){var e={expr:n.editorValue,title:n.editorValue?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"};s.show(e).then(function(e){e.length&&"="!==e[0]&&(e="="+e);p(e,false);l()})}function d(e){return n.enableDescriptionExpression&&0===(e||"").indexOf("=")}function f(){if("object"===o(n.descriptionExpression)&&n.enableDescriptionExpression){var e=a.getValue(n.descriptionExpression,"qStringExpression.qExpr","");"="!==e[0]&&(e="="+e);return e}return n.description}function p(e,t){var i=d(e);if(i){n.description="";n.descriptionExpression={qStringExpression:{qExpr:e.substr(1)}}}else{n.description=(e||"").trim();n.descriptionExpression=void 0}t||(n.editorValue=e)}function h(){n.maxLength=d(n.editorValue)?r.expression:r.description}function v(e,t){e=(e||"").trim();t=(t||"").trim();return e===t}function m(e){n.isValid=e.valid}n.$on("$destroy",function(){t.Update.unbind(m)})})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(91),n(14)],r=function(e,t){var n=t.getProductInfoSync();var i=n.externalUrls;e.ready.then(function(){i.serverHelpBaseUrl=i.serverHelpBaseUrl.replace("{language}",e.language);i.personalHelpBaseUrl=i.personalHelpBaseUrl.replace("{language}",e.language)});Object.defineProperty(i,"gettingStarted",{get:function t(){return i.qlikWebPageUrl+"/"+e.language+"-sense-gettingstarted"}});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=u(n(49));var r=u(n(93));var o=u(n(95));var a=u(n(89));var s=u(n(326));var l=u(n(91));function u(e){return e&&e.__esModule?e:{default:e}}var c;var d;var f;var p;var h=false;var v=true;var m="";var g=false;var b="2013-08-08 13:15:19";var y="OBSERVER_KEY_APP_IS_NOW_DIRTY";var x="OBSERVER_KEY_APP_IS_NOW_CLEAN";function w(){if(d&&!f)return true;var e=d>f;return e}function S(){return f>p}function C(e){var t=new Date;t.setTime(24*(e-25569)*3600*1e3);return Math.floor(t.getTime()/1e3)}function E(e){p=C(e.qUtcLastReloadTime);d=f}function q(e){r.default.getApp().then(function(t){t.getProperties().then(function(t){b=t.qLastReloadTimeAsString||b;E(t);e&&e()})})}function _(){setTimeout(function(){var e=S();var t=w()?y:x;o.default.publish(t,e)})}function T(){c=d;d=new Date;_()}function k(e){var t=new a.default;if(e&&"function"!==typeof e)throw new Error("The callback function specified is not a function.");h=true;r.default.getApp().then(function(n){n.doSave().then(function(){h=false;v=true;f=new Date;q(_);e&&e();t.resolve()},function(e){h=false;v=false;t.reject(e)})});return t.promise}function O(){r.default.getApp().then(function(e){e.getLayout().then(function(e){m="";e.qTitle?m=e.qTitle:e.qFileName&&(m=e.qFileName.replace(/\.(qvw|qvf)$/i,""));e.qModified&&T()})})}function D(e){h=e}function A(){return h}function I(){return v}function L(e){o.default.subscribe(y,e)}function P(e){o.default.unsubscribe(y,e)}function M(e){o.default.subscribe(x,e)}function N(e){o.default.unsubscribe(x,e)}function R(){if(!d)throw new Error("Cannot do rollback since the app has never been flagged as dirty.");d=c;_()}function F(){q(_)}var j={saveApp:k,haveWeDoneSaveButNoReload:S,notifyThatNewChangeIsDoneAndSaveIsRequired:T,updateWhenLastScriptWasExecuted:F,isAppDirty:w,isSaveOngoing:A,setSaveOngoing:D,getLastSaveSuccess:I,onAppIsNowDirty:L,onAppIsNowDirtyRemove:P,onAppIsNowClean:M,onAppIsNowCleanRemove:N,getLastSavedAsString:function e(){if(f){var t=new s.default(null);var n=t.format(f,"HH:mm:ss");return l.default.get("scripteditor.autosave.lastsaved",n)}return""},getLastReloadAsString:function e(){return b||""},getTitle:function e(){return m},isAutoSaveOn:function e(t){if(g&&t&&i.default.getFlag("DISABLE_DLE_AUTOSAVE"))return false;return g},doDirtyRollback:R,init:function e(){d=new Date;r.default.getApp().then(function(e){e.global.getConfiguration().then(function(e){var t=e.qFeatures;g=t.qAutoSave});q();O();e.Invalidated.bind(O)})},reset:function e(){q(_)}};t.default=j;e.exports=t.default},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.create=function(e,t){return n(t).then(function(t){return t.createStory(e).then(function(e){return e.createSlide().then(function(){return e})})})};i.remove=function(e,t){return n(t).then(function(t){return t.destroyObject(e)})};i.get=function(e,t){return n(t).then(function(t){return t.getObject(e)})};i.getList=function(e){return n(e).then(function(e){return e.getStoryListObject()})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(101)],r=function(e){var t={getDimensions:function t(n){return e.getValue(n,"qHyperCubeDef.qDimensions",[])},getNumDimensions:function t(n){return e.getValue(n,"qHyperCubeDef.qDimensions.length",0)},getMeasures:function t(n){return e.getValue(n,"qHyperCubeDef.qMeasures",[])},getNumMeasures:function t(n){return e.getValue(n,"qHyperCubeDef.qMeasures.length",0)},getDimensionLayouts:function t(n,i){var r=e.getValue(n,i?i+".qHyperCube":"qHyperCube",null);if(r)return r.qDimensionInfo;return[]},getDimensionLayout:function e(t,n,i){return this.getDimensionLayouts(n,i).filter(function(e){return t===e.cId})[0]},getMeasureLayouts:function t(n,i){var r=e.getValue(n,i?i+".qHyperCube":"qHyperCube",null);if(r)return r.qMeasureInfo;return[]},getMeasureLayout:function e(t,n,i){return this.getMeasureLayouts(n,i).filter(function(e){return t===e.cId})[0]}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(676),n(742),n(745),n(133),n(219),n(147),n(90),n(100)],r=function(e,t,n,i,r,o,a,s,l){function u(e){return l.currentPalette.indexOf(e)}function c(e,t){delete e.baseColor;e.coloring||(e.coloring={});t.baseColor&&t.baseColor.color&&"none"!==t.baseColor.color?s.extend(true,e.coloring,{baseColor:{color:t.baseColor.color,index:u(t.baseColor.color)}}):delete e.coloring.baseColor;t.gradient&&t.gradient.colors&&0!==t.gradient.colors.length?e.coloring.gradient={colors:t.gradient.colors.map(function(e){return{color:e,index:u(e)}}),breakTypes:t.gradient.breakType,limits:t.gradient.limits,limitType:t.gradient.limitType}:delete e.coloring.gradient}function d(e){var t={qInfo:{qType:"measure"},qMetaDef:{title:e.name,description:e.description,tags:e.tags},qMeasure:{qLabel:e.name,qDef:e.expr,qLabelExpression:e.labelExpression,descriptionExpression:e.descriptionExpression}};c(t.qMeasure,e);return a.create(t)}function f(e,t){var n={name:t.name,rowEstExpr:t.rowEstExpr,templateApp:t.templateApp,properties:{rowEstRange:[{highBound:t.rowEstCount}],genAppLimit:[{context:"User_*",limit:t.genAppLimit}],appRetentionTime:[{context:"User_*",retentionTime:t.retentionLimit}],targetSheet:[{context:"User_*",sheetId:t.defaultViewId}]}};t.publishToStreamId&&(n.properties.publishTo=[{context:"User_*",streamId:t.publishToStreamId}]);var i=new o(n);return i.create(e)}function p(e,t,n,i){n.data.name=i.name;n.data.properties.rowEstRange[0].highBound=i.rowEstCount;n.data.properties.genAppLimit[0].limit=i.genAppLimit;n.data.rowEstExpr=i.rowEstExpr;n.data.templateApp=i.templateApp;n.data.properties.appRetentionTime[0].retentionTime=i.retentionLimit;n.data.properties.targetSheet[0].sheetId=i.defaultViewId;i.publishToStreamId?n.data.properties.publishTo.length?n.data.properties.publishTo[0].streamId=i.publishToStreamId:n.data.properties.publishTo=[{context:"User_*",streamId:i.publishToStreamId}]:n.data.properties.publishTo=[];return r.updateODAGLink(e,t,n.data)}function h(e,t,n){e.qMetaDef.title=n.name;e.qMetaDef.description=n.description;e.qMetaDef.tags=n.tags;e.qMeasure.qLabel=n.name;e.qMeasure.qDef=n.expr;e.qMeasure.qLabelExpression=n.labelExpression;e.qMeasure.descriptionExpression=n.descriptionExpression;c(e.qMeasure,n);return t.setProperties(e)}function v(t){function n(n){return f(t,n).then(function(){e.$rootScope.$emit("clearUndo")})}var r=i.show({title:"ODAGLink.Dialog.Add.Title",confirm:"Common.Create",name:"",inEditMode:false,description:"",genAppLimit:5,retentionLimit:"",defaultViewId:"",publishToStreamId:"",confirmCallback:n,app:t});r.resultPromise.then(function(){r.destroy()})}function m(t,n,r){o.get(n,t).then(function(o){var a=o.properties;function s(i){return p(t,n,a,i).then(function(t){r&&r(t);e.$rootScope.$emit("clearUndo")})}var l={title:"ODAGLink.Dialog.Edit.Title",confirm:"Common.Save",inEditMode:true,name:a.data.name,templateApp:a.data.templateApp,rowEstExpr:a.data.rowEstExpr,rowEstCount:a.data.properties.rowEstRange[0].highBound,genAppLimit:a.data.properties.genAppLimit[0].limit,retentionLimit:a.data.properties.appRetentionTime.length?a.data.properties.appRetentionTime[0].retentionTime:"",defaultViewId:a.data.properties.targetSheet.length?a.data.properties.targetSheet[0].sheetId:"",publishToStreamId:a.data.properties.publishTo.length?a.data.properties.publishTo[0].streamId:"",confirmCallback:s,app:t};var u=i.show(l);u.resultPromise.then(function(){u.destroy()})})}function g(n,i,r){var o,a=n||"",l=s.escapeField(a);var u=function t(n){d(n).then(function(t){r&&r(t);e.$rootScope.$emit("clearUndo")})};var c={title:"Measure.Dialog.Add.Title",confirm:"Common.Create",name:a,description:"",tags:[],expr:n?"("+l+")":"",callback:u};o=t.show(c);o.closed.then(function(){o=null})}function b(n,i){a.get(n).then(function(n){n.getProperties().then(function(r){var o=function t(o){h(r,n,o).then(function(t){i&&i(t);e.$rootScope.$emit("clearUndo")})};var a={title:"Measure.Dialog.Edit.Title",confirm:"Common.Save",name:r.qMetaDef.title,description:r.qMetaDef.description,descriptionExpression:r.qMeasure.descriptionExpression,tags:r.qMetaDef.tags,expr:r.qMeasure.qDef,labelExpression:r.qMeasure.qLabelExpression,baseColor:r.qMeasure.coloring?r.qMeasure.coloring.baseColor:r.qMeasure.baseColor,gradient:r.qMeasure.coloring?r.qMeasure.coloring.gradient:r.qMeasure.gradient,callback:o};var s=t.show(a);s.closed.then(function(){s=null})})})}function y(e){n.show({title:"Visualization.Dialog.Add.Title",confirm:"Visualization.Dialog.Saveclose",visualization:{name:e.qMetaDef.title,description:e.qMetaDef.description,tags:e.qMetaDef.tags},onSaveCallback:e.onSave})}function x(e){e.onSave({expr:e.expr,path:e.elem.data("path"),pathAttribute:"definition"})}return{addMeasure:g,editMeasure:b,addMetadata:y,addODAGLink:v,editODAGLink:m,breakLink:x}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(688),n(689)],r=function(e,t){e.directive("objectAddTypeahead",[function(){return{template:t,scope:{},transclude:true,replace:true,restrict:"E",controller:["$scope",function(e){var t=this;e.items=[];function n(){var t=e.menu;if(e.activeItem){var n=e.activeItem;var i=n.getPosition();i.top<0?t.setScrollTop(n.getOffsetTop()):i.top+n.getHeight()>t.getHeight()&&n.scrollIntoView(false)}else t.setScrollTop(0)}this.activate=function(t){e.activeItem=t};this.nextItem=function(i){var r=e.items.indexOf(e.activeItem);"undefined"!==typeof i&&(r=(r+i)%e.items.length);r===e.items.length-1?t.activate(null):-1===r?t.activate(e.items[0]):t.activate(e.items[r+1]);n()};this.prevItem=function(i){var r=e.items.indexOf(e.activeItem);"undefined"!==typeof i&&(r=(r-i+e.items.length)%e.items.length);0===r?t.activate(null):-1===r?t.activate(e.items[e.items.length-1]):t.activate(e.items[r-1]);n()};this.getActiveItem=function(){return e.activeItem};this.selectActiveItem=function(){e.activeItem&&e.activeItem.select()};this.select=function(t){e.select({item:t});e.activeItem=null};this.setMenu=function(t){e.menu=t};this.addItem=function(t){e.items.push(t)};this.removeItem=function(t){var n=e.items.indexOf(t);n>=0&&e.items.splice(n,1)}}]}}]);e.directive("objectAddTypeaheadInput",[function(){return{require:["^objectAddTypeahead","ngModel"],link:function e(t,n,i,r){var o=r[0],a=r[1];n.on("keydown",function(e){e.stopPropagation();if(13===e.which||9===e.which){e.preventDefault();o.getActiveItem()?t.$apply(function(){o.selectActiveItem()}):t.$apply(function(){t.$eval(i.onEnter,{$event:e})})}else if(33===e.which){e.preventDefault();t.$apply(function(){o.prevItem(10)})}else if(34===e.which){e.preventDefault();t.$apply(function(){o.nextItem(10)})}else if(40===e.which){e.preventDefault();t.$apply(function(){o.nextItem()})}else if(38===e.which){e.preventDefault();t.$apply(function(){o.prevItem()})}else if(27===e.which){e.preventDefault();t.$apply(function(){t.$eval(i.onEscape,{$event:e})})}});t.$watch(o.getActiveItem,function(e){e?e.item.label&&n.val(e.item.label):n.val(a.$modelValue)});t.$watch(a.$modelValue,function(e){e||o.activate(null)})}}}]);e.directive("objectAddTypeaheadMenu",[function(){return{require:"^objectAddTypeahead",link:function e(t,n,i,r){t.controller=r;r.setMenu({getHeight:function e(){return n.height()},setScrollTop:function e(t){n[0].scrollTop=t}})}}}]);e.directive("objectAddTypeaheadItem",[function(){return{require:"^objectAddTypeahead",link:function e(t,n,i,r){var o=t.$eval(i.objectAddTypeaheadItem);var a={item:o,getOffsetTop:function e(){return n[0].offsetTop},scrollIntoView:function e(t){n[0].scrollIntoView(t)},getPosition:function e(){return n.position()},getHeight:function e(){return n.height()},select:function e(){s()}};function s(){t.$eval(i.onSelect,{item:o})}r.addItem(a);t.$on("$destroy",function(){r.removeItem(a)});t.$watch(function(){var e=r.getActiveItem();if(e)return e.item===o;return false},function(e){e?n.addClass("object-add-typeahead-active"):n.removeClass("object-add-typeahead-active")});n.on("mouseenter",function(){n.addClass("object-add-typeahead-hover")});n.on("mouseleave",function(){n.removeClass("object-add-typeahead-hover")});n.on("qv-activate",function(e){e.preventDefault();t.$apply(function(){s()})})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(89),n(133),n(92),n(49)],r=function(e,t,n,i,r){var o=i.extend("ODAGLink",{properties:null,getProperties:function e(){return t.resolve(this.properties)},create:function e(t){return n.createODAGLink(t,this.properties.data)},init:function t(n){this.properties={type:"odaglink",data:{id:"",name:"",templateApp:"",rowEstExpr:"",privileges:[],properties:{rowEstRange:[{context:"*",highBound:null}],genAppLimit:[{context:"User_*",limit:5}],appRetentionTime:[{context:"User_*",retentionTime:""}],publishTo:[],targetSheet:[{context:"User_*",sheetId:""}]},tags:[]}};e.extend(true,this.properties.data,n);return this}});o.getLinkedObjects=function(){return t.resolve([])};o.get=function(e,t){return n.loadODAGLink(t,e).then(function(e){var t=r.getFlag("ODAG_SAAS_ENABLED")?e:e.objectDef;var n=new o(t);return n})};o.getList=function(e,t){return n.getODAGLinks(e,t).then(function(t){var i=[];for(var r=0;r<t.length;r++){var a=t[r];if(a&&a.link)if("decommissioned"===a.link.status)n.removeODAGAppLinkWithODAGLinkId(e,a.link.id);else{var s=new o(a.link);i.push(s)}}return i})};return o}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,function(e,t,n){"use strict";var i,r;!(i=[n(89),n(48),n(140),n(633),n(451),n(100),n(90),n(162),n(108),n(49)],r=function(e,t,n,i,r,o,a,s,l,u){var c=function t(i,r,o){var a=i&&"function"===typeof i.getConfiguration?i:n.get(r);return e.resolve(a).then(function(e){var t=e.layout&&e.layout.qTitle||"";var n=e.id||"";var i=null;var r=e.getConfiguration().then(function(r){for(var a=0;a<r.qServices.length;a++)if("senseprinting"===r.qServices[a].qName.toLowerCase()){i={appName:t,appId:n,qUrl:u.getFlag("EXPORT_API_ENDPOINT")?"".concat(o||"","/api/export/printing/"):o?o+unescape(r.qServices[a].qUrl):unescape(r.qServices[a].qUrl),localeInfo:e.layout.qLocaleInfo};break}return i});return r})};var d=function t(n,i,a,l,u,d){var f=n.model.layout.qInfo.qType;var p="story"===f||"sheet"===f?f:"object";var h="object"===p?n:n.model;var v=r.snapshot(n.model.id,p,{size:a,source:h,sourceSize:i,sheetLayout:"grid"});var m=c(u,n.model.app.id,d);var g=s.getProperties().then(function(e){return{sheetLogoPosition:e.sheetLogoPosition,sheetLogoThumbnail:e.sheetLogoThumbnail,sheetTitleBgColor:e.sheetTitleBgColor,sheetTitleColor:e.sheetTitleColor,sheetTitleGradientColor:e.sheetTitleGradientColor,rtl:e.rtl}});return e.all([v,m,g]).then(function(t){var n=t[0];var i=t[1];var r=t[2];if(!i)return e.reject();var a=o.getCurrentTheme();var s=i.qUrl;var u=l;u.objTree=n;u.appName=i.appName;u.appId=i.appId;u.appStylingInfo=r;u.localeInfo=i.localeInfo;u.themeName=a;return{qUrl:s,payload:u,snapshotType:p}})};var f={poolPromise:null,printTree:function e(t,n,i,r,o){return d(t,n,i,r).then(function(e){return f.enqueueRequest(e.qUrl,e.payload,e.snapshotType,o,r.timeoutMsec,r.checkInterval)})},getPrintDataForQSC:function t(n,r){var o=e();d(n,null,null,r).then(function(e){var t={imageType:"Jpeg",captureSize:{},images:[{name:"280x375",width:280,height:375,dpi:96,requestId:"?requestId="+i.generateId()},{name:"400x400",width:400,height:400,dpi:96,requestId:"?requestId="+i.generateId()},{name:"fallback",width:1024,height:768,dpi:96,requestId:"?requestId="+i.generateId()}],payload:e.payload,url:e.qUrl+"export/object/image",pollingUrl:e.qUrl+"export/request/status",host:location.host,prefix:a.basePath};o.resolve(t)},function(){o.reject({status:-1})});return o.promise},enqueueRequest:function n(r,o,a,s,l,u){var c=e();this.cancel(s);var d=this.getStates();l=l||36e5;u=u||3e3;var p=l/u;var h=0;var v=i.generateId();var m=r+"export/"+("story"===a?"story":"object")+"/"+s;m=m+"?requestId="+v;var g=t.getService("$http");var b=t.getService("$interval");var y=null;g({url:m,method:"POST",data:o}).then(function(e){var t=e.data;var n=t&&t.requestId;var i=r+"export/request/status?requestId="+n;var o=function e(){g({url:i,method:"GET"}).then(function(e){var t=e.data;h++;if(h>p){b.cancel(y);c.reject({status:d.TIMEOUT});return}if(t&&t.status){var n=t.status;if("Failed"===n||"Canceled"===n){b.cancel(y);c.reject({status:"Canceled"===n?d.CANCELED:d.FAILED})}else if("Completed"===n){b.cancel(y);c.resolve({status:d.COMPLETED,qUrl:t.qUrl})}}else{b.cancel(y);c.reject({status:d.FAILED})}}).catch(function(e,t){b.cancel(y);c.reject({status:d.FAILED,data:e,httpStatusCode:t})})};y=b(o,u);switch(s){case"image":f.poolPromiseImage=y;break;case"pdf":f.poolPromisePdf=y;break;default:f.poolPromise=y}}).catch(function(e,t){c.reject({status:d.FAILED,data:e,httpStatusCode:t})});t.$rootScope.$on("$routeChangeStart",function(){this.cancel()});return c.promise},cancel:function e(n){var i=[];switch(n){case"image":i.push(this.poolPromiseImage);break;case"pdf":i.push(this.poolPromisePdf);break;default:i.push(this.poolPromise,this.poolPromiseImage,this.poolPromisePdf);break}if(i.length>0){var r=t.getService("$interval");i.forEach(function(e){if(e){r.cancel(e);e=null}})}},getStates:function e(){return{NODATA:-4,CANCELED:-3,TIMEOUT:-2,FAILED:-1,IDLE:0,PENDING:1,COMPLETED:2}},printObject:function e(t,n,i,r,o,a,s){return l.setup().then(function(e){return d(n,r,o,a,t,e.isPersonalMode?null:i).then(function(e){return f.enqueueRequest(e.qUrl,e.payload,e.snapshotType,s,void 0,void 0)})})}};return f}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92)],r=function(e){var t;t=e.extend("SelectionToolbar",{menuButtons:[],init:function e(t,n,i,r,o,a){o=o||[];this.menuButtons=a||[];var s=[];this.backendApi=t;this.selectionsApi=n;this.showMenu=i;this.showLock=r;o&&o.length&&s.push({clazz:"sel-toolbar-separator",buttonClass:"sel-toolbar-icon-separator",isDisabled:function e(){return true}});s.push({name:"Tooltip.CancelSelections",tid:"selection-toolbar.undo",isIcon:false,iconClass:"lui-icon lui-icon--close",buttonClass:"sel-toolbar-cancel",action:function e(){this.selectionsApi.cancel()}});s.push({name:"Tooltip.ConfirmSelections",tid:"selection-toolbar.refresh",iconClass:"lui-icon lui-icon--tick",buttonClass:"sel-toolbar-confirm",action:function e(){this.selectionsApi.confirm()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}});this.buttons=o.concat(s)},hasState:function e(t){if(!t)return true;var n=this.backendApi.getDimensionInfos();for(var i=0;i<n.length;++i)for(var r=0;r<t.length;++r)if(n[i].qStateCounts[t[r]]>0)return true;return false}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(413)],r=function(e){function t(e,t,n,i){0===arguments.length?this.set(0,0,0,0):2===arguments.length?this.set(e.x,e.y,t.x,t.y):this.set(e,t,n,i)}t.prototype={toString:function e(){return this.x1+" "+this.y1+" "+this.x2+" "+this.y2},clone:function e(){return new t(this.x1,this.y1,this.x2,this.y2)},set:function e(t,n,i,r){this.x1=t;this.y1=n;this.x2=i;this.y2=r},intersectsLine:function t(n){return e.checkLineSegmentIntersectingLineSegment(this.getPoints(),n.getPoints())},intersectsRect:function e(n){return this.intersectsLine(new t(n.x,n.y,n.x+n.width,n.y))||this.intersectsLine(new t(n.x+n.width,n.y,n.x+n.width,n.y+n.height))||this.intersectsLine(new t(n.x,n.y+n.height,n.x+n.width,n.y+n.height))||this.intersectsLine(new t(n.x,n.y,n.x,n.y+n.height))},getPoints:function e(){var t=[];t.push({x:this.x1,y:this.y1});t.push({x:this.x2,y:this.y2});return t}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(135),n(213),n(560),n(437)],r=function(e,t,n,i,r){var o=false;function a(e,t){return"ErrorDialog.AppClosed"===e.message||"ProxyError.OnNoEngineAvailable"===e.message||"OnEngineWebsocketFailed"===e.method||e.code===t.LOCERR_APP_NOT_FOUND||e.code===t.LOCERR_APP_CONNECT_FAILED}function s(i){var o=e.getService("qvConfirmDialog").show({message:u(t.get("ErrorDialog.Title"),r.getErrorDescription(i)),okLabel:t.get("Common.Refresh"),cancelLabel:t.get("ErrorDialog.GoToHub.Button"),closeOnEscape:false});o.closed.then(function(e){e?r.refreshPage():location.href=n.buildHubUrl()});return o}function l(n){e.getService("clientSections").get(function(e){e.HubSection_Home?s(n):c(t.get("ErrorDialog.Title"),r.getErrorDescription(n))})}function u(e,t){return'<h2 class="inline-title">'+e+"</h2><span>"+t+"</span>"}function c(n,i){var a=e.getService("qvAlertDialog").show({message:u(n,i),closeLabel:t.get("Common.Refresh"),closeOnEscape:false});a.closed.then(function(){o=false;r.refreshPage()});return a}function d(i,a){var s=n.isSuffixInUse("noData");var l=e.getService("qvAlertDialog").show({message:u(i,a),closeLabel:t.get(s?"Dialog.Button.Open.With.Data":"Dialog.Button.Open.Without.Data"),closeOnEscape:false});l.closed.then(function(){o=false;if(s)n.removePartialSuffix("noData");else{var e=location.href;var t=e.lastIndexOf("/")===e.length-1;var i="noData/true";t||(i="/"+i);n.setUrl(e+i)}r.refreshPage()});return l}function f(n,i,a){var s=u(n,i);var l=e.getService("qvAlertDialog").show({message:s,closeOnEscape:true,keepOpen:a||false});l.closed.then(function(){o=false;e.$rootScope.$broadcast("errorHandlerClosed",s,{name:t.get("Common.Refresh"),callback:r.refreshPage})});return l}function p(n,i){var a=u(n,i);var s=e.getService("qvConfirmDialog").show({message:a,okLabel:t.get("Common.Refresh"),cancelLabel:t.get("Common.Close"),closeOnEscape:true});s.closed.then(function(n){o=false;n?r.refreshPage():e.$rootScope.$broadcast("errorHandlerClosed",a,{name:t.get("Common.Refresh"),callback:r.refreshPage})});return s}function h(e){return o||e.code===r.errors.LOCERR_JSON_RPC_INVALID_PARAMETERS}function v(e,n){if(h(e))return;o=true;t.ready.then(function(){if(a(e,r.errors))l(e);else if(r.isLocErr(e,r.errors))p(t.get("ErrorDialog.Title"),r.getErrorDescription(e));else if(e.code===r.errors.LOCERR_GENERIC_CONNECTION_LOST)c(t.get("ErrorDialog.Title"),r.getErrorDescription(e));else if(e.code===r.errors.LOCERR_PERSONAL_VERSION_EXPIRED){var o=t.get("Info.QlikView.Personal.Upgrade",["<a href='"+i.personalUpgradeUrl+"' target='_blank'>"+i.personalUpgradeBase+"</a>"]);c(t.get("ErrorCode.12001.Sense.Desktop.Expired"),o)}else"ProxyError.OnSessionTimedOut"===e.message?c(t.get("TimeoutDialog.Title"),r.getErrorDescription(e)):e.code===r.errors.LOCERR_APP_ALREADY_OPEN_IN_DIFFERENT_MODE?d(t.get("ErrorDialog.Title"),r.getErrorDescription(e)):e.refreshButton?c(t.get("ErrorDialog.Title"),r.getErrorDescription(e)):f(t.get("ErrorDialog.Title"),r.getErrorDescription(e),n)})}function m(e){var t=e.error;var n=e.keepOpen;var i=t.type;if(h(t))return;o=true;if("refreshDialog"===i)return c(t.title,t.message);if("refreshCloseDialog"===i)return p(t.title,t.message);return f(t.title,t.message,n)}return{showDialog:v,showDialogReact:m,isOpen:function e(){return o}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(94),n(50)],r=function(e,t,n){var i={},r,o,a,s,l;i.ViewMode={grid:0,list:1};i.NavigationMode={sheet:"sheet",bookmark:"bookmark",story:"story"};r=i.ViewMode.grid;o=i.NavigationMode.sheet;l=r;a=false;e.mixin(i);i.notification("ViewModeChanged");i.notification("NavigationModeChanged");i.notification("AddingItemChanged");i.setViewMode=function(e){if(e!==r){r=e;i.ViewModeChanged.emit(r)}};i.setNavigationMode=function(e){if(e!==o){o=e;i.NavigationModeChanged.emit(o)}};i.setAddingItem=function(e){if(e!==a){a=e;i.AddingItemChanged.emit(a)}};i.setDuplicatingItem=function(e){e!==s&&(s=e)};t.StateChanged.bind(function(e){e===t.Views.sheet?i.setNavigationMode(i.NavigationMode.sheet):e===t.Views.story&&i.setNavigationMode(i.NavigationMode.story)});n.ViewChanged.bind(function(e){e&&(l=r)});Object.defineProperties(i,{viewMode:{get:function e(){return r}},navigationMode:{get:function e(){return o}},viewModeBeforeEnterSmallDevice:{get:function e(){return l}},addingItem:{get:function e(){return a}},duplicatingItem:{get:function e(){return s}}});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(92)],r=function(e,t){var n=t.extend("ClassificationModel",{spec:null,init:function e(t){this.spec=t},getDataTypes:function t(n,i){var r=this._getFields(n,i);var o=[];o=r.map(function(e){return e.recommendedDataType||e.dataType});return e.uniq(o)},getClassifications:function t(n,i){var r=this._getFields(n,i);var o=r.map(function(e){return e.classifications});o=e.flatten(o);return e.uniq(o)},getDefaultAggregation:function e(t,n){var i=this._getFields(t,n);return i[0].defaultAggregation},_getFields:function t(n,i){var r=[];i.forEach(function(t){var i=e.findWhere(this.spec.datasets,{name:t});if(i){var o=e.findWhere(i.fields,{name:n});o&&r.push(o)}}.bind(this));return r}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(173),n(89),n(93)],r=function(e,t,n){function i(e){return e?t.resolve(e.enigmaModel):n.getApp()}var r={},o=500;r.getLibraryContent=function(e,t){return i().then(function(n){return n.getSnapshotListObject().then(function(n){n.Invalidated&&n.Invalidated.unbind();n.Invalidated.bind(t);return n.getLayout().then(function(t){return t.filter(function(t){var n=true;e&&(n=e===t.qData.sourceObjectId);return!t.qData.isClone&&n})})})})};r.unbindList=function(){return i().then(function(e){return e.getSnapshotListObject().then(function(e){e.Invalidated.unbind()})})};r.getSnapshotCount=function(e){return i().then(function(t){return t.getSnapshotList().then(function(t){var n=0;for(var i=0;i<t.length;i++)t[i].qData.isClone||t[i].qData.sourceObjectId!==e||n++;return n})})};r.create=function(t,n){t&&(t.qInfo={qType:"snapshot"});return i().then(function(i){return i.getSnapshotList().then(function(i){var a=0;for(var s=0;s<i.length;s++)i[s].qData.isClone||a++;var l=a<o;return!!l&&e.create.call(r,t,n).then(function(e){return{limit:l,id:e.id}})})})};r.get=function(t,n){return e.get(t,n)};r.remove=function(t,n){return e.remove(t,n)};r.getEmbedded=function(e){return e.enigmaModel.getSnapshotObject()};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(110),n(91)],r=function(e,t){var n=e.NxLocalizedErrorCode;function i(e){return"ErrorCode."+e}return{getDimensionError:function e(r){var o;o=r===n.LOCERR_CALC_INVALID_DEF?"Object.ErrorMessage.InvalidDimension":r===n.LOCERR_CALC_NOT_IN_LIB?"Object.ErrorMessage.MissingDimension":i(r);return t.get(o)},getMeasureError:function e(r){var o;o=r===n.LOCERR_CALC_INVALID_DEF?"Object.ErrorMessage.InvalidMeasure":r===n.LOCERR_CALC_NOT_IN_LIB?"Object.ErrorMessage.MissingMeasure":i(r);return t.get(o)},getHyperCubeError:function e(n){var r=i(n);return t.get(r)},getListObjectError:function e(n){var r=i(n);return t.get(r)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96),n(92),n(102),n(164)],r=function(e,t,n,i){var r=e(document),o=[],a="chart-interaction";function s(e){return a+"."+e}function l(e,t){return e.priority-t.priority}function u(e,t){if(e.filter(function(e){return e.target===t.target&&e.container===t.container}).length)return null;t.priority=Number.isNaN(+t.priority)?0:t.priority;e.push(t);e.sort(l);return t}function c(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function d(e,t,n){return e.filter(function(e){return e[n]===t})}var f={tap:{containers:[]},taptwo:{containers:[]},tapthree:{containers:[]},swipe:{containers:[]},swipetwo:{containers:[]},wheelswipe:{containers:[]},rotate:{containers:[]}};var p={mousemove:{containers:[]},mouseleave:{containers:[]},mousewheel:{containers:[]},mouseup:{containers:[]}};function h(e,n,i){var r=e.gesture,o=e.action,a=e.item.targets,s;for(var l=0;l<a.length;l++){s=a[l].target;if(s.active(a[l].data)){s.preventDefault&&("touchmove"===n.type||"touchstart"===n.type||"touchend"===n.type?t.WebkitHack.prevent():n.preventDefault());s[r][o]&&s[r][o].apply(this,[n,i,a[l].data]);if(s.exclusive())break}}}function v(e,t,n){var i=e.gesture,r=e.item.targets,o;for(var a=0;a<r.length;a++){o=r[a].target;if(o.active()){o.preventDefault&&t.preventDefault();o[i].apply(this,[t,n,r[a].data]);if(o.exclusive&&o.exclusive())break}}}function m(e,t){e.handlers.start=function(n,i){h.apply(this,[{gesture:t,action:"start",item:e},n,i])};e.handlers.end=function(n,i){h.apply(this,[{gesture:t,action:"end",item:e},n,i])};if(["swipe","swipetwo","wheelswipe","rotate"].contains(t)){e.handlers.update=function(n,i){h.apply(this,[{gesture:t,action:"update",item:e},n,i])};e.handlers.cancel=function(n,i){h.apply(this,[{gesture:t,action:"cancel",item:e},n,i])}}}function g(e,t){var n={id:s(t),options:{preventDefault:false}};Object.keys(e.handlers).forEach(function(t){n[t]=e.handlers[t]});switch(t){case"swipe":n.options.useMomentum=true;n.options.inertia=.5;case"tap":n.options.touches=1;break;case"swipetwo":n.options.useMomentum=true;n.options.inertia=.5;case"taptwo":n.options.touches=2;break;case"tapthree":n.options.touches=3;break;case"wheelswipe":case"rotate":default:break}return n}function b(e){switch(e){case"taptwo":case"tapthree":return"tap";case"swipetwo":return"swipe";case"tap":case"swipe":case"wheelswipe":case"rotate":default:return e}}function y(e,n){var i=f[n].containers.filter(function(t){return t.container===e.container})[0];if(!i){i={container:e.container,targets:[],handlers:{}};m(i,n);i.unbind=t(e.container)[b(n)](g(i,n));f[n].containers.push(i)}u(i.targets,e);return i}function x(t,n){var i=p[n].containers.filter(function(e){return e.container===t.container})[0];if(!i){i={container:t.container,targets:[],handler:null};i.handler=function(e){v.apply(this,[{gesture:n,item:i},e])};var r=n+"."+a+("mousewheel"===n?" DOMMouseScroll."+a:"");var o=e(t.container);o.on(r,i.handler);i.unbindJqueryEvents=function(){o.off(r,i.handler)}}u(i.targets,t);return i}function w(e){switch(e){case"tap":case"swipe":case"taptwo":case"swipetwo":case"wheelswipe":case"tapthree":case"rotate":return"touche";case"mousemove":case"mouseleave":case"mousewheel":case"mouseup":return"jquery";default:break}}var S=n.extend({init:function e(){i.mixin(this);this.notification("ShiftToggle");this.notification("CtrlToggle");this.notification("KeyPressed");this.notification("MouseUp");this.notification("MouseLeave");r.on("keydown."+a,function(e){if(16!==e.which||this.shiftPressed){if(17===e.which&&!this.ctrlPressed){this.ctrlPressed=true;this.CtrlToggle.emit(this.ctrlPressed)}}else{this.shiftPressed=true;this.ShiftToggle.emit(this.shiftPressed)}}.bind(this));r.on("keyup."+a,function(e){if(16===e.which&&this.shiftPressed){this.shiftPressed=false;this.ShiftToggle.emit(this.shiftPressed)}else if(17===e.which&&this.ctrlPressed){this.ctrlPressed=false;this.CtrlToggle.emit(this.ctrlPressed)}this.KeyPressed.emit(e.which)}.bind(this));r.on("mouseup."+a,function(e){this.MouseUp.emit(e)}.bind(this));r.on("mouseleave."+a,function(e){this.MouseLeave.emit(e)}.bind(this));this.shiftPressed=false;this.ctrlPressed=false},addInteraction:function e(t,n,i,r,a){var s=u(o,{target:t,container:n,priority:i,types:{},data:a});if(!s)throw new Error("Duplicate add of interaction, potential leak detected.");r.forEach(function(e){if(!t[e])throw new Error("Interaction reciver does not implement the specified interaction type: "+e);switch(e){case"tap":case"taptwo":case"swipe":case"swipetwo":case"wheelswipe":case"tapthree":case"rotate":s.types[e]=y(s,e);break;case"mousewheel":case"mousemove":case"mouseleave":case"mouseup":s.types[e]=x(s,e);break;default:throw new Error("The specified interaction type does not exist: "+e)}})},removeInteraction:function e(n,i){var r=d(o,n,"target");i&&(r=d(r,i,"container"));r&&r.length&&r.forEach(function(e){Object.keys(e.types).forEach(function(n){var i=e.types[n];c(i.targets,e);if(!i.targets.length)if("touche"===w(n)){t(i.container).off("*",s(n));c(f[n].containers,i)}else i.unbindJqueryEvents()});c(o,e)})},removeAllInteraction:function e(){Object.keys(f).forEach(function(e){f[e].containers.forEach(function(n){t(n.container).off("*",s(e))});f[e].containers=[]});o=[]}});var C=new S;return{ShiftToggle:C.ShiftToggle,CtrlToggle:C.CtrlToggle,KeyPressed:C.KeyPressed,MouseUp:C.MouseUp,MouseLeave:C.MouseLeave,addInteraction:C.addInteraction,removeInteraction:C.removeInteraction,removeAllInteraction:C.removeAllInteraction,preventGestures:function e(n){if(!n.gestureHandler)throw new Error("Interaction.js, preventGestures: Called with invalid binder");t.preventGestures(n.gestureHandler)},_unitTestExposure:{toucheHandlers:f}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(92),n(89),n(93),n(90),n(183),n(182)],r=function(e,t,n,i,r,o,a){var s;e.service("classificationService",[function(){var e=t.extend("ClassificationService",{init:function e(){},_errorHandler:function e(t){this._deferredClassificationResult.reject(t)},_getAPI:function e(){s||(s=o.getApi("api/dataprepservice/v1","openapi",void 0,void 0,void 0,void 0,a.getServerNodeId()));return s},_getAppName:function e(){return r.getParameterByName("app")},_waitForLoadComplete:function e(t){var i=new n;this._progressIntervalTimer=setInterval(function(){t.global.getProgress(0).then(function(e){if(e.qFinished){i.resolve(true);clearInterval(this._progressIntervalTimer)}}.bind(this))}.bind(this),1e3);return i.promise},_getClassification:function e(t,i){return t.getAppProperties().then(function(e){if(!this._deferredClassificationResult||e.qLastReloadTime!==this._appLastReload){this._appLastReload=e.qLastReloadTime;this._deferredClassificationResult=new n;this._waitForLoadComplete(t).then(function(){i.apis.model.getClassification({appId:r.getParameterByName("app")}).then(function(e){this._deferredClassificationResult.resolve(e.obj.response)}.bind(this)).catch(this._errorHandler.bind(this))}.bind(this))}return this._deferredClassificationResult.promise}.bind(this))},getClassification:function e(){return this._getAPI().then(function(e){return i.getApp().then(function(t){return this._getClassification(t,e).then(function(e){return e})}.bind(this))}.bind(this)).catch(this._errorHandler.bind(this))}});return new e}])}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(48),n(90),n(89),n(93),n(135),n(1840),n(379),n(1356),n(1695),n(253),n(1842),n(1843),n(49)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f){e.service("qvDataManagerDataService",function(){function e(){this.invalidationHandlers=[];this.tablesRefreshedHandlers=[];this.openDataPrepAppDeferred=void 0;this.clearCache();this.events=o;this.dataPrepProcessor=new l;this.isDataManagerInitialized=false;this.useDataPrepRestApi=f.getFlag("DATAPREP_REST");var e=c.createLoadModelInvalidationQueue();e.register(this.invalidate.bind(this))}e.prototype.initialize=function(){this.isDataManagerInitialized=true};e.prototype.registerInvalidationHandler=function(e,t){1===t?this.invalidationHandlers.splice(0,0,e):this.invalidationHandlers.push(e)};e.prototype.unregisterInvalidationHandler=function(e){var t=this.invalidationHandlers.indexOf(e);t>=0&&this.invalidationHandlers.splice(t,1)};e.prototype.invalidate=function(){var e=this;this.clearCache();return this.isDataManagerInitialized?this.getAllTargetTables().then(function(){var t=[];e.invalidationHandlers.forEach(function(e){e&&t.push(e())});return n.all(t)}):n.resolve()};e.prototype.registerTablesRefreshedHandler=function(e){this.tablesRefreshedHandlers.push(e)};e.prototype.unregisterTablesRefreshedHandler=function(e){var t=this.tablesRefreshedHandlers.indexOf(e);t>=0&&this.tablesRefreshedHandlers.splice(t,1)};e.prototype.tablesRefreshed=function(e,t){var i=[];this.tablesRefreshedHandlers.forEach(function(n){n&&i.push(n(e,t))});return n.all(i)};e.prototype.clearCache=function(){this.noDataDeferred=null;this.getAllTargetTablesDeferred=null;this.getAllRecommendationsDeferred=null};e.prototype.getLoadModel=function(){return s.get().then(function(e){return e.loadModel})};e.prototype.subscribe=function(e,t){return s.get().then(function(n){n.subscribe(e,t)})};e.prototype.unsubscribe=function(e,t){return s.get().then(function(n){n.unsubscribe(e,t)})};e.prototype.updateLoadModel=function(e){return u.updateProperties(e.serialize())};e.prototype.updateTablesFromSource=function(e,t){var n=this;return s.get().then(function(n){return n.updateSources(e,t)}).then(function(e){e.success?n.tablesRefreshed(t,true):n.invalidate().then(function(){n.tablesRefreshed(t,true)});return e})};e.prototype.refreshTables=function(e){var t=this;var n=this.useDataPrepRestApi;return s.get().then(function(e){if(n)return e.getRestService().then(function(t){return t.getProgress().then(function(){return e})});return e}).then(function(t){return t.updateSources(t.loadModel,e)}).then(function(n){n.success&&t.tablesRefreshed(e,false);return n})};e.prototype.getNoDataFlag=function(){if(!this.noDataDeferred){var e=new n;this.noDataDeferred=e;i.getApp().then(function(t){t.getLayout().then(function(t){var n=t.qIsOpenedWithoutData||r.isSuffixInUse("noData");e.resolve(n);return n})})}return this.noDataDeferred.promise};e.prototype.convertScriptedToManaged=function(){return s.get().then(function(e){return e.getRestService().then(function(e){return e.synchronizeScriptedTables([],true).then(function(){})})})};e.prototype.getAllTargetTables=function(e){if(!this.getAllTargetTablesDeferred||e){var t=new n;this.getAllTargetTablesDeferred=t;var i=this.useDataPrepRestApi;var r=this.dataPrepProcessor;this.getNoDataFlag().then(function(n){return s.get().then(function(o){return i?o.getRestService().then(function(i){return i.getTargetTables(e,n).then(function(e){var n=r.processTargetTablesResponse(e,o.loadModel);t.resolve(n)})}):o.getTargetTables(e,n).then(function(e){t.resolve(e)})})}).catch(function(e){t.reject(e)})}return this.getAllTargetTablesDeferred.promise};e.prototype.warmUpDPS=function(){if(!this.getAllTargetTablesDeferred){var e=new n;this.getAllTargetTablesDeferred=e;this.getNoDataFlag().then(function(t){return s.get().then(function(n){return n.warmUpDPS(t).then(function(t){e.resolve(t)})}).catch(function(t){e.reject(t)})}).catch(function(t){e.reject(t)})}return this.getAllTargetTablesDeferred.promise};e.prototype.getAllRecommendations=function(){if(!this.getAllRecommendationsDeferred){var e=new n;this.getAllRecommendationsDeferred=e;var t=this.useDataPrepRestApi;var i=this.dataPrepProcessor;s.get().then(function(n){if(t)return n.getRestService().then(function(t){return t.getRecommendations().then(function(t){var n=.5;var r={result:t};var o=i.processGetRecommendationsResponse(r,n);e.resolve(o)})});n.getRecommendations(void 0,true).then(function(t){e.resolve(t)})})}return this.getAllRecommendationsDeferred.promise};e.prototype.getRecommendationsForTable=function(e){var t=this.useDataPrepRestApi;var n=this.dataPrepProcessor;return s.get().then(function(i){if(t){var r=i.loadModel.getTargetTableModel(e);return i.getRestService().then(function(e){return e.getTableRecommendations(r.getId()).then(function(e){var t=0;var i={result:e};var r=n.processGetRecommendationsResponse(i,t);return r})})}return i.getRecommendations(e,true)})};e.prototype.getAndApplyClassificationData=function(e,t){return s.get().then(function(n){return n.getAndApplyClassificationData(e,t)})};e.prototype.getTargetTablePreview=function(e,t){var n=this.useDataPrepRestApi;return s.get().then(function(i){if(n){var r=i.loadModel.getTargetTableModel(e);return i.getRestService().then(function(e){return e.getTargetTablePreview(r.getId())})}return i.getTargetTablePreview(e,t)})};e.prototype.getTableFields=function(e){var t=this.useDataPrepRestApi;return s.get().then(function(n){if(t){var i=n.loadModel.getTargetTableModel(e);return n.getRestService().then(function(e){return e.getTableFields(i.getId()).then(function(e){var t={fieldNameMapping:{}};e&&e.fieldNameMappings&&e.fieldNameMappings.forEach(function(e){t.fieldNameMapping[e.caption]={expression:e.expression,internalName:e.internalName}});return t})})}return n.getTableFields(e)})};e.prototype.getStraightTablePreview=function(e,t,n){var i=this;return s.get().then(function(r){return d.getPreview(r.dps,e.getTargetTableModelById(t),i.getTableFields.bind(i),n).then(function(e){return e})})};e.prototype.getLoadScript=function(e,t){var n=this.useDataPrepRestApi;return s.get().then(function(i){return n?i.getRestService().then(function(e){return e.getLoadScript()}):i.getLoadScript(e,t)})};e.prototype.generateLoadScript=function(e,t,n){var i=this.useDataPrepRestApi;return s.get().then(function(r){return i?r.getRestService().then(function(e){return e.getLoadScript(n)}):r.getLoadScript(e,t,n)})};e.prototype.openDataPrepApp=function(){if(!this.openDataPrepAppDeferred){var e=new n;this.openDataPrepAppDeferred=e;a.getConnectOptions().then(function(n){var r=t.getParameterByName("app")||"?transient=";var o="app/"+encodeURIComponent(r).toLowerCase();var a={port:n.port,subpath:n.subpath,reloadURI:t.reloadURI,route:o};i.getApp(r,a).then(function(t){e.resolve(t)})})}return this.openDataPrepAppDeferred.promise};e.prototype.bucketField=function(e,t,n){return this.openDataPrepApp().then(function(){return s.get().then(function(i){return i.getRestService().then(function(i){return i.bucketField(e,t,n)})})})};e.prototype.applyOrdinal=function(e,t,n){return this.openDataPrepApp().then(function(){return s.get().then(function(i){return i.getRestService().then(function(i){return i.applyOrdinal(e,t,n)})})})};e.prototype.applyFieldMapping=function(e,t,n){return this.openDataPrepApp().then(function(){return s.get().then(function(i){return i.getRestService().then(function(i){return i.applyFieldMapping(e,t,n)})})})};e.prototype.applyFieldSplit=function(e,t,n){return this.openDataPrepApp().then(function(){return s.get().then(function(i){return i.getRestService().then(function(i){return i.splitField(e,t,n)})})})};e.prototype.joinQueries=function(e,t,n,i){return s.get().then(function(r){return r.getRestService().then(function(r){return r.createJoinedQuery(e,t,n,i)})})};e.prototype.splitQuery=function(e,t){return s.get().then(function(n){return n.getRestService().then(function(n){n.splitQuery(e,t)})})};e.prototype.forceConcatenatedQuery=function(e,t,n){return s.get().then(function(i){return i.getRestService().then(function(i){i.createConcatenatedQuery(e,t,n)})})};e.prototype.getForcedConcatRecommendations=function(e){return s.get().then(function(t){return t.getRestService().then(function(t){return t.getForcedConcatRecommendations(e)})})};e.prototype.getVisRecommendations=function(e,t){return this.openDataPrepApp().then(function(){return s.get().then(function(n){return n.getRestService().then(function(n){var i={table:e,fields:t};return n.getVisRecommendations(i)})})})};e.prototype.adaptVisualization=function(e,t,n,i){return s.get().then(function(r){return r.getRestService().then(function(r){return r.adaptVisualization("update",e,t,n,i,[])})})};e.prototype.sendGenericCommand=function(e){return s.get().then(function(t){return t.dps.session.__enigmaSession.send(e)})};return new e})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(48),n(91),n(203)],r=function(e,t,n,i){var r="M4,5.84027778 L4,3 L1.2,3 C1.08954305,3 1,3.08954305 1,3.2 L1,12.8 C1,12.9104569 1.08954305,13 1.2,13 L4,13 L4,6.72152812 C3.36593141,6.95951806 2.69926475,7.31160128 2,7.77777778 C2.66666667,6.94444444 3.33333333,6.29861111 4,5.84027778 Z M5,6.43553932 L5,13 L14.8,13 C14.9104569,13 15,12.9104569 15,12.8 L15,3.2 C15,3.08954305 14.9104569,3 14.8,3 L5,3 L5,5.29340278 C6.96296296,4.49594907 8.92592593,5.32407407 10.8888889,7.77777778 C10.8888889,7.77777778 11.2592593,7.40740741 12,6.66666667 L12,10 L8.66666667,10 C9.40740741,9.25925926 9.77777778,8.88888889 9.77777778,8.88888889 C8.52447243,6.88360034 6.93187984,6.06581715 5,6.43553932 Z M1,2 L15,2 C15.5522847,2 16,2.44771525 16,3 L16,13 C16,13.5522847 15.5522847,14 15,14 L1,14 C0.44771525,14 6.76353751e-17,13.5522847 0,13 L0,3 C-6.76353751e-17,2.44771525 0.44771525,2 1,2 Z";var o=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;function a(e,t,n){this.offsetX=e;this.offsetY=t;this.elem=n}a.prototype.update=function(e,t){var n={x:e.pageX+this.offsetX,y:e.pageY+this.offsetY},i=this.elem;t&&t.snapToGrid&&t.snapToGrid.snapFunc(e,t,n,i);if(o){i.style.left=n.x+"px";i.style.top=n.y+"px"}else{var r="translate3d("+n.x+"px, "+n.y+"px, 0)";i.style.transform=r;i.style.webkitTransform=r;i.style.mozTransform=r;i.style.msTransform=r}};a.prototype.end=function(){this.elem.parentNode.removeChild(this.elem)};function s(e,t,n,i,r){if(e[n]&&e[n][t.type])return e[n][t.type].call(null,i,r);if("function"===typeof e[n])return e[n].call(null,i,r)}function l(e,t,n,i){this.info=e;this.handle=t;this.targets=n;this.scrollComponents=i;this.rects=[];this.scrollRects=[];var r=document.body.getBoundingClientRect();this.docRect=r;var o=document.createElement("canvas");this.canvas=o;o.style.position="absolute";o.style.left=(window.pageXOffset||0)+"px";o.style.top=(window.pageYOffset||0)+"px";o.style.zIndex=999;o.width=r.width;o.height=r.height;o.classList.add("drag-and-drop-canvas");document.body.appendChild(o);this.context=o.getContext("2d")}function u(e,t,n,i){if(e.setLineDash){e.setLineDash(i);e.moveTo(d(t.x),d(t.y));e.lineTo(d(n.x),d(n.y));e.stroke()}else{i=i||[2,4];var r=i.length,o=n.x-t.x,a=n.y-t.y,s=Math.sqrt(o*o+a*a),l=s,u=0,c=true,f,p=t.x,h=t.y;o/=s;a/=s;e.moveTo(d(p),d(h));for(u=0;l>=.1&&u<5e3;++u){f=i[u%r];0===f&&(f=.001);f>l&&(f=l);p+=f*o;h+=f*a;e[c?"lineTo":"moveTo"](d(p),d(h));l-=f;c=!c}}}function c(e,t,n){return e.left<=t&&t<=e.right&&e.top<=n&&n<=e.bottom}function d(e){return Math.round(e)}function f(e,t,n,i){n=n||[5];if(e.setLineDash&&!i){e.setLineDash(n);e.strokeRect(d(t.left),d(t.top),d(t.right-t.left),d(t.bottom-t.top))}else{var r=e.lineWidth/2;e.beginPath();var o={x:t.left+r,y:t.top+r},a={x:t.right-r,y:t.top+r},s={x:t.right-r,y:t.bottom-r},l={x:t.left+r,y:t.bottom-r};i.top||u(e,o,a,n);i.right||u(e,a,s,n);i.bottom||u(e,s,l,n);i.left||u(e,l,o,n);e.stroke()}}function p(e,t,n,i,r){var o=e.lineWidth+4;e.beginPath();e.rect(t.left+o,t.top+o,t.right-t.left-2*o,t.bottom-t.top-2*o);e.fillStyle=n?i||r?"rgba(242,242,242,1)":"rgba(242,242,242,0.9)":"rgba(0,0,0,0.05)";e.fill()}function h(e,t,i,o,a){var s=t.right-t.left,l=t.bottom-t.top,u=t.left+s/2,c=t.top+l/2;if(s>40&&l>40){var d="gridcell"!==i&&(o||a)?"DropZone.CreateChart":"DropZone.DropItem",f=n.get(d),p="bold 13px QlikView Sans";e.fillStyle="#404040";e.textAlign="center";if(v(f,p,s)&&l>60){e.save();e.translate(u-8,c-14);e.fill(new Path2D(r));e.restore();e.font=p;e.fillText(f,u,c+18);return}e.save();e.translate(u-8,c+14);e.fill(new Path2D(r));e.restore()}}function v(e,t,n){var r=i.measureTextObject({type:"text",shape:{text:e,font:t,maxWidth:n-12,align:"center",maxNumLines:1}});return!r.truncated}function m(t,n,i){i.rects=[];for(var r=0;r<t.length;++r)s(t[r],n,"start",i);i.rects.sort(function(t,n){return e.compare(n.prio,t.prio)})}l.prototype.start=function(){var e=this.targets;var n=this.info;m(e,n,this);var i=this.scrollComponents;for(var r=0;r<i.length;++r)s(i[r],n,"start",this);t.$rootScope.$apply()};l.prototype.update=function(t){t.preventDefault();var n=t.pageX;var i=t.pageY;this.handle.update(t,this.info);var r;var o;var a=this.scrollRects;var l;var u;for(u=0;u<a.length;++u){r=a[u].targetRect;o=c(r,n,i);if(o){l=a[u];break}}this.scroller&&s(this.scroller,this.info,"leave",l,t);var d=!!l&&s(l,this.info,"enter",l,t);if(d){this.activeRect&&s(this.activeRect,this.info,"leave",this.info);this.context.clearRect(0,0,this.docRect.width,this.docRect.height);this.activeRect=null;this.scroller=l;return}if(this.scroller){m(this.targets,this.info,this);this.scroller=false}var v=this.rects;var g=null;for(u=0;u<v.length;++u){var b=v[u].targetRect;r=e.isFunction(b)?b():b;o=c(r,n,i);if(o){g=v[u];break}}if(g!==this.activeRect){this.activeRect&&s(this.activeRect,this.info,"leave",this.info);var y=this.context;var x=this.docRect;y.clearRect(0,0,x.width,x.height);if(g){y.strokeStyle="#F7A24D";y.lineWidth=2;var w=g.drawRect;if(w){var S=void 0!==g.isEmpty,C=1===g.prio;f(y,w,[5],g.ignoreLines);p(y,w,S,g.isEmpty,C);S&&h(y,w,this.info.type,g.isEmpty,C)}s(g,this.info,"enter",this.info)}}this.activeRect=g};l.prototype.registerDropRect=function(e){e.prio=e.prio||0;this.rects.push(e)};l.prototype.registerScrollRect=function(e){this.scrollRects.push(e)};l.prototype._end=function(){for(var e=0;e<this.targets.length;++e)s(this.targets[e],this.info,"end",this);document.body.removeChild(this.canvas);this.handle.end();this.ended=true;t.$apply(t.$rootScope)};l.prototype.end=function(e){this.activeRect&&s(this.activeRect,this.info,"drop",this.info,e);this._end()};l.prototype.cancel=function(){this._end()};var g=[];var b=[];var y;return{registerScrollComponent:function e(t){var n=b.indexOf(t);-1===n&&b.push(t)},unregisterScrollComponent:function e(t){var n=b.indexOf(t);-1!==n&&b.splice(n,1)},registerDropTarget:function e(t){var n=g.indexOf(t);-1===n&&g.push(t)},unregisterDropTarget:function e(t){var n=g.indexOf(t);-1!==n&&g.splice(n,1)},startDrag:function e(t,n){if(y&&!y.ended)return false;t.style.position="absolute";t.style.left="0";t.style.top="0";t.style.zIndex=9999;document.body.appendChild(t);var i=t.getBoundingClientRect();var r=new a(-i.width/2,-i.height/2,t);var o=g.filter(function(e){return s(e,n,"accept",n)});var u=b.filter(function(){return true});y=new l(n,r,o,u);try{y.start();return y}catch(e){y.cancel();return false}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(384)],r=function(e){return{isContinuousChart:function t(n){if(!n.qHyperCube)return false;var i=this.canBeContinuousChart(n),r=e.isTimeDimension(i,n.qHyperCube.qDimensionInfo[0]),o="linechart"===n.visualization||n.qHyperCube.qMeasureInfo.some(function(e){return e.series&&"line"===e.series.type}),a=false;a=n.dimensionAxis&&n.dimensionAxis.continuousAuto?r&&o:i&&n.preferContinuousAxis;return a},canBeContinuousChart:function e(t){if(!t.qHyperCube||t.qHyperCube.qDimensionInfo.length<1)return false;var n=t.qHyperCube.qDimensionInfo[0].qTags||[];return t.qHyperCube.qDimensionInfo[0].qContinuousAxes&&n.indexOf("$numeric")>=0}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(90),n(91)],r=function(e,t,n){var i,r;r="Not supported in this object, need to implement in subclass.";i=e.extend({init:function e(t){t=t||{};this.dimensionDefinition=t.dimensionDefinition||{max:0};this.measureDefinition=t.measureDefinition||{max:0};t.dimensionDefinition&&(this.dimensionProperties=t.dimensionProperties||{});t.measureDefinition&&(this.measureProperties=t.measureProperties||{});t.globalChangeListeners&&(this.globalChangeListeners=t.globalChangeListeners);t.addDimensionLabel&&(this.addDimensionLabel=t.addDimensionLabel);this.app=t.app},setProperties:function e(t){this.properties=t},setGlobalChangeListeners:function e(t){this.globalChangeListeners=t},setLayout:function e(t){this.layout=t},type:function e(){throw new Error("Must override this method")},getDimensions:function e(){return[]},getDimension:function e(t){var n=this.getDimensions(),i=0;for(i;i<n.length;++i)if(n[i].qDef.cId===t)return n[i];return null},minDimensions:function e(){if("function"===typeof this.dimensionDefinition.min)return this.dimensionDefinition.min.call(null,this.properties,this);return this.dimensionDefinition.min||0},maxDimensions:function e(t){t=t||0;if("function"===typeof this.dimensionDefinition.max)return this.dimensionDefinition.max.call(null,this.getMeasures().length-t);return Number.isNaN(+this.dimensionDefinition.max)?1e4:this.dimensionDefinition.max},canAddDimension:function e(){return this.getDimensions().length<this.maxDimensions()},minMeasures:function e(){if("function"===typeof this.measureDefinition.min)return this.measureDefinition.min.call(null,this.properties,this);return this.measureDefinition.min||0},maxMeasures:function e(t){t=t||0;if("function"===typeof this.measureDefinition.max)return this.measureDefinition.max.call(null,this.getDimensions().length-t);return Number.isNaN(+this.measureDefinition.max)?1e4:this.measureDefinition.max},canAddMeasure:function e(){return this.getMeasures().length<this.maxMeasures()},getMeasures:function e(){return[]},getLabels:function e(){return[]},getMeasure:function e(t){var n=this.getMeasures(),i=0;for(i;i<n.length;++i)if(n[i].qDef.cId===t)return n[i];return null},addDimension:function e(){throw r},getSorting:function e(){throw r},addFieldDimension:function e(t,n,i){var r=this.createFieldDimension(t,n,i);return this.addDimension(r)},addLibraryDimension:function e(t,n){var i=this.createLibraryDimension(t,n);return this.addDimension(i)},addMeasure:function e(){throw r},addExpressionMeasure:function e(t,n,i){var r=this.createExpressionMeasure(t,n,i);return this.addMeasure(r)},addLibraryMeasure:function e(t,n){var i=this.createLibraryMeasure(t,n);return this.addMeasure(i)},addAlternativeFieldDimension:function e(t,n,i){var r=this.createFieldDimension(t,n,i);return this.addDimension(r,true)},addAlternativeLibraryDimension:function e(t,n){var i=this.createLibraryDimension(t,n);return this.addDimension(i,true)},addAlternativeExpressionMeasure:function e(t,n,i){var r=this.createExpressionMeasure(t,n,i);return this.addMeasure(r,true)},addAlternativeLibraryMeasure:function e(t,n){var i=this.createLibraryMeasure(t,n);return this.addMeasure(i,true)},replaceDimension:function e(){throw r},replaceMeasure:function e(){throw r},autoSortDimension:function e(){throw r},autoSortMeasure:function e(){throw r},createFieldDimension:function e(n,i,r){var o=t.extend(true,{},this.dimensionProperties||{},r||{});o.qDef||(o.qDef={});o.qOtherTotalSpec||(o.qOtherTotalSpec={});if(n){o.qDef.qFieldDefs=[n];o.qDef.qFieldLabels=i?[i]:[""];o.qDef.qSortCriterias=[{qSortByLoadOrder:1}]}else{o.qDef.qFieldDefs=[];o.qDef.qFieldLabels=[];o.qDef.qSortCriterias=[]}o.qDef.autoSort=true;return o},createLibraryDimension:function e(n,i){var r=t.extend(true,{},this.dimensionProperties||{},i||{});r.qDef||(r.qDef={});r.qOtherTotalSpec||(r.qOtherTotalSpec={});r.qLibraryId=n;r.qDef.qSortCriterias=[{qSortByLoadOrder:1}];r.qDef.autoSort=true;delete r.qDef.qFieldDefs;delete r.qDef.qFieldLabels;return r},createExpressionMeasure:function e(n,i,r){var o=t.extend(true,{},this.measureProperties||{},r||{});o.qDef||(o.qDef={});o.qDef.qNumFormat||(o.qDef.qNumFormat={});o.qDef.qDef=n;o.qDef.qLabel=i;o.qDef.autoSort=true;return o},createLibraryMeasure:function e(n,i){var r=t.extend(true,{},this.measureProperties||{},i||{});r.qDef||(r.qDef={});r.qDef.qNumFormat||(r.qDef.qNumFormat={});r.qLibraryId=n;r.qDef.autoSort=true;delete r.qDef.qDef;delete r.qDef.qLabel;return r},updateGlobalChangeListeners:function e(){this.globalChangeListeners&&(this.globalChangeListeners||[]).forEach(function(e){e&&"function"===typeof e&&e(this.properties,this)}.bind(this))},removeDimension:function e(){throw r},removeMeasure:function e(){throw r},moveDimension:function e(){throw r},moveMeasure:function e(){throw r},changeSorting:function e(){throw r},getAddDimensionLabel:function e(){return this.addDimensionLabel||n.get("Visualization.Requirements.AddDimension")}});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(48),n(140),n(110),n(132),n(230),n(422),n(91),n(628),n(630),n(631),n(334),n(336),n(158),n(632),n(648),n(649),n(113)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g){var b=i.NxLocalizedErrorCode;var y,x,w={},S;function C(e){this.fieldCache={};this.stateCache={};Object.defineProperties(this,{id:{value:e.id},model:{value:e}});e.session&&Object.defineProperties(this,{global:{value:new d(e.session)},bookmark:{value:new u(e)},variable:{value:new c(e,this)},visualization:{value:new h(this)}});Object.defineProperties(this,{theme:{value:new m(e)}});e.rpcOptions&&e.rpcOptions.qEvent&&(this.qEvent=e.rpcOptions.qEvent);this.getAppLayout()}C.prototype.clearAll=function(e,t){return p.appDoIt(this.model,"clearAll",[e||false,t||"$"])};C.prototype.back=function(){return p.appDoIt(this.model,"back")};C.prototype.forward=function(){return p.appDoIt(this.model,"forward")};C.prototype.lockAll=function(e){return p.appDoIt(this.model,"lockAll",[e||"$"])};C.prototype.unlockAll=function(e){return p.appDoIt(this.model,"unlockAll",[e||"$"])};function E(t,n){var i=n||new e;t.getLayout().then(function(){i.resolve(t)},function(e){i.reject(e)});return i.promise}C.prototype.getObject=function(t,n,i){var o,a,l=this.model;var u=this;if(!n){n=t;t=void 0}o=new e;l.waitForOpen.promise.then(function(){if("CurrentSelections"===n){if(t){var c=i||{};c.currentSelections=true;a=p.showVisualization(t,null,c,l)}r.get(l).then(function(e){e.close=function(){return p.clearElement(t,a)};o.resolve(e)})}else if("AppNavigationBar"===n&&g["ODAG_MASHUP"]){var d=i||{};i.app=l;d.showNavigationToolbar=true;a=p.showVisualization(t,i,d,l);o.resolve()}else l.enigmaModel.getObject(n).then(function(n){return E(n).then(function(n){var r;if(t){r=new e;a=p.showVisualization(t,n,i,l);n.close=function(){n.Closed.emit();return r.promise};n.Closed.once(function(){p.clearElement(t,a).then(function(){r.resolve()})})}E(n,o)})},function(e){e.error&&e.error.code===b.LOCERR_GENERIC_NOT_FOUND&&(e={message:s.get("Object not found"),code:e.error.code});if(u.qEvent&&u.qEvent.hasHandlers("error")){u.qEvent.emit("error",e);e.isHandled=true}else if(y){y(e);e.isHandled=true}o.reject(e)})},function(){o.reject()});return o.promise};C.prototype.getSnapshot=function(e,t){if(!t){t=e;e=void 0}var n=this.model;return n.waitForOpen.promise.then(function(){return o.get(t,n).then(function(t){e&&p.showVisualization(e,t.enigmaModel,{APIType:a,noInteraction:true},n);return t.getLayout().then(function(){return t})})})};C.prototype.getObjectProperties=function(e){var t=this.model;return t.waitForOpen.promise.then(function(){return t.enigmaModel.getObject(e)}).then(function(e){return e.getProperties().then(function(){return e})})};C.prototype.getFullPropertyTree=function(e){var t=this.model;return t.waitForOpen.promise.then(function(){return t.enigmaModel.getObject(e)}).then(function(e){return e.getFullPropertyTree().then(function(t){e.propertyTree=t;return e})})};C.prototype.createGenericObject=function(t,n){var i=this;return i.model.waitForOpen.promise.then(function(){var e=n?function(e){n(e,i)}:function(){};p.setDefaultId(t);return i.model.enigmaModel.getOrCreateSessionObject(t).then(function(t){t.Invalidated.bind(function(){t.getLayout().then(e)});t.close=function(){return i.destroySessionObject(t.id).then(function(){t.emit("closed",t);return t})};t.Closed.bind(function(){i.model.enigmaModel._listCache&&i.model.enigmaModel._listCache[this.id]&&delete i.model.enigmaModel._listCache[this.id]});return t.getLayout().then(function(n){e(n);return t})},function(e){if(y){y(e.error,i);e.error.isHandled=true}})},function(){return e.reject()})};C.prototype.destroySessionObject=function(e){return p.appDoIt(this.model,"destroySessionObject",[e])};C.prototype.createCube=function(e,t){return this.createGenericObject({qHyperCubeDef:e},t)};C.prototype.createList=function(e,t){return this.createGenericObject({qListObjectDef:e},t)};C.prototype.getList=function(e,t){return this.createGenericObject(p.getDefaultListParam(e),t)};C.prototype.getAppObjectList=function(e,t){if(!t){t=e;e="sheet"}return this.getList(e,t)};C.prototype.searchSuggest=function(e,t,n){var i=p.appDoIt(this.model,"searchSuggest",[t,e]).then(function(e){return{qResult:e}});n&&i.then(function(e){n(e)});return i};C.prototype.searchAssociations=function(e,t,n,i){var r=p.appDoIt(this.model,"searchAssociations",[n||{},e,t]).then(function(e){return{qResults:e}});i&&r.then(function(e){i(e)});return r};C.prototype.searchResults=function(e,t,n,i){var r=p.appDoIt(this.model,"searchResults",[n||{},e,t]).then(function(e){return{qResult:e}});i&&r.then(function(e){i(e)});return r};C.prototype.selectAssociations=function(e,t,n){return p.appDoIt(this.model,"selectAssociations",[n||{},t,e])};C.prototype.getAppLayout=function(t){var n=this,i=new e,r=t?function(e){t(e.layout,n)}:function(){};n.model.waitForOpen?n.model.waitForOpen.promise.then(function(){n.model.Invalidated&&n.model.Invalidated.bind(function(){E(n.model).then(r)});E(n.model).then(function(e){r(e);i.resolve(e)})}):E(n.model).then(function(e){r(e);i.resolve(e)});return i.promise};C.prototype.addAlternateState=function(e){return p.appDoIt(this.model,"addAlternateState",[e])};C.prototype.removeAlternateState=function(e){return p.appDoIt(this.model,"removeAlternateState",[e])};C.prototype.doReload=function(e,t,n){this.fieldCache={};return p.appDoIt(this.model,"doReload",[e||0,t||false,n||false])};C.prototype.doSave=function(e){return p.appDoIt(this.model,"doSave",[e])};C.prototype.field=function(e,t){var n=t?e+"/"+t:e;this.fieldCache[n]||(this.fieldCache[n]=new l(this,e,t));return this.fieldCache[n]};C.prototype.table=function(e,t){return new f(this,e,t)};C.setErrorCallback=function(e,t){y=e;x=t};C.prototype.createTable=function(e,t,n){var i=p.createHypercubeDef(e,t,n);return new f(this,this.createGenericObject({qHyperCubeDef:i}))};C.prototype.selectionState=function(e){var t=e||"$";if(!this.stateCache[t]){var n=p.getDefaultListParam("CurrentSelections",{qStateName:t});this.stateCache[t]=new v(this,this.createGenericObject(n),t)}return this.stateCache[t]};C.prototype.getScript=function(){if(this.model.getScript)return this.model.getScript().then(function(e){return{qScript:e}});return this.model.rpc("GetScript")};C.prototype.setScript=function(e){var t=this.model;var n="function"===typeof this.model.setScript?function(e){return t.setScript(e)}:function(e){return t.rpc("SetScript",null,[e])};var i="function"===typeof this.model.checkScriptSyntax?function(){return t.checkScriptSyntax().then(function(e){return{qErrors:e}})}:function(){return t.rpc("CheckScriptSyntax")};function r(e,t){return t.qErrors&&t.qErrors.length>0?t:e}return n(e).then(function(e){return i().then(function(t){return r(e,t)})})};C.currApp=function(e){var t;t=e&&e.backendApi&&e.backendApi.model.session&&(e.backendApi.model.session.currentApp||e.backendApi.model.session.app)?e.backendApi.model.session.currentApp||e.backendApi.model.session.app:e&&e.backendApi&&e.backendApi.model.app?e.backendApi.model.app:n.current;if(!t)return null;S||(S=new C(t));if(S.model===t)return S;return new C(t)};C.openApp=function(i,r){p.initClient();i=i||"";r=r||{};this._qEvent&&(r._qEvent=this._qEvent);var o=p.makeConfig(r),a=n.makeCacheId(i,o),s,l;if(w[a])return w[a];s=y?function(e){y(e||{code:b.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:y;x&&(l=x);var u=n.getSync(i,o,true,s,l);if(u){var c=new C(u);c.close=function(){var t=new e;setTimeout(function(){delete w[a];t.resolve(u.close(false))},200);return t.promise};u.waitForOpen.promise.then(function(){document.addEventListener("onAppStateChanged",function(e){if(e.detail&&e.detail.inForegroundNow){t.getService("$delayedModal").close();u.enigmaModel.session.resume(true)}else if(e.detail&&!e.detail.inForegroundNow){c.fieldCache={};c.stateCache={};u.enigmaModel.session.suspend()}})});w[a]=c}return w[a]};C.sessionApp=function(e){return this.sessionAppFromApp("?transient=",e)};C.sessionAppFromApp=function(t,i){var r;p.initClient();var o=p.makeConfig(i),a=n.makeCacheId(t,o),s;o.identity=o.identity||"sessionapp";o.sessionApp={value:true,appId:t};s=function e(t){if(t&&1002===t.code){t.isHandled=true;return}y&&y({code:b.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})};var l=n.getSync(t,o,true,s,x);if(l){r=new C(l);r.close=function(){var t=new e;setTimeout(function(){delete w[a];t.resolve(l.close(false))},200);return t.promise}}return r};C.table=function(e,t){var n=C.currApp(e);return n.table(e,t)};C.prototype.on=function(e,t){this.qEvent.register({scope:"QApp",name:e,callback:t})};C.prototype.off=function(e){this.qEvent.clear(e)};return C}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(48),n(102),n(653),n(10)],r=function(e,t,n,i){t.service("qvChartTooltipService",["$document","$timeout",function(t,r){var o,a,s=t.find("body"),l=e.element('<div id="qs-chart-tooltip">').appendTo(s);var u,c,d=false;function f(){r.cancel(c);c=null;r.cancel(u);u=null}o={open:function e(t,n,s){d&&a&&a.hide();f();if(!a){var p=t.position;t.position=void 0;a=l.showComponent(i,t);t.position=p}l.attr("dir",t.dir);u=r(function(){n&&(c=r(function(){o.close()},n));d=true;a.show(t)},s)},close:function e(){this.Closed.emit();a&&r(function(){a.hide()});f()},destroy:function e(){d&&a&&a.hide();a=null}};n.create(o,"Closed");return o}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(119),n(717)],r=function(e,t){e.directive("tinyEditor",function(){return{template:t,replace:true,restrict:"E",scope:{value:"=",invalid:"=?",maxLength:"=?",onOpen:"&",onBlur:"&",alwaysExpression:"@?"},link:function e(t){t.editorValue=t.value;t.isExpression=n(t.editorValue);t.$watch("value",function(){if(t.value!==t.editorValue){t.isExpression=n(t.value);t.editorValue=t.value}});t.focused=function(){t.active=true};t.blurred=function(e){t.isExpression=n(t.editorValue);t.active=false;t.onBlur({$event:e})};t.open=function(e){t.onOpen({$event:e})};t.change=function(){t.value=t.editorValue};function n(e){var n="false"!==t.alwaysExpression;if(n)return(e||"").length>0;return"="===(e||"")[0]}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r,o;(function(a){true;!(r=[n(11)],i=a,o="function"===typeof i?i.apply(t,r):i,void 0!==o&&(e.exports=o))})(function(e){e.ui=e.ui||{};var t=e.ui.version="1.12.1";var n=0;var i=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=e._data(r,"events");i&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData);e.widget=function(t,n,i){var r,o,a;var s={};var l=t.split(".")[0];t=t.split(".")[1];var u=l+"-"+t;if(!i){i=n;n=e.Widget}e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i)));e.expr[":"][u.toLowerCase()]=function(t){return!!e.data(t,u)};e[l]=e[l]||{};r=e[l][t];o=e[l][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)};e.extend(o,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]});a=new n;a.options=e.widget.extend({},a.options);e.each(i,function(t,i){if(!e.isFunction(i)){s[t]=i;return}s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var t=this._super;var n=this._superApply;var o;this._super=e;this._superApply=r;o=i.apply(this,arguments);this._super=t;this._superApply=n;return o}}()});o.prototype=e.widget.extend(a,{widgetEventPrefix:r&&a.widgetEventPrefix||t},s,{constructor:o,namespace:l,widgetName:t,widgetFullName:u});if(r){e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)});delete r._childConstructors}else n._childConstructors.push(o);e.widget.bridge(t,o);return o};e.widget.extend=function(t){var n=i.call(arguments,1);var r=0;var o=n.length;var a;var s;for(;r<o;r++)for(a in n[r]){s=n[r][a];n[r].hasOwnProperty(a)&&void 0!==s&&(e.isPlainObject(s)?t[a]=e.isPlainObject(t[a])?e.widget.extend({},t[a],s):e.widget.extend({},s):t[a]=s)}return t};e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"===typeof o;var s=i.call(arguments,1);var l=this;if(a)this.length||"instance"!==o?this.each(function(){var n;var i=e.data(this,r);if("instance"===o){l=i;return false}if(!i)return e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'");if(!e.isFunction(i[o])||"_"===o.charAt(0))return e.error("no such method '"+o+"' for "+t+" widget instance");n=i[o].apply(i,s);if(n!==i&&void 0!==n){l=n&&n.jquery?l.pushStack(n.get()):n;return false}}):l=void 0;else{s.length&&(o=e.widget.extend.apply(null,[o].concat(s)));this.each(function(){var t=e.data(this,r);if(t){t.option(o||{});t._init&&t._init()}else e.data(this,r,new n(o,this))})}return l}};e.Widget=function(){};e.Widget._childConstructors=[];e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0];this.element=e(i);this.uuid=n++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=e();this.hoverable=e();this.focusable=e();this.classesElementLookup={};if(i!==this){e.data(i,this.widgetFullName,this);this._on(true,this.element,{remove:function(e){e.target===i&&this.destroy()}});this.document=e(i.style?i.ownerDocument:i.document||i);this.window=e(this.document[0].defaultView||this.document[0].parentWindow)}this.options=e.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy();e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i=t;var r;var o;var a;if(0===arguments.length)return e.widget.extend({},this.options);if("string"===typeof t){i={};r=t.split(".");t=r.shift();if(r.length){o=i[t]=e.widget.extend({},this.options[t]);for(a=0;a<r.length-1;a++){o[r[a]]=o[r[a]]||{};o=o[r[a]]}t=r.pop();if(1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];i[t]=n}}this._setOptions(i);return this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){"classes"===e&&this._setOptionClasses(t);this.options[e]=t;"disabled"===e&&this._setOptionDisabled(t);return this},_setOptionClasses:function(t){var n,i,r;for(n in t){r=this.classesElementLookup[n];if(t[n]===this.options.classes[n]||!r||!r.length)continue;i=e(r.get());this._removeClass(r,n);i.addClass(this._classes({element:i,keys:n,classes:t,add:true}))}},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e);if(e){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(t){var n=[];var i=this;t=e.extend({element:this.element,classes:this.options.classes||{}},t);function r(r,o){var a,s;for(s=0;s<r.length;s++){a=i.classesElementLookup[r[s]]||e();a=t.add?e(e.unique(a.get().concat(t.element.get()))):e(a.not(t.element).get());i.classesElementLookup[r[s]]=a;n.push(r[s]);o&&t.classes[r[s]]&&n.push(t.classes[r[s]])}}this._on(t.element,{remove:"_untrackClassesElement"});t.keys&&r(t.keys.match(/\S+/g)||[],true);t.extra&&r(t.extra.match(/\S+/g)||[]);return n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,r){-1!==e.inArray(t.target,r)&&(n.classesElementLookup[i]=e(r.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,false)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,true)},_toggleClass:function(e,t,n,i){i="boolean"===typeof i?i:n;var r="string"===typeof e||null===e,o={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};o.element.toggleClass(this._classes(o),i);return this},_on:function(t,n,i){var r;var o=this;if("boolean"!==typeof t){i=n;n=t;t=false}if(i){n=r=e(n);this.bindings=this.bindings.add(n)}else{i=n;n=this.element;r=this.widget()}e.each(i,function(i,a){function s(){if(!t&&(true===o.options.disabled||e(this).hasClass("ui-state-disabled")))return;return("string"===typeof a?o[a]:a).apply(o,arguments)}"string"!==typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/);var u=l[1]+o.eventNamespace;var c=l[2];c?r.on(u,c,s):n.on(u,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.off(n).off(n);this.bindings=e(this.bindings.not(t).get());this.focusable=e(this.focusable.not(t).get());this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"===typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var r,o;var a=this.options[t];i=i||{};n=e.Event(n);n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase();n.target=this.element[0];o=n.originalEvent;if(o)for(r in o)r in n||(n[r]=o[r]);this.element.trigger(n,i);return!(e.isFunction(a)&&false===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}};e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"===typeof r&&(r={effect:r});var a;var s=r?true===r||"number"===typeof r?n:r.effect||n:t;r=r||{};"number"===typeof r&&(r={duration:r});a=!e.isEmptyObject(r);r.complete=o;r.delay&&i.delay(r.delay);a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t]();o&&o.call(i[0]);n()})}});var r=e.widget;(function(){var t,n=Math.max,i=Math.abs,r=/left|center|right/,o=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,u=e.fn.position;function c(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function d(t,n){return parseInt(e.css(t,n),10)||0}function f(t){var n=t[0];if(9===n.nodeType)return{width:t.width(),height:t.height(),offset:{top:0,left:0}};if(e.isWindow(n))return{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}};if(n.preventDefault)return{width:0,height:0,offset:{top:n.pageY,left:n.pageX}};return{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var n,i,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];e("body").append(r);n=o.offsetWidth;r.css("overflow","scroll");i=o.offsetWidth;n===i&&(i=r[0].clientWidth);r.remove();return t=n-i},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?e(t).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}};e.fn.position=function(t){if(!t||!t.of)return u.apply(this,arguments);t=e.extend({},t);var l,p,h,v,m,g,b=e(t.of),y=e.position.getWithinInfo(t.within),x=e.position.getScrollInfo(y),w=(t.collision||"flip").split(" "),S={};g=f(b);b[0].preventDefault&&(t.at="left top");p=g.width;h=g.height;v=g.offset;m=e.extend({},v);e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,i;1===e.length&&(e=r.test(e[0])?e.concat(["center"]):o.test(e[0])?["center"].concat(e):["center","center"]);e[0]=r.test(e[0])?e[0]:"center";e[1]=o.test(e[1])?e[1]:"center";n=a.exec(e[0]);i=a.exec(e[1]);S[this]=[n?n[0]:0,i?i[0]:0];t[this]=[s.exec(e[0])[0],s.exec(e[1])[0]]});1===w.length&&(w[1]=w[0]);"right"===t.at[0]?m.left+=p:"center"===t.at[0]&&(m.left+=p/2);"bottom"===t.at[1]?m.top+=h:"center"===t.at[1]&&(m.top+=h/2);l=c(S.at,p,h);m.left+=l[0];m.top+=l[1];return this.each(function(){var r,o,a=e(this),s=a.outerWidth(),u=a.outerHeight(),f=d(this,"marginLeft"),g=d(this,"marginTop"),C=s+f+d(this,"marginRight")+x.width,E=u+g+d(this,"marginBottom")+x.height,q=e.extend({},m),_=c(S.my,a.outerWidth(),a.outerHeight());"right"===t.my[0]?q.left-=s:"center"===t.my[0]&&(q.left-=s/2);"bottom"===t.my[1]?q.top-=u:"center"===t.my[1]&&(q.top-=u/2);q.left+=_[0];q.top+=_[1];r={marginLeft:f,marginTop:g};e.each(["left","top"],function(n,i){e.ui.position[w[n]]&&e.ui.position[w[n]][i](q,{targetWidth:p,targetHeight:h,elemWidth:s,elemHeight:u,collisionPosition:r,collisionWidth:C,collisionHeight:E,offset:[l[0]+_[0],l[1]+_[1]],my:t.my,at:t.at,within:y,elem:a})});t.using&&(o=function(e){var r=v.left-q.left,o=r+p-s,l=v.top-q.top,c=l+h-u,d={target:{element:b,left:v.left,top:v.top,width:p,height:h},element:{element:a,left:q.left,top:q.top,width:s,height:u},horizontal:o<0?"left":r>0?"right":"center",vertical:c<0?"top":l>0?"bottom":"middle"};p<s&&i(r+o)<p&&(d.horizontal="center");h<u&&i(l+c)<h&&(d.vertical="middle");n(i(r),i(o))>n(i(l),i(c))?d.important="horizontal":d.important="vertical";t.using.call(this,e,d)});a.offset(e.extend(q,{using:o}))})};e.ui.position={fit:{left:function(e,t){var i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=e.left-t.collisionPosition.marginLeft,s=r-a,l=a+t.collisionWidth-o-r,u;if(t.collisionWidth>o)if(s>0&&l<=0){u=e.left+s+t.collisionWidth-o-r;e.left+=s-u}else e.left=l>0&&s<=0?r:s>l?r+o-t.collisionWidth:r;else s>0?e.left+=s:l>0?e.left-=l:e.left=n(e.left-a,e.left)},top:function(e,t){var i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,s=r-a,l=a+t.collisionHeight-o-r,u;if(t.collisionHeight>o)if(s>0&&l<=0){u=e.top+s+t.collisionHeight-o-r;e.top+=s-u}else e.top=l>0&&s<=0?r:s>l?r+o-t.collisionHeight:r;else s>0?e.top+=s:l>0?e.top-=l:e.top=n(e.top-a,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,o=n.width,a=n.isWindow?n.scrollLeft:n.offset.left,s=e.left-t.collisionPosition.marginLeft,l=s-a,u=s+t.collisionWidth-o-a,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0],p,h;if(l<0){p=e.left+c+d+f+t.collisionWidth-o-r;(p<0||p<i(l))&&(e.left+=c+d+f)}else if(u>0){h=e.left-t.collisionPosition.marginLeft+c+d+f-a;(h>0||i(h)<u)&&(e.left+=c+d+f)}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,o=n.height,a=n.isWindow?n.scrollTop:n.offset.top,s=e.top-t.collisionPosition.marginTop,l=s-a,u=s+t.collisionHeight-o-a,c="top"===t.my[1],d=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1],h,v;if(l<0){v=e.top+d+f+p+t.collisionHeight-o-r;(v<0||v<i(l))&&(e.top+=d+f+p)}else if(u>0){h=e.top-t.collisionPosition.marginTop+d+f+p-a;(h>0||i(h)<u)&&(e.top+=d+f+p)}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}}})();var o=e.ui.position;var a=e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}});var s=e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var l="ui-effects-",u="ui-effects-style",c="ui-effects-animated",d=e;e.effects={effect:{}};(function(e,t){var n="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",i=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},l=o.support={},u=e("<p>")[0],c,d=e.each;u.style.cssText="background-color:rgba(1,1,1,.5)";l.rgba=u.style.backgroundColor.indexOf("rgba")>-1;d(a,function(e,t){t.cache="_"+e;t.props.alpha={idx:3,type:"percent",def:1}});function f(e,t,n){var i=s[t.type]||{};if(null==e)return n||!t.def?null:t.def;e=i.floor?~~e:parseFloat(e);if(isNaN(e))return t.def;if(i.mod)return(e+i.mod)%i.mod;return 0>e?0:i.max<e?i.max:e}function p(t){var n=o(),i=n._rgba=[];t=t.toLowerCase();d(r,function(e,r){var o,s=r.re.exec(t),l=s&&r.parse(s),u=r.space||"rgba";if(l){o=n[u](l);n[a[u].cache]=o[a[u].cache];i=n._rgba=o._rgba;return false}});if(i.length){"0,0,0,0"===i.join()&&e.extend(i,c.transparent);return n}return c[t]}o.fn=e.extend(o.prototype,{parse:function(n,i,r,s){if(n===t){this._rgba=[null,null,null,null];return this}if(n.jquery||n.nodeType){n=e(n).css(i);i=t}var l=this,u=e.type(n),h=this._rgba=[];if(i!==t){n=[n,i,r,s];u="array"}if("string"===u)return this.parse(p(n)||c._default);if("array"===u){d(a.rgba.props,function(e,t){h[t.idx]=f(n[t.idx],t)});return this}if("object"===u){d(a,n instanceof o?function(e,t){n[t.cache]&&(l[t.cache]=n[t.cache].slice())}:function(t,i){var r=i.cache;d(i.props,function(e,t){if(!l[r]&&i.to){if("alpha"===e||null==n[e])return;l[r]=i.to(l._rgba)}l[r][t.idx]=f(n[e],t,true)});if(l[r]&&e.inArray(null,l[r].slice(0,3))<0){l[r][3]=1;i.from&&(l._rgba=i.from(l[r]))}});return this}},is:function(e){var t=o(e),n=true,i=this;d(a,function(e,r){var o,a=t[r.cache];if(a){o=i[r.cache]||r.to&&r.to(i._rgba)||[];d(r.props,function(e,t){if(null!=a[t.idx]){n=a[t.idx]===o[t.idx];return n}})}return n});return n},_space:function(){var e=[],t=this;d(a,function(n,i){t[i.cache]&&e.push(n)});return e.pop()},transition:function(e,t){var n=o(e),i=n._space(),r=a[i],l=0===this.alpha()?o("transparent"):this,u=l[r.cache]||r.to(l._rgba),c=u.slice();n=n[r.cache];d(r.props,function(e,i){var r=i.idx,o=u[r],a=n[r],l=s[i.type]||{};if(null===a)return;if(null===o)c[r]=a;else{l.mod&&(a-o>l.mod/2?o+=l.mod:o-a>l.mod/2&&(o-=l.mod));c[r]=f((a-o)*t+o,i)}});return this[i](c)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=o(t)._rgba;return o(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});if(1===n[3]){n.pop();t="rgb("}return t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){null==e&&(e=t>2?1:0);t&&t<3&&(e=Math.round(100*e)+"%");return e});if(1===n[3]){n.pop();t="hsl("}return t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();t&&n.push(~~(255*i));return"#"+e.map(n,function(e){e=(e||0).toString(16);return 1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});o.fn.parse.prototype=o.fn;function h(e,t,n){n=(n+1)%1;if(6*n<1)return e+(t-e)*n*6;if(2*n<1)return t;if(3*n<2)return e+(t-e)*(2/3-n)*6;return e}a.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,i=e[2]/255,r=e[3],o=Math.max(t,n,i),a=Math.min(t,n,i),s=o-a,l=o+a,u=.5*l,c,d;c=a===o?0:t===o?60*(n-i)/s+360:n===o?60*(i-t)/s+120:60*(t-n)/s+240;d=0===s?0:u<=.5?s/l:s/(2-l);return[Math.round(c)%360,d,u,null==r?1:r]};a.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],r=e[3],o=i<=.5?i*(1+n):i+n-i*n,a=2*i-o;return[Math.round(255*h(a,o,t+1/3)),Math.round(255*h(a,o,t)),Math.round(255*h(a,o,t-1/3)),r]};d(a,function(n,r){var a=r.props,s=r.cache,l=r.to,u=r.from;o.fn[n]=function(n){l&&!this[s]&&(this[s]=l(this._rgba));if(n===t)return this[s].slice();var i,r=e.type(n),c="array"===r||"object"===r?n:arguments,p=this[s].slice();d(a,function(e,t){var n=c["object"===r?e:t.idx];null==n&&(n=p[t.idx]);p[t.idx]=f(n,t)});if(u){i=o(u(p));i[s]=p;return i}return o(p)};d(a,function(t,r){if(o.fn[t])return;o.fn[t]=function(o){var a=e.type(o),s="alpha"===t?this._hsla?"hsla":"rgba":n,l=this[s](),u=l[r.idx],c;if("undefined"===a)return u;if("function"===a){o=o.call(this,u);a=e.type(o)}if(null==o&&r.empty)return this;if("string"===a){c=i.exec(o);c&&(o=u+parseFloat(c[2])*("+"===c[1]?1:-1))}l[r.idx]=o;return this[s](l)}})});o.hook=function(t){var n=t.split(" ");d(n,function(t,n){e.cssHooks[n]={set:function(t,i){var r,a,s="";if("transparent"!==i&&("string"!==e.type(i)||(r=p(i)))){i=o(r||i);if(!l.rgba&&1!==i._rgba[3]){a="backgroundColor"===n?t.parentNode:t;while((""===s||"transparent"===s)&&a&&a.style)try{s=e.css(a,"backgroundColor");a=a.parentNode}catch(e){}i=i.blend(s&&"transparent"!==s?s:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(e){}}};e.fx.step[n]=function(t){if(!t.colorInit){t.start=o(t.elem,n);t.end=o(t.end);t.colorInit=true}e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})};o.hook(n);e.cssHooks.borderColor={expand:function(e){var t={};d(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e});return t}};c=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(d);(function(){var t=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){if("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr){d.style(e.elem,n,e.end);e.setAttr=true}}});function i(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]]){i=r.length;while(i--){n=r[i];"string"===typeof r[n]&&(o[e.camelCase(n)]=r[n])}}else for(n in r)"string"===typeof r[n]&&(o[n]=r[n]);return o}function r(t,i){var r={},o,a;for(o in i){a=i[o];t[o]!==a&&(n[o]||!e.fx.step[o]&&isNaN(parseFloat(a))||(r[o]=a))}return r}e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});e.effects.animateClass=function(n,o,a,s){var l=e.speed(o,a,s);return this.queue(function(){var o=e(this),a=o.attr("class")||"",s,u=l.children?o.find("*").addBack():o;u=u.map(function(){var t=e(this);return{el:t,start:i(this)}});s=function(){e.each(t,function(e,t){n[t]&&o[t+"Class"](n[t])})};s();u=u.map(function(){this.end=i(this.el[0]);this.diff=r(this.start,this.end);return this});o.attr("class",a);u=u.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:false,complete:function(){n.resolve(t)}});this.el.animate(this.diff,i);return n.promise()});e.when.apply(e,u.get()).done(function(){s();e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})});l.complete.call(o[0])})})};e.fn.extend({addClass:function(t){return function(n,i,r,o){return i?e.effects.animateClass.call(this,{add:n},i,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,o,a){return"boolean"===typeof i||void 0===i?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,o)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,o){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,o)}})})();(function(){e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(n){return!!e(n).data(c)||t(n)}}(e.expr.filters.animated));false!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){var n=0,i=t.length;for(;n<i;n++)null!==t[n]&&e.data(l+t[n],e[0].style[t[n]])},restore:function(e,t){var n,i=0,r=t.length;for(;i<r;i++)if(null!==t[i]){n=e.data(l+t[i]);e.css(t[i],n)}},setMode:function(e,t){"toggle"===t&&(t=e.is(":hidden")?"show":"hide");return t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(true),height:t.outerHeight(true),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}t.wrap(i);(t[0]===o||e.contains(t[0],o))&&e(o).trigger("focus");i=t.parent();if("static"===t.css("position")){i.css({position:"relative"});t.css({position:"relative"})}else{e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")});e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i);isNaN(parseInt(n[i],10))&&(n[i]="auto")});t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}t.css(r);return i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;if(t.parent().is(".ui-effects-wrapper")){t.parent().replaceWith(t);(t[0]===n||e.contains(t[0],n))&&e(n).trigger("focus")}return t}});e.extend(e.effects,{version:"1.12.1",define:function(t,n,i){if(!i){i=n;n="effect"}e.effects.effect[t]=i;e.effects.effect[t].mode=n;return i},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(t||100)/100:1,r="vertical"!==n?(t||100)/100:1;return{height:e.height()*r,width:e.width()*i,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();t>1&&i.splice.apply(i,[1,0].concat(i.splice(t,n)));e.dequeue()},saveStyle:function(e){e.data(u,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(u)||"";e.removeData(u)},mode:function(e,t){var n=e.is(":hidden");"toggle"===t&&(t=n?"show":"hide");(n?"hide"===t:"show"===t)&&(t="none");return t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(t){var n,i=t.css("position"),r=t.position();t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight());if(/^(static|relative)/.test(i)){i="absolute";n=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder");t.data(l+"placeholder",n)}t.css({position:i,left:r.left,top:r.top});return n},removePlaceholder:function(e){var t=l+"placeholder",n=e.data(t);if(n){n.remove();e.removeData(t)}},cleanUp:function(t){e.effects.restoreStyle(t);e.effects.removePlaceholder(t)},setTransition:function(t,n,i,r){r=r||{};e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])});return r}});function t(t,n,i,r){if(e.isPlainObject(t)){n=t;t=t.effect}t={effect:t};null==n&&(n={});if(e.isFunction(n)){r=n;i=null;n={}}if("number"===typeof n||e.fx.speeds[n]){r=i;i=n;n={}}if(e.isFunction(i)){r=i;i=null}n&&e.extend(t,n);i=i||n.duration;t.duration=e.fx.off?0:"number"===typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default;t.complete=r||n.complete;return t}function n(t){if(!t||"number"===typeof t||e.fx.speeds[t])return true;if("string"===typeof t&&!e.effects.effect[t])return true;if(e.isFunction(t))return true;if("object"===typeof t&&!t.effect)return true;return false}e.fn.extend({effect:function(){var n=t.apply(this,arguments),i=e.effects.effect[n.effect],r=i.mode,o=n.queue,a=o||"fx",s=n.complete,l=n.mode,u=[],d=function(t){var n=e(this),i=e.effects.mode(n,l)||r;n.data(c,true);u.push(i);r&&("show"===i||i===r&&"hide"===i)&&n.show();r&&"none"===i||e.effects.saveStyle(n);e.isFunction(t)&&t()};if(e.fx.off||!i)return l?this[l](n.duration,s):this.each(function(){s&&s.call(this)});function f(t){var o=e(this);function a(){o.removeData(c);e.effects.cleanUp(o);"hide"===n.mode&&o.hide();d()}function d(){e.isFunction(s)&&s.call(o[0]);e.isFunction(t)&&t()}n.mode=u.shift();if(false===e.uiBackCompat||r)if("none"===n.mode){o[l]();d()}else i.call(o[0],n,a);else if(o.is(":hidden")?"hide"===l:"show"===l){o[l]();d()}else i.call(o[0],n,d)}return false===o?this.each(d).each(f):this.queue(a,d).queue(a,f)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);r.mode="show";return this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);r.mode="hide";return this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"===typeof i)return e.apply(this,arguments);var r=t.apply(this,arguments);r.mode="toggle";return this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])});return i},cssClip:function(e){if(e)return this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)");return i(this.css("clip"),this)},transfer:function(t,n){var i=e(this),r=e(t.to),o="fixed"===r.css("position"),a=e("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,u=r.offset(),c={top:u.top-s,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),f=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:d.top-s,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){f.remove();e.isFunction(n)&&n()})}});function i(e,t){var n=t.outerWidth(),i=t.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(e)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}e.fx.step.clip=function(t){if(!t.clipInit){t.start=e(t.elem).cssClip();"string"===typeof t.end&&(t.end=i(t.end,t.elem));t.clipInit=true}e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}})();(function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}});e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){var t,n=4;while(e<((t=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}});e.each(t,function(t,n){e.easing["easeIn"+t]=n;e.easing["easeOut"+t]=function(e){return 1-n(1-e)};e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}})})();var f=e.effects;var p=e.effects.define("blind","hide",function(t,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=e(this),o=t.direction||"up",a=r.cssClip(),s={clip:e.extend({},a)},l=e.effects.createPlaceholder(r);s.clip[i[o][0]]=s.clip[i[o][1]];if("show"===t.mode){r.cssClip(s.clip);l&&l.css(e.effects.clipToBox(s));s.clip=a}l&&l.animate(e.effects.clipToBox(s),t.duration,t.easing);r.animate(s,{queue:false,duration:t.duration,easing:t.easing,complete:n})});var h=e.effects.define("bounce",function(t,n){var i,r,o,a=e(this),s=t.mode,l="hide"===s,u="show"===s,c=t.direction||"up",d=t.distance,f=t.times||5,p=2*f+(u||l?1:0),h=t.duration/p,v=t.easing,m="up"===c||"down"===c?"top":"left",g="up"===c||"left"===c,b=0,y=a.queue().length;e.effects.createPlaceholder(a);o=a.css(m);d||(d=a["top"===m?"outerHeight":"outerWidth"]()/3);if(u){r={opacity:1};r[m]=o;a.css("opacity",0).css(m,g?2*-d:2*d).animate(r,h,v)}l&&(d/=Math.pow(2,f-1));r={};r[m]=o;for(;b<f;b++){i={};i[m]=(g?"-=":"+=")+d;a.animate(i,h,v).animate(r,h,v);d=l?2*d:d/2}if(l){i={opacity:0};i[m]=(g?"-=":"+=")+d;a.animate(i,h,v)}a.queue(n);e.effects.unshift(a,y,p+1)});var v=e.effects.define("clip","hide",function(t,n){var i,r={},o=e(this),a=t.direction||"vertical",s="both"===a,l=s||"horizontal"===a,u=s||"vertical"===a;i=o.cssClip();r.clip={top:u?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:u?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left};e.effects.createPlaceholder(o);if("show"===t.mode){o.cssClip(r.clip);r.clip=i}o.animate(r,{queue:false,duration:t.duration,easing:t.easing,complete:n})});var m=e.effects.define("drop","hide",function(t,n){var i,r=e(this),o=t.mode,a="show"===o,s=t.direction||"left",l="up"===s||"down"===s?"top":"left",u="up"===s||"left"===s?"-=":"+=",c="+="===u?"-=":"+=",d={opacity:0};e.effects.createPlaceholder(r);i=t.distance||r["top"===l?"outerHeight":"outerWidth"](true)/2;d[l]=u+i;if(a){r.css(d);d[l]=c+i;d.opacity=1}r.animate(d,{queue:false,duration:t.duration,easing:t.easing,complete:n})});var g=e.effects.define("explode","hide",function(t,n){var i,r,o,a,s,l,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=u,d=e(this),f=t.mode,p="show"===f,h=d.show().css("visibility","hidden").offset(),v=Math.ceil(d.outerWidth()/c),m=Math.ceil(d.outerHeight()/u),g=[];function b(){g.push(this);g.length===u*c&&y()}for(i=0;i<u;i++){a=h.top+i*m;l=i-(u-1)/2;for(r=0;r<c;r++){o=h.left+r*v;s=r-(c-1)/2;d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-i*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:m,left:o+(p?s*v:0),top:a+(p?l*m:0),opacity:p?0:1}).animate({left:o+(p?0:s*v),top:a+(p?0:l*m),opacity:p?1:0},t.duration||500,t.easing,b)}}function y(){d.css({visibility:"visible"});e(g).remove();n()}});var b=e.effects.define("fade","toggle",function(t,n){var i="show"===t.mode;e(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:false,duration:t.duration,easing:t.easing,complete:n})});var y=e.effects.define("fold","hide",function(t,n){var i=e(this),r=t.mode,o="show"===r,a="hide"===r,s=t.size||15,l=/([0-9]+)%/.exec(s),u=!!t.horizFirst,c=u?["right","bottom"]:["bottom","right"],d=t.duration/2,f=e.effects.createPlaceholder(i),p=i.cssClip(),h={clip:e.extend({},p)},v={clip:e.extend({},p)},m=[p[c[0]],p[c[1]]],g=i.queue().length;l&&(s=parseInt(l[1],10)/100*m[a?0:1]);h.clip[c[0]]=s;v.clip[c[0]]=s;v.clip[c[1]]=0;if(o){i.cssClip(v.clip);f&&f.css(e.effects.clipToBox(v));v.clip=p}i.queue(function(n){f&&f.animate(e.effects.clipToBox(h),d,t.easing).animate(e.effects.clipToBox(v),d,t.easing);n()}).animate(h,d,t.easing).animate(v,d,t.easing).queue(n);e.effects.unshift(i,g,4)});var x=e.effects.define("highlight","show",function(t,n){var i=e(this),r={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(r.opacity=0);e.effects.saveStyle(i);i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:false,duration:t.duration,easing:t.easing,complete:n})});var w=e.effects.define("size",function(t,n){var i,r,o,a=e(this),s=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=t.mode,d="effect"!==c,f=t.scale||"both",p=t.origin||["middle","center"],h=a.css("position"),v=a.position(),m=e.effects.scaledDimensions(a),g=t.from||m,b=t.to||e.effects.scaledDimensions(a,0);e.effects.createPlaceholder(a);if("show"===c){o=g;g=b;b=o}r={from:{y:g.height/m.height,x:g.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}};if("box"===f||"both"===f){if(r.from.y!==r.to.y){g=e.effects.setTransition(a,l,r.from.y,g);b=e.effects.setTransition(a,l,r.to.y,b)}if(r.from.x!==r.to.x){g=e.effects.setTransition(a,u,r.from.x,g);b=e.effects.setTransition(a,u,r.to.x,b)}}if(("content"===f||"both"===f)&&r.from.y!==r.to.y){g=e.effects.setTransition(a,s,r.from.y,g);b=e.effects.setTransition(a,s,r.to.y,b)}if(p){i=e.effects.getBaseline(p,m);g.top=(m.outerHeight-g.outerHeight)*i.y+v.top;g.left=(m.outerWidth-g.outerWidth)*i.x+v.left;b.top=(m.outerHeight-b.outerHeight)*i.y+v.top;b.left=(m.outerWidth-b.outerWidth)*i.x+v.left}a.css(g);if("content"===f||"both"===f){l=l.concat(["marginTop","marginBottom"]).concat(s);u=u.concat(["marginLeft","marginRight"]);a.find("*[width]").each(function(){var n=e(this),i=e.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},a={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};if(r.from.y!==r.to.y){o=e.effects.setTransition(n,l,r.from.y,o);a=e.effects.setTransition(n,l,r.to.y,a)}if(r.from.x!==r.to.x){o=e.effects.setTransition(n,u,r.from.x,o);a=e.effects.setTransition(n,u,r.to.x,a)}d&&e.effects.saveStyle(n);n.css(o);n.animate(a,t.duration,t.easing,function(){d&&e.effects.restoreStyle(n)})})}a.animate(b,{queue:false,duration:t.duration,easing:t.easing,complete:function(){var t=a.offset();0===b.opacity&&a.css("opacity",g.opacity);if(!d){a.css("position","static"===h?"relative":h).offset(t);e.effects.saveStyle(a)}n()}})});var S=e.effects.define("scale",function(t,n){var i=e(this),r=t.mode,o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==r?0:100),a=e.extend(true,{from:e.effects.scaledDimensions(i),to:e.effects.scaledDimensions(i,o,t.direction||"both"),origin:t.origin||["middle","center"]},t);if(t.fade){a.from.opacity=1;a.to.opacity=0}e.effects.effect.size.call(this,a,n)});var C=e.effects.define("puff","hide",function(t,n){var i=e.extend(true,{},t,{fade:true,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,i,n)});var E=e.effects.define("pulsate","show",function(t,n){var i=e(this),r=t.mode,o="show"===r,a="hide"===r,s=o||a,l=2*(t.times||5)+(s?1:0),u=t.duration/l,c=0,d=1,f=i.queue().length;if(o||!i.is(":visible")){i.css("opacity",0).show();c=1}for(;d<l;d++){i.animate({opacity:c},u,t.easing);c=1-c}i.animate({opacity:c},u,t.easing);i.queue(n);e.effects.unshift(i,f,l+1)});var q=e.effects.define("shake",function(t,n){var i=1,r=e(this),o=t.direction||"left",a=t.distance||20,s=t.times||3,l=2*s+1,u=Math.round(t.duration/l),c="up"===o||"down"===o?"top":"left",d="up"===o||"left"===o,f={},p={},h={},v=r.queue().length;e.effects.createPlaceholder(r);f[c]=(d?"-=":"+=")+a;p[c]=(d?"+=":"-=")+2*a;h[c]=(d?"-=":"+=")+2*a;r.animate(f,u,t.easing);for(;i<s;i++)r.animate(p,u,t.easing).animate(h,u,t.easing);r.animate(p,u,t.easing).animate(f,u/2,t.easing).queue(n);e.effects.unshift(r,v,l+1)});var _=e.effects.define("slide","show",function(t,n){var i,r,o=e(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=t.mode,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d=t.distance||o["top"===u?"outerHeight":"outerWidth"](true),f={};e.effects.createPlaceholder(o);i=o.cssClip();r=o.position()[u];f[u]=(c?-1:1)*d+r;f.clip=o.cssClip();f.clip[a[l][1]]=f.clip[a[l][0]];if("show"===s){o.cssClip(f.clip);o.css(u,f[u]);f.clip=i;f[u]=r}o.animate(f,{queue:false,duration:t.duration,easing:t.easing,complete:n})});var f;false!==e.uiBackCompat&&(f=e.effects.define("transfer",function(t,n){e(this).transfer(t,n)}));var T=f;e.ui.focusable=function(t,n){var i,r,o,a,s,l=t.nodeName.toLowerCase();if("area"===l){i=t.parentNode;r=i.name;if(!t.href||!r||"map"!==i.nodeName.toLowerCase())return false;o=e("img[usemap='#"+r+"']");return o.length>0&&o.is(":visible")}if(/^(input|select|textarea|button|object)$/.test(l)){a=!t.disabled;if(a){s=e(t).closest("fieldset")[0];s&&(a=!s.disabled)}}else a="a"===l&&t.href||n;return a&&e(t).is(":visible")&&k(e(t))};function k(e){var t=e.css("visibility");while("inherit"===t){e=e.parent();t=e.css("visibility")}return"hidden"!==t}e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}});var O=e.ui.focusable;var D=e.fn.form=function(){return"string"===typeof this[0].form?this.closest("form"):e(this[0].form)};var A=e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var n=t.data("ui-form-reset-instances");e.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){this.form=this.element.form();if(!this.form.length)return;var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler);e.push(this);this.form.data("ui-form-reset-instances",e)},_unbindFormResetHandler:function(){if(!this.form.length)return;var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1);t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}};if("1.7"===e.fn.jquery.substring(0,3)){e.each(["Width","Height"],function(t,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function a(t,n,r,o){e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0;r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0);o&&(n-=parseFloat(e.css(t,"margin"+this))||0)});return n}e.fn["inner"+n]=function(t){if(void 0===t)return o["inner"+n].call(this);return this.each(function(){e(this).css(r,a(this,t)+"px")})};e.fn["outer"+n]=function(t,i){if("number"!==typeof t)return o["outer"+n].call(this,t);return this.each(function(){e(this).css(r,a(this,t,true,i)+"px")})}});e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}var I=e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var L=e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}();var P=e.fn.labels=function(){var t,n,i,r,o;if(this[0].labels&&this[0].labels.length)return this.pushStack(this[0].labels);r=this.eq(0).parents("label");i=this.attr("id");if(i){t=this.eq(0).parents().last();o=t.add(t.length?t.siblings():this.siblings());n="label[for='"+e.ui.escapeSelector(i)+"']";r=r.add(o.find(n).addBack(n))}return this.pushStack(r)};var M=e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);if(i&&"static"===t.css("position"))return false;return r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)};var N=e.extend(e.expr[":"],{tabbable:function(t){var n=e.attr(t,"tabindex"),i=null!=n;return(!i||n>=0)&&e.ui.focusable(t,i)}});var R=e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}});var F=e.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:false,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");t.collapsible||false!==t.active&&null!=t.active||(t.active=0);this._processPanels();t.active<0&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,n,i=this.options.icons;if(i){t=e("<span>");this._addClass(t,"ui-accordion-header-icon","ui-icon "+i.header);t.prependTo(this.headers);n=this.active.children(".ui-accordion-header-icon");this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons")}},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){if("active"===e){this._activate(t);return}if("event"===e){this.options.event&&this._off(this.headers,this.options.event);this._setupEvents(t)}this._super(e,t);"collapsible"!==e||t||false!==this.options.active||this._activate(0);if("icons"===e){this._destroyIcons();t&&this._createIcons()}},_setOptionDisabled:function(e){this._super(e);this.element.attr("aria-disabled",e);this._toggleClass(null,"ui-state-disabled",!!e);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(t){if(t.altKey||t.ctrlKey)return;var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),o=false;switch(t.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1];break}if(o){e(t.target).attr("tabIndex",-1);e(o).attr("tabIndex",0);e(o).trigger("focus");t.preventDefault()}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels();if(false===t.active&&true===t.collapsible||!this.headers.length){t.active=false;this.active=e()}else if(false===t.active)this._activate(0);else if(this.active.length&&!e.contains(this.element[0],this.active[0]))if(this.headers.length===this.headers.find(".ui-state-disabled").length){t.active=false;this.active=e()}else this._activate(Math.max(0,t.active-1));else t.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");if(t){this._off(e.not(this.headers));this._off(t.not(this.panels))}},_refresh:function(){var t,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),r=i.uniqueId().attr("id");t.attr("aria-controls",r);i.attr("aria-labelledby",n)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(n.event);if("fill"===i){t=r.height();this.element.siblings(":visible").each(function(){var n=e(this),i=n.css("position");if("absolute"===i||"fixed"===i)return;t-=n.outerHeight(true)});this.headers.each(function(){t-=e(this).outerHeight(true)});this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else if("auto"===i){t=0;this.headers.next().each(function(){var n=e(this).is(":visible");n||e(this).show();t=Math.max(t,e(this).css("height","").height());n||e(this).hide()}).height(t)}},_activate:function(t){var n=this._findActive(t)[0];if(n===this.active[0])return;n=n||this.active[0];this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return"number"===typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,n);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var n,i,r=this.options,o=this.active,a=e(t.currentTarget),s=a[0]===o[0],l=s&&r.collapsible,u=l?e():a.next(),c=o.next(),d={oldHeader:o,oldPanel:c,newHeader:l?e():a,newPanel:u};t.preventDefault();if(s&&!r.collapsible||false===this._trigger("beforeActivate",t,d))return;r.active=!l&&this.headers.index(a);this.active=s?e():a;this._toggle(d);this._removeClass(o,"ui-accordion-header-active","ui-state-active");if(r.icons){n=o.children(".ui-accordion-header-icon");this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)}if(!s){this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active");if(r.icons){i=a.children(".ui-accordion-header-icon");this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)}this._addClass(a.next(),"ui-accordion-content-active")}},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=n;this.prevHide=i;if(this.options.animate)this._animate(n,i,t);else{i.hide();n.show();this._toggleComplete(t)}i.attr({"aria-hidden":"true"});i.prev().attr({"aria-selected":"false","aria-expanded":"false"});n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1);n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var i,r,o,a=this,s=0,l=e.css("box-sizing"),u=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},d=u&&c.down||c,f=function(){a._toggleComplete(n)};"number"===typeof d&&(o=d);"string"===typeof d&&(r=d);r=r||d.easing||c.easing;o=o||d.duration||c.duration;if(!t.length)return e.animate(this.showProps,o,r,f);if(!e.length)return t.animate(this.hideProps,o,r,f);i=e.show().outerHeight();t.animate(this.hideProps,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}});e.hide().animate(this.showProps,{duration:o,easing:r,complete:f,step:function(e,n){n.now=Math.round(e);if("height"!==n.prop)"content-box"===l&&(s+=n.now);else if("content"!==a.options.heightStyle){n.now=Math.round(i-t.outerHeight()-s);s=0}}})},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active");this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,e)}});var j=e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}t||(t=e.body);t.nodeName||(t=e.body);return t};var B=e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);var i=e(e.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&n.not(".ui-state-disabled").length){this.select(t);t.isPropagationStopped()||(this.mouseHandled=true);if(n.has(".ui-menu").length)this.expand(t);else if(!this.element.is(":focus")&&i.closest(".ui-menu").length){this.element.trigger("focus",[true]);this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)}}},"mouseenter .ui-menu-item":function(t){if(this.previousFilter)return;var n=e(t.target).closest(".ui-menu-item"),i=e(t.currentTarget);if(n[0]!==i[0])return;this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active");this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){var n=!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e);this.mouseHandled=false}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();n.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var n,i,r,o,a=true;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=false;i=this.previousFilter||"";o=false;r=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode);clearTimeout(this.filterTimer);r===i?o=true:r=i+r;n=this._filterMenuItems(r);n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n;if(!n.length){r=String.fromCharCode(t.keyCode);n=this._filterMenuItems(r)}if(n.length){this.focus(t,n);this.previousFilter=r;this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)}else delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n,i,r,o,a=this,s=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev(),i=e("<span>").data("ui-menu-submenu-caret",true);a._addClass(i,"ui-menu-icon","ui-icon "+s);n.attr("aria-haspopup","true").prepend(i);t.attr("aria-labelledby",n.attr("id"))});this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front");t=l.add(this.element);n=t.find(this.options.items);n.not(".ui-menu-item").each(function(){var t=e(this);a._isDivider(t)&&a._addClass(t,"ui-menu-divider","ui-widget-content")});r=n.not(".ui-menu-item, .ui-menu-divider");o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper");n.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e);this.element.attr("aria-disabled",String(e));this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,i,r;this.blur(e,e&&"focus"===e.type);this._scrollIntoView(t);this.active=t.first();i=this.active.children(".ui-menu-item-wrapper");this._addClass(i,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",i.attr("id"));r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(r,null,"ui-state-active");e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);n=t.children(".ui-menu");n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n);this.activeMenu=t.parent();this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,a,s;if(this._hasScroll()){n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0;i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0;r=t.offset().top-this.activeMenu.offset().top-n-i;o=this.activeMenu.scrollTop();a=this.activeMenu.height();s=t.outerHeight();r<0?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s)}},blur:function(e,t){t||clearTimeout(this.timer);if(!this.active)return;this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active");this._trigger("blur",e,{item:this.active});this.active=null},_startOpening:function(e){clearTimeout(this.timer);if("true"!==e.attr("aria-hidden"))return;this.timer=this._delay(function(){this._close();this._open(e)},this.delay)},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer);this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element);this._close(i);this.blur(t);this._removeClass(i.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element);e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(t&&t.length){this._close();this.focus(e,t)}},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(t&&t.length){this._open(t.parent());this._delay(function(){this.focus(e,t)})}},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0));i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]());this.focus(n,i)},nextPage:function(t){var n,i,r;if(!this.active){this.next(t);return}if(this.isLastItem())return;if(this._hasScroll()){i=this.active.offset().top;r=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){n=e(this);return n.offset().top-i-r<0});this.focus(t,n)}else this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())},previousPage:function(t){var n,i,r;if(!this.active){this.next(t);return}if(this.isFirstItem())return;if(this._hasScroll()){i=this.active.offset().top;r=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){n=e(this);return n.offset().top-i+r>0});this.focus(t,n)}else this.focus(t,this.activeMenu.find(this.options.items).first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,true);this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}});e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o||!a&&this._isContentEditable(this.element);this.valueMethod=this.element[o||a?"val":"text"];this.isNewMenu=true;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly")){t=true;i=true;n=true;return}t=false;i=false;n=false;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=true;this._move("previousPage",r);break;case o.PAGE_DOWN:t=true;this._move("nextPage",r);break;case o.UP:t=true;this._keyEvent("previous",r);break;case o.DOWN:t=true;this._keyEvent("next",r);break;case o.ENTER:if(this.menu.active){t=true;r.preventDefault();this.menu.select(r)}break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:if(this.menu.element.is(":visible")){this.isMultiLine||this._value(this.term);this.close(r);r.preventDefault()}break;default:n=true;this._searchTimeout(r);break}},keypress:function(i){if(t){t=false;this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault();return}if(n)return;var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i);break}},input:function(e){if(i){i=false;e.preventDefault();return}this._searchTimeout(e)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(e);this._change(e)}});this._initSource();this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,n){var i,r;if(this.isNewMenu){this.isNewMenu=false;if(t.originalEvent&&/^mouse/.test(t.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});return}}r=n.item.data("ui-autocomplete-item");false!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value);i=n.item.attr("aria-label")||r.value;if(i&&e.trim(i).length){this.liveRegion.children().hide();e("<div>").text(i).appendTo(this.liveRegion)}},menuselect:function(t,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;if(this.element[0]!==e.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");this.previous=r;this._delay(function(){this.previous=r;this.selectedItem=i})}false!==this._trigger("select",t,{item:i})&&this._value(i.value);this.term=this._value();this.close(t);this.selectedItem=i}});this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t);"source"===e&&this._initSource();"appendTo"===e&&this.menu.element.appendTo(this._appendTo());"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var n=this.menu.element[0];return t.target===this.element[0]||t.target===n||e.contains(n,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0));t&&t[0]||(t=this.element.closest(".ui-front, dialog"));t.length||(t=this.document[0].body);return t},_initSource:function(){var t,n,i=this;if(e.isArray(this.options.source)){t=this.options.source;this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}}else if("string"===typeof this.options.source){n=this.options.source;this.source=function(t,r){i.xhr&&i.xhr.abort();i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}}else this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching);this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(!t||t&&!n&&!i){this.selectedItem=null;this.search(null,e)}},this.options.delay)},search:function(e,t){e=null!=e?e:this._value();this.term=this._value();if(e.length<this.options.minLength)return this.close(t);if(false===this._trigger("search",t))return;return this._search(e)},_search:function(e){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e));this._trigger("response",null,{content:e});if(!this.options.disabled&&e&&e.length&&!this.cancelSearch){this._suggest(e);this._trigger("open")}else this._close()},close:function(e){this.cancelSearch=true;this._close(e)},_close:function(e){this._off(this.document,"mousedown");if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",e)}},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){if(t.length&&t[0].label&&t[0].value)return t;return e.map(t,function(t){if("string"===typeof t)return{label:t,value:t};return e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t);this.isNewMenu=true;this.menu.refresh();n.show();this._resizeMenu();n.position(e.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<div>").text(n.label)).appendTo(t)},_move:function(e,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term);this.menu.blur();return}this.menu[e](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(e,t);t.preventDefault()}},_isContentEditable:function(e){if(!e.length)return false;var t=e.prop("contentEditable");if("inherit"===t)return this._isContentEditable(e.parent());return"true"===t}});e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}});e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments);if(this.options.disabled||this.cancelSearch)return;n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults;this.liveRegion.children().hide();e("<div>").text(n).appendTo(this.liveRegion)}});var V=e.ui.autocomplete;var H=/ui-corner-([a-z]){2,6}/g;var U=e.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:true,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,n=[];e.each(this.options.items,function(i,r){var o;var a={};if(!r)return;if("controlgroupLabel"===i){o=t.element.find(r);o.each(function(){var t=e(this);if(t.children(".ui-controlgroup-label-contents").length)return;t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")});t._addClass(o,null,"ui-widget ui-widget-content ui-state-default");n=n.concat(o.get());return}if(!e.fn[i])return;a=t["_"+i+"Options"]?t["_"+i+"Options"]("middle"):{classes:{}};t.element.find(r).each(function(){var r=e(this);var o=r[i]("instance");var s=e.widget.extend({},a);if("button"===i&&r.parent(".ui-spinner").length)return;o||(o=r[i]()[i]("instance"));o&&(s.classes=t._resolveClassesValues(s.classes,o));r[i](s);var l=r[i]("widget");e.data(l[0],"ui-controlgroup-data",o||r[i]("instance"));n.push(l[0])})});this.childWidgets=e(e.unique(n));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var n=e(this),i=n.data("ui-controlgroup-data");i&&i[t]&&i[t]()})},_updateCornerClass:function(e,t){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all";var i=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,n);this._addClass(e,null,i)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction;var i={classes:{}};i.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e];return i},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");t.classes["ui-spinner-up"]="";t.classes["ui-spinner-down"]="";return t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(t,n){var i={};e.each(t,function(r){var o=n.options.classes[r]||"";o=e.trim(o.replace(H,""));i[r]=(o+" "+t[r]).replace(/\s+/g," ")});return i},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction);this._super(e,t);if("disabled"===e){this._callChildMethod(t?"disable":"enable");return}this.refresh()},refresh:function(){var t,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix");this._initWidgets();t=this.childWidgets;this.options.onlyVisible&&(t=t.filter(":visible"));if(t.length){e.each(["first","last"],function(e,i){var r=t[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===t.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r);r.element[r.widgetName](o)}else n._updateCornerClass(t[i](),i)});this._callChildMethod("refresh")}}});e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:true,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,n;var i=this;var r=this._super()||{};this._readType();n=this.element.labels();this.label=e(n[n.length-1]);this.label.length||e.error("No label found for checkboxradio widget");this.originalLabel="";this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML});this.originalLabel&&(r.label=this.originalLabel);t=this.element[0].disabled;null!=t&&(r.disabled=t);return r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler();null==this.options.disabled&&(this.options.disabled=this.element[0].disabled);this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label");this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel);this._enhance();if(e){this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active");this.icon&&this._addClass(this.icon,null,"ui-state-hover")}this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t;var n=this.element[0].name;var i="input[name='"+e.ui.escapeSelector(n)+"']";if(!n)return e([]);t=this.form.length?e(this.form[0].elements).filter(i):e(i).filter(function(){return 0===e(this).form().length});return t.not(this.element)},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t);this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t);"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler();if(this.icon){this.icon.remove();this.iconSpace.remove()}},_setOption:function(e,t){if("label"===e&&!t)return;this._super(e,t);if("disabled"===e){this._toggleClass(this.label,null,"ui-state-disabled",t);this.element[0].disabled=t;return}this.refresh()},_updateIcon:function(t){var n="ui-icon ui-icon-background ";if(this.options.icon){if(!this.icon){this.icon=e("<span>");this.iconSpace=e("<span> </span>");this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")}if("checkbox"===this.type){n+=t?"ui-icon-check ui-state-checked":"ui-icon-blank";this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")}else n+="ui-icon-blank";this._addClass(this.icon,"ui-checkboxradio-icon",n);t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked");this.icon.prependTo(this.label).after(this.iconSpace)}else if(void 0!==this.icon){this.icon.remove();this.iconSpace.remove();delete this.icon}},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0]));this.iconSpace&&(e=e.not(this.iconSpace[0]));e.remove();this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e);null!==this.options.label&&this._updateLabel();t!==this.options.disabled&&this._setOptions({disabled:t})}}]);var z=e.ui.checkboxradio;e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:true},_getCreateOptions:function(){var e,t=this._super()||{};this.isInput=this.element.is("input");e=this.element[0].disabled;null!=e&&(t.disabled=e);this.originalLabel=this.isInput?this.element.val():this.element.html();this.originalLabel&&(t.label=this.originalLabel);return t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=true);null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||false);this.hasTitle=!!this.element.attr("title");this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label));this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();this.element.is("a")&&this._on({keyup:function(t){if(t.keyCode===e.ui.keyCode.SPACE){t.preventDefault();this.element[0].click?this.element[0].click():this.element.trigger("click")}}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button");if(this.options.icon){this._updateIcon("icon",this.options.icon);this._updateTooltip()}},_updateTooltip:function(){this.title=this.element.attr("title");this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,n){var i="iconPosition"!==t,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;if(this.icon)i&&this._removeClass(this.icon,null,this.options.icon);else{this.icon=e("<span>");this._addClass(this.icon,"ui-button-icon","ui-icon");this.options.showLabel||this._addClass("ui-button-icon-only")}i&&this._addClass(this.icon,null,n);this._attachIcon(r);if(o){this._addClass(this.icon,null,"ui-widget-icon-block");this.iconSpace&&this.iconSpace.remove()}else{if(!this.iconSpace){this.iconSpace=e("<span> </span>");this._addClass(this.iconSpace,"ui-button-icon-space")}this._removeClass(this.icon,null,"ui-wiget-icon-block");this._attachIconSpace(r)}},_destroy:function(){this.element.removeAttr("role");this.icon&&this.icon.remove();this.iconSpace&&this.iconSpace.remove();this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,n=void 0===e.icon?this.options.icon:e.icon;t||n||(e.showLabel=true);this._super(e)},_setOption:function(e,t){if("icon"===e)if(t)this._updateIcon(e,t);else if(this.icon){this.icon.remove();this.iconSpace&&this.iconSpace.remove()}"iconPosition"===e&&this._updateIcon(e,t);if("showLabel"===e){this._toggleClass("ui-button-icon-only",null,!t);this._updateTooltip()}if("label"===e)if(this.isInput)this.element.val(t);else{this.element.html(t);if(this.icon){this._attachIcon(this.options.iconPosition);this._attachIconSpace(this.options.iconPosition)}}this._super(e,t);if("disabled"===e){this._toggleClass(null,"ui-state-disabled",t);this.element[0].disabled=t;t&&this.element.blur()}},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e});this._updateTooltip()}});if(false!==e.uiBackCompat){e.widget("ui.button",e.ui.button,{options:{text:true,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text);!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel);if(this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary)this.options.icon&&(this.options.icons.primary=this.options.icon);else if(this.options.icons.primary)this.options.icon=this.options.icons.primary;else{this.options.icon=this.options.icons.secondary;this.options.iconPosition="end"}this._super()},_setOption:function(e,t){if("text"===e){this._super("showLabel",t);return}"showLabel"===e&&(this.options.text=t);"icon"===e&&(this.options.icons.primary=t);if("icons"===e)if(t.primary){this._super("icon",t.primary);this._super("iconPosition","beginning")}else if(t.secondary){this._super("icon",t.secondary);this._super("iconPosition","end")}this._superApply(arguments)}});e.fn.button=function(t){return function(){if(!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type"))return t.apply(this,arguments);e.ui.checkboxradio||e.error("Checkboxradio widget missing");if(0===arguments.length)return this.checkboxradio({icon:false});return this.checkboxradio.apply(this,arguments)}}(e.fn.button);e.fn.buttonset=function(){e.ui.controlgroup||e.error("Controlgroup widget missing");if("option"===arguments[0]&&"items"===arguments[1]&&arguments[2])return this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]);if("option"===arguments[0]&&"items"===arguments[1])return this.controlgroup.apply(this,[arguments[0],"items.button"]);"object"===typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items});return this.controlgroup.apply(this,arguments)}}var $=e.ui.button;e.extend(e.ui,{datepicker:{version:"1.12.1"}});var G;function W(e){var t,n;while(e.length&&e[0]!==document){t=e.css("position");if("absolute"===t||"relative"===t||"fixed"===t){n=parseInt(e.css("zIndex"),10);if(!isNaN(n)&&0!==n)return n}e=e.parent()}return 0}function Q(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};e.extend(this._defaults,this.regional[""]);this.regional.en=e.extend(true,{},this.regional[""]);this.regional["en-US"]=e.extend(true,{},this.regional.en);this.dpDiv=K(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}e.extend(Q.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){X(this._defaults,e||{});return this},_attachDatepicker:function(t,n){var i,r,o;i=t.nodeName.toLowerCase();r="div"===i||"span"===i;if(!t.id){this.uuid+=1;t.id="dp"+this.uuid}o=this._newInst(e(t),r);o.settings=e.extend({},n||{});"input"===i?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,n){var i=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?K(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]);n.trigger=e([]);if(i.hasClass(this.markerClassName))return;this._attachments(i,n);i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(n);e.data(t,"datepicker",n);n.settings.disabled&&this._disableDatepicker(t)},_attachments:function(t,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove();if(a){n.append=e("<span class='"+this._appendClass+"'>"+a+"</span>");t[s?"before":"after"](n.append)}t.off("focus",this._showDatepicker);n.trigger&&n.trigger.remove();i=this._get(n,"showOn");"focus"!==i&&"both"!==i||t.on("focus",this._showDatepicker);if("button"===i||"both"===i){r=this._get(n,"buttonText");o=this._get(n,"buttonImage");n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r));t[s?"before":"after"](n.trigger);n.trigger.on("click",function(){if(e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0])e.datepicker._hideDatepicker();else if(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]){e.datepicker._hideDatepicker();e.datepicker._showDatepicker(t[0])}else e.datepicker._showDatepicker(t[0]);return false})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,o=new Date(2009,11,20),a=this._get(e,"dateFormat");if(a.match(/[DM]/)){t=function(e){n=0;i=0;for(r=0;r<e.length;r++)if(e[r].length>n){n=e[r].length;i=r}return i};o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort")));o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())}e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var i=e(t);if(i.hasClass(this.markerClassName))return;i.addClass(this.markerClassName).append(n.dpDiv);e.data(t,"datepicker",n);this._setDate(n,this._getDefaultDate(n),true);this._updateDatepicker(n);this._updateAlternate(n);n.settings.disabled&&this._disableDatepicker(t);n.dpDiv.css("display","block")},_dialogDatepicker:function(t,n,i,r,o){var a,s,l,u,c,d=this._dialogInst;if(!d){this.uuid+=1;a="dp"+this.uuid;this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.on("keydown",this._doKeyDown);e("body").append(this._dialogInput);d=this._dialogInst=this._newInst(this._dialogInput,false);d.settings={};e.data(this._dialogInput[0],"datepicker",d)}X(d.settings,r||{});n=n&&n.constructor===Date?this._formatDate(d,n):n;this._dialogInput.val(n);this._pos=o?o.length?o:[o.pageX,o.pageY]:null;if(!this._pos){s=document.documentElement.clientWidth;l=document.documentElement.clientHeight;u=document.documentElement.scrollLeft||document.body.scrollLeft;c=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[s/2-100+u,l/2-150+c]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");d.settings.onSelect=i;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);e.blockUI&&e.blockUI(this.dpDiv);e.data(this._dialogInput[0],"datepicker",d);return this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");if(!i.hasClass(this.markerClassName))return;n=t.nodeName.toLowerCase();e.removeData(t,"datepicker");if("input"===n){r.append.remove();r.trigger.remove();i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)}else"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty();G===r&&(G=null)},_enableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");if(!r.hasClass(this.markerClassName))return;n=t.nodeName.toLowerCase();if("input"===n){t.disabled=false;o.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if("div"===n||"span"===n){i=r.children("."+this._inlineClass);i.children().removeClass("ui-state-disabled");i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e})},_disableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");if(!r.hasClass(this.markerClassName))return;n=t.nodeName.toLowerCase();if("input"===n){t.disabled=true;o.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if("div"===n||"span"===n){i=r.children("."+this._inlineClass);i.children().addClass("ui-state-disabled");i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e});this._disabledInputs[this._disabledInputs.length]=t},_isDisabledDatepicker:function(e){if(!e)return false;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return true;return false},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var r,o,a,s,l=this._getInst(t);if(2===arguments.length&&"string"===typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):l?"all"===n?e.extend({},l.settings):this._get(l,n):null;r=n||{};if("string"===typeof n){r={};r[n]=i}if(l){this._curInst===l&&this._hideDatepicker();o=this._getDateDatepicker(t,true);a=this._getMinMaxDate(l,"min");s=this._getMinMaxDate(l,"max");X(l.settings,r);null!==a&&void 0!==r.dateFormat&&void 0===r.minDate&&(l.settings.minDate=this._formatDate(l,a));null!==s&&void 0!==r.dateFormat&&void 0===r.maxDate&&(l.settings.maxDate=this._formatDate(l,s));"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t));this._attachments(e(t),l);this._autoSize(l);this._setDate(l,o);this._updateAlternate(l);this._updateDatepicker(l)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);if(n){this._setDate(n,t);this._updateDatepicker(n);this._updateAlternate(n)}},_getDateDatepicker:function(e,t){var n=this._getInst(e);n&&!n.inline&&this._setDateFromField(n,t);return n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,o=e.datepicker._getInst(t.target),a=true,s=o.dpDiv.is(".ui-datepicker-rtl");o._keyEvent=true;if(e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker();a=false;break;case 13:r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv);r[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]);n=e.datepicker._get(o,"onSelect");if(n){i=e.datepicker._formatDate(o);n.apply(o.input?o.input[0]:null,[i,o])}else e.datepicker._hideDatepicker();return false;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target);a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target);a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D");a=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D");a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D");a=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D");a=t.ctrlKey||t.metaKey;break;default:a=false}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=false;if(a){t.preventDefault();t.stopPropagation()}},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);if(e.datepicker._get(r,"constrainInput")){n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat"));i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||i<" "||!n||n.indexOf(i)>-1}},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i));if(n){e.datepicker._setDateFromField(i);e.datepicker._updateAlternate(i);e.datepicker._updateDatepicker(i)}}catch(e){}return true},_showDatepicker:function(t){t=t.target||t;"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]);if(e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)return;var n,i,r,o,a,s,l;n=e.datepicker._getInst(t);if(e.datepicker._curInst&&e.datepicker._curInst!==n){e.datepicker._curInst.dpDiv.stop(true,true);n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])}i=e.datepicker._get(n,"beforeShow");r=i?i.apply(t,[t,n]):{};if(false===r)return;X(n.settings,r);n.lastVal=null;e.datepicker._lastInput=t;e.datepicker._setDateFromField(n);e.datepicker._inDialog&&(t.value="");if(!e.datepicker._pos){e.datepicker._pos=e.datepicker._findPos(t);e.datepicker._pos[1]+=t.offsetHeight}o=false;e(t).parents().each(function(){o|="fixed"===e(this).css("position");return!o});a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]};e.datepicker._pos=null;n.dpDiv.empty();n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});e.datepicker._updateDatepicker(n);a=e.datepicker._checkOffset(n,a,o);n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"});if(!n.inline){s=e.datepicker._get(n,"showAnim");l=e.datepicker._get(n,"duration");n.dpDiv.css("z-index",W(e(t))+1);e.datepicker._datepickerShowing=true;e.effects&&e.effects.effect[s]?n.dpDiv.show(s,e.datepicker._get(n,"showOptions"),l):n.dpDiv[s||"show"](s?l:null);e.datepicker._shouldFocusInput(n)&&n.input.trigger("focus");e.datepicker._curInst=n}},_updateDatepicker:function(t){this.maxRows=4;G=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),r=i[1],o=17,a=t.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&Y.apply(a.get(0));t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em");t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus");if(t.yearshtml){n=t.yearshtml;setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);n=t.yearshtml=null},0)}},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:e(document).scrollTop());n.left-=this._get(t,"isRTL")?r-a:0;n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0;n.top-=i&&n.top===t.input.offset().top+s?e(document).scrollTop():0;n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0);n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+s):0);return n},_findPos:function(t){var n,i=this._getInst(t),r=this._get(i,"isRTL");while(t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t)))t=t[r?"previousSibling":"nextSibling"];n=e(t).offset();return[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,o,a=this._curInst;if(!a||t&&a!==e.data(t,"datepicker"))return;if(this._datepickerShowing){n=this._get(a,"showAnim");i=this._get(a,"duration");r=function(){e.datepicker._tidyDialog(a)};e.effects&&(e.effects.effect[n]||e.effects[n])?a.dpDiv.hide(n,e.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r);n||r();this._datepickerShowing=false;o=this._get(a,"onClose");o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]);this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(e.blockUI){e.unblockUI();e("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(!e.datepicker._curInst)return;var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&!(e.datepicker._inDialog&&e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()},_adjustDate:function(t,n,i){var r=e(t),o=this._getInst(r[0]);if(this._isDisabledDatepicker(r[0]))return;this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i);this._updateDatepicker(o)},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);if(this._get(r,"gotoCurrent")&&r.currentDay){r.selectedDay=r.currentDay;r.drawMonth=r.selectedMonth=r.currentMonth;r.drawYear=r.selectedYear=r.currentYear}else{n=new Date;r.selectedDay=n.getDate();r.drawMonth=r.selectedMonth=n.getMonth();r.drawYear=r.selectedYear=n.getFullYear()}this._notifyChange(r);this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10);this._notifyChange(o);this._adjustDate(r)},_selectDay:function(t,n,i,r){var o,a=e(t);if(e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0]))return;o=this._getInst(a[0]);o.selectedDay=o.currentDay=e("a",r).html();o.selectedMonth=o.currentMonth=n;o.selectedYear=o.currentYear=i;this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o);o.input&&o.input.val(n);this._updateAlternate(o);i=this._get(o,"onSelect");i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change");if(o.inline)this._updateDatepicker(o);else{this._hideDatepicker();this._lastInput=o.input[0];"object"!==typeof o.input[0]&&o.input.trigger("focus");this._lastInput=null}},_updateAlternate:function(t){var n,i,r,o=this._get(t,"altField");if(o){n=this._get(t,"altFormat")||this._get(t,"dateFormat");i=this._getDate(t);r=this.formatDate(n,i,this._getFormatConfig(t));e(o).val(r)}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());n.setDate(n.getDate()+4-(n.getDay()||7));t=n.getTime();n.setMonth(0);n.setDate(1);return Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";n="object"===typeof n?n.toString():n+"";if(""===n)return null;var r,o,a,s=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!==typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,h=-1,v=-1,m=-1,g=-1,b=false,y,x=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;n&&r++;return n},w=function(e){var t=x(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r="y"===e?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),a=n.substring(s).match(o);if(!a)throw"Missing number at position "+s;s+=a[0].length;return parseInt(a[0],10)},S=function(t,i,r){var o=-1,a=e.map(x(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});e.each(a,function(e,t){var i=t[1];if(n.substr(s,i.length).toLowerCase()===i.toLowerCase()){o=t[0];s+=i.length;return false}});if(-1!==o)return o+1;throw"Unknown name at position "+s},C=function(){if(n.charAt(s)!==t.charAt(r))throw"Unexpected literal at position "+s;s++};for(r=0;r<t.length;r++)if(b)"'"!==t.charAt(r)||x("'")?C():b=false;else switch(t.charAt(r)){case"d":m=w("d");break;case"D":S("D",c,d);break;case"o":g=w("o");break;case"m":v=w("m");break;case"M":v=S("M",f,p);break;case"y":h=w("y");break;case"@":y=new Date(w("@"));h=y.getFullYear();v=y.getMonth()+1;m=y.getDate();break;case"!":y=new Date((w("!")-this._ticksTo1970)/1e4);h=y.getFullYear();v=y.getMonth()+1;m=y.getDate();break;case"'":x("'")?C():b=true;break;default:C()}if(s<n.length){a=n.substr(s);if(!/^\s+/.test(a))throw"Extra/unparsed characters found in date: "+a}-1===h?h=(new Date).getFullYear():h<100&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h<=u?0:-100));if(g>-1){v=1;m=g;do{o=this._getDaysInMonth(h,v-1);if(m<=o)break;v++;m-=o}while(true)}y=this._daylightSavingAdjust(new Date(h,v-1,m));if(y.getFullYear()!==h||y.getMonth()+1!==v||y.getDate()!==m)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;n&&i++;return n},u=function(e,t,n){var i=""+t;if(l(e))while(i.length<n)i="0"+i;return i},c=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",f=false;if(t)for(i=0;i<e.length;i++)if(f)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):f=false;else switch(e.charAt(i)){case"d":d+=u("d",t.getDate(),2);break;case"D":d+=c("D",t.getDay(),r,o);break;case"o":d+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",t.getMonth()+1,2);break;case"M":d+=c("M",t.getMonth(),a,s);break;case"y":d+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":f=true;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=false,r=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;i&&t++;return i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=false;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=true;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()===e.lastVal)return;var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,a=this._getFormatConfig(e);try{o=this.parseDate(n,i,a)||r}catch(e){i=t?"":i}e.selectedDay=o.getDate();e.drawMonth=e.selectedMonth=o.getMonth();e.drawYear=e.selectedYear=o.getFullYear();e.currentDay=i?o.getDate():0;e.currentMonth=i?o.getMonth():0;e.currentYear=i?o.getFullYear():0;this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;t.setDate(t.getDate()+e);return t},o=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=i.getFullYear(),o=i.getMonth(),a=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);while(l){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10);a=Math.min(a,e.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10);a=Math.min(a,e.datepicker._getDaysInMonth(r,o));break}l=s.exec(n)}return new Date(r,o,a)},a=null==n||""===n?i:"string"===typeof n?o(n):"number"===typeof n?isNaN(n)?i:r(n):new Date(n.getTime());a=a&&"Invalid Date"===a.toString()?i:a;if(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)}return this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){if(!e)return null;e.setHours(e.getHours()>12?e.getHours()+2:0);return e},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate();e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth();e.drawYear=e.selectedYear=e.currentYear=a.getFullYear();r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e);this._adjustInstDate(e);e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){e.datepicker._selectMonthYear(i,this,"M");return false},selectYear:function(){e.datepicker._selectMonthYear(i,this,"Y");return false}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g,b,y,x,w,S,C,E,q,_,T,k,O,D,A,I,L,P,M,N,R,F,j,B=new Date,V=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),H=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),z=this._get(e,"hideIfNoPrevNext"),$=this._get(e,"navigationAsDateFormat"),G=this._getNumberOfMonths(e),W=this._get(e,"showCurrentAtPos"),Q=this._get(e,"stepMonths"),K=1!==G[0]||1!==G[1],Y=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-W,ee=e.drawYear;if(J<0){J+=12;ee--}if(Z){t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-G[0]*G[1]+1,Z.getDate()));t=X&&t<X?X:t;while(this._daylightSavingAdjust(new Date(ee,J,1))>t){J--;if(J<0){J=11;ee--}}}e.drawMonth=J;e.drawYear=ee;n=this._get(e,"prevText");n=$?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,J-Q,1)),this._getFormatConfig(e)):n;i=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>";r=this._get(e,"nextText");r=$?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,J+Q,1)),this._getFormatConfig(e)):r;o=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>";a=this._get(e,"currentText");s=this._get(e,"gotoCurrent")&&e.currentDay?Y:V;a=$?this.formatDate(a,s,this._getFormatConfig(e)):a;l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>";u=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(H?"":l)+"</div>":"";c=parseInt(this._get(e,"firstDay"),10);c=isNaN(c)?0:c;d=this._get(e,"showWeek");f=this._get(e,"dayNames");p=this._get(e,"dayNamesMin");h=this._get(e,"monthNames");v=this._get(e,"monthNamesShort");m=this._get(e,"beforeShowDay");g=this._get(e,"showOtherMonths");b=this._get(e,"selectOtherMonths");y=this._getDefaultDate(e);x="";for(S=0;S<G[0];S++){C="";this.maxRows=4;for(E=0;E<G[1];E++){q=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay));_=" ui-corner-all";T="";if(K){T+="<div class='ui-datepicker-group";if(G[1]>1)switch(E){case 0:T+=" ui-datepicker-group-first";_=" ui-corner-"+(H?"right":"left");break;case G[1]-1:T+=" ui-datepicker-group-last";_=" ui-corner-"+(H?"left":"right");break;default:T+=" ui-datepicker-group-middle";_="";break}T+="'>"}T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+_+"'>"+(/all|left/.test(_)&&0===S?H?o:i:"")+(/all|right/.test(_)&&0===S?H?i:o:"")+this._generateMonthYearHeader(e,J,ee,X,Z,S>0||E>0,h,v)+"</div><table class='ui-datepicker-calendar'><thead><tr>";k=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"";for(w=0;w<7;w++){O=(w+c)%7;k+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[O]+"'>"+p[O]+"</span></th>"}T+=k+"</tr></thead><tbody>";D=this._getDaysInMonth(ee,J);ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,D));A=(this._getFirstDayOfMonth(ee,J)-c+7)%7;I=Math.ceil((A+D)/7);L=K&&this.maxRows>I?this.maxRows:I;this.maxRows=L;P=this._daylightSavingAdjust(new Date(ee,J,1-A));for(M=0;M<L;M++){T+="<tr>";N=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"";for(w=0;w<7;w++){R=m?m.apply(e.input?e.input[0]:null,[P]):[true,""];F=P.getMonth()!==J;j=F&&!b||!R[0]||X&&P<X||Z&&P>Z;N+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===q.getTime()&&J===e.selectedMonth&&e._keyEvent||y.getTime()===P.getTime()&&y.getTime()===q.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+R[1]+(P.getTime()===Y.getTime()?" "+this._currentClass:"")+(P.getTime()===V.getTime()?" ui-datepicker-today":""))+"'"+(F&&!g||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":j?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===V.getTime()?" ui-state-highlight":"")+(P.getTime()===Y.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>";P.setDate(P.getDate()+1);P=this._daylightSavingAdjust(P)}T+=N+"</tr>"}J++;if(J>11){J=0;ee++}T+="</tbody></table>"+(K?"</div>"+(G[0]>0&&E===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");C+=T}x+=C}x+=u;e._keyEvent=false;return x},_generateMonthYearHeader:function(e,t,n,i,r,o,a,s){var l,u,c,d,f,p,h,v,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",x="";if(o||!m)x+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{l=i&&i.getFullYear()===n;u=r&&r.getFullYear()===n;x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(c=0;c<12;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(x+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+s[c]+"</option>");x+="</select>"}b||(y+=x+(o||!(m&&g)?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(o||!g)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{d=this._get(e,"yearRange").split(":");f=(new Date).getFullYear();p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?f+parseInt(e,10):parseInt(e,10);return isNaN(t)?f:t};h=p(d[0]);v=Math.max(h,p(d[1]||""));h=i?Math.max(h,i.getFullYear()):h;v=r?Math.min(v,r.getFullYear()):v;e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;h<=v;h++)e.yearshtml+="<option value='"+h+"'"+(h===n?" selected='selected'":"")+">"+h+"</option>";e.yearshtml+="</select>";y+=e.yearshtml;e.yearshtml=null}}y+=this._get(e,"yearSuffix");b&&(y+=(o||!(m&&g)?"&#xa0;":"")+x);y+="</div>";return y},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),r=e.selectedMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=a.getDate();e.drawMonth=e.selectedMonth=a.getMonth();e.drawYear=e.selectedYear=a.getFullYear();"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&t<n?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"===typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(t<0?t:r[0]*r[1]),1));t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth()));return this._isInRange(e,o)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");if(l){n=l.split(":");i=(new Date).getFullYear();a=parseInt(n[0],10);s=parseInt(n[1],10);n[0].match(/[+\-].*/)&&(a+=i);n[1].match(/[+\-].*/)&&(s+=i)}return(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");t="string"!==typeof t?t:(new Date).getFullYear()%100+parseInt(t,10);return{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){if(!t){e.currentDay=e.selectedDay;e.currentMonth=e.selectedMonth;e.currentYear=e.selectedYear}var r=t?"object"===typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}});function K(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,function(){e(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,Y)}function Y(){if(!e.datepicker._isDisabledDatepicker(G.inline?G.dpDiv.parent()[0]:G.input[0])){e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");e(this).addClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover")}}function X(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}e.fn.datepicker=function(t){if(!this.length)return this;if(!e.datepicker.initialized){e(document).on("mousedown",e.datepicker._checkExternalClick);e.datepicker.initialized=true}0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);if("string"===typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t))return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n));if("option"===t&&2===arguments.length&&"string"===typeof arguments[1])return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n));return this.each(function(){"string"===typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})};e.datepicker=new Q;e.datepicker.initialized=false;e.datepicker.uuid=(new Date).getTime();e.datepicker.version="1.12.1";var Z=e.datepicker;var J=e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var ee=false;e(document).on("mouseup",function(){ee=false});var te=e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(true===e.data(n.target,t.widgetName+".preventClickEvent")){e.removeData(n.target,t.widgetName+".preventClickEvent");n.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(ee)return;this._mouseMoved=false;this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var n=this,i=1===t.which,r=!("string"!==typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;if(!i||r||!this._mouseCapture(t))return true;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=true},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=false!==this._mouseStart(t);if(!this._mouseStarted){t.preventDefault();return true}}true===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(e){return n._mouseMove(e)};this._mouseUpDelegate=function(e){return n._mouseUp(e)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);t.preventDefault();ee=true;return true},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=true;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}(t.which||t.button)&&(this._mouseMoved=true);if(this._mouseStarted){this._mouseDrag(t);return t.preventDefault()}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=false!==this._mouseStart(this._mouseDownEvent,t);this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)}return!this._mouseStarted},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",true);this._mouseStop(t)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;ee=false;t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});var ne=e.ui.plugin={add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i){o.plugins[r]=o.plugins[r]||[];o.plugins[r].push([n,i[r]])}},call:function(e,t,n,i){var r,o=e.plugins[t];if(!o)return;if(!i&&(!e.element[0].parentNode||11===e.element[0].parentNode.nodeType))return;for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}};var ie=e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")};e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(e,t){this._super(e,t);if("handle"===e){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;if(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)return false;this.handle=this._getHandle(t);if(!this.handle)return false;this._blurActiveElement(t);this._blockFrames(true===n.iframeFix?"iframe":n.iframeFix);return true},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]),i=e(t.target);if(i.closest(n).length)return;e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;this.helper=this._createHelper(t);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();e.ui.ddmanager&&(e.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(t);this.originalPosition=this.position=this._generatePosition(t,false);this.originalPageX=t.pageX;this.originalPageY=t.pageY;n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt);this._setContainment();if(false===this._trigger("start",t)){this._clear();return false}this._cacheHelperProportions();e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t);this._mouseDrag(t,true);e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t);return true},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(t,true);this.positionAbs=this._convertPositionTo("absolute");if(!n){var i=this._uiHash();if(false===this._trigger("drag",t,i)){this._mouseUp(new e.Event("mouseup",t));return false}this.position=i.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";e.ui.ddmanager&&e.ui.ddmanager.drag(this,t);return false},_mouseStop:function(t){var n=this,i=false;e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t));if(this.dropped){i=this.dropped;this.dropped=false}"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||true===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){false!==n._trigger("stop",t)&&n._clear()}):false!==this._trigger("stop",t)&&this._clear();return false},_mouseUp:function(t){this._unblockFrames();e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t);this.handleElement.is(t.target)&&this.element.trigger("focus");return e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear();return this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo);i&&r[0]===this.element[0]&&this._setPositionRelative();r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute");return r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"===typeof t&&(t=t.split(" "));e.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];if("absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0});return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,o=this.document[0];this.relativeContainer=null;if(!r.containment){this.containment=null;return}if("window"===r.containment){this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if("document"===r.containment){this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}"parent"===r.containment&&(r.containment=this.helper[0].parentNode);n=e(r.containment);i=n[0];if(!i)return;t=/(scroll|auto)/.test(n.css("overflow"));this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=n},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,u=e.pageY;s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()});if(t){if(this.containment){if(this.relativeContainer){i=this.relativeContainer.offset();n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else n=this.containment;e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left);e.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top);e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left);e.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)}if(a.grid){r=a.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY;u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r;o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX;l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o}"y"===a.axis&&(l=this.originalPageX);"x"===a.axis&&(u=this.originalPageY)}return{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=false;this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){i=i||this._uiHash();e.ui.plugin.call(this,t,[n,i,this],true);if(/^(drag|start|stop)/.test(t)){this.positionAbs=this._convertPositionTo("absolute");i.offset=this.positionAbs}return e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[];e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");if(n&&!n.options.disabled){i.sortables.push(n);n.refreshPositions();n._trigger("activate",t,r)}})},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=false;e.each(i.sortables,function(){var e=this;if(e.isOver){e.isOver=0;i.cancelHelperRemoval=true;e.cancelHelperRemoval=false;e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")};e._mouseStop(t);e.options.helper=e.options._helper}else{e.cancelHelperRemoval=true;e._trigger("deactivate",t,r)}})},drag:function(t,n,i){e.each(i.sortables,function(){var r=false,o=this;o.positionAbs=i.positionAbs;o.helperProportions=i.helperProportions;o.offset.click=i.offset.click;if(o._intersectsWith(o.containerCache)){r=true;e.each(i.sortables,function(){this.positionAbs=i.positionAbs;this.helperProportions=i.helperProportions;this.offset.click=i.offset.click;this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=false);return r})}if(r){if(!o.isOver){o.isOver=1;i._parent=n.helper.parent();o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",true);o.options._helper=o.options.helper;o.options.helper=function(){return n.helper[0]};t.target=o.currentItem[0];o._mouseCapture(t,true);o._mouseStart(t,true,true);o.offset.click.top=i.offset.click.top;o.offset.click.left=i.offset.click.left;o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left;o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top;i._trigger("toSortable",t);i.dropped=o.element;e.each(i.sortables,function(){this.refreshPositions()});i.currentItem=i.element;o.fromOutside=i}if(o.currentItem){o._mouseDrag(t);n.position=o.position}}else if(o.isOver){o.isOver=0;o.cancelHelperRemoval=true;o.options._revert=o.options.revert;o.options.revert=false;o._trigger("out",t,o._uiHash(o));o._mouseStop(t,true);o.options.revert=o.options._revert;o.options.helper=o.options._helper;o.placeholder&&o.placeholder.remove();n.helper.appendTo(i._parent);i._refreshOffsets(t);n.position=i._generatePosition(t,true);i._trigger("fromSortable",t);i.dropped=false;e.each(i.sortables,function(){this.refreshPositions()})}})}});e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor"));r.css("cursor",o.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}});e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity"));r.css("opacity",o.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}});e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(false));n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,o=false,a=i.scrollParentNotHidden[0],s=i.document[0];if(a!==s&&"HTML"!==a.tagName){r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-t.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed));r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-t.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))}else{r.axis&&"x"===r.axis||(t.pageY-e(s).scrollTop()<r.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<r.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+r.scrollSpeed)));r.axis&&"y"===r.axis||(t.pageX-e(s).scrollLeft()<r.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<r.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+r.scrollSpeed)))}false!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}});e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[];e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var r,o,a,s,l,u,c,d,f,p,h=i.options,v=h.snapTolerance,m=n.offset.left,g=m+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--){l=i.snapElements[f].left-i.margins.left;u=l+i.snapElements[f].width;c=i.snapElements[f].top-i.margins.top;d=c+i.snapElements[f].height;if(g<l-v||m>u+v||y<c-v||b>d+v||!e.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)){i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[f].item}));i.snapElements[f].snapping=false;continue}if("inner"!==h.snapMode){r=Math.abs(c-y)<=v;o=Math.abs(d-b)<=v;a=Math.abs(l-g)<=v;s=Math.abs(u-m)<=v;r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top);o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top);a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left);s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)}p=r||o||a||s;if("outer"!==h.snapMode){r=Math.abs(c-b)<=v;o=Math.abs(d-y)<=v;a=Math.abs(l-m)<=v;s=Math.abs(u-g)<=v;r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top);o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top);a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left);s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)}!i.snapElements[f].snapping&&(r||o||a||s||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[f].item}));i.snapElements[f].snapping=r||o||a||s||p}}});e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,o=i.options,a=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!a.length)return;r=parseInt(e(a[0]).css("zIndex"),10)||0;e(a).each(function(t){e(this).css("zIndex",r+t)});this.css("zIndex",r+a.length)}});e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex"));r.css("zIndex",o.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}});var re=e.ui.draggable;e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return false;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=false;if(t[i]>0)return true;t[i]=1;r=t[i]>0;t[i]=0;return r},_create:function(){var t,n=this.options,i=this;this._addClass("ui-resizable");e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(t);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(t);this._proportionallyResize()}this._setupHandles();n.autoHide&&e(this.element).on("mouseenter",function(){if(n.disabled)return;i._removeClass("ui-resizable-autohide");i._handles.show()}).on("mouseleave",function(){if(n.disabled)return;if(!i.resizing){i._addClass("ui-resizable-autohide");i._handles.hide()}});this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){n(this.element);t=this.element;this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t);t.remove()}this.originalElement.css("resize",this.originalResizeStyle);n(this.originalElement);return this},_setOption:function(e,t){this._super(e,t);switch(e){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function(){var t=this.options,n,i,r,o,a,s=this;this.handles=t.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");this._handles=e();if(this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");r=this.handles.split(",");this.handles={};for(i=0;i<r.length;i++){n=e.trim(r[i]);o="ui-resizable-"+n;a=e("<div>");this._addClass(a,"ui-resizable-handle "+o);a.css({zIndex:t.zIndex});this.handles[n]=".ui-resizable-"+n;this.element.append(a)}}this._renderAxis=function(t){var n,i,r,o;t=t||this.element;for(n in this.handles){if(this.handles[n].constructor===String)this.handles[n]=this.element.children(this.handles[n]).first().show();else if(this.handles[n].jquery||this.handles[n].nodeType){this.handles[n]=e(this.handles[n]);this._on(this.handles[n],{mousedown:s._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){i=e(this.handles[n],this.element);o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth();r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(r,o);this._proportionallyResize()}this._handles=this._handles.add(this.handles[n])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!s.resizing){this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i));s.axis=a&&a[1]?a[1]:"se"}});if(t.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var n,i,r=false;for(n in this.handles){i=e(this.handles[n])[0];(i===t.target||e.contains(i,t.target))&&(r=true)}return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,o=this.options,a=this.element;this.resizing=true;this._renderProxy();n=this._num(this.helper.css("left"));i=this._num(this.helper.css("top"));if(o.containment){n+=e(o.containment).scrollLeft()||0;i+=e(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:n,top:i};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()};this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()};this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()};this.originalPosition={left:n,top:i};this.originalMousePosition={left:t.pageX,top:t.pageY};this.aspectRatio="number"===typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;r=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor","auto"===r?this.axis+"-resize":r);this._addClass("ui-resizable-resizing");this._propagate("start",t);return true},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,o=this.axis,a=t.pageX-r.left||0,s=t.pageY-r.top||0,l=this._change[o];this._updatePrevProperties();if(!l)return false;n=l.apply(this,[t,a,s]);this._updateVirtualBoundaries(t.shiftKey);(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t));n=this._respectSize(n,t);this._updateCache(n);this._propagate("resize",t);i=this._applyChanges();!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();if(!e.isEmptyObject(i)){this._updatePrevProperties();this._trigger("resize",t,this.ui());this._applyChanges()}return false},_mouseStop:function(t){this.resizing=false;var n,i,r,o,a,s,l,u=this.options,c=this;if(this._helper){n=this._proportionallyResizeElements;i=n.length&&/textarea/i.test(n[0].nodeName);r=i&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height;o=i?0:c.sizeDiff.width;a={width:c.helper.width()-o,height:c.helper.height()-r};s=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null;l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null;u.animate||this.element.css(e.extend(a,{top:l,left:s}));c.helper.height(c.size.height);c.helper.width(c.size.width);this._helper&&!u.animate&&this._proportionallyResize()}e("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",t);this._helper&&this.helper.remove();return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px");this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px");this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px");this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px");this.helper.css(e);return e},_updateVirtualBoundaries:function(e){var t,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:Infinity,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:Infinity};if(this._aspectRatio||e){t=o.minHeight*this.aspectRatio;i=o.minWidth/this.aspectRatio;n=o.maxHeight*this.aspectRatio;r=o.maxWidth/this.aspectRatio;t>o.minWidth&&(o.minWidth=t);i>o.minHeight&&(o.minHeight=i);n<o.maxWidth&&(o.maxWidth=n);r<o.maxHeight&&(o.maxHeight=r)}this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset();this._isNumber(e.left)&&(this.position.left=e.left);this._isNumber(e.top)&&(this.position.top=e.top);this._isNumber(e.height)&&(this.size.height=e.height);this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio);if("sw"===i){e.left=t.left+(n.width-e.width);e.top=null}if("nw"===i){e.top=t.top+(n.height-e.height);e.left=t.left+(n.width-e.width)}return e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);o&&(e.width=t.minWidth);a&&(e.height=t.minHeight);i&&(e.width=t.maxWidth);r&&(e.height=t.maxHeight);o&&u&&(e.left=s-t.minWidth);i&&u&&(e.left=s-t.maxWidth);a&&c&&(e.top=l-t.minHeight);r&&c&&(e.top=l-t.maxHeight);e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null;return e},_getPaddingPlusBorderDimensions:function(e){var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];for(;t<4;t++){n[t]=parseFloat(i[t])||0;n[t]+=parseFloat(r[t])||0}return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length)return;var e,t=0,n=this.helper||this.element;for(;t<this._proportionallyResizeElements.length;t++){e=this._proportionallyResizeElements[t];this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e));e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]);"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&e(r[0]).css({width:i.width,height:i.height});n._updateCache(i);n._propagate("resize",t)}})}});e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,o,a,s,l=e(this).resizable("instance"),u=l.options,c=l.element,d=u.containment,f=d instanceof e?d.get(0):/parent/.test(d)?c.parent().get(0):d;if(!f)return;l.containerElement=e(f);if(/document/.test(d)||d===document){l.containerOffset={left:0,top:0};l.containerPosition={left:0,top:0};l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}}else{t=e(f);n=[];e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))});l.containerOffset=t.offset();l.containerPosition=t.position();l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]};i=l.containerOffset;r=l.containerSize.height;o=l.containerSize.width;a=l._hasScroll(f,"left")?f.scrollWidth:o;s=l._hasScroll(f)?f.scrollHeight:r;l.parentData={element:f,left:i.left,top:i.top,width:a,height:s}}},resize:function(t){var n,i,r,o,a=e(this).resizable("instance"),s=a.options,l=a.containerOffset,u=a.position,c=a._aspectRatio||t.shiftKey,d={top:0,left:0},f=a.containerElement,p=true;f[0]!==document&&/static/.test(f.css("position"))&&(d=l);if(u.left<(a._helper?l.left:0)){a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left);if(c){a.size.height=a.size.width/a.aspectRatio;p=false}a.position.left=s.helper?l.left:0}if(u.top<(a._helper?l.top:0)){a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top);if(c){a.size.width=a.size.height*a.aspectRatio;p=false}a.position.top=a._helper?l.top:0}r=a.containerElement.get(0)===a.element.parent().get(0);o=/relative|absolute/.test(a.containerElement.css("position"));if(r&&o){a.offset.left=a.parentData.left+a.position.left;a.offset.top=a.parentData.top+a.position.top}else{a.offset.left=a.element.offset().left;a.offset.top=a.element.offset().top}n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left));i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top));if(n+a.size.width>=a.parentData.width){a.size.width=a.parentData.width-n;if(c){a.size.height=a.size.width/a.aspectRatio;p=false}}if(i+a.size.height>=a.parentData.height){a.size.height=a.parentData.height-i;if(c){a.size.width=a.size.height*a.aspectRatio;p=false}}if(!p){a.position.left=a.prevPosition.left;a.position.top=a.prevPosition.top;a.size.width=a.prevSize.width;a.size.height=a.prevSize.height}},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,u=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:u});t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:u})}});e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};e(r.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(s[t]||0);n&&n>=0&&(r[t]=n||null)});t.css(r)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}});e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0});t._addClass(t.ghost,"ui-resizable-ghost");false!==e.uiBackCompat&&"string"===typeof t.options.ghost&&t.ghost.addClass(this.options.ghost);t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,l="number"===typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,d=Math.round((r.width-o.width)/u)*u,f=Math.round((r.height-o.height)/c)*c,p=o.width+d,h=o.height+f,v=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<h,g=i.minWidth&&i.minWidth>p,b=i.minHeight&&i.minHeight>h;i.grid=l;g&&(p+=u);b&&(h+=c);v&&(p-=u);m&&(h-=c);if(/^(se|s|e)$/.test(s)){n.size.width=p;n.size.height=h}else if(/^(ne)$/.test(s)){n.size.width=p;n.size.height=h;n.position.top=a.top-f}else if(/^(sw)$/.test(s)){n.size.width=p;n.size.height=h;n.position.left=a.left-d}else{(h-c<=0||p-u<=0)&&(t=n._getPaddingPlusBorderDimensions(this));if(h-c>0){n.size.height=h;n.position.top=a.top-f}else{h=c-t.height;n.size.height=h;n.position.top=a.top+o.height-h}if(p-u>0){n.size.width=p;n.position.left=a.left-d}else{p=u-t.width;n.size.width=p;n.position.left=a.left+o.width-p}}}});var oe=e.ui.resizable;e.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:true,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:true,closeText:"Close",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle);this.options.disabled&&(this.options.disabled=false);this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();this.options.draggable&&e.fn.draggable&&this._makeDraggable();this.options.resizable&&e.fn.resizable&&this._makeResizable();this._isOpen=false;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;if(t&&(t.jquery||t.nodeType))return e(t);return this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);e=t.parent.children().eq(t.index);e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n=this;if(!this._isOpen||false===this._trigger("beforeClose",t))return;this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0]));this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=false,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,r);if(o>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",o+1);i=true}i&&!n&&this._trigger("focus",t);return i},open:function(){var t=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=true;this.opener=e(e.ui.safeActiveElement(this.document[0]));this._size();this._position();this._createOverlay();this._moveToTop(null,true);this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1);this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")});this._makeFocusTarget();this._trigger("open")},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]"));e.length||(e=this.element.find(":tabbable"));e.length||(e=this.uiDialogButtonPane.find(":tabbable"));e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable"));e.length||(e=this.uiDialog);e.eq(0).trigger("focus")},_keepFocus:function(t){function n(){var t=e.ui.safeActiveElement(this.document[0]),n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault();n.call(this);this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE){t.preventDefault();this.close(t);return}if(t.keyCode!==e.ui.keyCode.TAB||t.isDefaultPrevented())return;var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");if(t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey){if((t.target===i[0]||t.target===this.uiDialog[0])&&t.shiftKey){this._delay(function(){r.trigger("focus")});t.preventDefault()}}else{this._delay(function(){i.trigger("focus")});t.preventDefault()}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}});this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:false}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault();this.close(e)}});t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(t,"ui-dialog-title");this._title(t);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(e.isEmptyObject(n)||e.isArray(n)&&!n.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}e.each(n,function(n,i){var r,o;i=e.isFunction(i)?{click:i,text:n}:i;i=e.extend({type:"button"},i);r=i.click;o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text};delete i.click;delete i.icon;delete i.iconPosition;delete i.showLabel;delete i.icons;"boolean"===typeof i.text&&delete i.text;e("<button></button>",i).button(o).appendTo(t.uiButtonSet).on("click",function(){r.apply(t.element[0],arguments)})});this._addClass(this.uiDialog,"ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var t=this,n=this.options;function i(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){t._addClass(e(this),"ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",n,i(r))},drag:function(e,n){t._trigger("drag",e,i(n))},stop:function(r,o){var a=o.offset.left-t.document.scrollLeft(),s=o.offset.top-t.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:t.window};t._removeClass(e(this),"ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",r,i(o))}})},_makeResizable:function(){var t=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),o="string"===typeof i?i:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,i){t._addClass(e(this),"ui-dialog-resizing");t._blockFrames();t._trigger("resizeStart",n,a(i))},resize:function(e,n){t._trigger("resize",e,a(n))},stop:function(i,r){var o=t.uiDialog.offset(),s=o.left-t.document.scrollLeft(),l=o.top-t.document.scrollTop();n.height=t.uiDialog.height();n.width=t.uiDialog.width();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:t.window};t._removeClass(e(this),"ui-dialog-resizing");t._unblockFrames();t._trigger("resizeStop",i,a(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget();this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");if(!e){e=[];this.document.data("ui-dialog-instances",e)}return e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show();this.uiDialog.position(this.options.position);e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=false,r={};e.each(t,function(e,t){n._setOption(e,t);e in n.sizeRelatedOptions&&(i=true);e in n.resizableRelatedOptions&&(r[e]=t)});if(i){this._size();this._position()}this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,n){var i,r,o=this.uiDialog;if("disabled"===t)return;this._super(t,n);"appendTo"===t&&this.uiDialog.appendTo(this._appendTo());"buttons"===t&&this._createButtons();"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()});if("draggable"===t){i=o.is(":data(ui-draggable)");i&&!n&&o.draggable("destroy");!i&&n&&this._makeDraggable()}"position"===t&&this._position();if("resizable"===t){r=o.is(":data(ui-resizable)");r&&!n&&o.resizable("destroy");r&&"string"===typeof n&&o.resizable("option","handles",n);r||false===n||this._makeResizable()}"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});i.minWidth>i.width&&(i.width=i.minWidth);e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight();t=Math.max(0,i.minHeight-e);n="number"===typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none";"auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(t){if(e(t.target).closest(".ui-dialog").length)return true;return!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal)return;var t=true;this._delay(function(){t=false});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){if(t)return;if(!this._allowInteraction(e)){e.preventDefault();this._trackingInstances()[0]._focusTabbable()}}});this.overlay=e("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)},_destroyOverlay:function(){if(!this.options.modal)return;if(this.overlay){var e=this.document.data("ui-dialog-overlays")-1;if(e)this.document.data("ui-dialog-overlays",e);else{this._off(this.document,"focusin");this.document.removeData("ui-dialog-overlays")}this.overlay.remove();this.overlay=null}}});false!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t);this._superApply(arguments)}});var ae=e.ui.dialog;e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=false;this.isout=true;this.accept=e.isFunction(i)?i:function(e){return e.is(i)};this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]};this._addToManager(n.scope);n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[];e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){var t=0;for(;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i);this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass();n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass();n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;if(this.accept.call(this.element[0],n.currentItem||n.element)){this._addHoverClass();this._trigger("over",t,this.ui(n))}},_out:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;if(this.accept.call(this.element[0],n.currentItem||n.element)){this._removeHoverClass();this._trigger("out",t,this.ui(n))}},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=false;if(!i||(i.currentItem||i.element)[0]===this.element[0])return false;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&se(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)){r=true;return false}});if(r)return false;if(this.accept.call(this.element[0],i.currentItem||i.element)){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",t,this.ui(i));return this.element}return false},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var se=e.ui.intersect=function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,i,r){if(!n.offset)return false;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,s=o+t.helperProportions.width,l=a+t.helperProportions.height,u=n.offset.left,c=n.offset.top,d=u+n.proportions().width,f=c+n.proportions().height;switch(i){case"fit":return u<=o&&s<=d&&c<=a&&l<=f;case"intersect":return u<o+t.helperProportions.width/2&&s-t.helperProportions.width/2<d&&c<a+t.helperProportions.height/2&&l-t.helperProportions.height/2<f;case"pointer":return e(r.pageY,c,n.proportions().height)&&e(r.pageX,u,n.proportions().width);case"touch":return(a>=c&&a<=f||l>=c&&l<=f||a<c&&l>f)&&(o>=u&&o<=d||s>=u&&s<=d||o<u&&s>d);default:return false}}}();e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<o.length;i++){if(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))continue;for(r=0;r<s.length;r++)if(s[r]===o[i].element[0]){o[i].proportions().height=0;continue e}o[i].visible="none"!==o[i].element.css("display");if(!o[i].visible)continue;"mousedown"===a&&o[i]._activate.call(o[i],n);o[i].offset=o[i].element.offset();o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight})}},drop:function(t,n){var i=false;e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){if(!this.options)return;!this.options.disabled&&this.visible&&se(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)){this.isout=true;this.isover=false;this._deactivate.call(this,n)}});return i},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n);e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var i,r,o,a=se(t,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;if(!s)return;if(this.options.greedy){r=this.options.scope;o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r});if(o.length){i=e(o[0]).droppable("instance");i.greedyChild="isover"===s}}if(i&&"isover"===s){i.isover=false;i.isout=true;i._out.call(i,n)}this[s]=true;this["isout"===s?"isover":"isout"]=false;this["isover"===s?"_over":"_out"].call(this,n);if(i&&"isout"===s){i.isout=false;i.isover=true;i._over.call(i,n)}})},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable");t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}};false!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});var le=e.ui.droppable;var ue=e.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=e("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e);this._refreshValue()},_constrainedValue:function(e){void 0===e&&(e=this.options.value);this.indeterminate=false===e;"number"!==typeof e&&(e=0);return!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value;this._super(e);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t));this._super(e,t)},_setOptionDisabled:function(e){this._super(e);this.element.attr("aria-disabled",e);this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(n.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=e("<div>").appendTo(this.valueDiv);this._addClass(this.overlayDiv,"ui-progressbar-overlay")}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==t){this.oldValue=t;this._trigger("change")}t===this.options.max&&this._trigger("complete")}});var ce=e.widget("ui.selectable",e.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable");this.dragged=false;this.refresh=function(){t.elementPos=e(t.element[0]).offset();t.selectees=e(t.options.filter,t.element[0]);t._addClass(t.selectees,"ui-selectee");t.selectees.each(function(){var n=e(this),i=n.offset(),r={left:i.left-t.elementPos.left,top:i.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:false,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=e("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY];this.elementPos=e(this.element[0]).offset();if(this.options.disabled)return;this.selectees=e(i.filter,this.element[0]);this._trigger("start",t);e(i.appendTo).append(this.helper);this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0});i.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=true;if(!t.metaKey&&!t.ctrlKey){n._removeClass(i.$element,"ui-selected");i.selected=false;n._addClass(i.$element,"ui-unselecting");i.unselecting=true;n._trigger("unselecting",t,{unselecting:i.element})}});e(t.target).parents().addBack().each(function(){var i,r=e.data(this,"selectable-item");if(r){i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected");n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting");r.unselecting=!i;r.selecting=i;r.selected=i;i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element});return false}})},_mouseDrag:function(t){this.dragged=true;if(this.options.disabled)return;var n,i=this,r=this.options,o=this.opos[0],a=this.opos[1],s=t.pageX,l=t.pageY;if(o>s){n=s;s=o;o=n}if(a>l){n=l;l=a;a=n}this.helper.css({left:o,top:a,width:s-o,height:l-a});this.selectees.each(function(){var n=e.data(this,"selectable-item"),u=false,c={};if(!n||n.element===i.element[0])return;c.left=n.left+i.elementPos.left;c.right=n.right+i.elementPos.left;c.top=n.top+i.elementPos.top;c.bottom=n.bottom+i.elementPos.top;"touch"===r.tolerance?u=!(c.left>s||c.right<o||c.top>l||c.bottom<a):"fit"===r.tolerance&&(u=c.left>o&&c.right<s&&c.top>a&&c.bottom<l);if(u){if(n.selected){i._removeClass(n.$element,"ui-selected");n.selected=false}if(n.unselecting){i._removeClass(n.$element,"ui-unselecting");n.unselecting=false}if(!n.selecting){i._addClass(n.$element,"ui-selecting");n.selecting=true;i._trigger("selecting",t,{selecting:n.element})}}else{if(n.selecting)if((t.metaKey||t.ctrlKey)&&n.startselected){i._removeClass(n.$element,"ui-selecting");n.selecting=false;i._addClass(n.$element,"ui-selected");n.selected=true}else{i._removeClass(n.$element,"ui-selecting");n.selecting=false;if(n.startselected){i._addClass(n.$element,"ui-unselecting");n.unselecting=true}i._trigger("unselecting",t,{unselecting:n.element})}if(n.selected&&!t.metaKey&&!t.ctrlKey&&!n.startselected){i._removeClass(n.$element,"ui-selected");n.selected=false;i._addClass(n.$element,"ui-unselecting");n.unselecting=true;i._trigger("unselecting",t,{unselecting:n.element})}}});return false},_mouseStop:function(t){var n=this;this.dragged=false;e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting");i.unselecting=false;i.startselected=false;n._trigger("unselected",t,{unselected:i.element})});e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected");i.selecting=false;i.selected=true;i.startselected=true;n._trigger("selected",t,{selected:i.element})});this._trigger("stop",t);this.helper.remove();return false}});var de=e.widget("ui.selectmenu",[e.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:false,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=false;this.menuItems=e()},_drawButton:function(){var t,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(e){this.button.focus();e.preventDefault()}});this.element.hide();this.button=e("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");t=e("<span>").appendTo(this.button);this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(i).appendTo(this.button);false!==this.options.width&&this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=e("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,n){e.preventDefault();t._setSelection();t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var i=n.item.data("ui-selectmenu-item");if(null!=t.focusIndex&&i.index!==t.focusIndex){t._trigger("focus",e,{item:i});t.isOpen||t._select(i,e)}t.focusIndex=i.index;t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false};this.menuInstance._isDivider=function(){return false}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty();this._parseOptions(t);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=true;if(!t.length)return;e=this._getSelectedItem();this.menuInstance.focus(null,e);this._setAria(e.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"))},open:function(e){if(this.options.disabled)return;if(this._rendered){this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active");this.menuInstance.focus(null,this._getSelectedItem())}else this._refreshMenu();if(!this.menuItems.length)return;this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",e)},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){if(!this.isOpen)return;this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger("close",e)},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var n=e("<span>");this._setText(n,t.label);this._addClass(n,"ui-selectmenu-text");return n},_renderMenu:function(t,n){var i=this,r="";e.each(n,function(n,o){var a;if(o.optgroup!==r){a=e("<li>",{text:o.optgroup});i._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""));a.appendTo(t);r=o.optgroup}i._renderItemData(t,o)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var i=e("<li>"),r=e("<div>",{title:n.element.attr("title")});n.disabled&&this._addClass(i,null,"ui-state-disabled");this._setText(r,n.label);return i.append(r).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";if(this.isOpen)n=this.menuItems.eq(this.focusIndex).parent("li");else{n=this.menuItems.eq(this.element[0].selectedIndex).parent("li");r+=":not(.ui-state-disabled)"}i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0);i.length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;if(!this.range)return;if(window.getSelection){e=window.getSelection();e.removeAllRanges();e.addRange(this.range)}else this.range.select();this.button.focus()},_documentClick:{mousedown:function(t){if(!this.isOpen)return;e(t.target).closest(".ui-selectmenu-menu, #"+e.ui.escapeSelector(this.ids.button)).length||this.close(t)}},_buttonEvents:{mousedown:function(){var e;if(window.getSelection){e=window.getSelection();e.rangeCount&&(this.range=e.getRangeAt(0))}else this.range=document.selection.createRange()},click:function(e){this._setSelection();this._toggle(e)},keydown:function(t){var n=true;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t);n=false;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t);n=false}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e));this._setAria(e);this._trigger("select",t,{item:e});e.index!==n&&this._trigger("change",t,{item:e});this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t});this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,t.button)}this._super(e,t);"appendTo"===e&&this.menuWrap.appendTo(this._appendTo());"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e);this.menuInstance.option("disabled",e);this.button.attr("aria-disabled",e);this._toggleClass(this.button,null,"ui-state-disabled",e);this.element.prop("disabled",e);if(e){this.button.attr("tabindex",-1);this.close()}else this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0));t&&t[0]||(t=this.element.closest(".ui-front, dialog"));t.length||(t=this.document[0].body);return t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;if(false===e){this.button.css("width","");return}if(null===e){e=this.element.show().outerWidth();this.element.hide()}this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();e.disabled=this.element.prop("disabled");return e},_parseOptions:function(t){var n=this,i=[];t.each(function(t,r){i.push(n._parseOption(e(r),t))});this.items=i},_parseOption:function(e,t){var n=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);var fe=e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:false,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];n=i.values&&i.values.length||1;if(r.length>n){r.slice(n).remove();r=r.slice(0,n)}for(t=r.length;t<n;t++)a.push(o);this.handles=r.add(e(a.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;if(t.range){true===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]);if(this.range&&this.range.length){this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max");this.range.css({left:"",bottom:""})}else{this.range=e("<div>").appendTo(this.element);this._addClass(this.range,"ui-slider-range")}"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)}else{this.range&&this.range.remove();this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,a,s,l,u,c=this,d=this.options;if(d.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();n={x:t.pageX,y:t.pageY};i=this._normValueFromMouse(n);r=this._valueMax()-this._valueMin()+1;this.handles.each(function(t){var n=Math.abs(i-c.values(t));if(r>n||r===n&&(t===c._lastChangedValue||c.values(t)===d.min)){r=n;o=e(this);a=t}});s=this._start(t,a);if(false===s)return false;this._mouseSliding=true;this._handleIndex=a;this._addClass(o,null,"ui-state-active");o.trigger("focus");l=o.offset();u=!e(t.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=u?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(t,a,i);this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);this._slide(e,this._handleIndex,n);return false},_mouseStop:function(e){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=false;this._stop(e,this._handleIndex);this._change(e,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;if("horizontal"===this.orientation){t=this.elementSize.width;n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{t=this.elementSize.height;n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}i=n/t;i>1&&(i=1);i<0&&(i=0);"vertical"===this.orientation&&(i=1-i);r=this._valueMax()-this._valueMin();o=this._valueMin()+i*r;return this._trimAlignValue(o)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};if(this._hasMultipleValues()){i.value=void 0!==t?t:this.values(e);i.values=n||this.values()}return i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,r,o=this.value(),a=this.values();if(this._hasMultipleValues()){r=this.values(t?0:1);o=this.values(t);2===this.options.values.length&&true===this.options.range&&(n=0===t?Math.min(r,n):Math.max(r,n));a[t]=n}if(n===o)return;i=this._trigger("slide",e,this._uiHash(t,n,a));if(false===i)return;this._hasMultipleValues()?this.values(t,n):this.value(n)},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){this._lastChangedValue=t;this._trigger("change",e,this._uiHash(t))}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e);this._refreshValue();this._change(null,0);return}return this._value()},values:function(t,n){var i,r,o;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(n);this._refreshValue();this._change(null,t);return}if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();i=this.options.values;r=arguments[0];for(o=0;o<i.length;o+=1){i[o]=this._trimAlignValue(r[o]);this._change(null,o)}this._refreshValue()},_setOption:function(t,n){var i,r=0;if("range"===t&&true===this.options.range)if("min"===n){this.options.value=this._values(0);this.options.values=null}else if("max"===n){this.options.value=this._values(this.options.values.length-1);this.options.values=null}e.isArray(this.options.values)&&(r=this.options.values.length);this._super(t,n);switch(t){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();this.options.range&&this._refreshRange(n);this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=r-1;i>=0;i--)this._change(null,i);this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_setOptionDisabled:function(e){this._super(e);this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;e=this._trimAlignValue(e);return e},_values:function(e){var t,n,i;if(arguments.length){t=this.options.values[e];t=this._trimAlignValue(t);return t}if(this._hasMultipleValues()){n=this.options.values.slice();for(i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;2*Math.abs(n)>=t&&(i+=n>0?t:-t);return parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,i=Math.round((e-t)/n)*n;e=i+t;e>this.options.max&&(e-=n);this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min)));return e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""});"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,i,r,o,a=this.options.range,s=this.options,l=this,u=!this._animateOff&&s.animate,c={};if(this._hasMultipleValues())this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100;c["horizontal"===l.orientation?"left":"bottom"]=n+"%";e(this).stop(1,1)[u?"animate":"css"](c,s.animate);if(true===l.options.range)if("horizontal"===l.orientation){0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},s.animate);1===i&&l.range[u?"animate":"css"]({width:n-t+"%"},{queue:false,duration:s.animate})}else{0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},s.animate);1===i&&l.range[u?"animate":"css"]({height:n-t+"%"},{queue:false,duration:s.animate})}t=n});else{i=this.value();r=this._valueMin();o=this._valueMax();n=o!==r?(i-r)/(o-r)*100:0;c["horizontal"===this.orientation?"left":"bottom"]=n+"%";this.handle.stop(1,1)[u?"animate":"css"](c,s.animate);"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},s.animate);"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},s.animate);"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},s.animate);"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},s.animate)}},_handleEvents:{keydown:function(t){var n,i,r,o,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:t.preventDefault();if(!this._keySliding){this._keySliding=true;this._addClass(e(t.target),null,"ui-state-active");n=this._start(t,a);if(false===n)return}break}o=this.options.step;i=r=this._hasMultipleValues()?this.values(a):this.value();switch(t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o);break}this._slide(t,a,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(t,n);this._change(t,n);this._removeClass(e(t.target),null,"ui-state-active")}}}});var pe=e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(e,t){this._super(e,t);"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=false,o=this;if(this.reverting)return false;if(this.options.disabled||"static"===this.options.type)return false;this._refreshItems(t);e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o){i=e(this);return false}});e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target));if(!i)return false;if(this.options.handle&&!n){e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=true)});if(!r)return false}this.currentItem=i;this._removeCurrentsFromItems();return true},_mouseStart:function(t,n,i){var r,o,a=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(t);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();a.containment&&this._setContainment();if(a.cursor&&"auto"!==a.cursor){o=this.document.find("body");this.storedCursor=o.css("cursor");o.css("cursor",a.cursor);this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)}if(a.opacity){this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity"));this.helper.css("opacity",a.opacity)}if(a.zIndex){this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex"));this.helper.css("zIndex",a.zIndex)}this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",t,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));e.ui.ddmanager&&(e.ui.ddmanager.current=this);e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t);this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(t);return true},_mouseDrag:function(t){var n,i,r,o,a=this.options,s=false;this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName){this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed);this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)}else{t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed));t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))}false!==s&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(n=this.items.length-1;n>=0;n--){i=this.items[n];r=i.item[0];o=this._intersectsWithPointer(i);if(!o)continue;if(i.instance!==this.currentContainer)continue;if(r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],r))){this.direction=1===o?"down":"up";if("pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i);this._trigger("change",t,this._uiHash());break}}this._contactContainers(t);e.ui.ddmanager&&e.ui.ddmanager.drag(this,t);this._trigger("sort",t,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=true;e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return false},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null}));if("original"===this.options.helper){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--){this.containers[t]._trigger("deactivate",null,this._uiHash(this));if(this.containers[t].containerCache.over){this.containers[t]._trigger("out",null,this._uiHash(this));this.containers[t].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove();e.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];t=t||{};e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))});!i.length&&t.key&&i.push(t.key+"=");return i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];t=t||{};n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")});return i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||i+u>s&&i+u<l,f="y"===this.options.axis||t+c>o&&t+c<a,p=d&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),o=i&&r;if(!o)return false;t=this._getDragVerticalDirection();n=this._getDragHorizontalDirection();return this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1)},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,r,o,a=[],s=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--){r=e(l[n],this.document[0]);for(i=r.length-1;i>=0;i--){o=e.data(r[i],this.widgetFullName);o&&o!==this&&!o.options.disabled&&s.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o])}}s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function u(){a.push(this)}for(n=s.length-1;n>=0;n--)s[n][0].each(u);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return false;return true})},_refreshItems:function(t){this.items=[];this.containers=[this];var n,i,r,o,a,s,l,u,c=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--){r=e(f[n],this.document[0]);for(i=r.length-1;i>=0;i--){o=e.data(r[i],this.widgetFullName);if(o&&o!==this&&!o.options.disabled){d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]);this.containers.push(o)}}}for(n=d.length-1;n>=0;n--){a=d[n][1];s=d[n][0];for(i=0,u=s.length;i<u;i++){l=e(s[i]);l.data(this.widgetName+"-item",a);c.push({item:l,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item));this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--){i=this.items[n];if(i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0])continue;r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item;if(!t){i.width=r.outerWidth();i.height=r.outerHeight()}o=r.offset();i.left=o.left;i.top=o.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--){o=this.containers[n].element.offset();this.containers[n].containerCache.left=o.left;this.containers[n].containerCache.top=o.top;this.containers[n].containerCache.width=this.containers[n].element.outerWidth();this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;if(!i.placeholder||i.placeholder.constructor===String){n=i.placeholder;i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]);t._addClass(r,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(r,"ui-sortable-helper");"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src"));n||r.css("visibility","hidden");return r},update:function(e,r){if(n&&!i.forcePlaceholderSize)return;r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10));r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,r,o,a,s,l,u,c,d,f=null,p=null;for(n=this.containers.length-1;n>=0;n--){if(e.contains(this.currentItem[0],this.containers[n].element[0]))continue;if(this._intersectsWith(this.containers[n].containerCache)){if(f&&e.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n];p=n}else if(this.containers[n].containerCache.over){this.containers[n]._trigger("out",t,this._uiHash(this));this.containers[n].containerCache.over=0}}if(!f)return;if(1===this.containers.length){if(!this.containers[p].containerCache.over){this.containers[p]._trigger("over",t,this._uiHash(this));this.containers[p].containerCache.over=1}}else{r=1e4;o=null;c=f.floating||this._isFloating(this.currentItem);a=c?"left":"top";s=c?"width":"height";d=c?"pageX":"pageY";for(i=this.items.length-1;i>=0;i--){if(!e.contains(this.containers[p].element[0],this.items[i].item[0]))continue;if(this.items[i].item[0]===this.currentItem[0])continue;l=this.items[i].item.offset()[a];u=false;t[d]-l>this.items[i][s]/2&&(u=true);if(Math.abs(t[d]-l)<r){r=Math.abs(t[d]-l);o=this.items[i];this.direction=u?"up":"down"}}if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p]){if(!this.currentContainer.containerCache.over){this.containers[p]._trigger("over",t,this._uiHash());this.currentContainer.containerCache.over=1}return}o?this._rearrange(t,o,null,true):this._rearrange(t,null,this.containers[p].element,true);this._trigger("change",t,this._uiHash());this.containers[p]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[p];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[p]._trigger("over",t,this._uiHash(this));this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]);i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width());i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height());return i},_adjustOffsetFromHelper:function(t){"string"===typeof t&&(t=t.split(" "));e.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();if("absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0});return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode);"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);if(!/^(document|window|parent)$/.test(r.containment)){t=e(r.containment)[0];n=e(r.containment).offset();i="hidden"!==e(t).css("overflow");this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());if(this.originalPosition){if(this.containment){t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left);t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top);t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left);t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)}if(r.grid){n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1];a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n;i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0];o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=false;var n,i=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())});if(this!==this.currentContainer&&!t){i.push(function(e){this._trigger("remove",e,this._uiHash())});i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer));i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))}function r(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}for(n=this.containers.length-1;n>=0;n--){t||i.push(r("deactivate",this,this.containers[n]));if(this.containers[n].containerCache.over){i.push(r("out",this,this.containers[n]));this.containers[n].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=false;t||this._trigger("beforeStop",e,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null}if(!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return!this.cancelHelperRemoval},_trigger:function(){false===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}});function he(e){return function(){var t=this.element.val();e.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super();var n=this.element;e.each(["min","max","step"],function(e,i){var r=n.attr(i);null!=r&&r.length&&(t[i]=r)});return t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,t){if(!t)return;if(!this.spinning&&!this._start(e))return false;this._spin((t>0?1:-1)*this.options.step,e);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100);e.preventDefault()},"mousedown .ui-spinner-button":function(t){var n;n=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function i(){var t=this.element[0]===e.ui.safeActiveElement(this.document[0]);if(!t){this.element.trigger("focus");this.previous=n;this._delay(function(){this.previous=n})}}t.preventDefault();i.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;i.call(this)});if(false===this._start(t))return;this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(!e(t.currentTarget).hasClass("ui-state-active"))return;if(false===this._start(t))return false;this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",true).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,showLabel:false});this.buttons.last().button({icon:this.options.icons.down,showLabel:false});this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:this._repeat(null,1,t);return true;case i.DOWN:this._repeat(null,-1,t);return true;case i.PAGE_UP:this._repeat(null,n.page,t);return true;case i.PAGE_DOWN:this._repeat(null,-n.page,t);return true}return false},_start:function(e){if(!this.spinning&&false===this._trigger("start",e))return false;this.counter||(this.counter=1);this.spinning=true;return true},_repeat:function(e,t,n){e=e||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,n)},e);this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1);n=this._adjustValue(n+e*this._increment(this.counter));if(!this.spinning||false!==this._trigger("spin",t,{value:n})){this._value(n);this.counter++}},_increment:function(t){var n=this.options.incremental;if(n)return e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1);return 1},_precision:function(){var e=this._precisionOf(this.options.step);null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min)));return e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;t=null!==i.min?i.min:0;n=e-t;n=Math.round(n/i.step)*i.step;e=t+n;e=parseFloat(e.toFixed(this._precision()));if(null!==i.max&&e>i.max)return i.max;if(null!==i.min&&e<i.min)return i.min;return e},_stop:function(e){if(!this.spinning)return;clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",e)},_setOption:function(e,t){var n,i,r;if("culture"===e||"numberFormat"===e){n=this._parse(this.element.val());this.options[e]=t;this.element.val(this._format(n));return}"max"!==e&&"min"!==e&&"step"!==e||"string"===typeof t&&(t=this._parse(t));if("icons"===e){i=this.buttons.first().find(".ui-icon");this._removeClass(i,null,this.options.icons.up);this._addClass(i,null,t.up);r=this.buttons.last().find(".ui-icon");this._removeClass(r,null,this.options.icons.down);this._addClass(r,null,t.down)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e);this.element.prop("disabled",!!e);this.buttons.button(e?"disable":"enable")},_setOptions:he(function(e){this._super(e)}),_parse:function(e){"string"===typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e);return""===e||isNaN(e)?null:e},_format:function(e){if(""===e)return"";return window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();if(null===e)return false;return e===this._adjustValue(e)},_value:function(e,t){var n;if(""!==e){n=this._parse(e);if(null!==n){t||(n=this._adjustValue(n));e=this._format(n)}}this.element.val(e);this._refresh()},_destroy:function(){this.element.prop("disabled",false).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:he(function(e){this._stepUp(e)}),_stepUp:function(e){if(this._start()){this._spin((e||1)*this.options.step);this._stop()}},stepDown:he(function(e){this._stepDown(e)}),_stepDown:function(e){if(this._start()){this._spin((e||1)*-this.options.step);this._stop()}},pageUp:he(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:he(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());he(this._value).call(this,e)},widget:function(){return this.uiSpinner}});false!==e.uiBackCompat&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var ve=e.ui.spinner;e.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,i;n=t.href.replace(e,"");i=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(e){}try{i=decodeURIComponent(i)}catch(e){}return t.hash.length>1&&n===i}}(),_create:function(){var t=this,n=this.options;this.running=false;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,n.collapsible);this._processTabs();n.active=this._initialActive();e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort());false!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=e();this._refresh();this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);if(null===t){i&&this.tabs.each(function(n,r){if(e(r).attr("aria-controls")===i){t=n;return false}});null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active")));null!==t&&-1!==t||(t=!!this.tabs.length&&0)}if(false!==t){t=this.tabs.index(this.tabs.eq(t));-1===t&&(t=!n&&0)}!n&&false===t&&this.anchors.length&&(t=0);return t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(e.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=true;if(this._handlePageNav(t))return;switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=false;i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:t.preventDefault();clearTimeout(this.activating);this._activate(i);return;case e.ui.keyCode.ENTER:t.preventDefault();clearTimeout(this.activating);this._activate(i!==this.options.active&&i);return;default:return}t.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,r);if(!t.ctrlKey&&!t.metaKey){n.attr("aria-selected","false");this.tabs.eq(i).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",i)},this.delay)}},_panelKeydown:function(t){if(this._handlePageNav(t))return;if(t.ctrlKey&&t.keyCode===e.ui.keyCode.UP){t.preventDefault();this.active.trigger("focus")}},_handlePageNav:function(t){if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(t,n){var i=this.tabs.length-1;function r(){t>i&&(t=0);t<0&&(t=i);return t}while(-1!==e.inArray(r(),this.options.disabled))t=n?t+1:t-1;return t},_focusNextTab:function(e,t){e=this._findNextTab(e,t);this.tabs.eq(e).trigger("focus");return e},_setOption:function(e,t){if("active"===e){this._activate(t);return}this._super(e,t);if("collapsible"===e){this._toggleClass("ui-tabs-collapsible",null,t);t||false!==this.options.active||this._activate(0)}"event"===e&&this._setupEvents(t);"heightStyle"===e&&this._setupHeightStyle(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)});this._processTabs();if(false!==t.active&&this.anchors.length)if(this.active.length&&!e.contains(this.tablist[0],this.active[0]))if(this.tabs.length===t.disabled.length){t.active=false;this.active=e()}else this._activate(this._findNextTab(Math.max(0,t.active-1),false));else t.active=this.tabs.index(this.active);else{t.active=false;this.active=e()}this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(this.active.length){this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});this._addClass(this.active,"ui-tabs-active","ui-state-active");this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})}else this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return e("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=e();this.anchors.each(function(n,i){var r,o,a,s=e(i).uniqueId().attr("id"),l=e(i).closest("li"),u=l.attr("aria-controls");if(t._isLocal(i)){r=i.hash;a=r.substring(1);o=t.element.find(t._sanitizeSelector(r))}else{a=l.attr("aria-controls")||e({}).uniqueId()[0].id;r="#"+a;o=t.element.find(r);if(!o.length){o=t._createPanel(a);o.insertAfter(t.panels[n-1]||t.tablist)}o.attr("aria-live","polite")}o.length&&(t.panels=t.panels.add(o));u&&l.data("ui-tabs-aria-controls",u);l.attr({"aria-controls":a,"aria-labelledby":s});o.attr("aria-labelledby",s)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");if(n){this._off(n.not(this.tabs));this._off(i.not(this.anchors));this._off(r.not(this.panels))}},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).data("ui-tabs-destroy",true)},_setOptionDisabled:function(t){var n,i,r;e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=true):t=false);for(r=0;i=this.tabs[r];r++){n=e(i);if(true===t||-1!==e.inArray(r,t)){n.attr("aria-disabled","true");this._addClass(n,null,"ui-state-disabled")}else{n.removeAttr("aria-disabled");this._removeClass(n,null,"ui-state-disabled")}}this.options.disabled=t;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,true===t)},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(e){e.preventDefault()}});this._on(this.anchors,n);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();if("fill"===t){n=i.height();n-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");if("absolute"===i||"fixed"===i)return;n-=t.outerHeight(true)});this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(true)});this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else if("auto"===t){n=0;this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n)}},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),o=r.closest("li"),a=o[0]===i[0],s=a&&n.collapsible,l=s?e():this._getPanelForTab(o),u=i.length?this._getPanelForTab(i):e(),c={oldTab:i,oldPanel:u,newTab:s?e():o,newPanel:l};t.preventDefault();if(o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||false===this._trigger("beforeActivate",t,c))return;n.active=!s&&this.tabs.index(o);this.active=a?e():o;this.xhr&&this.xhr.abort();u.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier.");l.length&&this.load(this.tabs.index(o),t);this._toggle(t,c)},_toggle:function(t,n){var i=this,r=n.newPanel,o=n.oldPanel;this.running=true;function a(){i.running=false;i._trigger("activate",t,n)}function s(){i._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active");if(r.length&&i.options.show)i._show(r,i.options.show,a);else{r.show();a()}}if(o.length&&this.options.hide)this._hide(o,this.options.hide,function(){i._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active");s()});else{this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active");o.hide();s()}o.attr("aria-hidden","true");n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});r.length&&o.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1);r.attr("aria-hidden","false");n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);if(i[0]===this.active[0])return;i.length||(i=this.active);n=i.find(".ui-tabs-anchor")[0];this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return false===t?e():this.tabs.eq(t)},_getIndex:function(t){"string"===typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+e.ui.escapeSelector(t)+"']")));return t},_destroy:function(){this.xhr&&this.xhr.abort();this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")});this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;if(false===n)return;if(void 0===t)n=false;else{t=this._getIndex(t);n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})}this._setOptionDisabled(n)},disable:function(t){var n=this.options.disabled;if(true===n)return;if(void 0===t)n=true;else{t=this._getIndex(t);if(-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setOptionDisabled(n)},load:function(t,n){t=this._getIndex(t);var i=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},l=function(e,t){"abort"===t&&i.panels.stop(false,true);i._removeClass(r,"ui-tabs-loading");a.removeAttr("aria-busy");e===i.xhr&&delete i.xhr};if(this._isLocal(o[0]))return;this.xhr=e.ajax(this._ajaxSettings(o,n,s));if(this.xhr&&"canceled"!==this.xhr.statusText){this._addClass(r,"ui-tabs-loading");a.attr("aria-busy","true");this.xhr.done(function(e,t,r){setTimeout(function(){a.html(e);i._trigger("load",n,s);l(r,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})}},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,o){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}});false!==e.uiBackCompat&&e.widget("ui.tabs",e.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}});var me=e.ui.tabs;e.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,track:false,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n);t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(n,i);-1!==r&&i.splice(r,1);t.removeData("ui-tooltip-id");i=e.trim(i.join(" "));i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=e([])},_setOption:function(t,n){var i=this;this._super(t,n);"content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i.element[0];t.close(r,true)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=e(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))});this.disabledTitles=e([])},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);if(!i.length||i.data("ui-tooltip-id"))return;i.attr("title")&&i.data("ui-tooltip-title",i.attr("title"));i.data("ui-tooltip-open",true);t&&"mouseover"===t.type&&i.parents().each(function(){var t=e(this),i;if(t.data("ui-tooltip-open")){i=e.Event("blur");i.target=i.currentTarget=this;n.close(i,true)}if(t.attr("title")){t.uniqueId();n.parents[this.id]={element:this,title:t.attr("title")};t.attr("title","")}});this._registerCloseHandlers(t,i);this._updateContent(i,t)},_updateContent:function(e,t){var n,i=this.options.content,r=this,o=t?t.type:null;if("string"===typeof i||i.nodeType||i.jquery)return this._open(t,e,i);n=i.call(e[0],function(n){r._delay(function(){if(!e.data("ui-tooltip-open"))return;t&&(t.type=o);this._open(t,e,n)})});n&&this._open(t,e,n)},_open:function(t,n,i){var r,o,a,s,l=e.extend({},this.options.position);if(!i)return;r=this._find(n);if(r){r.tooltip.find(".ui-tooltip-content").html(i);return}n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title"));r=this._tooltip(n);o=r.tooltip;this._addDescribedBy(n,o.attr("id"));o.find(".ui-tooltip-content").html(i);this.liveRegion.children().hide();s=e("<div>").html(o.find(".ui-tooltip-content").html());s.removeAttr("name").find("[name]").removeAttr("name");s.removeAttr("id").find("[id]").removeAttr("id");s.appendTo(this.liveRegion);function u(e){l.of=e;if(o.is(":hidden"))return;o.position(l)}if(this.options.track&&t&&/^mouse/.test(t.type)){this._on(this.document,{mousemove:u});u(t)}else o.position(e.extend({of:n},this.options.position));o.hide();this._show(o,this.options.show);this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){if(o.is(":visible")){u(l.of);clearInterval(a)}},e.fx.interval));this._trigger("open",t,{tooltip:o})},_registerCloseHandlers:function(t,n){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0];this.close(i,true)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)});t&&"mouseover"!==t.type||(i.mouseleave="close");t&&"focusin"!==t.type||(i.focusout="close");this._on(true,n,i)},close:function(t){var n,i=this,r=e(t?t.currentTarget:this.element),o=this._find(r);if(!o){r.removeData("ui-tooltip-open");return}n=o.tooltip;if(o.closing)return;clearInterval(this.delayedShow);r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title"));this._removeDescribedBy(r);o.hiding=true;n.stop(true);this._hide(n,this.options.hide,function(){i._removeTooltip(e(this))});r.removeData("ui-tooltip-open");this._off(r,"mouseleave focusout keyup");r[0]!==this.element[0]&&this._off(r,"remove");this._off(this.document,"mousemove");t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title);delete i.parents[t]});o.closing=true;this._trigger("close",t,{tooltip:n});o.hiding||(o.closing=false)},_tooltip:function(t){var n=e("<div>").attr("role","tooltip"),i=e("<div>").appendTo(n),r=n.uniqueId().attr("id");this._addClass(i,"ui-tooltip-content");this._addClass(n,"ui-tooltip","ui-widget ui-widget-content");n.appendTo(this._appendTo(t));return this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove();delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");t.length||(t=this.document[0].body);return t},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur"),o=i.element;r.target=r.currentTarget=o[0];t.close(r,true);e("#"+n).remove();if(o.data("ui-tooltip-title")){o.attr("title")||o.attr("title",o.data("ui-tooltip-title"));o.removeData("ui-tooltip-title")}});this.liveRegion.remove()}});false!==e.uiBackCompat&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass);return e}});var ge=e.ui.tooltip})},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(92)],r=function(e,t){var n;n=t.extend({getRowCount:function e(){return 0},getFirstElementIndex:function e(){return-1},getLastElementIndex:function e(){return-1},getIndexOf:function e(t){return t.getIndex()},onVirtualScroll:function t(){return e.resolve()},onGotoNextBlock:function t(){return e.resolve()},onGotoPreviousBlock:function t(){return e.resolve()},onInitialNativeScroll:function t(){return e.resolve()}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(48),n(355),n(776),n(777),n(96),n(99),n(356),n(778)],r=function(e,t,n,i,r,a,s){t.directive("qvScrollArea",["$document",function(t){return{restrict:"E",transclude:true,template:i,replace:true,scope:{scrollbarSize:"=?",nonMouseViewportScrolling:"=?",direction:"=?"},require:"qvScrollArea",controller:n,link:function n(i,r,l,u){function c(e,t){var n=i.viewportRect.left,r=i.viewportRect.top,o=i.viewportRect.left+i.viewportRect.width,a=i.viewportRect.top+i.viewportRect.height;return e>=n&&e<=o&&t>=r&&t<=a}"number"!==typeof i.scrollbarSize&&(i.scrollbarSize=8);i.direction||(i.direction="ltr");i.$watch("scrollbarX.enabled",function(e){true===e&&r.css("overflow-x","hidden")});i.$watch("scrollbarY.enabled",function(e){true===e&&r.css("overflow-y","hidden")});i.namespace=".scroll-area-"+i.$id;function d(){r.off(i.namespace);t.off(i.namespace);a(r[0]).off("*",i.namespace)}i.on=function(){r.on("wheel"+i.namespace,function(e){e.preventDefault();var t=e.originalEvent,n=t.shiftKey?t.deltaY:t.deltaX,i=t.shiftKey?t.deltaX:t.deltaY,r=u.getScrollAmount(n,i,t.deltaMode);u.scroll(r.deltaX,r.deltaY,false,false);if(!s.treatAsDesktop()){u.setMouseTrackSize();u.fadeInScrollbars();u.fadeOutScrollbarsDelayed()}u.digest()});t.on("keydown"+i.namespace,function(t){var n=0,r=0,o,a,s=e(t.target),l=s.is("input")||s.is("textarea");if(i.hover&&!l){switch(t.keyCode){case 33:r=1;o=u.DELTA_MODE.PAGE;break;case 34:r=-1;o=u.DELTA_MODE.PAGE;break;case 36:r=1;o=u.DELTA_MODE.AREA;break;case 35:r=-1;o=u.DELTA_MODE.AREA;break;case 38:r=1;o=u.DELTA_MODE.LINE;break;case 40:r=-1;o=u.DELTA_MODE.LINE;break;case 39:n=-1;o=u.DELTA_MODE.LINE;break;case 37:n=1;o=u.DELTA_MODE.LINE;break;default:return}a=u.getScrollAmount(n,r,o);u.scroll(-a.deltaX,-a.deltaY,false,false);u.digest()}});r.on("mouseenter"+i.namespace+"pointerenter"+i.namespace,function(e){i.isMouse=s.isMouse(e.originalEvent);if(i.isMouse){i.hover=true;if(s.treatAsDesktop()){u.setMouseTrackSize();u.fadeInScrollbars()}u.digest()}else e.preventDefault()});r.on("mouseleave"+i.namespace+"pointerleave"+i.namespace,function(e){i.isMouse=s.isMouse(e.originalEvent);if(i.isMouse){i.hover=false;s.treatAsDesktop()&&u.fadeOutScrollbars()}});if("object"===o(i.nonMouseViewportScrolling)){"number"!==typeof i.nonMouseViewportScrolling.scrollbarSize&&(i.nonMouseViewportScrolling.scrollbarSize=36);"string"!==typeof i.nonMouseViewportScrolling.className&&(i.nonMouseViewportScrolling.className="show-non-mouse-scrollbars");a(r[0]).swipe({id:i.namespace,options:{radiusThreshold:0,useMomentum:true,inertia:.7,preventDefault:true},start:function e(t,n){if(s.isMouse(t)){this.cancel();return}if(!c(n.pagePoints[0].x-this.rect.x,n.pagePoints[0].y-this.rect.y)){this.cancel();return}u.setMouse(false);u.setNonMouseTrackSize();u.scrollStart();u.fadeInScrollbars();u.digest()},update:function e(t,n){var r=i.scrollbarX.getScrollDelta(n)[0],o=i.scrollbarY.getScrollDelta(n)[1];u.scroll(-1*r,-1*o,false,true);u.digest()},end:function e(){u.scrollEnd();u.fadeOutScrollbars();u.digest()}})}return d};i.$on("$destroy",function(){d()})}}}]);t.directive("qvScrollbar",["qvScrollAreaService",function(e){return{restrict:"E",require:["^qvScrollArea","qvScrollbar"],scope:{data:"=",interactive:"=",viewportRect:"="},template:r,replace:true,controller:function e(){},link:function t(n,i,r,o){var a=o[0],l=o[1];if("vertical"===n.data.direction){n.data.classList.push("vertical");a.addScrollbarYCtrl(l)}else{n.data.classList.push("horizontal");a.addScrollbarXCtrl(l)}function u(e){i[e?"addClass":"removeClass"]("fade")}l.allowFade=function(){return!n.data.active};l.fadeIn=function(){return u(true)};l.fadeOut=function(){return u(false)};n.thumbStyle={};n.$watch("data.thumb",function(){e.setThumbStyle(n.thumbStyle,n.data)},true);n.$watch("data.vPage",function(){e.setThumbStyle(n.thumbStyle,n.data)});n.$watch("data.vLength",function(){e.setThumbStyle(n.thumbStyle,n.data)});n.$watch("data.enabled",function(e){a.isMouseOver()&&e&&l.fadeIn()});n.setThumbStyle=e.setThumbStyle.bind(null,n.thumbStyle,n.data);n.trackHitAreaStyle={};n.$watch("data.trackSize",function(t){if(void 0===t)return;e.setTrackHitAreaStyle(n.trackHitAreaStyle,n.data,t)});n.start=function(e){a.setMouse(e);if(!n.data.active&&!s.treatAsDesktop()){e?a.setMouseTrackSize():a.setNonMouseTrackSize();a.fadeInScrollbars()}n.data.active=true;a.scrollStart()};n.update=function(e,t){a.scroll(e,t,false,true)};n.end=function(e){var t=n.data,i=0,r=t.vLength-t.vViewportLength;t.vPos<i?t.vPos=i:t.vPos>r&&(t.vPos=r);n.data.active=false;a.scrollEnd();e?a.fadeOutScrollbarsDelayed():a.fadeOutScrollbars()};n.on=function(){n.hitAreaOff=n.hitAreaOn();n.thumbOff=n.thumbOn();return function(){n.hitAreaOff();n.thumbOff()}};n.$watch("interactive",function(e){e?n.off=n.on():n.off&&n.off()})}}}]);t.directive("qvScrollbarThumb",[function(){return{restrict:"E",template:"<div></div>",replace:true,require:"^qvScrollArea",link:function e(t,n,i,r){t.thumbOn=function(){a(n[0]).tap({start:function e(n){a.preventGestures(this.gestureHandler);t.start(s.isMouse(n));r.digest()}}).swipe({options:{radiusThreshold:0},update:function e(n,i){t.update.apply(t,t.data.getScrollDelta(i));r.digest()},end:function e(){t.end();r.digest()}});return function(){a(n[0]).off()}};t.$on("$destroy",function(){a(n[0]).off()})}}}]);t.directive("qvScrollbarTrackHitArea",[function(){return{restrict:"E",replace:true,template:"<div></div>",require:"^qvScrollArea",link:function e(t,n,i,r){function o(e,n){var i=t.data.thumb.size,o=t.data.thumb.pos,a=0,s=0,l,u,c,d,f;switch(t.data.direction){case"vertical":u=e.pagePoints[0].y-n.y<o;c=e.pagePoints[0].y-n.y>o+i;if(c){l=r.getScrollAmount(0,-1,r.DELTA_MODE.PAGE);a=0;s=-l.deltaY}else if(u){l=r.getScrollAmount(0,1,r.DELTA_MODE.PAGE);a=0;s=-l.deltaY}break;case"horizontal":d=e.pagePoints[0].x-n.x<o;f=e.pagePoints[0].x-n.x>o+i;if(d){l=r.getScrollAmount(1,0,r.DELTA_MODE.PAGE);a=-l.deltaX;s=0}else if(f){l=r.getScrollAmount(-1,0,r.DELTA_MODE.PAGE);a=-l.deltaX;s=0}break}r.scroll(a,s)}function l(e,n){switch(t.data.direction){case"vertical":t.update(0,(e.pagePoints[0].y-n.y-(t.data.thumb.pos+t.data.thumb.size/2))*(1/t.data.scaleFactor));break;case"horizontal":t.update((e.pagePoints[0].x-n.x-(t.data.thumb.pos+t.data.thumb.size/2))*(1/t.data.scaleFactor),0);break;default:throw new Error("not implemented")}}t.hitAreaOn=function(){a(n[0]).tap({start:function e(n,i){a.preventGestures(this.gestureHandler);t.start(s.isMouse(n));t.setThumbStyle();s.isMouse(n)?o(i,this.rect):l(i,this.rect);r.digest()},end:function e(){t.end(true);r.digest()}}).swipe({options:{radiusThreshold:0},start:function e(n,i){if(s.isMouse(n)){this.cancel();return}t.update.apply(t,t.data.getScrollDelta(i));r.digest()},update:function e(n,i){t.update.apply(t,t.data.getScrollDelta(i));r.digest()},end:function e(){t.end(true);r.digest()}});return function(){a(n[0]).off()}};t.$on("$destroy",function(){a(n[0]).off()})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(89),n(115),n(305),n(124),n(1013),n(95),n(312),n(90),n(91),n(1014),n(272),n(97),n(205),n(386),n(123),n(247),n(100),n(377),n(164),n(103),n(391),n(1020),n(176),n(1021),n(999),n(1024)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g,b,y,x,w){var S=new l({type:"invalid",path:"objects.error-handling/invalid-type"});function C(){var e=/\.(qlik-stage|qlikcloud)\.com/;var t=window.location.hostname.match(e)||[];return t.length}var E={INVALID:0,RENDERED:1};t.componentDirective("qvObjectContent",{object:"=",backendApi:"=",ext:"=",options:"=",layout:"=",selectionsApi:"=",tooltipApi:"=",throbberApi:"=",onInit:"="},null,function(e,t,n){t.onInit(e,t,n)});function q(e){e.selectionsApi&&e.selectionsApi.active&&e.selectionsApi.confirm()}function _(e,n){var i;function r(){return!e.options||false!==e.options.isVisible}function o(){q(n)}function a(){if(!r())return;t.$apply(e,function(){n.resize()});n.throbberApi&&n.throbberApi.resize();n.explore.resize()}function l(){i||(i=setTimeout(function(){a();clearTimeout(i);i=null},100))}e.$on("resizeCell",function(){l()});s.subscribe("/ui/object/resize."+e.$id,function(){l()});p.on("start."+e.$id,o);e.$on("$destroy",function(){clearTimeout(i);s.unsubscribe("."+e.$id);p.off("start."+e.$id,o)})}function T(e,t){e.object._forcePaint=true;function n(n){if(!e.model.isCancelled){e.layout=n;t.setLayout(n,e.options)}}function i(e){if(!e)return;t.model&&a(t.model);o(e);t.setModel(e)}function r(){t.setRenderState(E.INVALID)}function o(i){i.Invalidated&&!i.isCancelled&&i.Invalidated.bind(r);t.subscription=e.model.layoutSubscribe(n)}function a(n){n&&n.Invalidated&&n.Invalidated.unbind(r);n&&n.isValidating&&e.options._softCancelOnRemove&&n.markAsCancelled();t.subscription&&t.subscription.dispose()}e.$watch("model",i);e.$on("$destroy",function(){a(e.model)})}function k(e){return parseInt(e)/13+"em"}function O(e,t){if(!t.qInfo)return;var n=b.initializeService("object."+b.getMatch(t.visualization||t.qInfo.qType));e.styles=u.extend(true,e.styles||{},{backgroundColor:{"background-color":n.getStyle("","backgroundColor")},title:{"font-size":k(n.getStyle("title.main","fontSize")),color:n.getStyle("title.main","color")},subTitle:{"font-size":k(n.getStyle("title.subTitle","fontSize")),color:n.getStyle("title.subTitle","color")},footer:{"font-size":k(n.getStyle("title.footer","fontSize")),color:n.getStyle("title.footer","color"),"background-color":n.getStyle("title.footer","backgroundColor")}})}function D(e,n,i,o){var a,s,l,d;var p,h;n.updateTitlePadding=function(t){var n="rtl"===e.options.direction;u.setValue(e,"styles.title.padding-right",n?0:t+"px");u.setValue(e,"styles.title.padding-left",n?t+"px":0);o.contentLoaded().then(function(e){e.view&&e.view.updateTitlePadding&&e.view.updateTitlePadding(t)})};n.setObjectClass=function(t){d||(d=i.find(".qv-object"));if(d[0]){(t||void 0===p)&&(p=d[0].clientWidth);(t||void 0===h)&&(h=d[0].clientHeight)}var o=r.getLayoutMode(p,h);var a=n.type&&n.type.type;var s=[];n._inEditState&&s.push("qv-mode-edit");n.hasValidContent()||s.push("qv-incomplete");n.supportSnapshot()&&s.push("qv-can-take-snapshot");n.selectionsApi&&n.selectionsApi.active&&s.push("qv-selections-active");n.objectSize={w:p,h:h};e.options.layoutMode=o;var l="qv-layout-"+r.getLayoutModeKey(o);s.push(l);e.objectClass="qv-object-"+a;s.push(e.objectClass);n.selectionClass&&s.push(n.selectionClass);e.classList=s;e.wrapperClassList=[];e.object&&e.object.hasFrame&&e.object.showTitles&&!!e.layout.footnote&&e.wrapperClassList.push("has-footnote");e.options.thinHeader=!n.showTitles||""===e.layout.title&&""===e.layout.subtitle&&!n._inEditState};function v(){return!e.options||false!==e.options.isVisible}n.update=function(){if(!this.valid)return;O(e,e.layout);var i=this;a=t.getService("$timeout")(function(){n.backendApi&&n.backendApi.updateCache(e.layout);n.setObjectClass();e.$digest();i.loadContent();var t=n.type===S&&e.options.hardError;o.contentLoaded().then(function(i){if(!i.isDestroyed)try{return i.onPaint(e.layout,{visible:v()}).then(function(i){if(false===i)return;if(t){n.setRenderState(E.INVALID);"function"===typeof e.options.onRendered&&e.options.onRendered.call(null,"INVALID")}else{n.setRenderState(E.RENDERED);"function"===typeof e.options.onRendered&&e.options.onRendered.call(null)}}).catch(function(){n.setRenderState(E.INVALID);"function"===typeof e.options.onRendered&&e.options.onRendered.call(null)})}catch(t){n.setRenderState(E.INVALID);n.error={class:"hard-error",title:c.get("Object.Error"),message:c.get("Object.ErrorMessage.RenderingFailed",n.ext&&n.ext.type)};w.trackEvent(w.customEvents.EXTENSION_PAINT_ERROR,{message:"string"===typeof t?t:t.message,stack:t.stack,extension:n.type?n.type.type:"undefined",isThirdParty:n.type&&n.type.libraryInfo.isThirdParty});o.updateContent(f).then(function(i){i.onPaint(e.layout,{visible:false}).then(function(){n.setRenderState(E.RENDERED);"function"===typeof e.options.onRendered&&e.options.onRendered.call(null,t)})});throw t}})})};n.resize=function(){if(!v())return;n.setRenderState(E.INVALID);n.setObjectClass(true);s=t.getService("$timeout")(function(){o.contentLoaded().then(function(t){t.isDestroyed||t.onResize(e.layout).then(function(){n.setRenderState(E.RENDERED)}).catch(function(e){false})}).catch(function(e){false})})};n.onResize=function(){o.contentLoaded().then(function(t){t.onResize(e.layout).then(function(){n.setRenderState(E.RENDERED)})})};e.$on("$destroy",function(){var e=t.getService("$timeout");e.cancel(a);e.cancel(s);l&&l.reject()})}function A(e,r,o,a){var s=n(),l;o.loaded=s.promise;o.valid=false;o.loadContent=function(){var t={options:e.options,object:o,layout:e.layout,ext:o.ext};var n;n=o.ext.hasError(t)?f:o.ext.showRequirements(t)?d:o.ext;a.updateContent(n)};o.reset=function(){if(!this.valid)return;e.options=u.extend({},e.resetOptions,{isZoomed:e.options.isZoomed,interactionState:e.options.interactionState,direction:e.options.direction,onRendered:e.options.onRendered});s=n();this.loaded=s.promise;this.valid=false};o.validate=function(){if(this.valid)return;if(this.layout&&this.type&&this.ext){this.valid=true;s.resolve()}};o.setExtension=function(t){this.ext=t;e.ext=t;if("invalid"!==t.type){t.mapProperties(this.model);t.mapSoftProperties();this.setBackendApi();if(t.migrate){this.model.migrate={properties:t.migrate.properties||function(e){return e},snapshot:t.migrate.snapshot||function(e){return e}};"function"===typeof t.migrate.snapshot&&y.isSnapshotData(this.model.layout)&&t.migrate.snapshot(this.model.layout)}else this.model.migrate={properties:function e(t){return t},snapshot:function e(t){return t}}}this.validate();this.update();this.ext.model=this.model};o.setBackendApi=function(){var t=e.options.APIType||this.ext.BackendApi;var n=new t(this.model);this.backendApi=n;a.contentLoaded().then(function(e){e.setBackendApi(n)})};o.setType=function(n,i){this.backendApi&&this.backendApi.destroy();this.ext=null;this.backendApi=null;this.hasContent=false;this.type=n;n.load().then(function(s){if(o.type!==n)return;n!==S&&(o.error=null);function l(){o.setExtension(s);I(e,r,o,a);if(i){t.$rootScope.$broadcast("refreshPropertyPanel");t.$rootScope.$broadcast("reloadExploreContent")}}if("function"===typeof s.init){var u=s.init.call(null,r,o.layout);u&&"function"===typeof u.then?u.then(function(){l()},function(t){o.setRenderState(E.INVALID);o.error={class:"hard-error",title:c.get("Object.Invalid.Title"),message:t||c.get("Object.ErrorMessage.RenderingFailed",s.type)};a.updateContent(f).then(function(n){n.onPaint(e.layout,{visible:false}).then(function(){o.setRenderState(E.RENDERED);"function"===typeof e.options.onRendered&&e.options.onRendered.call(null,t)})});l()}):l()}else l()},function(){o.setType(S);C()?o.error={class:"hard-error",title:c.get("Object.Invalid.Title"),message:c.get("Object.ErrorMessage.NotFound.Cloud.Extensions",n.type)}:o.error={class:"hard-error",title:c.get("Object.Invalid.Title"),message:c.get("Object.ErrorMessage.NotFound",n.type)};o.isInvalid=true;o.setObjectClass()})};o.setModel=function(e){this.model=e;if(this.ext){this.ext.model=e;this.setBackendApi()}};o.on=function(){a.contentLoaded().then(function(e){e.view&&e.view.on()})};o.off=function(){a.contentLoaded().then(function(e){e.view&&e.view.off()})};o.isOn=function(){return a.contentLoaded().then(function(e){return e.view?e.view.isOn():null})};o.setInteractionState=function(n){o._interactionState=n;o._inEditState=n===m.EDIT;o._inAnalysisState=n===m.ANALYSIS;e.options.interactionState=n;this._inEditState&&o.viewDataToggled&&o.toggleDataView();a.contentLoaded().then(function(e){n!==m.ANALYSIS&&q(o);e.setInteractionState(n);t.getService("$timeout").cancel(l);l=t.getService("$timeout")(function(){o.setObjectClass()})})};o.getInteractionState=function(){return o._interactionState};o.inAnalysisState=function(){return o._inAnalysisState};o.inEditState=function(){return o._inEditState};o.setFreeResize=function(t){e.options.freeResize=t;a.contentLoaded().then(function(e){e.setFreeResize(t)})};o.setDirection=function(t){if(!t||e.options.direction===t)return;e.options.direction=t;a.contentLoaded().then(function(e){e.setDirection(t);o.update()})};o.setLayout=function(e){this.layout=e;var t=e.visualization||e.qInfo&&e.qInfo.qType;var n=i.getType(t);var r=n;e.extensionMeta&&e.extensionMeta.name&&(r=e.extensionMeta.name);if(e.qError){n=S;this.error={title:"Object.Error",message:"Object.Invalid.Info"}}if(!n){n=S;C()?this.error={title:"Object.Invalid.Title",message:["Object.ErrorMessage.NotFound.Cloud.Extensions",r,t]}:this.error={title:"Object.Invalid.Title",message:["Object.ErrorMessage.NotFound",r,t]}}if(this.ext&&this.ext.hasNewType&&this.ext.hasNewType(this,n,e)||this.type!==n){this.reset();this.setType(n,!!this.type)}this.isInvalid=n===S;this.isLink=!this.isInvalid&&!!e.qExtendsId;this.showTitles=false!==e.showTitles;this.validate();this.update()}}function I(n,i,r){function o(t){var n=e(t.target);if(r.selectionsApi.ignoreOnOutside(n))return;r.selectionsApi.getDockToElement().off(".object");r.selectionsApi.confirm()}r.activateSelections=function(){if("undefined"===typeof r.ext.options.selections)return;r.inAnalysisState()&&r.selectionsApi.activate()};r.selectionsApi&&"function"===typeof r.selectionsApi.destroy&&r.selectionsApi.destroy();function a(){r.backendApi&&r.backendApi.endSelections(true);return null}r.tooltipApi={cancel:function e(){},destroy:function e(){}};r.selectionsApi={destroy:function t(){this._activatedCallbacks=[];this._deactivatedCallbacks=[];e(window).off("onbeforeunload",a)},active:false,selectionsMade:false,_activatedCallbacks:[],_deactivatedCallbacks:[],on:function e(){},off:function e(){},ignoreOnOutside:function e(t){return!!(t.closest(".qv-selection-toolbar").length||t.closest(".selections-data-area-ui").length)},getDockToElement:function e(){return i},getMenuMaxHeight:function e(){return r.selectionsApi.getDockToElement().outerHeight()},getSelectionToolbarWidthOffset:function e(){return 0},refreshToolbar:function e(){t.getService("qvSelectionToolbarService").refresh()},watchActivated:function e(t){this._activatedCallbacks.push(t);return function(){var e=this._activatedCallbacks.indexOf(t);this._activatedCallbacks.splice(e,1)}.bind(this)},activated:function s(l){this.active=true;l||r.backendApi.beginSelections();e(window).on("onbeforeunload",a);if(!n.options.isPopover){this.getDockToElement().on("qv-outside.object",o);t.$apply(n,function(){r.setObjectClass();r.getSelectionToolbar().then(function(e){var o={toolbar:e,selectionsApi:r.selectionsApi,options:n.options,menuMaxHeight:r.selectionsApi.getMenuMaxHeight(),offsetWidth:r.selectionsApi.getSelectionToolbarWidthOffset()};var a=i.parent().closest(".qv-object-wrapper").length?i.parent().closest(".qv-object-wrapper"):i;t.getService("qvSelectionToolbarService").open(a,r.selectionsApi.getDockToElement(),o)})})}this._activatedCallbacks.forEach(function(e){e.call(this)},this)},watchDeactivated:function e(t){this._deactivatedCallbacks.push(t);return function(){var e=this._deactivatedCallbacks.indexOf(t);this._deactivatedCallbacks.splice(e,1)}.bind(this)},deactivated:function i(){e(window).off("onbeforeunload",a);this.active=false;this.selectionsMade=false;r.tooltipApi.cancel();if(!n.options.isPopover){r.selectionsApi.getDockToElement().off(".object");t.$apply(n,function(){r.setObjectClass();t.getService("qvSelectionToolbarService").close()})}this._deactivatedCallbacks.forEach(function(e){e.call(this)},this)},confirm:function e(){r.selectionsApi.deactivateSearch&&r.selectionsApi.deactivateSearch();r.backendApi.endSelections(true);r.tooltipApi.cancel();this.deactivated()},cancel:function e(){r.selectionsApi.deactivateSearch&&r.selectionsApi.deactivateSearch();r.backendApi.endSelections(false);r.tooltipApi.cancel();this.deactivated()},clear:function e(){r.backendApi.clearSelections();r.tooltipApi.cancel();this.selectionsMade=false},toggleKeyboardAccelerators:function e(){},getKeyAsToggleSelected:function e(t){return!(t.metaKey||t.ctrlKey)},search:function e(){},confirmSearch:function e(){},cancelSearch:function e(){},activate:function e(){if(this.active)return;this.activated()},notifyLockedSelections:function e(t){x.showLockedFeedback(t)}};r.selectionsApi.watchDeactivated(function(){n.$emit("childSelectionActive",false)});r.selectionsApi.watchActivated(function(){n.$emit("childSelectionActive",true)})}function L(e,n){var i,r,o;n.throbberApi&&"function"===typeof n.throbberApi.destroy&&n.throbberApi.destroy();function a(i,a){t.getService("$timeout").cancel(r);t.getService("$timeout").cancel(o);if(n.selectionsApi&&n.selectionsApi.active)n.throbberApi.hide();else if(e.model&&void 0===e.model.state)n.throbberApi.show();else if(e.model&&e.model.isCancelled)n.throbberApi.isQueryCanceled=true;else if(i){r=t.getService("$timeout")(function(){e.model&&e.model.isValidating&&n.throbberApi.show()},a);o=t.getService("$timeout")(function(){if(true===n.throbberApi.isVisible){n.throbberApi.isLongRunningQuery=true;n.throbberApi.isQueryCanceled=false}},8e3)}else{n.throbberApi.hide();n.throbberApi.isLongRunningQuery=false}}n.throbberApi={resizeCallbacks:[],isVisible:false,isLongRunningQuery:false,isQueryCanceled:false,initialize:function t(){i=e.$watch("model.isValidating",function(e){a(e,1e3)})},reset:function e(t){a(t,0)},show:function e(){n.throbberApi.isVisible=true;n.throbberApi.isQueryCanceled=false;n.throbberApi.isLongRunningQuery=false},hide:function e(){n.throbberApi.isVisible=false;n.throbberApi.isLongRunningQuery=false;t.getService("$timeout").cancel(r);t.getService("$timeout").cancel(o)},off:function e(){i();t.getService("$timeout").cancel(r);t.getService("$timeout").cancel(o)},destroy:function e(){n.throbberApi.off();n.throbberApi.resizeCallbacks.length=0},resize:function e(){n.throbberApi.resizeCallbacks.forEach(function(e){e()})},watchResize:function e(t){var i=n.throbberApi.resizeCallbacks;i.push(t);return function e(){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}}};n.throbberApi.initialize()}function P(e,t){t.explore={resizeCallbacks:[],resize:function e(){t.explore.resizeCallbacks.forEach(function(e){e()})},watchResize:function e(n){t.explore.resizeCallbacks.push(n)},unwatchResize:function e(n){var i=t.explore.resizeCallbacks.indexOf(n);-1!==i&&t.explore.resizeCallbacks.splice(i,1)},destroy:function e(){t.explore.resizeCallbacks=[]}}}t.directive("qvObject",function(){return{restrict:"E",replace:true,template:a,scope:{options:"=",model:"=",object:"=?",navMenu:"=",snapshot:"=?"},controller:["$scope","qvDefaultViewSelectionService",function(e,t){var i=n();this.updateContent=function(t){var r=e.object;if(r&&r.content!==t){"undefined"!==typeof r.content&&(i=n());r.content=t}return i.promise};this.contentLoaded=function(){return i.promise};e.onInit=function(e,n,r){e instanceof h||(e=new(v.extend(e))(n,r,t));i.resolve(e)}}],link:function i(r,a,s,l){var c={},p;r.object=c;r.options||(r.options={});r.options.zoomEnabled=!!s.zoomObject;r.resetOptions=u.extend({},r.options);Object.defineProperties(c,{hasFrame:{get:function e(){return!r.options.isPopover&&!c.isInvalid}},isReadonly:{get:function e(){return!c||c.isLink||c.isInvalid||r.options.isReadonly}},isInteractive:{get:function e(){return!!c&&r.options.interactionState!==m.STATIC}},hasSoftProperties:{get:function e(){return!!this.ext&&!!this.ext.mappedSoftDefinition}}});c.getCreatePropertyHandler=function(){var e=c.model.app;return c.ext.getCreatePropertyHandler(e)};c.getPropertyPanelContent=function(){return c.loaded.then(function(){var e=c.getCreatePropertyHandler();var t=c.ext.mappedDefinition||c.ext.definition;var n=c.ext.globalChangeListeners;return{definition:t,globalChangeListeners:n,type:c.type,app:c.model.app,backendApi:c.backendApi,handler:e,iconName:c.ext.libraryInfo.icon,titleRef:"title",ext:c.ext}})};c.getSoftPropertyContent=function(){return c.loaded.then(function(){var e=c.ext.mappedSoftDefinition||c.ext.softDefinition;return{definition:e,type:c.type,backendApi:c.backendApi}})};c.setSnapshotData=function(e,t){return l.contentLoaded().then(function(n){return n.setSnapshotData(e,t)})};c.getViewState=function(){return l.contentLoaded().then(function(e){return e.getViewState?e.getViewState():void 0})};c.getPreferredSize=function(){return l.contentLoaded().then(function(e){var t=e.getPreferredSize();return t?t.then(function(e){if(!e)return;var t=a.find("footer"),n=a.find("header"),i=35;return{w:e.w,h:e.h+(t.height()||0)+(n.height()||0)+i+a[0].offsetTop}}):void 0})};c.getSnapshotLayout=function(){return c.loaded.then(function(){return l.contentLoaded().then(function(){return g.prepSnapshotData(c.model.layout,c,true)})})};c.toggleDataView=function(){return l.contentLoaded().then(function(e){if(e.view&&"function"===typeof e.view.toggleDataView){void 0===e.view.toggled&&e.view.initDataView(a[0].parentElement);return e.view.toggleDataView().then(function(t){if(t){c.dataViewObject=e.view.getDataViewObject();c.dataViewObject.setOnBlurHandler(c.blur)}c.viewDataToggled=t})}return n.resolve()})};c.getDropOptions=function(e,t){return c.loaded.then(function(){return l.contentLoaded().then(function(){return c.ext.getDropOptions(c,e,t)})})};c.canReceive=function(e){return!c.ext||!c.ext.canReceive||c.ext.canReceive(e)};c.getContextMenu=function(e,t){return l.contentLoaded().then(function(n){return n.getContextMenu(c,e,t)})};c.getObjectMenu=function(e){return l.contentLoaded().then(function(t){return t.getObjectMenu(c,e)})};c.getSelectionToolbar=function(){return c.loaded.then(function(){return l.contentLoaded().then(function(e){return e.getSelectionToolbar()})})};c.reloadContent=function(){c.ext=e.extend({},c.ext);r.ext=c.ext;c.loadContent();c.update()};c.canShowExploreMenu=function(){var e=this.content===d||this.content===f;return!this.isInvalid&&this.hasSoftProperties&&!e};function h(e,t,n){var i=c&&r.ext&&!(r.model&&!r.model.isValid&&!r.model.isValidating);t||(i=i&&e!==d);n||(i=i&&e!==f);return i}function v(e){var t=r.ext&&r.ext.support[e];if("function"===typeof t)return t.call(null,r.layout);if("boolean"===typeof t)return t;return false}c.supportCssScaling=function(){return h(this.content)&&v("cssScaling")};c.hasValidContent=function(){return h(this.content)};c.supportSnapshot=function(){if(!h(this.content))return false;var e=r.ext&&r.ext.snapshot&&r.ext.snapshot.canTakeSnapshot;if("undefined"===typeof e)return v("snapshot");if("function"===typeof e)return e.call(null,r.layout);if("boolean"===typeof e)return e;return false};c.supportObjectInfo=function(){if(!h(this.content))return false;if(c.isInvalid)return false;return this.layout.showDetails};c.supportExportData=function(){return h(this.content,false,true)&&v("exportData")};c.supportExport=function(){return h(this.content)&&v("export")};c.supportSharing=function(){return h(this.content)&&v("sharing")};c.supportViewData=function(){return h(this.content)&&v("viewData")};c.setRenderState=function(e){if(c&&c.renderState!==e){c.renderState=e;r.$emit("objectRenderStateChange",e)}};c.setOnFocusHandler=function(e){c.focus=e};c.setOnBlurHandler=function(e){c&&(c.blur=e)};c.cancel=function(){c.subscription.cancel();c.throbberApi.hide();c.throbberApi.isQueryCanceled=true;l.contentLoaded().then(function(e){e.view&&e.view.cancel()});"function"===typeof r.options.onCanceled&&r.options.onCanceled.call(null)};c.retry=function(){c.throbberApi.hide();c.throbberApi.reset(true);c.throbberApi.isQueryCanceled=false;r.model.markAsInvalid();r.model.getLayout().then(function(e){r.layout=e;c.setLayout(e)});l.contentLoaded().then(function(e){e.view&&e.view.retry()})};A(r,a,c,l);_(r,c);D(r,c,a,l);P(r,c);c.setRenderState(E.INVALID);function y(){c.update()}c._themeChangeWatcher=y;b.ThemeChanged.bind(c._themeChangeWatcher);o.load(r.options._skipRegisterExtensions).then(function(){T(r,c);L(r,c,l)});c.loaded.then(function(){r.cancelled=r.model.isCancelled});r.$watch("options.interactionState",function(e){var t=Number.isNaN(+e)?1:e;c.setInteractionState(t)});r.$watch("options.direction",function(e){c.setDirection(e)});r.$watch("options",function(e){e&&e.setController&&l.contentLoaded().then(function(){e.setController(c)})});r.$on("childSelectionActive",function(e,t){c&&(c.childInSelection=t);e.preventDefault()});r.titleClicked=function(){this.options._disableSelections||c._inEditState||l.contentLoaded().then(function(e){(e.view&&e.view.selections||e.$scope.interactive)&&c.activateSelections()})};r.cancel=function(){c.cancel()};r.retry=function(){c.retry()};var x=false;r.$on("$destroy",function(){if(x)return;x=true;t.getService("$timeout").cancel(p);b.ThemeChanged.unbind(c._themeChangeWatcher);if(c){q(c);c.selectionsApi&&"function"===typeof c.selectionsApi.destroy&&c.selectionsApi.destroy();if(c.tooltipApi){c.tooltipApi.destroy&&c.tooltipApi.destroy();c.tooltipApi=null}if(c.backendApi){c.backendApi.destroy();c.backendApi=null}c.throbberApi&&c.throbberApi.destroy();c.explore&&c.explore.destroy();c=null;r.object=null}})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(90),n(91),n(48),n(162),n(230),n(89),n(94),n(114),n(634)],r=function(e,t,n,i,r,a,s,l,u){var c=1e3,d=null;function f(e){var t=!d||d!==e;if(t){d=e;setTimeout(function(){d=null},c)}return t}function p(e,t,n){var i=new s,r=e.layout,o=r.qInfo.qId;if(f(o))return h(r,e,true,n).then(function(e){delete e.qInfo;return v(t,e)});i.reject();return i.promise}function h(n,i,o,a,u){var c=new s,d=new Date,f=o?t.extend(true,{},n):n;b(i,f,u).then(function(){r.getProperties().then(function(r){f.snapshotData={object:{size:i.objectSize},rtl:void 0!==r.rtl&&r.rtl};i.setSnapshotData(f,a||{}).then(function(){if(o){f.qInfo.qId=t.generateId();f.visualizationType=n.qInfo.qType;f.sourceObjectId=n.qInfo.qId;f.sheetId=l.model?l.model.id:"";f.timestamp=d.getTime();f.isClone=false;f.qMetaDef={title:n.title};f.supportExport=i.supportExport();delete f.qExtendsId;var r=e(".qv-panel-sheet");f.snapshotData.parent={h:r.length?r.height():e(window).height(),w:r.length?r.width():e(window).width()}}else{f.snapshotData.object.origDataPages=i.model.layout.snapshotData.object.origDataPages;f.snapshotData.content&&(f.snapshotData.content.chartData=t.extend(true,{},i.model.layout.snapshotData.content.chartData))}c.resolve(f)})})});return c.promise}function v(e,t){var r=new s;a.create(t).then(function(t){if(t.limit){m(e.find(".qv-object"));r.resolve(t.id)}else i.getService("qvAlertDialog").show({title:n.get("Storytelling.Snapshot.MaxLimitReached.Title"),message:n.get("Storytelling.Snapshot.MaxLimitReached.Text"),closeLabel:n.get("Common.OK")})});return r.promise}function m(t){t.prepend(e('<div class="qv-snapshot-tool-flash '+u.direction+'" />').bind("oanimationend animationend webkitAnimationEnd",function(){e(this).remove()}))}function g(e){return a.getSnapshotCount(e)}function b(e,n,i){var r=[],a=[],l=new s;"undefined"===typeof i&&(i=true);n.qExtendsId&&"text-image"===n.visualization?e.model.app.getObject(n.qExtendsId).then(function(e){e.getProperties().then(function(e){u(e)})}):e.model.getProperties().then(function(e){u(e)});function u(e){d(r,"qStaticContentUrl",n,i);d(a,"qStaticContentUrlDef",e);c();l.resolve(n)}function c(){r.forEach(function(e,n){t.extend(true,e,a[n])})}function d(e,t,n,i){for(var r in n)if(n.hasOwnProperty(r)&&"qHyperCube"!==r&&"qHyperCubeDef"!==r)if(r===t){if(i){delete n[r];n.qStaticContentUrlDef={}}e.push(n.qStaticContentUrlDef)}else"object"===o(n[r])&&d(e,t,n[r],i)}return l.promise}function y(e,t){var i=JSON.stringify({data:e,appLocaleInfo:t||{},language:n.language});return i}return{createSnapshot:p,getNumberOfSnapshots:g,prepSnapshotData:h,prepareStaticContent:b,formatSnapshotForRendering:y}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(197),n(285),n(251)],r=function(e,t,n){var i="DATAMODELVIEWER_GLOBAL_CONFIGRATION_INTERNAL_TABLE_VIEW";var r="dmv.islocked",o="dmv.internaltableview",a="dmv.tablesizedata",s="dmv.lastUsedResizeMode",l;function u(){return p(r)}function c(){return p(o)}function d(){return p(a)}function f(){return p(s)}function p(e){if(!l)throw new Error('Cannot create key for "'+e+'", as I have not yet gotten a hashed app id.');return e+"."+l}function h(t){var n=u();e.set(n,{value:t})}function v(){var t=u();return!!e.contains(t)&&e.get(t).value}function m(n){var r=c();e.set(r,{value:n});t.notifyAll(i,n)}function g(t){var n=d();e.set(n,{value:t})}function b(t){var n=f();e.set(n,{value:t})}function y(t){var n=f();return!!e.contains(n)&&t===e.get(n).value}function x(){var t=d();var n=e.get(t).value;return n}function w(){var t=d();return e.contains(t)}function S(){var t=c();return!e.contains(t)||e.get(t).value}function C(e){l=n.sha256(e);t.notifyAll(i,S())}function E(e){t.addObserver(i,e)}return{setIsLocked:h,isLocked:v,setIsInternalTableView:m,setTableSizeData:g,setLastUsedResizeMode:b,isLastUsedResizeMode:y,getTableSizeData:x,hasTableSizeData:w,isInternalTableView:S,setAppID:C,onInternalTableViewChange:E,STORAGE_KEY_IS_LOCKED:r,STORAGE_KEY_IS_INTERNAL_TABLE_VIEW:o,STORAGE_KEY_TABLE_SIZE_DATA:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(90),n(11),n(48),n(96),n(127),n(99),n(780)],r=function(e,t,n,i,r,o,a){var s=e.extend("DefaultSortableList",{init:function e(n,i){this.options=t.extend(true,{gesture:{name:"swipe",options:{radiusThreshold:2,preventDefault:false}},direction:"",scrollSelector:"",listSelector:"",containerSelector:"",listKey:"",itemSelector:"[ng-repeat]",itemDragSelector:"[ng-repeat]",itemGhostSelector:"",isOuterScroll:false,suppressDragStyle:[],suppressEnd:function e(){return false},itemKey:"$index",zIndex:1},n||{});this.ctrl=i},onBegin:function e(){},onEnter:function e(){},onEnterList:function e(){},onMove:function e(){},onMoveToList:function e(){},onCancel:function e(){},onEnd:function e(){},allowDrag:function e(t){if(a.isMouse(t))return!!n(t.target).closest(this.options.itemSelector).length;return!!n(t.target).closest(this.options.itemDragSelector).length},allowScroll:function e(t){return!this.allowDrag(t)},allowEnter:function e(){return true},allowEnterList:function e(){return true},allowAutoScroll:function e(){return true},onAutoScroll:function e(t){t()},getGesture:function e(){return this.options.gesture},getDirection:function e(){return this.options.direction},getScrollSensitivity:function e(t){return a.isMouse(t)?15:25},getScrollSpeed:function e(t){return a.isMouse(t)?15:25}});i.directive("qvSortableList",["qvSortableListDragService",function(e){return{restrict:"A",controller:function e(){},link:function t(i,a,l,u){var c=i.$watch(l.qvSortableList,function(t){c();if(t instanceof s)t.ctrl=u;else{var l=s.extend(t||{});t=new l(t&&t.options,u)}var d=a.closest(t.options.scrollSelector);d.length||(d=a);var f;var p=e.$new(t.options);var h;var v;var m;var g="sortable-list-"+i.$id;var b;var y={id:g,options:{preventDefault:false},start:function i(r,a){f=void 0;if(o.isInput(r.target)||!e.isChild(d[0],r.target))return;if(!t.allowDrag(r))return;f=n(r.target).closest(t.options.itemGhostSelector||t.options.itemSelector);if(0===f.length){f=void 0;return}var s;if(t.options.containerSelector){var l=f.closest(t.options.containerSelector);l.length&&(s=l)}p.direction=t.getDirection();h=t.getScrollSpeed(r);v=t.getScrollSensitivity(r);e.startOffset(d,p,f,a.pagePoints[0],t.options.isOuterScroll,s);e.startData(d,p,f,t.options.itemKey)},end:function e(){f=void 0}};var x={id:g,start:function n(o){if(!f){this.cancel();return}o.preventDefault();r.WebkitHack.prevent();t.onBegin(p.fromItem,p.clientRect);i.$digest();e.start(d,p,f)},update:function n(r,o){if(!f){this.cancel();return}function a(){if(t.allowEnter(p.enterItem,p.fromItem)){p.toItem=p.enterItem;p.toList=void 0;t.onEnter(p.enterItem,p.enterItemAction);i.$digest()}}function s(){if(t.allowEnterList(p.enterList,p.fromItem)){p.toItem=void 0;p.toList=p.enterList;t.onEnterList(p.enterList);i.$digest()}}function n(){e.update(d,p,f,o.swipe);e.updateDragCoordinates(p,void 0!==o.clientX?o.clientX:o.pagePoints[0].x,void 0!==o.clientY?o.clientY:o.pagePoints[0].y,t.options.boundingRect);e.updateData(d,p,f,t.options.listSelector,t.options.listKey,t.options.itemSelector,t.options.itemKey,a,s)}if(r.touches&&r.touches[0]){o.clientX=r.touches[0].clientX;o.clientY=r.touches[0].clientY}else{o.clientX=r.clientX;o.clientY=r.clientY}n();if(t.allowAutoScroll()){var l=e.autoScroll.bind(this,d[0],p.scroll.clientRect,p.scroll.width,p.scroll.height,p,n,h,v);t.onAutoScroll(l,p.enterList,p.enterItem,function(t,i,r,o){e.autoScroll(t,i,r,o,p,n,h,v)})}},end:function n(r,o){e.end(p,f);t.options.suppressEnd(o)||(void 0!==p.toItem?t.onMove(p.fromItem,p.toItem):void 0!==p.toList?t.onMoveToList(p.fromItem,p.toList):t.onCancel(p.fromItem));i.$digest();t.onEnd(p.fromItem);f=void 0},cancel:function n(){if(!f)return;e.end(p,f);t.onCancel(p.fromItem);f=void 0;"$digest"!==i.$root.$$phase&&i.$digest()}};m=t.options.gesture;x.options=m.options;function w(){f=void 0;r(a[0])[m.name](x).tap(y);r(d[0]).tap({id:"sortable-list-tap-"+i.$id,options:{preventDefault:false},start:function e(i){if(!t.allowScroll(i)&&!o.isInput(i.target)){var r=n(i.target).hasClass("slider")||n(i.target).parent().hasClass("slider");r||i.preventDefault()}}});return function(){r(d[0]).off("*","sortable-list-tap-"+i.$id);r(a[0]).off("*",g)}}i.$on("$destroy",function(){r(d[0]).off("*","sortable-list-tap-"+i.$id);r(a[0]).off("*",g)});u.on=function(){b||(b=w())};u.off=function(){if(b){b();b=void 0}};u.cancel=function(){x.cancel()};u.on()})}}}]);return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){var t={};function n(){var n=t.formatters.map(function(t){return t.character?e.escapeRegExp(t.character):""});var i="("+n.join("|")+"){1}\\[";var r="\\]\\(([^\\\\)]*(?:\\\\.[^\\\\)]*)*)\\)";var o="((?![\\s\\S]*?"+i+"[\\s\\S]*?)[\\s\\S]*?)";t.markdownRegex=new RegExp(i+o+r,"mg")}function i(e,t,n){var r=e.exec(t);var o=[];while(r){if(o.indexOf(r.index)>-1)break;o.push(r.index);t=n(t,r);r=e.exec(t)}return o.length?i(e,t,n):t}function r(e){return e.split("").reverse().join("")}t.register=function(e){t.formatters.push(e);n()};t.toHTML=function(e,n){var a=n||o();var s=false;e=e.replace(/\$&amp;/g,"&#36;&amp;");e=i(t.markdownRegex,e,function(e,n){return e.replace(n[0],function(){return t.getFormatter(n[1]).toHTML.callback(n[2],n[4])})});a.forEach(function(t){if(!t.toHTML||!t.toHTML.regex)return;t.toHTML.reverse&&(e=r(e));e=i(t.toHTML.regex,e,function(e,n){var i=n.splice(0,1)[0];s=true;return e.replace(i,t.toHTML.callback.apply(t.toHTML.callback,n))});t.toHTML.reverse&&(e=r(e))});return s?t.toHTML(e,n):e};t.toMarkdown=function(e,t){var n=t||a();var i=new Option;i.innerHTML=e;n.forEach(function(e){e.toMarkdown.tags.forEach(function(t){var n=Array.prototype.slice.call(i.getElementsByTagName(t.name)).reverse();n.forEach(function(n){var i=!t.attr.length||t.attr.some(function(e){return n.hasAttribute(e)});var r=t.dontMatchAttr&&t.dontMatchAttr.some(function(e){return n.hasAttribute(e)});if("img"===t.name&&n.hasAttribute("src")&&!n.hasAttribute("data\\-measure")){var o=n.getAttribute("src");n.setAttribute("src",o.replace(/\\/g,""))}var a;a=e.toMarkdown.regex?i&&!r&&e.toMarkdown.regex.exec(n.outerHTML.trim()):[n.outerHTML.trim()];if(!r&&i&&a){var s=document.createElement("span");s.innerHTML=e.toMarkdown.callback.apply(n,a.slice(1));n.parentNode.replaceChild(s,n)}})})});return i.innerHTML.replace(/<(\/)?span>/g,"")};t.getFormatter=function(e){var n,i=t.formatters;for(n=0;n<i.length;n++)if(i[n].character===e)return i[n];return null};function o(){var e=t.formatters.filter(function(e){return!!e.toHTML});e.sort(function(e,t){var n=e.toHTML.priority||0,i=t.toHTML.priority||0;return i-n});return e}function a(){var e=t.formatters.filter(function(e){return!!e.toMarkdown});e.sort(function(e,t){var n=e.toMarkdown.priority||0,i=t.toMarkdown.priority||0;return i-n});return e}t.escapeMarkdown=function(e){return e.replace(/\*/g,"\\*").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/_/g,"\\_").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/~/g,"\\~").replace(/-/g,"\\-")};t.unescapeMarkdown=function(e){return e.replace(/\\\*/g,"*").replace(/\\\[/g,"[").replace(/\\\]/g,"]").replace(/\\_/g,"_").replace(/\\\(/g,"(").replace(/\\\)/g,")").replace(/\\~/g,"~").replace(/\\-/g,"-")};t.reset=function(){t.formatters=[];t.markdownRegex=null};t.reset();return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(378)],r=function(e){function t(t){if(void 0===t)throw new Error("String is undefined.");if(0===t.length)throw new Error("String is empty.");var n=e(t);return n}return{sha256:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(109)],r=function(e){var t={},n={},i=5e3,r=0,o=Math.floor;function a(e,t){return function(){var n=function e(){},i,r;n.prototype=e.prototype;i=new n;r=e.apply(i,t);return Object(r)===r?r:i}}function s(){r++}function l(){var o,l,u,c;if(arguments.length<3)"string"===typeof arguments[0]?o=arguments[0]:"number"===typeof arguments[0]&&arguments[0]>=0&&(o=arguments[0]+"");else if(arguments.length>=3){o=arguments[0];for(u=0;u>arguments.length;u++)o+=","+arguments[u]}if(o&&t[o])return t[o];c=a(e,arguments)();l=c.isInvalid()?"INVALID":c._r+","+c._g+","+c._b+","+c._a;if(n[l])c=n[l];else{if(r>=i)return c;n[l]=c;s()}o&&(t[o]=c);return c}function u(t,l,u){var c,d;var f=o(t._r+(l._r-t._r)*u),p=o(t._g+(l._g-t._g)*u),h=o(t._b+(l._b-t._b)*u),v=o(t._a+(l._a-t._a)*u);c=f+","+p+","+h+","+v;if(n[c])d=n[c];else{d=a(e,[f,p,h,v])();if(r>=i)return d;n[c]=d;s()}return d}function c(){t={};n={};r=0}return{retriveColor:l,retriveBlend:u,clear:c}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(1282),n(1040),n(1152),n(1210),n(379),n(89)],r=function(e,t,n,i,r,o){function a(e){function t(e){u.overwriteContent(e);l.forEach(function(t){t&&t(e)})}e.Invalidated.bind(function(){e.getLayout().then(t)});return e.getLayout().then(t)}function s(e){n.forceConnectionListUpdate();var t=e.tableModels.map(function(t){if(!t.data.loadSelectStatement&&!t.data.selectStatement&&"inlinedata"!==t.data.dataconnectorName)return n.getLoadSelectStatement(t.data,null).then(function(n){var i=e.getTableModelWithName(t.getTableAlias());i.data.loadSelectStatement=n&&n.loadSelectStatement;i.data.selectStatement=n&&n.selectStatement})});return o.all(t)}var l=[];var u;var c;var d;function f(e){c||(c=new o);g(e);r.isRunning().catch(function(t){c.reject(t);m(e)});return c.promise}function p(t,n){-1===l.indexOf(t)&&l.push(t);if(!d){u=e.LoadModel.CreateLoadModel(n);u.updateProperties=h;d=i.awaitGenericObject().then(function(e){return a(e).then(function(){return s(u).then(function(){return u})})});c||(c=new o);d.then(function(e){c.resolve(e)}).catch(function(e){c.reject(e)})}return c.promise}function h(e){t.QueryGenerator.checkIntegrity(e.tables,e.queries);return i.setProperties(e)}function v(){return h(e.LoadModel.CreateLoadModel({}).serialize())}function m(e){l.splice(l.indexOf(e),1)}function g(e){-1===l.indexOf(e)&&l.push(e)}return{createLoadModel:e.LoadModel.CreateLoadModel,getLoadModel:f,updateProperties:h,resetLoadModel:v,populateLoadSelectStatements:s,bindLoadModel:p,unregisterInvalidationFn:m,registerInvalidationFn:g}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(102),n(89),n(93),n(110)],r=function(e,t,n,i,r){var o=r.NxLocalizedErrorCode;var a=null;var s=[];var l=1e3;var u=/(?!^GetHyperCube|^GetListObject)(^Get)/i;function c(e,t,n,i){e.Send.emit(n);n.outKey=-1;var r=t.send(n);e.dfdCache[n.id]=i;e.reqCache[n.id]=n;i.id=n.id;i.promise.requestId=r.requestId;return i.promise}function d(e){var n=this;t.mixin(n);n.notification("Open");n.notification("Close");n.notification("Send");n.notification("Data");n.notification("Error");n.notification("ClosedHandles");n.notification("ChangedHandles");n.notification("Notification");n.notification("Warning");n.changeHandlers={};n.cacheName=e.cacheName;n.dfdCache={};n.reqCache={};n.modelCache={};n.options=e;n.socket={url:""}}d.prototype={open:function e(){return this.enigmaPromise},onError:function e(t){var n=this;Object.keys(n.dfdCache).forEach(function(e){t.error={err:t,isHandled:true};n.dfdCache[e].reject(t)});n.Error.emit(t)},_cleanup:function e(){var n=this;if(!n.Close)return;n.Close.emit();for(var i in n.modelCache)n.modelCache[i].then(function(e){e.close(true)});t.release(n)},onClose:function e(){var t=this;if(t._isClosed)return;delete d.__cache[t.cacheName];d.useTimeoutOnClose?setTimeout(t._cleanup.bind(t),l):t._cleanup();t._isClosed=true},onData:function e(t){var n=this;var i=n.dfdCache[t.id];t.change&&n.handleChanged(t);t.close&&n.handleClosed(t);d.debounceApply(function(){if(t.handle&&!n.changeHandlers[t.handle]&&i)i.reject("No model mapped to handle");else if(t.result){n.Data.emit(t);t.warnings&&n.Warning.emit(t);i&&i.resolve(t)}else if(t.params){n.Notification.emit(t);i&&i.resolve(t)}else if(t.suspend){n.rpc({method:"Resume",params:[],handle:t.suspend[0]});i&&i.resolve(t)}else if(t.error){var e=n.reqCache[t.id];if(e)if(t.error.code===o.LOCERR_GENERIC_ABORTED&&u.test(e.method)){t.error.isHandled=true;c(n,n.__enigmaSession,e,i)}else{i&&i.reject(t);n.Error.emit(t)}}delete n.dfdCache[t.id];delete n.reqCache[t.id]})},handleChanged:function e(t){var n=this;t.change.forEach(function(e){var t=n.changeHandlers[e];t&&t.forEach(function(e){e()})});n.ChangedHandles.emit(t.change)},handleClosed:function e(t){var n=this;Object.keys(n.modelCache).forEach(function(e){n.modelCache[e].then(function(e){t.close.indexOf(e.handle)>-1&&e.close(true)})});n.ClosedHandles.emit(t.close)},close:function e(){var t=this;t.enigmaPromise.then(function(){t.__enigmaSession.close()})},suspend:function e(){var t=this;t.enigmaPromise.then(function(){t.__enigmaSession.suspendResume.suspend()})},resume:function e(t){var n=this;return n.enigmaPromise.then(function(){return n.__enigmaSession.suspendResume.resume(t)})},rpc:function e(t,i){var r=this;i||(i=new n);if(r.__enigmaSession)return c(r,r.__enigmaSession,t,i);return r.enigmaPromise.then(function(){return c(r,r.__enigmaSession,t,i)})},onChange:function e(t,n){this.changeHandlers[t]||(this.changeHandlers[t]=[]);this.changeHandlers[t].push(n)},getRequest:function e(t){return this.reqCache[t]||null}};d.useTimeoutOnClose=true;d.__cache={};d.createInput=function(e,t){t=t||{};t.appName=e;t.cacheName=d.buildUrl(t);return t};d.debounceApply=function(t){clearTimeout(a);s.push(t);a=setTimeout(function(){e.$apply(e.$rootScope,function(){for(var e=0;e<s.length;e++)try{s[e]()}catch(e){}s.length=0})})};function f(e,t,n,i){n.open().then(function(){e[t](i)})}function p(e){var t=e.__enigmaSession;t.on("suspended",function(t){"network"===t.initiator&&e.close()});t.on("closed",function(n){f(e,"onClose",t,n)});t.rpc.on("error-socket",function(n){f(e,"onError",t,n)});t.rpc.on("message",function(n){f(e,"onData",t,n)});t.rpc.on("notification",function(n){f(e,"onData",t,n)})}d.get=function(e,t){e=e||"";var n=d.createInput(e,t);var r;function o(e){r.__enigmaApp=e.app||e;r.__enigmaGlobal=e.global||e;r.__enigmaSession=(e.app||e.global||e).session;p(r)}r=new d(n);d.__cache[n.cacheName]=r;if(e&&"?transient="!==e&&!t.sessionApp)r.enigmaPromise=i.get(e,t).then(o);else if(t.sessionApp&&t.sessionApp.value&&t.sessionApp.appId){t.route="app/"+encodeURIComponent(t.sessionApp.appId);r.enigmaPromise=i.getSessionApp(t.sessionApp.appId,t).then(o)}else{"?transient="===e&&(t.route="app/"+encodeURIComponent(e));r.enigmaPromise=i.getGlobal(t).then(o)}return r};d.getIfCached=function(e,t){var n=d.createInput(e,t);return d.__cache[n.cacheName]};d.buildUrl=function(e){var t="",n=e.host,i="string"===typeof e.port?e.port:e.isSecure?443:4848;t+=e.isSecure?"wss":"ws";t+="://";t+=n||"localhost";if(e.port){t+=":";t+=19076}t+=e.prefix||"/";e.subpath&&(t+=e.subpath+"/");e.route?t+=e.route:t+="app/"+encodeURIComponent(e.appName);e.identity&&(t+="/identity/"+encodeURIComponent(e.identity));t+="?reloadUri="+(e.reloadURI||"");return t};return d}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(54),n(49),n(1357)],r=function(e,t,n){e.service("addDataStateService",["$timeout","qvDataManagerAppSessionService",function(e,i){function r(){this.currentState={page:this.STATES.NEW_CONNECTION,params:{}};this.editConnection=null;this.editPanelOpen=false;this.panelOpen=false;this.selectedCatalogItems=[];this.prepareLoadDataModel={isPrepOn:!i.isNoData(),isNoDataMode:function e(){return i.isNoData()}};this.lastUsedFileData={path:"",dataConnectionId:""};this.lastUsedDataMarket={node:null,connector:null};this.listeners=[];this.addDataVisibilityListeners=[];this.editAddDataVisibilityListeners=[];this.activeView="";this.activeViewListeners=[]}r.prototype.STATES={NEW_CONNECTION:"newconnection",IN_APP:"inapp",FILE_CONNECTION:"fileconnection",DATAMARKET:"datamarket",CATALOG:"catalog",STORAGE_PROVIDER:"storageprovider",SELECTION:"selection",SELECTION_STORAGEPROVIDER:"selection_storageprovider"};r.prototype.IN_APP_TYPES={ATTACHED_FILES:"AttachedFiles",MANUAL_DATA:"ManualData"};r.prototype.FILE_CONNECTION_TYPES={NATIVE_FILES:"NativeFile"};r.prototype.isModifyEnabled=function(){return!!n.get()["ADD_DATA_MODIFY"]};r.prototype.changeState=function(e,n){this.lastState=t.clone(this.currentState);n["existing"]?n["existing"]="true"===n["existing"].toString():n["existing"]=false;this.currentState={page:e,params:n};t.isEqual(this.lastState,this.currentState)||this.listeners.forEach(function(e){e.callback()})};r.prototype.updateLastUsedDataMarketConnector=function(e){this.lastUsedDataMarket.connector=e};r.prototype.updateLastUsedDataMarketNode=function(e){this.lastUsedDataMarket.node=e};r.prototype.updateLastUsedFileData=function(e,t){this.lastUsedFileData.path=e;this.lastUsedFileData.dataConnectionId=t};r.prototype.getLastUsedFileData=function(){return this.lastUsedFileData};r.prototype.goBackToLastState=function(){this.lastState.params["file"]=null;this.lastState.params["showPicker"]=false;this.lastState.page===this.STATES.DATAMARKET?this.changeState(this.lastState.page,{startLocation:this.lastUsedDataMarket}):this.changeState(this.lastState.page,this.lastState.params)};r.prototype.getCurrentState=function(){return this.currentState};r.prototype.showAddDataBind=function e(t){this.addDataVisibilityListeners.push(t)};r.prototype.showAddDataUnbind=function e(t){this.addDataVisibilityListeners=this.addDataVisibilityListeners.filter(function(e){return e!==t})};r.prototype.callShowAddDataListeners=function e(t){"boolean"===typeof t&&this.addDataVisibilityListeners.forEach(function(e){e(t)})};r.prototype.showAddData=function(){this.panelOpen=true;this.callShowAddDataListeners(true)};r.prototype.hideAddData=function(){this.panelOpen=false;this.callShowAddDataListeners(false)};r.prototype.isOpen=function(){return this.panelOpen};r.prototype.showEditAddDataBind=function e(t){this.editAddDataVisibilityListeners.push(t)};r.prototype.showEditAddDataUnbind=function e(t){this.editAddDataVisibilityListeners=this.editAddDataVisibilityListeners.filter(function(e){return e!==t})};r.prototype.callShowEditAddDataListeners=function e(t){"boolean"===typeof t&&this.editAddDataVisibilityListeners.forEach(function(e){e(t)})};r.prototype.showEditAddData=function(e){this.editConnection=e;this.editPanelOpen=true;this.callShowEditAddDataListeners(true)};r.prototype.hideEditAddData=function(){this.editConnection=null;this.editPanelOpen=false;this.callShowEditAddDataListeners(false)};r.prototype.isEditOpen=function(){return this.editPanelOpen};r.prototype.getReactViews=function(){return["catalog"]};r.prototype.getActiveView=function(){return this.activeView};r.prototype.setActiveView=function(e){this.activeView=e;this.activeViewListeners.forEach(function(t){t(e)})};r.prototype.activeViewBind=function(e){this.activeViewListeners.push(e)};r.prototype.activeViewUnbind=function(e){this.activeViewListeners=this.activeViewListeners.filter(function(t){return t!==e})};r.prototype.areCatalogItemsSelected=function(){return this.selectedCatalogItems.length>0};r.prototype.setSelectedCatalogItems=function(t){var n=this;e(function(){n.selectedCatalogItems=t})};r.prototype.getSelectedCatalogItems=function(){var e={name:"data",id:"834e51e5-497c-4ac8-bc30-ce097c9e4db2",type:{provider:"folder",type:"folder",isFolderConnector:true,displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectorMain:"assets/hldm/data-connectors/native-file-connector/connector-main",needsConnect:false,isStandardConnector:true},typeName:"folder",canDelete:true,sourceConnectorID:"folder",connectionString:"/data/"};return[{fileName:"orders.xlsx",connection:e},{fileName:"concat.xlsx",connection:e}]};r.prototype.getPrepareLoadDataModel=function(){return this.prepareLoadDataModel};r.prototype.turnOnDataProfiling=function(){if(!this.prepareLoadDataModel.isNoDataMode())return this.prepareLoadDataModel.isPrepOn=true};r.prototype.registerStateChangedListener=function(e,t){this.listeners.push({id:e,callback:t})};r.prototype.deregisterStateChangedListener=function(e){this.listeners=this.listeners.filter(function(t){return t.id!==e})};return new r}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92)],r=function(e){var t=e.extend({init:function e(){},tap:{},taptwo:{},tapthree:{},swipe:{},swipetwo:{},rotate:{},mousemove:{},mouseleave:{},mousewheel:{},wheelswipe:{},exclusive:function e(){return false},active:function e(){return true}});return{extend:function n(){return 2===arguments.length?t.extend.call(e,arguments[0],arguments[1]):new(t.extend(arguments[0]))}}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return function(e,t){e.$root&&e.$root.$$phase?t&&t():e.$apply(t)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(989)],r=function(e){return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(2)],r=function(e){var t={};t.getJson=function(t){return e.get(t,{responseType:"json"}).then(function(e){if(e.data)return e.data;console.warn("Theme parsing error for theme: "+t);return{}}).catch(function(e){console.warn("Couldn't get theme: "+t+". Error: "+e);return{}})};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(2)],r=function(e,t){var n=function e(){};var i=function e(n){return t.request(n).then(function(e){var t=e.data;return t.data}).catch(function(e){throw e.data})};n.getTenantId=function t(){var n=e("#appFrame");if(n.length)return n.attr("tenantId");try{var i=e("#appFrame",window.parent.document);if(i.length)return i.attr("tenantId")}catch(e){}return""};n.getTenantIdUrlParameter=function(){var e=n.getTenantId();return e?"?tenantId="+e:""};n.getConfig=function(e){var t=n.getTenantIdUrlParameter();return{method:"GET",url:"/api/v1/"+e+t}};n.getCloudExtensions=function(){var e=n.getConfig("extensions");return i(e)};n.getCloudThemes=function(){var e=n.getConfig("themes");return i(e)};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){function t(t){var n=e.getService("qvAlertDialog");return n.show({title:t.title,message:t.message,closeOnEscape:false})}return{show:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(608)],r=function(e,t){e.directive("qvSpinner",function(){return{replace:true,template:t,restrict:"E",scope:{show:"=",showDelay:"=?",showForAtLeast:"=?",spinnerWidth:"@?",spinnerHeight:"@?",centerInParent:"=?"},controller:["$scope","$timeout",function(e,t){var n;var i;e.internalShow=false;function r(){e.showDelay?n=t(function(){o(e.showForAtLeast)},e.showDelay):o(e.showForAtLeast)}function o(n){e.internalShow=true;i=t(function(){},n)}function a(){n&&t.cancel(n);i&&i.then(function(){e.internalShow=false})}e.$watch("show",function(e){e?r():a()})}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(612)],r=function(e){return{template:e,controller:[function(){}],scope:{item:"=",style:"="}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(104)],r=function(e,t){var n,i=new t(0,0,0,0),r=new t(0,0,0,0);n=e.extend("CubeSlicer",{init:function e(){this.pages=[]},get:function e(t){return t.map(function(e){return this.getPage(e)}.bind(this))},getPage:function e(n){var o,a,s=[],l;for(a=0;a<this.pages.length;a++){o=this.pages[a].qArea;i.set(n.qLeft,n.qTop,n.qWidth,n.qHeight);r.set(o.qLeft,o.qTop,o.qWidth,o.qHeight);l=r.intersection(i,true);s.push({coverage:l?l.clone():new t(0,0,0,0),idx:a});if(o.qLeft<=n.qLeft&&o.qLeft+o.qWidth>=n.qLeft+n.qWidth&&o.qTop<=n.qTop&&o.qTop+o.qHeight>=n.qTop+n.qHeight)return this._extract(n,this.pages[a])}s.sort(function(e,t){return t.coverage.width*t.coverage.height-e.coverage.width*e.coverage.height});if(s[0].coverage.height>0&&s[0].coverage.width>0)return this._extract(n,this.pages[s[0].idx]);return{qArea:{qTop:n.qTop,qLeft:n.qLeft,qWidth:0,qHeight:0},qMatrix:[]}},destroy:function e(){this.clear()},isEmpty:function e(){return!this.pages||!this.pages[0]||!this.pages[0].qArea.qHeight||!this.pages[0].qArea.qWidth},clear:function e(){this.pages=[]},store:function e(t){this.pages=t},containsArea:function e(t){var n;for(var i=0;i<this.pages.length;i++){n=this.pages[i].qArea;if(n.qLeft<=t.qLeft&&n.qLeft+n.qWidth>=t.qLeft+t.qWidth&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight)return true}return false},contains:function e(t){if(!this.pages||!this.pages.length)return false;return 0===t.filter(function(e){return!this.containsArea(e)}.bind(this)).length},_extract:function e(t,n){i.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);r.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var o=i.intersection(r,true),a,s,l;if(!o)return{qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0},qMatrix:[]};l=Math.max(0,t.qTop-n.qArea.qTop);s=Math.max(0,t.qLeft-n.qArea.qLeft);a=n.qMatrix.slice(l,l+o.height).map(function(e){return e.slice(s,s+o.width)});return{qArea:{qTop:o.y,qLeft:o.x,qWidth:o.width,qHeight:o.height},qMatrix:a}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(343)],r=function(e){var t=e.extend({init:function e(t,n){this._super(t.cache,n);this._selectedShapes=[];this.handler=t;this.options=n;this.components=n.components||{}},release:function e(){this._super();this.components={};this._selectedShapes=[];this.handler=null},resetSelectedShapes:function e(){this._selectedShapes.length=0},getSelectedShapes:function e(){return this._selectedShapes},toggleSelectedShape:function e(t){var n=this._selectedShapes.indexOf(t);-1!==n?this._selectedShapes.splice(n,1):this._selectedShapes.push(t)},setActiveMode:function e(t){this._activeMode=t},getActiveMode:function e(){return this._activeMode},register:function e(t,n){this.handler.register(t,n)},deregister:function e(t,n){this.handler.deregister(t,n)},getActiveDimensions:function e(){return this.activeComponent.getSelectionIndices()},toggle:function e(){},toggleRect:function e(){},start:function e(){},update:function e(){},end:function e(){},cancel:function e(){},move:function e(){},leave:function e(){},getTransformedPoint:function e(t,n){return this._super(t,n,this.handler.containerRect)},getPagePoint:function e(t,n,i){return this._super(t,n,i,this.handler.containerRect)},shapeFromPoint:function e(t){return this.shapesFrom.shapeFromPoint(t)},shapesFromPoints:function e(t){return this.shapesFrom.shapesFromPoints(t)},shapesFromLines:function e(t){return this.shapesFrom.shapesFromLines(t)},shapesFromPolygon:function e(t){return this.shapesFrom.shapesFromPolygon(t)},shapesFromRect:function e(t,n){return this.shapesFrom.shapesFromRect(t,n)},shapesFromRectForDirection:function e(t,n,i){return this.shapesFrom.shapesFromRectForDirection(t,n,i)},shapesFromRange:function e(t,n,i,r){return this.shapesFrom.shapesFromRange(t,n,i,r)},shapesFromDimensionValue:function e(t){return this.shapesFrom.shapesFromDimensionValue(t)},groupedItemsFromShapes:function e(t){return this.shapesFrom.groupedItemsFromShapes(t)},shapesFromIndex:function e(t,n){return this.shapesFrom.shapesFromIndex(t,n)},ToggleFlag:{select:1,deselect:2,auto:4,replace:8},toggleSelection:function e(t,n){var i=this.handler._disableSelections,r=this.ToggleFlag,o=this.handler.ToggleShape,a=this.handler.ToggleShapes,s=this.toggleSelectedShape.bind(this),l;n=n||r.auto;function u(e){var r=t.filter(e);r.forEach(function(e){if(!i){e.selected=!e.selected;s(e);o.emit(e,n)}});r.length>0&&a.emit(t,n)}if(n&r.select)u(function(e){return!e.selected});else if(n&r.deselect)u(function(e){return e.selected});else if(n&r.auto)u(function(){return true});else if(n&r.replace){l=t;t=this.handler.cache.data;u(function(e){return e.selected});t=l;u(function(){return true})}},clearSelection:function e(){var t=this.handler.Clear,n=this.handler.cache.data,i=this.ToggleFlag.deselect;this.toggleSelection(n,i);t.emit()}});t.defaultOptions={};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(120),n(328),n(89),n(181),n(49)],r=function(e,t,n,i,r,o){var a={};function s(e,t,n){return e.bounds?e.bounds:r.getBounds(e,t,n)}function l(e,t,n){var i={};if(e.bounds){var o=e.bounds;i=r.getInfluenceOnGrid(o,t,n);i.bounds={x:o.x,y:o.y,width:o.width,height:o.height}}else{i.row=e.row;i.col=e.col;i.rowspan=e.rowspan;i.colspan=e.colspan;i.bounds=s(i,t,n)}return i}function u(e,t){var n=[];for(var i=0;i<t;i++){n[i]=[];for(var r=0;r<e;r++)n[i][r]=1}return n}function c(e,t){var n,i;var r,o;r=t.row+t.rowspan;o=t.col+t.colspan;for(n=t.row;n<r;n++)for(i=t.col;i<o;i++)e[n]&&(e[n][i]=0)}function d(e,t){var n;if(!t)return null;for(n=0;n<t.length;++n)if(t[n].id===e)return t[n];return null}function f(e){return e.getLayout().then(function(e){var t=a.updateGridCells(e.columns,e.rows,[],e.cells);return a.getOptimalGridCell(t)})}a.addToSheet=function(e,t){return f(e).then(function(n){var i={cell:n,init:t,template:t.qInfo.qType};return e.addObject(i).then(function(){return e})})};a.getOptimalGridCell=function(e){e.sort(function(e,t){if(e.isEmpty&&!t.isEmpty)return-1;if(t.isEmpty&&!e.isEmpty)return 1;var n=e.pos.colspan*e.pos.rowspan;var i=t.pos.colspan*t.pos.rowspan;if(n>i)return-1;if(n<i)return 1;return 0});var t=e[0]||null;if(t&&!t.isEmpty)if(t.pos.colspan>1||t.pos.rowspan>1){var n=t.pos.colspan>t.pos.rowspan?"right":"bottom";t={isEmpty:true,pos:{pos:t.pos,split:n}}}else t=null;return t};a.updateGridCells=function(e,t,n,i,r,a){var s=i;var f=o.getFlag("DROP_ZONES");var p=[];var h=u(e,t);r=r||t;var v;var m;if(f){v=a?Math.round(r/2):r;m=a?v:Math.round(v/2)}function g(n){var i=l(n,e,t);c(h,i,t,e);var r={};r.pos=i;r.isEmpty=true;r.navMenu={};p.push(r)}function b(i){var r=l(i,e,t);c(h,r,t,e);var o=d(i.name,n);if(!o){o={};o.id=i.name;o.navMenu={};o.options={id:i.name,isVisible:true,isZoomed:false,isActive:false}}o.pos=r;o.isEmpty=false;p.push(o)}function y(n,i,o,a){n=n||0;o=o||0;i=i||t;a=a||e;var s;var l;var u=a;var c=[];var d;var p;var v;while(u-- >o){l=0;s=i;c[u]=[];while(s-- >n)if(h[s][u])c[u][s]=++l;else{l=0;c[u][s]=null}}v=null;p=0;function m(e,t,n){var i=e;while(d.length>0){var o=d[d.length-1];if(o.rowSpan===n)return;if(o.rowSpan<n)break;d.pop();i=o.col;var a=e-o.col;var s=o.rowSpan*a;if(s>p){p=s;v={col:o.col,row:t,colspan:a,rowspan:o.rowSpan}}}n>0&&n&&d.push({col:i,rowSpan:f?n:Math.min(n,r)})}d=[];for(s=n;s<i;++s){for(u=o;u<a;++u){if(null===c[u][s]){m(u,s,0);continue}m(u,s,c[u][s])}m(u,s,0)}return v}function x(){var n=1,i;if(f){var r=Math.ceil(t/m);var o=Math.ceil(e/v);for(var a=0;a<r;++a)for(var l=0;l<o;++l)while(true){i=y(m*a,Math.min(m*(a+1),t),v*l,Math.min(v*(l+1),e));if(!i)break;i.priority=n++;s.push(i);g(i)}}else while(true){i=y();if(!i)break;i.priority=n++;s.push(i);g(i)}}function w(e){e.sort(function(e,t){e=e.pos;t=t.pos;return e.row-t.row}).sort(function(e,t){e=e.pos;t=t.pos;if(e.row===t.row)return e.col-t.col;return e.row-t.row})}s.forEach(b);w(p);x();return p};e.service("qvObjectPlacementService",[function(){var e={addObjectToSheet:function e(n,r,o){if(!n)return i.reject();if(!r&&o)return a.addToSheet(o,n);if(r)return t.get(r).then(function(e){return a.addToSheet(e,n)})},addToNewSheet:function e(r){return t.getList().then(function(e){if(!r)return i.reject();return e.getLayout().then(function(e){var t=0;e.forEach(function(e){!e.qMeta.published&&e.qData.rank>t&&(t=e.qData.rank)});return n.addSheet(t+1).then(function(e){return a.addToSheet(e,r)})})})},getOptimalCell:function e(t){return a.getOptimalGridCell(t)},updateGridCells:function e(t,n,i,r,o,s){return a.updateGridCells(t,n,i,r,o,s)},getCellAlignment:function e(t,n,i,r){return s(t,n,i,r)}};return e}]);return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(93),n(715),n(191),n(107),n(150)],r=function(e,t,n,i,r,o,a){t.directive("qvExpressionInput",function(){return{restrict:"E",scope:{expression:"=",isValidExpression:"=",labelTranslation:"@"},template:i,link:function t(i){n.getApp().then(function(t){var n;i.onExpressionChange=l;i.shouldForceEditInExpressionEditor=u;i.onExpressionActivate=c;i.openExpressionDialog=d;i.maxLength=o.name;i.labelTranslation=i.labelTranslation||"metadata.labelExpression";n=new r.ExpressionValidator(t);l();var s=function e(t){i.isValidExpression=t.valid};n.Update.bind(s);i.$on("$destroy",function(){n.Update.unbind(s)});function l(){i.isExpression=f(i.expression);n.validate(i.expression)}function u(){return i.expression&&i.expression.length>o.name}function c(t){if(!u())return;e(t.target).blur();d()}function d(){var e={expr:i.expression,title:i.expression?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"};a.show(e).then(function(e){i.expression=e;l()})}function f(e){return(e||"").length>0}})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(90),n(768),n(134),n(150),n(93),n(354),n(148),n(790),n(144)],r=function(e,t,n,i,r,o,a,s,l,u){var c=a.dimensionTypes,d=l.create(s);function f(e,t){return e.localeCompare(t)}function p(){return o.getApp().then(function(e){return e.getFieldList().then(function(e){var n,i,r;e=t.extend(true,[],e);e=s.removeMeasureAndDetailsFields(e);e.sort(function(e,t){return e.qName.localeCompare(t.qName)});e=u.expand(e);r=[];for(n=0;n<e.length;++n){var o=e[n];for(i=0;i<o.qSrcTables.length;++i)-1===r.indexOf(o.qSrcTables[i])&&r.push(o.qSrcTables[i]);d.addIconMetaData(o)}r.sort(f);return{fields:e,tables:r}})})}function h(e,t,n){r.show({expr:n,title:n?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"}).then(function(n){e(t,n)})}function v(e,i){p().then(function(r){var o=!e.qInfo.qId;function s(t){var n=a.dimensionTypes,r="drilldown",o="single";e.qMetaDef={title:t.name,description:t.description,tags:t.tags};e.qDim.title=t.name;e.qDim.qGrouping=t.type===r?n.drilldown:n.single;e.qDim.qFieldDefs=t.expr;e.qDim.qLabelExpression=t.labelExpression;e.qDim.descriptionExpression=t.descriptionExpression;e.qDim.coloring||(e.qDim.coloring={});e.qDim.baseColor&&delete e.qDim.baseColor;if(t.colorsChanged){e.qDim.coloring.colorMapRef=e.qInfo.qId;e.qDim.coloring.changeHash=Math.random()+""}t.baseColor&&"none"!==t.baseColor.color?e.qDim.coloring.baseColor=t.baseColor:delete e.qDim.coloring.baseColor;t.type===o?e.qDim.qFieldLabels=[t.name]:e.qDim.qFieldLabels=[];i()}var l=t.extend(true,{},e);l.name=e.qMetaDef.title;l.description=e.qMetaDef.description;l.tags=e.qMetaDef.tags;o?n.add({dimension:l,tableData:r,expressionInterface:h,callback:s}):n.edit({dimension:l,tableData:r,expressionInterface:h,callback:s})})}function m(){return{add:function t(n,r){function o(){return i.create(a).then(function(t){e.$rootScope.$emit("clearUndo");r&&r(t)})}var a={qInfo:{qType:"dimension"},qDim:{qGrouping:c.single,qFieldDefs:[]},qMetaDef:{title:"",description:"",tags:[]}};if(n){a.qMetaDef.title=n;a.qDim.qFieldDefs.push(n)}v(a,o)},edit:function t(n,r){i.get(n).then(function(t){t.getProperties().then(function(n){v(n,function(){var i=n.qDim.coloring;i.baseColor&&i.baseColor.color&&"none"===i.baseColor.color&&delete i.baseColor;return t.setProperties(n).then(function(t){e.$rootScope.$emit("clearUndo");r&&r(t)})})})})}}}return m}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(243)],r=function(e,t){var n;n=t.extend({init:function e(t){this.list=[];this.scrollApi=t},getRowCount:function e(){return this.scrollApi.items?this.scrollApi.items.length:0},getFirstElementIndex:function e(){return this.list.indexOf(this.scrollApi.items[0])},getLastElementIndex:function e(){return this.list.indexOf(this.scrollApi.items[this.scrollApi.items.length-1])},getItems:function e(t,n){return this.list.slice(Math.max(0,t),t+n)},setItems:function e(t,n){this.scrollApi.items=this.getItems(t,n)},setList:function e(t,n){this.list=t;this.scrollApi.setTotalRows(this.list.length);var i=this.getRowCount();var r=n&&i>0?this.getFirstElementIndex():0;if(this.scrollApi.virtualScrollEnabled){this.setItems(r,this.scrollApi.settings.viewportRowCount);this.scrollApi.setVirtualSize(n)}else if(n){i=Math.min(t.length-r,Math.max(this.getRowCount(),this.scrollApi.settings.blockSize));this.setItems(r,i);this.scrollApi.updateLoadingButtons()}else{this.setItems(r,this.scrollApi.settings.viewportRowCount+1);this.scrollApi.resetNativeScroll()()}},resize:function t(){this.scrollApi.updateViewport();var n=this.getRowCount();var i=n>0?this.getFirstElementIndex():0;0!==i&&i+this.scrollApi.settings.viewportRowCount>n&&(i=Math.max(0,n-this.scrollApi.settings.viewportRowCount));if(this.scrollApi.virtualScrollEnabled){this.setItems(i,this.scrollApi.settings.viewportRowCount);return this.scrollApi.setVirtualSize(true)}if(0===i&&n<this.scrollApi.settings.blockSize){this.setItems(i,this.scrollApi.settings.viewportRowCount+1);this.scrollApi.resetNativeScroll()();return e.resolve()}return e.resolve()},onVirtualScroll:function t(n,i){this.setItems(n,i);return e.resolve()},onInitialNativeScroll:function t(n,i){this.setItems(0,n+i);return e.resolve()},onGotoNextBlock:function t(n,i){var r=this.scrollApi.settings.keepItemsCount+this.scrollApi.settings.viewportRowCount;this.setItems(n-r,i+r);return e.resolve()},onGotoPreviousBlock:function t(n,i){var r=this.scrollApi.settings.keepItemsCount+this.scrollApi.settings.viewportRowCount;this.setItems(n,i+r);return e.resolve()}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91)],r=function(e,t){e.service("qvCurrentSelectionsService",[function(){function e(e){return e.qStateCounts.qSelected+e.qStateCounts.qSelectedExcluded+e.qStateCounts.qLocked+e.qStateCounts.qLockedExcluded}function n(e){var n=e.states.length;return t.get("CurrentSelections.SelectionsInStates",n)}function i(n){var i=e(n),r=n.qTotal,o;o=r===i&&r>1?t.get("CurrentSelections.All"):i>1&&r>1?t.get("CurrentSelections.Of",[i,r]):n.qSelectedFieldSelectionInfo.map(function(e){return e.qName}).join(", ").toString();return o}return{translate:function e(t){return t.states?n(t):i(t)},translatedScreenReaderLabel:function i(r){var o;if(r.states)o=n(r);else{var a=e(r),s=r.qTotal,l=r.qField,u=r.qSelected;o=s===a&&s>1?t.get("CurrentSelections.AllSelections",[l]):a>1&&s>1?t.get("CurrentSelections.MultipleSelections",[l,a,s]):t.get("CurrentSelections.SingleSelection",[l,u])}return o}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(96),n(91),n(89),n(390),n(1018),n(205),n(231),n(110),n(461)],r=function(e,t,n,i,r,o,a,s,l,u){function c(e){return e.qErrorCode===l.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function d(e){return e.qErrorCode===l.NxLocalizedErrorCode.LOCERR_CALC_NOT_CALCULATED}function f(e,t){var n={holder:null,type:""};var i=t&&e[t]?e[t].qHyperCube:e.qHyperCube;if(i&&i.qError){n.holder=i;n.errorTranslationFunc=s.getHyperCubeError}else if(e.layers&&e.layers.length&&e.layers[0].qHyperCube){e.layers[0].qHyperCube.qError?n.holder=e.layers[0].qHyperCube:e.layers[0].geodata.qHyperCube.qError&&(n.holder=e.layers[0].geodata.qHyperCube);n.errorTranslationFunc=s.getHyperCubeError}else if(e.qListObject&&e.qListObject.qError){n.holder=e.qListObject;n.errorTranslationFunc=s.getListObjectError}else if(e.qListObject.qDimensionInfo&&e.qListObject.qDimensionInfo.qError.qErrorCode){n.holder=e.qListObject.qDimensionInfo;n.errorTranslationFunc=s.getDimensionError}return n}function p(e){var t=e.qError.qErrorCode;switch(t){case l.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED:return u.getLayoutMsg(e)||""}if(e.qError.qContext){var i=[e.qError.qContext];return n.get("ErrorCode."+t,i)}}var h=a.extend({$scope:null,init:function n(i){this.$scope=i;i.hasSoftError=false;i.hasHardError=false;i.showMore=function(n){var o=e.element("<div>").appendTo("body");o.showComponent(r,{alignTo:e.element(n.target),error:i.error,onClose:function e(){o.remove();t.preventGestures()}})}},onPaint:function e(){var t=this.$scope,r;var o=t.object.error;if(!o){var a=t.layout;var s=t.object.ext&&t.object.ext.options?t.object.ext.options.hyperCubePath:"";var l=f(a,s);if(l.holder){r=p(l.holder)||l.errorTranslationFunc(l.holder.qError.qErrorCode);o=c(l.holder.qError)?{class:"soft-error",message:r}:{class:"hard-error",title:n.get("Object.Error"),message:r}}}t.error=o;return i.resolve()}});h.$inject=["$scope"];return{template:o,controller:h,isCalcCondNotCalculatedErr:d}}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(117),n(170),n(89),n(110)],r=function(e,t,n,i,r){var o;var a;var s;var l=61;function u(n){if(o)return i.resolve(o);var s=new i;var l=200;var u=30;var c=e(".table-container").width()-l;var d=e(".table-container").height()-u+e("#datamodelviewer_footer").height();var f={qcx:c,qcy:d};var p={qcx:0,qcy:0};var h=30;var v=n;var m=false;t.currentApp.getTablesAndKeys(f,p,h,v,m).then(function(e){o=e;a=e;return s.resolve(e)},function(e){e.code===r.LOCERR_RELOAD_IN_PROGRESS&&(e.isHandled=true);return s.resolve(a)});return s.promise}function c(e){if(s){e(s);return}t.currentApp.getLooselyCoupledVector().then(function(t){s=t;e(t)})}function d(e,i){if(!i)throw new Error("Table name is empty.");var r=-1;var o=l;var a=e;var s=n.decodeTableName(i);return t.currentApp.getTableData(r,o,a,s)}function f(){return t.currentApp.getViewDlgSaveInfo()}function p(e){return t.currentApp.setViewDlgSaveInfo(e)}function h(){o=void 0;s=void 0}function v(e,n){return t.currentApp.assignDerivedFieldFor(e,n)}function m(){return t.currentApp.getAppLayout().then(function(e){return!!e.qLayout.qHasData})}return{getTablesAndKeys:u,getLooselyCoupledVector:c,getTableData:d,getTablePositions:f,setTablePositions:p,clearAllCaches:h,setDerivedField:v,hasAppGotData:m}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(89),n(48),n(397),n(10)],r=function(e,t,n,i){var r=window.angular,o={"max-height":"90%","max-width":"90%","min-height":"180px",width:"400px"},a,s=false,l=false;n.directive("qvDelayedDialogButton",function(){return{replace:true,restrict:"A",link:function e(t){t.button&&t.button.defaultEscButton&&(a=t);t.closeModal=function(e,n){if(e){e.preventDefault();e.stopPropagation()}t.button&&t.button.callback&&("undefined"===typeof t.button.expression||t.button.expression)&&t.button.callback();(n||t.autoClose||t.button&&!t.button.callback)&&t.destroyModal();return}}}});n.service("$delayedModal",["$compile","$rootScope","$document",function(n,u,c){var d={},f,p,h,v,m=i,g;var b={open:function e(i){var b=new t,y;if(f){p=f;v=h}f=u.$new();h=r.element('<div class="qv-modal-container qui-modalbackground-centered" qva-outside-ignore-for="allOutside" ng-style="containerStyle" ng-class="classes"></div>');f.containerStyle={content:" "};f.classes={};f.modalStyle={};var x;for(x in o)f.modalStyle[x]=o[x];f.wasDisabled=[];f.showDefaultButton=true;s=true;l=false;d=i;f.failed=false;f.autoClose=true;for(x in d)f[x]=d[x];h.html(m).appendTo(c.find("body"));f.html&&h.find("main").append(f.html);y=f.$watch("element",function(){b.resolve();y()});g=n(h)(f);f.destroyModal=this.close.bind(this);f.handleEscButton=function(e){if(e){e.preventDefault();e.stopPropagation()}f.buttons&&a?a&&a.closeModal():f.destroyModal()};f.$broadcast("delayed-modal-opened");f.$watchCollection("[width, height]",function(){f.width&&(f.modalStyle.width=f.width);f.height&&(f.modalStyle.height=f.height)});return b.promise},update:function e(t){if(!s)return;for(var i in t){f[i]=t[i];d[i]=t[i]}if(t.html||t.buttons){h.html(m);h.find("main").html(t.html);c.find("body").find(".qui-delayedModal").replaceWith(h.html());g=n(h)(f)}},close:function e(){if(f&&h){f.$broadcast("delayed-modal-closed");h.remove();f.$destroy();f=p||null;h=v||null;v=null;p=null}s=false;l=false},lock:function t(){l=true;f.wasDisabled.length=0;g.find("button, input, textarea, select").each(function(){var t=e(this);t.prop("disabled")?f.wasDisabled.push(this):t.prop("disabled",true)})},unlock:function t(){l=false;g.find("button, input, textarea, select").each(function(){-1===f.wasDisabled.indexOf(this)&&e(this).prop("disabled",false)});f.wasDisabled.length=0}};Object.defineProperty(b,"isOpened",{get:function e(){return s}});Object.defineProperty(b,"isLocked",{get:function e(){return l}});Object.defineProperty(b,"scope",{get:function e(){return f}});return b}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){function t(t,n){n=n?n+".":"";return e.getValue(t,n+"qHyperCube.qDimensionInfo.length")>1}function n(t,n){n=n?n+".":"";return e.getValue(t,n+"qHyperCube.qMeasureInfo.length")>1}function i(e,n){if(!t(e,n))return 1;return o(e,n)}function r(t,n){n=n?n+".":"";return e.getValue(t,n+"qHyperCube.qSize.qcy")}function o(t,n){n=n?n+".":"";if(e.getValue(t,n+"qHyperCube.qStackedDataPages.0.qData.length"))return e.getValue(t,n+"qHyperCube.qStackedDataPages.0.qData.0.qSubNodes.length",0)+e.getValue(t,n+"qHyperCube.qStackedDataPages.0.qData.0.qDown",0)+e.getValue(t,n+"qHyperCube.qStackedDataPages.0.qData.0.qUp",0);var i=e.getValue(t,n+"qHyperCube.qEffectiveInterColumnSortOrder.0");var r=e.getValue(t,n+"qHyperCube.qDimensionInfo."+i);return l(r)}function a(e,n){if(!t(e,n))return r(e,n);return o(e,n)}function s(t,n){if(!t)return null;t=n?e.getValue(t,n):t;return t&&t.qHyperCube?t.qHyperCube:null}function l(e){return e.qCardinalities.qHypercubeCardinal}return{getHyperCube:s,hasSecondDimension:t,hasSecondMeasure:n,getStackedCubeSizeOf2Dims:o,getStackedCubeSizeOfMax2Dims:a,getOuterDimensionSizeOfMax2Dims:i,getDimensionSize:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(115)],r=function(e){return{getChartType:t,getExtensionType:n,getInitialProperties:i};function t(t){return e.getType(t)}function n(e){return t(e).getExtensionType()}function i(e){return t(e).getInitialProperties()}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(48),n(1011),n(1012),n(89),n(90)],r=function(e,t,n,i,r,a){var s,l,u=i.BUTTON_WIDTH,c=i.SEPARATOR_WIDTH,d=i.BORDER_SPACING,f=i.SELECT_DEFAULT_WIDTH,p=i.EXTRA_EDGE_PADDING,h=i.TYPE_BUTTON,v=i.TYPE_SEPARATOR,m=i.TYPE_SELECT;t.componentDirective("qvaIncludeSelectionToolbar",{toolbar:"=",options:"="});l={width:0,items:[],hasItems:function e(){return this.items.length>0},reset:function e(t){this.width=t;this.items.length=0},freeWidth:function e(){var t,n=0;for(t=0;t<this.items.length;t++)n+=this.items[t];return this.width-n}};s={template:n,controller:["$scope",function(n){var i=r(),s=i.promise,g={},b;n.filteredButtons=[];n.currentMenuButtons=[];n.levels=[];n.selectionInfo={show:false,selected:0,total:0};n.lassoEnabled=false;function y(e){if(e.component)return e.component;if("sel-toolbar-icon-separator"===e.buttonClass)return v;return h}function x(e){var t=y(e);switch(t){case h:return u+d;case v:return c+d;case m:return(e.width||f)+d}}function w(e,t,i){var r=0,o,a;l.reset(e-(d+2*p));for(a=t.length-1;a>=0;a--){o=x(t[a]);if(!(o<=l.freeWidth()))break;l.items.push(o)}(n.toolbar.showLock||n.locked)&&(r+=u+d);(i.length>0||t.length>l.items.length)&&(r+=u+d);while(l.hasItems()&&l.freeWidth()<r)l.items.pop();return l.items.length}function S(e,t){e._componentId=t;e.items&&e.items.forEach(function(e){e._componentId=t})}function C(e){e.forEach(function(e){e._componentId&&S(e,e._componentId)});n.currentMenuButtons=e}function E(e){e.forEach(function(e){S(e,e._componentId||a.generateId());g[e._componentId]=e})}function q(){var e=[].concat(n.toolbar.buttons),t=[].concat(n.toolbar.menuButtons),i=w(n.toolbar.style.width,e,t),r,o,a=[];n.filteredButtons=[];var s=[];n.levels=[];var l=e.concat(t).filter(function(e){return e.component});E(l);for(r=0;r<i&&e.length;++r){o=e.pop();o.component?a.push(o):n.filteredButtons.push(o)}n.filteredButtons.reverse();while(e.length){o=e.pop();y(o)!==v&&s.push(o)}while(t.length)s.push(t.shift());C(s);_(a)}this.layoutItems=q;function _(e){e.forEach(function(e){switch(e.component){case m:var t={width:f};var i=a.extend(true,t,e);a.extend(e,i);n.selectComponents=n.selectComponents||[];n.selectComponents.push(e);break;default:throw new Error("Select toolbar component: "+e.component+" was not recognized")}})}this.confirm=function(){n.selectionsApi.confirm()};this.close=function(){n.destroyComponent()};this.refresh=function(){t.$apply(n)};function T(){b=null;var e=n.levels.pop();C(e.items)}function k(e){n.levels.push({items:n.currentMenuButtons});C(e)}function O(e){return g[e]}n.shouldShowBtnMore=function(){return n.currentMenuButtons.length>0};n.shouldDisableSelect=function(e){var t=true===e.isDisabled||"function"===typeof e.isDisabled&&e.isDisabled();return!!t};n.shouldShowSelect=function(e){var t=!n.locked&&(void 0===e.show||"boolean"===typeof e.show&&false!==e.show||"function"===typeof e.show&&e.show(e.value));return!!t};n.buttonAction=function(e,t){e.originalEvent.preventDefault();e.stopPropagation();t.action.call(n.toolbar)};n.buttonIsDisabled=function(e){switch(o(e.isDisabled)){case"function":return!!e.isDisabled.call(n.toolbar);case"boolean":return e.isDisabled;default:return false}};n.isButtonSelected=function(e){var t=e.items;var n=O(e._componentId)||{};var i=!t&&e._componentId&&e.hasOwnProperty("value")&&n.value===e.value;return!!i};n.menuAction=function(t){t.originalEvent.preventDefault();var i="DIV"===t.target.tagName?e(t.target):e(t.target).parents("div");var r=i.scope();var o=i.attr("tid");if(r.button&&r.button.items){b=r;k(r.button.items)}else if("sel-toolbar-menu-back"===o)T();else{b&&T();var a=r.button.action||b&&b.action;if(!a)throw Error("selection-toolbar: menu button has no action function defined");a.call(n.toolbar,r.button);n.toolbar.showMenu=!n.toolbar.showMenu}};n.toggleShowMenu=function(e){e.originalEvent.preventDefault();n.toolbar.showMenu=!n.toolbar.showMenu};n.toggleLasso=function(){n.lassoEnabled=!n.lassoEnabled;n.toolbar.toggleLasso(n.lassoEnabled)};function D(e){n.locked=e;n.toolbar.showMenu=false;s.then(function(){q()})}n.toggleLock=function(t){t.originalEvent.preventDefault();t.stopPropagation();if(e(t.target).closest(".sel-toolbar-list-item-close").length>0)return;if(n.toolbar.backendApi.isLocked()){n.toolbar.selectionsApi.selectionsMade=true;n.toolbar.backendApi.unlock()}else n.toolbar.backendApi.lock()};n.$watch("toolbar.backendApi.isLocked()",function(e){void 0!==e&&D(!!e)});n.$watch("toolbar.position",function(e){if(!e)return;n.toolbar.style=e;i.resolve();D(!!n.toolbar.backendApi.isLocked&&n.toolbar.backendApi.isLocked())});n.$watch("toolbar.menuMaxHeight",function(e){if(!e)return;n.toolbar.menuStyle={maxHeight:e}});n.$watch("options.lassoEnabled",function(e){n.lassoEnabled=e})}]};return s}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i;!(i=function(){var e={};function t(t){var n=e[t];if(!n){n=[];e[t]=n}return n}function n(e,n){if(!e)throw new Error("Key is not defined.");if("string"!==typeof e)throw new Error("Key has to a String.");if(!n)throw new Error("No observer was defined.");if("function"!==typeof n)throw new Error("Observer is not a function.");var i=t(e);i.push(n)}function i(e,n,i){if(!e)throw new Error("Key is not defined.");if("string"!==typeof e)throw new Error("Key has to a String.");var r=t(e);r.forEach(function(e){e(n,i)})}function r(e,n){if(!e)throw new Error("Key is not defined.");if(!n)throw new Error("Observer is not defined.");var i=t(e);var r=i.indexOf(n);if(-1===r)throw new Error('Unknown observer for the key "'+e+'".');i.splice(r,1)}return{addObserver:n,notifyAll:i,removeObserver:r}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[n(117),n(381),n(89)],r=function(e,t,n){var i={};function r(e){var t={};var n={keywords:[],keywordsAsLowerCase:[],functions:[],functionsAndCategories:[],notFunctions:[],bnfEntries:[],mapping:{}};function i(e){return e.replace(/\s+/g," ").replace(/\s+(\)|\]|,)/g,"$1").replace(/(\(|\[|,)\s+/g,"$1")}function r(){e.forEach(a);var t=[{qStr:"must_include",qBnfLiteral:true}];t.forEach(a)}function o(){n.functions.length<1&&r();function e(e,t){return{text:t,type:e}}var t=n.notFunctions.map(e.bind(null,"keyword"));var i=n.functions.map(e.bind(null,"function"));n.autocompleteList=t.concat(i)}function a(e){if(true===e.qBnfLiteral){-1===n.keywords.indexOf(e.qStr)&&n.keywords.push(e.qStr);if(e.qStr){n.keywordsAsLowerCase.push(e.qStr.toLowerCase());n.mapping[e.qStr.toLowerCase()]=e.qNbr;if(!e.qAggrFunc&&!e.qQvFunc){if(!e.qFieldFlag){-1===n.notFunctions.indexOf(e.qStr)&&n.notFunctions.push(e.qStr);t[e.qStr.toLowerCase()]="keyword"}}else{-1===n.functions.indexOf(e.qStr)&&n.functions.push(e.qStr);t[e.qStr.toLowerCase()]="function";n.functionsAndCategories.push({fglist:e.qFGList,func:e.qStr})}}}}function s(t){t=parseInt(t,10);if(n.bnfEntries[t])return n.bnfEntries[t];var i=e.filter(function(e){return parseInt(e.qNbr,10)===t});n.bnfEntries[t]=i[0];return i[0]||false}function l(e){n.keywords.length<1&&r();e=e.toLowerCase();var t=n.mapping[e];return s(t)}function u(e){var t="",n=s(e);e>=0&&e<=56?t=n.qStr||"":n&&(t=n.qStr||n.qName);return t}function c(e){if(e&&!e.signature){e.qBnf&&e.qBnf.length>0?e.signature=e.qBnf.map(u).join(" ").trim():e.qPNbr&&(e.signature=c(s(e.qPNbr)));e.signature=i(e.signature)}return e.signature||""}function d(){n.keywords.length<1&&r();return n.keywords}function f(){n.keywordsAsLowerCase.length<1&&r();return n.keywordsAsLowerCase}function p(){n.autocompleteList||o();return n.autocompleteList}function h(e){var t=l(e);return false!==t?c(t):""}function v(){return e.filter(function(e){return e.qHelpId&&e.qHelpId>0}).map(function(e){return e.qStr})}function m(e){return"function"===t[e.toLowerCase()]}function g(){return false}function b(){return false}function y(e){return!!t[e.toLowerCase()]}function x(){n.functions.length<1&&r();return n.functions}function w(){return n.functionsAndCategories}r();return{getBnfEntry:s,getLiteralString:u,getAllKeywords:d,getAllKeywordsAsLowerCase:f,getAutocompleteList:p,getKeywordsWithHelp:v,getSignatureFromKeyword:h,getFunctionTip:h,isFunction:m,isField:g,isKeyword:y,isVariable:b,getAllFunctions:x,getAllFunctionsAndCategories:w}}function o(i,o){var a="BNF_CACHE_DATA_"+i;var s="BNF_HASH_"+i;o=o||e;return o.global.getBaseBNFHash(i).then(function(e){var l=e.qBnfHash;var u=new n;var c=localStorage.getItem(s);var d=c===l;var f=d?localStorage.getItem(a):void 0;if(f)try{var p=JSON.parse(t.decompressFromUTF16(f));u.resolve(r(p));return u.promise}catch(e){}o.global.getBaseBNF(i).then(function(e){var n=e.qBnfDefs;localStorage.setItem(a,t.compressToUTF16(JSON.stringify(n)));localStorage.setItem(s,e.qBnfHash);u.resolve(r(n))});return u.promise})}function a(i){var r="BNF_STRING_CACHE_DATA_"+i;var o="BNF_STRING_HASH_"+i;return e.global.getBaseBNFHash(i).then(function(a){var s=a.qBnfHash;var l=new n;var u=localStorage.getItem(o);var c=u===s;var d=c?localStorage.getItem(r):void 0;if(d)try{var f=JSON.parse(t.decompressFromUTF16(d));l.resolve(f);return l.promise}catch(e){}e.global.getBaseBNFString(i).then(function(e){var n=e.qBnfStr;localStorage.setItem(r,t.compressToUTF16(JSON.stringify(n)));localStorage.setItem(o,e.qBnfHash);l.resolve(n)});return l.promise})}function s(e,t){i[e]||(i[e]=o(e,t));return i[e]}function l(e){return a(e)}function u(){return s("S")}function c(e){return s("E",e)}function d(){return l("S")}return{createBnfModel:r,getReloadScriptBnfModel:u,getExpressionBnfModel:c,getScriptBnf:d}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(95),n(94),n(131),n(673)],r=function(e,t,n,i,r){e.service("qvSheetService",function(){var o;var a=e.getService("$cacheFactory"),s=a("pp-sheet");return{set:function e(t){o=t},get:function e(){return o},destroy:function e(){o=null},setSheetAsSelectedObj:function e(){var o=n.model;var a={id:o.id,type:"sheetCell",canCopy:function e(){return false},canCut:function e(){return false},canRemove:function e(){return false},remove:function e(){return},paste:function e(){t.publish("/activeSheet/pasteObject",null)},getAllPropertyPanelContent:function e(){return o.getProperties().then(function(e){return o.getLayout().then(function(t){var n={properties:e,layout:t,definition:r,type:"sheet",model:o,iconName:"sheet",titleRef:"qMeta.title",cache:s};return n})})}};return i.setSelectedObject(a)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(198)],r=function(e){var t;t=e.extend("Listbox",{init:function e(t){this._super(t,"/qListObjectDef",{width:1});this.cacheCube.setMethodName("getListObjectData")},select:function e(t,n,i){return this.model.selectListObjectValues(this.path,n,i)},selectAll:function e(){return this.model.selectListObjectAll(this.path)},selectPossible:function e(){return this.model.selectListObjectPossible(this.path)},selectAlternative:function e(){return this.model.selectListObjectAlternative(this.path)},selectExcluded:function e(){return this.model.selectListObjectExcluded(this.path)},search:function e(t){return this.model.searchListObjectFor(this.path,t)},abortSearch:function e(){return this.model.abortListObjectSearch(this.path)},confirmSearch:function e(t){return this.model.acceptListObjectSearch(this.path,t)},updateCache:function e(t){this.cacheCube.set(t.qListObject.qDataPages);this.cacheCube.setCubeSize(t.qListObject.qSize)},setInitialData:function e(t){this.cacheCube.set(t.qListObject.qDataPages)},getData:function e(t){return this.cacheCube.getData(t)},getDataPage:function e(t){return this.getData([t]).then(function(e){return e[0]})},getSize:function e(){return this.model.layout.qListObject.qSize},lock:function e(){return this.model.lock(this.path)},unlock:function e(){return this.model.unlock(this.path)},isLocked:function e(){return!(!this.model.layout||!this.model.layout.qListObject)&&!!this.model.layout.qListObject.qDimensionInfo.qLocked},isDrillDown:function e(){return!(!this.model.layout||!this.model.layout.qListObject)&&"H"===this.model.layout.qListObject.qDimensionInfo.qGrouping},getDimensionInfos:function e(){if(this.model.layout&&this.model.layout.qListObject)return[this.model.layout.qListObject.qDimensionInfo];return[]}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(48),n(90),n(89),n(141),n(283),n(1094),n(50),n(1095),n(245)],r=function(e,t,n,i,r,o,a,s,l){t.service("qvListboxPopoverServiceMobile",["$document",function(t){var u=t.find("body"),c,d,f;d={show:function t(r,d,p,h){var v=i(),m={$alignToElement:d.$alignToElement,popupPosition:d.position||"bottom",collision:d.collision||"none",qvaOutsideIgnoreFor:d.qvaOutsideIgnoreFor,getVisualization:function e(){return v.promise},model:r,onPopoverClose:this.onPopoverClose,options:{setController:v.resolve,isPopover:true,showLock:d.showLock,search:d.search||{},smallDevice:s.isSmallDevice,direction:d.direction},selectionToolbarComponent:o};if(f){f.selectionsActivated=function(){};f.selectionsDeactivated=function(){};f.close()}c=e.element("<div>");u.append(c);a.template=l;f=c.showComponent(a,m);f.selectionsActivated=function(){n.isFunction(h)&&h()};f.selectionsDeactivated=function(){n.isFunction(p)&&p();p=null;h=null};return f},showField:function e(t,n,o,a,s,l){return r.createTransientField(n,t,a).then(function(e){return i.resolve(this.show(e,o,s,l))}.bind(this))},showDimension:function e(t,n,i,o,a,s){r.createTransientDimension(n,t,o).then(function(e){this.show(e,i,a,s)}.bind(this))},close:function e(){f&&f.close()},onPopoverClose:function e(){}};return d}])}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(89),n(110),n(48),n(495),n(117),n(118),n(143),n(91),n(13),n(163),n(199),n(113),n(1041),n(49),n(56)],r=function(e,t,n,i,r,a,s,l,u,c,d,f,p,h){var v=t.NxLocalizedErrorCode;var m=2;var g,b={};var y;var x;var w;s.onDataReceived.then(function(e){if("NONE"!==e.userDirectory){y=e.userId;x=e.userDirectory}});var S={x:function e(){},y:""};function C(e){return e.substr(0,e.lastIndexOf("."))||e}function E(e){var t=y?" ("+x.toLowerCase()+"_"+y.toLowerCase()+")":"";return a.endsWith(e,t)?e:e+t}function q(){return y&&x?" ("+x.toLowerCase()+"_"+y.toLowerCase()+")":""}S.getUsernameSuffix=q;S.appendUsernameSuffix=E;function _(e){var t={};"CONNECT_64"===e?t.path=64:"CONNECT_32"===e&&(t.path=32);t.text=l.get("Common."+t.path+"bit");return t}function T(e){return e&&e.displayName?e.displayName:l.get("scripteditor.dataconnectors.add.error.unknownconnector")}S.showConnectorErrorMessage=function(e){var t=i.confirmAction({header:l.get("scripteditor.dataconnectors.add.error.title",[T(e)]),content:"scripteditor.dataconnectors.add.error.message",moreContent:"scripteditor.dataconnectors.add.error.suggestion",confirmButtonTitle:"Go to help",declineButtonTitle:"Common.Close",showDeclineButton:true});t.resultPromise.then(function(){window.open(c.path+"Troubleshooting_CustomConnector")})};S.hasCreatePrivileges=function(e,t){if("bdi"===t)return true;if(h.getFlag("REMOTE_CONFIG_ENABLED")){if("custom"===t)return true;if("internet"===t)return false}if(!e)return true;for(var n=0;n<e.length;n++)if(e[n].resource===t+"connection")return e[n].canCreate};S.getDataconnectorTypes=function(){if(!w){var t=[{provider:"folder",type:"folder",isFolderConnector:true,displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectorMain:"assets/hldm/data-connectors/native-file-connector/connector-main",needsConnect:false,isStandardConnector:true},{provider:"ODBC",type:"ODBC",displayName:"scripteditor.dataconnectors.ODBC",connectDialog:"scripteditor.views/odbcconnectdialog/odbcconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-odbc-connector/connector-main",needsConnect:true,isStandardConnector:true},{provider:"OLEDB",type:"OLEDB",displayName:"scripteditor.dataconnectors.OLEDB",connectDialog:"scripteditor.views/oledbconnectdialog/oledbconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-oledb-connector/connector-main",needsConnect:true,isStandardConnector:true},{provider:"internet",type:"internet",displayName:"scripteditor.dataconnectors.webfile",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectDialog:"scripteditor.views/webfilechooser/webfilechooser",connectorMain:"assets/hldm/data-connectors/native-webfile-connector/connector-main",needsConnect:false,isStandardConnector:true},{provider:"BDI.exe",type:"BDI",displayName:"QABDI",selectDialog:"assets/hldm/data-connectors/bdi/bdi-select-dialog",connectDialog:"assets/hldm/data-connectors/bdi/bdi-connect-dialog",connectorMain:"assets/hldm/data-connectors/bdi/connector-main",needsConnect:true,isStandardConnector:true}];var n;n=d.NOCONNECTOR?e.when({qConnectors:[]}):r.global.getCustomConnectors();w=n.then(function(e){var n=e.qConnectors||e.data.connectors;var i=n.map(function(e){var t;var n,i={};var r={"QvWebConnectorPackage.exe":"IFRAME_CONNECTOR_QWC","QvRestConnector.exe":"IFRAME_CONNECTOR_REST"};if(f[r[e.qProvider]]){e.name=C(e.qProvider);t=p.getInstance(e);t.architecture=_(e.machineMode);n=t.name+".webroot";i[n]=u.rootPath+"customdata/64/"+t.name+"/web";window.requirejs.config.call(null,{paths:i});t.connectorMain=n+"/connector-main";return t}t={provider:e.qProvider||e.fileName,type:"custom",name:C(e.qParent||e.fileName),displayName:e.qDisplayName||e.displayName,connectDialog:e.qConnectDialog,selectDialog:e.qSelectDialog,needsConnect:e.qNeedsConnect,architecture:_(e.qMachineMode||e.machineMode),isStandardConnector:false,isIframeCompatible:false};if(!t.connectDialog){n=t.name+".webroot";i[n]=u.rootPath+"customdata/"+t.architecture.path+"/"+t.name+"/web";window.requirejs.config.call(null,{paths:i});var o=e.streamingSupport||e.qSupportFileStreaming;t.connectDialog=n+"/connectdialog";t.selectDialog=true==o?"scripteditor.views/fileselectdialog/fileselectdialog":n+"/selectdialog";t.connectorMain=n+"/connector-main";t.needsConnect=true!=o;t.isStorageProvider=o}if("qix-datafiles.exe"===t.provider)return{provider:"qix-datafiles.exe",type:"qix-datafiles.exe",isFolderConnector:true,displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectorMain:"assets/hldm/data-connectors/native-file-connector/connector-main-datafiles",needsConnect:false,isStandardConnector:true};return t});g=t.concat(i);g.forEach(function(e){b[e.provider]=e;b[e.displayName]=e});b.file=b.folder;return g})}return w};S.getDataconnectorInstances=function(e){return this.getDataconnectorTypes().then(function(){return r.currentApp.getConnections().then(function(t){var n=t.qConnections.filter(function(e){return"content-library"!==e.qType}).map(function(t){var n=null;if(b[t.qType]&&b[t.qType].type&&"custom"===b[t.qType].type){var i=0;var r=0;if("QvOdbcConnectorPackage.exe"===t.qType){i=t.qConnectionString.indexOf("driver=")+7;r=t.qConnectionString.indexOf(";",i);n=t.qConnectionString.substring(i,r)}else{var o=t.qConnectionString.indexOf("sourceType=");if(-1===o)t.qType&&(n=t.qType.toLowerCase());else{i=o+11;r=t.qConnectionString.indexOf(";",i);n=t.qConnectionString.substring(i,r)}}}else n=t.qType.toLowerCase();var a={name:t.qName,id:t.qId,type:b[t.qType],typeName:t.qType,privileges:t.qMeta.privileges,canDelete:true,sourceConnectorID:n,connectionString:t.qConnectionString};e&&e(a,t);return a});a.sortSlightlyMoreNaturallyArray(n,"name",l.language);return n})})};S.getConnection=function(e){return r.currentApp.getConnection(e)};S.getServersideConnectorProxy=function(t,i,a){return function(){var s={};s.sendJsonRequest=function(){var r=arguments[0],l=Array.prototype.slice.call(arguments,1).map(function(e){return"object"===o(e)?JSON.stringify(e):e}),u={qProvider:t,qMethod:r,qParameters:l,qCommand:"JsonRequest",qAppendConnection:a?a.name:""};var c=new e;var d=0;var f=function e(t,r){s.getApp().sendGenericCommandToCustomConnector(r).then(function(e){var n={},i=e||{};if(i)try{n=JSON.parse(i)}catch(e){window.console.log(e)}t.resolve(n)},function(o){if(d<m&&o.code===v.LOCERR_GENERIC_ABORTED){console.warn("Error loading connector, retrying: "+i);n.getService("$timeout")(function(){++d;e(t,r)},500)}else{console.warn("Failed to load connector: "+i);t.reject(o)}})};f(c,u);return c.promise};s.getApp=function(){return r.currentApp};s.getUsernameSuffix=q;s.createNewConnectionAPI=function(e,t,i,o,a,s){e=E(e);return r.currentApp.createConnection({qConnection:{qName:e,qConnectionString:t,qType:i,qUserName:o,qPassword:a,qLogOn:s}}).then(function(e){n.$rootScope.$broadcast("connectionListModified");return e})},s.removeConnection=function(e){return r.currentApp.deleteConnection(e).then(function(){n.$rootScope.$broadcast("connectionListModified")})};s.getConnections=function(){return r.currentApp.getConnections()};s.getConnection=function(e){return r.currentApp.getConnection(e).then(function(e){return e},function(){return false})};s.modifyConnection=function(e,t,i,o,a,s,l,u){t=E(t);return r.currentApp.modifyConnection({qConnectionId:e,qConnection:{qName:t,qConnectionString:i,qType:o,qUserName:s,qPassword:l,qLogOn:u},qOverrideCredentials:a}).then(function(e){n.$rootScope.$broadcast("connectionListModified");return e})};s.createNewRawConnection=function(e,t,n){return s.createNewConnectionAPI(e,t,n,"","")};s.createNewConnection=function(e,t,n,i){var r=/provider=([^;]*)/;var o=r.test(t)?t.match(r)[1]:"";return s.createNewConnectionAPI(e,t,o,n,i)};s.getErrorContent=function(e){var t=e&&!Number.isNaN(+e.code)?e.code:0;var n=s.parseErrorParams(e.parameter);return l.get("ErrorCode."+t,n)};s.parseErrorParams=function(e){if(!e)return;var t=[];var n=/{\\?"([^}]+?)(?=\\?"})/g;e.replace(n,function(e,n){t.push(n)});if(0===t.length){var i=e.split(/ErrorMsg: ?([^\n\r.]+)/g)[1];i&&t.push(i)}return t};return s}()};return S}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-block-ui" ng-class="{\'qv-fade-out\': fadeOut}">\n\t<div class="qv-loader-container" ng-class="ngClasses">\n\t\t<div class="qv-loader"></div>\n\t</div>\n\t<div class="qv-loader-text" ng-if="messageObj" ng-class="ngClasses">\n\t\t<div ng-show="messageObj.task" q-translation="{{messageObj.task}}"></div>\n\t\t<div ng-show="messageObj.message" q-translation="{{messageObj.message}}"></div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(97),n(719),n(348),n(297)],r=function(e,t,n,i,r){var o,a,s=r.popupComponent,l={name:"default",colors:["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"]};function u(e,t){if(void 0!==e){if(void 0!==e.index&&-1!==e.index&&t[e.index])return t[e.index];if(void 0!==e.color)return e.color?e.color:"none";return e||"none"}}function c(e,t){if("none"===t){e.addClass("transparent");e.css("background-color","transparent")}else{e.css("background-color",t);e.removeClass("transparent")}}function d(){return"inverse"}function f(n,i,r,d,f,p){if(a&&a.element===i){o&&o.close();o=null;a=null;return}a={model:f,element:i,previewBox:d,scope:n};var h=n.palettes;var v=n.palette||l;var m=false!==n.$eval(r.extended);var g=t.getService("luiPopover");var b=n.$eval(r.recentColorsFlag)||false;var y=n.$eval(r.dock)||"top";var x;function w(e,t){t.$setViewValue(e);n.onChange&&n.onChange();if(d){var i="undefined"!==typeof v.colors?u(t.$viewValue,v.colors):u(t.$viewValue,v);c(d,i)}}var S;var C;var E=t.getService("$timeout");var q=t.getService("qvGlyphService"),_=q.getDefaultGlyphs();_.forEach(function(e){e.cssClass=q.getIconClass(e.icon)});o=g.show({template:s.template,controller:s.controller,input:{$palettes:h,$palette:v,$glyphPalette:_,$useGlyph:n.$eval(r.useGlyph)||false,$disableNone:n.$eval(r.disableNone)||false,$defaultColor:"undefined"!==typeof v.colors?u(f.$viewValue,v.colors):u(f.$viewValue,v),$inputViewValue:f.$viewValue,$extended:m,$recentColorsFlag:b,onColorChange:function e(t,n,i,r,o){C=t?{color:i,index:n,icon:o,cssClass:q.getIconClass(o)}:{color:i,index:n,palette:r,icon:o,cssClass:q.getIconClass(o)};w(C,f)}},alignTo:i[0],variant:p,closeOnEscape:true,closeOnOutside:true,outsideIgnore:"colorpicker-tooltip",dock:y,autoFocus:false});o.closing.then(function(t){n.onClose&&n.onClose(t);var r;if(t){x=t;r=e(t.target).closest(i[0]).length>0}if(S){E.cancel(S);w(C,f);S=null}r||(a=null)});o.closed.then(function(){x&&x.target.classList.contains("color-scale-container")&&(a=null)});n.onOpen&&n.onOpen(o)}t.directive("qvColorPickerCustomNew",function(){return{require:"?ngModel",scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"=",palette:"=",palettes:"="},link:function e(t,i,r,s){t.callback&&(t.callback.close=function(){o&&o.close()});t.$parent&&(t.$parent.onClick=function(){var e=d();f(t,i,r,null,s,e)});function l(){o&&o.close()}n.on("start",l);t.$on("$destroy",function(){o&&a&&a.element===i&&o.close();n.off("start",l)})}}});t.directive("qvColorPickerButtonNew",function(){return{require:"?ngModel",replace:true,scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"=",palette:"=",palettes:"="},template:i,link:function e(t,i,r,s){var p=t.palette||l,h="undefined"!==typeof p.colors?u(s.$viewValue,p.colors):u(s.$viewValue,p),v=i.find(".qv-color-picker-preview");t.onClick=function(){var e=d();f(t,i,r,v,s,e)};t.callback&&(t.callback.close=function(){o&&o.close()});function m(){o&&o.close()}t.variantClass=r.variant?"lui-button--"+r.variant:"";n.on("start",m);t.$watch("palette",function(){p=t.palette||l;s.$render()});s.$render=function(){if(void 0===s.$viewValue)return;h="undefined"!==typeof p.colors?u(s.$viewValue,p.colors):u(s.$viewValue,p);c(v,h)};t.$on("$destroy",function(){o&&a&&a.element===i&&o.close();n.off("start",m)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.service("qvGlyphService",[function(){var e=["","m","Ã¯","R","S","T","U","P","Q","Ã¨","Â¢","Â©"],t=[{key:"m",value:"lui-icon--tick"},{key:"Ã¯",value:"lui-icon--star"},{key:"R",value:"lui-icon--triangle-top"},{key:"S",value:"lui-icon--triangle-bottom"},{key:"T",value:"lui-icon--triangle-left"},{key:"U",value:"lui-icon--triangle-right"},{key:"P",value:"lui-icon--plus"},{key:"Q",value:"lui-icon--minus"},{key:"Ã¨",value:"lui-icon--warning-triangle"},{key:"Â¢",value:"lui-icon--hand"},{key:"Â©",value:"lui-icon--flag"}],n=t.length;var i={getIconClass:function e(i){var r,o=null;if(void 0!==i&&null!==i)if(0===i.length)o="";else for(r=0;r<n;r++)if(t[r].key===i){o=t[r].value;break}return o},getDefaultGlyphs:function t(){return e.map(function(e){return{icon:e}})}};return i}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(97),n(725),n(726)],r=function(e,t,n,i,r){var o,a,s=r.popupComponent,l=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"],u=[{icon:""},{icon:"m"},{icon:"Ã¯"},{icon:"R"},{icon:"S"},{icon:"T"},{icon:"U"},{icon:"P"},{icon:"Q"},{icon:"Ã¨"},{icon:"Â¢"},{icon:"Â©"}];function c(e,t){if(t[e])return t[e];return e||"none"}function d(e,t){if("none"===t){e.addClass("transparent");e.css("background-color","transparent")}else{e.css("background-color",t);e.removeClass("transparent")}}function f(){return"inverse"}function p(n,i,r,f,p,h){if(a&&a.element===i){o&&o.close();o=null;a=null;return}a={model:p,element:i,previewBox:f,scope:n};var v=n.$eval(r.palette)||l;var m=n.$eval(r.extended)||false;var g=t.getService("luiPopover");var b=n.$eval(r.actualColor)||false;var y=n.$eval(r.dock)||"top";var x;function w(e,t,i){i.$setViewValue(e);n.onChange&&n.onChange();f&&d(f,t)}var S;var C;var E;var q=t.getService("$timeout");o=g.show({template:s.template,controller:s.controller,input:{$palette:v,$glyphPalette:u,$useGlyph:n.$eval(r.useGlyph)||false,$disableNone:n.$eval(r.disableNone)||false,$defaultColor:c(p.$viewValue,v),$inputViewValue:p.$viewValue,$extended:m,onColorChange:function e(t,n,i,r){S&&q.cancel(S);C=t?{color:b?i:n,icon:r}:b?i:n;E=i;S=q(function(){w(C,E,p);S=null},300)}},alignTo:i[0],variant:h,closeOnEscape:true,closeOnOutside:true,outsideIgnore:"colorpicker-tooltip",dock:y,autoFocus:false});o.closing.then(function(t){n.onClose&&n.onClose(t);var r;if(t){x=t;r=e(t.target).closest(i[0]).length>0}if(S){q.cancel(S);w(C,E,p);S=null}r||(a=null)});o.closed.then(function(){x&&x.target.classList.contains("color-scale-container")&&(a=null)});n.onOpen&&n.onOpen(o)}t.directive("qvColorPickerCustom",function(){return{require:"?ngModel",scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"="},link:function e(t,i,r,s){t.callback&&(t.callback.close=function(){o&&o.close()});t.$parent&&(t.$parent.onClick=function(){var e=f();p(t,i,r,null,s,e)});function l(){o&&o.close()}n.on("start",l);t.$on("$destroy",function(){o&&a&&a.element===i&&o.close();n.off("start",l)})}}});t.directive("qvColorPickerButton",function(){return{require:"?ngModel",replace:true,scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"="},template:i,link:function e(t,i,r,s){var u=t.$eval(r.palette)||l,h=c(s.$viewValue,u),v=i.find(".qv-color-picker-preview");t.onClick=function(){var e=f();p(t,i,r,v,s,e)};t.callback&&(t.callback.close=function(){o&&o.close()});function m(){o&&o.close()}t.variantClass=r.variant?"lui-button--"+r.variant:"";n.on("start",m);s.$render=function(){if(void 0===s.$viewValue)return;h=c(s.$viewValue,u);d(v,h)};t.$on("$destroy",function(){o&&a&&a.element===i&&o.close();n.off("start",m)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(104)],r=function(e,t){function n(n,i){var r,o,a=e("body").outerHeight();r=i.y+i.height/2-n.height/2;r=r<0?0:r;a-r-n.height<0&&(r=a-n.height);o=i.x+i.width;return new t(o,r,n.width,n.height)}function i(n,i){var r,o,a=e("body").outerWidth();o=i.x+i.width/2-n.width/2;o=o<0?0:o;a-o-n.width<0&&(o=a-n.width);r=i.y+i.height;return new t(o,r,n.width,n.height)}function r(n,i){var r,o,a=e("body").outerHeight();r=i.y+i.height/2-n.height/2;r=r<0?0:r;a-r-n.height<0&&(r=a-n.height);o=i.x-n.width;return new t(o,r,n.width,n.height)}function o(n,i){var r,o,a=e("body").outerWidth();o=i.x+i.width/2-n.width/2;o=o<0?0:o;a-o-n.width<0&&(o=a-n.width);r=i.y-n.height;return new t(o,r,n.width,n.height)}function a(e){var n;var i=window.scrollX?window.scrollX:document.documentElement.scrollLeft?document.documentElement.scrollLeft:0;var r=window.scrollY?window.scrollY:document.documentElement.scrollTop?document.documentElement.scrollTop:0;if(e[0]===window)n=new t(i,r,e.outerWidth(),e.outerHeight());else{var o=e[0].getBoundingClientRect();n=new t(o.left+i,o.top+r,o.width,o.height)}return n}function s(e,t,a){var s,l={top:o,right:n,bottom:i,left:r};s=l[a]||n;return s.call({},e,t)}function l(e){var t="bottom,bottomLeft,bottomRight,centerLeft,center,centerRight,topLeft,top,topRight,topLeft,left,right".split(",");if(-1===t.indexOf(e))throw new Error("Not a valid docking position. Try "+t.join(" ,")+".")}function u(e,t,n){if("right"===e)return t.getRight()-n.getRight();if("left"===e)return n.x-t.x;if("top"===e)return n.y-t.y;if("bottom"===e)return t.getBottom()-n.getBottom();return 0}function c(e){var t={top:"bottom",right:"left",bottom:"top",left:"right"};return t[e]}function d(e){return"flip"===e||"flipfit"===e}function f(e){return"fit"===e||"flipfit"===e}function p(e){var t={top:"vertical",right:"horizontal",bottom:"vertical",left:"horizontal"};return t[e]}function h(e){var t={vertical:["top","bottom"],horizontal:["left","right"]};return t[e]}function v(e){var t={horizontal:"vertical",vertical:"horizontal"};return t[e]}function m(e){var t=e.collision.split(" "),n={horizontal:t[0],vertical:t[1]||t[0]},i=p(e.position),r=v(i);return{flipPrimary:d(n[i]),fitPrimary:f(n[i]),fitSecondary:f(n[r])}}function g(e,t,n){var i,r;for(i=0;i<t.length;i++){r=t[i];if("left"===r&&e.x<n.x){e.x=n.x;break}if("right"===r&&e.getRight()>n.getRight()){e.x=n.getRight()-e.width;break}if("top"===r&&e.y<n.y){e.y=n.y;break}if("bottom"===r&&e.getBottom()>n.getBottom()){e.y=n.getBottom()-e.height;break}}return e}function b(e,t,n,i,r,o){if(!n)return e.map(function(e,n){var i=t[n]||t[0];return{align:e,x:i.x,y:i.y}});var a=t[0].x,s=t[0].y;var l=function e(t){var n=t?t.length/2:0,o=new Array(n),l,u,c,d;for(l=0;l<n;l++){u=t[2*l+1];c=u*a+(1-u)*i;d=u*s+(1-u)*r;o[l]={align:t[2*l],x:c,y:d}}return o};var u=e[0]+(e[1]?"-"+e[1]:"");var c=1,d=.7,f=.5,p=o>.5?0:.5-o,h=o>.5?.5:.7-.4*o;switch(u){case"top":if(a>=i)return l(["top",c,"top",d,"top",f,"right",d,"right",f,"left",f,"left",d,"bottom",p,"bottom",h]);return l(["top",c,"top",d,"top",f,"left",d,"left",f,"right",f,"right",d,"bottom",p,"bottom",h]);case"top-right":return l(["top",c,"top",d,"top",f,"right",d,"right",f,"left",f,"left",d,"bottom",p,"bottom",h]);case"top-left":return l(["top",c,"top",d,"top",f,"left",d,"left",f,"right",f,"right",d,"bottom",p,"bottom",h]);case"bottom":if(a>=i)return l(["bottom",c,"bottom",d,"bottom",f,"right",d,"right",f,"left",f,"left",d,"top",p,"top",h]);return l(["bottom",c,"bottom",d,"bottom",f,"left",d,"left",f,"right",f,"right",d,"top",p,"top",h]);case"bottom-right":return l(["bottom",c,"bottom",d,"bottom",f,"right",d,"right",f,"left",f,"left",d,"top",p,"top",h]);case"bottom-left":return l(["bottom",c,"bottom",d,"bottom",f,"left",d,"left",f,"right",f,"right",d,"top",p,"top",h]);case"left":if(s<=r)return l(["left",c,"left",d,"left",f,"top",d,"top",f,"bottom",f,"bottom",d,"right",f,"right",d]);return l(["left",c,"left",d,"left",f,"bottom",d,"bottom",f,"top",f,"top",d,"right",f,"right",d]);case"left-top":return l(["left",c,"left",d,"left",f,"top",d,"top",f,"bottom",f,"bottom",d,"right",f,"right",d]);case"left-bottom":return l(["left",c,"left",d,"left",f,"bottom",d,"bottom",f,"top",f,"top",d,"right",f,"right",d]);case"right":if(s<=r)return l(["right",c,"right",d,"right",f,"top",d,"top",f,"bottom",f,"bottom",d,"left",f,"left",d]);return l(["right",c,"right",d,"right",f,"bottom",d,"bottom",f,"top",f,"top",d,"left",f,"left",d]);case"right-top":return l(["right",c,"right",d,"right",f,"top",d,"top",f,"bottom",f,"bottom",d,"left",f,"left",d]);case"right-bottom":return l(["right",c,"right",d,"right",f,"bottom",d,"bottom",f,"top",f,"top",d,"left",f,"left",d])}}var y={align:function t(n,i,r){r=r||{position:"right",collision:"none"};r.position=r.position||"right";r.collision=r.collision||"none";if(n&&i){var o=a(e(window)),l=a(n),d=a(i),f=m(r),b=s(l,d,r.position),y;y=function e(t){var n=s(l,d,c(r.position)),i=u(r.position,t,o),a=u(c(r.position),n,o);return a<i};if(f.flipPrimary&&u(r.position,b,o)>0&&y(b)){b=s(l,d,c(r.position));r.position=c(r.position)}f.fitPrimary&&(b=g(b,[r.position],o));f.fitSecondary&&(b=g(b,h(v(p(r.position))),o));r.limits&&b.y<r.limits.top&&(b.y=r.limits.top);n.offset({top:b.y,left:b.x})}return r.position},alignToCoordinate:function t(n,i,r,o,a){l(o);var s,u;o=o||"top";s=function e(t,i,r){var o=i,a=r;switch(t){case"topRight":a=r-n.outerHeight();break;case"top":o=i-n.outerWidth()/2;a=r-n.outerHeight();break;case"topLeft":o=i-n.outerWidth();a=r-n.outerHeight();break;case"right":case"centerRight":a=r-n.outerHeight()/2;break;case"center":o=i-n.outerWidth()/2;a=r-n.outerHeight()/2;break;case"left":case"centerLeft":o=i-n.outerWidth();a=r-n.outerHeight()/2;break;case"bottom":o=i-n.outerWidth()/2;break;case"bottomLeft":o=i-n.outerWidth();break;case"bottomRight":o=i;a=r;break}return{x:o,y:a}};u=s(o,i,r);var c,d={},f={},p,h,v;c=e(window);p=10;f.x=c.outerWidth()-n.outerWidth()-p;d.x=p;f.y=c.outerHeight()-n.outerHeight()-p;d.y=p;var m=function e(t,n){return n[t]>f[t]?n[t]-f[t]:n[t]<d[t]?d[t]-n[t]:0};if(a){h=m("x",u);v=m("y",u);var g=s(a,i,r);if(h>m("x",g)||v>m("y",g)){u=g;o=a}}u.x=Math.max(d.x,Math.min(f.x,u.x));u.y=Math.max(d.y,Math.min(f.y,u.y));n.offset({left:u.x,top:u.y});return o},alignToBestCoordinate:function t(n,i,r,o,s,u,c){var d=e(window);var f=a(d);l(r[0]);i=i instanceof Array?i:[i];var p=i[0].x-f.x,h=i[0].y-f.y;n.offset({left:0,top:0});n.width("auto");n.height("auto");var v=d.outerWidth(),m=d.outerHeight(),g=n.outerWidth(),y=n.outerHeight();var x={},w={};c=void 0===c?5:c;var S=(void 0===u?5:u)+c;w.x=v-g-S;x.x=S;w.y=m-y-S;x.y=S;if(v<g+2*S){g=v-2*S;n.width(g);w.x=x.x}if(m<y+2*S){y=m-2*S;n.height(y);w.y=x.y}r=r||["top"];var C=function e(t,n,i){var r=n,o=i;switch(t){case"topRight":o=i-y;break;case"top":r=n-g/2;o=i-y;break;case"topLeft":r=n-g;o=i-y;break;case"right":case"centerRight":o=i-y/2;break;case"center":r=n-g/2;o=i-y/2;break;case"left":case"centerLeft":r=n-g;o=i-y/2;break;case"bottom":r=n-g/2;break;case"bottomLeft":r=n-g;break;case"bottomRight":r=n;o=i;break}return{x:r,y:o}};var E=function e(t,n){return n[t]>w[t]?n[t]-w[t]:n[t]<x[t]?n[t]-x[t]:0};var q,_,T=p,k=h,O,D,A,I,L,P,M,N,R;if(s){D=o.shape.cx+o.targetToPageTranslation.x-f.x;A=o.shape.cy+o.targetToPageTranslation.y-f.y;I=o.shape.innerRadius;L=o.shape.radius;P=0;if(I>0){P=I/L;D+=P*(p-D);A+=P*(h-A)}}R=b(r,i,s,D,A,P);var F=function e(){for(q=0;q<R.length;q++){_=R[q].align;T=R[q].x-f.x;k=R[q].y-f.y;O=C(_,T,k);M=E("x",O);N=E("y",O);if(0!==M||0!==N)if(0!==N||"top"!==_&&"bottom"!==_){if(0===M&&("left"===_||"right"===_)){O.y-=N;N=0}}else{O.x-=M;M=0}if(0===M&&0===N)return}if(0!==M||0!==N){_=R[0].align;T=R[0].x-f.x;k=R[0].y-f.y;O=C(_,T,k);M=E("x",O);N=E("y",O);O.x-=M;O.y-=N}};F();O&&n.offset({left:O.x+f.x,top:O.y+f.y});return{position:_,x:T+f.x,y:k+f.y}}};y.getScrolledRect=a;return y}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(49)],r=function(e,t){var n=function e(){return t.getFlag("AOSHARE")};var i={alphabetical:0,publishedDate:1};function r(e,t){return e.qData.rank-t.qData.rank}function o(e,t,n){t.aoItems.init(t.AppOverviewState);if(e.is.sheet){e.translations.navigatorHeader="Common.Sheets";n(e,"sheet")&&t.aoItems.initSheet(e,t.commonFunctions.sortArrayByRank)}else if(e.is.story){e.translations.navigatorHeader="Common.Stories";n(e,"story")&&t.aoItems.initStories(e,t.commonFunctions.sortArrayByRank)}else e.is.bookmark&&(e.translations.navigatorHeader="Common.Bookmarks")}function a(e,t){var n=false;"sheet"===t?n=!e.approvedSheets.length&&!e.privateSheets.length:"story"===t&&(n=!e.approvedStories.length&&!e.privateStories.length);return n}function s(t){var i=n();var r={sheets:i?"AppOverview.Content.PublicSheets":"AppOverview.Content.ApprovedSheets",stories:i?"AppOverview.Content.PublicStories":"AppOverview.Content.ApprovedStories"};t.translations.addNew=t.is.sheet?"AppOverview.Toolbar.CreateNewSheet":"AppOverview.Toolbar.CreateNewStory";t.translations.navigatorHeader=t.is.sheet?"Common.Sheets":"Common.Stories";t.translations.approvedHeader=e.get(t.is.sheet?r.sheets:r.stories);t.translations.myWorkHeader=e.get(t.is.sheet?"AppOverview.Content.MySheets":"AppOverview.Content.MyStories");t.translations.myPublishedHeader=e.get(t.is.sheet?"AppOverview.Content.MyPublishedSheets":"AppOverview.Content.MyPublishedStories");t.translations.communityHeader=e.get(t.is.sheet?"AppOverview.Content.CommunitySheets":"AppOverview.Content.CommunityStories");t.translations.sharingHelp=e.get(t.is.sheet?"AppOverview.SharingSheet.Help":"AppOverview.SharingStory.Help");t.translations.sharingHelpDesc=e.get(t.is.sheet?"AppOverview.SharingSheet.Help.Description":"AppOverview.SharingStory.Help.Description");t.translations.numberOfItems=function(n){return e.get(t.is.sheet?"Accessibility.SheetSection.NumberOfSheets":"Accessibility.StorySection.NumberOfStories",n)}}function l(e,t){e.shownav=true;e.navigationmode=t.navigationMode;e.hasData=true;e.addingItem=false;e.is={};e.exp={};e.features={sharing:function e(){return n()}};e.funcs={};e.translations={};e.is.smallAppView=false;e.is.appReadOnly=false;e.is.grid=t.viewMode===t.ViewMode.grid;e.is.navigator=false;e.is.smalldevice=false;e.is.sheet="sheet"===t.navigationMode;e.is.story="story"===t.navigationMode;e.is.bookmark="bookmark"===t.navigationMode;s(e);e.exp.readonly=false;e.exp.sections=[];e.exp.isAscending=true;e.exp.hasBookmarks=false;e.exp.canCreateBookmark=false;e.exp.isOpenedByClick=true;e.approvedSheets=[];e.privateSheets=[];e.myPublishedSheets=[];e.communitySheets=[];e.approvedStories=[];e.privateStories=[];e.myPublishedStories=[];e.communityStories=[]}function u(e,t,n){t.AppOverviewState.setAddingItem(false);t.AppOverviewState.setDuplicatingItem(false);e.is.sheet=n===t.AppOverviewState.NavigationMode.sheet;e.is.story=n===t.AppOverviewState.NavigationMode.story;e.is.bookmark=n===t.AppOverviewState.NavigationMode.bookmark;s(e)}function c(t,n){var i=t.sort(function t(n,i){n=n.qData.labelExpression||n.qData.title;i=i.qData.labelExpression||i.qData.title;return n.localeCompare(i,e.language)});if(n)return i.reverse();return i}function d(t,n,i){var r=t.sort(function t(i,r){if(n){i=i.qMeta[n];r=r.qMeta[n]}return i.localeCompare(r,e.language)});if(i)return r.reverse();return r}function f(e,t,n){var i=e.sort(function e(n,i){if(t){var r=new Date(n.qMeta[t]),o=new Date(i.qMeta[t]);return r<o?1:r>o?-1:0}});if(n)return i.reverse();return i}function p(e,t){var n=new Date(e.qMeta.publishTime);var i=new Date(t.qMeta.publishTime);return n<i?1:n>i?-1:0}function h(e,t){return e.qData.rank-t.qData.rank}function v(t){return function(n,i){if(0===t){n=n.qData.labelExpression||n.qData.title;i=i.qData.labelExpression||i.qData.title;return n.localeCompare(i,e.language)}return p(n,i)}}function m(e){var t=void 0===e?{}:e;var n=t.userId?t.userId:null;var i=t.userDirectory?t.userDirectory:null;return{userId:n,userDirectory:i}}function g(e,t){var n=t.hasOwnProperty("userId")&&t.hasOwnProperty("userDirectory");return n&&t.userId===e.userId&&t.userDirectory===e.userDirectory}function b(e){return!n()&&e.qMeta.published&&!e.qMeta.approved}function y(e){return!e.qMeta.published}function x(e){return e.qMeta.published&&(e.qMeta.approved||n())}function w(e){return function(t){var n=m(t.qMeta.owner);return b(t)&&g(e,n)}}function S(e){return function(t){var n=m(t.qMeta.owner);return b(t)&&!g(e,n)}}return{sortArrayByRank:r,setNewAppOverViewMode:o,hasToGet:a,setDefaultScopeVar:l,setNewScopeValOnNavigationChange:u,SortFilterOptions:i,sortAlphabetically:d,sortSheetsAlphabetically:c,sortByPublishedDate:f,sortPublishedTime:p,sortByRank:h,sortCommunity:v,filterPrivate:y,filterApproved:x,filterMyPublishedCommunity:w,filterCommunity:S}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48)],r=function(e,t){t.directive("qvaApplyStyle",function(){return{restrict:"A",link:function t(n,i,r){n.$watch(r.qvaApplyStyle,function t(n){"string"===e.type(n)&&i.attr("style",n)},false)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};Object.defineProperties(e,{ENTER_BEFORE:{value:0},ENTER_AFTER:{value:1},ENTER_SWAP:{value:2},TYPEFLAG_PLACEHOLDER:{value:16},TYPEFLAG_LOCKED:{value:32}});return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(13)],r=function(e){var t={};t.stripBasePath=function(t){return t.replace(e.rootPath,"").replace(/^\.\.\//i,"/")};t.addBasePath=function(t){return e.rootPath+("/"===t[0]?t.substr(1):t)};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={SPARK:1,XSMALL:3,SMALL:7,MEDIUM:15,FULL:31},t=[[550,450,e.FULL],[400,220,e.MEDIUM],[300,150,e.SMALL],[150,75,e.XSMALL],[0,0,e.SPARK]],n=[[450,e.FULL],[220,e.MEDIUM],[150,e.SMALL],[75,e.XSMALL],[0,e.SPARK]],i=[[550,e.FULL],[400,e.MEDIUM],[300,e.SMALL],[150,e.XSMALL],[0,e.SPARK]],r=t.length;function o(n,i){var o;for(o=0;o<r;++o)if(n>=t[o][0]&&i>=t[o][1])return t[o][2];return e.SPARK}function a(t){var i;for(i=0;i<r;++i)if(t>=n[i][0])return n[i][1];return e.SPARK}function s(t){var n;for(n=0;n<r;++n)if(t>=i[n][0])return i[n][1];return e.SPARK}function l(t){var n=Object.keys(e).filter(function(n){return e[n]===t})[0];return n&&n.toLowerCase()||""}return{LayoutMode:e,getLayoutMode:o,getLayoutModeKey:l,getHorizontalLayoutMode:s,getVerticalLayoutMode:a}}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i,r;!(i=[n(197)],r=function(e){var t=e.get("deviceType",{value:"auto"}).value;return{deviceType:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(94),n(90),n(181),n(50)],r=function(e,t,n,i){var r=47;var o=10;var a=54;return{objIndex:function e(t,i){var r,o;var a=-1;for(r=0;r<t.cells.length;++r){o=t.cells[r];if(n.compareBounds(o.bounds,i.bounds))return r;o.col===i.col&&o.row===i.row&&(a=r)}return a},getObject:function e(t,n,i){var r=this.objIndex(t,n);if(-1===r){if(i)return null;throw new Error("invalid pos")}return t.cells[r]},moveObject:function e(t,i,r){t.col=i.col;t.row=i.row;t.colspan=i.colspan;t.rowspan=i.rowspan;t.bounds=i.bounds?i.bounds:n.getBounds(i,r.columns,r.rows)},setObject:function e(t,n,i,r){var o=this.getObject(t,n,true);var a=o?o.name:null;if(o){o.name=i;o.type=r}else t.cells.push({name:i,type:r,col:n.col,row:n.row,colspan:n.colspan,rowspan:n.rowspan,bounds:n.bounds});return a},splitPos:function e(t,i,r,o){var a=t.bounds||n.getBounds(t,r,o);var s=n.getAligmentToGrid(a,r,o);var l={col:s.col,row:s.row,colspan:s.colspan,rowspan:s.rowspan};var u={col:s.col,row:s.row,colspan:s.colspan,rowspan:s.rowspan};var c=n.splitBounds(a,i,s.colspan,s.rowspan);l.bounds=c.near;u.bounds=c.far;if("left"===i||"right"===i){var d=Math.ceil(t.colspan/2);l.colspan-=d;u.col+=t.colspan-d;u.colspan=d}if("top"===i||"bottom"===i){var f=Math.ceil(t.rowspan/2);l.rowspan-=f;u.row+=t.rowspan-f;u.rowspan=f}if("top"===i||"left"===i){var p=l;l=u;u=p}return{pos1:l,pos2:u}},swapObjects:function e(t,i,r){var o=this.getObject(t,i),a=this.getObject(t,r,true);this.moveObject(o,n.alignToGrid(t,r),t);a&&this.moveObject(a,n.alignToGrid(t,i),t)},splitCell:function e(t,i,r){var o=this.getObject(t,i,false);n.alignToGrid(t,o);if(!o||(o.colspan!==i.colspan||o.rowspan!==i.rowspan)&&!n.compareBounds(o.bounds,i.bounds))return false;var a=this.splitPos(o,r,t.columns,t.rows);delete a.pos1.bounds;delete a.pos2.bounds;this.moveObject(o,a.pos1,t);return a.pos2},ifSplit:function e(t,i,r,o){var a=n.getAligmentToGrid(i.pos.bounds,r,o);if(0===a.rowspan||0===a.colspan)return false;if("vertical"===t){if(i.pos.bounds.height>=2/o*100)return true}else if("horizontal"===t&&i.pos.bounds.width>=2/r*100)return true;return false},findCellForId:function e(t,n){return n.filter(function(e){return e.name===t})[0]},addChildrenToObject:function e(n,i){for(var r=0;r<i.length;r++){var o=i[r];o.qInfo.qId=t.generateId();n.qChildren.push({qChildren:[],qProperty:o})}},updatePermissionStyle:function t(n,r){var o=r||i;!n.hasUpdatePermission&&e.isInEditMode()?n.permissionStyle={overflow:"hidden"}:o.isSmallDevice&&n.mobileGrid&&!n.zoomCell?n.permissionStyle={overflow:"auto"}:n.permissionStyle={overflow:"visible"}},getExtendedSheetSize:function e(t,n){var i=n&&t.layoutOptions&&t.layoutOptions.extendable?a:o;return{height:"calc("+t.height+"% - "+i+"px)"}},getCustomSheetSize:function e(t,n){var i=4,a=5,s=t.pxHeight-o-r-i,l=t.pxWidth-o-i,u=n/2-s/2,c=u>a?"calc(50% - "+s/2+"px)":a+"px";return{height:s+"px",width:l+"px",top:c}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){return{OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM:18,MIN_TABLE_RESIZE_WIDTH:150,TABLE_MINIMIZE_HEIGHT:28}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e="small";var t="LIST";var n={12:"small",15:"medium",18:"large",small:12,medium:15,large:18};var i={width:1280,height:1024};var r={min:{width:300,height:300},max:{width:4e3,height:4e3}};function o(t){e=t}function a(){return e}function s(e){t=e}function l(){return t}function u(e){return n[e]}function c(e){e.pxHeight=e.pxHeight||i.height;var t=e.pxHeight/i.height;return Math.ceil(u(e.gridResolution)*t)}function d(e){e.pxWidth=e.pxWidth||i.width;var t=e.pxWidth/i.width;return Math.ceil(u(e.gridResolution)*t)}function f(e,t){var n=Math.min(r.max.height,e);var i=Math.min(r.max.width,t);n=Math.max(r.min.height,n);i=Math.max(r.min.width,i);return{pxHeight:n,pxWidth:i}}return{setPreferredGridSize:o,getPreferredGridSize:a,setPreferredMobileLayout:s,getPreferredMobileLayout:l,getResolutionFor:u,getCustomRows:c,getCustomCols:d,checkSheetPixelLimits:f}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(92),n(156),n(445),n(332),n(90),n(48),n(498),n(420),n(386),n(669)],r=function(e,t,n,i,r,a,s,l,u){var c;function d(e,t){var i=r.extend(true,{},n,t);i.libraryInfo=e.getLibraryInfo();return i}function f(e){return s.loadExtension(e).then(function(t){return d(e,t)})}a.componentDirective("qvaIncludeObject",{model:"=",ext:"=",options:"="});c=e.extend("ExtensionType",{init:function e(t){var n=t.type;this.type=n;this.path=t.path;this.libraryInfo=i.getLibraryInfo(n);this.components=t.components||[]},getLibraryInfo:function e(){return this.libraryInfo},getIconName:function e(){return this.libraryInfo.icon},getIconChar:function e(){return this.libraryInfo.iconChar||"g"},getIconPath:function e(){return this.libraryInfo.iconPath||"M14.5,9 L13,9 L13,3.3 C13,3.1 12.9,3 12.7,3 L8,3 L8,1.5 C8,0.7 7.3,0 6.5,0 C5.7,0 5,0.7 5,1.5 L5,3 L0.3,3 C0.1,3 0,3.1 0,3.3 L0,9 L1.5,9 C2.3,9 3,9.7 3,10.5 C3,11.3 2.3,12 1.5,12 L0,12 L0,15.7 C0,15.9 0.1,16 0.3,16 L5,16 L5,14.5 C5,13.7 5.7,13 6.5,13 C7.3,13 8,13.7 8,14.5 L8,16 L12.7,16 C12.9,16 13,15.9 13,15.7 L13,12 L14.5,12 C15.3,12 16,11.3 16,10.5 C16,9.7 15.3,9 14.5,9 Z"},getModelCtor:function e(){return f(this).then(function(e){return e.Model})},getInitialProperties:function e(n){var i=this;return f(i).then(function(e){var o=r.extend(true,{qInfo:{qType:i.type},visualization:i.type},e.initialProperties,n);if(e.libraryInfo.isThirdParty){e.libraryInfo.version&&!o.version&&(o.version=e.libraryInfo.version);o.extensionMeta=r.extend(true,{},e.libraryInfo)}return t.mapProperties(e.definition,o,i.type)}).catch(function(){return{qInfo:{qType:i.type},visualization:i.type}})},load:function e(){return f(this).then(function(e){e=r.extend(true,{},e);if(e.View)for(var t in l)if(l.hasOwnProperty(t)&&!o(e.View[t]===l[t]))throw new Error("extension.View property is missing DefaultView "+t);"undefined"===typeof e.View&&(e.View=l);"undefined"===typeof e.controller&&(e.controller=u);return e})},getExtensionType:function e(){return f(this)}});return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(89),n(95)],r=function(e,t,i){var r="webkitAnimationEnd oanimationend msAnimationEnd animationend";function o(e,t,n,i){this.app=e;this.model=t;this.toggled=false;this.element=n;this.options=i;this.sourceClass="qv-view-original";this.tableClass="qv-view-data-table"}o.prototype.getSourceElement=function(){var e;e="string"===typeof this.element?document.getElementById(this.element).querySelector(".qv-object-wrapper"):this.element[0]?this.element[0].querySelector(".qv-object-wrapper"):this.element.querySelector(".qv-object-wrapper");return e};o.prototype.show=function(){var i=this;if(this.showIsAnimating)return t.resolve(i.toggled);this.showIsAnimating=true;var o=n(239);return new o(i.app).visualization.create("table",i.model,{totals:{show:false}}).then(function(e){var n=new t;var r;i.options?i.options.onRendered=function(){n.resolve()}:i.options={onRendered:function e(){n.resolve()}};i.sourceElement=i.getSourceElement();var o=i.sourceElement.parentElement;i.qvis=e;i.originalObjectId=i.model.id;i.tableElement=document.createElement("div");i.tableElement.classList.add(i.tableClass);o.insertBefore(i.tableElement,i.sourceElement);r=e.show(i.tableElement,i.options);return t.all([r,n.promise]).then(function(e){i.scope=e[0]})}).then(function(){var n=new t;i.sourceElement.classList.remove("chart-fade-in");i.sourceElement.classList.add("chart-fade-out");e.element(i.sourceElement).on(r,function(){e.element(i.sourceElement).off();i.sourceElement.classList.add(i.sourceClass);i.tableElement.classList.add("table-fade-in");i.toggled=true;i.showIsAnimating=false;n.resolve(i.toggled)});return n.promise})};o.prototype.getObject=function(){if(this.scope)return this.scope.object};o.prototype.hide=function(){var n=this;var o=new t;if(this.hideIsAnimating)return t.resolve(n.toggled);this.hideIsAnimating=true;n.tableElement.classList.remove("table-fade-in");n.tableElement.classList.add("table-fade-out");e.element(n.tableElement).on(r,function(){e.element(n.tableElement).off();n.sourceElement.classList.remove(n.sourceClass);n.sourceElement.classList.remove("chart-fade-out");n.sourceElement.classList.add("chart-fade-in");n.qvis.close();n.tableElement.parentNode.removeChild(n.tableElement);n.toggled=false;n.hideIsAnimating=false;e.element(n.sourceElement).on(r,function(){i.publish("/ui/object/resize."+n.originalObjectId)});o.resolve(n.toggled)});return o.promise};o.prototype.toggle=function(){return this.toggled?this.hide():this.show()};return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.create=function(e,t){return n(t).then(function(t){return t.createMasterObject(e)})};i.remove=function(e,t){return n(t).then(function(t){return t.destroyObject(e)})};i.get=function(e,t){return n(t).then(function(t){return t.getObject(e)})};i.getList=function(e){return n(e).then(function(e){return e.getMasterObjectListObject()})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(10),n(48),n(97),n(121),n(191),n(150),n(90),n(127),n(99),n(242)],r=function(e,t,n,i,r,a,s,l,u,c){n.directive("ppSortable",[function(){return{scope:"=",link:function t(n,i,r){n.$watch(r.ppSortable,function(t){if(!t)return;var r;t=l.extend({},{handle:"[pp-sortable-handle]",start:function e(t,n){n.item.data("startPos",n.item.index())},scrollSpeed:c.treatAsDesktop()?25:60,distance:c.treatAsDesktop()?10:0,items:"> :not(.locked)",cancel:".locked",update:function e(i,r){var o=r.item.index(),a=r.item.data("startPos");n.$apply(function(){t.onMove(a,o)})},stop:function e(){c.treatAsDesktop()||i.sortable("option","disabled",true)}},t);r=i.closest(".pp-section");r.length&&(t.containment=r);i.sortable(t);c.treatAsDesktop()||i.sortable("option","disabled",true);n.enableTouchDrag=function(){var t;i.sortable("option","disabled",false);t=e.Event(window.event,{type:"mousedown"});t.which=1;t.pageX=window.event.pageX;t.pageY=window.event.pageY;t.target=window.event.target;e.ui.mouse.prototype._touchStart.call(i.data("ui-sortable"),t)}})}}}]);n.directive("ppSlider",[function(){return{require:"?ngModel",link:function e(i,r,o,a){var s=false;i.$watch(o.ppSlider,function(e){if(!e)return;if(e.range){e=l.extend({},{min:0,max:10,step:1,values:a.$modelValue,stop:function e(t,r){n.$apply(i,function(){a.$setViewValue(r.values)})}},e);s||i.$watchCollection(function(){return a.$modelValue},function(e,n){t.equals(e,n)||r.slider("values",e)})}else{e=e.values?l.extend({},{min:0,max:10,step:1,values:a.$modelValue,stop:function e(t,r){n.$apply(i,function(){a.$setViewValue(r.values)})}},e):l.extend({},{min:0,max:10,step:1,value:a.$modelValue,stop:function e(t,r){n.$apply(i,function(){a.$setViewValue(r.value)})}},e);s||i.$watch(function(){return a.$modelValue},function(e,t){e!==t&&(Array.isArray(e)?r.slider("values",e):r.slider("value",e))})}s&&r.slider("destroy");r.slider(e);s=true})}}}]);n.directive("ppPlaceholder",function(){return{link:function e(t,n,i){function r(){var e=t.$eval(i.ppPlaceholder);var r=t.$eval(i.ppPlaceholderSuppressEqual);r&&"="===e[0]&&(e=e.substr(1));n.attr("placeholder",e)}n.on("focus",function(){n.attr("placeholder","")});n.on("blur",function(){r()});t.$watch(i.ppPlaceholder,function(){r()})}}});n.directive("ppHeaderWithSwitch",function(){return{scope:{definition:"=",data:"=",args:"="}}});n.directive("ppAccordion",function(){return{template:"<div ng-transclude></div>",transclude:true,scope:{ppAccordion:"=",definition:"=",args:"="},controller:["$scope","$element","$timeout",function(t,n,r){var o=t.args.cache;var a=null;var s="accordion_path";t.definition.cacheKey&&(s=s+"_"+t.definition.cacheKey);function l(){a=r(function(){n.accordion("refresh");a=null})}function u(e){var n=-1;e=e.split(".")[0];Object.keys(t.definition.items||{}).filter(function(e){var n=t.definition.items[e];return false!==n.show}).forEach(function(t,i){if(t===e){n=i;return false}});return n}this.loadit=function(r){var a=o.get(s),d=void 0!==t.definition.defaultActiveTabIndex?t.definition.defaultActiveTabIndex:-1;a&&(d=u(a));if(r===t.ppAccordion.length-1){n.accordion({header:".pp-section-header",active:d,heightStyle:"fill",animate:!!c.treatAsDesktop()&&"swing",activate:function n(i,r){var a=e(r.newPanel).attr("x-path");o.put(s,a);t.$broadcast("ppAccordionNewPath",a)}});i.on("end",l)}};t.$on("pp-open-path",function(e,t){var i=u(t);i>=0&&n.accordion("option","active",i)});t.$on("$destroy",function(){if(a){r.cancel(a);a=null}i.off("end",l)})}]}});n.directive("ppAccordionItem",function(){return{require:"^ppAccordion",link:function e(t,n,i,r){r.loadit(t.$index)}}});function d(e){if("ValueExpr"===e||"ValueExpression"===e)return a.Modes.NumberOrExpression;return a.Modes.Expression}n.directive("ppInputValidator",["$parse",function(e){return{require:"ngModel",link:function t(n,i,o,s){var u=null,c=n.definition,f=o.expressionType;function p(e,t){if(c&&"function"===typeof c.isExpression)return c.isExpression(e);if(void 0===e)return false;if("always"===c.expression)return true;switch(t){case"StringExpression":return 0===e.indexOf("=");case"ValueExpression":return"string"===typeof e&&0===e.indexOf("=");case"StringExpr":return 0===e.indexOf("=");case"ValueExpr":return true;case"dimension":return true;case"measure":return true;default:return false}}function h(t){o.ppValidationOnResult?e(o.ppValidationOnResult)(n,{isValid:t}):n.invalid=!t}function v(e){h(e.valid)}if(f){var m=n.args?n.args.app:n.app;u=new a.ExpressionValidator(m,d(f));u.Update.bind(v)}function g(e){if("measure"===f)if(""===e)h(true);else{var t=n.args?n.args.handler.getLabels():[];u.validate(e,t)}else if("dimension"===f)if(""===e)h(false);else{e&&"="!==e[0]&&(e="="+l.escapeField(e));u.validate(e)}else u.validate(e)}function b(e){p(e,f)?g(e):h(r.validateType(e,c,n.data,n.args))}n.$on("datachanged",function(){b(s.$modelValue)});n.$on("pp-revalidate",function(){b(s.$modelValue)});n.$watch(function(){return s.$modelValue},function(e){b(e)});n.$on("$destroy",function(){u&&u.Update.unbind(v)})}}}]);function f(e){e=e||"";return"="===e[0]?e:"="+e}n.directive("ppExpressionEditor",["$parse","$timeout",function(n,i){return{link:function r(a,c,p){function h(e,t){if(void 0===e)return false;switch(t){case"StringExpression":return"object"===o(e);case"ValueExpression":return"object"===o(e);case"StringExpr":return"object"===o(e)&&0===e.qv.indexOf("=");case"ValueExpr":return"object"===o(e);case"dimension":return true;case"measure":return true;default:return false}}function v(e){return"'"!==e[0]&&"'"!==e[e.length-1]&&-1===e.indexOf("(")&&-1===e.indexOf(")")&&!l.isNumeric(e)}function m(){var e=n(p.ppExpressionEditor)(a),i=p.expressionType,r=d(i),u=e,c=[];var m=h(e,i);"object"===o(e)&&("StringExpression"===i?e=f(e.qStringExpression.qExpr):"ValueExpression"===i?e=f(e.qValueExpression.qExpr):"StringExpr"===i?e=e.qv:"ValueExpr"===i&&(e=e.qv));if("dimension"===i&&e.length)"="!==e[0]&&(e="="+l.escapeField(e));else if("measure"===i)c=a.args?a.args.handler.getLabels():[];else if(!m&&("StringExpr"===i||"StringExpression"===i)){"StringExpr"===i&&e.qv&&(e=e.qv);e&&v(e)&&(e="='"+e.replace(/'/g,"''")+"'")}s.show({expr:e,title:e?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title",allowEmpty:true,mode:r,labels:c,app:a.args?a.args.app:a.app,stateName:a.args&&a.args.layout?a.args.layout.qStateName:void 0}).then(function(e){if("ValueExpression"===i&&e.length)e={qValueExpression:{qExpr:e}};else if("StringExpression"===i&&e.length)e={qStringExpression:{qExpr:e}};else if("ValueExpr"===i)e={qv:e};else if("StringExpr"===i){"="!==e[0]&&(e="="+e);e={qv:e}}else"dimension"===i&&e.length&&"="!==e[0]&&(e="="+e);if(p.ppExpressionEditorOnApply)n(p.ppExpressionEditorOnApply)(a,{value:e});else if(!t.equals(u,e)){a.value=e;a.change()}},function(){})}c.on("keypress.pp-expression",function(t){13!==t.which&&32!==t.which||e(t.target).trigger("qv-activate")});c.on("qv-activate.pp-expression",function(){var t=null,r;if(p.editorDisabled){t=n(p.editorDisabled)(a);if(t)return}if(u.isInput(document.activeElement)){r=e(document.activeElement);r.on("blur.pp-expression",function(){i(function(){m()});r.off("blur.pp-expression")});r.blur()}else m()});a.$on("$destroy",function(){c.off(".pp-expression")})}}}]);n.directive("ppScrollableAutoContent",function(){var t=".property-content";return{link:function n(i){i.$watch(function(){return i.isAutoChart},function(e){r(e)});function r(n){var i=e(t);i.length&&i.css({"overflow-y":n?"auto":"hidden"})}i.$on("$destroy",function(){r(false)})}}});n.directive("ppDiDraggableHover",function(){var e=".pp-nm-di__header",t="hovered";return{link:function n(i,r){var o=r.closest(e);if(!o.length)return;r.hover(function(){o.addClass(t)},function(){o.removeClass(t)})}}});n.componentDirective("includePpComponent",{definition:"=",data:"=",args:"="});return{}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){var t=/^[^\\/:*\t?"<>|]+$/,n=true;e.length&&(n=t.test(e));return n}function t(e){return 0===e.length||0===e.replace(/\n|\t|\s|\u200B|\uFEFF|\xA0/g,"").length}return{allowedChars:e,emptyTitle:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(89),n(91)],r=function(e,t,n){return{show:function i(r){var o=new t;e.getService("qvConfirmDialog").show({title:r.header?n.get(r.header):null,message:n.get(r.text),icon:void 0!==r.icon?r.icon:"cogwheel",okLabel:r.confirm?n.get(r.confirm):null}).closed.then(function(e){e?o.resolve():o.reject()});return o.promise}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(91),n(359),n(102)],r=function(e,t,n,i){var r=[],o={},a="";var s=[{id:"chart",name:"Widget.Type.chart",icon:"line-chart"},{id:"table",name:"Widget.Type.table",icon:"table"},{id:"kpi",name:"Widget.Type.kpi",icon:"kpi"},{id:"navigation",name:"Widget.Type.navigation",icon:"compass"},{id:"other",name:"Widget.Type.other"}];function l(e){var t=null;r.forEach(function(n,i){e.id===n.id&&(t=i)});null===t?r.push(e):r[t]=e;o[e.id]=e}var u=function e(t,n,i,r,o,a,s,l,u){this._version=0;a||(a={});Object.defineProperties(this,{libid:{value:t},id:{value:n},name:{value:i,writable:true},description:{value:r,writable:true},author:{value:o,writable:true},meta:{value:a,writable:true},dummy:{value:true===u?"true":null},html:{get:function e(){return this._html},set:function e(t){this._html=t;this._version++}},css:{get:function e(){return this._css},set:function e(t){this._css=t;this._version++}},properties:{value:s,writable:true},dependencies:{value:l,writable:true},version:{get:function e(){return this._version}},isLoaded:{get:function e(){return void 0!==this._html}}})};u.getIcon=function(e){var t;s.forEach(function(n){n.id===e&&n.icon&&(t=n.icon)});return t||"widget"};u.prototype.load=function(e){this.loadDfd&&!e||(this.loadDfd=n.loadWidget(this));return this.loadDfd};u.prototype.save=function(){var e=this;return n.saveTemplate(this).then(function(){u.Updated.emit(r);return e})};u.prototype.copy=function(e){return u.add({libid:e.libid||this.libid,id:e.id||this.id,name:e.name||this.name,description:e.description||""===e.description?e.description:this.description,author:e.author||this.author,meta:e.meta||this.meta,html:e.html||this.html,css:e.css||this.css,properties:e.properties||this.properties})};u.prototype.delete=function(){var e=n.deleteTemplate(this),t=this;r.forEach(function(e,n){e.id===t.id&&r.splice(n,1)});o&&o[t.id]&&delete o[t.id];e.then(function(){u.Updated.emit(r)});return e};u.prototype.move=function(e){var t=this;var i=this.copy({libid:e});return i.save().then(function(){return t.delete().then(function(){return n.reloadCachedLibraries().then(function(){return i})})})};u.getTemplateListFromLibrary=function(t){var i=[];var o=new e;r.length=0;n.getWidgetListFromLibrary(t).then(function(t){t.forEach(function(e){i.push(u.get(e.id,true,e.libid))});e.all(i).then(function(){o.resolve(r)})});return o.promise};u.getTemplateList=function(t){var i=[];if(!a||t){a=new e;n.getWidgetList(t).then(function(t){t.forEach(function(e){i.push(u.get(e.id,true,e.libid))});e.all(i).then(function(){a.resolve(r)})})}return a.promise};u.getLoaded=function(e){return o[e]};u.resetWidgetsProperties=function(e){o[e].propertiesObj&&o[e].propertiesObj.lastSavedProperties&&(o[e].properties=o[e].propertiesObj.lastSavedProperties)};u.get=function(i,r,a){if(i.indexOf("/")>-1){var s=i.split("/");a=s[0];i=s[1]}var c=new e;if(o[i]){var d=o[i];d.isLoaded||r?c.resolve(d):d.load().then(function(){c.resolve(d)},function(e){c.reject(e)})}else{if(!a){var f=n.getLibForId(i);a=f?f.id:void 0}a?n.getTemplate(a,i).then(function(e){e.properties||(e.properties={});var n=new u(a,i,e.name||t.get("Widget.NoName"),e.description||"",e.author||"",e.meta||{},e.properties,e.dependencies||{});n.lastModified=e.lastModified;l(n);n.isLoaded||r?c.resolve(n):n.load().then(function(){c.resolve(n)},function(e){n.err=e;c.resolve(n)})}).catch(function(){var e=new u(a,i);c.resolve(e)}):c.reject(t.get("Error.NoLibraryForWidget",i))}return c.promise};u.add=function(e){if(!e.id||!e.libid)return false;var t=new u(e.libid,e.id,e.name||"",e.description||"",e.author||"",e.meta,e.properties,e.dependencies||{},e.dummy);t.html=e.html||"";t.css=e.css||"";l(t);n.addTemplate(t);u.Updated.emit(r);return t};i.create(u,"Updated");u.types=s;return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(813),n(320),n(360),n(361)],r=function(){}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96),n(816)],r=function(e,t){var n;function i(t,n,i){return e.Event(t,{pageX:i.pagePoints[0].x,pageY:i.pagePoints[0].y,ctrlKey:n.ctrlKey,metaKey:n.metaKey,shiftKey:n.shiftKey,originalEvent:n,gestureData:i})}t(document.body).tap({options:{preventDefault:false},start:function t(i){n=e(i.target)},end:function e(t,r){var o=i("qv-activate",t,r);0===n.closest(":disabled").length&&n.trigger(o);n=null}});var r=t.Gesture.augment(function(e){this.defaults={precedence:6};this.start=function(e,t){this.binder.start.call(this,e,t)};function t(){e.apply(this,arguments)}return t});t.gestures.add("press",r);t(document.body).press({start:function t(n,r){var o=i("qv-press",n,r);e(n.target).trigger(o)}});e.addOutsideEvent("qv-press","qv-outside","touchstart","touchend")}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(139),n(125),n(99),n(130),n(845),n(148),n(161),n(91),n(218)],r=function(e,t,n,i,r,o,a,s,l){var u=100;function c(e,n){if(""===n)return e;return e.filter(function(e){if("undefined"===typeof e.value)return false;return t.string(e.value.toLowerCase()).indexOf(t.string(n.toLowerCase()))>-1})}var d={template:o,controller:["$scope",function(t){t.search={term:""};t.isDirectDiscoveryField=a.isDirectDiscoveryField;t.getDirectDiscoveryTypeTranslationKey=a.getTypeTranslationKey;t.autoFocus=i.treatAsDesktop();t.position||(t.position="right");t.onEscape=function(e){if(""!==t.search.term){e.stopPropagation();t.search.term=""}else t.close()};t.onEnter=function(e){if(""!==t.search.term){e.stopPropagation();t.addFieldDimension({value:t.search.term})}else t.close()};t.getFieldDisplayName=function(e){return""===t.search.term?e.label:s.trimAutoCalendarName(e.value)};var o=null;t.$watch("search.term",function(i){function a(){var e=c(o.fields,i);var r=c(o.dimensions,i);var a=c(o.activeDimensions,i);if(r.length+a.length>u){r=n.limit(r,Math.max(u-a.length,0));e=[]}else e.length+r.length+a.length>u&&(e=n.limit(e,Math.max(u-r.length-a.length,0)));t.fields=e;t.dimensions=r;t.activeDimensions=a}o?a():e.all({fields:r.getSortedFields(t.app),dimensions:r.getSortedDimensions(t.app)}).then(function(e){var n=e.fields.map(function(e){var t=e.isDerived&&""===i?e.qName.substring(e.qName.lastIndexOf(".")+1,e.qName.length):e.qName;return{toolTip:e.qName,label:t,value:e.qName,trimmedValue:e.displayName,qTags:e.qTags,isDerived:e.isDerived,isDateField:e.isDateField,isGeoField:e.isGeoField,activeDimensionIndex:-1}});var r=e.dimensions.map(function(e){return{label:e.qData.title,value:e.qData.title,libraryId:e.qInfo.qId,isDrillDown:"H"===e.qData.grouping,activeDimensionIndex:-1}});var s=[];t.activeDimensions&&t.activeDimensions.length&&t.activeDimensions.forEach(function(e,t){var i={};if(e.qLibraryId){r.forEach(function(t){if(t.libraryId===e.qLibraryId){i.label=t.label;i.value=t.value}});i.libraryId=e.libraryId}else n.forEach(function(t){if(t.value===e.qDef.qFieldDefs[0]){i.label=t.label;i.value=t.value}});i.translatedTitle=l.get("properties.colorBy.currentDimension",t+1);i.activeDimensionIndex=t;s.push(i)});o={fields:n,dimensions:r,activeDimensions:s};a()})})}],scope:{alignTo:"=",app:"=",addFieldDimension:"=",addLibraryDimension:"=",qvaOutsideIgnoreFor:"=",close:"=",position:"=",allowExpressionEditor:"@",selectColorByDimIndex:"="}};return d}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=[{resource:"sheet",canCreate:true},{resource:"bookmark",canCreate:true},{resource:"story",canCreate:true},{resource:"searchhistory",canCreate:true},{resource:"dimension",canCreate:true},{resource:"measure",canCreate:true},{resource:"masterobject",canCreate:true},{resource:"snapshot",canCreate:true}];var t=true;function n(e,n){e.length||(e=["update","publish","export","exportdata","changeowner","delete"]);t&&(e=[]);n=n||{};n.update=-1!==e.indexOf("update");n.publish=-1!==e.indexOf("publish");n.export=-1!==e.indexOf("export");n.exportData=-1!==e.indexOf("exportdata");n.changeOwner=-1!==e.indexOf("changeowner");n.remove=-1!==e.indexOf("delete");return n}function i(e,n){n=n||{};for(var i in n)delete n[i];if(t)return n;e.forEach(function(e){e.canCreate&&(n["create"+e.resource[0].toUpperCase()+e.resource.substring(1)]=true)});return n}function r(r,o){var a={};r.permissions||Object.defineProperty(r,"permissions",{configurable:false,enumerable:false,get:function s(){if(r){if(o){t=r.qReadOnly;i(r.create||e,a)}n(r.privileges||r.qMeta&&r.qMeta.privileges||[],a)}return a}});return r}return{mapToLayout:r,parse:n,parseCreate:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){!function(t,n){e.exports=n()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=166)}([function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";function i(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function r(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===a.indexOf(t))throw new o('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=i(t.styleAliases||null),-1===s.indexOf(this.kind))throw new o('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var o=n(41),a=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],s=["scalar","sequence","mapping"];e.exports=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var i=n(75)("wks"),r=n(47),o=n(2).Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},function(e,t,n){var i=n(2),r=n(0),o=n(19),a=n(15),s=n(17),l=function(e,t,n){var u,c,d,f=e&l.F,p=e&l.G,h=e&l.S,v=e&l.P,m=e&l.B,g=e&l.W,b=p?r:r[t]||(r[t]={}),y=b.prototype,x=p?i:h?i[t]:(i[t]||{}).prototype;p&&(n=t);for(u in n)(c=!f&&x&&void 0!==x[u])&&s(b,u)||(d=c?x[u]:n[u],b[u]=p&&"function"!=typeof x[u]?n[u]:m&&c?o(d,i):g&&x[u]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):v&&"function"==typeof d?o(Function.call,d):d,v&&((b.virtual||(b.virtual={}))[u]=d,e&l.R&&y&&!y[u]&&a(y,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var i=n(8),r=n(112),o=n(70),a=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(5);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var i=n(116),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){e.exports={default:n(264),__esModule:!0}},function(e,t,n){e.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){e.exports={default:n(168),__esModule:!0}},function(e,t,n){var i=n(7),r=n(30);e.exports=n(12)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(270),o=i(r),a=n(272),s=i(a),l="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===l(o.default)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":l(e)}},function(e,t,n){var i=n(29);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){function i(e,t){var n=o(e,t);return r(n)?n:void 0}var r=n(184),o=n(189);e.exports=i},function(e,t,n){function i(e){return null==e?void 0===e?l:s:u&&u in Object(e)?o(e):a(e)}var r=n(23),o=n(185),a=n(186),s="[object Null]",l="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=i},function(e,t,n){var i=n(71),r=n(72);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(9),r=i.Symbol;e.exports=r},function(e,t,n){function i(e){return a(e)?r(e):o(e)}var r=n(120),o=n(208),a=n(36);e.exports=i},function(e,t){e.exports={}},function(e,t,n){"use strict";function i(e){return void 0===e||null===e}function r(e){return"object"==typeof e&&null!==e}function o(e){return Array.isArray(e)?e:i(e)?[]:[e]}function a(e,t){var n,i,r,o;if(t)for(o=Object.keys(t),n=0,i=o.length;n<i;n+=1)r=o[n],e[r]=t[r];return e}function s(e,t){var n,i="";for(n=0;n<t;n+=1)i+=e;return i}function l(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}e.exports.isNothing=i,e.exports.isObject=r,e.exports.toArray=o,e.exports.repeat=s,e.exports.isNegativeZero=l,e.exports.extend=a},function(e,t,n){"use strict";function i(e,t,n){var r=[];return e.include.forEach(function(e){n=i(e,t,n)}),e[t].forEach(function(e){n.forEach(function(t,n){t.tag===e.tag&&t.kind===e.kind&&r.push(n)}),n.push(e)}),n.filter(function(e,t){return-1===r.indexOf(t)})}function r(){function e(e){i[e.kind][e.tag]=i.fallback[e.tag]=e}var t,n,i={scalar:{},sequence:{},mapping:{},fallback:{}};for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(e);return i}function o(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new s("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=i(this,"implicit",[]),this.compiledExplicit=i(this,"explicit",[]),this.compiledTypeMap=r(this.compiledImplicit,this.compiledExplicit)}var a=n(26),s=n(41),l=n(1);o.DEFAULT=null,o.create=function(){var e,t;switch(arguments.length){case 1:e=o.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new s("Wrong number of arguments for Schema.create function")}if(e=a.toArray(e),t=a.toArray(t),!e.every(function(e){return e instanceof o}))throw new s("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof l}))throw new s("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new o({include:e,explicit:t})},e.exports=o},function(e,t,n){"use strict";t.__esModule=!0;var i=n(14),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(114),r=n(76);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,n){var i=n(72);e.exports=function(e){return Object(i(e))}},function(e,t,n){function i(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}var r=n(54),o=n(118);e.exports=i},function(e,t,n){function i(e){return null!=e&&o(e.length)&&!r(e)}var r=n(115),o=n(84);e.exports=i},function(e,t,n){n(254);for(var i=n(2),r=n(15),o=n(25),a=n(3)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=i[u],d=c&&c.prototype;d&&!d[a]&&r(d,a,u),o[u]=o.Array}},function(e,t,n){var i=n(7).f,r=n(17),o=n(3)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var i=n(260)(!0);n(135)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){e.exports=n(268)},function(e,t,n){"use strict";function i(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},e.exports=i},function(e,t,n){"use strict";var i=n(27);e.exports=new i({include:[n(149)],implicit:[n(302),n(303)],explicit:[n(304),n(308),n(309),n(310)]})},function(e,t,n){"use strict";(function(e){function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,n,i):"string"==typeof t?c(e,t,n):p(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,i){return s(t),t<=0?r(e,t):void 0!==n?"string"==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}function u(e,t){if(s(t),e=r(e,t<0?0:0|h(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(t,n);e=r(e,i);var a=e.write(t,n);return a!==i&&(e=e.slice(0,a)),e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=r(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=d(e,t),e}function p(e,t){if(o.isBuffer(t)){var n=0|h(t.length);return e=r(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?r(e,0):d(e,t);if("Buffer"===t.type&&Z(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),o.alloc(+e)}function m(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(i)return z(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function b(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function y(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=o.from(t,i)),o.isBuffer(t))return 0===t.length?-1:x(e,t,n,i,r);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,i,r){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}var u;if(r){var c=-1;for(u=n;u<s;u++)if(o(e,u)===o(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*a}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var d=!0,f=0;f<l;f++)if(o(e,u+f)!==o(t,f)){d=!1;break}if(d)return u}return-1}function w(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function S(e,t,n,i){return Q(z(t,e.length-n),e,n,i)}function C(e,t,n,i){return Q($(t),e,n,i)}function E(e,t,n,i){return C(e,t,n,i)}function q(e,t,n,i){return Q(W(t),e,n,i)}function _(e,t,n,i){return Q(G(t,e.length-n),e,n,i)}function T(e,t,n){return 0===t&&n===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o=e[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r+s<=n){var l,u,c,d;switch(s){case 1:o<128&&(a=o);break;case 2:l=e[r+1],128==(192&l)&&(d=(31&o)<<6|63&l)>127&&(a=d);break;case 3:l=e[r+1],u=e[r+2],128==(192&l)&&128==(192&u)&&(d=(15&o)<<12|(63&l)<<6|63&u)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:l=e[r+1],u=e[r+2],c=e[r+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(d=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=s}return O(i)}function O(e){var t=e.length;if(t<=J)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=J));return n}function D(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function A(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function I(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=U(e[o]);return r}function L(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,i,r,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function N(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function R(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function F(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,i,r){return r||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,n,i,23,4),n+4}function B(e,t,n,i,r){return r||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,n,i,52,8),n+8}function V(e){if(e=H(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function W(e){return Y.toByteArray(V(e))}function Q(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function K(e){return e!==e}var Y=n(305),X=n(306),Z=n(307);t.Buffer=o,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return l(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=o.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,i,r){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var a=r-i,s=n-t,l=Math.min(a,s),u=this.slice(i,r),c=e.slice(t,n),d=0;d<l;++d)if(u[d]!==c[d]){a=u[d],s=c[d];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},o.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return q(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i;if(o.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=o.prototype;else{var r=t-e;i=new o(r,void 0);for(var a=0;a<r;++a)i[a]=this[a+e]}return i},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},o.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),X.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),X.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),X.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),X.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:z(new o(e,i).toString()),l=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(80))},function(e,t,n){function i(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var r=n(60),o=1/0;e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.openapi;return!!t&&(0,x.default)(t,"3")}function o(e){var t=e.swagger;return!!t&&(0,x.default)(t,"2")}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.v2OperationIdCompatibilityMode;return e&&"object"===(void 0===e?"undefined":(0,m.default)(e))?(e.operationId||"").replace(/\s/g,"").length?S(e.operationId):s(t,n,{v2OperationIdCompatibilityMode:r}):null}function s(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).v2OperationIdCompatibilityMode){var n=(t.toLowerCase()+"_"+e).replace(/[\s!@#$%^&*()_+=[{\]};:<>|.\/?,\\'""-]/g,"_");return n=n||e.substring(1)+"_"+t,n.replace(/((_){2,})/g,"_").replace(/^(_)*/g,"").replace(/([_])*$/g,"")}return""+w(t)+S(e)}function l(e,t){return w(t)+"-"+e}function u(e,t){return e&&e.paths?c(e,function(e){var n=e.pathName,i=e.method,r=e.operation;if(!r||"object"!==(void 0===r?"undefined":(0,m.default)(r)))return!1;var o=r.operationId;return[a(r,n,i),l(n,i),o].some(function(e){return e&&e===t})}):null}function c(e,t){return d(e,t,!0)||null}function d(e,t,n){if(!e||"object"!==(void 0===e?"undefined":(0,m.default)(e))||!e.paths||"object"!==(0,m.default)(e.paths))return null;var i=e.paths;for(var r in i)for(var o in i[r])if("PARAMETERS"!==o.toUpperCase()){var a=i[r][o];if(a&&"object"===(void 0===a?"undefined":(0,m.default)(a))){var s={spec:e,pathName:r,method:o.toUpperCase(),operation:a},l=t(s);if(n&&l)return s}}}function f(e){var t=e.spec,n=t.paths,i={};if(!n||t.$$normalized)return e;for(var r in n){var o=n[r];if((0,b.default)(o)){var s=o.parameters;for(var l in o)(function(e){var n=o[e];if(!(0,b.default)(n))return"continue";var l=a(n,r,e);if(l){i[l]?i[l].push(n):i[l]=[n];var u=i[l];if(u.length>1)u.forEach(function(e,t){e.__originalOperationId=e.__originalOperationId||e.operationId,e.operationId=""+l+(t+1)});else if(void 0!==n.operationId){var c=u[0];c.__originalOperationId=c.__originalOperationId||n.operationId,c.operationId=l}}if("parameters"!==e){var d=[],f={};for(var p in t)"produces"!==p&&"consumes"!==p&&"security"!==p||(f[p]=t[p],d.push(f));if(s&&(f.parameters=s,d.push(f)),d.length){var v=!0,m=!1,g=void 0;try{for(var y,x=(0,h.default)(d);!(v=(y=x.next()).done);v=!0){var w=y.value;for(var S in w)if(n[S]){if("parameters"===S){var C=!0,E=!1,q=void 0;try{for(var _,T=(0,h.default)(w[S]);!(C=(_=T.next()).done);C=!0)!function(){var e=_.value;n[S].some(function(t){return t.name&&t.name===e.name||t.$ref&&t.$ref===e.$ref||t.$$ref&&t.$$ref===e.$$ref||t===e})||n[S].push(e)}()}catch(e){E=!0,q=e}finally{try{!C&&T.return&&T.return()}finally{if(E)throw q}}}}else n[S]=w[S]}}catch(e){m=!0,g=e}finally{try{!v&&x.return&&x.return()}finally{if(m)throw g}}}}})(l)}}return t.$$normalized=!0,e}Object.defineProperty(t,"__esModule",{value:!0});var p=n(96),h=i(p),v=n(18),m=i(v);t.isOAS3=r,t.isSwagger2=o,t.opId=a,t.idFromPathMethod=s,t.legacyIdFromPathMethod=l,t.getOperationRaw=u,t.findOperation=c,t.eachOperation=d,t.normalizeSwagger=f;var g=n(10),b=i(g),y=n(131),x=i(y),w=function(e){return String.prototype.toLowerCase.call(e)},S=function(e){return e.replace(/[^\w]/gi,"_")}},function(e,t,n){var i=n(73),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(174),o=n(175),a=n(176),s=n(177),l=n(178);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=l,e.exports=i},function(e,t,n){function i(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=n(51);e.exports=i},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){var i=n(20),r=i(Object,"create");e.exports=r},function(e,t,n){function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=n(198);e.exports=i},function(e,t,n){function i(e,t,n){var i=e[t];s.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}var r=n(118),o=n(51),a=Object.prototype,s=a.hasOwnProperty;e.exports=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function n(e,t){var n=typeof e;return!!(t=null==t?i:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i)}var i=Object.prototype;e.exports=n},function(e,t,n){var i=n(219),r=n(79),o=n(220),a=n(221),s=n(222),l=n(21),u=n(117),c=u(i),d=u(r),f=u(o),p=u(a),h=u(s),v=l;(i&&"[object DataView]"!=v(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=v(new r)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?u(n):"";if(i)switch(i){case c:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){var i=n(54),r=n(35),o=n(235),a=n(36),s=n(57),l=n(24),u=Object.prototype,c=u.hasOwnProperty,d=o(function(e,t){if(s(t)||a(t))return void r(t,l(t),e);for(var n in t)c.call(t,n)&&i(e,n,t[n])});e.exports=d},function(e,t,n){function i(e){return"symbol"==typeof e||o(e)&&r(e)==a}var r=n(21),o=n(13),a="[object Symbol]";e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return t&&(0===t.indexOf("application/json")||t.indexOf("+json")>0)?JSON.parse(e):T.default.safeLoad(e)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.loadSpec,o=void 0!==i&&i,s={ok:e.ok,url:e.url||t,status:e.status,statusText:e.statusText,headers:a(e.headers)},l=s.headers["content-type"],u=o||A(l);return(u?e.text:e.blob||e.buffer).call(e).then(function(e){if(s.text=e,s.data=e,u)try{var t=r(e,l);s.body=t,s.obj=t}catch(e){s.parseError=e}return s})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return"function"==typeof e.forEach?(e.forEach(function(e,n){void 0!==t[n]?(t[n]=Array.isArray(t[n])?t[n]:[t[n]],t[n].push(e)):t[n]=e}),t):t}function s(e,t){return t||"undefined"==typeof navigator||(t=navigator),t&&"ReactNative"===t.product?!(!e||"object"!==(void 0===e?"undefined":(0,w.default)(e))||"string"!=typeof e.uri):"undefined"!=typeof File?e instanceof File:null!==e&&"object"===(void 0===e?"undefined":(0,w.default)(e))&&"function"==typeof e.pipe}function l(e,t){var n=e.collectionFormat,i=e.allowEmptyValue,r="object"===(void 0===e?"undefined":(0,w.default)(e))?e.value:e,o={csv:",",ssv:"%20",tsv:"%09",pipes:"|"};if(void 0===r&&i)return"";if(s(r)||"boolean"==typeof r)return r;var a=encodeURIComponent;return t&&(a=(0,O.default)(r)?function(e){return e}:function(e){return(0,g.default)(e)}),"object"!==(void 0===r?"undefined":(0,w.default)(r))||Array.isArray(r)?Array.isArray(r)?Array.isArray(r)&&!n?r.map(a).join(","):"multi"===n?r.map(a):r.map(a).join(o[n]):a(r):""}function u(e){var t=(0,v.default)(e).reduce(function(t,n){var i=e[n],r=!!i.skipEncoding,o=r?n:encodeURIComponent(n),a=function(e){return e&&"object"===(void 0===e?"undefined":(0,w.default)(e))}(i)&&!Array.isArray(i);return t[o]=l(a?i:{value:i},r),t},{});return q.default.stringify(t,{encode:!1,indices:!1})||""}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,i=void 0===t?"":t,r=e.query,o=e.form;if(o){var a=(0,v.default)(o).some(function(e){return s(o[e].value)}),c=e.headers["content-type"]||e.headers["Content-Type"];if(a||/multipart\/form-data/i.test(c)){var d=n(316);e.body=new d,(0,v.default)(o).forEach(function(t){e.body.append(t,l(o[t],!0))})}else e.body=u(o);delete e.form}if(r){var f=i.split("?"),h=(0,p.default)(f,2),m=h[0],g=h[1],b="";if(g){var y=q.default.parse(g);(0,v.default)(r).forEach(function(e){return delete y[e]}),b=q.default.stringify(y,{encode:!0})}var x=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.filter(function(e){return e}).join("&");return i?"?"+i:""}(b,u(r));e.url=m+x,delete e.query}return e}function d(e,t,n){return n=n||function(e){return e},t=t||function(e){return e},function(i){return"string"==typeof i&&(i={url:i}),D.mergeInQueryOrForm(i),i=t(i),n(e(i))}}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldDownloadAsText=t.self=void 0;var f=n(251),p=i(f),h=n(11),v=i(h),m=n(62),g=i(m),b=n(40),y=i(b),x=n(18),w=i(x),S=n(101),C=i(S);t.serializeRes=o,t.serializeHeaders=a,t.isFile=s,t.encodeFormOrQuery=u,t.mergeInQueryOrForm=c,t.makeHttp=d,n(288);var E=n(289),q=i(E),_=n(148),T=i(_),k=n(315),O=i(k),D=t.self={serializeRes:o,mergeInQueryOrForm:c};t.default=function(){function e(e){return t.apply(this,arguments)}var t=(0,C.default)(y.default.mark(function e(t){var n,i,r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===(void 0===t?"undefined":(0,w.default)(t))&&(a=t,t=a.url),a.headers=a.headers||{},D.mergeInQueryOrForm(a),!a.requestInterceptor){e.next=10;break}return e.next=6,a.requestInterceptor(a);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=a;case 9:a=e.t0;case 10:return n=a.headers["content-type"]||a.headers["Content-Type"],/multipart\/form-data/i.test(n)&&(delete a.headers["content-type"],delete a.headers["Content-Type"]),i=void 0,e.prev=13,e.next=16,(a.userFetch||fetch)(a.url,a);case 16:return i=e.sent,e.next=19,D.serializeRes(i,t,a);case 19:if(i=e.sent,!a.responseInterceptor){e.next=27;break}return e.next=23,a.responseInterceptor(i);case 23:if(e.t1=e.sent,e.t1){e.next=26;break}e.t1=i;case 26:i=e.t1;case 27:e.next=37;break;case 29:if(e.prev=29,e.t2=e.catch(13),i){e.next=33;break}throw e.t2;case 33:throw r=new Error(i.statusText),r.statusCode=r.status=i.status,r.responseError=e.t2,r;case 37:if(i.ok){e.next=42;break}throw o=new Error(i.statusText),o.statusCode=o.status=i.status,o.response=i,o;case 42:return e.abrupt("return",i);case 43:case"end":return e.stop()}},e,this,[[13,29]])}));return e}();var A=t.shouldDownloadAsText=function(){return/(json|xml|yaml|text)\b/.test(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},function(e,t,n){e.exports={default:n(267),__esModule:!0}},function(e,t,n){var i=n(47)("meta"),r=n(5),o=n(17),a=n(7).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(16)(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,i,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[i].i},f=function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[i].w},p=function(e){return u&&h.NEED&&l(e)&&!o(e,i)&&c(e),e},h=e.exports={KEY:i,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},function(e,t,n){var i=n(19),r=n(139),o=n(140),a=n(8),s=n(46),l=n(97),u={},c={},t=e.exports=function(e,t,n,d,f){var p,h,v,m,g=f?function(){return e}:l(e),b=i(n,d,t?2:1),y=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=s(e.length);p>y;y++)if((m=t?b(a(h=e[y])[0],h[1]):b(e[y]))===u||m===c)return m}else for(v=g.call(e);!(h=v.next()).done;)if((m=r(v,b,h.value,t))===u||m===c)return m};t.BREAK=u,t.RETURN=c},function(e,t,n){"use strict";var i=n(27);e.exports=i.DEFAULT=new i({include:[n(42)],explicit:[n(311),n(312),n(313)]})},function(e,t,n){function i(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}var r=n(107);e.exports=i},function(e,t,n){function i(e,t){return r(e)?e:o(e,t)?[e]:a(s(e))}var r=n(6),o=n(108),a=n(339),s=n(134);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){if(n=n||{},t=(0,U.default)({},t,{path:t.path&&o(t.path)}),"merge"===t.op){var i=L(e,t.path);(0,U.default)(i,t.value),$.default.applyPatch(e,[s(t.path,i)])}else if("mergeDeep"===t.op){var r=L(e,t.path);for(var a in t.value){var l=t.value[a],u=Array.isArray(l);if(u){var c=r[a]||[];r[a]=c.concat(l)}else if(C(l)&&!u){var d=(0,U.default)({},r[a]);for(var f in l){if(Object.prototype.hasOwnProperty.call(d,f)){d=(0,K.default)((0,X.default)({},d),l);break}(0,U.default)(d,(0,V.default)({},f,l[f]))}r[a]=d}else r[a]=l}}else if("add"===t.op&&""===t.path&&C(t.value)){var p=(0,j.default)(t.value).reduce(function(e,n){return e.push({op:"add",path:"/"+o(n),value:t.value[n]}),e},[]);$.default.applyPatch(e,p)}else if("replace"===t.op&&""===t.path){var h=t.value;n.allowMetaPatches&&t.meta&&D(t)&&(Array.isArray(t.value)||C(t.value))&&(h=(0,U.default)({},h,t.meta)),e=h}else if($.default.applyPatch(e,[t]),n.allowMetaPatches&&t.meta&&D(t)&&(Array.isArray(t.value)||C(t.value))){var v=L(e,t.path),m=(0,U.default)({},v,t.meta);$.default.applyPatch(e,[s(t.path,m)])}return e}function o(e){return Array.isArray(e)?e.length<1?"":"/"+e.map(function(e){return(e+"").replace(/~/g,"~0").replace(/\//g,"~1")}).join("/"):e}function a(e,t){return{op:"add",path:e,value:t}}function s(e,t,n){return{op:"replace",path:e,value:t,meta:n}}function l(e,t){return{op:"remove",path:e}}function u(e,t){return{type:"mutation",op:"merge",path:e,value:t}}function c(e,t){return{type:"mutation",op:"mergeDeep",path:e,value:t}}function d(e,t){return{type:"context",path:e,value:t}}function f(e,t){try{return h(e,m,t)}catch(e){return e}}function p(e,t){try{return h(e,v,t)}catch(e){return e}}function h(e,t,n){return S(w(e.filter(D).map(function(e){return t(e.value,n,e.path)})||[]))}function v(e,t,n){return n=n||[],Array.isArray(e)?e.map(function(e,i){return v(e,t,n.concat(i))}):C(e)?(0,j.default)(e).map(function(i){return v(e[i],t,n.concat(i))}):t(e,n[n.length-1],n)}function m(e,t,n){n=n||[];var i=[];if(n.length>0){var r=t(e,n[n.length-1],n);r&&(i=i.concat(r))}if(Array.isArray(e)){var o=e.map(function(e,i){return m(e,t,n.concat(i))});o&&(i=i.concat(o))}else if(C(e)){var a=(0,j.default)(e).map(function(i){return m(e[i],t,n.concat(i))});a&&(i=i.concat(a))}return w(i)}function g(e,t){if(!Array.isArray(t))return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function b(e,t){return t.reduce(function(e,t){return void 0!==t&&e?e[t]:e},e)}function y(e){return S(w(x(e)))}function x(e){return Array.isArray(e)?e:[e]}function w(e){var t;return(t=[]).concat.apply(t,(0,R.default)(e.map(function(e){return Array.isArray(e)?w(e):e})))}function S(e){return e.filter(function(e){return void 0!==e})}function C(e){return e&&"object"===(void 0===e?"undefined":(0,M.default)(e))}function E(e){return C(e)&&q(e.then)}function q(e){return e&&"function"==typeof e}function _(e){return e instanceof Error}function T(e){if(I(e)){var t=e.op;return"add"===t||"remove"===t||"replace"===t}return!1}function k(e){return W.default.isGeneratorFunction(e)}function O(e){return T(e)||I(e)&&"mutation"===e.type}function D(e){return O(e)&&("add"===e.op||"replace"===e.op||"merge"===e.op||"mergeDeep"===e.op)}function A(e){return I(e)&&"context"===e.type}function I(e){return e&&"object"===(void 0===e?"undefined":(0,M.default)(e))}function L(e,t){try{return $.default.getValueByPointer(e,t)}catch(e){return console.error(e),{}}}Object.defineProperty(t,"__esModule",{value:!0});var P=n(18),M=i(P),N=n(349),R=i(N),F=n(11),j=i(F),B=n(354),V=i(B),H=n(14),U=i(H),z=n(355),$=i(z),G=n(40),W=i(G),Q=n(358),K=i(Q),Y=n(359),X=i(Y);t.default={add:a,replace:s,remove:l,merge:u,mergeDeep:c,context:d,getIn:b,applyPatch:r,parentPathMatch:g,flatten:w,fullyNormalizeArray:y,normalizeArray:x,isPromise:E,forEachNew:f,forEachNewPrimitive:p,isJsonPatch:T,isContextPatch:A,isPatch:I,isMutation:O,isAdditiveMutation:D,isGenerator:k,isFunction:q,isObject:C,isError:_},e.exports=t.default},function(e,t,n){var i=n(5),r=n(2).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(5);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(32);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(75)("keys"),r=n(47);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var i=n(0),r=n(2),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(33)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){function i(e){var t=this.__data__=new r(e);this.size=t.size}var r=n(49),o=n(179),a=n(180),s=n(181),l=n(182),u=n(183);i.prototype.clear=o,i.prototype.delete=a,i.prototype.get=s,i.prototype.has=l,i.prototype.set=u,e.exports=i},function(e,t,n){var i=n(20),r=n(9),o=i(r,"Map");e.exports=o},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(190),o=n(197),a=n(199),s=n(200),l=n(201);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=l,e.exports=i},function(e,t,n){var i=n(205),r=n(13),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var i=n(9),r=n(206),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,l=s?i.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||r;e.exports=c}).call(t,n(55)(e))},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}var i=9007199254740991;e.exports=n},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){(function(e){var i=n(116),r="object"==typeof t&&t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r,s=a&&i.process,l=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=l}).call(t,n(55)(e))},function(e,t,n){var i=n(216),r=n(124),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),i(s(e),function(t){return a.call(e,t)}))}:r;e.exports=l},function(e,t){function n(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}e.exports=n},function(e,t,n){var i=n(122),r=i(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){function i(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}var r=n(128);e.exports=i},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,n){if(e&&u.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}function o(e){return u.isString(e)&&(e=r(e)),e instanceof i?e.format():i.prototype.format.call(e)}function a(e,t){return r(e,!1,!0).resolve(t)}function s(e,t){return e?r(e,!1,!0).resolveObject(t):t}var l=n(246),u=n(247);t.parse=r,t.resolve=a,t.resolveObject=s,t.format=o,t.Url=i;var c=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(p),v=["'"].concat(h),m=["%","/","?",";","#"].concat(v),g=["/","?","#"],b=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C=n(248);i.prototype.parse=function(e,t,n){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),r=-1!==i&&i<e.indexOf("#")?"?":"#",o=e.split(r),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(r);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var d=f.exec(s);if(d)return this.path=s,this.href=s,this.pathname=d[1],d[2]?(this.search=d[2],this.query=t?C.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var p=c.exec(s);if(p){p=p[0];var h=p.toLowerCase();this.protocol=h,s=s.substr(p.length)}if(n||p||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===s.substr(0,2);!E||p&&w[p]||(s=s.substr(2),this.slashes=!0)}if(!w[p]&&(E||p&&!S[p])){for(var q=-1,_=0;_<g.length;_++){var T=s.indexOf(g[_]);-1!==T&&(-1===q||T<q)&&(q=T)}var k,O;O=-1===q?s.lastIndexOf("@"):s.lastIndexOf("@",q),-1!==O&&(k=s.slice(0,O),s=s.slice(O+1),this.auth=decodeURIComponent(k)),q=-1;for(var _=0;_<m.length;_++){var T=s.indexOf(m[_]);-1!==T&&(-1===q||T<q)&&(q=T)}-1===q&&(q=s.length),this.host=s.slice(0,q),s=s.slice(q),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var A=this.hostname.split(/\./),_=0,I=A.length;_<I;_++){var L=A[_];if(L&&!L.match(b)){for(var P="",M=0,N=L.length;M<N;M++)L.charCodeAt(M)>127?P+="x":P+=L[M];if(!P.match(b)){var R=A.slice(0,_),F=A.slice(_+1),j=L.match(y);j&&(R.push(j[1]),F.unshift(j[2])),F.length&&(s="/"+F.join(".")+s),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=l.toASCII(this.hostname));var B=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+B,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!x[h])for(var _=0,I=v.length;_<I;_++){var H=v[_];if(-1!==s.indexOf(H)){var U=encodeURIComponent(H);U===H&&(U=escape(H)),s=s.split(H).join(U)}}var z=s.indexOf("#");-1!==z&&(this.hash=s.substr(z),s=s.slice(0,z));var $=s.indexOf("?");if(-1!==$?(this.search=s.substr($),this.query=s.substr($+1),t&&(this.query=C.parse(this.query)),s=s.slice(0,$)):t&&(this.search="",this.query={}),s&&(this.pathname=s),S[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",G=this.search||"";this.path=B+G}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(o=C.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||S[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+r+n+a+i},i.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(u.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=e[c])}return S[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!S[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||w[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",m=n.search||"";n.path=v+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=b||g||n.host&&e.pathname,x=y,C=n.pathname&&n.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],E=n.protocol&&!S[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),y=y&&(""===h[0]||""===C[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=h;else if(h.length)C||(C=[]),C.pop(),C=C.concat(h),n.search=e.search,n.query=e.query;else if(!u.isNullOrUndefined(e.search)){if(E){n.hostname=n.host=C.shift();var q=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");q&&(n.auth=q.shift(),n.host=n.hostname=q.shift())}return n.search=e.search,n.query=e.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=C.slice(-1)[0],T=(n.host||e.host||C.length>1)&&("."===_||".."===_)||""===_,k=0,O=C.length;O>=0;O--)_=C[O],"."===_?C.splice(O,1):".."===_?(C.splice(O,1),k++):k&&(C.splice(O,1),k--);if(!y&&!x)for(;k--;k)C.unshift("..");!y||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),T&&"/"!==C.join("/").substr(-1)&&C.push("");var D=""===C[0]||C[0]&&"/"===C[0].charAt(0);if(E){n.hostname=n.host=D?"":C.length?C.shift():"";var q=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");q&&(n.auth=q.shift(),n.host=n.hostname=q.shift())}return y=y||n.host&&C.length,y&&!D&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=d.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){e.exports=n(15)},function(e,t,n){var i=n(8),r=n(258),o=n(76),a=n(74)("IE_PROTO"),s=function(){},l=function(){var e,t=n(69)("iframe"),i=o.length;for(t.style.display="none",n(136).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(32),r=n(3)("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),r))?n:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){e.exports={default:n(262),__esModule:!0}},function(e,t,n){var i=n(95),r=n(3)("iterator"),o=n(25);e.exports=n(0).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){t.f=n(3)},function(e,t,n){var i=n(2),r=n(0),o=n(33),a=n(98),s=n(7).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var i=n(102),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e){return function(){var t=e.apply(this,arguments);return new r.default(function(e,n){function i(o,a){try{var s=t[o](a),l=s.value}catch(e){return void n(e)}if(!s.done)return r.default.resolve(l).then(function(e){i("next",e)},function(e){i("throw",e)});e(l)}return i("next")})}}},function(e,t,n){e.exports={default:n(280),__esModule:!0}},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";function i(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=r(t),this.reject=r(n)}var r=n(29);e.exports.f=function(e){return new i(e)}},function(e,t,n){var i=n(15);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},function(e,t,n){"use strict";var i=n(27);e.exports=new i({explicit:[n(295),n(296),n(297)]})},function(e,t,n){function i(e,t){t=r(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}var r=n(67),o=n(44);e.exports=i},function(e,t,n){function i(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||s.test(e)||!a.test(e)||null!=t&&e in Object(t)}var r=n(6),o=n(60),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=i},function(e,t){function n(e,t){return f.call(e,t)}function i(e){if(Array.isArray(e)){for(var t=new Array(e.length),i=0;i<t.length;i++)t[i]=""+i;return t}if(Object.keys)return Object.keys(e);var t=[];for(var r in e)n(e,r)&&t.push(r);return t}function r(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function o(e){for(var t,n=0,i=e.length;n<i;){t=e.charCodeAt(n);if(!(t>=48&&t<=57))return!1;n++}return!0}function a(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function s(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function l(e,t){var i;for(var r in e)if(n(e,r)){if(e[r]===t)return a(r)+"/";if("object"==typeof e[r]&&""!=(i=l(e[r],t)))return a(r)+"/"+i}return""}function u(e,t){if(e===t)return"/";var n=l(e,t);if(""===n)throw new Error("Object not found in root");return"/"+n}function c(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(c(e[t]))return!0}else if("object"==typeof e)for(var r=i(e),o=r.length,t=0;t<o;t++)if(c(e[r[t]]))return!0;return!1}var d=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},f=Object.prototype.hasOwnProperty;t.hasOwnProperty=n,t._objectKeys=i,t._deepClone=r,t.isInteger=o,t.escapePathComponent=a,t.unescapePathComponent=s,t._getPathRecursive=l,t.getPath=u,t.hasUndefined=c;var p=function(e){function t(t,n,i,r,o){e.call(this,t),this.message=t,this.name=n,this.index=i,this.operation=r,this.tree=o}return d(t,e),t}(Error);t.PatchError=p},function(e,t,n){var i=n(19),r=n(71),o=n(34),a=n(46),s=n(364);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,d=6==e,f=5==e||d,p=t||s;return function(t,s,h){for(var v,m,g=o(t),b=r(g),y=i(s,h,3),x=a(b.length),w=0,S=n?p(t,x):l?p(t,0):void 0;x>w;w++)if((f||w in b)&&(v=b[w],m=y(v,w,g),e))if(n)S[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:S.push(v)}else if(c)return!1;return d?-1:u||c?c:S}}},function(e,t,n){(function(t){!function(){"use strict";function n(e){var n;return n=e instanceof t?e:new t(e.toString(),"binary"),n.toString("base64")}e.exports=n}()}).call(t,n(43).Buffer)},function(e,t,n){e.exports=!n(12)&&!n(16)(function(){return 7!=Object.defineProperty(n(69)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var i=n(31),r=n(77),o=n(48),a=n(34),s=n(71),l=Object.assign;e.exports=!l||n(16)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=r.f,d=o.f;l>u;)for(var f,p=s(arguments[u++]),h=c?i(p).concat(c(p)):i(p),v=h.length,m=0;v>m;)d.call(p,f=h[m++])&&(n[f]=p[f]);return n}:l},function(e,t,n){var i=n(17),r=n(22),o=n(170)(!1),a=n(74)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){function i(e){if(!o(e))return!1;var t=r(e);return t==s||t==l||t==a||t==u}var r=n(21),o=n(10),a="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(80))},function(e,t){function n(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var i=Function.prototype,r=i.toString;e.exports=n},function(e,t,n){function i(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var r=n(119);e.exports=i},function(e,t,n){var i=n(20),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,n){function i(e,t){var n=a(e),i=!n&&o(e),c=!n&&!i&&s(e),f=!n&&!i&&!c&&u(e),p=n||i||c||f,h=p?r(e.length,String):[],v=h.length;for(var m in e)!t&&!d.call(e,m)||p&&("length"==m||c&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||l(m,v))||h.push(m);return h}var r=n(204),o=n(82),a=n(6),s=n(83),l=n(56),u=n(121),c=Object.prototype,d=c.hasOwnProperty;e.exports=i},function(e,t,n){var i=n(207),r=n(85),o=n(86),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function i(e){return a(e)?r(e,!0):o(e)}var r=n(120),o=n(211),a=n(36);e.exports=i},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){var i=n(88),r=n(89),o=n(87),a=n(124),s=Object.getOwnPropertySymbols,l=s?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:a;e.exports=l},function(e,t,n){function i(e){return r(e,a,o)}var r=n(127),o=n(87),a=n(24);e.exports=i},function(e,t,n){function i(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}var r=n(88),o=n(6);e.exports=i},function(e,t,n){var i=n(9),r=i.Uint8Array;e.exports=r},function(e,t,n){function i(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(l),r(e,this,u)}}var r=n(237),o=Math.max;e.exports=i},function(e,t,n){var i=n(238),r=n(240),o=r(i);e.exports=o},function(e,t,n){function i(e,t,n){return e=s(e),n=null==n?0:r(a(n),0,e.length),t=o(t),e.slice(n,n+t.length)==t}var r=n(242),o=n(132),a=n(133),s=n(134);e.exports=i},function(e,t,n){function i(e){if("string"==typeof e)return e;if(a(e))return o(e,i)+"";if(s(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var r=n(23),o=n(243),a=n(6),s=n(60),l=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=i},function(e,t,n){function i(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}var r=n(244);e.exports=i},function(e,t,n){function i(e){return null==e?"":r(e)}var r=n(132);e.exports=i},function(e,t,n){"use strict";var i=n(33),r=n(4),o=n(93),a=n(15),s=n(25),l=n(257),u=n(38),c=n(259),d=n(3)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,v,m,g){l(n,t,h);var b,y,x,w=function(e){if(!f&&e in q)return q[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",C="values"==v,E=!1,q=e.prototype,_=q[d]||q["@@iterator"]||v&&q[v],T=_||w(v),k=v?C?w("entries"):T:void 0,O="Array"==t&&q.entries||_;if(O&&(x=c(O.call(new e)))!==Object.prototype&&x.next&&(u(x,S,!0),i||"function"==typeof x[d]||a(x,d,p)),C&&_&&"values"!==_.name&&(E=!0,T=function(){return _.call(this)}),i&&!g||!f&&!E&&q[d]||a(q,d,T),s[t]=T,s[S]=p,v)if(b={values:C?T:w("values"),keys:m?T:w("keys"),entries:k},g)for(y in b)y in q||o(q,y,b[y]);else r(r.P+r.F*(f||E),t,b);return b}},function(e,t,n){var i=n(2).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(32);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(114),r=n(76).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(8);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(25),r=n(3)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){var i=n(8),r=n(29),o=n(3)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||void 0==(n=i(a)[o])?t:r(n)}},function(e,t,n){var i,r,o,a=n(19),s=n(282),l=n(136),u=n(69),c=n(2),d=c.process,f=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,v=c.Dispatch,m=0,g={},b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){b.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},i(m),m},p=function(e){delete g[e]},"process"==n(32)(d)?i=function(e){d.nextTick(a(b,e,1))}:v&&v.now?i=function(e){v.now(a(b,e,1))}:h?(r=new h,o=r.port2,r.port1.onmessage=y,i=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):i="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var i=n(8),r=n(5),o=n(104);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var i=n(3)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var i=[],r=0;r<t.length;++r)void 0!==t[r]&&i.push(t[r]);n.obj[n.prop]=i}}return t},a=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n},s=function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(r.plainObjects||r.allowPrototypes||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var o=t;return Array.isArray(t)&&!Array.isArray(n)&&(o=a(t,r)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,o){i.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e(t[o],n,r):t.push(n):t[o]=n}),t):Object.keys(n).reduce(function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t},o)},l=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},u=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},c=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",i=0;i<t.length;++i){var o=t.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=t.charAt(i):o<128?n+=r[o]:o<2048?n+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?n+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(i)),n+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return n},d=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var r=t[i],a=r.obj[r.prop],s=Object.keys(a),l=0;l<s.length;++l){var u=s[l],c=a[u];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:a,prop:u}),n.push(c))}return o(t)},f=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},p=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:a,assign:l,compact:d,decode:u,encode:c,isBuffer:p,isRegExp:f,merge:s}},function(e,t,n){"use strict";var i=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,r,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,n){"use strict";var i=n(292);e.exports=i},function(e,t,n){"use strict";var i=n(27);e.exports=new i({include:[n(150)]})},function(e,t,n){"use strict";var i=n(27);e.exports=new i({include:[n(106)],implicit:[n(298),n(299),n(300),n(301)]})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.requestInterceptor,i=t.responseInterceptor,r=e.withCredentials?"include":"same-origin";return function(t){return e({url:t,loadSpec:!0,requestInterceptor:n,responseInterceptor:i,headers:{Accept:"application/json"},credentials:r}).then(function(e){return e.body})}}function o(){p.plugins.refs.clearCache()}function a(e){function t(e){var t=this;S&&(p.plugins.refs.docCache[S]=e),p.plugins.refs.fetchJSON=r(w,{requestInterceptor:b,responseInterceptor:y});var n=[p.plugins.refs];return"function"==typeof g&&n.push(p.plugins.parameters),"function"==typeof m&&n.push(p.plugins.properties),"strict"!==a&&n.push(p.plugins.allOf),(0,h.default)({spec:e,context:{baseDoc:S},plugins:n,allowMetaPatches:u,pathDiscriminator:d,parameterMacro:g,modelPropertyMacro:m}).then(x?function(){var e=(0,c.default)(l.default.mark(function e(n){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}():v.normalizeSwagger)}var n=e.fetch,i=e.spec,o=e.url,a=e.mode,s=e.allowMetaPatches,u=void 0===s||s,d=e.pathDiscriminator,m=e.modelPropertyMacro,g=e.parameterMacro,b=e.requestInterceptor,y=e.responseInterceptor,x=e.skipNormalization,w=e.http,S=e.baseDoc;return S=S||o,w=n||w||f.default,i?t(i):r(w,{requestInterceptor:b,responseInterceptor:y})(S).then(t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(40),l=i(s),u=n(101),c=i(u);t.makeFetchJSON=r,t.clearCache=o,t.default=a;var d=n(61),f=i(d),p=n(317),h=i(p),v=n(45)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(154),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t,n){e.exports={default:n(321),__esModule:!0}},function(e,t,n){function i(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?o(e[0],e[1]):r(e):l(e)}var r=n(325),o=n(338),a=n(91),s=n(6),l=n(344);e.exports=i},function(e,t,n){function i(e,t,n,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:r(e,t,n,a,i,s))}var r=n(327),o=n(13);e.exports=i},function(e,t,n){function i(e,t,n,i,u,c){var d=n&s,f=e.length,p=t.length;if(f!=p&&!(d&&p>f))return!1;var h=c.get(e);if(h&&c.get(t))return h==t;var v=-1,m=!0,g=n&l?new r:void 0;for(c.set(e,t),c.set(t,e);++v<f;){var b=e[v],y=t[v];if(i)var x=d?i(y,b,v,t,e,c):i(b,y,v,e,t,c);if(void 0!==x){if(x)continue;m=!1;break}if(g){if(!o(t,function(e,t){if(!a(g,t)&&(b===e||u(b,e,n,i,c)))return g.push(t)})){m=!1;break}}else if(b!==y&&!u(b,y,n,i,c)){m=!1;break}}return c.delete(e),c.delete(t),m}var r=n(328),o=n(331),a=n(332),s=1,l=2;e.exports=i},function(e,t,n){function i(e){return e===e&&!r(e)}var r=n(10);e.exports=i},function(e,t){function n(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}e.exports=n},function(e,t,n){function i(e,t){return null!=e&&o(e,t,r)}var r=n(342),o=n(343);e.exports=i},function(e,t,n){function i(e){return null===e||void 0===e}function r(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&"function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0])}function o(e,t,n){var o,c;if(i(e)||i(t))return!1;if(e.prototype!==t.prototype)return!1;if(l(e))return!!l(t)&&(e=a.call(e),t=a.call(t),u(e,t,n));if(r(e)){if(!r(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var d=s(e),f=s(t)}catch(e){return!1}if(d.length!=f.length)return!1;for(d.sort(),f.sort(),o=d.length-1;o>=0;o--)if(d[o]!=f[o])return!1;for(o=d.length-1;o>=0;o--)if(c=d[o],!u(e[c],t[c],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=n(356),l=n(357),u=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n))}},function(e,t,n){function i(e,t){if(""==t)return e;var n={op:"_get",path:t};return r(e,n),n.value}function r(e,n,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!0),r&&("function"==typeof r?r(n,0,e,n.path):s(n,0)),""===n.path){var a={newDocument:e};if("add"===n.op)return a.newDocument=n.value,a;if("replace"===n.op)return a.newDocument=n.value,a.removed=e,a;if("move"===n.op||"copy"===n.op)return a.newDocument=i(e,n.from),"move"===n.op&&(a.removed=e),a;if("test"===n.op){if(a.test=d(e,n.value),!1===a.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,n,e);return a.newDocument=e,a}if("remove"===n.op)return a.removed=e,a.newDocument=null,a;if("_get"===n.op)return n.value=e,a;if(r)throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",0,n,e);return a}o||(e=f._deepClone(e));var l=n.path||"",u=l.split("/"),c=e,v=1,m=u.length,g=void 0,b=void 0,y=void 0;for(y="function"==typeof r?r:s;;){if(b=u[v],r&&void 0===g&&(void 0===c[b]?g=u.slice(0,v).join("/"):v==m-1&&(g=n.path),void 0!==g&&y(n,0,e,g)),v++,Array.isArray(c)){if("-"===b)b=c.length;else{if(r&&!f.isInteger(b))throw new t.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",0,n.path,n);f.isInteger(b)&&(b=~~b)}if(v>=m){if(r&&"add"===n.op&&b>c.length)throw new t.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",0,n.path,n);var a=h[n.op].call(n,c,b,e);if(!1===a.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,n,e);return a}}else if(b&&-1!=b.indexOf("~")&&(b=f.unescapePathComponent(b)),v>=m){var a=p[n.op].call(n,c,b,e);if(!1===a.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,n,e);return a}c=c[b]}}function o(e,n,i,o){if(void 0===o&&(o=!0),i&&!Array.isArray(n))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");o||(e=f._deepClone(e));for(var a=new Array(n.length),s=0,l=n.length;s<l;s++)a[s]=r(e,n[s],i),e=a[s].newDocument;return a.newDocument=e,a}function a(e,n){var i=r(e,n);if(!1===i.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,n,e);return i.newDocument}function s(e,n,i,r){if("object"!=typeof e||null===e||Array.isArray(e))throw new t.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",n,e,i);if(!p[e.op])throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",n,e,i);if("string"!=typeof e.path)throw new t.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",n,e,i);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new t.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",n,e,i);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new t.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",n,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",n,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&f.hasUndefined(e.value))throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",n,e,i);if(i)if("add"==e.op){var o=e.path.split("/").length,a=r.split("/").length;if(o!==a+1&&o!==a)throw new t.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",n,e,i)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new t.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",n,e,i)}else if("move"===e.op||"copy"===e.op){var s={op:"_get",path:e.from,value:void 0},u=l([s],i);if(u&&"OPERATION_PATH_UNRESOLVABLE"===u.name)throw new t.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",n,e,i)}}function l(e,n,i){try{if(!Array.isArray(e))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(n)o(f._deepClone(n),f._deepClone(e),i||!0);else{i=i||s;for(var r=0;r<e.length;r++)i(e[r],r,n,void 0)}}catch(e){if(e instanceof t.JsonPatchError)return e;throw e}}var u={strict:!0},c=n(161),d=function(e,t){return c(e,t,u)},f=n(109);t.JsonPatchError=f.PatchError,t.deepClone=f._deepClone;var p={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var i=e[t];return delete e[t],{newDocument:n,removed:i}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:function(e,t,n){var o=i(n,this.path);o&&(o=f._deepClone(o));var a=r(n,{op:"remove",path:this.from}).removed;return r(n,{op:"add",path:this.path,value:a}),{newDocument:n,removed:o}},copy:function(e,t,n){var o=i(n,this.from);return r(n,{op:"add",path:this.path,value:f._deepClone(o)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:d(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},h={add:function(e,t,n){return f.isInteger(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:p.move,copy:p.copy,test:p.test,_get:p._get};t.getValueByPointer=i,t.applyOperation=r,t.applyPatch=o,t.applyReducer=a,t.validator=s,t.validate=l},function(e,t,n){var i=n(5);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";function i(e,t){function n(){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack;for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];this.message=n[0],t&&t.apply(this,n)}return n.prototype=new Error,n.prototype.name=e,n.prototype.constructor=n,n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=e[e.length-1],n=e[e.length-2],i=e.join("/");return r.indexOf(t)>-1&&-1===o.indexOf(n)||a.indexOf(i)>-1||s.some(function(e){return i.indexOf(e)>-1})}Object.defineProperty(t,"__esModule",{value:!0}),t.isFreelyNamed=i;var r=["properties"],o=["properties"],a=["definitions","parameters","responses","securityDefinitions","components/schemas","components/responses","components/parameters","components/securitySchemes"],s=["schema/example"]},function(e,t,n){e.exports=n(167)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e?n.url=e:n=e,!(this instanceof r))return new r(n);(0,u.default)(this,n);var i=this.resolve().then(function(){return t.disableInterfaces||(0,u.default)(t,r.makeApisTagOperation(t)),t});return i.client=this,i}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=i(o),s=n(172),l=(i(s),n(59)),u=i(l),c=n(131),d=i(c),f=n(92),p=i(f),h=n(61),v=i(h),m=n(151),g=i(m),b=n(378),y=i(b),x=n(379),w=n(388),S=n(45);r.http=v.default,r.makeHttp=h.makeHttp.bind(null,r.http),r.resolve=g.default,r.resolveSubtree=y.default,r.execute=w.execute,r.serializeRes=h.serializeRes,r.serializeHeaders=h.serializeHeaders,r.clearCache=m.clearCache,r.parameterBuilders=w.PARAMETER_BUILDERS,r.makeApisTagOperation=x.makeApisTagOperation,r.buildRequest=w.buildRequest,r.helpers={opId:S.opId},r.prototype={http:v.default,execute:function(e){return this.applyDefaults(),r.execute((0,a.default)({spec:this.spec,http:this.http,securities:{authorized:this.authorizations},contextUrl:"string"==typeof this.url?this.url:void 0},e))},resolve:function(){var e=this;return r.resolve({spec:this.spec,url:this.url,allowMetaPatches:this.allowMetaPatches,requestInterceptor:this.requestInterceptor||null,responseInterceptor:this.responseInterceptor||null}).then(function(t){return e.originalSpec=e.spec,e.spec=t.spec,e.errors=t.errors,e})}},r.prototype.applyDefaults=function(){var e=this.spec,t=this.url;if(t&&(0,d.default)(t,"http")){var n=p.default.parse(t);e.host||(e.host=n.host),e.schemes||(e.schemes=[n.protocol.replace(":","")]),e.basePath||(e.basePath="/")}},t.default=r,e.exports=t.default},function(e,t,n){n(169),e.exports=n(0).Object.assign},function(e,t,n){var i=n(4);i(i.S+i.F,"Object",{assign:n(113)})},function(e,t,n){var i=n(22),r=n(46),o=n(171);e.exports=function(e){return function(t,n,a){var s,l=i(t),u=r(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var i=n(73),r=Math.max,o=Math.min;e.exports=function(e,t){return e=i(e),e<0?r(e+t,0):o(e,t)}},function(e,t,n){function i(e){return r(e,o|a)}var r=n(173),o=1,a=4;e.exports=i},function(e,t,n){function i(e,t,n,L,P,M){var N,R=t&q,F=t&_,j=t&T;if(n&&(N=P?n(e,L,P,M):n(e)),void 0!==N)return N;if(!S(e))return e;var B=y(e);if(B){if(N=m(e),!R)return c(e,N)}else{var V=v(e),H=V==O||V==D;if(x(e))return u(e,R);if(V==A||V==k||H&&!P){if(N=F||H?{}:b(e),!R)return F?f(e,l(N,e)):d(e,s(N,e))}else{if(!I[V])return P?e:{};N=g(e,V,R)}}M||(M=new r);var U=M.get(e);if(U)return U;if(M.set(e,N),C(e))return e.forEach(function(r){N.add(i(r,t,n,r,e,M))}),N;if(w(e))return e.forEach(function(r,o){N.set(o,i(r,t,n,o,e,M))}),N;var z=j?F?h:p:F?keysIn:E,$=B?void 0:z(e);return o($||e,function(r,o){$&&(o=r,r=e[o]),a(N,o,i(r,t,n,o,e,M))}),N}var r=n(78),o=n(202),a=n(54),s=n(203),l=n(210),u=n(213),c=n(214),d=n(215),f=n(217),p=n(126),h=n(218),v=n(58),m=n(223),g=n(224),b=n(229),y=n(6),x=n(83),w=n(231),S=n(10),C=n(233),E=n(24),q=1,_=2,T=4,k="[object Arguments]",O="[object Function]",D="[object GeneratorFunction]",A="[object Object]",I={};I[k]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[A]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[O]=I["[object WeakMap]"]=!1,e.exports=i},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function i(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}var r=n(50),o=Array.prototype,a=o.splice;e.exports=i},function(e,t,n){function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}var r=n(50);e.exports=i},function(e,t,n){function i(e){return r(this.__data__,e)>-1}var r=n(50);e.exports=i},function(e,t,n){function i(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var r=n(50);e.exports=i},function(e,t,n){function i(){this.__data__=new r,this.size=0}var r=n(49);e.exports=i},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function i(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<s-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(e,t),this.size=n.size,this}var r=n(49),o=n(79),a=n(81),s=200;e.exports=i},function(e,t,n){function i(e){return!(!a(e)||o(e))&&(r(e)?h:u).test(s(e))}var r=n(115),o=n(187),a=n(10),s=n(117),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,f=c.toString,p=d.hasOwnProperty,h=RegExp("^"+f.call(p).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},function(e,t,n){function i(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(e){}var r=s.call(e);return i&&(t?e[l]=n:delete e[l]),r}var r=n(23),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=r?r.toStringTag:void 0;e.exports=i},function(e,t){function n(e){return r.call(e)}var i=Object.prototype,r=i.toString;e.exports=n},function(e,t,n){function i(e){return!!o&&o in e}var r=n(188),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=i},function(e,t,n){var i=n(9),r=i["__core-js_shared__"];e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function i(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}var r=n(191),o=n(49),a=n(79);e.exports=i},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(192),o=n(193),a=n(194),s=n(195),l=n(196);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=l,e.exports=i},function(e,t,n){function i(){this.__data__=r?r(null):{},this.size=0}var r=n(52);e.exports=i},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function i(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}var r=n(52),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}var r=n(52),o=Object.prototype,a=o.hasOwnProperty;e.exports=i},function(e,t,n){function i(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}var r=n(52),o="__lodash_hash_undefined__";e.exports=i},function(e,t,n){function i(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=n(53);e.exports=i},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function i(e){return r(this,e).get(e)}var r=n(53);e.exports=i},function(e,t,n){function i(e){return r(this,e).has(e)}var r=n(53);e.exports=i},function(e,t,n){function i(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var r=n(53);e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){function i(e,t){return e&&r(t,o(t),e)}var r=n(35),o=n(24);e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}e.exports=n},function(e,t,n){function i(e){return o(e)&&r(e)==a}var r=n(21),o=n(13),a="[object Arguments]";e.exports=i},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function i(e){return a(e)&&o(e.length)&&!!s[r(e)]}var r=n(21),o=n(84),a=n(13),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=i},function(e,t,n){function i(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var r=n(57),o=n(209),a=Object.prototype,s=a.hasOwnProperty;e.exports=i},function(e,t,n){var i=n(122),r=i(Object.keys,Object);e.exports=r},function(e,t,n){function i(e,t){return e&&r(t,o(t),e)}var r=n(35),o=n(123);e.exports=i},function(e,t,n){function i(e){if(!r(e))return a(e);var t=o(e),n=[];for(var i in e)("constructor"!=i||!t&&l.call(e,i))&&n.push(i);return n}var r=n(10),o=n(57),a=n(212),s=Object.prototype,l=s.hasOwnProperty;e.exports=i},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){(function(e){function i(e,t){if(t)return e.slice();var n=e.length,i=u?u(n):new e.constructor(n);return e.copy(i),i}var r=n(9),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,l=s?r.Buffer:void 0,u=l?l.allocUnsafe:void 0;e.exports=i}).call(t,n(55)(e))},function(e,t){function n(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function i(e,t){return r(e,o(e),t)}var r=n(35),o=n(87);e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}e.exports=n},function(e,t,n){function i(e,t){return r(e,o(e),t)}var r=n(35),o=n(125);e.exports=i},function(e,t,n){function i(e){return r(e,a,o)}var r=n(127),o=n(125),a=n(123);e.exports=i},function(e,t,n){var i=n(20),r=n(9),o=i(r,"DataView");e.exports=o},function(e,t,n){var i=n(20),r=n(9),o=i(r,"Promise");e.exports=o},function(e,t,n){var i=n(20),r=n(9),o=i(r,"Set");e.exports=o},function(e,t,n){var i=n(20),r=n(9),o=i(r,"WeakMap");e.exports=o},function(e,t){function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var i=Object.prototype,r=i.hasOwnProperty;e.exports=n},function(e,t,n){function i(e,t,n){var i=e.constructor;switch(t){case g:return r(e);case u:case c:return new i(+e);case b:return o(e,n);case y:case x:case w:case S:case C:case E:case q:case _:case T:return l(e,n);case d:return new i;case f:case v:return new i(e);case p:return a(e);case h:return new i;case m:return s(e)}}var r=n(90),o=n(225),a=n(226),s=n(227),l=n(228),u="[object Boolean]",c="[object Date]",d="[object Map]",f="[object Number]",p="[object RegExp]",h="[object Set]",v="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",b="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",q="[object Uint8ClampedArray]",_="[object Uint16Array]",T="[object Uint32Array]";e.exports=i},function(e,t,n){function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var r=n(90);e.exports=i},function(e,t){function n(e){var t=new e.constructor(e.source,i.exec(e));return t.lastIndex=e.lastIndex,t}var i=/\w*$/;e.exports=n},function(e,t,n){function i(e){return a?Object(a.call(e)):{}}var r=n(23),o=r?r.prototype:void 0,a=o?o.valueOf:void 0;e.exports=i},function(e,t,n){function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var r=n(90);e.exports=i},function(e,t,n){function i(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}var r=n(230),o=n(89),a=n(57);e.exports=i},function(e,t,n){var i=n(10),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var i=n(232),r=n(85),o=n(86),a=o&&o.isMap,s=a?r(a):i;e.exports=s},function(e,t,n){function i(e){return o(e)&&r(e)==a}var r=n(58),o=n(13),a="[object Map]";e.exports=i},function(e,t,n){var i=n(234),r=n(85),o=n(86),a=o&&o.isSet,s=a?r(a):i;e.exports=s},function(e,t,n){function i(e){return o(e)&&r(e)==a}var r=n(58),o=n(13),a="[object Set]";e.exports=i},function(e,t,n){function i(e){return r(function(t,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(r--,a):void 0,s&&o(n[0],n[1],s)&&(a=r<3?void 0:a,r=1),t=Object(t);++i<r;){var l=n[i];l&&e(t,l,i,a)}return t})}var r=n(236),o=n(241);e.exports=i},function(e,t,n){function i(e,t){return a(o(e,t,r),e+"")}var r=n(91),o=n(129),a=n(130);e.exports=i},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){var i=n(239),r=n(119),o=n(91),a=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=a},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t){function n(e){var t=0,n=0;return function(){var a=o(),s=r-(a-n);if(n=a,s>0){if(++t>=i)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var i=800,r=16,o=Date.now;e.exports=n},function(e,t,n){function i(e,t,n){if(!s(n))return!1;var i=typeof t;return!!("number"==i?o(n)&&a(t,n.length):"string"==i&&t in n)&&r(n[t],e)}var r=n(51),o=n(36),a=n(56),s=n(10);e.exports=i},function(e,t){function n(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}e.exports=n},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}e.exports=n},function(e,t,n){function i(e){if(!e)return 0===e?e:0;if((e=r(e))===o||e===-o)return(e<0?-1:1)*a;return e===e?e:0}var r=n(245),o=1/0,a=1.7976931348623157e308;e.exports=i},function(e,t,n){function i(e){if("number"==typeof e)return e;if(o(e))return a;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=u.test(e);return n||c.test(e)?d(e.slice(2),n?2:8):l.test(e)?a:+e}var r=n(10),o=n(60),a=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=i},function(e,t,n){(function(e,i){var r;!function(o){function a(e){throw RangeError(I[e])}function s(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function l(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(A,"."),i+s(e.split("."),t).join(".")}function u(e){for(var t,n,i=[],r=0,o=e.length;r<o;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<o?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=M(e>>>10&1023|55296),e=56320|1023&e),t+M(e)}).join("")}function d(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function f(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var i=0;for(e=n?P(e/q):e>>1,e+=P(e/t);e>L*C>>1;i+=w)e=P(e/L);return P(i+(L+1)*e/(e+E))}function h(e){var t,n,i,r,o,s,l,u,f,h,v=[],m=e.length,g=0,b=T,y=_;for(n=e.lastIndexOf(k),n<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&a("not-basic"),v.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<m;){for(o=g,s=1,l=w;r>=m&&a("invalid-input"),u=d(e.charCodeAt(r++)),(u>=w||u>P((x-g)/s))&&a("overflow"),g+=u*s,f=l<=y?S:l>=y+C?C:l-y,!(u<f);l+=w)h=w-f,s>P(x/h)&&a("overflow"),s*=h;t=v.length+1,y=p(g-o,t,0==o),P(g/t)>x-b&&a("overflow"),b+=P(g/t),g%=t,v.splice(g++,0,b)}return c(v)}function v(e){var t,n,i,r,o,s,l,c,d,h,v,m,g,b,y,E=[];for(e=u(e),m=e.length,t=T,n=0,o=_,s=0;s<m;++s)(v=e[s])<128&&E.push(M(v));for(i=r=E.length,r&&E.push(k);i<m;){for(l=x,s=0;s<m;++s)(v=e[s])>=t&&v<l&&(l=v);for(g=i+1,l-t>P((x-n)/g)&&a("overflow"),n+=(l-t)*g,t=l,s=0;s<m;++s)if(v=e[s],v<t&&++n>x&&a("overflow"),v==t){for(c=n,d=w;h=d<=o?S:d>=o+C?C:d-o,!(c<h);d+=w)y=c-h,b=w-h,E.push(M(f(h+y%b,0))),c=P(y/b);E.push(M(f(c,0))),o=p(n,g,i==r),n=0,++i}++n,++t}return E.join("")}function m(e){return l(e,function(e){return O.test(e)?h(e.slice(4).toLowerCase()):e})}function g(e){return l(e,function(e){return D.test(e)?"xn--"+v(e):e})}var b=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof i&&i);var y,x=2147483647,w=36,S=1,C=26,E=38,q=700,_=72,T=128,k="-",O=/^xn--/,D=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=w-S,P=Math.floor,M=String.fromCharCode;y={version:"1.3.2",ucs2:{decode:u,encode:c},decode:h,encode:v,toASCII:g,toUnicode:m},void 0!==(r=function(){return y}.call(t,n,t,e))&&(e.exports=r)}()}).call(t,n(55)(e),n(80))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(249),t.encode=t.stringify=n(250)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var d,f,p,h,v=e[c].replace(s,"%20"),m=v.indexOf(n);m>=0?(d=v.substr(0,m),f=v.substr(m+1)):(d=v,f=""),p=decodeURIComponent(d),h=decodeURIComponent(f),i(a,p)?r(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function i(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[a]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(252),o=i(r),a=n(96),s=i(a);t.default=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,l=(0,s.default)(e);!(i=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(253),__esModule:!0}},function(e,t,n){n(37),n(39),e.exports=n(261)},function(e,t,n){"use strict";var i=n(255),r=n(256),o=n(25),a=n(22);e.exports=n(135)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var i=n(94),r=n(30),o=n(38),a={};n(15)(a,n(3)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(7),r=n(8),o=n(31);e.exports=n(12)?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,l=0;s>l;)i.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var i=n(17),r=n(34),o=n(74)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var i=n(73),r=n(72);e.exports=function(e){return function(t,n){var o,a,s=String(r(t)),l=i(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){var i=n(95),r=n(3)("iterator"),o=n(25);e.exports=n(0).isIterable=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||o.hasOwnProperty(i(t))}},function(e,t,n){n(37),n(39),e.exports=n(263)},function(e,t,n){var i=n(8),r=n(97);e.exports=n(0).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},function(e,t,n){n(265),e.exports=n(0).Object.keys},function(e,t,n){var i=n(34),r=n(31);n(266)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){var i=n(4),r=n(0),o=n(16);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var i=n(0),r=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,n){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n(269),r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,i){var o=t&&t.prototype instanceof r?t:r,a=Object.create(o.prototype),s=new p(i||[]);return a._invoke=u(e,n,s),a}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,r,o,a){var s=i(e[n],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&b.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(u).then(function(e){l.value=e,o(l)},a)}a(s.arg)}function n(e,n){function i(){return new Promise(function(i,r){t(e,n,i,r)})}return r=r?r.then(i,i):i()}var r;this._invoke=n}function u(e,t,n){var r=q;return function(o,a){if(r===T)throw new Error("Generator is already running");if(r===k){if("throw"===o)throw a;return v()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=c(s,n);if(l){if(l===O)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===q)throw r=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=T;var u=i(e,t,n);if("normal"===u.type){if(r=n.done?k:_,u.arg===O)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=k,n.method="throw",n.arg=u.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,c(e,t),"throw"===t.method))return O;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var r=i(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,O;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,O):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,O)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function h(e){if(e){var t=e[x];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(b.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return i.next=i}}return{next:v}}function v(){return{value:m,done:!0}}var m,g=Object.prototype,b=g.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},x=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",S=y.toStringTag||"@@toStringTag",C="object"==typeof e,E=t.regeneratorRuntime;if(E)return void(C&&(e.exports=E));E=t.regeneratorRuntime=C?e.exports:{},E.wrap=n;var q="suspendedStart",_="suspendedYield",T="executing",k="completed",O={},D={};D[x]=function(){return this};var A=Object.getPrototypeOf,I=A&&A(A(h([])));I&&I!==g&&b.call(I,x)&&(D=I);var L=a.prototype=r.prototype=Object.create(D);o.prototype=L.constructor=a,a.constructor=o,a[S]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,S in e||(e[S]="GeneratorFunction")),e.prototype=Object.create(L),e},E.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[w]=function(){return this},E.AsyncIterator=l,E.async=function(e,t,i,r){var o=new l(n(e,t,i,r));return E.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(L),L[S]="Generator",L[x]=function(){return this},L.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},E.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return o.type="throw",o.arg=e,n.next=t,i&&(n.method="next",n.arg=m),!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var a=b.call(r,"catchLoc"),s=b.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&b.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,O):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),O},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),O}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;f(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),O}}}(function(){return this}()||Function("return this")())},function(e,t,n){e.exports={default:n(271),__esModule:!0}},function(e,t,n){n(39),n(37),e.exports=n(98).f("iterator")},function(e,t,n){e.exports={default:n(273),__esModule:!0}},function(e,t,n){n(274),n(100),n(278),n(279),e.exports=n(0).Symbol},function(e,t,n){"use strict";var i=n(2),r=n(17),o=n(12),a=n(4),s=n(93),l=n(63).KEY,u=n(16),c=n(75),d=n(38),f=n(47),p=n(3),h=n(98),v=n(99),m=n(275),g=n(137),b=n(8),y=n(5),x=n(22),w=n(70),S=n(30),C=n(94),E=n(276),q=n(277),_=n(7),T=n(31),k=q.f,O=_.f,D=E.f,A=i.Symbol,I=i.JSON,L=I&&I.stringify,P=p("_hidden"),M=p("toPrimitive"),N={}.propertyIsEnumerable,R=c("symbol-registry"),F=c("symbols"),j=c("op-symbols"),B=Object.prototype,V="function"==typeof A,H=i.QObject,U=!H||!H.prototype||!H.prototype.findChild,z=o&&u(function(){return 7!=C(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=k(B,t);i&&delete B[t],O(e,t,n),i&&e!==B&&O(B,t,i)}:O,$=function(e){var t=F[e]=C(A.prototype);return t._k=e,t},G=V&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},W=function(e,t,n){return e===B&&W(j,t,n),b(e),t=w(t,!0),b(n),r(F,t)?(n.enumerable?(r(e,P)&&e[P][t]&&(e[P][t]=!1),n=C(n,{enumerable:S(0,!1)})):(r(e,P)||O(e,P,S(1,{})),e[P][t]=!0),z(e,t,n)):O(e,t,n)},Q=function(e,t){b(e);for(var n,i=m(t=x(t)),r=0,o=i.length;o>r;)W(e,n=i[r++],t[n]);return e},K=function(e,t){return void 0===t?C(e):Q(C(e),t)},Y=function(e){var t=N.call(this,e=w(e,!0));return!(this===B&&r(F,e)&&!r(j,e))&&(!(t||!r(this,e)||!r(F,e)||r(this,P)&&this[P][e])||t)},X=function(e,t){if(e=x(e),t=w(t,!0),e!==B||!r(F,t)||r(j,t)){var n=k(e,t);return!n||!r(F,t)||r(e,P)&&e[P][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=D(x(e)),i=[],o=0;n.length>o;)r(F,t=n[o++])||t==P||t==l||i.push(t);return i},J=function(e){for(var t,n=e===B,i=D(n?j:x(e)),o=[],a=0;i.length>a;)!r(F,t=i[a++])||n&&!r(B,t)||o.push(F[t]);return o};V||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(j,n),r(this,P)&&r(this[P],e)&&(this[P][e]=!1),z(this,e,S(1,n))};return o&&U&&z(B,e,{configurable:!0,set:t}),$(e)},s(A.prototype,"toString",function(){return this._k}),q.f=X,_.f=W,n(138).f=E.f=Z,n(48).f=Y,n(77).f=J,o&&!n(33)&&s(B,"propertyIsEnumerable",Y,!0),h.f=function(e){return $(p(e))}),a(a.G+a.W+a.F*!V,{Symbol:A});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=T(p.store),ie=0;ne.length>ie;)v(ne[ie++]);a(a.S+a.F*!V,"Symbol",{for:function(e){return r(R,e+="")?R[e]:R[e]=A(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in R)if(R[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!V,"Object",{create:K,defineProperty:W,defineProperties:Q,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),I&&a(a.S+a.F*(!V||u(function(){var e=A();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(y(t)||void 0!==e)&&!G(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),i[1]=t,L.apply(I,i)}}),A.prototype[M]||n(15)(A.prototype,M,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,n){var i=n(31),r=n(77),o=n(48);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var a,s=n(e),l=o.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var i=n(22),r=n(138).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return r(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):r(i(e))}},function(e,t,n){var i=n(48),r=n(30),o=n(22),a=n(70),s=n(17),l=n(112),u=Object.getOwnPropertyDescriptor;t.f=n(12)?u:function(e,t){if(e=o(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){n(99)("asyncIterator")},function(e,t,n){n(99)("observable")},function(e,t,n){n(100),n(39),n(37),n(281),n(286),n(287),e.exports=n(0).Promise},function(e,t,n){"use strict";var i,r,o,a,s=n(33),l=n(2),u=n(19),c=n(95),d=n(4),f=n(5),p=n(29),h=n(103),v=n(64),m=n(141),g=n(142).set,b=n(283)(),y=n(104),x=n(143),w=n(284),S=n(144),C=l.TypeError,E=l.process,q=E&&E.versions,_=q&&q.v8||"",T=l.Promise,k="process"==c(E),O=function(){},D=r=y.f,A=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(3)("species")]=function(e){e(O,O)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(O)instanceof t&&0!==_.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var i=e._v,r=1==e._s,o=0;n.length>o;)!function(t){var n,o,a,s=r?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(r||(2==e._h&&N(e),e._h=1),!0===s?n=i:(c&&c.enter(),n=s(i),c&&(c.exit(),a=!0)),n===t.promise?u(C("Promise-chain cycle")):(o=I(n))?o.call(n,l,u):l(n)):u(i)}catch(e){c&&!a&&c.exit(),u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&P(e)})}},P=function(e){g.call(l,function(){var t,n,i,r=e._v,o=M(e);if(o&&(t=x(function(){k?E.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=k||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){g.call(l,function(){var t;k?E.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw C("Promise can't be resolved itself");(t=I(e))?b(function(){var i={_w:n,_d:!1};try{t.call(e,u(F,i,1),u(R,i,1))}catch(e){R.call(i,e)}}):(n._v=e,n._s=1,L(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};A||(T=function(e){h(this,T,"Promise","_h"),p(e),i.call(this);try{e(u(F,this,1),u(R,this,1))}catch(e){R.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(105)(T.prototype,{then:function(e,t){var n=D(m(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=u(F,e,1),this.reject=u(R,e,1)},y.f=D=function(e){return e===T||e===a?new o(e):r(e)}),d(d.G+d.W+d.F*!A,{Promise:T}),n(38)(T,"Promise"),n(285)("Promise"),a=n(0).Promise,d(d.S+d.F*!A,"Promise",{reject:function(e){var t=D(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!A),"Promise",{resolve:function(e){return S(s&&this===a?T:this,e)}}),d(d.S+d.F*!(A&&n(145)(function(e){T.all(e).catch(O)})),"Promise",{all:function(e){var t=this,n=D(t),i=n.resolve,r=n.reject,o=x(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=D(t),i=n.reject,r=x(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(2),r=n(142).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(32)(a);e.exports=function(){var e,t,n,u=function(){var i,r;for(l&&(i=a.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){r.call(i,u)};else{var d=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t,n){var i=n(2),r=i.navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var i=n(2),r=n(0),o=n(7),a=n(12),s=n(3)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:i[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var i=n(4),r=n(0),o=n(2),a=n(141),s=n(144);i(i.P+i.R,"Promise",{finally:function(e){var t=a(this,r.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var i=n(4),r=n(104),o=n(143);i(i.S,"Promise",{try:function(e){var t=r.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function l(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function u(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&y(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!x(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){var n=(t=t||{}).body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function v(e){var t=new r;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(e){return e&&DataView.prototype.isPrototypeOf(e)},x=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,i){e=t(e),i=n(i);var r=this.map[e];this.map[e]=r?r+","+i:i},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,i){this.map[t(e)]=n(i)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),i(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),i(e)},g.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},d.call(p.prototype),d.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];m.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=p,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,i){var r=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new m(t,e))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),r.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";var i=n(290),r=n(291),o=n(147);e.exports={formats:o,parse:r,stringify:i}},function(e,t,n){"use strict";var i=n(146),r=n(147),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,n,r,o,a,l,u,c,d,f,p,h){var v=t;if("function"==typeof u)v=u(n,v);else if(v instanceof Date)v=f(v);else if(null===v){if(o)return l&&!h?l(n,s.encoder):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||i.isBuffer(v)){if(l)return[p(h?n:l(n,s.encoder))+"="+p(l(v,s.encoder))];return[p(n)+"="+p(String(v))]}var m=[];if(void 0===v)return m;var g;if(Array.isArray(u))g=u;else{var b=Object.keys(v);g=c?b.sort(c):b}for(var y=0;y<g.length;++y){var x=g[y];a&&null===v[x]||(m=Array.isArray(v)?m.concat(e(v[x],r(n,x),r,o,a,l,u,c,d,f,p,h)):m.concat(e(v[x],n+(d?"."+x:"["+x+"]"),r,o,a,l,u,c,d,f,p,h)))}return m};e.exports=function(e,t){var n=e,a=t?i.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===a.delimiter?s.delimiter:a.delimiter,c="boolean"==typeof a.strictNullHandling?a.strictNullHandling:s.strictNullHandling,d="boolean"==typeof a.skipNulls?a.skipNulls:s.skipNulls,f="boolean"==typeof a.encode?a.encode:s.encode,p="function"==typeof a.encoder?a.encoder:s.encoder,h="function"==typeof a.sort?a.sort:null,v=void 0!==a.allowDots&&a.allowDots,m="function"==typeof a.serializeDate?a.serializeDate:s.serializeDate,g="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:s.encodeValuesOnly;if(void 0===a.format)a.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,a.format))throw new TypeError("Unknown format option provided.");var b,y,x=r.formatters[a.format];"function"==typeof a.filter?(y=a.filter,n=y("",n)):Array.isArray(a.filter)&&(y=a.filter,b=y);var w=[];if("object"!=typeof n||null===n)return"";var S;S=a.arrayFormat in o?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var C=o[S];b||(b=Object.keys(n)),h&&b.sort(h);for(var E=0;E<b.length;++E){var q=b[E];d&&null===n[q]||(w=w.concat(l(n[q],q,C,c,d,f?p:null,y,h,v,m,x,g)))}var _=w.join(u),T=!0===a.addQueryPrefix?"?":"";return _.length>0?T+_:""}},function(e,t,n){"use strict";var i=n(146),r=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t){for(var n={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,a),l=0;l<s.length;++l){var u,c,d=s[l],f=d.indexOf("]="),p=-1===f?d.indexOf("="):f+1;-1===p?(u=t.decoder(d,o.decoder),c=t.strictNullHandling?null:""):(u=t.decoder(d.slice(0,p),o.decoder),c=t.decoder(d.slice(p+1),o.decoder)),r.call(n,u)?n[u]=[].concat(n[u]).concat(c):n[u]=c}return n},s=function(e,t,n){for(var i=t,r=e.length-1;r>=0;--r){var o,a=e[r];if("[]"===a)o=[],o=o.concat(i);else{o=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(s,10);!isNaN(l)&&a!==s&&String(l)===s&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(o=[],o[l]=i):o[s]=i}i=o}return i},l=function(e,t,n){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=o.exec(i),u=l?i.slice(0,l.index):i,c=[];if(u){if(!n.plainObjects&&r.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var d=0;null!==(l=a.exec(i))&&d<n.depth;){if(d+=1,!n.plainObjects&&r.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+i.slice(l.index)+"]"),s(c,t,n)}};e.exports=function(e,t){var n=t?i.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||i.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"==typeof n.depth?n.depth:o.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===e||null===e||void 0===e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?a(e,n):e,s=n.plainObjects?Object.create(null):{},u=Object.keys(r),c=0;c<u.length;++c){var d=u[c],f=l(d,r[d],n);s=i.merge(s,f,n)}return i.compact(s)}},function(e,t,n){"use strict";function i(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var r=n(293),o=n(314);e.exports.Type=n(1),e.exports.Schema=n(27),e.exports.FAILSAFE_SCHEMA=n(106),e.exports.JSON_SCHEMA=n(150),e.exports.CORE_SCHEMA=n(149),e.exports.DEFAULT_SAFE_SCHEMA=n(42),e.exports.DEFAULT_FULL_SCHEMA=n(65),e.exports.load=r.load,e.exports.loadAll=r.loadAll,e.exports.safeLoad=r.safeLoad,e.exports.safeLoadAll=r.safeLoadAll,e.exports.dump=o.dump,e.exports.safeDump=o.safeDump,e.exports.YAMLException=n(41),e.exports.MINIMAL_SCHEMA=n(106),e.exports.SAFE_SCHEMA=n(42),e.exports.DEFAULT_SCHEMA=n(65),e.exports.scan=i("scan"),e.exports.parse=i("parse"),e.exports.compose=i("compose"),e.exports.addConstructor=i("addConstructor")},function(e,t,n){"use strict";function i(e){return 10===e||13===e}function r(e){return 9===e||32===e}function o(e){return 9===e||32===e||10===e||13===e}function a(e){return 44===e||91===e||93===e||123===e||125===e}function s(e){var t;return 48<=e&&e<=57?e-48:(t=32|e,97<=t&&t<=102?t-97+10:-1)}function l(e){return 120===e?2:117===e?4:85===e?8:0}function u(e){return 48<=e&&e<=57?e-48:-1}function c(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"Â":95===e?"Â ":76===e?"\u2028":80===e?"\u2029":""}function d(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}function f(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||z,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function p(e,t){return new V(t,new H(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function h(e,t){throw p(e,t)}function v(e,t){e.onWarning&&e.onWarning.call(null,p(e,t))}function m(e,t,n,i){var r,o,a,s;if(t<n){if(s=e.input.slice(t,n),i)for(r=0,o=s.length;r<o;r+=1)9===(a=s.charCodeAt(r))||32<=a&&a<=1114111||h(e,"expected valid JSON character");else J.test(s)&&h(e,"the stream contains non-printable characters");e.result+=s}}function g(e,t,n,i){var r,o,a,s;for(B.isObject(n)||h(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),a=0,s=r.length;a<s;a+=1)o=r[a],$.call(t,o)||(t[o]=n[o],i[o]=!0)}function b(e,t,n,i,r,o,a,s){var l,u;if(r=String(r),null===t&&(t={}),"tag:yaml.org,2002:merge"===i)if(Array.isArray(o))for(l=0,u=o.length;l<u;l+=1)g(e,t,o[l],n);else g(e,t,o,n);else e.json||$.call(n,r)||!$.call(t,r)||(e.line=a||e.line,e.position=s||e.position,h(e,"duplicated mapping key")),t[r]=o,delete n[r];return t}function y(e){var t;t=e.input.charCodeAt(e.position),10===t?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):h(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function x(e,t,n){for(var o=0,a=e.input.charCodeAt(e.position);0!==a;){for(;r(a);)a=e.input.charCodeAt(++e.position);if(t&&35===a)do{a=e.input.charCodeAt(++e.position)}while(10!==a&&13!==a&&0!==a);if(!i(a))break;for(y(e),a=e.input.charCodeAt(e.position),o++,e.lineIndent=0;32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position)}return-1!==n&&0!==o&&e.lineIndent<n&&v(e,"deficient indentation"),o}function w(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!o(t)))}function S(e,t){1===t?e.result+=" ":t>1&&(e.result+=B.repeat("\n",t-1))}function C(e,t,n){var s,l,u,c,d,f,p,h,v,g=e.kind,b=e.result;if(v=e.input.charCodeAt(e.position),o(v)||a(v)||35===v||38===v||42===v||33===v||124===v||62===v||39===v||34===v||37===v||64===v||96===v)return!1;if((63===v||45===v)&&(l=e.input.charCodeAt(e.position+1),o(l)||n&&a(l)))return!1;for(e.kind="scalar",e.result="",u=c=e.position,d=!1;0!==v;){if(58===v){if(l=e.input.charCodeAt(e.position+1),o(l)||n&&a(l))break}else if(35===v){if(s=e.input.charCodeAt(e.position-1),o(s))break}else{if(e.position===e.lineStart&&w(e)||n&&a(v))break;if(i(v)){if(f=e.line,p=e.lineStart,h=e.lineIndent,x(e,!1,-1),e.lineIndent>=t){d=!0,v=e.input.charCodeAt(e.position);continue}e.position=c,e.line=f,e.lineStart=p,e.lineIndent=h;break}}d&&(m(e,u,c,!1),S(e,e.line-f),u=c=e.position,d=!1),r(v)||(c=e.position+1),v=e.input.charCodeAt(++e.position)}return m(e,u,c,!1),!!e.result||(e.kind=g,e.result=b,!1)}function E(e,t){var n,r,o;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=o=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(m(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,o=e.position}else i(n)?(m(e,r,o,!0),S(e,x(e,!1,t)),r=o=e.position):e.position===e.lineStart&&w(e)?h(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);h(e,"unexpected end of the stream within a single quoted scalar")}function q(e,t){var n,r,o,a,u,c;if(34!==(c=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(c=e.input.charCodeAt(e.position));){if(34===c)return m(e,n,e.position,!0),e.position++,!0;if(92===c){if(m(e,n,e.position,!0),c=e.input.charCodeAt(++e.position),i(c))x(e,!1,t);else if(c<256&&re[c])e.result+=oe[c],e.position++;else if((u=l(c))>0){for(o=u,a=0;o>0;o--)c=e.input.charCodeAt(++e.position),(u=s(c))>=0?a=(a<<4)+u:h(e,"expected hexadecimal character");e.result+=d(a),e.position++}else h(e,"unknown escape sequence");n=r=e.position}else i(c)?(m(e,n,r,!0),S(e,x(e,!1,t)),n=r=e.position):e.position===e.lineStart&&w(e)?h(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}h(e,"unexpected end of the stream within a double quoted scalar")}function _(e,t){var n,i,r,a,s,l,u,c,d,f,p,v=!0,m=e.tag,g=e.anchor,y={};if(91===(p=e.input.charCodeAt(e.position)))a=93,u=!1,i=[];else{if(123!==p)return!1;a=125,u=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),p=e.input.charCodeAt(++e.position);0!==p;){if(x(e,!0,t),(p=e.input.charCodeAt(e.position))===a)return e.position++,e.tag=m,e.anchor=g,e.kind=u?"mapping":"sequence",e.result=i,!0;v||h(e,"missed comma between flow collection entries"),d=c=f=null,s=l=!1,63===p&&(r=e.input.charCodeAt(e.position+1),o(r)&&(s=l=!0,e.position++,x(e,!0,t))),n=e.line,L(e,t,G,!1,!0),d=e.tag,c=e.result,x(e,!0,t),p=e.input.charCodeAt(e.position),!l&&e.line!==n||58!==p||(s=!0,p=e.input.charCodeAt(++e.position),x(e,!0,t),L(e,t,G,!1,!0),f=e.result),u?b(e,i,y,d,c,f):s?i.push(b(e,null,y,d,c,f)):i.push(c),x(e,!0,t),p=e.input.charCodeAt(e.position),44===p?(v=!0,p=e.input.charCodeAt(++e.position)):v=!1}h(e,"unexpected end of the stream within a flow collection")}function T(e,t){var n,o,a,s,l=Y,c=!1,d=!1,f=t,p=0,v=!1;if(124===(s=e.input.charCodeAt(e.position)))o=!1;else{if(62!==s)return!1;o=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)Y===l?l=43===s?Z:X:h(e,"repeat of a chomping mode identifier");else{if(!((a=u(s))>=0))break;0===a?h(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):d?h(e,"repeat of an indentation width identifier"):(f=t+a-1,d=!0)}if(r(s)){do{s=e.input.charCodeAt(++e.position)}while(r(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!i(s)&&0!==s)}for(;0!==s;){for(y(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!d||e.lineIndent<f)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!d&&e.lineIndent>f&&(f=e.lineIndent),i(s))p++;else{if(e.lineIndent<f){l===Z?e.result+=B.repeat("\n",c?1+p:p):l===Y&&c&&(e.result+="\n");break}for(o?r(s)?(v=!0,e.result+=B.repeat("\n",c?1+p:p)):v?(v=!1,e.result+=B.repeat("\n",p+1)):0===p?c&&(e.result+=" "):e.result+=B.repeat("\n",p):e.result+=B.repeat("\n",c?1+p:p),c=!0,d=!0,p=0,n=e.position;!i(s)&&0!==s;)s=e.input.charCodeAt(++e.position);m(e,n,e.position,!1)}}return!0}function k(e,t){var n,i,r,a=e.tag,s=e.anchor,l=[],u=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=l),r=e.input.charCodeAt(e.position);0!==r&&45===r&&(i=e.input.charCodeAt(e.position+1),o(i));)if(u=!0,e.position++,x(e,!0,-1)&&e.lineIndent<=t)l.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,L(e,t,Q,!1,!0),l.push(e.result),x(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)h(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!u&&(e.tag=a,e.anchor=s,e.kind="sequence",e.result=l,!0)}function O(e,t,n){var i,a,s,l,u,c=e.tag,d=e.anchor,f={},p={},v=null,m=null,g=null,y=!1,w=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=f),u=e.input.charCodeAt(e.position);0!==u;){if(i=e.input.charCodeAt(e.position+1),s=e.line,l=e.position,63!==u&&58!==u||!o(i)){if(!L(e,n,W,!1,!0))break;if(e.line===s){for(u=e.input.charCodeAt(e.position);r(u);)u=e.input.charCodeAt(++e.position);if(58===u)u=e.input.charCodeAt(++e.position),o(u)||h(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(b(e,f,p,v,m,null),v=m=g=null),w=!0,y=!1,a=!1,v=e.tag,m=e.result;else{if(!w)return e.tag=c,e.anchor=d,!0;h(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!w)return e.tag=c,e.anchor=d,!0;h(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===u?(y&&(b(e,f,p,v,m,null),v=m=g=null),w=!0,y=!0,a=!0):y?(y=!1,a=!0):h(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,u=i;if((e.line===s||e.lineIndent>t)&&(L(e,t,K,!0,a)&&(y?m=e.result:g=e.result),y||(b(e,f,p,v,m,g,s,l),v=m=g=null),x(e,!0,-1),u=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==u)h(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&b(e,f,p,v,m,null),w&&(e.tag=c,e.anchor=d,e.kind="mapping",e.result=f),w}function D(e){var t,n,i,r,a=!1,s=!1;if(33!==(r=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&h(e,"duplication of a tag property"),r=e.input.charCodeAt(++e.position),60===r?(a=!0,r=e.input.charCodeAt(++e.position)):33===r?(s=!0,n="!!",r=e.input.charCodeAt(++e.position)):n="!",t=e.position,a){do{r=e.input.charCodeAt(++e.position)}while(0!==r&&62!==r);e.position<e.length?(i=e.input.slice(t,e.position),r=e.input.charCodeAt(++e.position)):h(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==r&&!o(r);)33===r&&(s?h(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),ne.test(n)||h(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),r=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),te.test(i)&&h(e,"tag suffix cannot contain flow indicator characters")}return i&&!ie.test(i)&&h(e,"tag name cannot contain such characters: "+i),a?e.tag=i:$.call(e.tagMap,n)?e.tag=e.tagMap[n]+i:"!"===n?e.tag="!"+i:"!!"===n?e.tag="tag:yaml.org,2002:"+i:h(e,'undeclared tag handle "'+n+'"'),!0}function A(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&h(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!o(n)&&!a(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&h(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function I(e){var t,n,i;if(42!==(i=e.input.charCodeAt(e.position)))return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!o(i)&&!a(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&h(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||h(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],x(e,!0,-1),!0}function L(e,t,n,i,r){var o,a,s,l,u,c,d,f,p=1,v=!1,m=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=K===n||Q===n,i&&x(e,!0,-1)&&(v=!0,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)),1===p)for(;D(e)||A(e);)x(e,!0,-1)?(v=!0,s=o,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)):s=!1;if(s&&(s=v||r),1!==p&&K!==n||(d=G===n||W===n?t:t+1,f=e.position-e.lineStart,1===p?s&&(k(e,f)||O(e,f,d))||_(e,d)?m=!0:(a&&T(e,d)||E(e,d)||q(e,d)?m=!0:I(e)?(m=!0,null===e.tag&&null===e.anchor||h(e,"alias node should not have any properties")):C(e,d,G===n)&&(m=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===p&&(m=s&&k(e,f))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(l=0,u=e.implicitTypes.length;l<u;l+=1)if(c=e.implicitTypes[l],c.resolve(e.result)){e.result=c.construct(e.result),e.tag=c.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else $.call(e.typeMap[e.kind||"fallback"],e.tag)?(c=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&c.kind!==e.kind&&h(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+c.kind+'", not "'+e.kind+'"'),c.resolve(e.result)?(e.result=c.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):h(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):h(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||m}function P(e){var t,n,a,s,l=e.position,u=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(s=e.input.charCodeAt(e.position))&&(x(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==s));){for(u=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!o(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(t,e.position),a=[],n.length<1&&h(e,"directive name must not be less than one character in length");0!==s;){for(;r(s);)s=e.input.charCodeAt(++e.position);if(35===s){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&!i(s));break}if(i(s))break;for(t=e.position;0!==s&&!o(s);)s=e.input.charCodeAt(++e.position);a.push(e.input.slice(t,e.position))}0!==s&&y(e),$.call(se,n)?se[n](e,n,a):v(e,'unknown document directive "'+n+'"')}if(x(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,x(e,!0,-1)):u&&h(e,"directives end mark is expected"),L(e,e.lineIndent-1,K,!1,!0),x(e,!0,-1),e.checkLineBreaks&&ee.test(e.input.slice(l,e.position))&&v(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&w(e))return void(46===e.input.charCodeAt(e.position)&&(e.position+=3,x(e,!0,-1)));e.position<e.length-1&&h(e,"end of the stream or a document separator is expected")}function M(e,t){e=String(e),t=t||{},0!==e.length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new f(e,t);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)P(n);return n.documents}function N(e,t,n){var i,r,o=M(e,n);if("function"!=typeof t)return o;for(i=0,r=o.length;i<r;i+=1)t(o[i])}function R(e,t){var n=M(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new V("expected a single document in the stream, but found more")}}function F(e,t,n){if("function"!=typeof t)return N(e,B.extend({schema:U},n));N(e,t,B.extend({schema:U},n))}function j(e,t){return R(e,B.extend({schema:U},t))}for(var B=n(26),V=n(41),H=n(294),U=n(42),z=n(65),$=Object.prototype.hasOwnProperty,G=1,W=2,Q=3,K=4,Y=1,X=2,Z=3,J=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ee=/[\x85\u2028\u2029]/,te=/[,\[\]\{\}]/,ne=/^(?:!|!!|![a-z\-]+!)$/i,ie=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,re=new Array(256),oe=new Array(256),ae=0;ae<256;ae++)re[ae]=c(ae)?1:0,oe[ae]=c(ae);var se={YAML:function(e,t,n){var i,r,o;null!==e.version&&h(e,"duplication of %YAML directive"),1!==n.length&&h(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),null===i&&h(e,"ill-formed argument of the YAML directive"),r=parseInt(i[1],10),o=parseInt(i[2],10),1!==r&&h(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&v(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var i,r;2!==n.length&&h(e,"TAG directive accepts exactly two arguments"),i=n[0],r=n[1],ne.test(i)||h(e,"ill-formed tag handle (first argument) of the TAG directive"),$.call(e.tagMap,i)&&h(e,'there is a previously declared suffix for "'+i+'" tag handle'),ie.test(r)||h(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[i]=r}};e.exports.loadAll=N,e.exports.load=R,e.exports.safeLoadAll=F,e.exports.safeLoad=j},function(e,t,n){"use strict";function i(e,t,n,i,r){this.name=e,this.buffer=t,this.position=n,this.line=i,this.column=r}var r=n(26);i.prototype.getSnippet=function(e,t){var n,i,o,a,s;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",i=this.position;i>0&&-1==="\0\r\nÂ\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){n=" ... ",i+=5;break}for(o="",a=this.position;a<this.buffer.length&&-1==="\0\r\nÂ\u2028\u2029".indexOf(this.buffer.charAt(a));)if((a+=1)-this.position>t/2-1){o=" ... ",a-=5;break}return s=this.buffer.slice(i,a),r.repeat(" ",e)+n+s+o+"\n"+r.repeat(" ",e+this.position-i+n.length)+"^"},i.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(n+=":\n"+t),n},e.exports=i},function(e,t,n){"use strict";var i=n(1);e.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},function(e,t,n){"use strict";var i=n(1);e.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},function(e,t,n){"use strict";var i=n(1);e.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function r(){return null}function o(e){return null===e}var a=n(1);e.exports=new a("tag:yaml.org,2002:null",{kind:"scalar",resolve:i,construct:r,predicate:o,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";function i(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function r(e){return"true"===e||"True"===e||"TRUE"===e}function o(e){return"[object Boolean]"===Object.prototype.toString.call(e)}var a=n(1);e.exports=new a("tag:yaml.org,2002:bool",{kind:"scalar",resolve:i,construct:r,predicate:o,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";function i(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function r(e){return 48<=e&&e<=55}function o(e){return 48<=e&&e<=57}function a(e){if(null===e)return!1;var t,n=e.length,a=0,s=!1;if(!n)return!1;if(t=e[a],"-"!==t&&"+"!==t||(t=e[++a]),"0"===t){if(a+1===n)return!0;if("b"===(t=e[++a])){for(a++;a<n;a++)if("_"!==(t=e[a])){if("0"!==t&&"1"!==t)return!1;s=!0}return s&&"_"!==t}if("x"===t){for(a++;a<n;a++)if("_"!==(t=e[a])){if(!i(e.charCodeAt(a)))return!1;s=!0}return s&&"_"!==t}for(;a<n;a++)if("_"!==(t=e[a])){if(!r(e.charCodeAt(a)))return!1;s=!0}return s&&"_"!==t}if("_"===t)return!1;for(;a<n;a++)if("_"!==(t=e[a])){if(":"===t)break;if(!o(e.charCodeAt(a)))return!1;s=!0}return!(!s||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(a)))}function s(e){var t,n,i=e,r=1,o=[];return-1!==i.indexOf("_")&&(i=i.replace(/_/g,"")),t=i[0],"-"!==t&&"+"!==t||("-"===t&&(r=-1),i=i.slice(1),t=i[0]),"0"===i?0:"0"===t?"b"===i[1]?r*parseInt(i.slice(2),2):"x"===i[1]?r*parseInt(i,16):r*parseInt(i,8):-1!==i.indexOf(":")?(i.split(":").forEach(function(e){o.unshift(parseInt(e,10))}),i=0,n=1,o.forEach(function(e){i+=e*n,n*=60}),r*i):r*parseInt(i,10)}function l(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!u.isNegativeZero(e)}var u=n(26),c=n(1);e.exports=new c("tag:yaml.org,2002:int",{kind:"scalar",resolve:a,construct:s,predicate:l,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(e,t,n){"use strict";function i(e){return null!==e&&!(!u.test(e)||"_"===e[e.length-1])}function r(e){var t,n,i,r;return t=e.replace(/_/g,"").toLowerCase(),n="-"===t[0]?-1:1,r=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(e){r.unshift(parseFloat(e,10))}),t=0,i=1,r.forEach(function(e){t+=e*i,i*=60}),n*t):n*parseFloat(t,10)}function o(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(s.isNegativeZero(e))return"-0.0";return n=e.toString(10),c.test(n)?n.replace("e",".e"):n}function a(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||s.isNegativeZero(e))}var s=n(26),l=n(1),u=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),c=/^[-+]?[0-9]+e/;e.exports=new l("tag:yaml.org,2002:float",{kind:"scalar",resolve:i,construct:r,predicate:a,represent:o,defaultStyle:"lowercase"})},function(e,t,n){"use strict";function i(e){return null!==e&&(null!==s.exec(e)||null!==l.exec(e))}function r(e){var t,n,i,r,o,a,u,c,d,f,p=0,h=null;if(t=s.exec(e),null===t&&(t=l.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(o=+t[4],a=+t[5],u=+t[6],t[7]){for(p=t[7].slice(0,3);p.length<3;)p+="0";p=+p}return t[9]&&(c=+t[10],d=+(t[11]||0),h=6e4*(60*c+d),"-"===t[9]&&(h=-h)),f=new Date(Date.UTC(n,i,r,o,a,u,p)),h&&f.setTime(f.getTime()-h),f}function o(e){return e.toISOString()}var a=n(1),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),l=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new a("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:i,construct:r,instanceOf:Date,represent:o})},function(e,t,n){"use strict";function i(e){return"<<"===e||null===e}var r=n(1);e.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:i})},function(e,t,n){"use strict";function i(e){if(null===e)return!1;var t,n,i=0,r=e.length,o=u;for(n=0;n<r;n++)if(!((t=o.indexOf(e.charAt(n)))>64)){if(t<0)return!1;i+=6}return i%8==0}function r(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,o=u,a=0,l=[];for(t=0;t<r;t++)t%4==0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)),a=a<<6|o.indexOf(i.charAt(t));return n=r%4*6,0===n?(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)):18===n?(l.push(a>>10&255),l.push(a>>2&255)):12===n&&l.push(a>>4&255),s?s.from?s.from(l):new s(l):l}function o(e){var t,n,i="",r=0,o=e.length,a=u;for(t=0;t<o;t++)t%3==0&&t&&(i+=a[r>>18&63],i+=a[r>>12&63],i+=a[r>>6&63],i+=a[63&r]),r=(r<<8)+e[t];return n=o%3,0===n?(i+=a[r>>18&63],i+=a[r>>12&63],i+=a[r>>6&63],i+=a[63&r]):2===n?(i+=a[r>>10&63],i+=a[r>>4&63],i+=a[r<<2&63],i+=a[64]):1===n&&(i+=a[r>>2&63],i+=a[r<<4&63],i+=a[64],i+=a[64]),i}function a(e){return s&&s.isBuffer(e)}var s;try{s=n(43).Buffer}catch(e){}var l=n(1),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new l("tag:yaml.org,2002:binary",{kind:"scalar",resolve:i,construct:r,predicate:a,represent:o})},function(e,t,n){"use strict";function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function r(e){var t=i(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function o(e,t,n){return 3*(t+n)/4-n}function a(e){for(var t,n=i(e),r=n[0],a=n[1],s=new f(o(e,r,a)),l=0,u=a>0?r-4:r,c=0;c<u;c+=4)t=d[e.charCodeAt(c)]<<18|d[e.charCodeAt(c+1)]<<12|d[e.charCodeAt(c+2)]<<6|d[e.charCodeAt(c+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=d[e.charCodeAt(c)]<<2|d[e.charCodeAt(c+1)]>>4,s[l++]=255&t),1===a&&(t=d[e.charCodeAt(c)]<<10|d[e.charCodeAt(c+1)]<<4|d[e.charCodeAt(c+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function l(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(s(i));return r.join("")}function u(e){for(var t,n=e.length,i=n%3,r=[],o=0,a=n-i;o<a;o+=16383)r.push(l(e,o,o+16383>a?a:o+16383));return 1===i?(t=e[n-1],r.push(c[t>>2]+c[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),r.join("")}t.byteLength=r,t.toByteArray=a,t.fromByteArray=u;for(var c=[],d=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,v=p.length;h<v;++h)c[h]=p[h],d[p.charCodeAt(h)]=h;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?r-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,d=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,h=i?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+d>=1?f/l:f*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=h,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t,n,i,r,o,l=[],u=e;for(t=0,n=u.length;t<n;t+=1){if(i=u[t],o=!1,"[object Object]"!==s.call(i))return!1;for(r in i)if(a.call(i,r)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==l.indexOf(r))return!1;l.push(r)}return!0}function r(e){return null!==e?e:[]}var o=n(1),a=Object.prototype.hasOwnProperty,s=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:i,construct:r})},function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(i=s[t],"[object Object]"!==a.call(i))return!1;if(r=Object.keys(i),1!==r.length)return!1;o[t]=[r[0],i[r[0]]]}return!0}function r(e){if(null===e)return[];var t,n,i,r,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1)i=a[t],r=Object.keys(i),o[t]=[r[0],i[r[0]]];return o}var o=n(1),a=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:i,construct:r})},function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t,n=e;for(t in n)if(a.call(n,t)&&null!==n[t])return!1;return!0}function r(e){return null!==e?e:{}}var o=n(1),a=Object.prototype.hasOwnProperty;e.exports=new o("tag:yaml.org,2002:set",{kind:"mapping",resolve:i,construct:r})},function(e,t,n){"use strict";function i(){return!0}function r(){}function o(){return""}function a(e){return void 0===e}var s=n(1);e.exports=new s("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:i,construct:r,predicate:a,represent:o})},function(e,t,n){"use strict";function i(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),i="";if("/"===t[0]){if(n&&(i=n[1]),i.length>3)return!1;if("/"!==t[t.length-i.length-1])return!1}return!0}function r(e){var t=e,n=/\/([gim]*)$/.exec(e),i="";return"/"===t[0]&&(n&&(i=n[1]),t=t.slice(1,t.length-i.length-1)),new RegExp(t,i)}function o(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function a(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var s=n(1);e.exports=new s("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:i,construct:r,predicate:a,represent:o})},function(e,t,n){"use strict";function i(e){if(null===e)return!1;try{var t="("+e+")",n=s.parse(t,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(e){return!1}}function r(e){var t,n="("+e+")",i=s.parse(n,{range:!0}),r=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(e){r.push(e.name)}),t=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(r,n.slice(t[0]+1,t[1]-1)):new Function(r,"return "+n.slice(t[0],t[1]))}function o(e){return e.toString()}function a(e){return"[object Function]"===Object.prototype.toString.call(e)}var s;"undefined"!=typeof window&&(s=window.esprima);var l=n(1);e.exports=new l("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:i,construct:r,predicate:a,represent:o})},function(e,t,n){"use strict";function i(e,t){var n,i,r,o,a,s,l;if(null===t)return{};for(n={},i=Object.keys(t),r=0,o=i.length;r<o;r+=1)a=i[r],s=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),l=e.compiledTypeMap.fallback[a],l&&N.call(l.styleAliases,s)&&(s=l.styleAliases[s]),n[a]=s;return n}function r(e){var t,n,i;if(t=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else{if(!(e<=4294967295))throw new I("code point within a string may not be greater than 0xFFFFFFFF");n="U",i=8}return"\\"+n+A.repeat("0",i-t.length)+t}function o(e){this.schema=e.schema||L,this.indent=Math.max(1,e.indent||2),this.skipInvalid=e.skipInvalid||!1,this.flowLevel=A.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=i(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function a(e,t){for(var n,i=A.repeat(" ",t),r=0,o=-1,a="",s=e.length;r<s;)o=e.indexOf("\n",r),-1===o?(n=e.slice(r),r=s):(n=e.slice(r,o+1),r=o+1),n.length&&"\n"!==n&&(a+=i),a+=n;return a}function s(e,t){return"\n"+A.repeat(" ",e.indent*t)}function l(e,t){var n,i,r;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(r=e.implicitTypes[n],r.resolve(t))return!0;return!1}function u(e){return e===j||e===R}function c(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function d(e){return c(e)&&65279!==e&&e!==W&&e!==J&&e!==ee&&e!==ne&&e!==re&&e!==K&&e!==H}function f(e){return c(e)&&65279!==e&&!u(e)&&e!==Q&&e!==X&&e!==K&&e!==W&&e!==J&&e!==ee&&e!==ne&&e!==re&&e!==H&&e!==z&&e!==G&&e!==B&&e!==ie&&e!==Y&&e!==$&&e!==V&&e!==U&&e!==Z&&e!==te}function p(e){return/^\n* /.test(e)}function h(e,t,n,i,r){var o,a,s=!1,l=!1,h=-1!==i,v=-1,m=f(e.charCodeAt(0))&&!u(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(a=e.charCodeAt(o),!c(a))return de;m=m&&d(a)}else{for(o=0;o<e.length;o++){if((a=e.charCodeAt(o))===F)s=!0,h&&(l=l||o-v-1>i&&" "!==e[v+1],v=o);else if(!c(a))return de;m=m&&d(a)}l=l||h&&o-v-1>i&&" "!==e[v+1]}return s||l?n>9&&p(e)?de:l?ce:ue:m&&!r(e)?se:le}function v(e,t,n,i){e.dump=function(){function r(t){return l(e,t)}if(0===t.length)return"''";if(!e.noCompatMode&&-1!==ae.indexOf(t))return"'"+t+"'";var o=e.indent*Math.max(1,n),s=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),u=i||e.flowLevel>-1&&n>=e.flowLevel;switch(h(t,u,e.indent,s,r)){case se:return t;case le:return"'"+t.replace(/'/g,"''")+"'";case ue:return"|"+m(t,e.indent)+g(a(t,o));case ce:return">"+m(t,e.indent)+g(a(b(t,s),o));case de:return'"'+x(t)+'"';default:throw new I("impossible error: invalid scalar style")}}()}function m(e,t){var n=p(e)?String(t):"",i="\n"===e[e.length-1];return n+(!i||"\n"!==e[e.length-2]&&"\n"!==e?i?"":"-":"+")+"\n"}function g(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function b(e,t){for(var n,i,r=/(\n+)([^\n]*)/g,o=function(){var n=e.indexOf("\n");return n=-1!==n?n:e.length,r.lastIndex=n,y(e.slice(0,n),t)}(),a="\n"===e[0]||" "===e[0];i=r.exec(e);){var s=i[1],l=i[2];n=" "===l[0],o+=s+(a||n||""===l?"":"\n")+y(l,t),a=n}return o}function y(e,t){if(""===e||" "===e[0])return e;for(var n,i,r=/ [^ ]/g,o=0,a=0,s=0,l="";n=r.exec(e);)s=n.index,s-o>t&&(i=a>o?a:s,l+="\n"+e.slice(o,i),o=i+1),a=s;return l+="\n",e.length-o>t&&a>o?l+=e.slice(o,a)+"\n"+e.slice(a+1):l+=e.slice(o),l.slice(1)}function x(e){for(var t,n,i,o="",a=0;a<e.length;a++)t=e.charCodeAt(a),t>=55296&&t<=56319&&(n=e.charCodeAt(a+1))>=56320&&n<=57343?(o+=r(1024*(t-55296)+n-56320+65536),a++):(i=oe[t],o+=!i&&c(t)?e[a]:i||r(t));return o}function w(e,t,n){var i,r,o="",a=e.tag;for(i=0,r=n.length;i<r;i+=1)_(e,t,n[i],!1,!1)&&(0!==i&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}function S(e,t,n,i){var r,o,a="",l=e.tag;for(r=0,o=n.length;r<o;r+=1)_(e,t+1,n[r],!0,!0)&&(i&&0===r||(a+=s(e,t)),e.dump&&F===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=l,e.dump=a||"[]"}function C(e,t,n){var i,r,o,a,s,l="",u=e.tag,c=Object.keys(n);for(i=0,r=c.length;i<r;i+=1)s=e.condenseFlow?'"':"",0!==i&&(s+=", "),o=c[i],a=n[o],_(e,t,o,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),_(e,t,a,!1,!1)&&(s+=e.dump,l+=s));e.tag=u,e.dump="{"+l+"}"}function E(e,t,n,i){var r,o,a,l,u,c,d="",f=e.tag,p=Object.keys(n);if(!0===e.sortKeys)p.sort();else if("function"==typeof e.sortKeys)p.sort(e.sortKeys);else if(e.sortKeys)throw new I("sortKeys must be a boolean or a function");for(r=0,o=p.length;r<o;r+=1)c="",i&&0===r||(c+=s(e,t)),a=p[r],l=n[a],_(e,t+1,a,!0,!0,!0)&&(u=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024,u&&(e.dump&&F===e.dump.charCodeAt(0)?c+="?":c+="? "),c+=e.dump,u&&(c+=s(e,t)),_(e,t+1,l,!0,u)&&(e.dump&&F===e.dump.charCodeAt(0)?c+=":":c+=": ",c+=e.dump,d+=c));e.tag=f,e.dump=d||"{}"}function q(e,t,n){var i,r,o,a,s,l;for(r=n?e.explicitTypes:e.implicitTypes,o=0,a=r.length;o<a;o+=1)if(s=r[o],(s.instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(e.tag=n?s.tag:"?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===M.call(s.represent))i=s.represent(t,l);else{if(!N.call(s.represent,l))throw new I("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');i=s.represent[l](t,l)}e.dump=i}return!0}return!1}function _(e,t,n,i,r,o){e.tag=null,e.dump=n,q(e,n,!1)||q(e,n,!0);var a=M.call(e.dump);i&&(i=e.flowLevel<0||e.flowLevel>t);var s,l,u="[object Object]"===a||"[object Array]"===a;if(u&&(s=e.duplicates.indexOf(n),l=-1!==s),(null!==e.tag&&"?"!==e.tag||l||2!==e.indent&&t>0)&&(r=!1),l&&e.usedDuplicates[s])e.dump="*ref_"+s;else{if(u&&l&&!e.usedDuplicates[s]&&(e.usedDuplicates[s]=!0),"[object Object]"===a)i&&0!==Object.keys(e.dump).length?(E(e,t,e.dump,r),l&&(e.dump="&ref_"+s+e.dump)):(C(e,t,e.dump),l&&(e.dump="&ref_"+s+" "+e.dump));else if("[object Array]"===a)i&&0!==e.dump.length?(S(e,t,e.dump,r),l&&(e.dump="&ref_"+s+e.dump)):(w(e,t,e.dump),l&&(e.dump="&ref_"+s+" "+e.dump));else{if("[object String]"!==a){if(e.skipInvalid)return!1;throw new I("unacceptable kind of an object to dump "+a)}"?"!==e.tag&&v(e,e.dump,t,o)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function T(e,t){var n,i,r=[],o=[];for(k(e,r,o),n=0,i=o.length;n<i;n+=1)t.duplicates.push(r[o[n]]);t.usedDuplicates=new Array(i)}function k(e,t,n){var i,r,o;if(null!==e&&"object"==typeof e)if(-1!==(r=t.indexOf(e)))-1===n.indexOf(r)&&n.push(r);else if(t.push(e),Array.isArray(e))for(r=0,o=e.length;r<o;r+=1)k(e[r],t,n);else for(i=Object.keys(e),r=0,o=i.length;r<o;r+=1)k(e[i[r]],t,n)}function O(e,t){t=t||{};var n=new o(t);return n.noRefs||T(e,n),_(n,0,e,!0,!0)?n.dump+"\n":""}function D(e,t){return O(e,A.extend({schema:P},t))}var A=n(26),I=n(41),L=n(65),P=n(42),M=Object.prototype.toString,N=Object.prototype.hasOwnProperty,R=9,F=10,j=32,B=33,V=34,H=35,U=37,z=38,$=39,G=42,W=44,Q=45,K=58,Y=62,X=63,Z=64,J=91,ee=93,te=96,ne=123,ie=124,re=125,oe={};oe[0]="\\0",oe[7]="\\a",oe[8]="\\b",oe[9]="\\t",oe[10]="\\n",oe[11]="\\v",oe[12]="\\f",oe[13]="\\r",oe[27]="\\e",oe[34]='\\"',oe[92]="\\\\",oe[133]="\\N",oe[160]="\\_",oe[8232]="\\L",oe[8233]="\\P";var ae=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],se=1,le=2,ue=3,ce=4,de=5;e.exports.dump=O,e.exports.safeDump=D},function(e,t,n){function i(e){return"string"==typeof e||!o(e)&&a(e)&&r(e)==s}var r=n(21),o=n(6),a=n(13),s="[object String]";e.exports=i},function(e,t){e.exports=FormData},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return new j(e).dispatch()}Object.defineProperty(t,"__esModule",{value:!0}),t.plugins=t.SpecMap=void 0;var o=n(62),a=i(o),s=n(18),l=i(s),u=n(102),c=i(u),d=n(40),f=i(d),p=n(11),h=i(p),v=n(96),m=i(v),g=n(318),b=i(g),y=n(14),x=i(y),w=n(152),S=i(w),C=n(153),E=i(C);t.default=r;var q=n(323),_=i(q),T=n(68),k=i(T),O=n(360),D=i(O),A=n(374),I=i(A),L=n(375),P=i(L),M=n(376),N=i(M),R=n(377),F=i(R),j=function(){function e(t){(0,S.default)(this,e),(0,x.default)(this,{spec:"",debugLevel:"info",plugins:[],pluginHistory:{},errors:[],mutations:[],promisedPatches:[],state:{},patches:[],context:{},contextTree:new F.default,showDebug:!1,allPatches:[],pluginProp:"specMap",libMethods:(0,x.default)((0,b.default)(this),k.default),allowMetaPatches:!1},t),this.get=this._get.bind(this),this.getContext=this._getContext.bind(this),this.hasRun=this._hasRun.bind(this),this.wrappedPlugins=this.plugins.map(this.wrapPlugin.bind(this)).filter(k.default.isFunction),this.patches.push(k.default.add([],this.spec)),this.patches.push(k.default.context([],this.context)),this.updatePatches(this.patches)}return(0,E.default)(e,[{key:"debug",value:function(e){if(this.debugLevel===e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=console).log.apply(t,i)}}},{key:"verbose",value:function(e){if("verbose"===this.debugLevel){for(var t,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=console).log.apply(t,["["+e+"]   "].concat(i))}}},{key:"wrapPlugin",value:function(e,t){var n=this.pathDiscriminator,i=null,r=void 0;return e[this.pluginProp]?(i=e,r=e[this.pluginProp]):k.default.isFunction(e)?r=e:k.default.isObject(e)&&(r=function(e){var t=function(e,t){return!Array.isArray(e)||e.every(function(e,n){return e===t[n]})};return f.default.mark(function i(r,o){var a,s,l,u,c,d,p,v,g;return f.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:g=function i(r,l,u){var c,d,p,v,g,b,y,x,w,S,C,E,q,_,T,O;return f.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(k.default.isObject(r)){a.next=6;break}if(e.key!==l[l.length-1]){a.next=4;break}return a.next=4,e.plugin(r,e.key,l,o);case 4:a.next=48;break;case 6:c=l.length-1,d=l[c],p=l.indexOf("properties"),v="properties"===d&&c===p,g=o.allowMetaPatches&&s[r.$$ref],b=!0,y=!1,x=void 0,a.prev=14,w=(0,m.default)((0,h.default)(r));case 16:if(b=(S=w.next()).done){a.next=34;break}if(C=S.value,E=r[C],q=l.concat(C),_=k.default.isObject(E),T=r.$$ref,g){a.next=26;break}if(!_){a.next=26;break}return o.allowMetaPatches&&T&&(s[T]=!0),a.delegateYield(i(E,q,u),"t0",26);case 26:if(v||C!==e.key){a.next=31;break}if(O=t(n,l),n&&!O){a.next=31;break}return a.next=31,e.plugin(E,C,q,o,u);case 31:b=!0,a.next=16;break;case 34:a.next=40;break;case 36:a.prev=36,a.t1=a.catch(14),y=!0,x=a.t1;case 40:a.prev=40,a.prev=41,!b&&w.return&&w.return();case 43:if(a.prev=43,!y){a.next=46;break}throw x;case 46:return a.finish(43);case 47:return a.finish(40);case 48:case"end":return a.stop()}},a,this,[[14,36,40,48],[41,,43,47]])},a=f.default.mark(g),s={},l=!0,u=!1,c=void 0,i.prev=6,d=(0,m.default)(r.filter(k.default.isAdditiveMutation));case 8:if(l=(p=d.next()).done){i.next=14;break}return v=p.value,i.delegateYield(g(v.value,v.path,v),"t0",11);case 11:l=!0,i.next=8;break;case 14:i.next=20;break;case 16:i.prev=16,i.t1=i.catch(6),u=!0,c=i.t1;case 20:i.prev=20,i.prev=21,!l&&d.return&&d.return();case 23:if(i.prev=23,!u){i.next=26;break}throw c;case 26:return i.finish(23);case 27:return i.finish(20);case 28:case"end":return i.stop()}},i,this,[[6,16,20,28],[21,,23,27]])})}(e)),(0,x.default)(r.bind(i),{pluginName:e.name||t,isGenerator:k.default.isGenerator(r)})}},{key:"nextPlugin",value:function(){var e=this;return(0,_.default)(this.wrappedPlugins,function(t){return e.getMutationsForPlugin(t).length>0})}},{key:"nextPromisedPatch",value:function(){if(this.promisedPatches.length>0)return c.default.race(this.promisedPatches.map(function(e){return e.value}))}},{key:"getPluginHistory",value:function(e){var t=this.getPluginName(e);return this.pluginHistory[t]||[]}},{key:"getPluginRunCount",value:function(e){return this.getPluginHistory(e).length}},{key:"getPluginHistoryTip",value:function(e){var t=this.getPluginHistory(e);return t&&t[t.length-1]||{}}},{key:"getPluginMutationIndex",value:function(e){var t=this.getPluginHistoryTip(e).mutationIndex;return"number"!=typeof t?-1:t}},{key:"getPluginName",value:function(e){return e.pluginName}},{key:"updatePluginHistory",value:function(e,t){var n=this.getPluginName(e);(this.pluginHistory[n]=this.pluginHistory[n]||[]).push(t)}},{key:"updatePatches",value:function(e,t){var n=this;k.default.normalizeArray(e).forEach(function(e){if(e instanceof Error)return void n.errors.push(e);try{if(!k.default.isObject(e))return void n.debug("updatePatches","Got a non-object patch",e);if(n.showDebug&&n.allPatches.push(e),k.default.isPromise(e.value))return n.promisedPatches.push(e),void n.promisedPatchThen(e);if(k.default.isContextPatch(e))return void n.setContext(e.path,e.value);if(k.default.isMutation(e))return void n.updateMutations(e)}catch(e){console.error(e),n.errors.push(e)}})}},{key:"updateMutations",value:function(e){"object"===(0,l.default)(e.value)&&!Array.isArray(e.value)&&this.allowMetaPatches&&(e.value=(0,x.default)({},e.value));var t=k.default.applyPatch(this.state,e,{allowMetaPatches:this.allowMetaPatches});t&&(this.mutations.push(e),this.state=t)}},{key:"removePromisedPatch",value:function(e){var t=this.promisedPatches.indexOf(e);if(t<0)return void this.debug("Tried to remove a promisedPatch that isn't there!");this.promisedPatches.splice(t,1)}},{key:"promisedPatchThen",value:function(e){var t=this;return e.value=e.value.then(function(n){var i=(0,x.default)({},e,{value:n});t.removePromisedPatch(e),t.updatePatches(i)}).catch(function(n){t.removePromisedPatch(e),t.updatePatches(n)})}},{key:"getMutations",value:function(e,t){return e=e||0,"number"!=typeof t&&(t=this.mutations.length),this.mutations.slice(e,t)}},{key:"getCurrentMutations",value:function(){return this.getMutationsForPlugin(this.getCurrentPlugin())}},{key:"getMutationsForPlugin",value:function(e){var t=this.getPluginMutationIndex(e);return this.getMutations(t+1)}},{key:"getCurrentPlugin",value:function(){return this.currentPlugin}},{key:"getPatchesOfType",value:function(e,t){return e.filter(t)}},{key:"getLib",value:function(){return this.libMethods}},{key:"_get",value:function(e){return k.default.getIn(this.state,e)}},{key:"_getContext",value:function(e){return this.contextTree.get(e)}},{key:"setContext",value:function(e,t){return this.contextTree.set(e,t)}},{key:"_hasRun",value:function(e){return this.getPluginRunCount(this.getCurrentPlugin())>(e||0)}},{key:"_clone",value:function(e){return JSON.parse((0,a.default)(e))}},{key:"dispatch",value:function(){function e(e){e&&(e=k.default.fullyNormalizeArray(e),n.updatePatches(e,i))}var t=this,n=this,i=this.nextPlugin();if(!i){var r=this.nextPromisedPatch();if(r)return r.then(function(){return t.dispatch()}).catch(function(){return t.dispatch()});var o={spec:this.state,errors:this.errors};return this.showDebug&&(o.patches=this.allPatches),c.default.resolve(o)}if(n.pluginCount=n.pluginCount||{},n.pluginCount[i]=(n.pluginCount[i]||0)+1,n.pluginCount[i]>100)return c.default.resolve({spec:n.state,errors:n.errors.concat(new Error("We've reached a hard limit of 100 plugin runs"))});if(i!==this.currentPlugin&&this.promisedPatches.length){var a=this.promisedPatches.map(function(e){return e.value});return c.default.all(a.map(function(e){return e.then(Function,Function)})).then(function(){return t.dispatch()})}return function(){n.currentPlugin=i;var t=n.getCurrentMutations(),r=n.mutations.length-1;try{if(i.isGenerator){var o=!0,a=!1,s=void 0;try{for(var l,u=(0,m.default)(i(t,n.getLib()));!(o=(l=u.next()).done);o=!0)e(l.value)}catch(e){a=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}}else e(i(t,n.getLib()))}catch(t){console.error(t),e([(0,x.default)((0,b.default)(t),{plugin:i})])}finally{n.updatePluginHistory(i,{mutationIndex:r})}return n.dispatch()}()}}]),e}(),B={refs:D.default,allOf:I.default,parameters:P.default,properties:N.default};t.SpecMap=j,t.plugins=B},function(e,t,n){e.exports={default:n(319),__esModule:!0}},function(e,t,n){n(320);var i=n(0).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){var i=n(4);i(i.S,"Object",{create:n(94)})},function(e,t,n){n(322);var i=n(0).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t,n){var i=n(4);i(i.S+i.F*!n(12),"Object",{defineProperty:n(7).f})},function(e,t,n){var i=n(324),r=n(347),o=i(r);e.exports=o},function(e,t,n){function i(e){return function(t,n,i){var s=Object(t);if(!o(t)){var l=r(n,3);t=a(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,i);return u>-1?s[l?t[u]:u]:void 0}}var r=n(155),o=n(36),a=n(24);e.exports=i},function(e,t,n){function i(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}var r=n(326),o=n(337),a=n(159);e.exports=i},function(e,t,n){function i(e,t,n,i){var l=n.length,u=l,c=!i;if(null==e)return!u;for(e=Object(e);l--;){var d=n[l];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<u;){d=n[l];var f=d[0],p=e[f],h=d[1];if(c&&d[2]){if(void 0===p&&!(f in e))return!1}else{var v=new r;if(i)var m=i(p,h,f,e,t,v);if(!(void 0===m?o(h,p,a|s,i,v):m))return!1}}return!0}var r=n(78),o=n(156),a=1,s=2;e.exports=i},function(e,t,n){function i(e,t,n,i,m,b){var y=u(e),x=u(t),w=y?h:l(e),S=x?h:l(t);w=w==p?v:w,S=S==p?v:S;var C=w==v,E=S==v,q=w==S;if(q&&c(e)){if(!c(t))return!1;y=!0,C=!1}if(q&&!C)return b||(b=new r),y||d(e)?o(e,t,n,i,m,b):a(e,t,w,n,i,m,b);if(!(n&f)){var _=C&&g.call(e,"__wrapped__"),T=E&&g.call(t,"__wrapped__");if(_||T){var k=_?e.value():e,O=T?t.value():t;return b||(b=new r),m(k,O,n,i,b)}}return!!q&&(b||(b=new r),s(e,t,n,i,m,b))}var r=n(78),o=n(157),a=n(333),s=n(336),l=n(58),u=n(6),c=n(83),d=n(121),f=1,p="[object Arguments]",h="[object Array]",v="[object Object]",m=Object.prototype,g=m.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=n(81),o=n(329),a=n(330);i.prototype.add=i.prototype.push=o,i.prototype.has=a,e.exports=i},function(e,t){function n(e){return this.__data__.set(e,i),this}var i="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function i(e,t,n,i,r,C,q){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!C(new o(e),new o(t)));case f:case p:case m:return a(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case v:var _=l;case b:var T=i&c;if(_||(_=u),e.size!=t.size&&!T)return!1;var k=q.get(e);if(k)return k==t;i|=d,q.set(e,t);var O=s(_(e),_(t),i,r,C,q);return q.delete(e),O;case x:if(E)return E.call(e)==E.call(t)}return!1}var r=n(23),o=n(128),a=n(51),s=n(157),l=n(334),u=n(335),c=1,d=2,f="[object Boolean]",p="[object Date]",h="[object Error]",v="[object Map]",m="[object Number]",g="[object RegExp]",b="[object Set]",y="[object String]",x="[object Symbol]",w="[object ArrayBuffer]",S="[object DataView]",C=r?r.prototype:void 0,E=C?C.valueOf:void 0;e.exports=i},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){function i(e,t,n,i,a,l){var u=n&o,c=r(e),d=c.length;if(d!=r(t).length&&!u)return!1;for(var f=d;f--;){var p=c[f];if(!(u?p in t:s.call(t,p)))return!1}var h=l.get(e);if(h&&l.get(t))return h==t;var v=!0;l.set(e,t),l.set(t,e);for(var m=u;++f<d;){p=c[f];var g=e[p],b=t[p];if(i)var y=u?i(b,g,p,t,e,l):i(g,b,p,e,t,l);if(!(void 0===y?g===b||a(g,b,n,i,l):y)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w)&&(v=!1)}return l.delete(e),l.delete(t),v}var r=n(126),o=1,a=Object.prototype,s=a.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}var r=n(158),o=n(24);e.exports=i},function(e,t,n){function i(e,t){return s(e)&&l(t)?u(c(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?a(n,e):r(t,i,d|f)}}var r=n(156),o=n(66),a=n(160),s=n(108),l=n(158),u=n(159),c=n(44),d=1,f=2;e.exports=i},function(e,t,n){var i=n(340),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=i(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)}),t});e.exports=a},function(e,t,n){function i(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var r=n(341),o=500;e.exports=i},function(e,t,n){function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(i.Cache||r),n}var r=n(81),o="Expected a function";i.Cache=r,e.exports=i},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function i(e,t,n){t=r(t,e);for(var i=-1,c=t.length,d=!1;++i<c;){var f=u(t[i]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++i!=c?d:!!(c=null==e?0:e.length)&&l(c)&&s(f,c)&&(a(e)||o(e))}var r=n(67),o=n(82),a=n(6),s=n(56),l=n(84),u=n(44);e.exports=i},function(e,t,n){function i(e){return a(e)?r(s(e)):o(e)}var r=n(345),o=n(346),a=n(108),s=n(44);e.exports=i},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function i(e){return function(t){return r(t,e)}}var r=n(107);e.exports=i},function(e,t,n){function i(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var l=null==n?0:a(n);return l<0&&(l=s(i+l,0)),r(e,o(t,3),l)}var r=n(348),o=n(155),a=n(133),s=Math.max;e.exports=i},function(e,t){function n(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0;var i=n(350),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}},function(e,t,n){e.exports={default:n(351),__esModule:!0}},function(e,t,n){n(39),n(352),e.exports=n(0).Array.from},function(e,t,n){"use strict";var i=n(19),r=n(4),o=n(34),a=n(139),s=n(140),l=n(46),u=n(353),c=n(97);r(r.S+r.F*!n(145)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,d,f=o(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,g=0,b=c(f);if(m&&(v=i(v,h>2?arguments[2]:void 0,2)),void 0==b||p==Array&&s(b))for(t=l(f.length),n=new p(t);t>g;g++)u(n,g,m?v(f[g],g):f[g]);else for(d=b.call(f),n=new p;!(r=d.next()).done;g++)u(n,g,m?a(d,v,[r.value,g],!0):r.value);return n.length=g,n}})},function(e,t,n){"use strict";var i=n(7),r=n(30);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(154),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){function i(e){for(var t=0,n=v.length;t<n;t++)if(v[t].obj===e)return v[t]}function r(e,t){for(var n=0,i=e.observers.length;n<i;n++)if(e.observers[n].callback===t)return e.observers[n].observer}function o(e,t){for(var n=0,i=e.observers.length;n<i;n++)if(e.observers[n].observer===t)return void e.observers.splice(n,1)}function a(e,t){t.unobserve()}function s(e,t){var n,a=[],s=i(e);if(s?n=r(s,t):(s=new m(e),v.push(s)),n)return n;if(n={},s.value=d._deepClone(e),t){n.callback=t,n.next=null;var u=function(){l(n)},c=function(){clearTimeout(n.next),n.next=setTimeout(u)};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mouseup",c),window.addEventListener("keyup",c),window.addEventListener("mousedown",c),window.addEventListener("keydown",c),window.addEventListener("change",c)):(document.documentElement.attachEvent("onmouseup",c),document.documentElement.attachEvent("onkeyup",c),document.documentElement.attachEvent("onmousedown",c),document.documentElement.attachEvent("onkeydown",c),document.documentElement.attachEvent("onchange",c)))}return n.patches=a,n.object=e,n.unobserve=function(){l(n),clearTimeout(n.next),o(s,n),"undefined"!=typeof window&&(window.removeEventListener?(window.removeEventListener("mouseup",c),window.removeEventListener("keyup",c),window.removeEventListener("mousedown",c),window.removeEventListener("keydown",c)):(document.documentElement.detachEvent("onmouseup",c),document.documentElement.detachEvent("onkeyup",c),document.documentElement.detachEvent("onmousedown",c),document.documentElement.detachEvent("onkeydown",c)))},s.observers.push(new g(t,n)),n}function l(e){for(var t,n=0,i=v.length;n<i;n++)if(v[n].obj===e.object){t=v[n];break}u(t.value,e.object,e.patches,""),e.patches.length&&f.applyPatch(t.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function u(e,t,n,i){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var r=d._objectKeys(t),o=d._objectKeys(e),a=!1,s=o.length-1;s>=0;s--){var l=o[s],c=e[l];if(!d.hasOwnProperty(t,l)||void 0===t[l]&&void 0!==c&&!1===Array.isArray(t))n.push({op:"remove",path:i+"/"+d.escapePathComponent(l)}),a=!0;else{var f=t[l];"object"==typeof c&&null!=c&&"object"==typeof f&&null!=f?u(c,f,n,i+"/"+d.escapePathComponent(l)):c!==f&&(!0,n.push({op:"replace",path:i+"/"+d.escapePathComponent(l),value:d._deepClone(f)}))}}if(a||r.length!=o.length)for(var s=0;s<r.length;s++){var l=r[s];d.hasOwnProperty(e,l)||void 0===t[l]||n.push({op:"add",path:i+"/"+d.escapePathComponent(l),value:d._deepClone(t[l])})}}}function c(e,t){var n=[];return u(e,t,n,""),n}var d=(n(161),n(109)),f=n(162),p=n(162);t.applyOperation=p.applyOperation,t.applyPatch=p.applyPatch,t.applyReducer=p.applyReducer,t.getValueByPointer=p.getValueByPointer,t.validate=p.validate,t.validator=p.validator;var h=n(109);t.JsonPatchError=h.PatchError,t.deepClone=h._deepClone,t.escapePathComponent=h.escapePathComponent,t.unescapePathComponent=h.unescapePathComponent;var v=[],m=function(){function e(e){this.observers=[],this.obj=e}return e}(),g=function(){function e(e,t){this.callback=e,this.observer=t}return e}();t.unobserve=a,t.observe=s,t.generate=l,t.compare=c},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=r?n:i,t.supported=n,t.unsupported=i},function(e,t,n){"use strict";(function(t){function n(e){return e instanceof t||e instanceof Date||e instanceof RegExp}function i(e){if(e instanceof t){var n=t.alloc?t.alloc(e.length):new t(e.length);return e.copy(n),n}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);throw new Error("Unexpected situation")}function r(e){var t=[];return e.forEach(function(e,o){"object"==typeof e&&null!==e?Array.isArray(e)?t[o]=r(e):n(e)?t[o]=i(e):t[o]=a({},e):t[o]=e}),t}function o(e,t){return"__proto__"===t?void 0:e[t]}var a=e.exports=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var e,t,s=arguments[0],l=Array.prototype.slice.call(arguments,1);return l.forEach(function(l){"object"!=typeof l||null===l||Array.isArray(l)||Object.keys(l).forEach(function(u){return t=o(s,u),e=o(l,u),e===s?void 0:"object"!=typeof e||null===e?void(s[u]=e):Array.isArray(e)?void(s[u]=r(e)):n(e)?void(s[u]=i(e)):"object"!=typeof t||null===t||Array.isArray(t)?void(s[u]=a({},e)):void(s[u]=a(t,e))})}),s}}).call(t,n(43).Buffer)},function(e,t,n){"use strict";function i(e){return null===e?"null":void 0===e?"undefined":"object"===(void 0===e?"undefined":l(e))?Array.isArray(e)?"array":"object":void 0===e?"undefined":l(e)}function r(e){return"object"===i(e)?a(e):"array"===i(e)?o(e):e}function o(e){return e.map(r)}function a(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));return t}function s(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={arrayBehaviour:n.arrayBehaviour||"replace"},l=t.map(function(e){return e||{}}),u=e||{},c=0;c<l.length;c++)for(var d=l[c],f=Object.keys(d),p=0;p<f.length;p++){var h=f[p],v=d[h],m=i(v),g=i(u[h]);if("object"===m)if("undefined"!==g){var b="object"===g?u[h]:{};u[h]=s({},[b,a(v)],r)}else u[h]=a(v);else if("array"===m)if("array"===g){var y=o(v);u[h]="merge"===r.arrayBehaviour?u[h].concat(y):y}else u[h]=o(v);else u[h]=v}return u}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return s(e,n)},e.exports.noMutate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s({},t)},e.exports.withOptions=function(e,t,n){return s(e,t,n)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!V.test(e)){if(!t)throw new H("Tried to resolve a relative URL, without having a basePath. path: '"+e+"' basePath: '"+t+"'");return M.default.resolve(t,e)}return e}function o(e,t){var n=void 0;return n=e&&e.response&&e.response.body?e.response.body.code+" "+e.response.body.message:e.message,new H("Could not resolve reference: "+n,t,e)}function a(e){return(e+"").split("#")}function s(e,t){var n=U[e];if(n&&!R.default.isPromise(n))try{var i=d(t,n);return(0,k.default)(E.default.resolve(i),{__value:i})}catch(e){return E.default.reject(e)}return u(e).then(function(e){return d(t,e)})}function l(e){void 0!==e?delete U[e]:(0,S.default)(U).forEach(function(e){delete U[e]})}function u(e){var t=U[e];return t?R.default.isPromise(t)?t:E.default.resolve(t):(U[e]=G.fetchJSON(e).then(function(t){return U[e]=t,t}),U[e])}function c(e){return(0,O.fetch)(e,{headers:{Accept:"application/json, application/yaml"},loadSpec:!0}).then(function(e){return e.text()}).then(function(e){return A.default.safeLoad(e)})}function d(e,t){var n=f(e);if(n.length<1)return t;var i=R.default.getIn(t,n);if(void 0===i)throw new H("Could not resolve pointer: "+e+" does not exist in document",{pointer:e});return i}function f(e){if("string"!=typeof e)throw new TypeError("Expected a string, got a "+(void 0===e?"undefined":(0,x.default)(e)));return"/"===e[0]&&(e=e.substr(1)),""===e?[]:e.split("/").map(p)}function p(e){return"string"!=typeof e?e:L.default.unescape(e.replace(/~1/g,"/").replace(/~0/g,"~"))}function h(e){return L.default.escape(e.replace(/~/g,"~0").replace(/\//g,"~1"))}function v(e){return 0===e.length?"":"/"+e.map(h).join("/")}function m(e,t){if(W(t))return!0;var n=e.charAt(t.length),i=t.slice(-1);return 0===e.indexOf(t)&&(!n||"/"===n||"#"===n)&&"#"!==i}function g(e,t,n,i){var r=z.get(i);r||(r={},z.set(i,r));var o=v(n),a=(t||"<specmap-base>")+"#"+e;if(t==i.contextTree.get([]).baseDoc&&m(o,e))return!0;var s="";if(n.some(function(e){return s=s+"/"+h(e),r[s]&&r[s].some(function(e){return m(e,a)||m(a,e)})}))return!0;r[o]=(r[o]||[]).concat(a)}function b(e,t){function n(e){return R.default.isObject(e)&&(i.indexOf(e)>=0||(0,S.default)(e).some(function(t){return n(e[t])}))}var i=[e];return t.path.reduce(function(e,t){return i.push(e[t]),e[t]},e),n(t.value)}Object.defineProperty(t,"__esModule",{value:!0});var y=n(18),x=i(y),w=n(11),S=i(w),C=n(102),E=i(C),q=n(361),_=i(q),T=n(14),k=i(T),O=n(372),D=n(148),A=i(D),I=n(373),L=i(I),P=n(92),M=i(P),N=n(68),R=i(N),F=n(164),j=i(F),B=n(165),V=new RegExp("^([a-z]+://|//)","i"),H=(0,j.default)("JSONRefError",function(e,t,n){this.originalError=n,(0,k.default)(this,t||{})}),U={},z=new _.default,$={key:"$ref",plugin:function(e,t,n,i){var l=n.slice(0,-1);if(!(0,B.isFreelyNamed)(l)){var u=i.getContext(n).baseDoc;if("string"!=typeof e)return new H("$ref: must be a string (JSON-Ref)",{$ref:e,baseDoc:u,fullPath:n});var c=a(e),d=c[0],p=c[1]||"",h=void 0;try{h=u||d?r(d,u):null}catch(t){return o(t,{pointer:p,$ref:e,basePath:h,fullPath:n})}var v=void 0,m=void 0;if(!g(p,h,l,i)){if(null==h?(m=f(p),void 0===(v=i.get(m))&&(v=new H("Could not resolve reference: "+e,{pointer:p,$ref:e,baseDoc:u,fullPath:n}))):(v=s(h,p),v=null!=v.__value?v.__value:v.catch(function(t){throw o(t,{pointer:p,$ref:e,baseDoc:u,fullPath:n})})),v instanceof Error)return[R.default.remove(n),v];var y=R.default.replace(l,v,{$$ref:e});if(h&&h!==u)return[y,R.default.context(l,{baseDoc:h})];try{if(!b(i.state,y))return y}catch(e){return null}}}}},G=(0,k.default)($,{docCache:U,absoluteify:r,clearCache:l,JSONRefError:H,wrapError:o,getDoc:u,split:a,extractFromDoc:s,fetchJSON:c,extract:d,jsonPointerToArray:f,unescapeJsonPointerToken:p});t.default=G;var W=function(e){return!e||"/"===e||"#"===e};e.exports=t.default},function(e,t,n){e.exports={default:n(362),__esModule:!0}},function(e,t,n){n(100),n(37),n(363),n(368),n(370),e.exports=n(0).WeakMap},function(e,t,n){"use strict";var i,r=n(110)(0),o=n(93),a=n(63),s=n(113),l=n(366),u=n(5),c=n(16),d=n(163),f=a.getWeak,p=Object.isExtensible,h=l.ufstore,v={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(u(e)){var t=f(e);return!0===t?h(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,"WeakMap"),e,t)}},b=e.exports=n(367)("WeakMap",m,g,l,!0,!0);c(function(){return 7!=(new b).set((Object.freeze||Object)(v),7).get(v)})&&(i=l.getConstructor(m,"WeakMap"),s(i.prototype,g),a.NEED=!0,r(["delete","has","get","set"],function(e){var t=b.prototype,n=t[e];o(t,e,function(t,r){if(u(t)&&!p(t)){this._f||(this._f=new i);var o=this._f[e](t,r);return"set"==e?this:o}return n.call(this,t,r)})}))},function(e,t,n){var i=n(365);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){var i=n(5),r=n(137),o=n(3)("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var i=n(105),r=n(63).getWeak,o=n(8),a=n(5),s=n(103),l=n(64),u=n(110),c=n(17),d=n(163),f=u(5),p=u(6),h=0,v=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return f(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var u=e(function(e,i){s(e,u,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=i&&l(i,n,e[o],e)});return i(u.prototype,{delete:function(e){if(!a(e))return!1;var n=r(e);return!0===n?v(d(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=r(e);return!0===n?v(d(this,t)).has(e):n&&c(n,this._i)}}),u},def:function(e,t,n){var i=r(o(t),!0);return!0===i?v(e).set(t,n):i[e._i]=n,e},ufstore:v}},function(e,t,n){"use strict";var i=n(2),r=n(4),o=n(63),a=n(16),s=n(15),l=n(105),u=n(64),c=n(103),d=n(5),f=n(38),p=n(7).f,h=n(110)(0),v=n(12);e.exports=function(e,t,n,m,g,b){var y=i[e],x=y,w=g?"set":"add",S=x&&x.prototype,C={};return v&&"function"==typeof x&&(b||S.forEach&&!a(function(){(new x).entries().next()}))?(x=t(function(t,n){c(t,x,e,"_c"),t._c=new y,void 0!=n&&u(n,g,t[w],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in S&&(!b||"clear"!=e)&&s(x.prototype,e,function(n,i){if(c(this,x,e),!t&&b&&!d(n))return"get"==e&&void 0;var r=this._c[e](0===n?0:n,i);return t?this:r})}),b||p(x.prototype,"size",{get:function(){return this._c.size}})):(x=m.getConstructor(t,e,g,w),l(x.prototype,n),o.NEED=!0),f(x,e),C[e]=x,r(r.G+r.W+r.F,C),b||m.setStrong(x,e,g),x}},function(e,t,n){n(369)("WeakMap")},function(e,t,n){"use strict";var i=n(4);e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(371)("WeakMap")},function(e,t,n){"use strict";var i=n(4),r=n(29),o=n(19),a=n(64);e.exports=function(e){i(i.S,e,{from:function(e){var t,n,i,s,l=arguments[1];return r(this),t=void 0!==l,t&&r(l),void 0==e?new this:(n=[],t?(i=0,s=o(l,arguments[2],2),a(e,!1,function(e){n.push(s(e,i++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t){var n={};!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function l(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function u(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&y(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!x(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){var n=(t=t||{}).body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function v(e){var t=new r;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(e){return e&&DataView.prototype.isPrototypeOf(e)},x=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,i){e=t(e),i=n(i);var r=this.map[e];this.map[e]=r?r+","+i:i},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,i){this.map[t(e)]=n(i)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),i(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),i(e)},g.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},d.call(p.prototype),d.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];m.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=p,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,i){var r=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new m(t,e))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),r.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}(void 0!==n?n:this),e.exports=n},function(e,t,n){"use strict";function i(e,t){try{return decodeURIComponent(e)}catch(n){return o.unescapeBuffer(e,t).toString()}}function r(e,t){try{return t(e)}catch(t){return o.unescape(e,!0)}}var o=t,a=n(43).Buffer;o.unescapeBuffer=function(e,t){for(var n,i,r,o=new a(e.length),s=0,l=0,u=0;l<=e.length;l++){var c=l<e.length?e.charCodeAt(l):NaN;switch(s){case 0:switch(c){case 37:n=0,i=0,s=1;break;case 43:t&&(c=32);default:o[u++]=c}break;case 1:if(r=c,c>=48&&c<=57)n=c-48;else if(c>=65&&c<=70)n=c-65+10;else{if(!(c>=97&&c<=102)){o[u++]=37,o[u++]=c,s=0;break}n=c-97+10}s=2;break;case 2:if(s=0,c>=48&&c<=57)i=c-48;else if(c>=65&&c<=70)i=c-65+10;else{if(!(c>=97&&c<=102)){o[u++]=37,o[u++]=r,o[u++]=c;break}i=c-97+10}o[u++]=16*n+i}}return o.slice(0,u-1)},o.unescape=i;for(var s=new Array(256),l=0;l<256;++l)s[l]="%"+((l<16?"0":"")+l.toString(16)).toUpperCase();o.escape=function(e){"string"!=typeof e&&(e+="");for(var t="",n=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);if(!(33===r||45===r||46===r||95===r||126===r||r>=39&&r<=42||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122))if(i-n>0&&(t+=e.slice(n,i)),r<128)n=i+1,t+=s[r];else if(r<2048)n=i+1,t+=s[192|r>>6]+s[128|63&r];else if(r<55296||r>=57344)n=i+1,t+=s[224|r>>12]+s[128|r>>6&63]+s[128|63&r];else{++i;var o;if(!(i<e.length))throw new URIError("URI malformed");o=1023&e.charCodeAt(i),n=i+1,r=65536+((1023&r)<<10|o),t+=s[240|r>>18]+s[128|r>>12&63]+s[128|r>>6&63]+s[128|63&r]}}return 0===n?e:n<e.length?t+e.slice(n):t};var u=function(e){return"string"==typeof e?e:"number"==typeof e&&isFinite(e)?""+e:"boolean"==typeof e?e?"true":"false":""};o.stringify=o.encode=function(e,t,n,i){t=t||"&",n=n||"=";var r=o.escape;if(i&&"function"==typeof i.encodeURIComponent&&(r=i.encodeURIComponent),null!==e&&"object"==typeof e){for(var a=Object.keys(e),s=a.length,l=s-1,c="",d=0;d<s;++d){var f=a[d],p=e[f],h=r(u(f))+n;if(Array.isArray(p)){for(var v=p.length,m=v-1,g=0;g<v;++g)c+=h+r(u(p[g])),g<m&&(c+=t);v&&d<l&&(c+=t)}else c+=h+r(u(p)),d<l&&(c+=t)}return c}return""},o.parse=o.decode=function(e,t,n,a){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;"string"!=typeof t&&(t+="");var l=n.length,u=t.length,c=1e3;a&&"number"==typeof a.maxKeys&&(c=a.maxKeys);var d=1/0;c>0&&(d=c);var f=o.unescape;a&&"function"==typeof a.decodeURIComponent&&(f=a.decodeURIComponent);for(var p=f!==i,h=[],v=0,m=0,g=0,b="",y="",x=p,w=p,S=0,C=0;C<e.length;++C){var E=e.charCodeAt(C);if(E!==t.charCodeAt(m)){if(m=0,w||(37===E?S=1:S>0&&(E>=48&&E<=57||E>=65&&E<=70||E>=97&&E<=102)?3==++S&&(w=!0):S=0),g<l){if(E===n.charCodeAt(g)){if(++g===l){var q=C-g+1;v<q&&(b+=e.slice(v,q)),S=0,v=C+1}continue}g=0,x||(37===E?S=1:S>0&&(E>=48&&E<=57||E>=65&&E<=70||E>=97&&E<=102)?3==++S&&(x=!0):S=0)}43===E&&(g<l?(C-v>0&&(b+=e.slice(v,C)),b+="%20",x=!0):(C-v>0&&(y+=e.slice(v,C)),y+="%20",w=!0),v=C+1)}else if(++m===u){var q=C-m+1;if(g<l?v<q&&(b+=e.slice(v,q)):v<q&&(y+=e.slice(v,q)),x&&(b=r(b,f)),w&&(y=r(y,f)),-1===h.indexOf(b))s[b]=y,h[h.length]=b;else{var _=s[b];_ instanceof Array?_[_.length]=y:s[b]=[_,y]}if(0==--d)break;x=w=p,S=0,b=y="",v=C+1,m=g=0}}if(d>0&&(v<e.length||g>0))if(v<e.length&&(g<l?b+=e.slice(v):m<u&&(y+=e.slice(v))),x&&(b=r(b,f)),w&&(y=r(y,f)),-1===h.indexOf(b))s[b]=y,h[h.length]=b;else{var _=s[b];_ instanceof Array?_[_.length]=y:s[b]=[_,y]}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(165);t.default={key:"allOf",plugin:function(e,t,n,i,a){if(!a.meta||!a.meta.$$ref){var s=n.slice(0,-1);if(!(0,o.isFreelyNamed)(s)){if(!Array.isArray(e)){var l=new TypeError("allOf must be an array");return l.fullPath=n,l}var u=!1,c=a.value;s.forEach(function(e){c&&(c=c[e])}),c=(0,r.default)({},c),delete c.allOf;var d=[i.replace(s,{})].concat(e.map(function(e,t){if(!i.isObject(e)){if(u)return null;u=!0;var r=new TypeError("Elements in allOf must be objects");return r.fullPath=n,r}return i.mergeDeep(s,e)}));return d.push(i.mergeDeep(s,c)),c.$$ref||d.push(i.remove([].concat(s,"$$ref"))),d}}}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=i(r),a=n(68),s=i(a);t.default={key:"parameters",plugin:function(e,t,n,i,r){if(Array.isArray(e)&&e.length){var a=(0,o.default)([],e),l=n.slice(0,-1),u=(0,o.default)({},s.default.getIn(i.spec,l));return e.forEach(function(e,t){try{a[t].default=i.parameterMacro(u,e)}catch(e){var r=new Error(e);return r.fullPath=n,r}}),s.default.replace(n,a)}return s.default.replace(n,e)}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=i(r),a=n(68),s=i(a);t.default={key:"properties",plugin:function(e,t,n,i){var r=(0,o.default)({},e);for(var a in e)try{r[a].default=i.modelPropertyMacro(r[a])}catch(e){var l=new Error(e);return l.fullPath=n,l}return s.default.replace(n,r)}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return o({children:{}},e,t)}function o(e,t,n){return e.value=t||{},e.protoValue=n?(0,u.default)({},n.protoValue,e.value):e.value,(0,s.default)(e.children).forEach(function(t){var n=e.children[t];e.children[t]=o(n,n.value,e)}),e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),s=i(a),l=n(28),u=i(l),c=n(152),d=i(c),f=n(153),p=i(f),h=function(){function e(t){(0,d.default)(this,e),this.root=r(t||{})}return(0,p.default)(e,[{key:"set",value:function(e,t){var n=this.getParent(e,!0);if(!n)return void o(this.root,t,null);var i=e[e.length-1],a=n.children;if(a[i])return void o(a[i],t,n);a[i]=r(t,n)}},{key:"get",value:function(e){if(e=e||[],e.length<1)return this.root.value;for(var t=this.root,n=void 0,i=void 0,r=0;r<e.length&&(i=e[r],n=t.children,n[i]);r++)t=n[i];return t&&t.protoValue}},{key:"getParent",value:function(e,t){return!e||e.length<1?null:e.length<2?this.root:e.slice(0,-1).reduce(function(e,n){if(!e)return e;var i=e.children;return!i[n]&&t&&(i[n]=r(null,e)),i[n]},this.root)}}]),e}();t.default=h,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),o=i(r),a=n(28),s=i(a),l=n(101),u=i(l),c=n(66),d=i(c),f=n(151),p=i(f),h=n(45);t.default=function(){function e(e,n){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(t,n){var i,r,a,l,u,c,f,v,m,g,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=b.returnEntireTree,r=b.baseDoc,a=b.requestInterceptor,l=b.responseInterceptor,u=b.parameterMacro,c=b.modelPropertyMacro,f={pathDiscriminator:n,baseDoc:r,requestInterceptor:a,responseInterceptor:l,parameterMacro:u,modelPropertyMacro:c},v=(0,h.normalizeSwagger)({spec:t}),m=v.spec,e.next=5,(0,p.default)((0,s.default)({},f,{spec:m,allowMetaPatches:!0,skipNormalization:!0}));case 5:return g=e.sent,!i&&Array.isArray(n)&&n.length&&(g.spec=(0,d.default)(g.spec,n)||null),e.abrupt("return",g);case 8:case"end":return e.stop()}},e,this)}));return e}(),e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=t.pathName,i=t.method,r=t.operationId;return function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.execute((0,u.default)({spec:e.spec},(0,d.default)(e,"requestInterceptor","responseInterceptor","userFetch"),{pathName:n,method:i,parameters:t,operationId:r},o))}}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=v.makeExecute(e),n=v.mapTagOperations({v2OperationIdCompatibilityMode:e.v2OperationIdCompatibilityMode,spec:e.spec,cb:t}),i={};for(var r in n){i[r]={operations:{}};for(var o in n[r])i[r].operations[o]={execute:n[r][o]}}return{apis:i}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=v.makeExecute(e);return{apis:v.mapTagOperations({v2OperationIdCompatibilityMode:e.v2OperationIdCompatibilityMode,spec:e.spec,cb:t})}}function s(e){var t=e.spec,n=e.cb,i=void 0===n?p:n,r=e.defaultTag,o=void 0===r?"default":r,a=e.v2OperationIdCompatibilityMode,s={},l={};return(0,f.eachOperation)(t,function(e){var n=e.pathName,r=e.method,u=e.operation;(u.tags?h(u.tags):[o]).forEach(function(e){if("string"==typeof e){var o=l[e]=l[e]||{},c=(0,f.opId)(u,n,r,{v2OperationIdCompatibilityMode:a}),d=i({spec:t,pathName:n,method:r,operation:u,operationId:c});if(s[c])s[c]++,o[""+c+s[c]]=d;else if(void 0!==o[c]){var p=s[c]||1;s[c]=p+1,o[""+c+s[c]]=d;var h=o[c];delete o[c],o[""+c+p]=h}else o[c]=d}})}),l}Object.defineProperty(t,"__esModule",{value:!0}),t.self=void 0;var l=n(28),u=i(l);t.makeExecute=r,t.makeApisTagOperationsOperationExecute=o,t.makeApisTagOperation=a,t.mapTagOperations=s;var c=n(380),d=i(c),f=n(45),p=function(){return null},h=function(e){return Array.isArray(e)?e:[e]},v=t.self={mapTagOperations:s,makeExecute:r}},function(e,t,n){var i=n(381),r=n(384),o=r(function(e,t){return null==e?{}:i(e,t)});e.exports=o},function(e,t,n){function i(e,t){return r(e,t,function(t,n){return o(e,n)})}var r=n(382),o=n(160);e.exports=i},function(e,t,n){function i(e,t,n){for(var i=-1,s=t.length,l={};++i<s;){var u=t[i],c=r(e,u);n(c,u)&&o(l,a(u,e),c)}return l}var r=n(107),o=n(383),a=n(67);e.exports=i},function(e,t,n){function i(e,t,n,i){if(!s(e))return e;t=o(t,e);for(var u=-1,c=t.length,d=c-1,f=e;null!=f&&++u<c;){var p=l(t[u]),h=n;if(u!=d){var v=f[p];h=i?i(v,p,f):void 0,void 0===h&&(h=s(v)?v:a(t[u+1])?[]:{})}r(f,p,h),f=f[p]}return e}var r=n(54),o=n(67),a=n(56),s=n(10),l=n(44);e.exports=i},function(e,t,n){function i(e){return a(o(e,void 0,r),e+"")}var r=n(385),o=n(129),a=n(130);e.exports=i},function(e,t,n){function i(e){return(null==e?0:e.length)?r(e,1):[]}var r=n(386);e.exports=i},function(e,t,n){function i(e,t,n,a,s){var l=-1,u=e.length;for(n||(n=o),s||(s=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?i(c,t-1,n,a,s):r(s,c):a||(s[s.length]=c)}return s}var r=n(88),o=n(387);e.exports=i},function(e,t,n){function i(e){return a(e)||o(e)||!!(s&&e&&e[s])}var r=n(23),o=n(82),a=n(6),s=r?r.isConcatSpreadable:void 0;e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.http,n=e.fetch,i=e.spec,r=e.operationId,o=e.pathName,a=e.method,s=e.parameters,l=e.securities,u=(0,m.default)(e,["http","fetch","spec","operationId","pathName","method","parameters","securities"]),c=t||n||P.default;o&&a&&!r&&(r=(0,$.legacyIdFromPathMethod)(o,a));var d=Y.buildRequest((0,h.default)({spec:i,operationId:r,parameters:s,securities:l,http:c},u));return d.body&&((0,q.default)(d.body)||(0,T.default)(d.body))&&(d.body=(0,f.default)(d.body)),c(d)}function o(e){var t=e.spec,n=e.operationId,i=(e.securities,e.requestContentType,e.responseContentType),r=e.scheme,o=e.requestInterceptor,s=e.responseInterceptor,l=e.contextUrl,u=e.userFetch,c=(e.requestBody,e.server),d=e.serverVariables,f=e.http,p=e.parameters,v=e.parameterBuilders,m=(0,$.isOAS3)(t);v||(v=m?B.default:F.default);var g=f&&f.withCredentials?"include":"same-origin",y={url:"",credentials:g,headers:{},cookies:{}};o&&(y.requestInterceptor=o),s&&(y.responseInterceptor=s),u&&(y.userFetch=u);var x=(0,$.getOperationRaw)(t,n);if(!x)throw new W("Operation "+n+" not found");var w=x.operation,S=void 0===w?{}:w,C=x.method,E=x.pathName;if(y.url+=a({spec:t,scheme:r,contextUrl:l,server:c,serverVariables:d,pathName:E,method:C}),!n)return delete y.cookies,y;y.url+=E,y.method=(""+C).toUpperCase(),p=p||{};var q=t.paths[E]||{};i&&(y.headers.accept=i);var _=K([].concat(G(S.parameters)).concat(G(q.parameters)));_.forEach(function(e){var n=v[e.in],i=void 0;if("body"===e.in&&e.schema&&e.schema.properties&&(i=p),i=e&&e.name&&p[e.name],void 0===i?i=e&&e.name&&p[e.in+"."+e.name]:Q(e.name,_).length>1&&console.warn("Parameter '"+e.name+"' is ambiguous because the defined spec has more than one parameter with the name: '"+e.name+"' and the passed-in parameter values did not define an 'in' value."),null!==i){if(void 0!==e.default&&void 0===i&&(i=e.default),void 0===i&&e.required&&!e.allowEmptyValue)throw new Error("Required parameter "+e.name+" is not provided");if(m&&e.schema&&"object"===e.schema.type&&"string"==typeof i)try{i=JSON.parse(i)}catch(e){throw new Error("Could not parse object parameter value string as JSON")}n&&n({req:y,parameter:e,value:i,operation:S,spec:t})}});var T=(0,h.default)({},e,{operation:S});if(y=m?(0,H.default)(T,y):(0,z.default)(T,y),y.cookies&&(0,b.default)(y.cookies).length){var k=(0,b.default)(y.cookies).reduce(function(e,t){var n=y.cookies[t];return e+(e?"&":"")+I.default.serialize(t,n)},"");y.headers.Cookie=k}return y.cookies&&delete y.cookies,(0,L.mergeInQueryOrForm)(y),y}function a(e){return(0,$.isOAS3)(e.spec)?s(e):c(e)}function s(e){var t=e.spec,n=e.pathName,i=e.method,r=e.server,o=e.contextUrl,a=e.serverVariables,s=void 0===a?{}:a,c=(0,C.default)(t,["paths",n,(i||"").toLowerCase(),"servers"])||(0,C.default)(t,["paths",n,"servers"])||(0,C.default)(t,["servers"]),d="",f=null;if(r&&c&&c.length){var p=c.map(function(e){return e.url});p.indexOf(r)>-1&&(d=r,f=c[p.indexOf(r)])}(!d&&c&&c.length&&(d=c[0].url,f=c[0]),d.indexOf("{")>-1)&&u(d).forEach(function(e){if(f.variables&&f.variables[e]){var t=f.variables[e],n=s[e]||t.default,i=new RegExp("{"+e+"}","g");d=d.replace(i,n)}});return l(d,o)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=D.default.parse(e),i=D.default.parse(t),r=X(n.protocol)||X(i.protocol)||"",o=n.host||i.host,a=n.pathname||"",s=void 0;return s=r&&o?r+"://"+(o+a):a,"/"===s[s.length-1]?s.slice(0,-1):s}function u(e){for(var t=[],n=/{([^}]+)}/g,i=void 0;i=n.exec(e);)t.push(i[1]);return t}function c(e){var t=e.spec,n=e.scheme,i=e.contextUrl,r=void 0===i?"":i,o=D.default.parse(r),a=Array.isArray(t.schemes)?t.schemes[0]:null,s=n||a||X(o.protocol)||"http",l=t.host||o.host||"",u=t.basePath||"",c=void 0;return c=s&&l?s+"://"+(l+u):u,"/"===c[c.length-1]?c.slice(0,-1):c}Object.defineProperty(t,"__esModule",{value:!0}),t.self=void 0;var d=n(62),f=i(d),p=n(28),h=i(p),v=n(389),m=i(v),g=n(11),b=i(g),y=n(14),x=i(y);t.execute=r,t.buildRequest=o,t.baseUrl=a;var w=n(59),S=(i(w),n(66)),C=i(S),E=n(390),q=i(E),_=n(6),T=i(_),k=n(111),O=(i(k),n(92)),D=i(O),A=n(391),I=i(A),L=n(61),P=i(L),M=n(164),N=i(M),R=n(392),F=i(R),j=n(393),B=i(j),V=n(398),H=i(V),U=n(399),z=i(U),$=n(45),G=function(e){return Array.isArray(e)?e:[]},W=(0,N.default)("OperationNotFoundError",function(e,t,n){this.originalError=n,(0,x.default)(this,t||{})}),Q=function(e,t){return t.filter(function(t){return t.name===e})},K=function(e){var t={};e.forEach(function(e){t[e.in]||(t[e.in]={}),t[e.in][e.name]=e});var n=[];return(0,b.default)(t).forEach(function(e){(0,b.default)(t[e]).forEach(function(i){n.push(t[e][i])})}),n},Y=t.self={buildRequest:o},X=function(e){return e?e.replace(/\W/g,""):null}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}},function(e,t,n){function i(e){if(!a(e)||r(e)!=s)return!1;var t=o(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var r=n(21),o=n(89),a=n(13),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=c.call(Object);e.exports=i},function(e,t,n){"use strict";function i(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},r=e.split(l),s=i.decode||a,u=0;u<r.length;u++){var c=r[u],d=c.indexOf("=");if(!(d<0)){var f=c.substr(0,d).trim(),p=c.substr(++d,c.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),void 0==n[f]&&(n[f]=o(p,s))}}return n}function r(e,t,n){var i=n||{},r=i.encode||s;if("function"!=typeof r)throw new TypeError("option encode is invalid");if(!u.test(e))throw new TypeError("argument name is invalid");var o=r(t);if(o&&!u.test(o))throw new TypeError("argument val is invalid");var a=e+"="+o;if(null!=i.maxAge){var l=i.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");a+="; Max-Age="+Math.floor(l)}if(i.domain){if(!u.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!u.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}return a}function o(e,t){try{return t(e)}catch(t){return e}}t.parse=i,t.serialize=r;var a=decodeURIComponent,s=encodeURIComponent,l=/; */,u=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},function(e,t,n){"use strict";function i(e){var t=e.req,n=e.value;t.body=n}function r(e){var t=e.req,n=e.value,i=e.parameter;(n||i.allowEmptyValue)&&(t.form=t.form||{},t.form[i.name]={value:n,allowEmptyValue:i.allowEmptyValue,collectionFormat:i.collectionFormat})}function o(e){var t=e.req,n=e.parameter,i=e.value;t.headers=t.headers||{},void 0!==i&&(t.headers[n.name]=i)}function a(e){var t=e.req,n=e.value,i=e.parameter;t.url=t.url.replace("{"+i.name+"}",encodeURIComponent(n))}function s(e){var t=e.req,n=e.value,i=e.parameter;if(t.query=t.query||{},!1===n&&"boolean"===i.type&&(n="false"),0===n&&["number","integer"].indexOf(i.type)>-1&&(n="0"),n)t.query[i.name]={collectionFormat:i.collectionFormat,value:n};else if(i.allowEmptyValue&&void 0!==n){var r=i.name;t.query[r]=t.query[r]||{},t.query[r].allowEmptyValue=!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={body:i,header:o,query:s,path:a,formData:r},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.req,n=e.value,i=e.parameter,r=i.name,o=i.style,a=i.explode,s=(0,p.default)({key:i.name,value:n,style:o||"simple",explode:a||!1,escape:!0});t.url=t.url.replace("{"+r+"}",s)}function o(e){var t=e.req,n=e.value,i=e.parameter;if(t.query=t.query||{},!1===n&&(n="false"),0===n&&(n="0"),n){var r=void 0===n?"undefined":(0,d.default)(n);if("deepObject"===i.style)(0,u.default)(n).forEach(function(e){var r=n[e];t.query[i.name+"["+e+"]"]={value:(0,p.default)({key:e,value:r,style:"deepObject",escape:i.allowReserved?"unsafe":"reserved"}),skipEncoding:!0}});else if("object"!==r||Array.isArray(n)||"form"!==i.style&&i.style||!i.explode&&void 0!==i.explode)t.query[i.name]={value:(0,p.default)({key:i.name,value:n,style:i.style||"form",explode:void 0===i.explode||i.explode,escape:i.allowReserved?"unsafe":"reserved"}),skipEncoding:!0};else{var o=(0,u.default)(n);o.forEach(function(e){var r=n[e];t.query[e]={value:(0,p.default)({key:e,value:r,style:i.style||"form",escape:i.allowReserved?"unsafe":"reserved"}),skipEncoding:!0}})}}else if(i.allowEmptyValue&&void 0!==n){var a=i.name;t.query[a]=t.query[a]||{},t.query[a].allowEmptyValue=!0}}function a(e){var t=e.req,n=e.parameter,i=e.value;t.headers=t.headers||{},h.indexOf(n.name.toLowerCase())>-1||void 0!==i&&(t.headers[n.name]=(0,p.default)({key:n.name,value:i,style:n.style||"simple",explode:void 0!==n.explode&&n.explode,escape:!1}))}function s(e){var t=e.req,n=e.parameter,i=e.value;t.headers=t.headers||{};var r=void 0===i?"undefined":(0,d.default)(i);if("undefined"!==r){var o="object"===r&&!Array.isArray(i)&&n.explode?"":n.name+"=";t.headers.Cookie=o+(0,p.default)({key:n.name,value:i,escape:!1,style:n.style||"form",explode:void 0!==n.explode&&n.explode})}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(11),u=i(l),c=n(18),d=i(c),f=n(394),p=i(f);t.default={path:r,query:o,header:a,cookie:s};var h=["accept","authorization","content-type"];e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.escape,i=arguments[2];return"number"==typeof e&&(e=e.toString()),"string"==typeof e&&e.length&&n?i?JSON.parse(e):(0,v.stringToCharArray)(e).map(function(e){return g(e)?e:m(e)&&"unsafe"===n?e:((0,h.default)(e)||[]).map(function(e){return("0"+e.toString(16).toUpperCase()).slice(-2)}).map(function(e){return"%"+e}).join("")}).join(""):e}function o(e){var t=e.key,n=e.value,i=e.style,o=e.explode,a=e.escape,s=function(e){return r(e,{escape:a})};if("simple"===i)return n.map(function(e){return s(e)}).join(",");if("label"===i)return"."+n.map(function(e){return s(e)}).join(".");if("matrix"===i)return n.map(function(e){return s(e)}).reduce(function(e,n){return!e||o?(e||"")+";"+t+"="+n:e+","+n},"");if("form"===i){var l=o?"&"+t+"=":",";return n.map(function(e){return s(e)}).join(l)}if("spaceDelimited"===i){var u=o?t+"=":"";return n.map(function(e){return s(e)}).join(" "+u)}if("pipeDelimited"===i){var c=o?t+"=":"";return n.map(function(e){return s(e)}).join("|"+c)}}function a(e){var t=e.key,n=e.value,i=e.style,o=e.explode,a=e.escape,s=function(e){return r(e,{escape:a})},l=(0,u.default)(n);return"simple"===i?l.reduce(function(e,t){var i=s(n[t]),r=o?"=":",";return(e?e+",":"")+t+r+i},""):"label"===i?l.reduce(function(e,t){var i=s(n[t]),r=o?"=":".";return(e?e+".":".")+t+r+i},""):"matrix"===i&&o?l.reduce(function(e,t){var i=s(n[t]);return(e?e+";":";")+t+"="+i},""):"matrix"===i?l.reduce(function(e,i){var r=s(n[i]);return(e?e+",":";"+t+"=")+i+","+r},""):"form"===i?l.reduce(function(e,t){var i=s(n[t]);return(e?e+(o?"&":","):"")+t+(o?"=":",")+i},""):void 0}function s(e){var t=e.key,n=e.value,i=e.style,o=e.escape,a=function(e){return r(e,{escape:o})};return"simple"===i?a(n):"label"===i?"."+a(n):"matrix"===i?";"+t+"="+a(n):"form"===i?a(n):"deepObject"===i?a(n):void 0}Object.defineProperty(t,"__esModule",{value:!0});var l=n(11),u=i(l),c=n(18),d=i(c);t.encodeDisallowedCharacters=r,t.default=function(e){var t=e.value;return Array.isArray(t)?o(e):"object"===(void 0===t?"undefined":(0,d.default)(t))?a(e):s(e)};var f=n(395),p=(i(f),n(396)),h=i(p),v=n(397),m=function(e){return":/?#[]@!$&'()*+,;=".indexOf(e)>-1},g=function(e){return/^[a-z0-9\-._~]+$/i.test(e)}},function(e,t,n){"use strict";var i=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})};e.exports=i},function(e,t){e.exports=function(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i>=55296&&i<=56319&&n+1<e.length){var r=e.charCodeAt(n+1);if(r>=56320&&r<=57343){var o=1024*(i-55296)+r-56320+65536;t.push(240+Math.floor(o/64/64/64),128+Math.floor(o/64/64)%64,128+Math.floor(o/64)%64,128+o%64),n+=1;continue}}i>=2048?t.push(224+Math.floor(i/64/64),128+Math.floor(i/64)%64,128+i%64):i>=128?t.push(192+Math.floor(i/64),128+i%64):t.push(i)}return t}},function(e,t){!function(){function e(e,t){function n(e,t){return i(e,new RegExp(a.source,"g"),t)}function i(e,t,n){if(!r(e))return n;var i=0,o=0;do{var a=t.exec(e);if(null===a)break;if(!(o<n))break;i+=a[0].length,o++}while(null!==a);return i>=e.length?-1:i}function r(e){return s.test(e)}function o(e,n){void 0==e&&(e=["[^]"]),void 0==n&&(n="g");var i=[];return t.forEach(function(e){i.push(e.source)}),i.push(a.source),i=i.concat(e),new RegExp(i.join("|"),n)}e.findCharIndex=function(e,t){if(t>=e.length)return-1;if(!r(e))return t;for(var n=o(),i=0;null!==n.exec(e)&&!(n.lastIndex>t);)i++;return i},e.findByteIndex=function(e,t){return t>=this.length(e)?-1:i(e,o(),t)},e.charAt=function(e,t){var n=this.findByteIndex(e,t);if(n<0||n>=e.length)return"";var i=e.slice(n,n+8),r=s.exec(i);return null===r?i[0]:r[0]},e.charCodeAt=function(e,t){var i=n(e,t);if(i<0)return NaN;var r=e.charCodeAt(i);if(55296<=r&&r<=56319)return 1024*(r-55296)+(e.charCodeAt(i+1)-56320)+65536;return r},e.fromCharCode=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):String.fromCharCode(e)},e.indexOf=function(e,t,n){void 0!==n&&null!==n||(n=0);var i=this.findByteIndex(e,n),r=e.indexOf(t,i);return r<0?-1:this.findCharIndex(e,r)},e.lastIndexOf=function(e,t,n){var i;if(void 0===n||null===n)i=e.lastIndexOf(t);else{var r=this.findByteIndex(e,n);i=e.lastIndexOf(t,r)}return i<0?-1:this.findCharIndex(e,i)},e.slice=function(e,t,n){var i,r=this.findByteIndex(e,t);return r<0&&(r=e.length),void 0===n||null===n?i=e.length:(i=this.findByteIndex(e,n))<0&&(i=e.length),e.slice(r,i)},e.substr=function(e,t,n){return t<0&&(t=this.length(e)+t),void 0===n||null===n?this.slice(e,t):this.slice(e,t,t+n)},e.substring=e.slice,e.length=function(e){return this.findCharIndex(e,e.length-1)+1},e.stringToCodePoints=function(e){for(var t=[],n=0;n<e.length&&(codePoint=this.charCodeAt(e,n),codePoint);n++)t.push(codePoint);return t},e.codePointsToString=function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.fromCharCode(e[n]));return t.join("")},e.stringToBytes=function(e){for(var t=[],n=0;n<e.length;n++){for(var i=e.charCodeAt(n),r=[];i>0;)r.push(255&i),i>>=8;1==r.length&&r.push(0),t=t.concat(r.reverse())}return t},e.bytesToString=function(e){for(var t=[],n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o=i<<8|r;t.push(String.fromCharCode(o))}return t.join("")},e.stringToCharArray=function(e){var t=[],n=o();do{var i=n.exec(e);if(null===i)break;t.push(i[0])}while(null!==i);return t};var a=/[\uD800-\uDBFF][\uDC00-\uDFFF]/,s=o([],"")}var n;void 0!==t&&null!==t?n=t:"undefined"!=typeof window&&null!==window&&(void 0!==window.UtfString&&null!==window.UtfString||(window.UtfString={}),n=window.UtfString);var i=/\uD83C[\uDDE6-\uDDFF]\uD83C[\uDDE6-\uDDFF]/;n.visual={},e(n,[]),e(n.visual,[i])}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.request,n=e.securities,i=void 0===n?{}:n,r=e.operation,o=void 0===r?{}:r,a=e.spec,s=(0,f.default)({},t),l=i.authorized,u=void 0===l?{}:l,d=o.security||a.security||[],p=u&&!!(0,c.default)(u).length,v=(0,h.default)(a,["components","securitySchemes"])||{};return s.headers=s.headers||{},s.query=s.query||{},(0,c.default)(i).length&&p&&d&&(!Array.isArray(o.security)||o.security.length)?(d.forEach(function(e,t){for(var n in e){var i=u[n],r=v[n];if(i){var o=i.value||i,a=r.type;if(i)if("apiKey"===a)"query"===r.in&&(s.query[r.name]=o),"header"===r.in&&(s.headers[r.name]=o),"cookie"===r.in&&(s.cookies[r.name]=o);else if("http"===a){if("basic"===r.scheme){var l=o.username,c=o.password,d=(0,m.default)(l+":"+c);s.headers.Authorization="Basic "+d}"bearer"===r.scheme&&(s.headers.Authorization="Bearer "+o)}else if("oauth2"===a){var f=i.token||{},p=f.access_token,h=f.token_type;h&&"bearer"!==h.toLowerCase()||(h="Bearer"),s.headers.Authorization=h+" "+p}}}}),s):t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),a=i(o),s=n(18),l=i(s),u=n(11),c=i(u);t.default=function(e,t){var n=e.operation,i=e.requestBody,o=e.securities,s=e.spec,u=e.attachContentTypeForEmptyPayload,d=e.requestContentType;t=r({request:t,securities:o,operation:n,spec:s});var f=n.requestBody||{},p=(0,c.default)(f.content||{}),h=d&&p.indexOf(d)>-1;if(i||u){if(d&&h)t.headers["Content-Type"]=d;else if(!d){var v=p[0];v&&(t.headers["Content-Type"]=v,d=v)}}else d&&h&&(t.headers["Content-Type"]=d);return i&&(d?p.indexOf(d)>-1&&("application/x-www-form-urlencoded"===d||0===d.indexOf("multipart/")?"object"===(void 0===i?"undefined":(0,l.default)(i))?(t.form={},(0,c.default)(i).forEach(function(e){var n=i[e],r=void 0,o=void 0;"undefined"!=typeof File&&(o=n instanceof File),"undefined"!=typeof Blob&&(o=o||n instanceof Blob),void 0!==g.Buffer&&(o=o||g.Buffer.isBuffer(n)),r="object"!==(void 0===n?"undefined":(0,l.default)(n))||o?n:Array.isArray(n)?n.toString():(0,a.default)(n),t.form[e]={value:r}})):t.form=i:t.body=i):t.body=i),t},t.applySecurities=r;var d=n(59),f=i(d),p=n(66),h=i(p),v=n(111),m=i(v),g=n(43)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.request,n=e.securities,i=void 0===n?{}:n,r=e.operation,o=void 0===r?{}:r,s=e.spec,u=(0,c.default)({},t),d=i.authorized,f=void 0===d?{}:d,p=i.specSecurity,h=void 0===p?[]:p,v=o.security||h,m=f&&!!(0,a.default)(f).length,g=s.securityDefinitions;return u.headers=u.headers||{},u.query=u.query||{},(0,a.default)(i).length&&m&&v&&(!Array.isArray(o.security)||o.security.length)?(v.forEach(function(e,t){for(var n in e){var i=f[n];if(i){var r=i.token,o=i.value||i,a=g[n],s=a.type,c=a["x-tokenName"]||"access_token",d=r&&r[c],p=r&&r.token_type;if(i)if("apiKey"===s){var h="query"===a.in?"query":"headers";u[h]=u[h]||{},u[h][a.name]=o}else"basic"===s?o.header?u.headers.authorization=o.header:(o.base64=(0,l.default)(o.username+":"+o.password),u.headers.authorization="Basic "+o.base64):"oauth2"===s&&d&&(p=p&&"bearer"!==p.toLowerCase()?p:"Bearer",u.headers.authorization=p+" "+d)}}}),u):t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),a=i(o);t.default=function(e,t){var n=e.spec,i=e.operation,o=e.securities,a=e.requestContentType,s=e.attachContentTypeForEmptyPayload;if(t=r({request:t,securities:o,operation:i,spec:n}),t.body||t.form||s)a?t.headers["Content-Type"]=a:Array.isArray(i.consumes)?t.headers["Content-Type"]=i.consumes[0]:Array.isArray(n.consumes)?t.headers["Content-Type"]=n.consumes[0]:i.parameters&&i.parameters.filter(function(e){return"file"===e.type}).length?t.headers["Content-Type"]="multipart/form-data":i.parameters&&i.parameters.filter(function(e){return"formData"===e.in}).length&&(t.headers["Content-Type"]="application/x-www-form-urlencoded");else if(a){var l=i.parameters&&i.parameters.filter(function(e){return"body"===e.in}).length>0,u=i.parameters&&i.parameters.filter(function(e){return"formData"===e.in}).length>0;(l||u)&&(t.headers["Content-Type"]=a)}return t},t.applySecurities=r;var s=n(111),l=i(s),u=n(59),c=i(u),d=n(61);i(d)}])})},function(e,t,n){"use strict";var i,r;!(i=[n(92)],r=function(e){var t,n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function a(e,t){for(var n=e.length;n<t;n++)e="0"+e;return e}function s(e,t){var n=e.getHours(),i=e.getDay()-1;if(t){n%=12;n||(n=12)}i<0&&(i=6);return{year:e.getFullYear(),month:e.getMonth(),day:i,date:e.getDate(),h:n,m:e.getMinutes(),s:e.getSeconds(),f:e.getMilliseconds(),t:e.getHours()>=12?"pm":"am"}}function l(e){var t=e.toString().split(".");if(!t[1])return 0;t=Number("0."+t[1]);return t}function u(e){var t=e,n=24*l(t),i=60*l(n),r=60*l(i),o=1e3*l(r);return{d:Math.floor(t),h:Math.floor(n),m:Math.floor(i),s:Math.floor(r),f:Math.round(o)}}function c(e,t){var n=u(e),i=n.d,r=n.h,o=n.m,a=n.s,s=n.f,l=0,c;if(/w+|t+/gi.test(t)){c=new Date(1899,11,30+Math.floor(e),0,0,86400*(e-Math.floor(e)));Number.isNaN(+c.getTime())&&(c=null)}/D+/gi.test(t)||(r+=24*i);/h+/gi.test(t)||(o+=60*r);/m+/gi.test(t)||(a+=60*o);if(/w+/gi.test(t)){l=c?c.getDay()-1:0;l<0&&(l=6)}return{year:0,month:0,day:l,date:i,h:r,m:o,s:a,f:s,t:c?c.getHours()>=12?"pm":"am":""}}function d(e,t){return{"Y+|y+":{Y:Number((t.year+"").slice(-2))+"",YY:a((t.year+"").slice(-2),2),YYY:a((t.year+"").slice(-3),3),def:function e(n){return a(t.year+"",n.length)}},"M+":{M:t.month+1,MM:a(t.month+1+"",2),MMM:e.locale_months_abbr[t.month],def:e.locale_months[t.month]},"W+|w+":{W:t.day,WW:a(t.day+"",2),WWW:e.locale_days_abbr[t.day],def:e.locale_days[t.day]},"D+|d+":{D:t.date,def:function e(n){return a(t.date+"",n.length)}},"h+|H+":{h:t.h,def:function e(n){return a(t.h+"",n.length)}},"m+":{m:t.m,def:function e(n){return a(t.m+"",n.length)}},"s+|S+":{s:t.s,def:function e(n){return a(t.s+"",n.length)}},"f+|F+":{def:function e(n){var i=t.f+"",r=n.length-i.length;if(r>0)for(var o=0;o<r;o++)i+="0";else r<0&&(i=i.slice(0,n.length));return i}},"t{1,2}|T{1,2}":{def:function e(n){var i=t.t;n[0].toUpperCase()===n[0]&&(i=i.toUpperCase());i=i.slice(0,n.length);return i}}}}t=e.extend({init:function e(t,a){var s=t||{};s.qCalendarStrings||(s.qCalendarStrings={qLongDayNames:n,qDayNames:i,qLongMonthNames:r,qMonthNames:o});this.localeInfo=s;this.locale_days=s.qCalendarStrings.qLongDayNames.slice();this.locale_days_abbr=s.qCalendarStrings.qDayNames.slice();this.locale_months=s.qCalendarStrings.qLongMonthNames.slice();this.locale_months_abbr=s.qCalendarStrings.qMonthNames.slice();this.pattern=a},clone:function e(){var n=new t(this.localeInfo,this.pattern);n.subtype=this.subtype;return n},format:function e(t,n){n||(n=this.pattern?this.pattern:"YYYY-MM-DD hh:mm:ss");n=n.replace(/\[.+\]|\[|\]/g,"");var i=/t+/gi.test(n);var r;if(t instanceof Date)r=s(t,i);else{if(t<0){t=-t;n="-"+n}r=c(t,n)}var o=d(this,r);var a=[];for(var l in o)a.push(l);var u=new RegExp(a.join("|"),"g");var f=n.replace(u,function(e){var t;var n;for(n in o){t=new RegExp(n);if(t.test(e))break}if(!t)return"";var i;for(var r in o[n])if(r===e||r.toLowerCase()===e){i=o[n][r];"undefined"===typeof i&&(i=o[n][r.toLowerCase()]);break}"undefined"===typeof i&&(i=o[n].def);"function"===typeof i&&(i=i(e));return i});return f}});t.parseInterval=u;return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(109)],r=function(e,t){function n(e,t,i,r,o){var a=l(t,i,r);if("."===a.charAt(0)){t.shift();return e.apply(null,[n(e,t,i,r,o)].concat(o))}return a}function i(e,t,i,r,o,a){var l=s(""===t?null:t.split("."),o);return n(e,l,i,r,a)}var r={shift:function e(n,i){var r=new t(n);var o=r.isDark()?parseInt(i):-parseInt(i);return new t(r.shiftLuminance(o)).toHex()},fontSize:function e(t,n){var e=parseInt(t);e*=parseInt(n)/100;return Math.ceil(e)+"px"},inherit:function e(t){return t},alpha:function e(n,i){var r="transparent"===n.toLowerCase()?new t("rgba(0,0,0,0)"):new t(n);r.setAlpha(i/100);return r.toRGBA()}};function o(e,t){var n=e;for(var i=0;i<t.length;i++){if(!n[t[i]])return null;n=n[t[i]]}return n}function a(e,t,n){var o=e.substring(1).split("(")[0];var a=/\(\s*([^)]+?)\s*\)/.exec(e);a=a&&a[1]?a[1].split(/\s*,\s*/):[];try{return i(r[o],t,n,this._theme,this._basePathSteps,a)}catch(e){console.warn("Cound not execute function: "+o+", function might not be implemented or arguments are incorrect.")}}function s(e,t){var n=[];var i,r;if(e){var o=e.length;while(o>=0){i=t.slice();r=i.length;while(r>=0){n.push(i.concat(e));i.pop();r--}e.pop();o--}}else{i=t.slice();r=i.length;while(r>=0){n.push(i.concat());i.pop();r--}}return n}function l(e,t,n){for(var i=0;i<e.length;i++){var r=o(n,e[i]);if(null!==r&&r[t])return r[t]}}function u(e,t,n){var i;if(""===e)i=s(null,n);else{var r=e.split(".");i=s(r,n)}return l(i,t,this._theme)}var c=e.extend("ThemeStyleResolver",{init:function e(t,n,i){this._basePath=t;this._basePathSteps=t.split(".");this._theme=i;this._id=n;this.layoutMap={1:"spark",3:"xsmall",7:"small",15:"medium",31:"full",m:"mobile"}},setTheme:function e(t,n){this._theme=n;this._id=t},setBasePath:function e(t){this._basePath=t;this._basePathSteps=t.split(".")},getStyle:function e(t,n,i){var r=void 0===i||i;var o=p(d(this._id,this._basePath,t,n));if(r&&void 0!==o)return o;var s=this._basePathSteps.concat();var l=u.call(this,t,n,s);l&&l.charAt&&"."===l.charAt(0)&&(l=a.call(this,l,t,n));r&&l&&f(d(this._id,this._basePath,t,n),l);return l},scaleFontSize:function e(t,n,i){if("string"===typeof n)switch(n){case"large":n=31;break;case"medium":n=15;break;case"small":n=7;break;case"tiny":n=1;break;default:n=15}var r={spark:1,xsmall:.9,small:.95,full:".discrete"===i?1:1.2};return r[this.layoutMap[n]]?Math.floor(parseInt(t)*r[this.layoutMap[n]])+"px":parseInt(t)+"px"}});function d(){var e="";for(var t=0;t<arguments.length;t++)arguments[t]&&arguments[t].length&&(e+=(""!==e?".":"")+arguments[t]);return e}c._cache={};function f(e,t){c._cache[e]=t}function p(e){return c._cache[e]}c.clearCache=function(){c._cache={}};return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(215),n(93),n(120),n(91),n(107),n(90),n(194),n(89),n(228)],r=function(e,t,n,i,r,o,a,s,l){var u={};function c(e,t){return e.getList().then(function(n){return n.getLayout().then(function(n){var i=[],s=false;n.forEach(function(e){if(!e.qMeta.published){i.push(e.qData.title);e.qData.title===t.title&&(s=true)}});var l=a.nextIndex(i,t.title);(1!==l||s)&&(t.title=t.title+" ("+l+")");t.title=o.crop(t.title,r.name);return e.create(t)})})}u.addSheet=function(e){return c(n,{title:i.get("SheetItem.myNewSheet"),rank:e})};u.addStory=function(t){return c(e,{title:i.get("Storytelling.CreateNew"),rank:t})};function d(e,t){var n=s();if(l.duplicatingItem)return n.reject();l.setDuplicatingItem(true);e.clone().then(function(e){e.getProperties().then(function(i){var s={},u=0,c=i.qMetaDef.title;t.getList().then(function(t){t.getLayout().then(function(t){var d=[],f=[];t.forEach(function(e){if(!e.qMeta.published){d.push(e);f.push(e.qData.title)}});d.forEach(function(e){e.qData.rank>u&&(u=e.qData.rank)});var p=a.generateUniqueName(f,c);p=o.crop(p,r.name);l.newRank=u+1;s=o.extend(true,i,{qMetaDef:{title:p},rank:l.newRank});l.setDuplicatingItem(false);e.setProperties(s).then(function(){n.resolve(e)})})})})});return n.promise}function f(e,n){return t.getApp().then(function(t){return e.draft(t).then(function(e){return e.getProperties().then(function(t){var i={},r=0;return n.getList().then(function(n){return n.getLayout().then(function(n){var a=n.filter(function(e){return!e.qMeta.published});a.forEach(function(e){e.qData.rank>r&&(r=e.qData.rank)});i=o.extend(true,t,{rank:r+1});return e.setProperties(i).then(function(){return e.id})})})})})})}u.duplicateSheet=function(e){return d(e,n)};u.duplicateStory=function(t){return d(t,e)};u.draftSheet=function(e){return f(e,n)};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(90),n(93),n(49)],r=function(e,t,n,i){var r={"":e.get("AlternateState.InheritedState"),$:e.get("AlternateState.DefaultState")};function o(e){return{value:e,translation:""===e||"$"?r[e]:e}}function a(e){var n=e.slice();for(var i=0;i<n.length;i++){var r=n[i];n[i]=t.ellipseText(r,80)}return n}var s=function t(n,i){return n.localeCompare(i,e.language)};function l(){return n.getApp().then(function(e){return e.getAppLayout().then(function(e){var t=a(e.qStateNames.sort(s));return["","$"].concat(t).map(o)})})}var u=false;function c(e){return"masterobject"===e.qInfo.qType}return{type:"items",translation:"Common.AlternateStates",items:{alternateState:{ref:"qStateName",type:"string",translation:"AlternateState.SelectState",component:"dropdown",defaultValue:"",options:function e(t){return l().then(function(e){u=e.length>1&&i.getFlag("ALT_STATE_ONE")&&!c(t);return e})},readOnly:function e(){return!u}},allowShowDisclaimner:{component:"text",translation:"AlternateState.MasterItem.Disclaimer",style:"hint",show:function e(t){var n=t.qInfo.qType;return!("masterobject"===n||"sheet"===n)}}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(92),n(102),n(90)],r=function(e,t,n,i){var r,o={enabled:true,delay:50};r=t.extend("Throttle",{init:function e(){this.options={};this.ongoingRequests=[];this.queuedRequests=[];this.recentRequests=[];this.resolvedRequests=[];this._debounceTimer=null;this._latestResolvedRequestedAt=-1;n.mixin(this);this.notification("Send");this.notification("Cancel");this.setOptions({})},destroy:function e(){this.clear();this.recentRequests=[];this.resolvedRequests=[];n.release(this)},setOptions:function e(t){this.options=i.extend(true,{},o,this.options,t);this.enabled=this.options.enabled||false;this.delay=this.options.delay||-1},clear:function e(){clearTimeout(this._debounceTimer);var t;while(this.queuedRequests.length){t=this.queuedRequests.pop();t.dfd.reject()}while(this.ongoingRequests.length){t=this.ongoingRequests.pop();t.dfd.reject()}},queue:function t(n){var i=this.enabled?this.delay:-1,r=Date.now(),o={data:n,dfd:e(),wrapper:e(),requestedAt:r},s=Math.max(this._getAvgResolutionTime(),i),l=i<1,u=this.recentRequests.length<1,c=u||r-this.recentRequests.slice(-1)[0].requestedAt>s,d=r>this._latestResolvedRequestedAt+i;l||u||c||d?a.apply(this,[o,0]):a.apply(this,[o,Math.min(i,1e3)]);this.recentRequests.push(o);this.recentRequests.length>10&&(this.recentRequests=this.recentRequests.slice(-10));return o.dfd.promise},updateResolutionTime:function e(){this._latestResolvedRequestedAt=Date.now()},_getAvgResolutionTime:function e(){var t;if(this.resolvedRequests.length){t=0;this.resolvedRequests.forEach(function(e){t+=e.respondedAt-e.sentAt});t/=this.resolvedRequests.length}return t}});function a(e,t){var n=this;this.queuedRequests.push(e);clearTimeout(this._debounceTimer);t>=10?this._debounceTimer=setTimeout(function(){s.call(n)},t):s.call(n)}function s(){if(this.ongoingRequests.length){this.waitingForResponse=true;return}var e=this.queuedRequests.pop();e&&l.call(this,e);while(this.queuedRequests.length){e=this.queuedRequests.shift();e.dfd.reject()}}function l(e){this.waitingForResponse=false;this.ongoingRequests.push(e);var t=this,n=e.wrapper;e.sentAt=Date.now();n.promise.then(function(){t.ongoingRequests.splice(t.ongoingRequests.indexOf(e),1);e.respondedAt=Date.now();t.resolvedRequests.push({sentAt:e.sentAt,respondedAt:e.respondedAt,requestedAt:e.requestedAt});t.resolvedRequests.length>10&&(t.resolvedRequests=t.resolvedRequests.slice(-10));e.requestedAt>t._latestResolvedRequestedAt?e.dfd.resolve.apply(e.dfd,[].slice.call(arguments)):e.dfd.reject();t._latestResolvedRequestedAt=e.requestedAt},function(){t.ongoingRequests.splice(t.ongoingRequests.indexOf(e),1);e.respondedAt=Date.now();e.dfd.reject.apply(e.dfd,[].slice.call(arguments))}).finally(function(){t.waitingForResponse&&s.call(t)});this.Send.emit(e.data,n)}return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(265),n(104)],r=function(e,t){var n;function i(e,t){var n,i={};for(n in e)"qSubNodes"!==n&&e.hasOwnProperty(n)&&(i[n]=e[n]);t.push(i);return i}function r(e,t,o){var a,s,l,u=[],c=[],d=0,f=0;if(o.length){d=o[0].qUp||0;f=o[o.length-1].qDown||0}for(a=0;a<o.length;++a){s=o[a];s.qSubNodes.length>0&&(c=r(e,t,s.qSubNodes));l=null;if(0===s.qSubNodes.length&&n>=e&&n<=e+t||c.length>0){l=i(s,u);void 0!==l.qUp&&1===u.length&&(l.qUp=d+a);l.qSubNodes=c}0===s.qSubNodes.length&&n++;if(n===e+t){l&&void 0!==l.qDown&&(l.qDown=f+(o.length-1-a));break}}return u}function o(e,t,i){n=0;return r(e,t,i)}var a,s=new t(0,0,0,0),l=new t(0,0,0,0);a=e.extend("PivotCubeSlicer",{init:function e(){this._super();this.requestedAreas=[]},getPage:function e(n){var i,r,o=[],a;for(r=0;r<this.pages.length;r++){i=this.pages[r].qArea;s.set(n.qLeft,n.qTop,n.qWidth,n.qHeight);l.set(i.qLeft,i.qTop,i.qWidth,i.qHeight);a=l.intersection(s,true);o.push({coverage:a?a.clone():new t(0,0,0,0),idx:r});if(i.qLeft<=n.qLeft&&i.qLeft+i.qWidth>=n.qLeft+n.qWidth&&i.qTop<=n.qTop&&i.qTop+i.qHeight>=n.qTop+n.qHeight)return this._extract(n,this.pages[r])}o.sort(function(e,t){return t.coverage.width*t.coverage.height-e.coverage.width*e.coverage.height});if(o[0].coverage.height>0&&o[0].coverage.width>0)return this._extract(n,this.pages[o[0].idx]);return{qLeft:[],qTop:[],qData:[],qArea:{qTop:n.qTop,qLeft:n.qLeft,qWidth:0,qHeight:0}}},_extract:function e(t,n){var i,r;s.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);l.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var a=s.intersection(l,true),u,c,d;if(!a)return{qLeft:[],qTop:[],qData:[],qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0}};d=Math.max(0,t.qTop-n.qArea.qTop);c=Math.max(0,t.qLeft-n.qArea.qLeft);u=n.qData.slice(d,d+a.height).map(function(e){return e.slice(c,c+a.width)});i=o(d,a.height,n.qLeft);r=o(c,a.width,n.qTop);return{qLeft:i,qTop:r,qData:u,qArea:{qTop:a.y,qLeft:a.x,qWidth:a.width,qHeight:a.height}}}});return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(49)],r=function(e,t){var n={};function i(e){e&&delete n[e]}function r(t,i){if(!t)throw new Error("Missing type: "+t);var r={translationKey:"",icon:"",iconChar:"e",isLibraryItem:true,visible:true};n[t]=e.extend(r,i)}function o(t,n){if(!n.icon)throw new Error("Missing icon for type: "+t);if(!n.iconChar)throw new Error("Missing iconChar for type: "+t);if(!n.iconPath)throw new Error("Missing iconPath for type: "+t);if(false!==n.isLibraryItem&&!n.descriptionKey)throw new Error("Missing descriptionKey for type: "+t);var i={name:t,template:t,author:"Qlik",isThirdParty:false};r(t,e.extend(i,n))}function a(t,n){var i={name:t,description:n.description||"",template:t,icon:"puzzle",iconChar:"puzzle",iconPath:"M14.5,9 L13,9 L13,3.3 C13,3.1 12.9,3 12.7,3 L8,3 L8,1.5 C8,0.7 7.3,0 6.5,0 C5.7,0 5,0.7 5,1.5 L5,3 L0.3,3 C0.1,3 0,3.1 0,3.3 L0,9 L1.5,9 C2.3,9 3,9.7 3,10.5 C3,11.3 2.3,12 1.5,12 L0,12 L0,15.7 C0,15.9 0.1,16 0.3,16 L5,16 L5,14.5 C5,13.7 5.7,13 6.5,13 C7.3,13 8,13.7 8,14.5 L8,16 L12.7,16 C12.9,16 13,15.9 13,15.7 L13,12 L14.5,12 C15.3,12 16,11.3 16,10.5 C16,9.7 15.3,9 14.5,9 Z",isThirdParty:true};var o=e.extend(i,n);"bar-chart-vertical"===o.icon&&(o.icon="bar-chart");r(t,o)}t.getFlag("DISABLE_AUTO_CHART")||o("auto-chart",{descriptionKey:"Template.preview.description.auto-chart",translationKey:"Object.AutoChart",icon:"effects",iconChar:"effects",iconPath:"M-3.26849658e-13,12.4318748 L11.4318748,1 L14.0699997,3.63812494 L2.63812494,15.0699997 L-3.26849658e-13,12.4318748 Z M2.63812494,14.1026872 L4.3968749,12.4318748 L2.63812494,10.6731248 L0.967312479,12.4318748 L2.63812494,14.1026872 Z M11.4318748,5.3968749 L13.1906247,3.63812494 L11.4318748,1.87937498 L9.67312479,3.63812494 L11.4318748,5.3968749 Z M5.62799988,2.93462496 L4.7486249,2.67081246 L5.54006238,2.14318748 L5.54006238,1.175875 L6.24356236,1.70349998 L7.12293735,1.43968749 L6.85912485,2.31906247 L7.38674984,3.11049995 L6.41943736,3.11049995 L5.89181237,3.81399994 L5.62799988,2.93462496 Z M15.5649372,5.13306241 L16.0046247,5.7486249 L15.3011247,5.7486249 L14.8614372,6.36418738 L14.6855622,5.6606874 L13.9820622,5.3968749 L14.5976247,4.95718741 L14.5976247,4.25368743 L15.2131872,4.69337492 L15.9166872,4.42956243 L15.5649372,5.13306241 Z M12.5750622,9.26612482 L12.2233122,10.4093123 L12.9268122,11.3766248 L11.7836247,11.3766248 L11.0801248,12.3439373 L10.7283748,11.2007498 L9.58518729,10.8489998 L10.5524998,10.1454998 L10.5524998,8.91437483 L11.5198123,9.61787481 L12.5750622,9.26612482 Z",visible:false});o("barchart",{descriptionKey:"Template.preview.description.barchart",translationKey:"Object.BarChart",icon:"bar-chart",iconChar:"bar_chart",iconPath:"M1,4 L3,4 C3.55228475,4 4,4.44771525 4,5 L4,15 C4,15.5522847 3.55228475,16 3,16 L1,16 C0.44771525,16 6.76353751e-17,15.5522847 0,15 L0,5 C-6.76353751e-17,4.44771525 0.44771525,4 1,4 Z M7,8 L9,8 C9.55228475,8 10,8.44771525 10,9 L10,15 C10,15.5522847 9.55228475,16 9,16 L7,16 C6.44771525,16 6,15.5522847 6,15 L6,9 C6,8.44771525 6.44771525,8 7,8 Z M13,0 L15,0 C15.5522847,-1.01453063e-16 16,0.44771525 16,1 L16,15 C16,15.5522847 15.5522847,16 15,16 L13,16 C12.4477153,16 12,15.5522847 12,15 L12,1 C12,0.44771525 12.4477153,1.01453063e-16 13,0 Z"});o("combochart",{descriptionKey:"Template.preview.description.combochart",translationKey:"Object.ComboChart",icon:"combo-chart",iconChar:"combo_chart",iconPath:"M3,10 L4,9 L4,16 L1,16 L1,12 L3,10 Z M8,11 L9,10 L9,16 L6,16 L6,9 L8,11 Z M11,8 L14,5 L14,16 L11,16 L11,8 Z M7.85226383,7.10149824 L13.8077922,1.14512991 C14.0012715,0.951623362 14.3149633,0.951623362 14.5084426,1.14512991 L14.8587678,1.49550452 C15.0522471,1.68901107 15.0522471,2.00274718 14.8587678,2.19625374 L7.85226383,9.20374588 L5.04966223,6.40074902 L1.19608505,10.2548697 C1.00260578,10.4483763 0.688913912,10.4483763 0.495434648,10.2548697 L0.145109449,9.9044951 C-0.0483698162,9.71098854 -0.0483698162,9.39725243 0.145109449,9.20374588 L5.04966223,4.29850138 L7.85226383,7.10149824 Z"});t.getFlag("CONTAINER_OBJECT")&&o("container",{descriptionKey:"Template.preview.description.container",translationKey:"Object.Container",icon:"box",iconChar:"box",iconPath:"M16,6 L15,6 L15,5 L1,5 L1,6 L-1.77635684e-15,6 L-1.77635684e-15,2 C-1.84399221e-15,1.44771525 0.44771525,1 1,1 L15,1 C15.5522847,1 16,1.44771525 16,2 L16,6 Z M11,2 L11,4 L15,4 L15,2.4 C15,2.1790861 14.8209139,2 14.6,2 L11,2 Z M6,2 L6,4 L10,4 L10,2 L6,2 Z M1.4,2 C1.1790861,2 1,2.1790861 1,2.4 L1,4 L5,4 L5,2 L1.4,2 Z M16,8 L16,11 L15,11 L15,8 L16,8 Z M16,13 L16,14 C16,14.5522847 15.5522847,15 15,15 L14,15 L14,14 L14.6,14 C14.8209139,14 15,13.8209139 15,13.6 L15,13 L16,13 Z M12,15 L9,15 L9,14 L12,14 L12,15 Z M7,15 L4,15 L4,14 L7,14 L7,15 Z M2,15 L1,15 C0.44771525,15 -6.53651803e-16,14.5522847 -1.70234197e-15,14 L-1.77635684e-15,13 L1,13 L1,13.6 C1,13.8209139 1.1790861,14 1.4,14 L2,14 L2,15 Z M-1.77635684e-15,11 L-1.77635684e-15,8 L1,8 L1,11 L-1.77635684e-15,11 Z"});o("distributionplot",{descriptionKey:"Template.preview.description.distributionplot",translationKey:"Object.DistributionPlot",icon:"distributionplot",iconChar:"distributionplot",iconPath:"M5,5 C3.9,5 3,4.1 3,3 C3,1.9 3.9,1 5,1 L14,1 C15.1,1 16,1.9 16,3 C16,4.1 15.1,5 14,5 L5,5 Z M14,8 C14,9.1 13.1,10 12,10 L2,10 C0.9,10 0,9.1 0,8 C0,6.9 0.9,6 2,6 L12,6 C13.1,6 14,6.9 14,8 Z M14,11 C15.1,11 16,11.9 16,13 C16,14.1 15.1,15 14,15 L6,15 C4.9,15 4,14.1 4,13 C4,11.9 4.9,11 6,11 L14,11 Z M12,2 C11.5,2 11,2.4 11,3 C11,3.6 11.4,4 12,4 C12.6,4 13,3.6 13,3 C13,2.4 12.6,2 12,2 Z M8,2 C7.5,2 7,2.4 7,3 C7,3.6 7.4,4 8,4 C8.6,4 9,3.6 9,3 C9,2.4 8.6,2 8,2 Z M4,9 C4.6,9 5,8.6 5,8 C5,7.4 4.6,7 4,7 C3.4,7 3,7.4 3,8 C3,8.6 3.5,9 4,9 Z M10,9 C10.6,9 11,8.6 11,8 C11,7.4 10.6,7 10,7 C9.4,7 9,7.4 9,8 C9,8.6 9.5,9 10,9 Z M10,14 C10.6,14 11,13.6 11,13 C11,12.4 10.6,12 10,12 C9.4,12 9,12.4 9,13 C9,13.6 9.4,14 10,14 Z"});o("boxplot",{descriptionKey:"Template.preview.description.boxplot",translationKey:"Object.BoxPlot",icon:"boxplot",iconChar:"boxplot",iconPath:"M15,9 L13,9 L13,13 C13,13.5522847 12.5522847,14 12,14 L4,14 C3.44771525,14 3,13.5522847 3,13 L3,9 L1.0625,9 L1.0625,10.46875 C1.0625,10.7621513 0.824651273,11 0.53125,11 C0.237848727,11 9.24109713e-16,10.7621513 8.8817842e-16,10.46875 L8.8817842e-16,5.53125 C8.52247127e-16,5.23784873 0.237848727,5 0.53125,5 C0.824651273,5 1.0625,5.23784873 1.0625,5.53125 L1.0625,7 L3,7 L3,3 C3,2.44771525 3.44771525,2 4,2 L12,2 C12.5522847,2 13,2.44771525 13,3 L13,7 L15,7 L15,5.53125 C15,5.23784873 15.2378487,5 15.53125,5 C15.8246513,5 16.0625,5.23784873 16.0625,5.53125 L16.0625,10.46875 C16.0625,10.7621513 15.8246513,11 15.53125,11 C15.2378487,11 15,10.7621513 15,10.46875 L15,9 Z M12,13 L12,3 L8,3 L8,13 L12,13 Z M7,13 L7,3 L4,3 L4,13 L7,13 Z"});o("filterpane",{descriptionKey:"Template.preview.description.filterpane",translationKey:"Object.FilterPane",icon:"filterpane",iconChar:"filterpane",iconPath:"M11,12.4863156 L8.07008534,8.35945066 C8.01004078,8.27487625 7.97778427,8.17372182 7.97778427,8.07000017 C7.97778427,7.7938578 8.20164189,7.57000017 8.47778427,7.57000017 L15.5221738,7.57000017 C15.6258954,7.57000017 15.7270499,7.60225668 15.8116243,7.66230124 C16.0367902,7.82216033 16.0897318,8.13428476 15.9298727,8.35945066 L13,12.4862565 L13,14.2491542 C13,14.3319207 12.9683969,14.4105936 12.9134166,14.4646953 L11.4134166,15.9407239 C11.3089266,16.0435439 11.1510567,16.030395 11.0608043,15.911355 C11.0215816,15.8596216 11,15.7935423 11,15.7251827 L11,12.4863156 Z M13,6 L12,6 L12,1.5 C12,1.22385763 11.7761424,1 11.5,1 L1.5,1 C1.22385763,1 1,1.22385763 1,1.5 L1,14.5 C1,14.7761424 1.22385763,15 1.5,15 L9,15 L9,16 L1,16 C0.44771525,16 6.76353751e-17,15.5522847 0,15 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 L12,0 C12.5522847,-1.01453063e-16 13,0.44771525 13,1 L13,6 Z"});o("gauge",{descriptionKey:"Template.preview.description.gauge",translationKey:"Object.Gauge",icon:"gauge-chart",iconChar:"gauge_chart",iconPath:"M2.63604397,14.9354012 C1.01716423,13.4714713 0,11.3545214 0,9 C0,4.581722 3.581722,1 8,1 C12.418278,1 16,4.581722 16,9 C16,11.3545214 14.9828358,13.4714713 13.363956,14.9354012 C12.9974483,14.298577 12.6309407,13.7270222 12.264433,13.2207366 C13.3374059,12.1367251 14,10.6457411 14,9 C14,5.6862915 11.3137085,3 8,3 C4.6862915,3 2,5.6862915 2,9 C2,10.6457411 2.66259413,12.1367251 3.73556701,13.2207366 C3.36905933,13.7270222 3.00255165,14.298577 2.63604397,14.9354012 Z M8.6785878,7.14391341 L12.0475946,5 L9.90368118,8.36900679 C10.1480944,9.07321165 9.9868748,9.88914692 9.42129812,10.4547236 C8.63472595,11.2412958 7.36391823,11.2457735 6.58286965,10.4647249 C5.80182106,9.68367637 5.80629882,8.41286865 6.592871,7.62629647 C7.15844768,7.06071979 7.97438295,6.89950016 8.6785878,7.14391341 Z"});o("histogram",{descriptionKey:"Template.preview.description.histogram",translationKey:"Object.Histogram",icon:"histogram",iconChar:"histogram",iconPath:"M14,11 L14,8.5 C14,8.22385763 14.2238576,8 14.5,8 L15.5,8 C15.7761424,8 16,8.22385763 16,8.5 L16,15 L14,15 L12,15 L10,15 L8,15 L6,15 L4,15 L2,15 L0,15 L0,6.5 C-3.38176876e-17,6.22385763 0.223857625,6 0.5,6 L2,6 L2,3.5 C2,3.22385763 2.22385763,3 2.5,3 L3.5,3 C3.77614237,3 4,3.22385763 4,3.5 L4,10 L6,10 L6,7.5 C6,7.22385763 6.22385763,7 6.5,7 L8,7 L8,1.5 C8,1.22385763 8.22385763,1 8.5,1 L9.5,1 C9.77614237,1 10,1.22385763 10,1.5 L10,3 L11.5,3 C11.7761424,3 12,3.22385763 12,3.5 L12,11 L14,11 Z"});o("kpi",{descriptionKey:"Template.preview.description.kpi",translationKey:"Object.Kpi",icon:"kpi",iconChar:"kpi",iconPath:"M16,2 L16,14 L14,14 L14,6 L12,6 L12,4 C13.7,4 14,3.2 14,2 L16,2 Z M7.9,5 L10,5 L10,6.5 L7.7,6.5 L7.3,9.5 L9,9.5 L9,11 L7.1,11 L6.7,14 L5.2,14 L5.6,11 L3.4,11 L3,14 L1.5,14 L1.9,11 L0,11 L0,9.5 L2.1,9.5 L2.5,6.5 L1,6.5 L1,5 L2.6,5 L3,2 L4.5,2 L4.1,5 L6.4,5 L6.8,2 L8.3,2 L7.9,5 Z M6.2,6.5 L3.9,6.5 L3.5,9.5 L5.7,9.5 L6.2,6.5 Z"});o("linechart",{descriptionKey:"Template.preview.description.linechart",translationKey:"Object.LineChart",icon:"line-chart",iconChar:"line_chart",iconPath:"M16,15 L16,16 L1.3,16 L0,16 L0,14.7 L0,0 L1,0 L1,13 L5.4,5.7 L9.4,8 L13.2,1.4 C13.5,0.9 14.4,0.8 14.9,1 C15.4,1.3 15.7,2.1 15.4,2.6 L10.4,11.4 L6.4,9.1 L3,15 L16,15 Z"});o("listbox",{descriptionKey:"Template.preview.description.listbox",translationKey:"Object.Listbox",icon:"list",iconChar:"list",iconPath:"M0,1 L16,1 L16,3 L0,3 L0,1 Z M0,7 L0,5 L16,5 L16,7 L0,7 Z M0,11 L0,9 L16,9 L16,11 L0,11 Z M0,15 L0,13 L16,13 L16,15 L0,15 Z",isLibraryItem:false});o("piechart",{descriptionKey:"Template.preview.description.piechart",translationKey:"Object.PieChart",icon:"pie-chart",iconChar:"pie_chart",iconPath:"M7,1 L7,8 L14,8 C14,11.8659932 10.8659932,15 7,15 C3.13400675,15 0,11.8659932 0,8 C0,4.13400675 3.13400675,1 7,1 Z M8,1.15888847e-31 C11.8659932,6.95889291e-16 15,3.13400675 15,7 L8,7 L8,-8.8817842e-16 Z"});o("pivot-table",{descriptionKey:"Template.preview.description.pivot-table",translationKey:"Object.PivotTable",icon:"pivot-table",iconChar:"pivot_table",iconPath:"M1,1 L15,1 C15.5522847,1 16,1.44771525 16,2 L16,14 C16,14.5522847 15.5522847,15 15,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,2 C-6.76353751e-17,1.44771525 0.44771525,1 1,1 Z M3,4 L3,14 L15,14 L15,4 L3,4 Z M1,2 L1,4 L3,4 L3,2 L1,2 Z M4,5 L8,5 L8,7 L4,7 L4,5 Z M9,5 L14,5 L14,7 L9,7 L9,5 Z M4,8 L8,8 L8,10 L4,10 L4,8 Z M9,8 L14,8 L14,10 L9,10 L9,8 Z M4,11 L8,11 L8,13 L4,13 L4,11 Z M9,11 L14,11 L14,13 L9,13 L9,11 Z"});o("map",{descriptionKey:"Template.preview.description.map",translationKey:"Object.Map",icon:"map",iconChar:"map",iconPath:"M2.714544,3.424368 L4.799632,3.010608 L5.381168,2.691824 L6.035584,2.880368 L7.08112,2.822496 L7.439328,2.259456 L7.96168,2.345392 L9.23016,2.226432 L9.579776,1.84112 L10.072688,1.511888 L10.77008,1.616816 L10.837536,1.606624 L13.796464,4.080256 L12.5564,4.215376 L12.236688,4.726016 L12.00464,4.652272 L11.10384,3.840016 L10.798096,2.967216 L10.231872,2.459344 L9.563904,2.328672 L9.548576,2.634384 L10.202944,3.272944 L10.177808,3.630192 L9.870128,3.751888 L9.430976,3.56872 L9.44592,3.214592 L8.86976,2.977664 L8.67848,3.810176 L8.097792,3.941824 L8.155216,4.40624 L8.911808,4.551872 L9.042496,3.809744 L9.667056,3.902032 L9.957392,4.072016 L10.423216,4.072016 L10.742,4.710624 L11.58728,5.568048 L11.525264,5.90136 L10.84376,5.814512 L9.666144,6.409232 L8.818176,7.42632 L8.70784,7.876704 L8.403504,7.876704 L7.836368,7.61536 L7.28552,7.876704 L7.422608,8.457872 L7.662304,8.181504 L8.083744,8.168448 L8.054384,8.690304 L8.403504,8.792528 L8.752144,9.184128 L9.321536,9.024032 L11.30464,9.397632 L11.743728,10.099904 L12.978864,10.624992 L12.179696,12.350704 L11.337168,12.742368 L10.836592,13.734576 L9.798224,14.427856 L9.700144,14.782464 L8.883424,14.937984 L8.818176,14.18096 L9.144224,12.859488 L8.300368,10.752992 L8.679168,9.963632 L7.767216,9.086 L6.585936,8.820976 L6.193856,8.000672 L6.193856,8.487728 L6.02112,8.487728 L5.00312,7.107472 L5.00312,5.973696 L4.091824,4.92544 L2.273872,4.971552 L1.872256,4.708368 L2.38464,4.30224 L2.015568,4.387504 L2.714544,3.424368 Z M9.492,1.472096 L8.81776,1.985408 L8.173776,2.050096 L7.883856,1.861936 L9.026256,1.203056 L9.492,1.472096 Z M7.120064,2.056384 L6.152224,2.310608 L5.686896,2.03832 L6.152224,1.660704 L6.472416,1.794112 L6.891664,1.660704 L7.120064,2.056384 Z M8,0 C3.581728,0 0,3.581712 0,8 C0,12.418272 3.581728,16 8,16 C12.418288,16 16,12.418272 16,8 C16,3.581712 12.418288,0 8,0 Z"});o("scatterplot",{descriptionKey:"Template.preview.description.scatterplot",translationKey:"Object.ScatterPlot",icon:"scatter-chart",iconChar:"scatter_chart",iconPath:"M4,0 C6.2,0 8,1.8 8,4 C8,6.2 6.2,8 4,8 C1.8,8 0,6.2 0,4 C0,1.8 1.8,0 4,0 Z M12.5,5 C14.4,5 16,6.6 16,8.5 C16,10.4 14.4,12 12.5,12 C10.6,12 9,10.4 9,8.5 C9,6.6 10.6,5 12.5,5 Z M5.5,11 C6.9,11 8,12.1 8,13.5 C8,14.9 6.9,16 5.5,16 C4.1,16 3,14.9 3,13.5 C3,12.1 4.1,11 5.5,11 Z"});o("table",{descriptionKey:"Template.preview.description.table",translationKey:"Object.Table",icon:"table",iconChar:"table",iconPath:"M1,1 L15,1 C15.5522847,1 16,1.44771525 16,2 L16,14 C16,14.5522847 15.5522847,15 15,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,2 C-6.76353751e-17,1.44771525 0.44771525,1 1,1 Z M1,4 L1,14 L15,14 L15,4 L1,4 Z M7,5 L10,5 L10,7 L7,7 L7,5 Z M11,5 L14,5 L14,7 L11,7 L11,5 Z M2,5 L6,5 L6,7 L2,7 L2,5 Z M7,8 L10,8 L10,10 L7,10 L7,8 Z M11,8 L14,8 L14,10 L11,10 L11,8 Z M2,8 L6,8 L6,10 L2,10 L2,8 Z M7,11 L10,11 L10,13 L7,13 L7,11 Z M11,11 L14,11 L14,13 L11,13 L11,11 Z M2,11 L6,11 L6,13 L2,13 L2,11 Z"});o("text-image",{descriptionKey:"Template.preview.description.text-image",translationKey:"Object.TextImage",icon:"text",iconChar:"text",iconPath:"M5.52083333,11.9375 L4.5,15 L1,15 L6.425,1 L9.6625,1 L15,15 L11.5,15 L10.4791667,11.9375 L5.52083333,11.9375 Z M6.25,9.75 L9.75,9.75 L8,4.5 L6.25,9.75 Z"});o("treemap",{descriptionKey:"Template.preview.description.treemap",translationKey:"Object.Treemap",icon:"treemap",iconChar:"treemap",iconPath:"M9.3,5 C9.1,5 9,4.9 9,4.7 L9,0.3 C9,0.1 9.1,0 9.3,0 L15.7,0 C15.8,0 16,0.1 16,0.3 L16,4.7 C16,4.9 15.8,5 15.7,5 L9.3,5 Z M11.7,12 C11.9,12 12,12.1 12,12.3 L12,15.7 C12,15.9 11.9,16 11.7,16 L9.3,16 C9.1,16 9,15.9 9,15.7 L9,12.3 C9,12.2 9.1,12 9.3,12 L11.7,12 Z M6.7,0 C6.9,0 7,0.1 7,0.3 L7,7.7 C7,7.9 6.9,8 6.7,8 L0.3,8 C0.1,8 0,7.9 0,7.7 L0,0.3 C0,0.1 0.1,0 0.3,0 L6.7,0 Z M6.7,10 C6.9,10 7,10.1 7,10.3 L7,15.7 C7,15.9 6.9,16 6.7,16 L0.3,16 C0.1,16 0,15.9 0,15.7 L0,10.3 C0,10.1 0.1,10 0.3,10 L6.7,10 Z M15.7,12 C15.9,12 16,12.1 16,12.3 L16,15.7 C16,15.9 15.9,16 15.7,16 L14.3,16 C14.1,16 14,15.9 14,15.7 L14,12.3 C14,12.1 14.1,12 14.3,12 L15.7,12 Z M15.7,7 C15.9,7 16,7.2 16,7.3 L16,9.7 C16,9.9 15.9,10 15.7,10 L9.3,10 C9.1,10 9,9.9 9,9.7 L9,7.3 C9,7.2 9.1,7 9.3,7 L15.7,7 Z"});o("waterfallchart",{descriptionKey:"Template.preview.description.waterfallchart",translationKey:"Object.WaterfallChart",icon:"waterfallchart",iconChar:"waterfallchart",iconPath:"M0.5,1 L2.5,1 C2.77614237,1 3,1.22385763 3,1.5 L3,14.5 C3,14.7761424 2.77614237,15 2.5,15 L0.5,15 C0.223857625,15 3.38176876e-17,14.7761424 0,14.5 L0,1.5 C-3.38176876e-17,1.22385763 0.223857625,1 0.5,1 Z M5,1 L7,1 C7.27614237,1 7.5,1.22385763 7.5,1.5 L7.5,4.5 C7.5,4.77614237 7.27614237,5 7,5 L5,5 C4.72385763,5 4.5,4.77614237 4.5,4.5 L4.5,1.5 C4.5,1.22385763 4.72385763,1 5,1 Z M9,5 L11,5 C11.2761424,5 11.5,5.22385763 11.5,5.5 L11.5,8.5 C11.5,8.77614237 11.2761424,9 11,9 L9,9 C8.72385763,9 8.5,8.77614237 8.5,8.5 L8.5,5.5 C8.5,5.22385763 8.72385763,5 9,5 Z M13.5,9 L15.5,9 C15.7761424,9 16,9.22385763 16,9.5 L16,14.5 C16,14.7761424 15.7761424,15 15.5,15 L13.5,15 C13.2238576,15 13,14.7761424 13,14.5 L13,9.5 C13,9.22385763 13.2238576,9 13.5,9 Z"});o("widget",{translationKey:"Object.Widget",icon:"widget",iconChar:"widget",iconPath:"M1,12.1 L7,16 L7,11.2 L1,7.3 L1,12.1 Z M9,12.1 L9,16 L15,12.1 L15,7.3 L9,11.2 L9,12.1 Z M8,2.1 C9,2.1 9.8,1.6 9.8,1 C9.8,0.5 9,0 8,0 C7,0 6.2,0.5 6.2,1.1 C6.2,1.7 7,2.1 8,2.1 Z M13.5,3.9 L13.5,4.5 C13.5,5.1 12.7,5.6 11.7,5.6 C10.7,5.6 9.9,5.1 9.9,4.5 L9.9,3.4 C10,3.9 10.8,4.4 11.7,4.4 C12.7,4.4 13.5,3.9 13.5,3.3 C13.5,2.7 12.7,2.2 11.7,2.2 C11.4,2.2 11.2,2.2 10.9,2.3 L9.8,1.6 L9.8,2.3 C9.8,2.9 9,3.4 8,3.4 C7,3.4 6.2,2.9 6.2,2.3 L6.2,1.6 L5.1,2.3 C4.8,2.2 4.6,2.2 4.3,2.2 C3.3,2.2 2.5,2.7 2.5,3.3 C2.5,3.9 3.3,4.4 4.3,4.4 C5.3,4.4 6,4 6.1,3.4 L6.1,4.5 C6.1,5.1 5.3,5.6 4.3,5.6 C3.3,5.6 2.5,5.1 2.5,4.5 L2.5,3.9 L1,4.7 L8,9.2 L15,4.7 L13.5,3.9 Z M9.8,6.9 C9.8,7.5 9,7.9 8,7.9 C7,7.9 6.2,7.5 6.2,6.9 L6.2,5.8 L6.2,5.6 C6.2,6.2 7,6.7 8,6.7 C9,6.7 9.8,6.2 9.8,5.6 L9.8,5.8 L9.8,6.9 Z",name:"Widget",description:"Qlik Sense Widget",isLibraryItem:false});return{registerThirdPartyLibraryInfo:a,remove:i,getLibraryInfo:function t(i){return e.extend({},n[i])}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(100),n(327)],r=function(e,t){function n(e,t){this.id=e;Object.defineProperties(this,{id:{value:e},properties:{value:t}})}n.prototype.getStyle=function(e,n,i){var r=new t(e,this.id,this.properties);return r.getStyle(n,i,false)};n.prototype.apply=function(){return e.applyTheme(this.id).then(function(e){return e})};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(140),n(110),n(254),n(158)],r=function(e,t,n,i,r){var o=n.NxLocalizedErrorCode;var a,s;function l(e,t,n,i){return e.session.rpc({method:t,handle:-1,params:n||[]}).then(function(e){i&&i(e.result);return e.result})}function u(n,i,r){e.$apply(e.$rootScope,function(){t.getList(n).then(function(e){r&&n.close();i(e)},function(){a&&a({code:o.LOCERR_GENERIC_CONNECTION_LOST,message:"ErrorCode."+o.LOCERR_GENERIC_CONNECTION_LOST})})})}function c(e){r.initClient();if(e instanceof i){this.session=e;this.qEvent=e.options.qEvent}else if(e.app&&e.rpc){var t=i.getIfCached(e.app.id,e.sessionConfig);this.session=t||i.get(e.app.id,e.sessionConfig);this.session.open()}else{this.session=i.get("?transient=",e);this.session.open();this.qEvent=e.qEvent}}c.setErrorCallback=function(e,t){a=e;s=t};c.get=function(e){e=e||{};this._qEvent&&(e._qEvent=this._qEvent);var t=r.makeConfig(e);t.onError=a?function(e){e=e||{};e.code!==o.LOCERR_GENERIC_CONNECTION_LOST&&a(e||{code:o.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:a;return new c(t)};c.getAppList=function(e,t){var n=r.makeConfig(t);n.onError=a?function(e){e=e||{};e.code!==o.LOCERR_GENERIC_CONNECTION_LOST&&a(e||{code:o.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:a;s&&(n.onWarning=s);var l=i.get("?transient=",n);l.open();u(l,e,true)};c.prototype.getAppList=function(e){u(this.session,e,false)};c.prototype.getAuthenticatedUser=function(e){return l(this,"GetAuthenticatedUser",[],e)};c.prototype.isPersonalMode=function(e){return l(this,"IsPersonalMode",[],e)};c.prototype.getQTProduct=function(e){return l(this,"QTProduct",[],e)};c.prototype.getProductVersion=function(e){return l(this,"ProductVersion",[],e)};c.prototype.cancelReload=function(){return l(this,"CancelReload")};c.prototype.getProgress=function(e,t){return l(this,"GetProgress",[e],t)};c.prototype.GetProgress=function(e,t){return this.getProgress(e,t)};c.prototype.on=function(e,t){this.qEvent.register({scope:"QGlobal",name:e,callback:t})};c.prototype.off=function(e){this.qEvent.clear(e)};return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){this.handlers=e||[]}e.prototype.register=function(e){this.handlers[e.name]||(this.handlers[e.name]=[]);this.handlers[e.name].push({scope:e.scope,callback:e.callback})};e.prototype.emit=function(e,t){if(this.handlers[e]){var n=this.handlers[e].filter(function(e){return"root"!==e.scope}).length>0;for(var i in this.handlers[e])(n&&"root"!==this.handlers[e][i].scope||!n)&&this.handlers[e][i].callback(t)}};e.prototype.hasHandlers=function(e){return!!this.handlers[e]};e.prototype.clear=function(e){e?delete this.handlers[e]:this.handlers=[]};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(231),n(158)],r=function(e,t,n){function i(e,n,i){Object.defineProperties(this,{qFallbackTitle:{value:e.qFallbackTitle},qSortIndicator:{value:e.qSortIndicator},qReverseSort:{value:e.qReverseSort||false},col:{value:n},isOrderedBy:{value:n===i.qHyperCube.qEffectiveInterColumnSortOrder[0]},isDimension:{value:n<i.qHyperCube.qDimensionInfo.length},selections:{value:[]},parent:{value:i}});this.isDimension?Object.defineProperties(this,{qCardinal:{value:e.qCardinal},qStateCounts:{value:e.qStateCounts},qDimensionInfo:{value:e}}):Object.defineProperties(this,{qMax:{value:e.qMax},qMin:{value:e.qMin},qMeasureInfo:{value:e}});e.qGroupFieldDefs&&e.qGroupFieldDefs.length>0&&Object.defineProperties(this,{field:{value:i.app.field(e.qGroupFieldDefs[e.qGroupPos])}});e.qError&&Object.defineProperties(this,{errorCode:{value:e.qError.qErrorCode},errorMessage:{value:this.isDimension?t.getDimensionError(e.qError.qErrorCode):t.getMeasureError(e.qError.qErrorCode)}})}i.prototype.orderBy=function(){var e=[this.col];this.parent.qHyperCube.qEffectiveInterColumnSortOrder.forEach(function(t){t!==e[0]&&e.push(t)});var t=[{qPath:"/"+this.parent.defPath+"/qInterColumnSortOrder",qOp:"replace",qValue:"["+e.join(",")+"]"}];return this.parent.model.applyPatches(t,true)};i.prototype.reverseOrder=function(){var e=this.col<this.parent.qHyperCube.qDimensionInfo.length;var t=[{qPath:"/"+this.parent.defPath+(e?"/qDimensions/"+this.col:"/qMeasures/"+(this.col-this.parent.qHyperCube.qDimensionInfo.length))+"/qDef/qReverseSort",qOp:"replace",qValue:(!this.qReverseSort).toString()}];return this.parent.model.applyPatches(t,true)};i.prototype.isSelected=function(e){return this.selections.indexOf(e)>-1};i.prototype.toggleSelect=function(e){var t=this.selections.indexOf(e);t<0?this.selections.push(e):this.selections.splice(t,1)};i.prototype.selectRange=function(e,t,n,i){var r={qMeasureIx:this.col-this.parent.qHyperCube.qDimensionInfo.length,qRange:{qMin:e,qMax:t,qMinInclEq:n,qMaxInclEq:i}};return this.parent.model.rangeSelectHyperCubeValues("/"+this.parent.defPath,[r],[],false)};function r(e,t,n,i){Object.defineProperties(this,{qDimensionInfo:{value:t},qText:{value:e.qIsOtherCell?t.othersLabel:e.qText},qElemNumber:{value:e.qElemNumber},qState:{value:e.qState},col:{value:n},selected:{get:function e(){return this.header.isSelected(this.qElemNumber)}},header:{get:function e(){return this.parent.headers[this.col]}},parent:{value:i}});Number.isNaN(+e.qNum)||Object.defineProperties(this,{qNum:{value:e.qNum}})}r.prototype.select=function(){this.header.toggleSelect(this.qElemNumber);return this.parent.view&&this.parent.view.selectValues?this.parent.view.selectValues(this.col,[this.qElemNumber],true):this.parent.model.selectHyperCubeValues("/"+this.parent.defPath,this.col,[this.qElemNumber],true)};function o(e,t,n){Object.defineProperties(this,{qMeasureInfo:{value:t},qGrandTotal:{value:n},qText:{value:e.qText}});Number.isNaN(+e.qNum)||Object.defineProperties(this,{qNum:{value:e.qNum}})}o.prototype.getPercentOfMax=function(){return Math.round(100*this.qNum/this.qMeasureInfo.qMax*100)/100};o.prototype.getPercent=function(){return Math.round(100*this.qNum/this.qGrandTotal.qNum*100)/100};function a(e,t,n){var i=[],a=[],s=[],l=t.qDimensionInfo.length,u=t.columnOrder;e.forEach(function(e,s){s<l?i.push(new r(e,t.qDimensionInfo[s],s,n)):a.push(new o(e,t.qMeasureInfo[s-l],t.qGrandTotalRow[s-l]))});u?u.forEach(function(e){s.push(e<l?i[e]:a[e-l])}):s=i.concat(a);Object.defineProperties(this,{dimensions:{value:i},measures:{value:a},cells:{value:s}})}function s(t,n,i){e.create(this,"OnData");Object.defineProperties(this,{app:{value:t},path:{value:i||"qHyperCube"},defPath:{get:function e(){return this.path+"Def"}},rows:{value:[]},headers:{value:[]},totals:{value:[]},rowCount:{get:function e(){if(this.qHyperCube&&this.qHyperCube.qSize)return this.qHyperCube.qSize.qcy}},colCount:{get:function e(){if(this.qHyperCube&&this.qHyperCube.qSize)return this.qHyperCube.qSize.qcx}}});if("function"===typeof n.then){var r=this;n.then(function(e){l(r,e)})}else{var o=n.backendApi?n.backendApi.model:n;l(this,o,n.backendApi?n:void 0)}}function l(e,t,n){Object.defineProperties(e,{model:{value:t},view:{value:n}});u(e);if(e.model&&e.model.Validated){e._OnModelValid=function(){u(e)};e.model.Validated.bind(e._OnModelValid)}}function u(e){!e.qHyperCube&&e.model.layout&&(e.qHyperCube=e.model.layout[e.path]);if(e.model&&e.model.layout&&e.model.layout.qSelectionInfo&&e.model.layout.qSelectionInfo.qInSelections)return;e.headers.length=0;e.totals.length=0;e.rows.length=0;if(e.qHyperCube){var t=e.qHyperCube.qDimensionInfo?e.qHyperCube.qDimensionInfo.length:0,n=e.qHyperCube.columnOrder;e.qHyperCube.qDimensionInfo&&e.qHyperCube.qDimensionInfo.forEach(function(t,r){if(n){var o=n.indexOf(r);e.headers[o]=new i(t,r,e)}else e.headers.push(new i(t,r,e))});e.qHyperCube.qMeasureInfo&&e.qHyperCube.qMeasureInfo.forEach(function(r,o){if(n){var a=n.indexOf(o+t);e.headers[a]=new i(r,o+t,e)}else e.headers.push(new i(r,o+t,e))});e.qHyperCube.qGrandTotalRow&&e.qHyperCube.qGrandTotalRow.forEach(function(t,n){e.totals.push(new o(t,e.qHyperCube.qMeasureInfo[n]))});c(e,e.qHyperCube.qDataPages)}e.OnData.emit()}function c(e,t){t&&t.forEach(function(t){t.qMatrix.forEach(function(t){e.rows.push(new a(t,e.qHyperCube,e))})})}s.prototype.getMoreData=function(){if(this.requestActive)return;if(this.rowCount<=this.rows.length)return;this.requestActive=true;var e=this,t={qTop:this.rows.length,qLeft:0,qWidth:this.colCount,qHeight:50};return e.view?e.view.backendApi.getData([t]).then(function(t){c(e,t);e.requestActive=false;e.OnData.emit()}):e.qHyperCube?e.model.getHyperCubeData("/qHyperCubeDef",[t]).then(function(t){c(e,t);e.requestActive=false;e.OnData.emit()}):null};s.prototype.getColByName=function(e){if(!e)return;var t=e.toUpperCase(),n;this.headers.forEach(function(e,i){e.qFallbackTitle.toUpperCase()===t&&(n=i)});return n};s.prototype.exportData=function(e,t){e=e||{};return this.model.exportData(e.format||"OOXML","/"+this.defPath,e.filename,e.state||"P").then(function(i){var r=this.app.global;var o=r&&r.session.options;o=n.makeConfig(o);var a=o.prefix+i.qUrl.substring(1);e.download&&window.open(a);t&&t(a);return a}.bind(this))};s.prototype.destroy=function(){if(this.model&&this.model.Validated&&this._OnModelValid){this.model.Validated.unbind(this._OnModelValid);delete this._OnModelValid}};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(89),n(247),n(636),n(90)],r=function(e,t,n,i,r,o){var a={template:r,scope:{id:"@",app:"=",object:"=",onDone:"=",size:"=",area:"="},controller:["$scope","$element",function(e,t){var n=l(e.id,e.object,e.area,e.app),i={width:e.size.width,height:e.size.height},r=n.snap;e.data=n.data;e.style={width:i.width+"px",height:i.height+"px"};r.then(function(t){e.onDone(t)});e.$on("$destroy",function(){n.cancel()});t.on("$destroy",function(){e.$destroy()})}]};var s=[];function l(e,r,a,s){var l=t.getService("$timeout"),u=n();var c=false;function f(){c=true;u.reject()}var p={object:{}},h=n.all({model:r&&r.model||s.getObject(e),viewState:r&&r.getViewState?r.getViewState():void 0}).then(function(e){if(c)return{};p.model=e.model;p.options={viewState:e.viewState,components:{scrollArea:{show:true}},onRendered:function e(t){u.resolve({doSnap:!t})}};return l(function(){return p.object.loaded?p.object.loaded.then(function(){var e=p.object;if(!e.supportExport()&&"auto-chart"!==o.getValue(e,"ext.type"))return;return u.promise.then(function(t){if(false===t.doSnap||"auto-chart"===o.getValue(e,"ext.type")&&!e.supportExport())return;var n=d(a,p.object.layout,p.object);return i.prepSnapshotData(p.object.layout,p.object,true,{ignoreReducedData:false},false).then(function(e){return p.object.model.app.getLayout().then(function(t){n.snapshotData=i.formatSnapshotForRendering(e,t.qLocaleInfo);return n})})})}):{}},0,false)});return{data:p,snap:h,cancel:f}}function u(t){var n=s.indexOf(t);n>=0&&s.splice(n,1);var i=e(t).children("div");if(i.scope&&i.scope()){i.scope().$destroy();i.scope().destroyComponent()}e(t).remove()}function c(){var e;while(e=s.pop())u(e)}function d(e,t,n){var i=n.ext&&n.ext.libraryInfo&&n.ext.libraryInfo.isThirdParty;var r={id:t.qInfo.qId,type:t.qInfo.qType,snapshotData:null,area:e,children:[],isExtension:i,title:t.title||""};return r}return{snapshot:function t(r,o,l,c,f,p){var h=n();var v={type:"object",size:o,snapshotData:{}};if(l&&l.loaded&&(l.ext&&l.ext.libraryInfo.isThirdParty||o.width===c.width&&o.height===c.height))return l.loaded.then(function(){v=d(f,l.layout,l);if(!l.supportExport())return v;return i.prepSnapshotData(l.layout,l,true,{ignoreReducedData:false},false).then(function(e){return l.model.app.getLayout().then(function(t){v.snapshotData=i.formatSnapshotForRendering(e,t.qLocaleInfo);return v})})});var m=document.createElement("div");m.className="qv-snapshotter";s.push(m);document.body.appendChild(m);e(m).showComponent(a,{id:r,object:l,size:o,area:f,app:p,onDone:function e(t){h.resolve(t);u(m)}});return h.promise},loadObject:l,cancel:function e(){c()}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(89),n(120),n(128),n(337),n(637)],r=function(e,t,n,i,r,o){var a={template:o,scope:{sheetId:"@",sheet:"@",size:"@",onDone:"@",sheetLayout:"@"},controller:["$scope","$timeout","$element",function(e,o,a){var s={area:{left:0,top:0,width:1,height:1}};var l=1e5,u=t(),d,f={},p=e.sheet===i.getModel(),h={width:e.size.width,height:e.size.height},v=e.sheetLayout===c.FULL,m=function t(n){if(false===n)e.onDone(false);else{s.size=h;s.children=n?n.filter(function(e){return e}):[];e.onDone(s)}};e.cells=[];e.style={width:h.width+"px",height:h.height+"px"};e.$on("$destroy",function(){u.reject();o.cancel(d)});a.on("$destroy",function(){e.$destroy()});if(p){var g=i.getGrid()&&i.getGrid().cells||[];g.forEach(function(e){f[e.id]=e.object})}n.get(e.sheetId).then(function(n){n.getLayout().then(function(i){var a=i.columns,c=i.rows,p=[];s.id=i.qInfo.qId;s.type=i.qInfo.qType;s.title=i.labelExpression||i.qMeta.title||"";i.cells.forEach(function(t){var i,o,s,l={left:t.col/a,top:t.row/c,width:t.colspan/a,height:t.rowspan/c};if(f[t.name]&&!f[t.name].ext)return;if(f[t.name]&&f[t.name].ext.libraryInfo.isThirdParty)s=r.snapshot(t.name,{width:h.width*(v?1:l.width),height:h.height*(v?1:l.height)},f[t.name],{},l,n.enigmaModel.app).then(function(e){return e});else{i=r.loadObject(t.name,f[t.name],l,n.enigmaModel.app);o={style:v?{left:0,top:0,width:"100%",height:"100%"}:{left:100*t.col/a+"%",top:100*t.row/c+"%",width:100*t.colspan/a+"%",height:100*t.rowspan/c+"%"},data:i.data};o.data.area=l;s=i.snap.then(function(e){return e});e.cells.push(o)}p.push(s)});if(p.length){t.all(p).then(function(e){u.resolve();o.cancel(d);m(e);return u.promise});d=o(function(){u.reject();m(false)},l)}else m()})},function(){m()})}]};var s=[];function l(t){var n=s.indexOf(t);n>=0&&s.splice(n,1);var i=e(t).children("div");i.scope&&i.scope()&&i.scope().$destroy();e(t).remove()}function u(){var e;while(e=s.pop())l(e)}var c={FULL:"full",GRID:"grid"};return{snapshot:function n(i,r,o,u){var c=t(),d=document.createElement("div");d.className="qv-snapshotter";s.push(d);document.body.appendChild(d);e(d).showComponent(a,{sheetId:i,sheet:o,size:r||{},sheetLayout:u,onDone:function e(t){false===t?c.reject({timedOut:true}):c.resolve(t);l(d)}});return c.promise},cancel:function e(){u()}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(93),n(340),n(338),n(173),n(48),n(152),n(247),n(423),n(646),n(452)],r=function(e,t,n,i,r,o,a,s,l,u,c){function d(e,t){return e?r.get(e).then(function(e){return e.apply()},function(){}):n.get(t).then(function(e){return e.getSnapshotObject().then(function(e){e.apply()})})}var f=function e(t,n,r,l,f,p){var h=window.location.protocol+"//"+window.location.host;var v={properties:{origin:h},snapshotData:null};var m={image:function e(t){v.properties.qUrl=t.srcPath.qStaticContentUrl.qUrl;v.properties.resourceUrl=h+t.srcPath.qStaticContentUrl.qUrl},text:function e(t){var n=null;var i=t.style.text;var s=o.getService("$sce");"string"===typeof i&&(n=s.getTrustedHtml(a.toHTML(i)));if("title"===t.visualizationType){var d=c.calculatePrintTitleFontSize(n,r.height-10,1.32);n=u.enrichHtml(n,l,true,d+"px")}else{var p=c.calculatePrintParagraphFontSize(f.height);n=u.enrichHtml(n,l,false,p+"px")}v.properties.html=n;v.properties.color=t.style.color;v.properties.text=i},shape:function e(t){v.properties.dataPath=t.dataPath;v.properties.resourceUrl=h+"/"+t.dataPath;v.properties.color=t.style.color},snapshot:function e(t){false!==t.qEmbeddedSnapshot.supportExport?v.snapshotData=s.formatSnapshotForRendering(t.qEmbeddedSnapshot,p.qLocaleInfo):v.invalid=true},sheet:function e(t,n){var r=t.qInfo.qId;var o=t.selectionState?t.selectionState.init:null;v=d(o,r).then(function(){return i.snapshot(t.sheetId,n)})}};m[t]&&m[t](n,r);return v};function p(e,t,i,r,o){return n.get(e.qInfo.qId).then(function(n){return n.getLayout().then(function(n){return f(e.qData.visualization,n,t,i,r,o)})})}function h(e){var t={"z-index":e["z-index"]};["left","top","width","height"].forEach(function(n){t[n]=parseFloat(e[n])/100});return t}function v(e){return"auto"===e.left?l.getPosition("align-right"):"auto"===e.right?l.getPosition("align-left"):e}function m(n,i,r){var o=r.dpi;return t.getApp().then(function(e){return e.getObject(n)}).then(function(t){return e.all([t.app.getLayout(),t.getLayout()]).then(function(t){var n=t[0];var r=t[1];var a=r.qChildList.qItems;if(!a.length)return[];return e.all(a.map(function(e){var t=e.qData.position;"sheet"===e.qData.visualization&&(t=v(e.qData.position));var r=h(t);var a={width:i.width*r.width,height:i.height*r.height};return p(e,a,o,i,n).then(function(t){if(!t.invalid){var n={id:e.qInfo.qId,type:e.qInfo.qType,visualization:e.qData.visualization,visualizationType:e.qData.visualizationType,snapshotData:t.snapshotData,size:t.size,children:t.children,area:r,properties:t.properties,title:t.title||""};return n}})}))})})}return{snapshot:function e(t,n,i,r){return m(t,n||{},r).then(function(e){return{id:t,type:"slide",area:null,snapshotData:null,children:e.filter(function(e){return!!e})}})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(89),n(93)],r=function(e,t,n){function i(e){return e?t.resolve(e.enigmaModel):n.getApp()}var r={};r.get=function(e,t){return i(t).then(function(t){return t.getObject(e)})};r.create=function(t,n){var i={qInfo:{qId:e.generateId(),qType:"slideitem"},qEmbeddedSnapshotDef:{},title:"",sheetId:"",ratio:t.ratio,position:t.position,dataPath:t.dataPath,srcPath:t.srcPath,visualization:t.visualization,visualizationType:t.visualizationType,style:t.style};return n.createChild(e.extend(true,i,t),null)};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(333),n(100)],r=function(e,t){function n(){}n.getThemeList=function(){return t.getAvailableThemes().then(function(e){return e.custom?e.default.concat(e.custom):e.default})};n.prototype.apply=function(e){return t.applyTheme(e).then(function(e){return e})};n.prototype.get=function(n){return t.getThemeJSON(n).then(function(t){return new e(n,t)})};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t,n,i,r,o,a){if(e instanceof Array&&!e[0].pointInside&&!e.pointInside)throw new Error('The shape must implement a "pointInside" function');this.setShape(e);this.selected=!!t;this.value=n;this.parent=i;this.index=r;this.objectShapes={};if(o){this.parent=o.parent;this.node=o;this.rowIndex=o.data.rowIndex;this.label=o.data.qText;this.id=o.data.qElemNo}a&&e&&(this.objectShapes[a]=e instanceof Array?e:[e])}e.prototype={getShapes:function e(t){return(t||0===t)&&this.objectShapes&&this.objectShapes[t]?this.objectShapes[t]:this.shapes?this.shapes:[this.shape]},addShape:function e(t,n){this.objectShapes[t]instanceof Array||(this.objectShapes[t]=[]);this.objectShapes[t].push(n);this.shapes.push(n)},setShape:function e(t){this.shape=t instanceof Array?t[0]:t;this.shapes=t?t instanceof Array?t:[t]:[]},addValue:function e(t){void 0===this.value&&(this.value=[]);this.value instanceof Array||(this.value=[this.value]);this.value.push(t)}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(92),n(146),n(651)],r=function(e,t,n,i){function r(e){var t=this.indexOf(e);if(t>=0)return this.splice(t,1);return null}function o(e,t){return Object.keys(t).filter(function(n){return t[n].filter(function(t){return t===e}).length})[0]}var a=t.extend({init:function t(n,r){this.options=e.extend(true,{},{components:{}},r);this._selectedShapes=[];this._cssTransform={scale:1};this.components=this.options.components;this.shapesFrom=new i(n,r)},setActiveComponent:function e(t){this.activeComponent=t;this.shapesFrom.activeComponent=t},initComponent:function e(){throw new Error("base.js: initComponent has to be implemented in subclass")},setComponent:function e(t,n){var i=Array.isArray(n)?n.concat():[n];i.forEach(function(e){var t=o(e,this.components);t&&this.removeComponent(t,e)},this);switch(t){case"x":case"y":case"dataArea":case"colorLegend":this.components[t]&&this.components[t].forEach(function(e){-1===i.indexOf(e)&&this.deregister(this,e)},this);i.forEach(function(e){this.components[t]&&-1!==this.components[t].indexOf(e)||this.register(this,e)},this);this.components[t]=i;break;default:throw new Error("Key "+t+" not implemented")}},addComponent:function e(t,n){switch(t){case"x":case"y":case"dataArea":case"colorLegend":this.components[t]||(this.components[t]=[]);var i=r.call(this.components[t],n);!i&&this.register(this,n);this.components[t].push(n);break;default:throw new Error('Key " + key + " not implemented')}},removeComponent:function e(t,n){switch(t){case"x":case"y":case"dataArea":case"colorLegend":this.components[t]&&n&&r.call(this.components[t],n);n&&this.components[t]&&this.components[t].length||delete this.components[t];this.deregister(this,n);break;default:throw new Error('Key " + key + " not implemented')}},register:function e(){},deregister:function e(){},getComponent:function e(t,i,r){var o=new n(t-r.x,i-r.y);return Object.keys(this.components).map(function(e){return this.components[e]},this).reduce(function(e,t){return e.concat(t)}).filter(function(e){var t=(e.chartScale||1)*this._cssTransform.scale;return this.getRect(e).pointInside(o.x/t,o.y/t)},this)[0]},getRect:function e(t){return t.rect},getComponentKey:function e(t){return Object.keys(this.components).filter(function(e){return this.components[e].indexOf(t)>=0},this)[0]},getTransformedPoint:function e(t,i,r){var o=this.getRect(this.activeComponent||this.components.dataArea[0]),a=(this.activeComponent||this.components.dataArea[0]).chartScale||1;return new n((t-o.x*a*this._cssTransform.scale-r.x)/this._cssTransform.scale,(i-o.y*a*this._cssTransform.scale-r.y)/this._cssTransform.scale)},getPagePoint:function e(t,i,r,o){var a=this.getRect(r||this.activeComponent||this.components.dataArea[0]),s=(this.activeComponent||this.components.dataArea[0]).chartScale||1;return new n(t+a.x*s+o.x,i+a.y*s+o.y)},release:function e(){this.activeComponent=null;this.shapesFrom&&this.shapesFrom.release();this.components=null;this.options.components=null;this.shapesFrom=null}});return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={getLevel:function e(){if(!this||this.parent===this)return;var t=this.parent,n=0;while(t){n+=1;t=t.parent}return n},each:function t(n){var i=this&&this.children,r;if(!i)return;for(r=0;r<i.length;r+=1){if(n&&false===n(i[r],r,i.length-1))return false;if(false===e.each.call(i[r],n))return false}},getLeaves:function t(){if(!this||!this.children)return[];var n=[],i;for(i=0;i<this.children.length;i+=1)this.children[i]&&this.children[i].children&&this.children[i].children.length?n=n.concat(e.getLeaves.call(this.children[i])):n.push(this.children[i]);return n}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(261)],r=function(e,t){var n={list:[],extensionListAvailable:false},i=null;n.getList=function(n){function r(e){t.getCloudExtensions().then(function(t){o.extensionListAvailable=true;o.list=[];for(var n in t){var i=t[n];if(i.attributes){if(i.attributes.name&&i.attributes.loadpath&&i.id){i.attributes.cloud=true;i.attributes.id=i.id;o.list.push({id:i.attributes.qext_filename||i.attributes.name,data:i.attributes,path:"extensions/"+i.attributes.qext_filename+"/"+i.attributes.loadpath})}}else if(i.name&&i.loadpath&&i.id){i.cloud=true;o.list.push({id:i.qextFilename||i.name,data:i,path:"extensions/"+i.qextFilename+"/"+i.loadpath})}}e.resolve(o.list)},function(){o.extensionListAvailable=false;o.list=[];e.resolve(o.list)});return e.promise}var o=this;if(null===i){i=new e;return r(i)}if(n)return r(new e);return i.promise};n.areCloudExtensionsAvailable=function(){var e=this;return this.getList().then(function(){return e.extensionListAvailable})};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=/[^\s()"',+$*-<>=&/!{};:@`Â´[\]]/;var t=/[\s()"',+$*\-<>=&/!{};:@`Â´[\]]/;return{REGEXP_WORD:e,REGEXP_WORD_SEPARATOR:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(695),n(441)],r=function(e,t){function n(){this.posFrom=null;this.posTo=null;this.query=null;this.marked=[]}function i(i){var r=new n;var o;function a(t,n,r){return e.getSearchCursor(i,t,n,r)}function s(e){b.validQuery=true;var t=false;try{return t?new RegExp(t[1],-1===t[2].indexOf("i")?"":"i"):e}catch(t){b.validQuery=false;return e}}function l(){i.operation(function(){var e;if(!r.query)return;r.query=null;for(e=0;e<r.marked.length;++e)r.marked[e].clear();r.marked.length=0});d()}function u(e,n,u,c){var d=2e3;var f=0;l();if(e){i.operation(function(){r.query=s(e);var l={line:0,ch:0};!n&&o&&o.from()&&(l=o.from());o=a(r.query,{line:0,ch:0},c);f=t.getMaxNumberOfHits(i.getValue(),e,c);if(i.lineCount()<d)while(o.findNext())r.marked.push(i.markText(o.from(),o.to(),{className:"cm-searching"}));r.posTo=i.getCursor();r.posFrom=r.posTo;o=a(r.query,l,c)});u&&p();b.hits=f;return f}b.hits=0;return 0}var c;function d(){c&&c.clear()}function f(){d();c=i.markText(o.from(),o.to(),{className:"cm-current"});i.setCursor(o.to());r.posFrom=o.from();r.posTo=o.to()}function p(e,t){var n=o.find(e);if(n){f();i.scrollIntoView(o.from(),i.getScrollInfo().clientHeight/2)}else t&&t();return n}function h(e){o=a(r.query,{line:0,ch:0},e);return p(false)}function v(e){var t=i.lastLine();var n=i.getLine(t).length;o=a(r.query,{line:t,ch:n},e);return p(true)}function m(e,t,n,i){var a="string"===typeof r.query?t:o.pos.match[0].replace(r.query,t);o.atOccurrence||h(n);o.replace(a);b.hits--;var s=o.find(e);s?f():i&&i()}function g(e,t,n){if(!e)return;var l=0;e=s(e);i.operation(function(){for(o=a(e,void 0,n);o.findNext();){l++;var i="string"===typeof r.query?t:o.pos.match[0].replace(r.query,t);o.replace(i)}});b.hits=0;return l}var b={doSearch:u,clearMarkedSearch:l,doFindNext:p,doFindFirst:h,doFindLast:v,doReplaceAll:g,doReplace:m,hits:0,validQuery:true};return b}return{createSingleCodeareaSearcher:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(720),n(109),n(721),n(723),n(724)],r=function(e,t,n,i){function r(e,t,n){void 0!==e.colors&&(e=e.colors);this._palette=e;this._index=-1;this._shift=n||false;void 0!==t.index&&(this._index=t.index);"none"===t&&(this._index=0);if(""===t){this._index=0;t="none"}if(this._index>=0&&this._index<this._palette.length)this._hex=this._palette[this._index];else if(void 0!==t.color){this._hex=t.color;this._index=e.indexOf(this._hex)}else{if(e[t]){this._hex=e[t];this._index=t}else{this._hex=t;this._index=e.indexOf(this._hex)}"none"===t&&(this._index=0)}this._defaultHSV={h:0,s:100,v:100};this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()}r.prototype._updateHexObj=function(){this._colorUtil=new n(this._hex);if(this._colorUtil.isInvalid())this._hexObj={value:"-"};else{var e=this._hex.substring(1,7);this._hexObj={value:e}}};r.prototype._updateWheelStatus=function(){this._index>=0&&this._index<this._palette.length+this._shift||0==this._index?this._isWheelUsed=false:this._isWheelUsed=true};r.prototype._updateHexToHsv=function(){this._colorUtil=new n(this._hex);this._colorUtil.isInvalid()?this._hsv=this._defaultHSV:this._hsv=this._colorUtil.toHSVComponents()};r.prototype._updateHsvToHex=function(e){this._colorUtil=new n("hsv("+this._hsv.h+","+this._hsv.s+","+this._hsv.v+")");this._colorUtil.isInvalid()&&e.$disableNone&&(this._colorUtil=new n(e.$defaultColor));if(this._colorUtil.isInvalid())this._hexObj="-";else{this._hexObj={value:this._colorUtil.toHex().substring(1,7)};this._hex="#"+this._hexObj.value}this._index=this._palette.indexOf(this._hex)};r.prototype.updateColor=function(e,t){this._colorUtil=new n(e);if(this._colorUtil.isInvalid()){this._hex="none";this._index=0}else{this._hex=e;this._index=t}this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};r.prototype.updatePalette=function(e){void 0!==e.colors&&(e=e.colors);this._palette=e;this._index>=e.length&&(this._index=-1);this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};r.prototype.updateHex=function(e){this._hex=e;this._index=this._palette.indexOf(this._hex);this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};r.prototype.updateHexUntrusted=function(e){var t="#"+e.replace(/[^0-9A-Fa-f]+/g,"").substring(0,6);this.updateHex(t)};r.prototype.getHsv=function(){return this._hsv};r.prototype.setHsv=function(e){this._hsv=e;this._updateHsvToHex()};r.prototype.syncHsv=function(){this._updateHsvToHex()};r.prototype.getHex=function(){return this._hex};r.prototype.getHexObj=function(){return this._hexObj};r.prototype.isWheelUsed=function(){return this._isWheelUsed};r.prototype.forceWheelUsed=function(e){this._isWheelUsed=e};r.prototype.isDark=function(){return this._colorUtil.isDark()};r.prototype.getIndex=function(){return this._index};r.prototype.clone=function(){return e.extend(true,{},this)};var o={template:t,controller:["$scope","$element","$timeout",function(e,t,o){var a=e.$inputViewValue;e.currentPalette=e.$palette;e.extended=e.$extended;var s=new r(e.currentPalette,a,e.$disableNone);e.$useGlyph&&(e.glyphIcon=e.$inputViewValue.icon);var l=null;var u;var c=false;Object.defineProperty(e,"hsv",{get:function e(){return s.getHsv()},set:function e(t){s.setHsv(t)}});Object.defineProperty(e,"foreColor",{get:function e(){return s.getHex()}});Object.defineProperty(e,"hex",{get:function e(){return s.getHexObj()},set:function e(){return s.setHexObj()}});Object.defineProperty(e,"isDark",{get:function e(){return s.isDark()}});Object.defineProperty(e,"customColor",{get:function t(){return s.isWheelUsed()&&e.extended},set:function e(t){s.forceWheelUsed(t)}});e.recentColors=i.getPersistentRecentColors();e.setGlyph=function(t,n,i){e.glyphIcon=i.icon;p()};e.onHexChange=h(f);e.colorClicked=h(function(t,n,i){e.$disableNone&&(n+=1);s.updateColor(i,n);p();c=true});e.recentColorClicked=h(function(t,n){if(!e.$disableNone||"none"!==n){s.updateHex(n);p();c=true}});e.onFoldoutClick=function(t){t.preventDefault();e.customColor=!e.customColor};e.onKeyPress=function(t){var n=t.which;13===n&&e.close()};e.getBackgroundStyle=function(e){if("none"!==e)return{"background-color":e}};function d(){return e.recentColors.length>0&&e.extended}e.showRecent=d();function f(e){if(6===e.length){var t="#"+e.replace(/[^0-9A-Fa-f]+/g,"").substring(0,6);this._colorUtil=new n(t);if(!this._colorUtil.isInvalid()){s.updateHexUntrusted(e);p();c=true}}}function p(){e.onColorChange(e.$useGlyph,s.getIndex(),e.foreColor,e.currentPalette,e.glyphIcon);e.extended&&i.stage(s.getHex())}function h(e){return function(){var t=this,n=arguments;l||(l=o(function(){e.apply(t,n);l=null},100))}}e.hueSatValueChanged=h(function(){s.syncHsv();c=true;u&&o.cancel(u);u=o(function(){p();u=null},300)});e.applyColor=function(){e.extended&&i.commit()};e.$on("$destroy",function(){c&&e.applyColor();t.find(".qv-cp-hex-input").off()})}]};return{popupComponent:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(736),n(737),n(109),n(100),n(302),n(96)],r=function(e,t,n,i,r,o){function a(e,t){var n=[];var i=[];for(var o=0;o<e.length;o++){i=[];0!==o&&t[o-1]?i.push(r.toHex(r.blend(e[o-1],e[o],.5))):i.push(e[o]);0!==o&&o!==e.length-1&&i.push(e[o]);o!==e.length-1&&t[o]?i.push(r.toHex(r.blend(e[o],e[o+1],.5))):i.push(e[o]);n.push(i)}return n}function s(e,t){return e.top>t/2?{x:e.left+e.width/2,y:e.top,dock:"top"}:{x:e.left+e.width/2,y:e.top+e.height,dock:"bottom"}}function l(e,t,n){n=n||100;if(e&&e.length===t-1)return e.map(function(e){return e*n});var i=[];for(var r=1;r<t;r++)i.push(r/t*n);return i}function u(e,t){if(!e||!e.length){e=[];for(var n=0;n<t-1;n++)e.push(0)}return e}function c(e,t,n){var i={};if(0===e){i.width=1===t.length?"100%":100*n[0]+"%";i.left="0%";i.background="linear-gradient(to right, "+t[e][0]+" 0%, "+t[e][1]+" 100%)"}else if(e===n.length){i.width=100*(1-n[e-1])+"%";i.left=100*n[e-1]+"%";i.background="linear-gradient(to right, "+t[e][0]+" 0%, "+t[e][1]+" 100%)"}else{i.width=100*(n[e]-n[e-1])+"%";i.left=100*n[e-1]+"%";i.background="linear-gradient(to right, "+t[e][0]+" 0%, "+t[e][1]+" 50%, "+t[e][2]+" 100%)"}return i}t.directive("qvColorSchemeDisplay",["$timeout",function(t){return{require:"?colors",template:n,replace:true,scope:{colors:"=",limits:"=",types:"=",allowChange:"=",animateChange:"=?"},link:function n(r){var d=-1;Object.defineProperty(r,"value",{get:function e(){return r.colors[d]},set:function e(t){r.colors[d]=t}});r.getLimitPos=function(e){return"calc("+100*e+"% - 1px)"};r.segmentStyles=[];var f;function p(){f||(f=t(function(){r.typs=u(r.types,r.colors.length);r.lims=l(r.limits,r.colors.length,1);r.cols=a(r.colors,r.typs);r.segmentStyles=r.colors.map(function(e,t){return c(t,r.cols,r.lims)});f=null}))}r.$watchCollection("limits",function(){p()});r.$watchCollection("colors",function(){p()});r.$watchCollection("types",function(){p()});r.getSegmentSize=function(e){return 0===e?100*r.lims[1]+"%":100*(r.lims[e]-r.lims[e-1])+"%"};r.onClick=function(t,n){var a=t.target.getBoundingClientRect();d=n;var l=s(a,e(window).outerHeight());0===n&&r.typs[0]?l.x=a.left:n===r.colors.length-1&&r.typs[n-1]&&(l.x=a.left+a.width);i.openColorPicker(l.x,l.y,{palette:o.currentPalette,dock:l.dock,disableNone:true},r)}}}}]);return{getBestPos:s,getLimits:l,getSegmentColors:a,getSegmentStyle:c}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.service("qvRecentGradientsService",[function(){var e=3,t=[];var n={pushTemplate:function n(i){if(!i.name||!i.colors||!i.limits||!i.types||void 0===!i.percentage)throw new Error("invalid template format");t.push(i);t.length>e&&t.splice(0,1)},getTemplates:function e(){return t.slice()},convertAbsLimits:function e(t){var n,i,r;if(0===t.length)return[];if(1===t.length&&0===t[0]){n=-10;i=10}else if(1===t.length||t.every(function(e){return e===t[0]})){n=.9*t[0];i=1.1*t[0]}else{n=null;i=null;t.forEach(function(e){i=null!==i?Math.max(i,e):e;n=null!==n?Math.min(n,e):e});r=i-n;n-=.3*r;i+=.3*r}r=i-n;return t.map(function(e){return(e-n)/r})}};return n}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(140),n(120),n(747),n(133)],r=function(e,t,n,i,r){function o(e){var t={retentionTimeValue:"",retentionTimeUnit:""};if("unlimited"===e){t.retentionTimeValue="";t.retentionTimeUnit="unlimited"}else{var n=i(e);if(n.hours()){t.retentionTimeValue=n.asHours()+"";t.retentionTimeUnit="h"}else{t.retentionTimeValue=n.asDays()+"";t.retentionTimeUnit="d"}}return t}function a(e){var t="P";var n=Math.floor(e/8760);if(n){t=t+n+"Y";e%=8760}if(e){var i=Math.floor(e/24);t=t+i+"D";e%=24}e&&(t=t+"T"+e+"H");return t}e.service("odagLinkDialogService",function(){var e;function i(){return r.getTemplateApps(t)}function s(e){return t.get(e,{},true,function(e){e.isHandled=true}).then(function(e){return n.getList(e,true).then(function(t){return t.getLayout().then(function(t){e.close();return t.map(function(e){return{id:e.qInfo.qId,name:e.qData.labelExpression||e.qData.title}})})})}).catch(function(e){e.isHandled=true;return[]})}function l(){return t.get().then(function(e){return e.getPublishableStreams()})}function u(e,t){var n="P";"unlimited"===t?n=t:"d"===t?n=a(24*Number(e)):"h"===t&&(n=a(Number(e)));return n}e={getTemplateApps:i,getSheetsForApp:s,getPublishableStreams:l,getRetentionTimeServerValue:u,getRetentionTimeDisplayValue:o};return e});return{getRetentionTimeDisplayValue:o,hoursToISO8601Format:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(102),n(48)],r=function(e,t,n){n.componentDirective("qvaAssetsTab",{tab:"=qvaAssetsTab"});return e.extend({init:function e(n){this.component=n.component;this.id=n.id;this.name=n.name;this.longname=n.longname;this.hasTableFilter=n.hasTableFilter;this.haveManageDataButtons=n.haveManageDataButtons;this.button=n.button;t.create(this,"Resize")},resize:function e(t){this.Resize.emit(t)},openSection:function e(){return false}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(764),n(170),n(248),n(279)],r=function(e,t,n,i){var r,o,a;function s(e){void 0===e&&(e=n.isInternalTableView());return i.getTablesAndKeys(e).then(function(e){r=e})}function l(e){if(void 0===e)return;var t=100*Number(e);return t%1===0?t:Number(String(t).substring(0,4))}function u(e){var n,i,r,o,a,s,u,c,d,f,p={};for(n in e.qtr){u=0;c=[];o=e.qtr[n];d=o.qName;o.qName=t.encodeTableName(o.qName);s=[];for(i=0;i<o.qFields.length;i++){a=o.qFields[i];f=[];-1!==a.qTags.indexOf("$key")&&u++;for(r=0;r<a.qTags.length;r++){-1===c.indexOf(a.qTags[r])&&c.push(a.qTags[r]);-1===f.indexOf(a.qTags[r])&&f.push(a.qTags[r])}var h=[];for(var v in a.qOriginalFields){var m=a.qOriginalFields[v];h.push({name:m})}s.push({name:a.qName,originalFields:h,meta:{isPerfectKey:"PERFECT_KEY"===a.qKeyType,density:l(a.qInformationDensity),subsetRatio:l(a.qSubsetRatio),tags:f,hasDuplicates:a.qHasDuplicates,nbrOfTotalDistinctValues:a.qnTotalDistinctValues,nbrOfPresentDistinctValues:a.qnPresentDistinctValues,nbrOfNonNulls:a.qnNonNulls,isKey:-1!==a.qTags.indexOf("$key"),isSynthetic:-1!==a.qTags.indexOf("$synthetic"),comment:a.qComment},derivedFields:a.qDerivedFields})}p[o.qName]={realName:d,top:o.qPos.qy,left:o.qPos.qx,height:0,width:0,autoLayoutX:o.qPos.qx,autoLayoutY:o.qPos.qy,meta:{nbrOfRows:o.qNoOfRows,nbrOfFields:Object.keys(s).length,nbrOfKeys:u,tags:c},fields:s,isDirectDiscovery:!!o.qIsDirectDiscovery,isSynthetic:!!o.qIsSynthetic}}return p}function c(){try{o=u(r);return Promise.resolve(o)}catch(e){return Promise.reject(e)}}function d(){var t=n.isInternalTableView();a=e.convertRawDataToIdealConnectionData(r,t,o)}function f(){if(!o)throw new Error("Cached ideal table data is undefined. Need to reload from engine first.");return o}function p(){if(!a)throw new Error("Cached ideal connection data is undefined. Need to reload from engine first.");return a}function h(e){i.clearAllCaches();r=void 0;o=void 0;a=void 0;return s(e).then(function(){return c()})}function v(e,t){for(var n in a){var i=a[n];if(i.fieldName===t&&-1!==i.tables.indexOf(e))return true}return false}return{getDataModel:f,getConnectionData:p,forceReload:h,doesTableFieldHaveConnection:v,recreateCachedIdealConnectionData:d,formatToPercentageNumber:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};Object.defineProperties(e,{single:{value:"N",writable:false},drilldown:{value:"H",writable:false}});return{dimensionTypes:e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(99),n(356)],r=function(e){var t=["$scope","$element","qvScrollAreaService",function(t,n,i){var r,a,s=[],l=[],u=[],c,d,f={};t.interactiveX=false;t.interactiveY=false;t.virtualSize={width:0,height:0};t.virtualViewport={width:0,height:0};t.scrollbarX=i.createScrollbar();t.scrollbarY=i.createScrollbar();t.viewportRect={top:0,left:0,width:0,height:0};t.hover=false;t.isMouse=true;Object.defineProperties(f,{PIXEL:{value:0},LINE:{value:1},PAGE:{value:2},AREA:{value:10}});Object.defineProperty(this,"DELTA_MODE",{value:f});t.$on("$destroy",function(){clearTimeout(c);clearTimeout(d)});this.setMouse=function(e){t.isMouse=e};this.getScrollAreaRect=function(){var e=n[0].getBoundingClientRect();return{top:0,left:0,width:Math.ceil(e.width),height:Math.ceil(e.height)}};this.addScrollbarXCtrl=function(e){r=e};this.addScrollbarYCtrl=function(e){a=e};this.allowFade=function(){return(void 0===r||r.allowFade())&&(void 0===a||a.allowFade())};this.fadeScrollbarsWithoutDelay=function(){r&&r.fadeOut();a&&a.fadeOut()};this.toggleFadeScrollbars=function(e){clearTimeout(d);clearTimeout(c);if(!e&&!this.allowFade())return;c=setTimeout(function(){var t=e?"fadeIn":"fadeOut";r&&r[t]();a&&a[t]()},e?0:800)};this.fadeInScrollbars=function(){this.toggleFadeScrollbars(true)};this.fadeOutScrollbars=function(){if(e.treatAsDesktop()&&t.hover)return;this.toggleFadeScrollbars(false)};this.fadeOutScrollbarsDelayed=function(){clearTimeout(d);d=setTimeout(function(){this.toggleFadeScrollbars(false)}.bind(this),1e3)};this.setNonMouseTrackSize=function(){if("object"!==o(t.nonMouseViewportScrolling))return;n.addClass(t.nonMouseViewportScrolling.className);this.setTrackSize(t.nonMouseViewportScrolling.scrollbarSize)};this.setMouseTrackSize=function(){"object"===o(t.nonMouseViewportScrolling)&&n.removeClass(t.nonMouseViewportScrolling.className);this.setTrackSize(t.scrollbarSize)};this.setTrackSize=function(e){var n=this.getVirtualPosition();this.setVirtualSize(t.virtualSize,t.virtualViewport,t.viewportRect,e);this.setVirtualScrollPos(n.vPosX,n.vPosY)};this.setupScrollbars=function(e){e=e||8;i.setScrollbarData(t.scrollbarY,"vertical",e,t.virtualSize.height,t.virtualViewport.height,t.viewportRect,t.direction);i.setScrollbarData(t.scrollbarX,"horizontal",e,t.virtualSize.width,t.virtualViewport.width,t.viewportRect,t.direction);if(t.scrollbarX.enabled&&t.scrollbarY.enabled){t.scrollbarX.length-=e;t.scrollbarX.scaleFactor=t.scrollbarX.length/t.virtualSize.width;t.scrollbarX.style.width=t.viewportRect.width-e-2*t.scrollbarX.uiOffset+"px";"rtl"===t.direction&&(t.scrollbarX.style.left=t.viewportRect.left+t.scrollbarX.uiOffset+e+"px");t.scrollbarY.length-=e;t.scrollbarY.scaleFactor=t.scrollbarY.length/t.virtualSize.height;t.scrollbarY.style.height=t.viewportRect.height-e-2*t.scrollbarY.uiOffset+"px"}};this.setVirtualSize=function(e,n,i,r){t.viewportRect=i;t.virtualSize.width=e.width;t.virtualSize.height=e.height;t.virtualViewport.width=n.width;t.virtualViewport.height=n.height;this.setupScrollbars(r)};this.setViewport=function(e){t.viewportRect=e};this.setVirtualViewport=function(e){var n=this.getVirtualPosition();t.virtualViewport.width=e.width;t.virtualViewport.height=e.height;t.scrollbarX.vViewportLength=e.width;t.scrollbarY.vViewportLength=e.height;this.setupScrollbars(t.isMouse?t.scrollbarSize:t.nonMouseViewportScrolling.scrollbarSize);this.setVirtualScrollPos(n.vPosX,n.vPosY)};this.getVirtualSize=function(){return{width:t.virtualSize.width,height:t.virtualSize.height}};this.getVirtualPosition=function(){var e=0,n=this.getMaxPosition();return{vPosX:Math.max(e,Math.min(n.vPosX,t.scrollbarX.vPos)),vPosY:Math.max(e,Math.min(n.vPosY,t.scrollbarY.vPos))}};this.getMaxPosition=function(){var e=0,n=Math.max(e,t.scrollbarX.vLength-t.scrollbarX.vViewportLength),i=Math.max(e,t.scrollbarY.vLength-t.scrollbarY.vViewportLength);return{vPosX:n,vPosY:i}};this.isMouseOver=function(){return t.hover};this.resetScroll=function(){if(void 0===t.scrollbarX.vPos||void 0===t.scrollbarY.vPos)return;0===t.scrollbarX.vPos&&0===t.scrollbarY.vPos||this.scroll(-t.scrollbarX.vPos,-t.scrollbarY.vPos,true,false)};this.setVirtualScrollPos=function(e,n,r){i.setVirtualScrollPos(e,t.scrollbarX,r);i.setVirtualScrollPos(n,t.scrollbarY,r)};this.scroll=function(e,n,r,o){var a,l;a=i.setVirtualScrollPos(e,t.scrollbarX,o);l=i.setVirtualScrollPos(n,t.scrollbarY,o);(0!==a||0!==l||r)&&s.forEach(function(e){e(a,l)})};this.getScrollAmount=function(e,t,n){switch(n){default:return{deltaX:e,deltaY:t}}};this.scrollStart=function(){l.forEach(function(e){e()})};this.scrollEnd=function(){u.forEach(function(e){e()})};this.onScroll=function(e){s.push(e)};this.onScrollStart=function(e){l.push(e)};this.onScrollEnd=function(e){u.push(e)};this.on=function(){if(!(t.interactiveX||t.interactiveY)){t.off=t.on();t.interactiveX=true;t.interactiveY=true}};this.off=function(){if(t.off){t.off();t.interactiveX=false;t.interactiveY=false}};this.setHorizontalScrollInteractive=function(e){t.interactiveX=e};this.setVerticalScrollInteractive=function(e){t.interactiveY=e};this.isVerticalScrollEnabled=function(){return t.scrollbarY.enabled};this.digest=function(){t.$parent.$digest()}}];return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.service("qvScrollAreaService",function(){function e(e){if("rtl"===e.textDirection&&"horizontal"===e.direction){var t=e.showMinAffordance;e.showMinAffordance=e.showMaxAffordance;e.showMaxAffordance=t}}return{createScrollbar:function e(){return{vLength:0,vViewportLength:0,vPos:0,vPage:0,thumb:{},style:{},classList:[],enabled:false,getScrollDelta:function e(t){var n=0,i=0;if(!this.enabled)return[0,0];switch(this.direction){case"vertical":i=t.swipe.curDeltaY*(1/this.scaleFactor);break;case"horizontal":n=("rtl"===this.textDirection?-1:1)*t.swipe.curDeltaX*(1/this.scaleFactor);break;default:throw new Error("not implemented")}return[n,i]},active:false}},setScrollbarData:function t(n,i,r,o,a,s,l){var u=3,c;switch(i){case"vertical":c=s.height;break;case"horizontal":c=s.width;break;default:throw new Error("not implemented")}n.enabled=a<o&&c>0;if(!n.enabled)return;c-=2*u;n.uiOffset=u;n.direction=i;n.vLength=o;n.vViewportLength=a;n.vPos=0;n.vPage=c;n.length=c;n.trackSize=r;n.scaleFactor=c/o;n.thumb.pos=0;n.thumb.size=0;n.thumb.vPos=0;n.showMinAffordance=false;n.showMaxAffordance=true;n.textDirection=l;switch(n.direction){case"vertical":n.style.top=s.top+n.uiOffset+"px";n.style.width=r+"px";n.style.left="rtl"===l?n.uiOffset+"px":s.left+s.width-r-n.uiOffset+"px";n.style.height=s.height-2*n.uiOffset+"px";break;case"horizontal":n.style.height=r+"px";n.style.top=s.top+s.height-r-n.uiOffset+"px";n.style.left=s.left+n.uiOffset+"px";n.style.width=s.width-2*n.uiOffset+"px";break;default:throw new Error("not implemented")}e(n)},setVirtualScrollPos:function t(n,i,r){var o=0,a=i.vLength-i.vViewportLength,s=0,l=i.thumb.vPos;if(!i.enabled)return 0;i.vPos+=n;i.showMinAffordance=false;i.showMaxAffordance=false;if(i.vPos<o){l=o;i.vPos=r?i.vPos:o;i.showMaxAffordance=true}else if(i.vPos>a){l=a;i.vPos=r?i.vPos:a;i.showMinAffordance=true}else{i.vPos!==o&&(i.showMinAffordance=true);i.vPos!==a&&(i.showMaxAffordance=true);l=i.vPos}s=l-i.thumb.vPos;i.thumb.vPos=l;e(i);return s},setThumbStyle:function e(t,n){var i=n.thumb;var r=12;var o=n.scaleFactor;var a=Math.floor(i.vPos*o);var s=Math.floor(n.vViewportLength*o);if(s<r){a-=Math.floor((r-s)/2);s=r}a=Math.max(a,0);a+s>n.length&&(a=n.length-s);i.size=s;i.pos=a;switch(n.direction){case"vertical":t.top=a+"px";t.height=s+"px";break;case"horizontal":if("rtl"===n.textDirection){delete t.left;t.right=a+"px"}else{delete t.right;t.left=a+"px"}t.width=s+"px";break;default:throw new Error("not implemented")}},setTrackHitAreaStyle:function e(t,n,i){if("vertical"===n.direction){t.right=-n.uiOffset+"px";t.width=i+n.uiOffset+"px"}else{t.bottom=-n.uiOffset+"px";t.height=i+n.uiOffset+"px"}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(153),n(49),n(157),n(134)],r=function(e,t,n,i){function r(e){var t={};t.permissions=e.permissions;t.name=e.qData.title;t.secondaryName=e.qData.labelExpression||"";t.type=e.qInfo.qType;t.id=e.qInfo.qId;t.getDropOption=a.bind(null,t);t.tags=e.qData.tags;t.info=e.qData.info;"H"===e.qData.grouping&&(t.icon="drill-down");return t}function o(t){return i.get(t.id).then(function(n){return n.getProperties().then(function(n){var i=e.createLibraryDimension(t.id);e.autoSortDimension(i,t.info);var r=t.name;n.qDim.qLabelExpression&&(r={qStringExpression:{qExpr:n.qDim.qLabelExpression}});return{id:"newObject",args:{template:"filterpane",children:[e.createDefaultListBox(i,r)],init:{}}}})})}function a(e,i,r){if(t.getFlag("DISABLE_AUTO_CHART")||n.isVariableDefined("DISABLE_AUTO_CHART"))return o(e);if(r&&r.shiftKey)return o(e);return{id:"newObject",args:{template:"auto-chart",init:{qHyperCubeDef:{qDimensions:[{qLibraryId:e.id}],qInterColumnSortOrder:[0]},showTitles:false}}}}var s={create:function e(t){return t.map(function(e){return r(e)})}};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(801),n(100),n(802),n(174)],r=function(e,t,n,i){function r(r){var o={template:t,controller:["$scope",function(t){t.input=r;t.valueColors=[];r.baseColor&&r.baseColor.color&&(t.color=n.resolveColor(r.baseColor));t.showLabelExpression=!!t.input.labelExpression;t.showLabelExpressionDef=!!t.input.labelExpressionDef;var o=e.getService("qvColorMapService");var a=o.getTemplate();o.getColorMap(t.input.qId).then(function(e){if(e){a=e;t.valueColors=i.getColors(a);t.previewColorViewWidth=i.getPreviewColorViewWidth(t.valueColors)}})}],dock:"right",alignTo:r.alignTo[0]};return e.getService("luiPopover").show(o)}return{show:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(48),n(210),n(193)],r=function(e,t,n){var i={},r,o=[];return{saveTemplate:y,getTemplate:w,deleteTemplate:S,addTemplate:E,getWidgetList:l,getWidgetListFromLibrary:u,loadWidget:C,getLibForId:s,loadFile:c,getLibrary:v,saveLibrary:p,deleteLibrary:h,reloadCachedLibraries:b};function a(e){return(e.libid?e.libid:e.id)+"/"+e.id}function s(e){var t=o.filter(function(t){return t.data.widgets&&t.data.widgets.indexOf(e)>-1});t.length>1&&console.log("Duplicate libraries for widget:"+e,t);return t[0]}function l(t){if(!r||t){r=new e;var i=[];n.getList(t).then(function(e){o.length=0;e.forEach(function(e){if("widget-library"===e.data.type){o.push(e);e.data.widgets&&e.data.widgets.forEach(function(t){i.push({libid:e.id,id:t})})}});r.resolve(i)})}return r.promise}function u(t){var i=[];var r=new e;n.getList(false).then(function(e){o.length=0;e.forEach(function(e){if("widget-library"===e.data.type&&e.id===t){o.push(e);e.data.widgets&&e.data.widgets.forEach(function(t){i.push({libid:e.id,id:t})})}});r.resolve(i)});return r.promise}function c(e,n){return t.getService("$contentApi").request({method:"GET",url:"/extensions/"+e+(n?"?"+(new Date).getTime():""),cache:false})}function d(n,i,r){var o=new e;if(r){c(n).then(function(e){var t=e.headers;t("last-modified")!==r?o.reject("File modified by another user"):d(n,i).then(function(){o.resolve()}).catch(function(e){o.reject(e)})});return o.promise}var a=n.split("/");t.getService("$contentApi").request({method:"POST",url:"/qrs/extension/"+a[0]+"/uploadfile?externalpath="+a[1]+"&overwrite=true",data:i}).then(function(){o.resolve()}).catch(function(e){o.reject(e)});return o.promise}function f(n){var i=new e;var r=n.split("/");t.getService("$contentApi").request({method:"DELETE",url:"/qrs/extension/"+r[0]+"/deletecontent?externalpath="+r[1]}).then(function(){i.resolve()}).catch(function(e){i.reject(e)});return i.promise}function p(t){var n=new e;d(a(t)+".qext",JSON.stringify(t.data,null,2)).then(function(){n.resolve()},function(e){n.reject(e)});return n.promise}function h(e){return f(a(e)+".qext")}function v(e){return c(e+"/"+e+".qext",true).then(function(e){return e.data})}function m(t,n){var i=new e;v(t).then(function(e){e.widgets||(e.widgets=[]);e.widgets.push(n);p({id:t,data:e}).then(function(){i.resolve()},function(e){i.reject(e)})});return i.promise}function g(t,n){var i=new e;v(t).then(function(e){if(e.widgets){e.widgets=e.widgets.filter(function(e){return e!==n});p({id:t,data:e}).then(function(){i.resolve()},function(e){i.reject(e)})}else i.reject()});return i.promise}function b(){var t=new e;n.getList(true).then(function(e){o.length=0;e.forEach(function(e){"widget-library"===e.data.type&&o.push(e)});t.resolve()}).catch(function(e){t.reject(e)});return t.promise}function y(t){var n=new e,i=a(t);d(i+".json",JSON.stringify({name:t.name,description:t.description,author:t.author,library:t.libid,meta:t.meta,properties:t.properties,dependencies:t.dependencies},null,2),t.lastModified).then(function(){var e="<style>"+t.css+"</style>\n<div>"+t.html+"</div>";d(i+".html",e).then(function(){t.lastModified?c(i+".json",true).then(function(e){var n=e.headers;t.lastModified=n("last-modified")}).then(function(){n.resolve()}):m(t.libid,t.id).then(function(){c(i+".json",true).then(function(e){var n=e.headers;t.lastModified=n("last-modified")}).then(function(){n.resolve()})})},function(e){n.reject(e)})},function(e){n.reject(e)});return n.promise}function x(t){var n=new e;c(t+".json",true).then(function(e){var t=e.data;var i=e.headers;t.lastModified=i("last-modified");n.resolve(t)}).catch(function(e){n.reject(e)});return n.promise}function w(e,t){var n=e+"/"+t;i[n]||(i[n]=x(n));return i[n]}function S(t){var n=new e,r=a(t);f(r+".json").then(function(){g(t.libid,t.id).then(function(){f(r+".html").then(function(){delete i[r];n.resolve()},function(e){n.reject(e)})},function(e){n.reject(e)})},function(){n.reject()});return n.promise}function C(t){var n=new e,i=a(t);c(i+".html",true).then(function(e){var i=e.data;var r=document.createElement("div");r.innerHTML=i;var o=r.getElementsByTagName("script");var a=o.length;while(a--)o[a].parentNode.removeChild(o[a]);var s=r.getElementsByTagName("style");if(1===s.length){t.css=s[0].innerHTML;var l=r.getElementsByTagName("div");t.html=l[0].innerHTML;n.resolve()}else n.reject("Widget.InvalidTemplate")}).catch(function(){n.reject()});return n.promise}function E(t){var n=a(t);if(!i[n]){var r=new e;i[n]=r.promise;r.resolve(t)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96)],r=function(e,t){function n(t,n,i){return e.Event(t,{pageX:i.pagePoints[0].x,pageY:i.pagePoints[0].y,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,originalEvent:n,gestureData:i})}var i;t(document.body).tap({options:{preventDefault:false},start:function t(n){i=e(n.target)}});t(document.body).swipe({options:{preventDefault:false,radiusThreshold:8},start:function e(t,r){var o=n("qv-swipestart",t,r);i.trigger(o)},update:function e(t,r){var o=n("qv-swipeupdate",t,r);i.trigger(o)},cancel:function t(){var n=e.Event("qv-swipecancel");i.trigger(n)},end:function e(o,a){t.utils.isMouse(o)||r();var s=n("qv-swipe",o,a);i.trigger(s)}});function r(){var e;function t(){document.removeEventListener("mousedown",n,true);document.removeEventListener("mousemove",i,true);document.removeEventListener("mouseup",r,true)}function n(e){e.preventDefault();e.stopPropagation()}function i(e){e.preventDefault();e.stopPropagation()}function r(n){n.preventDefault();n.stopPropagation();t();clearTimeout(e)}document.addEventListener("mousedown",n,true);document.addEventListener("mousemove",i,true);document.addEventListener("mouseup",r,true);e=setTimeout(t,350)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96)],r=function(e,t){var n=t.Gesture.augment(function(n){var i=false;this.defaults={radiusThreshold:10,timeThreshold:510,touches:1,precedence:4,preventDefault:false,which:1,interval:10};this.on=function(e){this.count=0;t(e).longtap({id:this.id,options:{precedence:this.options.precedence,preventDefault:this.options.preventDefault,touches:this.options.touches,which:this.options.which,areaThreshold:this.options.areaThreshold,timeThreshold:this.options.timeThreshold,interval:this.options.interval},start:this.longtapStart.bind(this),update:this.longtapUpdate.bind(this),cancel:this.longtapCancel.bind(this),end:this.longtapEnd.bind(this)}).swipe({id:this.id,options:{precedence:this.options.precedence+1,preventDefault:this.options.preventDefault,radiusThreshold:this.options.radiusThreshold,touches:this.options.touches},start:this.swipeStart.bind(this),update:this.swipeUpdate.bind(this),end:this.swipeEnd.bind(this),cancel:this.swipeCancel.bind(this)})};this.off=function(e){t(e).off("longtap",this.id);t(e).off("swipe",this.id)};this.longtapStart=function(){i=false};this.longtapUpdate=function(e,t){100===t.percentage&&(i=true)};this.longtapEnd=function(){this.binder.cancel()};this.longtapCancel=function(){i||this.binder.cancel()};this.swipeStart=function(t,n){var r=e(t.target).is("input, textarea");i&&!r?this.binder.start(t,n):i&&r&&(i=false)};this.swipeUpdate=function(e,t){i&&this.binder.update(e,t)};this.swipeEnd=function(e,t){if(i){o();this.binder.end(e,t);i=false}};this.swipeCancel=function(){i=false;this.binder.cancel()};function r(){n.apply(this,arguments)}function o(){var e;function t(){document.removeEventListener("mousedown",n,true);document.removeEventListener("mousemove",i,true);document.removeEventListener("mouseup",r,true)}function n(e){e.preventDefault();e.stopPropagation()}function i(e){e.preventDefault();e.stopPropagation()}function r(n){n.preventDefault();n.stopPropagation();t();clearTimeout(e)}document.addEventListener("mousedown",n,true);document.addEventListener("mousemove",i,true);document.addEventListener("mouseup",r,true);e=setTimeout(t,350)}return r});t.gestures.add("longtapswipe",n)}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(95),n(93),n(122),n(94),n(120),n(215),n(301),n(143)],r=function(e,t,n,i,r,o,a,s,l,u){var c=false;var d=false;var f={userId:void 0,userDirectory:void 0};function p(e){var n=t.getService("qvAppViewService");n.blockScrollIntoView=true;n.activeId=e.qInfo.qId;n.lastActiveId=e.qInfo.qId;n=null}function h(e){c=e}var v={update:function e(){return s.getList().then(function(e){return e.getLayout().then(function(e){v.all.approvedStories=e.filter(l.filterApproved).sort(l.sortByRank);v.all.publishedStories=e.filter(l.filterMyPublishedCommunity(f)).sort(l.sortPublishedTime);v.all.privateStories=e.filter(l.filterPrivate).sort(l.sortByRank);v.all.communityStories=e.filter(l.filterCommunity(f)).sort(l.sortCommunity(1));v.all.mashed=[];if(v.current)for(var t=0;t<Object.keys(v.all).length;t++){var i=v.all[Object.keys(v.all)[t]];for(var r=0;r<i.length;r++)v.all.mashed.push(i[r])}n.publish("/data/story-list-layout-changed")})})},all:{mashed:[],approvedStories:[],publishedStories:[],privateStories:[],communityStories:[]},privateStories:[],current:{},currentIndex:function e(){for(var t=0;t<v.all.mashed.length;t++)if(v.current.id===v.all.mashed[t].qInfo.qId)return t;return 0},hasPrevious:function e(){return v.currentIndex()>0},hasNext:function e(){return v.currentIndex()<v.all.mashed.length-1},getPrevious:function e(){if(v.hasPrevious())return v.all.mashed[v.currentIndex()-1];return null},getNext:function e(){if(v.hasNext())return v.all.mashed[v.currentIndex()+1];return null},getFirst:function e(){return v.all.mashed[v.currentIndex()]},getLast:function e(){return v.all.mashed[v.all.mashed.length-1]},navigate:function t(){if(c)return;var n=v.all.mashed.length-v.all.communityStories.length-1;var i=v.current===v.getFirst()?v.getNext():v.currentIndex()<n?v.getNext():v.currentIndex()===n?v.getPrevious():null;var a=o.view===o.Views.story;if(i){if(a){p(i);s.get(i.qInfo.qId).then(function(e){r.goToStory(e.id,Object.keys(o.States)[o.state])})}}else{var l=e(".qv-pop-appview").scope();l&&l.closeView();l=null;a&&r.goToOverview()}},communitySort:function e(t,n){var i=v.all.communitySheets.sort(l.sortCommunity(t));n&&i.reverse();v.all.communitySheets=i}};var m={update:function e(){return a.getList().then(function(e){return e.getLayout().then(function(e){m.all.approvedSheets=e.filter(l.filterApproved).sort(l.sortByRank);m.all.publishedSheets=e.filter(l.filterMyPublishedCommunity(f)).sort(l.sortPublishedTime);m.all.privateSheets=e.filter(l.filterPrivate).sort(l.sortByRank);m.all.communitySheets=e.filter(l.filterCommunity(f)).sort(l.sortCommunity(1));m.all.mashed=[];if(m.current)for(var t=0;t<Object.keys(m.all).length;t++){var i=m.all[Object.keys(m.all)[t]];for(var r=0;r<i.length;r++)m.all.mashed.push(i[r])}n.publish("/data/sheet-list-layout-changed",m.all.mashed)})})},all:{mashed:[],approvedSheets:[],publishedSheets:[],privateSheets:[],communitySheets:[]},privateSheets:[],current:{},getNumberOfSheets:function e(){return m.all.mashed.length},currentIndex:function e(){for(var t=0;t<m.all.mashed.length;t++)if(m.current.id===m.all.mashed[t].qInfo.qId)return t;return 0},hasPrevious:function e(){return m.currentIndex()>0},hasNext:function e(){return m.currentIndex()<m.all.mashed.length-1},getPrevious:function e(){if(m.hasPrevious())return m.all.mashed[m.currentIndex()-1];return null},getNext:function e(){if(m.hasNext())return m.all.mashed[m.currentIndex()+1];return null},getFirst:function e(){return m.all.mashed[0]},getLast:function e(){return m.all.mashed[m.all.mashed.length-1]},getById:function e(t){for(var n=0;n<m.all.mashed.length;n++)if(m.all.mashed[n].qInfo.qId===t)return m.all.mashed[n];return null},navigate:function t(){if(c)return;var n=m.all.mashed.length-m.all.communitySheets.length-1;var i=m.current===m.getFirst()?m.getNext():m.currentIndex()<n?m.getNext():m.currentIndex()===n?m.getPrevious():null;var s=o.view===o.Views.sheet||o.view===o.Views.object||o.view===o.Views.masterObject;if(i){if(s){p(i);a.get(i.qInfo.qId).then(function(e){r.goToSheet(e.id,Object.keys(o.States)[o.state])})}}else{var l=e(".qv-pop-appview").scope();l&&l.closeView();l=null;s&&r.goToOverview()}},navigateToSheet:function e(t){if(t){p(t);a.get(t.qInfo.qId).then(function(e){r.goToSheet(e.id,Object.keys(o.States)[o.state])})}},communitySort:function e(t,n){var i=m.all.communitySheets.sort(l.sortCommunity(t));n&&(i=i.reverse());m.all.communitySheets=i}};function g(){if(d)return Promise.resolve();o.SheetChanged.bind(function(e){m.current=e});o.StoryChanged.bind(function(e){v.current=e});u.onDataReceived.then(function(e){if("NONE"!==e.userDirectory){f.userId=e.userId;f.userDirectory=e.userDirectory}});return i.getApp().then(function(){return Promise.all([m.update(),v.update()]).then(function(){return Promise.all([a.getList(),s.getList()]).then(function(e){var t=e[0];t.Invalidated.bind(m.update);var n=e[1];n.Invalidated.bind(v.update);d=true;return d})})})}var b={isInitialized:function e(){return d},init:g,Sheets:m,Stories:v,suspendNavigation:h};t.service("$navigationService",function(){return b});return b}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{isSnapshotData:e};function e(e){return e&&!!e.sourceObjectId}}.apply(t,i),void 0!==r&&(e.exports=r))},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type";var WINDOW="object"===typeof window;var root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=false);var WEB_WORKER=!WINDOW&&"object"===typeof self;var NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"===typeof module&&module.exports;var AMD=(true,__webpack_require__(593));var ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer;var HEX_CHARS="0123456789abcdef".split("");var EXTRA=[-2147483648,8388608,32768,128];var SHIFT=[24,16,8,0];var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var OUTPUT_TYPES=["hex","array","digest","arrayBuffer"];var blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,true).update(n)[e]()}};var createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e));t.create=function(){return new Sha256(e)};t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var i=OUTPUT_TYPES[n];t[i]=createOutputMethod(i,e)}return t};var nodeWrap=function(method,is224){var crypto=eval("require('crypto')");var Buffer=eval("require('buffer').Buffer");var algorithm=is224?"sha224":"sha256";var nodeMethod=function(e){if("string"===typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null===e||void 0===e)throw new Error(ERROR);e.constructor===ArrayBuffer&&(e=new Uint8Array(e));return Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};var createHmacOutputMethod=function(e,t){return function(n,i){return new HmacSha256(n,t,true).update(i)[e]()}};var createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)};t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var i=OUTPUT_TYPES[n];t[i]=createHmacOutputMethod(i,e)}return t};function Sha256(e,t){if(t){blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0;this.blocks=blocks}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];if(e){this.h0=3238371032;this.h1=914150663;this.h2=812702999;this.h3=4144912697;this.h4=4290775857;this.h5=1750603025;this.h6=1694076839;this.h7=3204075428}else{this.h0=1779033703;this.h1=3144134277;this.h2=1013904242;this.h3=2773480762;this.h4=1359893119;this.h5=2600822924;this.h6=528734635;this.h7=1541459225}this.block=this.start=this.bytes=this.hBytes=0;this.finalized=this.hashed=false;this.first=true;this.is224=e}Sha256.prototype.update=function(e){if(this.finalized)return;var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR);t=true}var i,r=0,o,a=e.length,s=this.blocks;while(r<a){if(this.hashed){this.hashed=false;s[0]=this.block;s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0}if(t)for(o=this.start;r<a&&o<64;++r)s[o>>2]|=e[r]<<SHIFT[3&o++];else for(o=this.start;r<a&&o<64;++r){i=e.charCodeAt(r);if(i<128)s[o>>2]|=i<<SHIFT[3&o++];else if(i<2048){s[o>>2]|=(192|i>>6)<<SHIFT[3&o++];s[o>>2]|=(128|63&i)<<SHIFT[3&o++]}else if(i<55296||i>=57344){s[o>>2]|=(224|i>>12)<<SHIFT[3&o++];s[o>>2]|=(128|i>>6&63)<<SHIFT[3&o++];s[o>>2]|=(128|63&i)<<SHIFT[3&o++]}else{i=65536+((1023&i)<<10|1023&e.charCodeAt(++r));s[o>>2]|=(240|i>>18)<<SHIFT[3&o++];s[o>>2]|=(128|i>>12&63)<<SHIFT[3&o++];s[o>>2]|=(128|i>>6&63)<<SHIFT[3&o++];s[o>>2]|=(128|63&i)<<SHIFT[3&o++]}}this.lastByteIndex=o;this.bytes+=o-this.start;if(o>=64){this.block=s[16];this.start=o-64;this.hash();this.hashed=true}else this.start=o}if(this.bytes>4294967295){this.hBytes+=this.bytes/4294967296<<0;this.bytes=this.bytes%4294967296}return this};Sha256.prototype.finalize=function(){if(this.finalized)return;this.finalized=true;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block;e[t>>2]|=EXTRA[3&t];this.block=e[16];if(t>=56){this.hashed||this.hash();e[0]=this.block;e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0}e[14]=this.hBytes<<3|this.bytes>>>29;e[15]=this.bytes<<3;this.hash()};Sha256.prototype.hash=function(){var e=this.h0,t=this.h1,n=this.h2,i=this.h3,r=this.h4,o=this.h5,a=this.h6,s=this.h7,l=this.blocks,u,c,d,f,p,h,v,m,g,b,y;for(u=16;u<64;++u){p=l[u-15];c=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;p=l[u-2];d=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10;l[u]=l[u-16]+c+l[u-7]+d<<0}y=t&n;for(u=0;u<64;u+=4){if(this.first){if(this.is224){m=300032;p=l[0]-1413257819;s=p-150054599<<0;i=p+24177077<<0}else{m=704751109;p=l[0]-210244248;s=p-1521486534<<0;i=p+143694565<<0}this.first=false}else{c=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10);d=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7);m=e&t;f=m^e&n^y;v=r&o^~r&a;p=s+d+v+K[u]+l[u];h=c+f;s=i+p<<0;i=p+h<<0}c=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10);d=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7);g=i&e;f=g^i&t^m;v=s&r^~s&o;p=a+d+v+K[u+1]+l[u+1];h=c+f;a=n+p<<0;n=p+h<<0;c=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10);d=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7);b=n&i;f=b^n&e^g;v=a&s^~a&r;p=o+d+v+K[u+2]+l[u+2];h=c+f;o=t+p<<0;t=p+h<<0;c=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10);d=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7);y=t&n;f=y^t&i^b;v=o&a^~o&s;p=r+d+v+K[u+3]+l[u+3];h=c+f;r=e+p<<0;e=p+h<<0}this.h0=this.h0+e<<0;this.h1=this.h1+t<<0;this.h2=this.h2+n<<0;this.h3=this.h3+i<<0;this.h4=this.h4+r<<0;this.h5=this.h5+o<<0;this.h6=this.h6+a<<0;this.h7=this.h7+s<<0};Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,r=this.h4,o=this.h5,a=this.h6,s=this.h7;var l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];this.is224||(l+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]);return l};Sha256.prototype.toString=Sha256.prototype.hex;Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,r=this.h4,o=this.h5,a=this.h6,s=this.h7;var l=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a];this.is224||l.push(s>>24&255,s>>16&255,s>>8&255,255&s);return l};Sha256.prototype.array=Sha256.prototype.digest;Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32);var t=new DataView(e);t.setUint32(0,this.h0);t.setUint32(4,this.h1);t.setUint32(8,this.h2);t.setUint32(12,this.h3);t.setUint32(16,this.h4);t.setUint32(20,this.h5);t.setUint32(24,this.h6);this.is224||t.setUint32(28,this.h7);return e};function HmacSha256(e,t,n){var i,r=typeof e;if("string"===r){var o=[],a=e.length,s=0,l;for(i=0;i<a;++i){l=e.charCodeAt(i);if(l<128)o[s++]=l;else if(l<2048){o[s++]=192|l>>6;o[s++]=128|63&l}else if(l<55296||l>=57344){o[s++]=224|l>>12;o[s++]=128|l>>6&63;o[s++]=128|63&l}else{l=65536+((1023&l)<<10|1023&e.charCodeAt(++i));o[s++]=240|l>>18;o[s++]=128|l>>12&63;o[s++]=128|l>>6&63;o[s++]=128|63&l}}e=o}else{if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,true).update(e).array());var u=[],c=[];for(i=0;i<64;++i){var d=e[i]||0;u[i]=92^d;c[i]=54^d}Sha256.call(this,t,n);this.update(c);this.oKeyPad=u;this.inner=true;this.sharedMemory=n}HmacSha256.prototype=new Sha256;HmacSha256.prototype.finalize=function(){Sha256.prototype.finalize.call(this);if(this.inner){this.inner=false;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory);this.update(this.oKeyPad);this.update(e);Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports;exports.sha224=createMethod(true);exports.sha256.hmac=createHmacMethod();exports.sha224.hmac=createHmacMethod(true);if(COMMON_JS)module.exports=exports;else{root.sha256=exports.sha256;root.sha224=exports.sha224;AMD&&!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}})()}).call(this,__webpack_require__(4),__webpack_require__(15))},function(e,t,n){"use strict";var i,r;!(i=[n(95),n(92),n(117),n(254),n(89),n(108),n(90),n(91),n(11),n(155),n(105),n(182)],r=function(e,t,n,i,r,o,a,s,l,u,c,d){var f={};var p=t.extend("DataPrepService",{init:function e(t,n){t=t||a.getParameterByName("app");n=n||p.connectOptions;n.route="app/"+encodeURIComponent(t).toLowerCase();n.responseInterceptors=[{onRejected:function e(t,n,i){i.isHandled=true;return r.reject(i)}}];this.session=i.get(null,n);var o=this;this._callbacks=l.Callbacks();this.waitForOpen=new r;this.waitForResume=new r;this.waitForResume.resolve(o);this.restService=new u;document.addEventListener("onAppStateChanged",function(e){if(e.detail&&e.detail.inForegroundNow)o.session.resume(false).then(function(){o.waitForResume.resolve(o)});else if(e.detail&&!e.detail.inForegroundNow){o.session.suspend();o.waitForResume=new r}});function c(e){e=e||{};e.isHandled=true;e.message=s.get("DataPrep.Recommendations.ConnectionLostToDPS");o.waitForOpen.reject(e)}function d(){o.waitForOpen.resolve(o)}function f(e){var t=e.error;if(t){t.isHandled=true;-32e3!==t.code&&(t.dpsError=true)}}this.session.Error.bind(f);this.session.Close.bind(c);this.session.Open.bind(d);o.waitForResume.promise.then(function(){if(n.serverNodeId){var e=[];e.push(n.serverNodeId);o.rpc("setServerNodeId",e)}});this.session.enigmaPromise.then(d).catch(c)},rpc:function t(n,i){var r={method:n,params:i||[]};var o=this;return o.waitForResume.promise.then(function(){return o.session.rpc(r).then(function(t){if(t.result&&t.result.notification&&1005===t.result.notification.data.code){e.publish(c.Events.PubSub.StartSpin,{method:n});var r=i.length&&i.length>1&&i[1].forceReload;true===r&&(i[1].forceReload=false);return o.executeAfterReload(n,i).finally(function(){e.publish(c.Events.PubSub.StopSpin,{method:n})})}return t})})},rpcWithPolling:function t(n,i,r){r&&e.publish(c.Events.PubSub.StartSpin,{method:n});var o=true;var a=void 0;var s=function t(){r&&e.publish(c.Events.PubSub.StopSpin,{method:n})};a=setInterval(function(){o&&this.getProgress().then(function(){})}.bind(this),15e3);var l=function e(){o=false;void 0!==a&&clearInterval(a);a=void 0};return this.rpc(n,i).then(function(e){l();s();return e},function(e){l();s();throw e})},executeAfterReload:function e(t,n){var i=new r;this.waitForReload(i);return i.promise.then(function(){return this.rpc(t,n)}.bind(this))},_checkProgress:function e(t){var n=false;t.engine&&t.engine.qProgressData&&t.engine.qProgressData.qFinished&&true===t.dps.dataLoad.complete&&true===t.dps.profiling.complete&&(n=true);return n},waitForReload:function e(t){this.getProgress().then(function(e){this._checkProgress(e.result)?t.resolve(true):setTimeout(function(){this.waitForReload(t)}.bind(this),1e3)}.bind(this),function(e){t.reject(e)})},augmentOptions:function e(t){t["throwOnReload"]=true;return t},getProgress:function e(){return this.rpc("getProgress",[0])},getModel:function e(t){return this.rpc("getModel",[t||{}])},setModel:function e(t,n){return this.rpc("setModel",[t,n||{}])},initModel:function e(t,n){return this.rpc("initModel",[t,n||{}])},analyzeModel:function e(t,n){return this.rpc("analyzeModel",[t,n||{}])},getTargetTables:function e(t,n){return this.rpc("getTargetTables",[t,this.augmentOptions(n)||{}])},warmUpDPS:function e(t,n){return this.rpc("getTargetTables",[t,this.augmentOptions(n)||{}]).catch(function(e){e.error.dpsHandled=true;console.log("Warming up DPS ignored this error: ");console.log(e);throw e})},getTablePreview:function e(t,n,i){return this.rpc("getTablePreview",[t,n,this.augmentOptions(i)||{}])},getTableFields:function e(t,n,i){return this.rpc("getTableFields",[t,n,this.augmentOptions(i)||{}])},getLoadScript:function e(t,n){return this.rpc("getLoadScript",[t,n||{}])},getClassifications:function e(t){return this.rpc("getClassifications",[t])},getRestService:function e(){return this.restService},getVisRecommendations:function e(t,n){return this.rpc("getVisRecommendations",[t,n])},adaptVisualization:function e(t,n){return this.rpc("adaptVisualization",[t,n])},syncLoadModel:function e(t){return this.rpc("syncLoadModel",[t])},getRecommendations:function e(t,n){return this.rpcWithPolling("getRecommendations",[t,this.augmentOptions(n)||{}],true)},getDataPreview:function e(t){return this.rpc("getDataPreview",[t])},updateSources:function e(t,n,i){return this.rpcWithPolling("updateSources",[t,n,i||{}])}});p.getConnectOptions=function(){if(p.connectOptions){var e=new r;e.resolve(p.connectOptions);return e.promise}return n.global.getConfiguration().then(function(){p.connectOptions={host:a.hostname,isSecure:a.isSecure,prefix:a.basePath,port:a.port,subpath:"dataprepservice",reloadURI:a.reloadURI,serverNodeId:d.getServerNodeId()};return p.connectOptions})};p.isRunning=function(){var e=new u;return e.isRunning()};p.get=function(e,t){return p.getConnectOptions(t).then(function(t){e=e||a.getParameterByName("app");e=v(e);var n=f[e.toLowerCase()]||new p(e,t);f[e.toLowerCase()]=n;return n.waitForOpen.promise})};var h=".qvw";function v(e){if(o.isPersonalModeSync()&&-1!==e.indexOf(h,e.length-h.length))return e.substr(0,e.length-1)+"f";return e}return p}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91)],r=function(e){function t(e){return"MessageCode."+(e||0)}function n(n){var i=e.get(t(n.qMessageCode),n.qMessageParameters);return i}function i(e){var t="";if(e)for(var i in e){t+=n(e[i]);i<e.length-1&&(t+="\n")}return t}function r(e){e=Math.floor(e);return e>9?""+e:"0"+e}function o(e){var t,n;var i=[];var r=[];for(t in e){n=e[t];!n.qErrorString||!n.qLine||(r[n.qLine]=true)}for(t in e){n=e[t];!n.qErrorString&&r[n.qLine]||i.push(n)}return i}return{translateMessage:n,translateMessageArray:i,formatNum:r,filterOutDuplicates:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[],r=function(){var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(t){if(null==t)return"";var n="";var i,r,o,a,s,l,u;var c=0;t=e.compress(t);while(c<2*t.length){if(c%2==0){i=t.charCodeAt(c/2)>>8;r=255&t.charCodeAt(c/2);o=c/2+1<t.length?t.charCodeAt(c/2+1)>>8:NaN}else{i=255&t.charCodeAt((c-1)/2);if((c+1)/2<t.length){r=t.charCodeAt((c+1)/2)>>8;o=255&t.charCodeAt((c+1)/2)}else r=o=NaN}c+=3;a=i>>2;s=(3&i)<<4|r>>4;l=(15&r)<<2|o>>6;u=63&o;isNaN(r)?l=u=64:isNaN(o)&&(u=64);n=n+e._keyStr.charAt(a)+e._keyStr.charAt(s)+e._keyStr.charAt(l)+e._keyStr.charAt(u)}return n},decompressFromBase64:function(t){if(null==t)return"";var n="",i=0,r,o,a,s,l,u,c,d,f=0,p=e._f;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<t.length){l=e._keyStr.indexOf(t.charAt(f++));u=e._keyStr.indexOf(t.charAt(f++));c=e._keyStr.indexOf(t.charAt(f++));d=e._keyStr.indexOf(t.charAt(f++));o=l<<2|u>>4;a=(15&u)<<4|c>>2;s=(3&c)<<6|d;if(i%2==0){r=o<<8;64!=c&&(n+=p(r|a));64!=d&&(r=s<<8)}else{n+=p(r|o);64!=c&&(r=a<<8);64!=d&&(n+=p(r|s))}i+=3}return e.decompress(n)},compressToUTF16:function(t){if(null==t)return"";var n="",i,r,o,a=0,s=e._f;t=e.compress(t);for(i=0;i<t.length;i++){r=t.charCodeAt(i);switch(a++){case 0:n+=s(32+(r>>1));o=(1&r)<<14;break;case 1:n+=s(o+(r>>2)+32);o=(3&r)<<13;break;case 2:n+=s(o+(r>>3)+32);o=(7&r)<<12;break;case 3:n+=s(o+(r>>4)+32);o=(15&r)<<11;break;case 4:n+=s(o+(r>>5)+32);o=(31&r)<<10;break;case 5:n+=s(o+(r>>6)+32);o=(63&r)<<9;break;case 6:n+=s(o+(r>>7)+32);o=(127&r)<<8;break;case 7:n+=s(o+(r>>8)+32);o=(255&r)<<7;break;case 8:n+=s(o+(r>>9)+32);o=(511&r)<<6;break;case 9:n+=s(o+(r>>10)+32);o=(1023&r)<<5;break;case 10:n+=s(o+(r>>11)+32);o=(2047&r)<<4;break;case 11:n+=s(o+(r>>12)+32);o=(4095&r)<<3;break;case 12:n+=s(o+(r>>13)+32);o=(8191&r)<<2;break;case 13:n+=s(o+(r>>14)+32);o=(16383&r)<<1;break;case 14:n+=s(o+(r>>15)+32,32+(32767&r));a=0;break}}return n+s(o+32)},decompressFromUTF16:function(t){if(null==t)return"";var n="",i,r,o=0,a=0,s=e._f;while(a<t.length){r=t.charCodeAt(a)-32;switch(o++){case 0:i=r<<1;break;case 1:n+=s(i|r>>14);i=(16383&r)<<2;break;case 2:n+=s(i|r>>13);i=(8191&r)<<3;break;case 3:n+=s(i|r>>12);i=(4095&r)<<4;break;case 4:n+=s(i|r>>11);i=(2047&r)<<5;break;case 5:n+=s(i|r>>10);i=(1023&r)<<6;break;case 6:n+=s(i|r>>9);i=(511&r)<<7;break;case 7:n+=s(i|r>>8);i=(255&r)<<8;break;case 8:n+=s(i|r>>7);i=(127&r)<<9;break;case 9:n+=s(i|r>>6);i=(63&r)<<10;break;case 10:n+=s(i|r>>5);i=(31&r)<<11;break;case 11:n+=s(i|r>>4);i=(15&r)<<12;break;case 12:n+=s(i|r>>3);i=(7&r)<<13;break;case 13:n+=s(i|r>>2);i=(3&r)<<14;break;case 14:n+=s(i|r>>1);i=(1&r)<<15;break;case 15:n+=s(i|r);o=0;break}a++}return e.decompress(n)},compress:function(t){if(null==t)return"";var n,i,r={},o={},a="",s="",l="",u=2,c=3,d=2,f="",p=0,h=0,v,m=e._f;for(v=0;v<t.length;v+=1){a=t.charAt(v);if(!Object.prototype.hasOwnProperty.call(r,a)){r[a]=c++;o[a]=true}s=l+a;if(Object.prototype.hasOwnProperty.call(r,s))l=s;else{if(Object.prototype.hasOwnProperty.call(o,l)){if(l.charCodeAt(0)<256){for(n=0;n<d;n++){p<<=1;if(15==h){h=0;f+=m(p);p=0}else h++}i=l.charCodeAt(0);for(n=0;n<8;n++){p=p<<1|1&i;if(15==h){h=0;f+=m(p);p=0}else h++;i>>=1}}else{i=1;for(n=0;n<d;n++){p=p<<1|i;if(15==h){h=0;f+=m(p);p=0}else h++;i=0}i=l.charCodeAt(0);for(n=0;n<16;n++){p=p<<1|1&i;if(15==h){h=0;f+=m(p);p=0}else h++;i>>=1}}u--;if(0==u){u=Math.pow(2,d);d++}delete o[l]}else{i=r[l];for(n=0;n<d;n++){p=p<<1|1&i;if(15==h){h=0;f+=m(p);p=0}else h++;i>>=1}}u--;if(0==u){u=Math.pow(2,d);d++}r[s]=c++;l=String(a)}}if(""!==l){if(Object.prototype.hasOwnProperty.call(o,l)){if(l.charCodeAt(0)<256){for(n=0;n<d;n++){p<<=1;if(15==h){h=0;f+=m(p);p=0}else h++}i=l.charCodeAt(0);for(n=0;n<8;n++){p=p<<1|1&i;if(15==h){h=0;f+=m(p);p=0}else h++;i>>=1}}else{i=1;for(n=0;n<d;n++){p=p<<1|i;if(15==h){h=0;f+=m(p);p=0}else h++;i=0}i=l.charCodeAt(0);for(n=0;n<16;n++){p=p<<1|1&i;if(15==h){h=0;f+=m(p);p=0}else h++;i>>=1}}u--;if(0==u){u=Math.pow(2,d);d++}delete o[l]}else{i=r[l];for(n=0;n<d;n++){p=p<<1|1&i;if(15==h){h=0;f+=m(p);p=0}else h++;i>>=1}}u--;if(0==u){u=Math.pow(2,d);d++}}i=2;for(n=0;n<d;n++){p=p<<1|1&i;if(15==h){h=0;f+=m(p);p=0}else h++;i>>=1}while(true){p<<=1;if(15==h){f+=m(p);break}h++}return f},decompress:function(t){if(null==t)return"";if(""==t)return null;var n=[],i,r=4,o=4,a=3,s="",l="",u,c,d,f,p,h,v,m=e._f,g={string:t,val:t.charCodeAt(0),position:32768,index:1};for(u=0;u<3;u+=1)n[u]=u;d=0;p=Math.pow(2,2);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}switch(i=d){case 0:d=0;p=Math.pow(2,8);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}v=m(d);break;case 1:d=0;p=Math.pow(2,16);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}v=m(d);break;case 2:return""}n[3]=v;c=l=v;while(true){if(g.index>g.string.length)return"";d=0;p=Math.pow(2,a);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}switch(v=d){case 0:d=0;p=Math.pow(2,8);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}n[o++]=m(d);v=o-1;r--;break;case 1:d=0;p=Math.pow(2,16);h=1;while(h!=p){f=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}d|=(f>0?1:0)*h;h<<=1}n[o++]=m(d);v=o-1;r--;break;case 2:return l}if(0==r){r=Math.pow(2,a);a++}if(n[v])s=n[v];else{if(v!==o)return null;s=c+c.charAt(0)}l+=s;n[o++]=c+s.charAt(0);r--;c=s;if(0==r){r=Math.pow(2,a);a++}}}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(236),n(96)],r=function(e,t,n){function i(i,r,o){var a=false;var s=null;var l=o.cond||function(){return true};var u=o.onStart||function e(){};var c=o.onStop||function e(){};var d=o.isEnabled||function(){return true};function f(t){return"string"===typeof o.elem?e(o.elem)[0]:"function"===typeof o.elem?o.elem(t):o.elem}function p(t){return"function"===typeof o.info?o.info(e(t.target).scope(),t):o.info}function h(t){e(t.target).off("remove",h);a.cancel();c(t,true)}i.on("qv-press",r,function(e){a=null;var t=p(e);if(!d(t,e)){a=false;return}o.allowScroll||n.utils.touch||e.preventDefault()});i.on("qv-swipe",r,function(t){if(false===a)return;if(true===a){clearTimeout(s);s=null}else if(a){e(t.target).off("remove",h);a.update(t);a.end(t);c(t,false)}a=false});i.on("qv-swipecancel",r,function(t){if(false===a)return;if(true===a){clearTimeout(s);s=null}else if(a){e(t.target).off("remove",h);a.cancel();c(t,true)}a=false});i.on("qv-swipestart qv-swipeupdate",r,function(i){if(false===a)return;if(!a){var r=l(i.gestureData.swipe);if(r){a=true;n.WebkitHack.prevent();s=setTimeout(function(){s=null;e(i.target).on("remove",h);u(i,e(i.target).scope());var n=f(i);var r=p(i);a=t.startDrag(n,r);a&&a.update(i)},0)}else false===r&&(a=false)}if(a){i.preventDefault();true!==a&&a.update(i)}})}return{addDrag:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(101),n(108),n(618),n(619),n(620),n(329),n(444),n(91),n(100),n(107),n(90),n(185),n(49)],r=function(e,t,n,i,r,a,s,l,u,c,d,f,p){var h={sorting:n,axis:i,styling:r};var v=f.getLogicFor("hard","default");function m(t,n){return e.getValue(t,"qDef.qNumFormat.qFmt")===s.getDefaultNumericFormat(t.qDef.qNumFormat,n?n.localeInfo:"")}function g(t){void 0===e.getValue(t,"color.useMeasureGradient")&&e.setValue(t,"color.useMeasureGradient",false);var n=e.getValue(t,"color.auto"),i=e.getValue(t,"color.mode");return!n&&"byMeasure"===i&&"libraryItem"===e.getValue(t,"color.byMeasureDef.type")}h.general={type:"items",translation:"properties.general",grouped:true,items:{showTitles:{translation:"properties.showTitles",type:"boolean",ref:"showTitles",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],snapshot:{tid:"property-showTitles"}},titles:{type:"items",show:function e(t){return false!==t.showTitles},items:{title:{translation:"Common.Title",component:"string",expression:"optional",ref:"title",defaultValue:""},subtitle:{translation:"properties.subtitle",type:"string",expression:"optional",ref:"subtitle",defaultValue:""},footnote:{translation:"properties.footnote",type:"string",expression:"optional",ref:"footnote",defaultValue:""}}},details:{type:"items",show:true,items:{showDetails:{translation:"properties.showDetails",type:"boolean",ref:"showDetails",component:"switch",defaultValue:false,options:[{value:true,translation:"Common.Show"},{value:false,translation:"properties.hide"}]},allowShowDetailsMessage:{component:"text",translation:"properties.allowShowDetails",style:"hint"}}}}};h.metadata={type:"items",translation:"properties.metadata",schemaIgnore:true,show:function e(t){return"masterobject"===t.qInfo.qType},grouped:true,items:{name:{translation:"Common.Name",type:"string",ref:"qMetaDef.title",minlength:1,rollbackInvalid:true,show:function e(t){return t.qMetaDef}},labelExpression:{translation:"metadata.labelExpression",type:"string",component:"expression",expressionType:"StringExpression",expression:"always",change:function e(t){var n=d.getValue(t,"labelExpression.qStringExpression.qExpr");n||(t.labelExpression=void 0)},ref:"labelExpression",show:function e(t){return!!t.qMetaDef}},description:{translation:"Common.Description",type:"string",component:"textarea",expression:"optional",change:function e(t,n,i){if("object"===o(i.qMetaDef.description)){i.descriptionExpression=i.qMetaDef.description;i.qMetaDef.description=""}else if("string"===typeof i.descriptionExpression&&i.descriptionExpression){i.qMetaDef.description=i.descriptionExpression;i.descriptionExpression=void 0}},refFn:function e(t){var n="object"===o(t.descriptionExpression);return n?"descriptionExpression":"qMetaDef.description"},maxlength:c.description,show:function e(t){return t.qMetaDef}},tags:{translation:"Common.Tags",component:"tags",type:"array",ref:"qMetaDef.tags",show:function e(t){return t.qMetaDef}}}};h.settings={type:"items",component:"expandable-items",translation:"Common.Appearance",items:{metadata:h.metadata,general:h.general}};p.getFlag("ALT_STATE_ONE")&&t.inClient()&&(h.settings.items.selections=a);h.addons={type:"items",component:"expandable-items",translation:"properties.addons",items:{}};h.dimensions={type:"array",component:"dimensions",translation:"Common.Dimensions",alternativeTranslation:"properties.alternative.dimensions",ref:"qHyperCubeDef.qDimensions",disabledRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions",min:1,allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"properties.dimensions.add",grouped:true,items:{libraryId:{type:"string",component:"library-item",libraryItemType:"dimension",ref:"qLibraryId",translation:"Common.Dimension",show:function e(t){return t.qLibraryId}},inlineDimension:{component:"inline-dimension",show:function e(t){return!t.qLibraryId}},autoSort:{ref:"qDef.autoSort",type:"boolean",defaultValue:true,show:false},cId:{ref:"qDef.cId",type:"string",show:false},nullSuppression:{type:"boolean",ref:"qNullSuppression",defaultValue:false,translation:"properties.dimensions.showNull",inverted:true},dimensionLimits:{type:"items",items:{otherMode:{type:"string",component:"dropdown",ref:"qOtherTotalSpec.qOtherMode",translation:"properties.dimensionLimits.limitation",options:[{value:"OTHER_OFF",translation:"properties.dimensionLimits.none"},{value:"OTHER_COUNTED",translation:"properties.dimensionLimits.fixedNumber"},{value:"OTHER_ABS_LIMITED",translation:"properties.dimensionLimits.exactValue"},{value:"OTHER_REL_LIMITED",translation:"properties.dimensionLimits.relativeValue"}],defaultValue:"OTHER_OFF",readOnly:function e(t,n){return 0===n.getMeasures().length},change:function t(n){var i=e.getValue(n,"qOtherTotalSpec.qOtherMode"),r;if("OTHER_REL_LIMITED"===i){r=e.getValue(n,"qOtherTotalSpec.qOtherLimit.qv","0");if(r.length&&"%"!==r[r.length-1]&&d.isNumeric(r)){n.qOtherTotalSpec.qOtherLimit||e.setValue(n,"qOtherTotalSpec.qOtherLimit",{qv:"0"});n.qOtherTotalSpec.qOtherLimit.qv=r+"%"}}else if("OTHER_ABS_LIMITED"===i){r=e.getValue(n,"qOtherTotalSpec.qOtherLimit.qv","0");if(r.length&&"%"===r[r.length-1]){n.qOtherTotalSpec.qOtherLimit||e.setValue(n,"qOtherTotalSpec.qOtherLimit",{qv:"0"});n.qOtherTotalSpec.qOtherLimit.qv=r.substr(0,r.length-1)}}}},otherSortMode:{type:"string",component:"buttongroup",ref:"qOtherTotalSpec.qOtherSortMode",options:[{value:"OTHER_SORT_DESCENDING",translation:"properties.dimensionLimits.fixedNumber.sortDescendingLabel"},{value:"OTHER_SORT_ASCENDING",translation:"properties.dimensionLimits.fixedNumber.sortAscendingLabel"}],defaultValue:"OTHER_SORT_DESCENDING",show:function t(n,i){return"OTHER_COUNTED"===e.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},otherCounted:{component:"expression",expressionType:"ValueExpr",ref:"qOtherTotalSpec.qOtherCounted",defaultValue:{qv:"10"},show:function t(n,i){return"OTHER_COUNTED"===e.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},otherLimitMode:{type:"string",component:"buttongroup",ref:"qOtherTotalSpec.qOtherLimitMode",options:[{value:"OTHER_GE_LIMIT",label:">=",tooltipTranslation:"properties.greaterOrEqualTo"},{value:"OTHER_GT_LIMIT",label:">",tooltipTranslation:"properties.greaterThan"},{value:"OTHER_LT_LIMIT",label:"<",tooltipTranslation:"properties.lessThan"},{value:"OTHER_LE_LIMIT",label:"<=",tooltipTranslation:"properties.lessOrEqualTo"}],defaultValue:"OTHER_GE_LIMIT",icon:true,smallIconFont:true,show:function t(n,i){var r=e.getValue(n,"qOtherTotalSpec.qOtherMode");return("OTHER_ABS_LIMITED"===r||"OTHER_REL_LIMITED"===r)&&i.getMeasures().length>0}},otherLimit:{component:"expression",expressionType:"ValueExpr",ref:"qOtherTotalSpec.qOtherLimit",defaultValue:{qv:"0"},show:function t(n,i){var r=e.getValue(n,"qOtherTotalSpec.qOtherMode");return("OTHER_ABS_LIMITED"===r||"OTHER_REL_LIMITED"===r)&&i.getMeasures().length>0}},calculatedAgainstMessage:{component:"text",label:function e(t,n){var i=n.getMeasureLayouts()[0];return i?l.get("Properties.DimensionLimits.CalculatedAgainst",i.qFallbackTitle):l.get("Properties.DimensionLimits.NoMeasure")},show:function t(n){var i=e.getValue(n,"qOtherTotalSpec.qOtherMode");return"OTHER_OFF"!==i}}}},others:{type:"items",items:{suppressOther:{type:"boolean",ref:"qOtherTotalSpec.qSuppressOther",translation:"properties.dimensionLimits.showOthers",inverted:true,defaultValue:false,show:function t(n,i){return"OTHER_OFF"!==e.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},othersLabel:{type:"string",expression:"optional",ref:"qDef.othersLabel",translation:"properties.dimensionLimits.othersLabel",defaultValue:function e(){return l.get("properties.dimensionLimits.others")},change:function e(t){if(t.qDef){var n=t.qDef.othersLabel||"";if("object"===o(n)){n=n.qStringExpression&&n.qStringExpression.qExpr||"";t.qOtherLabel={qv:0===n.indexOf("=")?n:"="+n}}else t.qOtherLabel={qv:n}}},show:function t(n,i){return!e.getValue(n,"qOtherTotalSpec.qSuppressOther")&&"OTHER_OFF"!==e.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},othersLabel2:{type:"string",component:"expression",expressionType:"StringExpr",ref:"qOtherLabel",translation:"properties.dimensionLimits.othersLabel",defaultValue:function e(){return l.get("properties.dimensionLimits.others")},show:false}}}}};h.measures={type:"array",component:"measures",translation:"Common.Measures",ref:"qHyperCubeDef.qMeasures",disabledRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",min:1,allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"properties.measures.add",grouped:true,items:{libraryId:{type:"string",component:"library-item",libraryItemType:"measure",ref:"qLibraryId",translation:"Common.Measure",show:function e(t){return t.qLibraryId}},inlineMeasure:{component:"inline-measure",show:function e(t){return!t.qLibraryId}},autoSort:{ref:"qDef.autoSort",type:"boolean",defaultValue:true,show:false},cId:{ref:"qDef.cId",type:"string",show:false},numberFormatting:{type:"items",items:{numberFormattingType:{type:"string",component:"custom-formatter-dropdown",ref:"qDef.qNumFormat.qType",translation:"properties.numberFormatting",defaultValue:"U",schemaIgnore:true,options:[{value:"U",translation:"Common.Auto"},{value:"F",translation:"properties.numberFormatting.types.number"},{value:"M",translation:"properties.numberFormatting.types.money"},{value:"D",translation:"properties.numberFormatting.types.date"},{value:"IV",translation:"properties.numberFormatting.types.duration"},{value:"R",translation:"Common.Custom"},{value:"OFF",translation:"properties.numberFormatting.types.customFormatting"}],change:function e(t,n,i,r){s.setNumFmtPattern("qType",t.qDef.qNumFormat,r.localeInfo)}},numberFormattingMode:{type:"boolean",component:"switch",ref:"qDef.numFormatFromTemplate",translation:"properties.numberFormatting.formatting",defaultValue:true,options:[{value:true,translation:"properties.numberFormatting.simple"},{value:false,translation:"Common.Custom"}],show:function t(n){return["F","D","TS","T"].contains(e.getValue(n,"qDef.qNumFormat.qType"))}},numberFormattingTemplates:{type:"string",component:"number-formatter-dropdown",ref:"qDef.qNumFormat.qFmt",defaultValue:"#,##0",schemaIgnore:true,show:function t(n){var i=e.getValue(n,"qDef.qNumFormat.qType");return["F","D","TS","T"].contains(i)&&true===e.getValue(n,"qDef.numFormatFromTemplate",true)}},numDecimals:{type:"integer",ref:"qDef.qNumFormat.qnDec",translation:"properties.numberFormatting.nDec",defaultValue:2,schemaIgnore:true,min:0,max:14,show:false},numPrecisionDigits:{type:"integer",ref:"qDef.qNumFormat.qnDec",translation:"properties.numberFormatting.significantFigures",defaultValue:10,schemaIgnore:true,min:1,max:14,show:false},decimalSep:{type:"string",ref:"qDef.qNumFormat.qDec",translation:"properties.numberFormatting.dec",defaultValue:".",schemaIgnore:true,show:function t(n){var i=e.getValue(n,"qDef.qNumFormat.qType");return"R"===i},change:function e(t,n,i,r){s.setNumFmtPattern("qDec",t.qDef.qNumFormat,r.localeInfo)},invalid:function t(n){return e.getValue(n,"qDef.qNumFormat.qDec")===e.getValue(n,"qDef.qNumFormat.qThou")},readOnly:function e(t,n,i,r){return!m(t,r)}},thousandSep:{type:"string",ref:"qDef.qNumFormat.qThou",translation:"properties.numberFormatting.thousandSeparator",defaultValue:"",schemaIgnore:true,show:function t(n){var i=e.getValue(n,"qDef.qNumFormat.qType");return"R"===i},change:function e(t,n,i,r){s.setNumFmtPattern("qThou",t.qDef.qNumFormat,r.localeInfo)},invalid:function t(n){var i=e.getValue(n,"qDef.qNumFormat.qType");if("I"===i)return false;return e.getValue(n,"qDef.qNumFormat.qDec")===e.getValue(n,"qDef.qNumFormat.qThou")},readOnly:function e(t,n,i,r){return!m(t,r)}},format:{type:"string",component:"number-formatter",ref:"qDef.qNumFormat.qFmt",resetTranslation:"properties.numberFormatting.resetPattern",translation:"properties.numberFormatting.formatPattern",defaultValue:"",schemaIgnore:true,show:function e(t){return b(t)},change:function e(t){t.qDef.qNumFormat.qFmt=s.getNormalizedFormat(t.qDef.qNumFormat,t.qDef.qNumFormat.qFmt)},invalid:function e(t,n,i){if(["D","T","TS","IV"].contains(t.qDef.qNumFormat.qType))return false;var r="R"===t.qDef.qNumFormat.qType?t.qDef.qNumFormat.qDec:i.localeInfo["q"+("M"===t.qDef.qNumFormat.qType?"Money":"")+"DecimalSep"],o=new RegExp("(0|#)"+d.escapeRegExp(r)+"0*#*"),a=(t.qDef.qNumFormat.qFmt||"").split(";"),s=a[0].match(o),l=s&&s[0]?s[0].length-2:0,u=a[1]?a[1].match(o):null,c=u&&u[0]?u[0].length-2:0;return l>15||c>15}}}}}};function b(t){var n=e.getValue(t,"qDef.qNumFormat.qType");return["R","M","IV"].contains(n)||"U"!==n&&false===e.getValue(t,"qDef.numFormatFromTemplate",true)}h.reflines={type:"array",ref:"refLine.refLines",translation:"properties.referenceLines",itemTitleRef:"label",allowAdd:true,allowRemove:true,allowMove:true,add:function e(t,n){var i=u.initializeService("object."+u.getMatch(n.visualization||n.qInfo.qType));var r=i.getStyle("referenceLine.label.name","color");var o=u.currentPalette.indexOf(r);t.paletteColor={index:o,color:r}},addTranslation:"properties.referenceLines.add",items:{show:{ref:"show",translation:"Common.Show",type:"boolean",defaultValue:true},label:{ref:"label",translation:"Common.Label",type:"string"},paletteColor:{ref:"paletteColor",translation:"properties.color",type:"object",component:"color-picker",dualOutput:true,show:function t(n){if(!e.getValue(n,"paletteColor")){var i=u.resolveColor(e.getValue(n,"color"));var r={index:-1,color:i};e.setValue(n,"paletteColor",r)}return true}},expressionValue:{ref:"refLineExpr.value",translation:"properties.referenceLines.expression",type:"number",expression:"optional",expressionType:"ValueExpression",defaultValue:0,change:function e(t){var n=t.refLineExpr;"object"===o(n.value)?n.label={qStringExpression:{qExpr:n.value.qValueExpression.qExpr}}:n.label=""+n.value}},expressionLabel:{ref:"refLineExpr.label",translation:"properties.referenceLines.expression",type:"string",expression:"optional",expressionType:"StringExpression",defaultValue:"0",show:false}}};h.staticCalcCond={type:"items",items:{expr:{ref:"qHyperCubeDef.qCalcCond",type:"string",component:"expression",expressionType:"ValueExpr",translation:"properties.hyperCube.calcCond"},customErrorMessage:{ref:"qHyperCubeDef.customErrorMessage.calcCond",component:"textarea",defaultValue:"",type:"string",placeholderTranslation:"Object.ErrorMessage.CalculationCondition",translation:"properties.hyperCube.calcCondMessage",show:function t(n){var i=e.getValue(n,"qHyperCubeDef.qCalcCond");return i.qv&&""!==i.qv}}}};h.dataHandling={type:"items",translation:"properties.dataHandling",grouped:true,items:{suppressZero:{ref:"qHyperCubeDef.qSuppressZero",defaultValue:false,translation:"properties.hyperCube.showZero",type:"boolean",inverted:true},calcCond:{uses:"staticCalcCond"}}};h.calcCond={component:"calc-cond",ref:"qHyperCubeDef",schemaIgnore:true};h.colorsAndLegend={type:"items",translation:"properties.colorsAndLegend",grouped:true,items:{colors:{type:"items",items:{autoColor:{ref:"color.auto",type:"boolean",translation:"properties.colors",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},colorMode:{ref:"color.mode",type:"string",component:"dropdown",options:v.color.colorMode.options,defaultValue:"primary",show:v.color.colorMode.show,globalChange:function e(t,n){v.color.colorBy.globalChange(t,n,"qHyperCubeDef.")}},colorByDimension:{ref:"color.byDimDef",schemaIgnore:true,translation:"properties.colorBy.selectDimension",type:"object",defaultValue:{},component:"color-by-dropdown",libraryItemType:"dimension",show:v.color.colorBy.dimension.show,change:v.color.colorBy.dimension.change},colorByMeasure:{ref:"color.byMeasureDef",schemaIgnore:true,translation:"properties.colorBy.selectMeasure",type:"object",defaultValue:{},component:"color-by-dropdown",libraryItemType:"measure",show:v.color.colorBy.measure.show,change:v.color.colorBy.measure.change},colorByLabel:{type:"string",ref:"color.altLabel",schemaIgnore:true,translation:"Common.Label",expression:"optional",show:v.color.colorBy.label.show,change:v.color.colorBy.label.change},baseColors:{type:"items",items:{useBaseColor:{ref:"color.useBaseColors",type:"string",translation:"properties.useLibraryColors",component:"dropdown",show:v.color.baseColor.show,globalChange:function t(n){"byMultiple"===e.getValue(n,"color.mode","")&&"dimension"===e.getValue(n,"color.useBaseColors","")&&e.setValue(n,"color.useBaseColors","measure")},defaultValue:"off",options:function e(t,n){var i=[{value:"off",translation:"Common.None"}];v.color.baseColor.hasMeasureColor(n)&&v.color.baseColor.isSupported(t.visualization)&&i.push({value:"measure",translation:"Common.Measure"});v.color.baseColor.hasDimensionColor(n)&&"byMultiple"!==t.color.mode&&i.push({value:"dimension",translation:"Common.Dimension"});return i}},measureColor:{translation:"properties.libraryColors",component:"measure-color",show:v.color.baseColor.showColors}}},paletteColor:{ref:"color.paletteColor",translation:"properties.color",type:"object",component:"color-picker",readOnly:v.color.paletteColor.readOnly,dualOutput:true,show:v.color.paletteColor.show,defaultValue:v.color.paletteColor.defaultValue},useDimColVal:{ref:"color.useDimColVal",translation:"properties.libraryColors",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],show:v.color.useDimColVal.show},useMeasureGradient:{ref:"color.useMeasureGradient",translation:"properties.libraryColors",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],show:function e(t){return g(t)}},persistentColors:{ref:"color.persistent",translation:"properties.colorPersistence",type:"boolean",defaultValue:false,show:v.color.persistentColors.show,readOnly:v.color.persistentColors.readOnly},attributeExpression:{type:"string",component:"expression",expressionType:"measure",schemaIgnore:true,ref:"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0.qExpression",change:v.color.attributeExpression.change,globalChange:v.color.attributeExpression.globalChange,translation:"Common.Expression",show:v.color.attributeExpression.show},expressionIsColor:{ref:"color.expressionIsColor",translation:"properties.expressionIsColor",type:"boolean",defaultValue:true,show:v.color.expressionIsColor.show},expressionLabel:{type:"string",ref:"color.expressionLabel",translation:"Common.Label",change:v.color.expressionLabel.change,show:v.color.expressionLabel.show},colorSchemeMeasure:{ref:"color.measureScheme",type:"string",translation:"properties.colorScheme",component:"item-selection-list",defaultValue:e.getValue(u,"scales.0.propertyValue","sg"),items:v.helpers.getMeasureSchemeOptions,show:function t(n){return v.color.colorSchemeMeasure.show(n)&&(!g(n)||!e.getValue(n,"color.useMeasureGradient"))}},reverseScheme:{ref:"color.reverseScheme",translation:"properties.reverseColorScheme",type:"boolean",defaultValue:false,show:v.color.reverseScheme.show},colorSchemeDimension:{ref:"color.dimensionScheme",type:"string",translation:"properties.colorScheme",component:"item-selection-list",defaultValue:e.getValue(u,"dataPalettes.0.propertyValue","12"),items:v.helpers.getDimensionSchemeOptions,show:v.color.colorSchemeDimension.show},customRange:{type:"items",items:{autoMinMax:{ref:"color.autoMinMax",type:"boolean",translation:"properties.axis.range",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:v.color.customRange.autoMinMax.show},min:{ref:"color.measureMin",translation:"properties.axis.min",expression:"optional",type:"number",show:v.color.customRange.min.show,invalid:v.color.customRange.min.invalid},max:{ref:"color.measureMax",translation:"Common.Max",expression:"optional",type:"number",defaultValue:10,show:v.color.customRange.max.show,invalid:v.color.customRange.max.invalid}},show:v.color.customRange.show}}},legend:{show:v.legend.show,type:"items",items:{show:{ref:"legend.show",type:"boolean",translation:"properties.legend.show",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}]},dock:{type:"string",component:"dropdown",ref:"legend.dock",translation:"properties.legend.position",options:[{value:"auto",translation:"Common.Auto"},{value:"right",translation:"properties.dock.right"},{value:"bottom",translation:"Common.Bottom"},{value:"left",translation:"properties.dock.left"},{value:"top",translation:"Common.Top"}],defaultValue:"auto",show:v.legend.dock.show},showTitle:{ref:"legend.showTitle",translation:"properties.legend.showTitle",type:"boolean",defaultValue:true,show:v.legend.showTitle.show}}}}};h.data={type:"items",component:"hypercube-data",translation:"Common.Data",addTranslation:"Properties.AddData",allowAdd:true,items:{dimensions:h.dimensions,measures:h.measures}};h.layers={component:"layers"};return h}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={hasTimeTag:function e(t){return t&&t.qTags&&t.qTags.some(function(e){return["$date","$timestamp","$time"].indexOf(e)>=0})},isTimeDimension:function e(t,n){if(!n||!t)return false;var i=this.hasTimeTag(n);return!!i||n.qNumFormat&&["D","TS","T"].contains(n.qNumFormat.qType)},maxNumberOfLines:12,maxNumberOfDataPoints:2e3};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t,n){var i={},r,o,a;switch(e){case"dimension":if(n.qLibraryId){i.type="dimension";i.name=n.qLibraryId;i.id=n.qLibraryId}else{i.type="field";if(t){i.name=n.label||n.qDef;i.id=n.qDef}else{r=n.qDef,o=!!r.qLabelExpression,a=r.qFieldLabels&&r.qFieldLabels[0];i.name=r.qFieldDefs[0];i.label=o?r.qLabelExpression:a?r.qFieldLabels[0]:r.qFieldDefs[0]}}break;case"measure":if(n.qLibraryId){i.type="measure";i.name=n.qLibraryId;i.id=n.qLibraryId}else{i.type="expression";if(t){i.name=n.label||n.qExpression;i.id=n.qExpression}else{r=n.qDef,o=!!r.qLabelExpression,a=!!r.qLabel;i.name=r.qDef;i.label=o?r.qLabelExpression:a?r.qLabel:r.qDef}}break;default:throw new Error("Default-property-logic.js: getColorByDefinition: Illegal input")}return i}return{getColorByDefinition:e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(205),n(90),n(89),n(650),n(657),n(142),n(424),n(225),n(103),n(658)],r=function(e,t,n,i,r,o,a,s,l){var u;function c(e,t,i,r){a.begin();return e.updateData(i.layout).then(function(){if(!t.isDestroyed&&r.visible){var o=e.$element;i.ext.hasDefaultTemplate()&&(o=o.children().first());return e.paint(o,i.layout)}return n.resolve()}).finally(a.end).catch(function(e){l.trackEvent(l.customEvents.EXTENSION_PAINT_ERROR,{message:"string"===typeof e?e:e.message,stack:e.stack,extension:i.object&&i.object.type?i.object.type.type:"undefined",isThirdParty:i.object&&i.object.type&&i.object.type.libraryInfo.isThirdParty})})}u=e.extend({$scope:null,$element:null,api:null,view:null,_create:function e(n,i,o,a,s,l,u,c){a.navigation=false!==a.navigation;var d=this._createView(n,i,o,a,l,u,c);var f=new r;if(s.selections){var p=t.extend(true,{},s.selections,a.selections||{});false!==a.selections&&true!==a._disableSelections&&this._createSelections(d,n,i,p,f)}s.tooltips&&false!==a.tooltips&&this._createTooltip(d,n,i,t.extend(true,{},s.tooltips,a.tooltips||{}),f,a.cssTransform,c);return d},_createView:function e(t,n,i,r,o,a,s){return new i(t,n,r,o,a,s)},_createSelections:function e(t,n,i,r,o){var a=this.selectionService.createSelections(n,i,r,o);t.setSelections(a);return a},_createTooltip:function e(t,n,r,o,a,s,l){var u=new i(r,o,a);u.setCssTransform(s);l.cancel=function(){u.cancel()};t.setTooltips(u)},init:function e(t,n,i){this.$scope=t;this.$element=n;this.selectionService=i;var r=this;var o=this._create(t,n,t.ext.View,t.options,t.ext.options,t.backendApi,t.selectionsApi,t.tooltipApi);this.view=o;o.initialize();this._handleSpecialCaseForSyntaxSugarInExtension(o);o.mounted(n);t.$on("$destroy",function(){if(o){o.beforeDestroy();o.destroy(o);t.options=null;r.view=null;r.isDestroyed=true;o=null}})},_handleSpecialCaseForSyntaxSugarInExtension:function e(t){var n=this.$scope.object.ext,i=["View","constructor","options","init"],r;for(r in n){if(-1!==i.indexOf(r))continue;t[r]&&(t[r]=n[r])}},onPaint:function e(t,i){var r=this.view;var a=this.$scope;var s=this;var l=a.object&&a.object.model;if(!r||r.suppressOnPaint(a.layout)||!l)return n.resolve();o.isModalSelectionModel(l)&&r.selectionsApi&&r.selectionsApi.confirm();r.refreshSelections();r.prePaint(a.layout);return a.ext.options&&a.ext.options.usingDerivedProperties&&!a.backendApi.isSnapshot?l.getEffectiveProperties().then(function(e){return r.updateDerivedProperties(e,a.layout).then(function(e){return e?n.resolve(false):c.call(this,r,s,a,i)})}).catch(function(e){false}):c.call(this,r,s,a,i)},onResize:function e(t,i){var r=this.view;var o=this.$scope;r.refreshSelections();return n.resolve().then(function(){var e=r.$element;o.ext.hasDefaultTemplate()&&(e=e.children().first());return r.resize(e,t,i)}).catch(function(e){false})},setInteractionState:function e(t){this.view&&this.view.setInteractionState(t)},setFreeResize:function e(t){this.view&&this.view.setFreeResize(t)},setDirection:function e(t){this.view&&this.view.setDirection(t)},setBackendApi:function e(t){this.view.setBackendApi(t)},setSnapshotData:function e(t,n){return this.view.setSnapshotData(t,n)},getContextMenu:function e(t,n,i){return this.view.getContextMenu(t,n,i)},getSelectionToolbar:function e(){var t=this.view.getSelectionToolbar();if(Array.isArray(t))return new s(this.$scope.backendApi,this.$scope.selectionsApi,false,false,t,[]);return t},getViewState:function e(){return this.view.getViewState()},getPreferredSize:function e(){return this.view.getPreferredSize()}});u.$inject=["$scope","$element","qvDefaultViewSelectionService"];return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(48),n(91),n(89),n(314),n(217),n(751),n(388),n(126),n(262),n(90)],r=function(e,t,n,i,r,a,s,l,u,c){function d(e,t){return e.getProperties().then(function(n){return e.destroyAllChildren({qInfo:n.qInfo,qExtendsId:t})})}function f(){s.load().then(function(e){e.openSection(l.sectionIDs.visualization)})}function p(e,t){return e.getProperties().then(function(n){n.qMetaDef={title:t.name,description:t.description,tags:t.tags};"object"===o(t.descriptionExpression)&&(n.descriptionExpression=t.descriptionExpression);t.labelExpression&&(n.labelExpression=t.labelExpression);n.masterVersion=.96;return e.setProperties(n)})}function h(e,t){var n={qInfo:{qType:"masterobject"}};return i.create(n).then(function(n){return n.copyFrom(e.qInfo.qId).then(function(){return p(n,t)}).then(function(){return n})})}function v(t){t.getVisualization().then(function(t){var i=t.model;return n.all({props:i.getProperties(),layout:i.getLayout()}).then(function(t){var n=t.props;var o=t.layout;r.addMetadata({qMetaDef:{title:o.title,description:"",tags:[]},onSave:function t(r){h(n,r).then(function(t){d(i,t.id).then(function(){e.$rootScope.$emit("clearUndo")})});f()}})})})}function m(){u.show({title:t.get("Object.Linked.NoEditDialog.Title"),message:t.get("Object.Linked.NoEditDialog.Message")})}function g(n){var i=t.get("Object.Linked.BreakLinkDialog.Text");var r="<div class='link-object-dialog-content'><div class='link'><span class='link-icon  lui-icon  lui-icon--link'></span></div><div class='text'>"+i+"</div></div>";var o=e.getService("qvConfirmDialog").show({message:r});o.closed.then(function(e){e&&a.breakLink(n)})}function b(e){return"auto-chart"!==e}function y(e){var t=c.getValue(e,"model.properties.qStateName");return null===t||void 0===t||""===t}function x(e,t){var i=!e.object.isInvalid&&"auto-chart"!==e.object.ext.type&&t.permissionToCreate("visualization")&&!e.object.isLink&&b(e.object.type.type);if(!i)return n.resolve(i);if(Object.keys(e.model.properties).length)return n.resolve(y(e));return e.model.getProperties().then(function(){return y(e)})}return{typeSupportsMasterVisualizations:b,canAddToMasterItems:x,addObjectInCellToLibrary:v,showNotEditableDialog:m,showBreakLinkDialog:g}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(108),n(89),n(752),n(753),n(133),n(192),n(93),n(112),n(157),n(124),n(824),n(318),n(826)],r=function(e,t,n,i,r,o,a,s,l,u,c,d){var f=false;function p(e,t,n){var r=i.createTemplateTab(e);var o=i.createFieldTab(e);var a=i.createMasterItemsTab(e);var s=i.createWidgetTab(e,t,u.load());var l=[o,a,r,s];if(f){var c=i.createODAGTab(e,n);l.push(c)}return l}function h(e,t,n){var r=i.createTemplateTab(e);var o=i.createMasterItemsTab(e);var a=i.createWidgetTab(e,t,u.load());if(f){var s=i.createODAGTab(e,n);return[o,r,a,s]}return[o,r,a]}function v(){var e=[];var n=new t;c.getList().then(function(i){i.forEach(function(t){t.widgetPromises=[];t.data.widgets&&(t.widgetPromises=t.data.widgets.map(function(e){return d.get(e,false,t.id)}));e.push(t)});t.all(i.map(function(e){return b(e,e.widgetPromises)})).then(function(){n.resolve(e)})});return n.promise}function m(e){return r.isODAGAvailable().then(function(t){return t?r.canCreateLink(e):{canCreateLinks:false}})}function g(e){return r.isODAGAvailable().then(function(t){return!!t&&r.canCreateLink(e).then(function(e){return!!e.canCreateLinks||o.getList().then(function(e){return e.getLayout().then(function(e){return e.length>0})})})})}function b(e,n){return t.all(n).then(function(t){e.resolvedWidgets=t})}function y(e){return l.load(e).then(function(){l.isVariableDefined("DISABLE_AUTO_CHART")&&u.removeExtension("auto-chart")})}var x;function w(){return a.getApp().then(function(i){return t.all({loadAppVariables:y(i),appLayout:i.getLayout(),odagLinkPermissions:m(i),canShowODAGAssetsTab:g(i),types:u.load(true)}).then(function(t){var r=t.appLayout;var o=(e.isPersonalModeSync()||!r.published)&&r.permissions.update;f=t.canShowODAGAssetsTab;var a={createOdagLink:t.odagLinkPermissions.canCreateLinks&&r.permissions.update};s.init(r.permissions,a);var l=new n;l.fullMode=o;l.permissionToCreate=s.permissionToCreate;l.widgetLibraries=t.widgetLibraries;var u;u=o?p(l,v(),i):h(l,v(),i);l.setTabs(u);return l})})}function S(){x||(x=w());return x}return{load:S,loadAppVariables:y}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(285)],r=function(e){var t="dmv-zoom-level";var n=.1;var i=2;var r=.2;var o=1;var a=o;function s(e){if("number"!==typeof e)throw new Error('"'+e+'" is not a number.');return Math.floor(10*e)/10}function l(){return s(a)}function u(){a+=n;a>i&&(a=i);v()}function c(){a-=n;a<r&&(a=r);v()}function d(){return a<i}function f(){return a>r}function p(e){a=e;a<r&&(a=r);a>i&&(a=i);v()}function h(n){e.addObserver(t,n)}function v(){e.notifyAll(t,l())}function m(){return l()!==o}return{getCurrentZoomLevel:l,zoomIn:u,zoomOut:c,canZoomOutMore:f,canZoomInMore:d,onZoomLevelChanged:h,setZoomLevel:p,roundToOneDecimal:s,canBeRestored:m,MAX_ZOOM_LEVEL:i,MIN_ZOOM_LEVEL:r,RESTORED_ZOOM_LEVEL:o,INCREMENTAL_STEP:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(846),n(97)],r=function(e,t){return{template:e,controller:["$scope",function(e){function n(){e.onClose()}e.$on("$destroy",function(){t.off("start",n)});t.on("start",n)}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96),n(91),n(506),n(390),n(847)],r=function(e,t,n,i,r,o){return{type:"invalid",template:o,definition:{type:"items",items:{}},support:{exportData:false},getContextMenu:function e(){},hasError:function e(){return false},showRequirements:function e(){return false},getCreatePropertyHandler:function e(t){return new i({app:t})},getDropFieldOptions:function e(){},getDropDimensionOptions:function e(){},getDropMeasureOptions:function e(){},controller:["$scope","luiPopover",function(i,o){var a=i.object.error,s=n.get(a.title),l;l=Array.isArray(a.message)?n.get(a.message[0],a.message.slice(1)):n.get(a.message);i.error={title:s,message:l};i.showButton=i.options&&"function"===typeof i.options.removeIt;i.remove=function(e){i.options.removeIt();e.stopPropagation()};i.showMore=function(n){o.show({template:r.template,controller:r.controller,alignTo:e(n.target)[0],input:{error:i.error,onClose:function e(){t.preventGestures()}}})}}]}}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-focus",[]);t.directive("qvaFocus",["$timeout",function(e){return{restrict:"A",link:function t(n,i,r){n.$watch(r.qvaFocus,function(t){true===t&&e(function(){i[0].focus()})},true)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(252)],r=function(e,t){var n,i=Math.max,r=Math.min,o=t.retriveColor(13816530);function a(e,t,n){var o;e=r(i(e,1e-12),.999999999999);if(n){var a=0;while(a<n.length&&n[a]<=e)a++;o=n.length-(a+(e-n[a-1])/(n[a]-n[a-1]))}else o=t-e*t;return o}function s(e){e=e||this._startLevel;return r(e,this._colorParts.length-1)}function l(e){e.forEach(function(e){e.forEach(function(e){e.reverse()});e.reverse()})}n=e.extend({init:function e(){this._colorParts=[];this._startLevel=0;this._reverse=false;this._max=1;this._min=0;this._span=1;this._invalidSpan=false},addColorPart:function e(n,r,o){o=o||0;this._startLevel=i(o,this._startLevel);this._colorParts[o]||(this._colorParts[o]=[]);this._colorParts[o].push([t.retriveColor(n),t.retriveColor(r)])},setLimits:function e(t){if(!t){this._limits=null;this._expandedLimits=null;return}this._limits=t;this._expandedLimits=[0].concat(t,[1])},setMaxMinValues:function e(t,n){if(!(t>=n)||Number.isNaN(+t)||Number.isNaN(+n))throw new Error("Incorrect arguments to color-scale->setMaxMinValues");this._max=t;this._min=n;this._span=t-n},setReverse:function e(t){if(this._reverse!==t){this._reverse=t;l(this._colorParts)}},getColor:function e(n,i){var r,l,u,c,d,f,p;var h=0===this._span?.5:(n-this._min)/this._span;if(Number.isNaN(+n)||Number.isNaN(+h))return o;i=s.apply(this,[i]);r=a(h,this._colorParts[i].length,this._expandedLimits);l=Math.floor(r);l=l===r?l-1:l;c=this._colorParts[i][l];d=c[0];f=c[1];if(n===this._min)return f;if(n===this._max)return d;u=r-l;p=t.retriveBlend(d,f,u);return p},getColors:function e(t){var n=[],i;for(i=0;i<t.length;i++)n.push(this.getColor(t[i]));return n},getSegmentIndex:function e(t){var n=s.call(this);var i=a(t,this._colorParts[n].length,this._expandedLimits);var r=Math.floor(i);r=r===i?r-1:r;return r},getLegendParts:function e(t){var n=[],i,r,o;t=s.apply(this,[t]);r=this._colorParts[t].length;for(i=0;i<r;++i){o=this._colorParts[t][i];var a={grad:o,color:o[0],solid:o[0]===o[1],index:i};this._expandedLimits&&(a.limits=[this._expandedLimits[r-i-1],this._expandedLimits[r-i]]);n.push(a)}return n}});n._limitFunction=a;return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(414)],r=function(e){var t=function e(){this.globalDefaults={enableQVDCaching:true}};t.prototype.get=function(){var t=this;return e.getService("qvDataManagerAppStorageService").get("globalDefaults").then(function(e){return e||t.set().then(function(){return t.globalDefaults})})};t.prototype.set=function(t){return e.getService("qvDataManagerAppStorageService").set("globalDefaults",t||this.globalDefaults)};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-dialog error-dialog" on-close-view="closeView( $event )" qv-escape="handleEscButton( $event )" ng-style="modalStyle" tid="errorDialog">\n\t<div class="lui-dialog__header">\n\t\t<div class="lui-dialog__title" ng-if="title" q-translation="{{title}}"></div>\n\t</div>\n\t<div class="lui-dialog__body dm-main">\n\n\t\t<main ng-if="!html">{{content | translate}}</main>\n\t\t<main ng-if="html" class="qv-appname"></main>\n\n\t</div>\n\n\t<div class="lui-dialog__footer">\n\t\t<lui-button qv-delayed-dialog-button ng-if="!buttons.length && showDefaultButton" ng-click="closeModal( $event, true );" qva-focus="true"\n\t\t\t\t\tq-translation="Common.OK" tid="confirm"></lui-button>\n\t\t<lui-button qv-delayed-dialog-button ng-repeat="button in buttons" qva-focus="button.defaultButton" ng-click="closeModal( $event );" ng-disabled="button.expression === false"\n\t\t\t\t\tq-translation="{{button.name}}" tid="{{button.tid}}"></lui-button>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=function e(t){return window.setTimeout(t,1e3/60)},t=function e(t){return window.clearTimeout(t)},n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||e,i=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.msCancelAnimationFrame||t;return{request:n===e?e:n.bind(window),cancel:i===t?t:i.bind(window)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(89),n(446),n(178),n(187)],r=function(e,t,n,i,r){var o={getAggregationForExpression:a,getAggregationForFieldItem:s};return o;function a(t,r,o){if(!t||!e.isString(t))throw new Error("Aggregation-retriever: Expression must be a string");if(!r)throw new Error("Aggregation-retriever: App is required");if(!o||!e.isFunction(o))throw new Error("Aggregation-retriever: FindFieldFn is required");var a=i.getNormalizedExpression(t);if(n.has(a))return l(a);var s=r.getFieldList().then(function(e){var t=o(a,e),n=t?u(t):c();return d(n)});return s}function s(e){if(!e)throw new Error("Aggregation-retriever: FieldItem is required");if(!e.value&&!e.name&&!e.qName)throw new Error("Aggregation-retriever: Either FieldItem.value, FieldItem.name or FieldItem.qName is required");var r=e.value||e.name||e.qName,o=i.getNormalizedExpression(r);if(n.has(o))return l(o);var a=u(e);return t.when(d(a))}function l(e){var i=n.get(e);return t.when(d(i))}function u(e){if(e.defaultAggregation)return e.defaultAggregation;var t=e.qTags||[];return t.indexOf("$numeric")>-1?"Sum":"Count"}function c(){return r.FALLBACK_FUNCTION}function d(e){return i.getFormattedAggregation(e)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(101),n(185),n(216)],r=function(e,t,n){var i=t.getLogicFor("explore","default");var r,o,a,s,l;l={translation:"properties.data",type:"items",component:"hypercube-data",icon:"database",items:{dimensions:{ref:"qHyperCubeDef.qDimensions",alternativeRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions",translation:"Common.Dimensions",type:"items"},measures:{ref:"qHyperCubeDef.qMeasures",alternativeRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",translation:"Common.Measures",type:"items"}}};r={translation:"properties.sorting",type:"items",component:"sort",sortIndexRef:"qHyperCubeDef.qInterColumnSortOrder",icon:"ascending",items:{dimensions:{ref:"qHyperCubeDef.qDimensions",type:"items",items:{sortOptions:{component:"radio-list",type:"number",diffs:["qDef.qSortCriterias.0.qSortByExpression","qDef.qSortCriterias.0.qSortByNumeric","qDef.qSortCriterias.0.qSortByAscii"],options:function e(){return[{value:1,translation:"properties.sorting.ascending"},{value:-1,translation:"properties.sorting.descending"}]},setPropertyValue:function t(n,i){e.setValue(n,"qDef.autoSort",false);e.setValue(n,"qDef.qSortCriterias.0.qSortByExpression",0);e.setValue(n,"qDef.qSortCriterias.0.qSortByNumeric",0);e.setValue(n,"qDef.qSortCriterias.0.qSortByAscii",i)},getValue:function t(n){return 0===e.getValue(n,"qDef.qSortCriterias.0.qSortByExpression",0)&&0===e.getValue(n,"qDef.qSortCriterias.0.qSortByNumeric",0)?e.getValue(n,"qDef.qSortCriterias.0.qSortByAscii",0):0}}}},measures:{ref:"qHyperCubeDef.qMeasures",type:"items",items:{sortOptions:{component:"radio-list",type:"number",ref:"qSortBy.qSortByNumeric",options:function e(){return[{value:1,translation:"properties.sorting.ascending"},{value:-1,translation:"properties.sorting.descending"}]}}}}}};o={component:"items",translation:"properties.colorsAndLegend",icon:"palette",grouped:true,items:{mode:{component:"radio-list",type:"string",options:i.color.colorMode.options,diffs:["color.mode","color.auto"],setPropertyValue:function e(t,n){if("auto"===n)t.color.auto=true;else{t.color.auto=false;t.color.mode=n}i.color.colorBy.globalChange(t,null,"qHyperCubeDef.")},getValue:function e(t){return t.color.auto?"auto":t.color.mode}},dimension:{type:"items",show:function e(t){return!t.color.auto&&"byDimension"===t.color.mode},items:{colorScheme:{translation:"properties.colorScheme",type:"string",component:"item-selection-list",horizontal:true,showLabels:false,ref:"color.dimensionScheme",items:i.helpers.getDimensionSchemeOptions,show:function e(t,r){if(t.color&&"byDimension"===t.color.mode&&t.color.useDimColVal&&i.color.useDimColVal.show(t))return false;if(1===n.getNumDimensions(t)&&n.getNumMeasures(t)<=1){var o=n.getDimensionLayouts(r)[0];return!(o&&o.qCardinal<=12)}return n.getNumMeasures(t)<=1||n.getNumMeasures(t)>12}},persistentColors:{ref:"color.persistent",translation:"properties.colorPersistence",type:"boolean",show:function e(t){return n.getNumMeasures(t)<=1&&n.getNumDimensions(t)<=1&&!(t.color&&"byDimension"===t.color.mode&&t.color.useDimColVal&&i.color.useDimColVal.show(t))},readOnly:i.color.persistentColors.readOnly}}},measure:{type:"items",show:function e(t){return!t.color.auto&&"byMeasure"===t.color.mode},items:{sequential:{component:"item-selection-list",translation:"properties.colorScheme",horizontal:true,showLabels:false,show:function e(t){return true!==t.color.useMeasureGradient},type:"string",ref:"color.measureScheme",items:i.helpers.getMeasureSchemeOptions}}},legend:{ref:"legend.show",type:"boolean",translation:"properties.legend.show",component:"switch",options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}],show:function e(t,n){return!t.color.auto&&i.legend.show(t,n)}}}};s={translation:"properties.presentation",type:"items",icon:"view",grouped:true,items:{}};return{data:l,sort:r,color:o,colorsAndLegend:a,presentation:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(104),n(226)],r=function(e,t){function n(t){var n=Number.MAX_VALUE,i=-Number.MAX_VALUE,r=Number.MAX_VALUE,o=-Number.MAX_VALUE,a=t?t.length:0,s,l;if(!a)return null;for(l=0;l<a;l++){s=t[l];i=s.x>i?s.x:i;n=s.x<n?s.x:n;o=s.y>o?s.y:o;r=s.y<r?s.y:r}return new e(n,r,i-n,o-r)}function i(){this._numPoints=this.points?this.points.length:0;this._closedPolygon=this._numPoints>1&&this.points[0].x===this.points[this._numPoints-1].x&&this.points[0].y===this.points[this._numPoints-1].y;this._closedPolygon?this._numLines=this._numPoints-1:this._numLines=this._numPoints;this._pointsChanged=true}function r(e){0===arguments.length?this.set([]):this.set(e);this._pointsChanged=true}r.prototype={clone:function e(){var t=this.points.map(function(e){return e.clone()});return new r(t)},set:function e(t){this.points=t;i.call(this)},getPoints:function e(){return this.points},getNumPoints:function e(){return this.points?this.points.length:0},addPoint:function e(t){this.points.push(t);i.call(this)},pointInside:function e(t,n){this.calculateBounds();if(!this._bounds)return false;if(t<this._bounds.x||t>this._bounds.x+this._bounds.width||n<this._bounds.y||n>this._bounds.y+this._bounds.height)return false;var i,r,o,a,s;for(i=false,a=-1,r=this.points.length,o=r-1;++a<r;o=a){if(this.points[a].x===t&&this.points[a].y===n)return true;if(this.points[a].y===this.points[o].y&&this.points[a].y===n&&(t-this.points[a].x)*(t-this.points[o].x)<=0)return true;if(this.points[a].y<n&&n<=this.points[o].y||this.points[o].y<n&&n<=this.points[a].y){s=(this.points[o].x-this.points[a].x)*(n-this.points[a].y)/(this.points[o].y-this.points[a].y)+this.points[a].x;if(t===s)return true;t<s&&(i=!i)}}return i},intersectsLine:function e(n){if(!n)return false;if(this.pointInside(n.x1,n.y1)||this.pointInside(n.x2,n.y2))return true;var i,r;if(0===this._numPoints)return false;if(1===this._numPoints){if(n.intersectsLine(new t(this.points[0].x,this.points[0].y,this.points[0].x,this.points[0].y)))return true;return false}r=this._numPoints-1;for(i=0;i<r;i++)if(n.intersectsLine(new t(this.points[i].x,this.points[i].y,this.points[i+1].x,this.points[i+1].y)))return true;if(!this._closedPolygon&&n.intersectsLine(new t(this.points[r].x,this.points[r].y,this.points[0].x,this.points[0].y)))return true;return false},intersectsLines:function e(t){var n,i=t?t.length:0;for(n=0;n<i;n++)if(this.intersectsLine(t[n]))return true;return false},intersectsRect:function e(n){if(!n)return false;this.calculateBounds();if(!this._bounds)return false;if(n.rectInside(this._bounds))return true;if(!this._bounds.intersectsWith(n))return false;var i,r,o,a,s;i=n.x;r=n.getRight();o=n.y;a=n.getBottom();if(this.pointInside(i,o)||this.pointInside(r,o)||this.pointInside(r,a)||this.pointInside(i,a))return true;s=[new t(i,o,r,o),new t(i,a,r,a),new t(i,o,i,a),new t(r,o,r,a)];return this.intersectsLines(s)},calculateBounds:function e(){if(this._pointsChanged){this._bounds=n(this.points);this._pointsChanged=false}return this._bounds},getBoundingRect:function e(){return this.calculateBounds()},translate:function e(t,n){if(!t&&!n)return;for(var i=0;i<this._numPoints;i++){this.points[i].x+=t;this.points[i].y+=n}this._pointsChanged=true},toString:function e(){var t,n="",i=this._numPoints-1;for(t=0;t<i;t++)n+=this.points[t].toString()+",";n+=this.points[i].toString();return n}};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(139),n(90),n(125),n(99),n(130),n(1016),n(148),n(161),n(91),n(218)],r=function(e,t,n,i,r,o,a,s,l,u){var c=100;function d(e,n){if(""===n)return e;return e.filter(function(e){if("undefined"===typeof e.value)return false;return t.string(e.value.toLowerCase()).indexOf(t.string(n.toLowerCase()))>-1})}var f={template:a,controller:["$scope",function(t){t.search={term:""};t.isDirectDiscoveryField=s.isDirectDiscoveryField;t.getDirectDiscoveryTypeTranslationKey=s.getTypeTranslationKey;t.autoFocus=r.treatAsDesktop();t.position||(t.position="right");t.onEscape=function(e){if(""!==t.search.term){e.stopPropagation();t.search.term=""}else t.close()};t.onEnter=function(e){if(""!==t.search.term){e.stopPropagation();t.addExpressionMeasure({value:t.search.term})}else t.close()};t.showFromField=function(e){t.currentField=e;t.step2=true};t.goBack=function(e){e.preventDefault();t.currentField=null;t.step2=false};t.$watch("currentField",function(e){t.fieldSuggestions=e?["Sum","Count","Avg","Min","Max"].map(function(e){var i=n.escapeField(t.currentField.value);return{aggregation:e,field:i}}):[]});t.addFromField=function(e){var n=e.aggregation+"("+e.field+")";t.addExpressionMeasure({value:n})};t.getFieldDisplayName=function(e){return""===t.search.term?e.label:l.trimAutoCalendarName(e.value)};var a=null;t.$watch("search.term",function(n){function r(){var e=d(a.measures,n);var r=d(a.fields,n);var o=d(a.activeMeasures,n);if(e.length+o.length>c){e=i.limit(e,Math.max(c-o.length,0));r=[]}else e.length+o.length+r.length>c&&(r=i.limit(r,Math.max(c-e.length-o.length,0)));t.fields=r;t.measures=e;t.activeMeasures=o}a?r():e.all({fields:o.getSortedFields(t.app),measures:o.getSortedMeasures(t.app),activeMeasures:t.activeMeasures}).then(function(e){var t=e.fields.map(function(e){var t=e.isDerived&&""===n?e.qName.substring(e.qName.lastIndexOf(".")+1,e.qName.length):e.qName;return{toolTip:e.qName,value:e.qName,trimmedValue:e.displayName,label:t,field:e.qName,qTags:e.qTags,isDerived:e.isDerived,isDateField:e.isDateField,isGeoField:e.isGeoField,activeMeasureIndex:-1}});var i=e.measures.map(function(e){return{value:e.qData.title,label:e.qData.title,libraryId:e.qInfo.qId,activeMeasureIndex:-1}});var o=[];e.activeMeasures&&e.activeMeasures.length&&(o=e.activeMeasures.map(function(e,n){var r={};e.qLibraryId?i.forEach(function(t){if(t.libraryId===e.qLibraryId){r.value=t.value;r.label=t.label}r.libraryId=e.libraryId}):t.forEach(function(t){if(t.value===e.qDef.qDef){r.label=t.label;r.value=t.value}});r.translatedTitle=u.get("properties.colorBy.currentMeasure",n+1);r.activeMeasureIndex=n;return r}));a={fields:t,measures:i,activeMeasures:o};r()})})}],scope:{alignTo:"=",app:"=",addExpressionMeasure:"=",addLibraryMeasure:"=",addActiveMeasure:"=",close:"=",qvaOutsideIgnoreFor:"=",position:"=",allowExpressionEditor:"@"}};return f}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(1017)],r=function(e){var t={create:n};return t;function n(){return new e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={barchart:{static:"faded_bar.svg",animation:"sweep_bar.json"},boxplot:{static:"faded_box_plot.svg",animation:"sweep_box_plot.json"},combochart:{static:"faded_combo.svg",animation:"sweep_combo.json"},default:{static:"faded_default.svg",animation:"sweep_default.json"},distributionplot:{static:"faded_distribution.svg",animation:"sweep_distribution.json"},filterpane:{static:"faded_filter_pane.svg",animation:"sweep_filter_pane.json"},gauge:{static:"faded_gauge.svg",animation:"sweep_gauge.json"},histogram:{static:"faded_histogram.svg",animation:"sweep_histogram.json"},kpi:{static:"faded_kpi.svg",animation:"sweep_kpi.json"},linechart:{static:"faded_line.svg",animation:"sweep_line.json"},map:{static:"faded_map.svg",animation:"sweep_map.json"},piechart:{static:"faded_pie.svg",animation:"sweep_pie.json"},"pivot-table":{static:"faded_pivot_table.svg",animation:"sweep_pivot_table.json"},scatterplot:{static:"faded_scatter.svg",animation:"sweep_scatter.json"},table:{static:"faded_table.svg",animation:"sweep_table.json"},"text-image":{static:"faded_text_image.svg",animation:"sweep_text_image.json"},treemap:{static:"faded_tree_map.svg",animation:"sweep_tree_map.json"},waterfallchart:{static:"faded_waterfall.svg",animation:"sweep_waterfall.json"}};function t(t){var i=e[t]?e[t].static:e["default"].static;return n.p+"assets/images/charts/"+i}function i(t){var i=e[t]?e[t].animation:e["default"].animation;return n.p+"assets/images/charts/animations/"+i}return{getImageNameFromChartType:t,getLoadingImageAnimationUrlFromChartType:i}}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,function(e,t,n){"use strict";function i(){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__||"function"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)return;false;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}true;i();e.exports=n(1336)},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e,t=1e-12;e={checkPointsCoincident:function e(t,n){if(t.x===n.x&&t.y===n.y)return true;return false},checkPointOnLineSegment2:function n(i,r,o){var a,s,l,u;a=o.x-r.x;s=o.y-r.y;if(0===a){if(0===s)return e.checkPointsCoincident(i,r);if(i.x!==r.x)return false;l=(i.y-r.y)/s;if(l>=0&&l<=1)return true;return false}if(0===s){if(i.y!==r.y)return false;l=(i.x-r.x)/a;if(l>=0&&l<=1)return true;return false}l=(i.x-r.x)/a;u=(i.y-r.y)/s;if(l>=0&&l<=1&&Math.abs(l-u)<t)return true;return false},checkPointOnLineSegment:function t(n,i){return e.checkPointOnLineSegment2(n,i[0],i[1])},checkLineSegmentIntersectingLineSegment2:function t(n,i,r,o){var a,s,l,u,c,d,f,p,h,v,m,g,b;a=i.x-n.x;s=i.y-n.y;l=o.x-r.x;u=o.y-r.y;c=n.x-r.x;d=n.y-r.y;h=u*a-l*s;f=l*d-u*c;p=a*d-s*c;if(0===h){if(0===f&&0===p){if(0===a){if(0===s)return e.checkPointOnLineSegment2(n,r,o);g=(r.y-n.y)/s;b=(o.y-n.y)/s}else{g=(r.x-n.x)/a;b=(o.x-n.x)/a}if(g<0&&b<0||g>1&&b>1)return false;return true}return false}v=f/h;m=p/h;if(v>=0&&v<=1&&m>=0&&m<=1)return true;return false},checkLineSegmentIntersectingLineSegment:function t(n,i){return e.checkLineSegmentIntersectingLineSegment2(n[0],n[1],i[0],i[1])},checkPointInsideRectDefinedByMaxMin:function e(t,n){return t.x>n.minX&&t.x<n.maxX&&t.y>n.minY&&t.y<n.maxY},checkPointInsideOrOnBoundaryOfRectDefinedByMaxMin:function e(t,n){return t.x>=n.minX&&t.x<=n.maxX&&t.y>=n.minY&&t.y<=n.maxY},checkLineSegmentIntersectingRectDefinedByMaxMin:function t(n,i){if(e.checkPointInsideOrOnBoundaryOfRectDefinedByMaxMin(n[0],i)||e.checkPointInsideOrOnBoundaryOfRectDefinedByMaxMin(n[0],i))return true;if(e.checkLineSegmentIntersectingLineSegment(n,[{x:i.minX,y:i.minY},{x:i.minX,y:i.maxY}]))return true;if(e.checkLineSegmentIntersectingLineSegment(n,[{x:i.maxX,y:i.minY},{x:i.maxX,y:i.maxY}]))return true;if(e.checkLineSegmentIntersectingLineSegment(n,[{x:i.minX,y:i.minY},{x:i.maxX,y:i.minY}]))return true;if(e.checkLineSegmentIntersectingLineSegment(n,[{x:i.minX,y:i.maxY},{x:i.maxX,y:i.maxY}]))return true;return false},checkPolylineIntersectingRectDefinedByMaxMin:function t(n,i){var r,o,a,s,l,u,c,d=0,f=1,p=1,h=n?n.length:0;if(0===h)return false;var v=function e(){return a<h};if(n[0].x>n[h-1].x){d=h-1;f=h-2;p=-1;v=function e(){return a>-1}}o=n[d];if(o.x>i.maxX)return false;if(o.x>=i.minX&&o.y>=i.minY&&o.y<=i.maxY)return true;r=o;for(a=f;v();a+=p){o=n[a];if(o.x>=i.minX&&o.x<=i.maxX&&o.y>=i.minY&&o.y<=i.maxY)return true;s=Math.min(r.x,o.x);if(s>i.maxX)return false;l=Math.max(r.x,o.x);if(l<i.minX){r=o;continue}u=Math.min(r.y,o.y);if(u>i.maxY){r=o;continue}c=Math.max(r.y,o.y);if(c<i.minY){r=o;continue}if(e.checkLineSegmentIntersectingRectDefinedByMaxMin([r,o],i))return true;r=o}return false},checkPolylinesIntersectingRectDefinedByMaxMin:function t(n,i){var r,o=n?n.length:0;for(r=0;r<o;r++)if(e.checkPolylineIntersectingRectDefinedByMaxMin(n[r],i))return true;return false},calculateBounds:function e(t){var n=Number.MAX_VALUE,i=-Number.MAX_VALUE,r=Number.MAX_VALUE,o=-Number.MAX_VALUE,a=t?t.length:0,s,l,u,c,d;if(0===a)return null;for(u=0;u<a;u++){s=t[u];l=s?s.calculateBounds():void 0;if(!l||Infinity===l.x)continue;c=l.getRight();d=l.getBottom();c>i&&(i=c);l.x<n&&(n=l.x);d>o&&(o=d);l.y<r&&(r=l.y)}return{x:n,y:r,width:i-n,height:o-r}},getLongitudeAdjustment:function e(t){return 360*Math.ceil(-t/360)},getColumnMaxValue:function e(t,n){var i=-Number.MAX_VALUE;t.forEach(function(e){e.forEach(function(e){i=Math.max(i,e[n])})});return i},getColumnMaxMinValues:function e(t,n){var i=-Number.MAX_VALUE,r=Number.MAX_VALUE;t.forEach(function(e){e.forEach(function(e){i=Math.max(i,e[n]);r=Math.min(r,e[n])})});return{min:r,max:i}},isDimensionInsideRange:function t(n,i,r,o){var a=e.getColumnMaxMinValues(n,i);return a.min>r&&a.max<o},getLongitudeAdjustmentForGeoArea:function t(n,i,r,o){var a=n.length;var s,l=[],u=[],c=-Number.MAX_VALUE;for(s=0;s<a;s++){u[s]=e.getColumnMaxValue(n[s],0);c=Math.max(c,u[s])}if(c<179)return false;for(s=0;s<a;s++)l[s]=u[s]<o&&e.isDimensionInsideRange(n[s],1,i,r)?e.getLongitudeAdjustment(u[s]):0;return l}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(93),n(440)],r=function(e,t){function n(e){return t.getApp().then(function(t){return t.id+"."+e})}function i(e){this.localStorageService=e}i.prototype.get=function(e){var t=this;return n(e).then(function(e){return t.localStorageService.get(e)})};i.prototype.set=function(e,t){var i=this;return n(e).then(function(e){i.localStorageService.set(e,t)})};i.prototype.remove=function(e){var t=this;return n(e).then(function(e){t.localStorageService.remove(e)})};e.service("qvDataManagerAppStorageService",["qvDataManagerLocalStorageService",function(e){return new i(e)}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(93),n(89),n(108),n(50)],r=function(e,t,n,i,r){e.service("qvAppDetailsService",["$q",function(e){var r;return{get:function a(){if(!r){r=e.defer();t.getApp().then(function(e){e.global.allowCreateApp().then(function(t){var a;e.getScriptEx().then(function(e){a=e.qMeta.privileges}).catch(function(e){a=false;e.isHandled=true}).then(function(){n.all([e.getLayout()]).then(function(n){var s=n[0];var l={app:{id:e.id,appTitle:s.qTitle,readOnly:s.qReadOnly,hasData:!!s.qHasData,hasScript:!!s.qHasScript,published:s.published},permissions:{createSheet:!s.qReadOnly&&s.permissions.createSheet,createApp:t,update:s.permissions.update,createBookmark:s.permissions.createBookmark,updateScript:i.isPersonalModeSync()&&!a||a&&-1!==a.indexOf("update")}};r.resolve(new o(l))})})})})}return r.promise}}}]);function o(e){this.model=e;this.events={onModelChanged:[]};var n=this;t.getApp().then(function(e){e.Invalidated.bind(function(){e.getLayout().then(function(e){n.model.app.appTitle=e.qTitle;n.model.app.readOnly=e.qReadOnly;n.model.app.hasData=e.qHasData;n.model.app.published=e.published;n.model.permissions.createSheet=!e.qReadOnly&&e.permissions.createSheet;n.model.permissions.update=e.permissions.update;n.events.onModelChanged.forEach(function(t){t&&t(n.model,e)})}).catch(function(e){var t=11e3;e.code===t&&(e.isHandled=true)})})})}o.prototype.appHasData=function(){return this.model.app.hasData};o.prototype.isDataManagerHidden=function(){return r.isSmallDevice||!this.model.permissions.createSheet||!this.model.permissions.update||!this.model.permissions.createApp||!this.model.permissions.updateScript};o.prototype.isScriptEditorHidden=function(){return r.isSmallDevice||!this.model.permissions.createSheet||!this.model.permissions.update||!this.model.permissions.updateScript};o.prototype.isDataModelViewerHidden=function(){return r.isSmallDevice||!this.model.permissions.createSheet||!this.model.permissions.update};o.prototype.isQDLEnabled=function(){return this.model.permissions.update&&this.model.permissions.updateScript&&!r.isSmallDevice&&this.model.permissions.createApp};o.prototype.bindOnModelChanged=function(e){this.events.onModelChanged.push(e)};o.prototype.unbindOnModelChanged=function(e){var t=this.events.onModelChanged.indexOf(e);t>=0&&this.events.onModelChanged.splice(t,1)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(){return[new RegExp("\\.csv$","i"),new RegExp("\\.txt$","i"),new RegExp("\\.tab$","i"),new RegExp("\\.qvo$","i"),new RegExp("\\.mem$","i"),new RegExp("\\.skv$","i"),new RegExp("\\.prn$","i"),new RegExp("\\.log$","i"),new RegExp("\\.xls$","i"),new RegExp("\\.xlw$","i"),new RegExp("\\.xlsx$","i"),new RegExp("\\.xlsm$","i"),new RegExp("\\.html$","i"),new RegExp("\\.htm$","i"),new RegExp("\\.php$","i"),new RegExp("\\.fix$","i"),new RegExp("\\.dat$","i"),new RegExp("\\.qvd$","i"),new RegExp("\\.qvx$","i"),new RegExp("\\.xml$","i"),new RegExp("\\.html$","i"),new RegExp("\\.kml$","i")]}function t(e){var t=e.split(".").pop();switch(t){case"xls":case"xlw":case"xlsx":case"xlsm":return n.p+"img/connector-logos/Excel48.png";case"csv":case"txt":case"tab":case"qvo":case"mem":case"skv":case"prn":case"log":return n.p+"img/connector-logos/Delimited48.png";case"qvd":return n.p+"img/connector-logos/QVD48.png";case"qvx":return n.p+"img/connector-logos/QVX48.png";case"xml":case"html":case"kml":return n.p+"img/connector-logos/AnyFile48.png";default:return n.p+"img/connector-logos/AnyFile48.png"}}var i=[{title:"scripteditor.flatfilechooser.files.tables",titleShort:"scripteditor.flatfilechooser.files.tablesShort",regexps:e()},{title:"scripteditor.flatfilechooser.files.delimited",titleShort:"scripteditor.flatfilechooser.files.delimitedShort",regexps:[new RegExp("\\.csv$","i"),new RegExp("\\.txt$","i"),new RegExp("\\.tab$","i"),new RegExp("\\.qvo$","i"),new RegExp("\\.mem$","i"),new RegExp("\\.skv$","i"),new RegExp("\\.prn$","i"),new RegExp("\\.log$","i")]},{title:"scripteditor.flatfilechooser.files.excel",titleShort:"scripteditor.flatfilechooser.files.excelShort",regexps:[new RegExp("\\.xls$","i"),new RegExp("\\.xlw$","i"),new RegExp("\\.xlsx$","i"),new RegExp("\\.xlsm$","i")]},{title:"scripteditor.flatfilechooser.files.html",titleShort:"scripteditor.flatfilechooser.files.htmlShort",regexps:[new RegExp("\\.html$","i"),new RegExp("\\.htm$","i")]},{title:"scripteditor.flatfilechooser.files.kml",titleShort:"scripteditor.flatfilechooser.files.kmlShort",regexps:[new RegExp("\\.kml$","i")]},{title:"scripteditor.flatfilechooser.files.fix",titleShort:"scripteditor.flatfilechooser.files.fixShort",regexps:[new RegExp("\\.fix$","i"),new RegExp("\\.dat$","i")]},{title:"scripteditor.flatfilechooser.files.qvd",titleShort:"scripteditor.flatfilechooser.files.qvdShort",regexps:[new RegExp("\\.qvd$","i")]},{title:"scripteditor.flatfilechooser.files.qvx",titleShort:"scripteditor.flatfilechooser.files.qvxShort",regexps:[new RegExp("\\.qvx$","i")]},{title:"scripteditor.flatfilechooser.files.xml",titleShort:"scripteditor.flatfilechooser.files.xmlShort",regexps:[new RegExp("\\.xml$","i"),new RegExp("\\.html$","i")]},{title:"scripteditor.flatfilechooser.files.all",titleShort:"scripteditor.flatfilechooser.files.allShort",regexps:[new RegExp(".*","i")]}];return{getAllTableFileFormats:e,getFileFilters:function e(){return i},getIconForFile:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(237),n(101)],r=function(e,t,n){var i="qHyperCubeDef";function r(e){if(!e||!e.orientation||t.isContinuousChart(e))return true;return"vertical"===e.orientation}function o(e,t){return t?t.getDimensionLayouts():e&&e.qHyperCubeDef?e.qHyperCubeDef.qDimensions.map(function(e){return e.qDef}):[]}function a(e,t){return t?t.getMeasureLayouts():e.qHyperCubeDef.qMeasures.map(function(e){return e.qDef})}function s(t,n){var i,a="y",s=o(t,n).map(function(e){return e&&e.qFallbackTitle?e.qFallbackTitle:""}).join(", ");r(n&&n.layout)&&(a="x");i=s?e.get("properties."+a+"AxisWithInfo",[s]):e.get("properties."+a+"Axis");return i}var l={left:"properties.dock.left",right:"properties.dock.right",bottom:"Common.Bottom",top:"Common.Top"};function u(e,t){return{ref:e+".dock",translation:"Common.Position",type:"string",component:"dropdown",defaultValue:"near",options:function e(n,i,o){var a,s;var u;if(t&&t.direction)u=t.direction;else{var c=r(o.layout);u=c&&t&&!t.major||!c&&t&&t.major?"y":"x"}if("x"===u){a=l.bottom;s=l.top}else{a=o.yMirrorMode?l.right:l.left;s=o.yMirrorMode?l.left:l.right}return[{value:"near",translation:a},{value:"far",translation:s}]},show:function t(n){return n[e]&&"none"!==n[e].show}}}function c(e,t,r){r=r||i;return n.getValue(t.properties,r+".qDimensions",[])[0]===e}return{isVertical:r,getDimensions:o,getMeasures:a,dimensionAxisLabelFn:s,getAxisDockProperties:u,dockStringMap:l,isFirstDimension:c}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(104)],r=function(e,t){var n,i=new t(0,0,0,0),r=new t(0,0,0,0);n=e.extend("StackedCubeSlicer",{init:function e(){this.pages=[]},get:function e(t){return t.map(function(e){return this.getPage(e)}.bind(this))},getPage:function e(n){var o,a,s=[],l;for(a=0;a<this.pages.length;a++){o=this.pages[a].qArea;i.set(n.qLeft,n.qTop,n.qWidth,n.qHeight);r.set(o.qLeft,o.qTop,o.qWidth,o.qHeight);l=r.intersection(i,true);s.push({coverage:l?l.clone():new t(0,0,0,0),idx:a});if(o.qLeft<=n.qLeft&&o.qLeft+o.qWidth>=n.qLeft+n.qWidth&&o.qTop<=n.qTop&&o.qTop+o.qHeight>=n.qTop+n.qHeight)return this._extract(n,this.pages[a])}s.sort(function(e,t){return t.coverage.width*t.coverage.height-e.coverage.width*e.coverage.height});if(s[0].coverage.height>0&&s[0].coverage.width>0)return this._extract(n,this.pages[s[0].idx]);return{qArea:{qTop:n.qTop,qLeft:n.qLeft,qWidth:0,qHeight:0},qData:[]}},destroy:function e(){this.clear()},isEmpty:function e(){return!this.pages||!this.pages[0]||!this.pages[0].qArea.qHeight||!this.pages[0].qArea.qWidth},clear:function e(){this.pages=[]},store:function e(t){this.pages=t},containsArea:function e(t){var n;for(var i=0;i<this.pages.length;i++){n=this.pages[i].qArea;if(n.qLeft<=t.qLeft&&n.qLeft+n.qWidth>=t.qLeft+t.qWidth&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight)return true}return false},contains:function e(t){if(!this.pages||!this.pages.length)return false;return 0===t.filter(function(e){return!this.containsArea(e)}.bind(this)).length},_extract:function e(t,n){i.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);r.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var o=i.intersection(r,true),a,s;if(!o)return{qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0},qData:[]};s=Math.max(0,t.qTop-n.qArea.qTop);var l=n.qData[0];var u=l.qSubNodes;a={};for(var c in l)l.hasOwnProperty(c)&&(a[c]="qSubNodes"===c?u.slice(s,s+o.height):l[c]);a.qUp+=s;a.qDown+=n.qArea.qHeight-o.height-s;return{qArea:{qTop:o.y,qLeft:o.x,qWidth:o.width,qHeight:o.height},qData:[a]}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(238),n(153),n(130),n(90)],r=function(e,t,n,i,r){var o=t.extend({init:function e(t){this._super(t)},minDimensions:function e(){return 1},maxDimensions:function e(){return 1},minMeasures:function e(){return 0},maxMeasures:function e(){return 0},autoSortDimension:function e(t){return n.autoSortDimension(t)},getDimensions:function e(){var t=this.properties.qListObjectDef.qDef;if((!t||!t.qFieldDefs||!t.qFieldDefs.length)&&!this.properties.qListObjectDef.qLibraryId)return[];return[this.properties.qListObjectDef]},addDimension:function e(t){var o=this;function a(){o.properties.qListObjectDef=r.extend(true,o.properties.qListObjectDef,t);"function"===typeof o.dimensionDefinition.add&&o.dimensionDefinition.add.call(null,t,o.properties,o)}return t.qLibraryId?this.app.getDimensionList().then(function(e){var r=i.findLibraryDimension(t.qLibraryId,e);r&&n.autoSortDimension(t,r.qData.info);a();return t}):this.app.getFieldList().then(function(e){var r=i.findField(t.qDef.qFieldDefs[0],e);r&&n.autoSortDimension(t,[r]);a();return t})},replaceDimension:function t(i,o){var a=this,s=r.extend(true,this.properties.qListObjectDef,o);n.autoSortDimension(o);if(o.qLibraryId){delete s.qDef.qFieldDefs;delete s.qDef.qFieldLabels}else delete s.qLibraryId;a.properties.qListObjectDef=s;return e.resolve(o)},removeDimension:void 0,getDimensionLayouts:function e(){return[this.getDimensionLayout()]},getDimensionLayout:function e(){return this.layout&&this.layout.qListObject&&this.layout.qListObject.qDimensionInfo?this.layout.qListObject.qDimensionInfo:""},getMeasures:function e(){return this.properties.qListObjectDef.qExpressions},getMeasureLayout:function e(){return this.layout&&this.layout.qListObject&&this.layout.qListObject.qExpressions&&this.layout.qListObject.qExpressions[0]?this.layout.qListObject.qExpressions[0].qExpr:""}});return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(421),n(89),n(48),n(104),n(342),n(225),n(123),n(101)],r=function(e,t,n,i,r,o,a,s){var l;function u(e){var t=s.getValue(e,"layout.qHyperCube.qDimensionInfo",[]);var n=t.length-1;var i=t[n]||{};var r=i.qIsOneAndOnlyOne||false;n>0&&r&&s.getValue(i,"qCardinalities.qHypercubeCardinal")>1&&(r=false);return r}l=e.extend("DefaultView",{$scope:null,$element:null,containerRect:null,options:null,selections:null,backendApi:null,activeDimensions:[0],selectedShapes:[],init:function e(t,n,i,r){this._super(t,n,i,r);t.selectValues=this.selectValues.bind(this)},on:function e(){this.selections&&this.selections.on();this.tooltips&&this.tooltips.on();this.options&&false===this.options.selections?this.selectionsEnabled=false:this.selectionsEnabled=true;this._on=true},off:function e(){this.selections&&this.selections.off();this.tooltips&&this.tooltips.off();this.selectionsEnabled=false;this._on=false},isOn:function e(){return this._on},suppressOnPaint:function e(t){if(this.$scope.object._forcePaint){this.$scope.object._forcePaint=false;return false}return t.qSelectionInfo&&t.qSelectionInfo.qInSelections},paint:function e(){return t.resolve()},destroy:function e(){this.$scope.selectValues=null;this._super()},initialize:function e(){this.selections&&this.initSelections();if(this.options){Number.isNaN(+this.options.interactionState)||null===this.options.interactionState||this.setInteractionState(this.options.interactionState);this.options.direction&&this.setDirection(this.options.direction)}this.tooltips&&this.initTooltips()},setSelections:function e(t){this.selections=t},initSelections:function e(){if(this.selections){this.selections._disableSelections=this.options._disableSelections;this.selections.types.dataArea.setComponent("dataArea",{rect:new i(0,0,this.$element.width(),this.$element.height())});if(!this.options._disableSelections){this.selections.Select.bind(function(e,t){this.onSelect(e,t)}.bind(this));this.selections.ToggleShape.bind(function(e){var t=this.selectedShapes.indexOf(e);-1!==t?this.selectedShapes.splice(t,1):this.selectedShapes.push(e);this.onToggleShape(e)}.bind(this));this.selections.Deactivated.bind(function(){this.selectedShapes=[]}.bind(this));this.selections.Clear.bind(function(){this.selectedShapes=[]}.bind(this))}}},setTooltips:function e(t){this.tooltips=t},initTooltips:function e(){},refreshSelections:function e(){if(!this.selections)return;this.containerRect=this.$element[0].getBoundingClientRect();this.selections.cache.clear()},onToggleShape:function e(t){t.$element[this.isSelected(t.value)?"addClass":"removeClass"]("selected")},onSelect:function e(t,n){if(!t.length)return;var i=this.selectedShapes.map(function(e){return e.value});i.length>0&&this.activeDimensions.length>0?this.backendApi.select(i,this.activeDimensions,n):1!==t.length||t[0].selected||this.backendApi.clearSelections()},onRangeSelect:function e(){},addToSelectionCache:function e(t,n){if(!this.selections)return;var o=this.containerRect,a=t[0].getBoundingClientRect(),s=new r(new i(a.left-o.left,a.top-o.top,a.right-a.left,a.bottom-a.top),false,n);s.$element=t;this.selections.cache.add(s)},isSelected:function e(t){return this.selectedShapes.filter(function(e){return e.value===t}).length},setSnapshotData:function e(){},getSelectionToolbar:function e(){var t=this;var n=[];if(!u(this.$scope)){n.push({name:"Tooltip.ToggleOnLassoSelection",tid:"selection-toolbar.toggleLasso",isIcon:true,buttonClass:"sel-toolbar-icon-toggle",iconClass:"lui-icon lui-icon--lasso",action:function e(){t.toggleLasso=!t.toggleLasso},isActive:function e(){this.name=t.toggleLasso?"Tooltip.ToggleOffLassoSelection":"Tooltip.ToggleOnLassoSelection";return t.toggleLasso},isDisabled:function e(){if(t.isLassoDisabled&&t.isLassoDisabled())return true;return false}});n.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function e(){this.selectionsApi.clear()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}})}return new o(this.$scope.backendApi,this.$scope.selectionsApi,false,false,n,[])},selectValues:function e(t,n,i){if(!this.selectionsEnabled)return;var r=this.$scope;if(!r.selectionsApi.active){var a=this;r.selectionsApi.confirm=function(){r.backendApi.endSelections(true);r.selectionsApi.deactivated()};r.selectionsApi.cancel=function(){r.backendApi.endSelections(false);r.selectionsApi.deactivated()};r.selectionsApi.deactivate=function(){this.deactivated()};r.selectionsApi.clear=function(){a.clearSelectedValues(a.$element);r.backendApi.clearSelections();r.selectionsApi.selectionsMade=false;a.selectedArrays={}};this.getSelectionToolbar=function(){var e=[];u(r)||e.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function e(){this.selectionsApi.clear()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}});return new o(this.$scope.backendApi,this.$scope.selectionsApi,false,false,e,[])};r.selectionsApi.activated();this.selectedArrays={}}this.$scope.selectionsApi.selectionsMade=true;this.selectedArrays[t]||(this.selectedArrays[t]=[]);if(i)for(var s=0;s<n.length;s++){var l=this.selectedArrays[t].indexOf(n[s]);-1===l?this.selectedArrays[t].push(n[s]):this.selectedArrays[t].splice(l,1)}else this.selectedArrays[t]=this.selectedArrays[t].concat(n);this.backendApi.selectValues(t,this.selectedArrays[t],false)},clearSelectedValues:function e(t){t.find(".selected").removeClass("selected")},setInteractionState:function e(t){this._interactionState=t;this._inEditState=t===a.EDIT;this._inAnalysisState=t===a.ANALYSIS;this._inAnalysisState&&!this._on?this.on():!this._inAnalysisState&&this._on&&this.off()},setDirection:function e(t){this.$scope.options.direction=t;this.options.direction=t;if(this.selections&&this.selections.options&&this.selections.options.range){this.selections.options.range.rtl="rtl"===t;this.selections.types.range.setDirection(t)}},inAnalysisState:function e(){return this._inAnalysisState},inEditState:function e(){return this._inEditState},getPreferredSize:function e(){}});Object.defineProperties(l.prototype,{toggleLasso:{set:function e(t){if(this.selections){this.selections.lassoEnabled=t;n.$apply(n.$rootScope,function(){this.options.lassoEnabled=t}.bind(this))}},get:function e(){return this.selections&&this.selections.lassoEnabled}}});return l}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(627),n(313),n(89)],r=function(e,t,n){var i=e.extend({init:function e(t,n,i,r){this.$scope=t;this.$element=n;this.options=i;this.backendApi=r},prePaint:function e(){},setFreeResize:function e(t){this.options.freeResize=t},setBackendApi:function e(t){this._dataView=void 0;this.backendApi=t},updateDerivedProperties:function e(){return n.resolve(false)},setInteractionState:function e(t){this.options.interactionState=t},setDirection:function e(t){this.options.direction=t},getContextMenu:function e(t,n,i){if(this._dataView&&this._dataView.toggled){var r=this._dataView.getObject();if(r)return r.getContextMenu(n,i)}},getViewState:function e(){return{}},getPreferredSize:function e(){},getDataViewObject:function e(){if(this._dataView)return this._dataView.getObject()},initDataView:function e(n){var i=this.backendApi.model;this._dataView||(this._dataView=new t(i.app,i,n))},toggleDataView:function e(){return this._dataView.toggle()},destroy:function e(){this._destroyed=true},cancel:function e(){},retry:function e(){}});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(198),n(89),n(265),n(331),n(101)],r=function(e,t,n,i,r){var o;function a(e,t,n,i){if(!e)return;t.snapshotData.object.origDataPages||(t.snapshotData.object.origDataPages=t.qHyperCube[i]);for(var r=0;r<n.length;r++){n[r].qHeight=Math.min(t.qHyperCube.qSize.qcy,n[r].qHeight);n[r].qTop=t.snapshotData.object.origDataPages[r].qArea.qTop}t.qHyperCube[i]=e.get(n)}function s(e){if("pivot-table"===e.visualization){this.responseProperty="qPivotDataPages";this.slicer=new i}else{if("table"!==e.visualization)return;this.slicer=new n}var t=e.snapshotData.object.origDataPages;t||(t=e.qHyperCube[this.responseProperty]);this.slicer.store(t.filter(function(e){return e}))}o=e.extend("SnapshotAPI",{init:function e(t){this.responseProperty="qDataPages";s.call(this,t.layout);this._super(t,t.layout.qListObject?"/qListObjectDef":"/qHyperCubeDef")},getData:function e(n){var i=t();if("map"===this.model.layout.visualization){var o=this.dataPath.split("/")[1],s=this.dataPath.split("/"),l=s[s.length-1];"polygon"===this.model.layout.layers[o].type&&"3"===this.model.layout.layers[o].version?i.resolve(this.model.layout.layers[o].geodata.qHyperCube[this.responseProperty]):i.resolve(this.model.layout.layers[o][l][this.responseProperty])}else{a(this.slicer,this.model.layout,n,this.responseProperty);var u=r.getValue(this.model.layout,(this.dataPath+"/"+this.responseProperty).replace(new RegExp("/","g"),"."));i.resolve(u)}return i.promise},getHyperCubeBinnedData:function e(){return t.resolve(this.model.layout.dataPages)},getHyperCubeContinousData:function e(){return t.resolve({qDataPages:this.model.layout.qHyperCube.qDataPages,qAxisData:this.model.layout.qHyperCube.qAxisData})},getSize:function e(){return r.getValue(this.model.layout,this.dataPath.replace(new RegExp("/","g"),".")).qSize},beginSelections:function e(){},endSelections:function e(){},clearSelections:function e(){},isSnapshot:true});return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(120),n(143),n(301),n(638)],r=function(e,t,n,i){function r(t,i){e.getList().then(function(e){e.getLayout().then(function(e){var r={approvedSheets:[],myPublishedSheets:[],privateSheets:[],communitySheets:[]};r=o(r,e);r.approvedSheets.sort(n.sortByRank);r.privateSheets.sort(n.sortByRank);n.sortByPublishedDate(r.myPublishedSheets,"publishTime");a(t,r,i)})})}function o(e,i){var r={userId:t.userId,userDirectory:t.userDirectory};i.forEach(function(t){n.filterApproved(t)?e.approvedSheets.push(t):n.filterMyPublishedCommunity(r)(t)?e.myPublishedSheets.push(t):n.filterPrivate(t)?e.privateSheets.push(t):n.filterCommunity(r)(t)&&e.communitySheets.push(t)});return e}function a(e,t,n){Object.keys(t).forEach(function(n){t[n].forEach(function(t){e.sheetId===t.qInfo.qId?t.isActive=true:t.isActive=false})});i.show({title:"SheetDialog.Sheet.SelectSheet",sheets:t,selectSheet:function t(n){e.$emit("sheetSelected",n)},sheetInformation:n?n.sheetInformation:""})}function s(e){var t={width:"94%",height:"98%",left:"1.5%",right:"1.5%",top:"0%","z-index":4};switch(e){case"align-left":t.width="75.5%";t.right="23%";break;case"align-center":t.width="94%";t.right="4,5%";break;case"align-right":t.width="75.5%";t.left="23%";break;default:break}return t}return{onSelectSheet:r,getPosition:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){var t=7500,n,i={pending:0,resetTime:void 0};var r={begin:o,end:a,hasPending:s};return r;function o(){n=n||e.getService("$timeout");i.pending++;i.resetTime&&n.cancel(i.resetTime);i.resetTime=n(l,t)}function a(){if(!i.pending)return;i.pending--}function s(){return i.pending>0}function l(){i.pending=0}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(190),n(1092),n(690),n(691),n(692),n(347),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(705),n(706),n(707),n(708),n(709)],r=function(){}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){var n={};return{get:function i(r){var o=r?t.resolve(r.enigmaModel):e.getApp();return o.then(function(e){return n[e.id]=n[e.id]||e.getUndoInfoObject()})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(462),n(464),n(467),n(472),n(475)],r=function(){}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";"undefined"===typeof Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{enumerable:false,get:function e(){var t=this.toString().match(/^function( (.*?))?\(/);return t&&t.length>=3?t[2]:"anonymous function"}});Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function e(){},r=function r(){return n.apply(this instanceof i&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};i.prototype=this.prototype;r.prototype=new i;return r});Array.prototype.contains||Object.defineProperty(Array.prototype,"contains",{enumerable:false,value:function e(t){return-1!==this.indexOf(t)}});"scrollX"in window.constructor.prototype||Object.defineProperties(window.constructor.prototype,{scrollX:{get:function e(){return this.pageXOffset}},scrollY:{get:function e(){return this.pageYOffset}}})},,,,,function(e,t,n){"use strict";(function(e){var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(10),n(91),n(520)],r=function(e,t,n){var i=e.module("qv.alert-dialog",["leonardo-ui.dialog"]);i.service("qvAlertDialog",["luiDialog",function(e){var i={};i.show=function(i){if("object"!==o(i))throw new Error("options must be an object");return e.show({controller:["$scope",function(e){e.closeLabel=e.input.closeLabel||t.get("Common.Close")}],template:n,input:{message:i.message,title:i.title,closeLabel:i.closeLabel,keepOpen:i.keepOpen},variant:i.variant,closeOnEscape:i.closeOnEscape})};return i}])}.apply(t,i),void 0!==r&&(e.exports=r))}).call(this,n(55)(e))},function(e,t,n){"use strict";var i,r;!(i=[n(2),n(13)],r=function(e,t){var n;var i=function i(){n=e({method:"GET",url:t.apiPath+"v0/features"}).then(function(e){return e.data});return n};return{get:function e(){if(!n)return i();return n}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";(function(e){var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(10),n(91),n(521)],r=function(e,t,n){var i=e.module("qv.confirm-dialog",["leonardo-ui.dialog"]);i.service("qvConfirmDialog",["luiDialog",function(e){var i={};i.show=function(i){if("object"!==o(i))throw new Error("options must be an object");return e.show({controller:["$scope",function(e){e.okLabel=e.input.okLabel||t.get("Common.OK");e.cancelLabel=e.input.cancelLabel||t.get("Common.Cancel")}],template:n,input:{message:i.message,title:i.title,icon:i.icon,okLabel:i.okLabel,cancelLabel:i.cancelLabel,hideCancelButton:i.hideCancelButton},variant:i.variant,closeOnEscape:i.closeOnEscape})};return i}])}.apply(t,i),void 0!==r&&(e.exports=r))}).call(this,n(55)(e))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){function t(e,t,n,i){switch(t){case"BottomLeft":n-=e.outerWidth();break;case"Bottom":n-=e.outerWidth()/2;break;case"BottomRight":break;case"Left":n-=e.outerWidth();i-=e.outerHeight()/2;break;case"Center":n-=e.outerWidth()/2;i-=e.outerHeight()/2;break;case"Right":i-=e.outerHeight()/2;break;case"Top":i-=e.outerHeight();n-=e.outerWidth()/2;break;case"TopRight":default:i-=e.outerHeight()/2;break}return{left:n,top:i}}function n(t,n){var i=e(window);var r=10;var o=r;var a=i.outerWidth()-t.outerWidth()-r;var s=Math.max(o,Math.min(a,n.left));var l=r;var u=i.outerHeight()-t.outerHeight()-r;var c=Math.max(l,Math.min(u,n.top));return{left:s,top:c}}function i(e,i,r){var o=t(e,i,r.x,r.y);o=n(e,o);e.offset(o);return o}function r(e,t){t=n(e,t);e.offset(t);return t}return{dock:t,limit:n,position:i,reposition:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(108),n(143),n(49),n(193)],r=function(e,t,n,i){var r=["HubSection_Home"],o=null,a;n.onDataReceived.then(function(e){a=e.userDirectory});e.service("clientSections",["$contentApi",function(e){var n={};function s(){var e={};for(var t in r)e[r[t]]=true;n=e;return e}return{getSync:function e(){return Object.assign({},n)},get:function l(u){var c=!!u;u=u||function e(){};if(!t.sessionPromise)return u(s());function d(e){var t={};if(!e.data&&!Array.isArray(e.data))return;for(var i in r)e.data.indexOf(r[i])>-1&&(t[r[i]]=true);n=t;return u(t)}function f(){return(o||(o=e.request({method:"POST",url:"/qrs/systemrule/security/evaluatetransientresources",data:r,cache:true}))).then(d).catch(d)}function p(){return"NONE"!==a?f():u(s())}return t.sessionPromise.then(function(){var e=i.getFlag("HAS_QRS");if(e)return c?p():u(s());u(s())}).catch(function(){return u(s())})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.AppLayoutProvider=void 0;var i=s(n(98));var r=a(n(116));var o=a(n(1823));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function l(e){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return l(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function d(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e}function f(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;return h(e)}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return m(e,t)}var g=i.default.createContext(null);var b=g.Consumer;var y=function(e){v(t,e);function t(e){var n;u(this,t);n=f(this,p(t).call(this,e));n.state={appLayout:null};n.getLayout=n.getLayout.bind(h(n));return n}d(t,[{key:"componentDidMount",value:function e(){var t=this.props.app;(0,o.default)(t).then(this.getLayout);t.Invalidated.bind(this.getLayout)}},{key:"componentWillUnmount",value:function e(){var t=this.props.app;t.Invalidated.unbind(this.getLayout)}},{key:"getLayout",value:function e(){var t=this;var n=this.props.app;n.getLayout(true).then(function(e){return t.setState({appLayout:e})})}},{key:"render",value:function e(){var t=this.props.children;var n=this.state.appLayout;return n&&i.default.createElement(g.Provider,{value:n},t)}}]);return t}(i.PureComponent);t.AppLayoutProvider=y;y.propTypes={app:r.default.object.isRequired,children:r.default.oneOfType([r.default.array.isRequired,r.default.element.isRequired]).isRequired};var x=b;t.default=x},function(e,t,n){var i,r;!(i=[n,t,n(54),n(151),n(1198)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.targetTable=e}return e.isInlineTransformation=function(e){return["ignoreValues","defineOrder","mapValues","interpretValues"].indexOf(e)>=0},e.isNewFieldTransformation=function(e){return["lookupGeoInfo","bucketed","makeGeoPoint","fieldSplit"].indexOf(e)>=0},e.prototype.findFieldsWithRecommendedTransformation=function(e){var t=n.filter(this.targetTable.getFields(),function(t){return t.type===i.DSMTypes.QueryField.name&&void 0!==t.transformations&&void 0!==n.findWhere(t.transformations,{op:e})});return t},e.prototype.findFieldsWithRecommendedCountryLookupTR=function(){var e=this.findFieldsWithRecommendedTransformation(i.DSMTypes.Transformations.lookupGeoInfo);return n.filter(e,function(e){var t=n.findWhere(e.transformations,{op:"lookupGeoInfo"});return["countryCodeISO3","countryCodeISO2","countryAlias"].indexOf(t.arguments.geoType)>=0})},e.prototype.findCorrespondingTransformedField=function(e,t){var r=n.find(this.targetTable.getFields(),function(r){return r.type===i.DSMTypes.QueryTransformField.name&&void 0!==r.transformations&&void 0!==n.findWhere(r.transformations,{op:t,appliedTo:e})});return r},e.prototype.canBeBasedOn=function(t,n,i){var r=!!i&&e.isInlineTransformation(i);if(t===n&&!r)return!1;var o=[];return this.collectBasedOns(this.targetTable.getField(n),o),o.indexOf(t)<0},e.prototype.validateBasedOnDependencies=function(){var e=this;this.targetTable.getFields().forEach(function(t){if(t.type===i.DSMTypes.QueryExpressionField.name||t.type===i.DSMTypes.QueryTransformField.name){var n=[];if(e.collectBasedOns(t,n),n.indexOf(t.id)>=0)throw new r.InvalidLoadModelException(t.name+" has circular field dependency!")}})},e.prototype.getBasedOns=function(e){var t=[];return this.collectBasedOns(this.targetTable.getField(e),t),t},e.prototype.getAllReferences=function(e){var t=[];return this.collectBasedOns(e,t),t},e.prototype.collectBasedOns=function(t,i){var r=this;if(t.expression)for(var o=t.expression.split(e.gExpressionRegEx),a=2;a<o.length;a+=4){var s=this.targetTable.getField(o[a]);s&&i.indexOf(o[a])<0&&(i.push(s.id),this.collectBasedOns(s,i))}t.transformations&&t.transformations.forEach(function(o){var a=e.isInlineTransformation(o.op),s=e.isNewFieldTransformation(o.op),l=[];n.isArray(o.appliedTo)?o.appliedTo.forEach(function(e){(e!==t.id||!a&&!s)&&l.push(e)}):(o.appliedTo!==t.id||!a&&!s)&&l.push(o.appliedTo),l.forEach(function(e){var t=r.targetTable.getField(e);t&&i.indexOf(e)<0&&(i.push(t.id),r.collectBasedOns(t,i))})})},e}();o.gExpressionRegEx=new RegExp("({{)(\\S\\s*[^}}]*)(}})","g"),t.LoadModelUtils=o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(54),n(113)],r=function(e,t,n){var i="DataManager";var r=1;var o=2592e6;function a(e){if(!n["DISABLE_DM_LOCAL_STORAGE"]&&u()){var t=new s(localStorage,true);this.storage=t;e(function(){c(t)})}else this.storage=new s({},false)}a.prototype.get=function(e){var t=this.storage.get(l(e));var n=f(t);return n?n.value:void 0};a.prototype.set=function(e,t){var n=(new Date).getTime();var i={created:n,version:r,value:t};var o=d(i);this.storage.set(l(e),o)};a.prototype.remove=function(e){this.storage.remove(l(e))};function s(e,t){this.storage=e;this.supportsLocalStorage=t}s.prototype.get=function(e){var t=this.supportsLocalStorage?this.storage.getItem(e):this.storage[e];return t};s.prototype.set=function(e,t){this.supportsLocalStorage?this.storage.setItem(e,t):this.storage[e]=t};s.prototype.remove=function(e){this.supportsLocalStorage?this.storage.removeItem(e):delete this.storage[e]};s.prototype.keys=function(){var e=[];var t;if(this.supportsLocalStorage)for(var n=0;n<this.storage.length;n++){t=this.storage.key(n);e.push(t)}else for(t in this.storage)e.push(t);return e};function l(e){return i+"."+e}function u(){try{localStorage.setItem(i,i);localStorage.removeItem(i);return true}catch(e){return false}}function c(e){var n=i+".";var r=(new Date).getTime();e.keys().forEach(function(i){if(0===i.lastIndexOf(n,0)){var a=e.get(i);var s=f(a);s&&s.created&&t.isNumber(s.created)&&r-s.created>o&&e.remove(i)}})}function d(e){return JSON.stringify(e)}function f(e){if(!e)return;try{return JSON.parse(e)}catch(e){return}}e.service("qvDataManagerLocalStorageService",["$timeout",function(e){return new a(e)}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(118)],r=function(e){var t=2e3;function n(n,i,r){var o=e.occurrencesRE(n,i,r);var a=o>=t?t:o;return a}return{MAX_NBR_OF_HITS:t,getMaxNumberOfHits:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(614),n(50)],r=function(e,t,n){var i=null;function r(){i=null;n.ViewChanged.unbind(o)}function o(){e.getService("cardService").close()}var a={show:function a(s){n.ViewChanged.bind(o);var l={component:t,input:{object:s}},u=[l],c={cardSteps:u,onClose:r};i=s.id;e.getService("cardService").show(c)},isShowing:function e(){return i}};e.service("objectInfoCard",[function(){return a}]);return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(152),n(114),n(616),n(617)],r=function(e,t,n,i,r){function o(e){var t=/(https?:\/\/[^\s<]+)/g;if(e.indexOf("javascript:")>-1)return e;return e.replace(t,'<a href="$1" target="_blank">$1</a>')}return{template:i,scope:{close:"&"},controller:["$scope",function(i){var a=e.getService("$sce");i.direction=n.direction;i.getTrustedHtml=function(e){return e?a.getTrustedHtml(o(t.toHTML(e))):null};r.createObjectInfo(i.input.object).then(function(e){i.object=e})}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){var t;function n(e,t,n,i,r){void 0===n&&(n=r.qDecimalSep);void 0===i&&(i=r.qThousandSep);var o="",a,s,l,u;if("F"===e)if(0===t)o="#"+i+"##0";else{o="#"+i+"##0"+n;for(l=0;l<t;++l)o+="0"}else{for(l=0;l<t;++l)o+="#";if(t>3){u=o.length;a=o.substring(0,u-3);s=o.substr(u-3);o=a+i+s}}return o}return{setNumFmtPattern:function e(n,i,r){var o={type:i.qType||"U",nDec:"qType"===n?("F"===i.qType,2):"R"===i.qType?i.qnDec||10:"number"===typeof i.qnDec?Math.max(0,i.qnDec):2,thousandSep:i.qThou,decimalSep:i.qDec},a;a=this._getSeparators(n,"M"===i.qType,o.decimalSep,o.thousandSep,r);a.decimal!==t&&(o.decimalSep=a.decimal);a.thousand!==t&&(o.thousandSep=a.thousand);i.qType=o.type;i.qnDec=o.nDec;i.qDec=o.decimalSep;i.qThou=o.thousandSep;i.qFmt=this._getPattern(o.type,o.nDec,o.decimalSep,o.thousandSep,r);if(["D","T","TS","IV"].indexOf(o.type)>=0){i.qDec="";i.qThou=""}},_getSeparators:function e(t,n,i,r,o){var a=i,s=r,l="q"+(n?"Money":"");if("qType"===t){s=o[l+"ThousandSep"]||"";a=o[l+"DecimalSep"]||"."}else if("qThou"===t&&void 0===r){s=o[l+"ThousandSep"]||"";a=i||"."}else if("qDec"===t&&(void 0===i||""===i)){a=o[l+"DecimalSep"]||".";s=r||""}return{decimal:a||".",thousand:s||""}},_getPattern:function t(n,i,r,o,a){var s;switch(n){case"U":return"";case"I":return"#"+o+"##0";case"R":case"F":return this.getNDecPattern("F",i,r,o,a);case"M":s=a.qMoneyFmt;a.qMoneyDecimalSep&&(s=s.replace(new RegExp(e.escapeRegExp(a.qMoneyDecimalSep),"g"),r));a.qMoneyThousandSep&&(s=s.replace(new RegExp(e.escapeRegExp(a.qMoneyThousandSep),"g"),o));return s;case"D":return a.qDateFmt;case"T":return a.qTimeFmt;case"TS":return a.qTimestampFmt;case"IV":return"h:mm:ss";default:return""}},getDefaultNumericFormat:function e(t,i){return n("F",2,t.qDec,t.qThou||"",i)},getNDecPattern:n,getNormalizedFormat:function e(t,n){var i=t.qDec+t.qThou;if(/\u00a0/.test(i)&&!/\u0020/.test(i))return n.replace(/\u0020/g,"Â ");return n}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(90),n(89),n(281),n(621),n(156),n(204),n(419),n(623),n(115),n(130),n(189),n(400),n(110)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p){function h(e,t){var n=i.getHyperCube(e,t);if(n)return n.qDimensionInfo||[];if(e.qChildList){var r=e.qChildList.qItems||[];return r.map(function(){return{}})}var o=!e.qListObject||!e.qListObject.qDimensionInfo||e.qListObject.qDimensionInfo.qError;return o?[]:[e.qListObject.qDimensionInfo]}function v(e,t){var n=i.getHyperCube(e,t);return n&&n.qMeasureInfo||[]}function m(e,t,n){var i,r,o,a,s,l;for(i=0;i<e.data.length;++i){for(r=0;r<e.data[i].dimensions.length;++r){o=e.data[i].dimensions[r];if(o.qLibraryId){s=c.findLibraryDimension(o.qLibraryId,t);s&&(o.title=s.qData.title)}}for(r=0;r<e.data[i].measures.length;++r){a=e.data[i].measures[r];if(a.qLibraryId){l=c.findLibraryMeasure(a.qLibraryId,n);l&&(a.title=l.qData.title)}}for(r=0;r<e.data[i].excludedDimensions.length;++r){o=e.data[i].excludedDimensions[r];if(o.qLibraryId){s=c.findLibraryDimension(o.qLibraryId,t);s&&(o.title=s.qData.title)}}for(r=0;r<e.data[i].excludedMeasures.length;++r){a=e.data[i].excludedMeasures[r];if(a.qLibraryId){l=c.findLibraryMeasure(a.qLibraryId,n);l&&(a.title=l.qData.title)}}}}return{BackendApi:r,template:l,hasDefaultTemplate:function e(){return this.template===l},mapProperties:function e(){this.mappedDefinition=o.mapDefinition(this.definition,this.type);this.globalChangeListeners=o.findGlobalListeners(this.mappedDefinition);var t=this.data&&this.data.dimensions;if(t){t.min="undefined"!==typeof t.min?t.min:1;t.max="undefined"!==typeof t.max?t.max:1e3}else if(!this.data){t=o.findDefinition(this.mappedDefinition,"qHyperCubeDef.qDimensions",true);t||(t=o.findDefinition(this.mappedDefinition,"qListObjectDef",true));t&&(t.obsolete=true)}this.dimensionDefinition=t;var n=this.data&&this.data.measures;if(n){n.min="undefined"!==typeof n.min?n.min:1;n.max="undefined"!==typeof n.max?n.max:1}else if(!this.data){n=o.findDefinition(this.mappedDefinition,"qHyperCubeDef.qMeasures",true);n&&(n.obsolete=true)}this.measureDefinition=n},getDefaultDimensionProperties:function e(){if(this.dimensionDefinition&&this.dimensionDefinition.obsolete)return o.mapProperties(this.dimensionDefinition);if(this.dimensionDefinition)return o.mapProperties(this.mappedDefinition.items.data.items.dimensions)},getDefaultMeasureProperties:function e(){if(this.measureDefinition&&this.measureDefinition.obsolete)return o.mapProperties(this.measureDefinition);if(this.measureDefinition)return o.mapProperties(this.mappedDefinition.items.data.items.measures)},getCreatePropertyHandler:function e(t){var n=this.globalChangeListeners,i,r;if(this.model&&this.model.layout&&this.model.layout.qListObject){i=o.mapProperties(this.dimensionDefinition);return new s({app:t,dimensionDefinition:this.dimensionDefinition,dimensionProperties:i})}i=this.getDefaultDimensionProperties();r=this.getDefaultMeasureProperties();return new a({app:t,dimensionDefinition:this.dimensionDefinition,measureDefinition:this.measureDefinition,dimensionProperties:i,measureProperties:r,globalChangeListeners:n})},mapSoftProperties:function e(){if(!this.softDefinition)return;var t=o.mapDefinition(this.softDefinition,null,f);function n(e){var t=[{diffs:e.ref||e.sortIndexRef?[e.ref||e.sortIndexRef]:e.diffs||[]}];e.items&&Object.keys(e.items).forEach(function(i){t.push({diffs:n(e.items[i])})});e._diffs=t;return t}n(t);this.mappedSoftDefinition=t},hasError:function e(t){var n=t.layout,i=t.ext&&t.ext.options.hyperCubePath?n[t.ext.options.hyperCubePath].qHyperCube:n.qHyperCube;if(i)return!!i.qError;if(n.qListObject)return!!n.qListObject.qError;return false},showRequirements:function e(t){var n=t.ext.dimensionDefinition?t.ext.dimensionDefinition.min:0,i=t.ext.measureDefinition?t.ext.measureDefinition.min:0,r=h(t.layout,t.ext.options.hyperCubePath),o=v(t.layout,t.ext.options.hyperCubePath),a;function s(e){return e.qError&&e.qError.qErrorCode===p.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function l(e){return e&&e.qErrorCode!==p.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function u(e){return e.filter(function(e){return!s(e)}).length}var c=u(r),d=u(o);"function"===typeof n&&(n=n.call(null,d));"function"===typeof i&&(i=i.call(null,c));if(n>0&&c<n)return true;for(a=0;a<r.length;++a)if(l(r[a].qError))return true;if(i>0&&d<i)return true;for(a=0;a<o.length;++a)if(l(o[a].qError))return true;return false},addFieldDimension:function t(n,i){return i.model.getProperties().then(function(t){var r=i.getCreatePropertyHandler();r.setProperties(t);return r.addFieldDimension(n.value,n.trimmedValue).then(function(n){r.updateGlobalChangeListeners();e.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);return i.model.setProperties(t)})})},addLibraryDimension:function t(n,i){return i.model.getProperties().then(function(t){var r=i.getCreatePropertyHandler();r.setProperties(t);return r.addLibraryDimension(n.libraryId).then(function(n){r.updateGlobalChangeListeners();e.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);return i.model.setProperties(t)})})},addLibraryMeasure:function t(n,i){return i.model.getProperties().then(function(t){var r=i.getCreatePropertyHandler();r.setProperties(t);return r.addLibraryMeasure(n.libraryId).then(function(n){r.updateGlobalChangeListeners();e.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);i.model.setProperties(t)})})},addExpressionMeasure:function t(n,i){return i.model.getProperties().then(function(t){var r=i.getCreatePropertyHandler();r.setProperties(t);return r.addExpressionMeasure(n.value,n.trimmedValue).then(function(n){r.updateGlobalChangeListeners();e.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);return i.model.setProperties(t)})})},getDropFieldOptions:function e(t,n,i,r,o){t.Add(i,n,o);t.ReplaceDimensions(i,n,o);t.AddFieldAsMeasure(i,n,o);t.ColorBy(i,n,o);r()},getDropDimensionOptions:function t(n,i,r,o,a){if(i.getDimensions().length<i.minDimensions())i.addLibraryDimension(n.item.id).then(function(t){r.setProperties(i.properties);e.$rootScope.$broadcast("pp-open-path","data."+t.qDef.cId)});else{n.Add(r,i,a);n.ReplaceDimensions(r,i,a);n.ColorBy(r,i,a);o()}},getDropMeasureOptions:function t(n,i,r,o,a){var s=i.getMeasures().length;if(s<i.minMeasures()||0===s&&s<i.maxMeasures())"expression"===n.item.type?i.addExpressionMeasure(n.item.name,"").then(function(t){r.setProperties(i.properties);e.$rootScope.$broadcast("pp-open-path","data."+t.qDef.cId)}):i.addLibraryMeasure(n.item.id).then(function(t){r.setProperties(i.properties);e.$rootScope.$broadcast("pp-open-path","data."+t.qDef.cId)});else{n.Add(r,i,a);n.ReplaceMeasures(r,i,a);n.ColorBy(r,i,a);o()}},getDropStateOptions:function e(t,n,i,r){t.ApplyAlternateState(i,n,t.item.id,"contextMenu.applyState");r()},getDropTemplateOptions:function e(t,n,i,r,o){var a=this,s=u.getType(t.item.template),l=["contextMenu.convertTo",t.item.name];a.type!==s.type?s.getExtensionType().then(function(e){!o.isReadonly&&!i.layout.qHasSoftPatches&&a.exportProperties&&e.importProperties&&t.menu.addItem({translation:l,tid:"convert",select:function n(){a._convert(s,e,t.item)}});r()},function(){r()}):r()},getDropOptions:function e(n,i,r){var o=n.model,a=this,s,l,u;l={field:"getDropFieldOptions",dimension:"getDropDimensionOptions",measure:"getDropMeasureOptions",template:"getDropTemplateOptions",expression:"getDropMeasureOptions",state:"getDropStateOptions"};s=i.item.type;u=l[s];if(u)return o.getProperties().then(function(e){var s=n.getCreatePropertyHandler();var l=t.extend(true,{},e);s.setProperties(l);s.setLayout(n.model&&n.model.layout);return a[u](i,s,o,r,n)});r()},_convert:function e(t,i,r){var o,a,s=this;n.all({initialProperties:t.getInitialProperties(r.init),propertyTree:s.model.getFullPropertyTree()}).then(function(e){try{o=s.exportProperties(e.propertyTree,s.options?s.options.hyperCubePath:void 0);n.all({dimensionList:s.model.app.getDimensionList(),measureList:s.model.app.getMeasureList()}).then(function(t){m(o,t.dimensionList,t.measureList);a=i.importProperties(o,e.initialProperties,i,i.options?i.options.hyperCubePath:void 0);s.model.getLayout().then(function(e){if(e.qHasSoftPatches){s.model.markAsCancelled();s.model.clearSoftPatches().then(function(){s.model.setFullPropertyTree(a).then(function(){s.model.markAsInvalid()})})}else s.model.setFullPropertyTree(a)})})}catch(e){}})},exportProperties:function e(t){if(t.qProperty.qHyperCubeDef)return d.hypercube.exportProperties(t);if(t.qProperty.qListObjectDef)return d.listbox.exportProperties(t);return d.other.exportProperties(t)},importProperties:function e(t,n,i){if(n.qHyperCubeDef)return d.hypercube.importProperties(t,n,i);if(n.qListObjectDef)return d.listbox.importProperties(t,n,i);return d.other.importProperties(t,n,i)},support:{cssScaling:false,sharing:false,colorBy:false,snapshot:false,export:false,exportData:true,viewData:false},options:{},hasNewType:function e(t,n){return t.type!==n}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(178)],r=function(e,t){var n={},i="";var r={put:o,has:a,get:s};return r;function o(i,r){if(!i||!r||!e.isString(i)||!e.isString(r))return;var o=t.getNormalizedExpression(i),a=r;n[o]=a}function a(i){if(!i||!e.isString(i))return false;var r=t.getNormalizedExpression(i),o=n[r];return!!o}function s(r){if(!r||!e.isString(r))return i;var o=t.getNormalizedExpression(r),a=n[o];return a||i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){e=void 0!==e?e:1;this.data=[];for(var t=0;t<e;++t)this.data.push({dimensions:[],measures:[],excludedDimensions:[],excludedMeasures:[],interColumnSortOrder:[]});this.properties={}}return e}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(48),n(159),n(114)],r=function(e,t,n){e.directive("qvaDirection",function(){return{restrict:"A",link:function e(i,r,o){function a(){var e,i=o["dirSetting"]?o["dirSetting"]:n.direction,a=o["dirText"];e=a?t.detectTextDirection(a):i;r.attr("dir",e);"rtl"===e?r.addClass("qv-rtl-text"):r.removeClass("qv-rtl-text");"rtl"===i?r.addClass("qv-rtl-layout"):r.removeClass("qv-rtl-layout")}a();o.$observe("dirText",a);o.$observe("dirSetting",a)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(336),n(158),n(89),n(313),n(224),n(10)],r=function(e,t,n,i,r,a){function s(t,i,r){if(i instanceof s)return i;Object.defineProperties(this,{id:{value:i.id},qapp:{value:t},model:{value:i},rendered:{value:new n},support:{value:r,writable:true},_isToggled:{value:false,writable:true}});i.layout.qHyperCube&&Object.defineProperties(this,{table:{value:new e(this.qapp,i),configurable:true}})}s.prototype.setOptions=function(e){var n=[];t.addPatches("/",e,n);return this.model.applyPatches(n,true)};s.prototype.show=function(e,n){n=n||{};var i=this;var r=n.onRendered;n.onRendered=function(e){r&&r(e);i.rendered.resolve(e)};return t.showVisualization(e,this.model.enigmaModel,n,this.model.enigmaModel.app).then(function(t){i._scopes=i._scopes||[];i._scopes.push(t);i._elements=i._elements||[];i._elements.push(e);return t})};s.prototype.close=function(){if(this._scopes){this._scopes.forEach(function(e){e.$destroy()});delete this._scopes}if(this._elements){this._elements.forEach(function(e){t.clearElement(e)});delete this._elements}if(this.table){this.table.destroy();delete this.table}this.model&&this.model._expendable&&this.model.close();return t.Promise.resolve()};s.prototype.resize=function(){t.resize(this.id)};s.prototype.toggleDataView=function(){var e=this;return e.rendered.promise.then(function(){return t.getExtensionSupport(e.model).then(function(n){if(n.viewData){e.dataView||(e.dataView=e._elements.map(function(t){return new i(e.qapp.model,e.model,t,e._scopes[0].options)}));return t.Promise.all(e.dataView.map(function(e){return e.toggle()})).then(function(t){return e._isToggled=t.every(function(e){return e})}).catch(function(){return t.Promise.reject("toggleDataView was not successful")})}return t.Promise.reject("toggleDataView is not supported for this visualization type")})})};function l(e){var t,n,i,r,o,a;if(e&&e.session&&e.session.options||e&&e.enigmaModel&&e.enigmaModel.session&&e.enigmaModel.session.sessionConfig){t=e.session.options||e.enigmaModel.session.sessionConfig;a=void 0!==t.secure?t.secure:t.isSecure;n=a?"https://":"http://";i=t.host||"localhost";r=t.port?":"+t.port:"";o=t.prefix?t.prefix:"/";"/"!==o[o.length-1]&&(o+="/");return{baseUrl:n+i+r,prefix:o}}return{baseUrl:"",prefix:""}}function u(e,t){return-1!==e.indexOf("/printing/export/")?e:t.baseUrl+t.prefix+e.replace("../","")}s.prototype.exportImg=function(e){if(!e||!e.height||!e.width)throw new Error("Image dimensions missing in settings argument.");var t=this;var n="image";var i=l(t.qapp.model);var o="png";e&&e.format&&("jpeg"===e.format.toLowerCase()||"jpg"===e.format.toLowerCase())&&(o="jpeg");var a={imageType:o,captureSize:{dpi:96,height:e.height,width:e.width}};return r.printObject(t.qapp.model,{model:t.model},i.baseUrl,void 0,a.captureSize,a,n).then(function(e){return u(e.qUrl,i)})};function c(e,t){var n=void 0!==t&&t;var i={a3:{height:420,width:297},a4:{height:297,width:210},a5:{height:210,width:148},a6:{height:148,width:105},a7:{height:105,width:74},letter:{height:279.4,width:215.9}};if("object"===o(e)&&e.width&&e.height)return e;if(!i.hasOwnProperty(e.toLowerCase()))return{};return n?{height:i[e.toLowerCase()].width,width:i[e.toLowerCase()].height}:i[e.toLowerCase()]}s.prototype.exportPdf=function(e){var t=this;var n="pdf";var i=l(t.qapp.model);var o=!(!e||!e.orientation||"landscape"!==e.orientation.toLowerCase());var a=e&&e.documentSize?e.documentSize:"a4";var s=c(a,o);var d=e&&-1!==[0,2].indexOf(e.aspectRatio)?e.aspectRatio:2;var f=0!==d?{height:1,width:1}:e.objectSize;var p={dpi:200,fitCriteria:d,height:s.height,width:s.width,sourceSize:{dpi:96,width:f.width,height:f.height}};return r.printObject(t.qapp.model,{model:t.model},i.baseUrl,void 0,void 0,p,n).then(function(e){return u(e.qUrl,i)})};s.prototype.exportData=function(e){var t=this;var n=l(t.qapp.model);var i=e?a.copy(e):{};i.download=false;i.filename&&delete i.filename;return this.table.exportData(i).then(function(e){return n.baseUrl+e})};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(337),n(338),n(339),n(647)],r=function(e,t,n,i,r){var o={OBJECT:"object",SHEET:"sheet",SLIDE:"slide",STORY:"story"};function a(e,n){var i={left:0,top:0,width:1,height:1};return t.snapshot(e,n.size||{width:600,height:400},n.source,n.sourceSize||{},i)}function s(e,t){return n.snapshot(e,t.size||{width:600,height:400},t.source,t.sheetLayout)}function l(e,t){return i.snapshot(e,t.size||{width:600,height:400},t.source,t.sourceSize)}function u(e,t){return r.snapshot(e,t.size||{width:600,height:400},t.source,t.sourceSize)}return{snapshot:function e(t,n,i){switch(n){case o.SHEET:return s(t,i||{});case o.STORY:return u(t,i||{});case o.SLIDE:return l(t,i||{});case o.OBJECT:return a(t,i||{})}},cancel:function t(){var n=Array.prototype.slice.call(document.querySelectorAll(".qv-snapshotter")),i;while(i=n.pop()){i=e(i).children("div");i.slice().each(function(t,n){n=e(n);n.scope&&n.scope()&&n.scope().$destroy();n.remove()})}},type:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){function t(e,t,i,r,a){"title"===e?n(t,i,1.32,false):"paragraph"===e&&o(t,i,r,a)}function n(e,t,n,i){var o,a,s,l,u=0,c=t.parents(".qv-story-grid-object"),d=t.find(".story-text-static"),f;f=e.split("<div").length>=e.split("<br").length?r(e,"<div"):r(e,"<br");o=t.height()/n/f;a=t.height()/f;s=t.height()/8/f;t.css({"line-height":Math.floor(a)+"px","font-size":Math.floor(o)});while(Math.ceil(c.outerWidth())<d.outerWidth()&&!i&&"!?}^"!==e&&u<250){l=o--;t.css({"line-height":Math.floor(a)+"px","font-size":Math.floor(l)});u++}t.css({"line-height":Math.floor(a)+"px","font-size":Math.floor(o)});t.find(".qv-media-tool-html").css({"padding-right":s});t.find(".qv-media-tool-editor").css({"padding-right":s})}function i(e,t,n){var i;i=e.split("<div").length>=e.split("<br").length?r(e,"<div"):r(e,"<br");return t/n/i}function r(e,t){var n=0,i=e.split(t),r=e.match(/<br/g),o=e.match(/<div/g);if(r&&"<br"===t){n+=r.length;i&&i[i.length-1].match(/.*?>(?:<\/\w+>)*([^<]+)/g)&&n++}o&&"<div"===t&&(n+=o.length);e.split("<div").length>n&&(n=e.split("<div").length);i.forEach(function(e,t){""===e&&0===t&&(n-=1)});n<1&&(n=1);return n}function o(t,n,i,r){var o,s,l;i.length<1&&(i=e(r?".qv-story-play-slide.qv-story-slide-active":"#selectable"));o=i.height();s=o<200?8e3/o:40;l=o/s;l=parseFloat(l.toFixed(2));l=l<2?2:l;a(n,l)}function a(e,t){e.css({"font-size":t})}function s(e){var t,n;t=e<200?8e3/e:40;n=e/t;n=parseFloat(n.toFixed(2));n=n<2?2:n;return n}return{getRows:r,calculateFontsize:t,calculateFontsizeOnTitle:n,calculateFontsizeOnParagraph:o,calculatePrintTitleFontSize:i,calculatePrintParagraphFontSize:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{getDuration:e};function e(e){var t=3e3,n=7e3,i=3e4,r=e*t;return Math.max(n,Math.min(r,i))}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92)],r=function(e){function t(e){var t=e.getBoundingRect();return Number.isNaN(+t.x+t.y+t.width+t.height)}var n=e.extend({init:function e(t,n,i,r,o,a,s){if(!(!t||t instanceof Array)||!(!n||n instanceof Array)||!(!i||n instanceof Array)||!(!r||i instanceof Array))throw new Error("The dimensions, measures and values input must be undefined or arrays");this.selected=false;this.highlighted=false;this.values=i||[];this.labels=r||[];this.row=o;this.col=a;this.id=s;this.parent=void 0;this.children=[];this._dimensions=t||[];this._measures=n||[];this._attrDims=[];this._attrDimTypes=[];this._objectShapes={};this._shapes=[];this._tooltipShape=void 0;this._tooltipShapeComponent=void 0},get siblings(){return this._parent?this._parent.children:[]},clearShapes:function e(t){t&&this._objectShapes[t]&&(this._objectShapes[t]=[]);this._shapes=[];for(var n in this._objectShapes)this._shapes=this._shapes.concat(this._objectShapes[n])},getShapes:function e(t){return t?this._objectShapes[t]||(this._objectShapes[t]=[]):this._shapes},getShapeBounds:function e(n,i){if(this._calculateTooltipPosition&&n){var r=this.getShapes(n);var o=r.map(function(e){var t=e.getBoundingRect();if(!e.clearModelView){t=t.clone();t.set(t.x*i,t.y*i,t.width*i,t.height*i)}return t});o=o.filter(function(e){return!t(e)});if(o.length){var a=o.reduce(function(e,t){return e.combineWith(t)},o[0]);return a}return null}return null},addShape:function e(t,n,i){if(n instanceof Array&&(!n[0].pointInside||!n[0].getBoundingRect)||!n.pointInside||!n.getBoundingRect)throw new Error("The shape must implement a `pointInside` function");this._objectShapes[t]instanceof Array||(this._objectShapes[t]=[]);this._objectShapes[t].push(n);this._shapes.push(n);if(i){this._tooltipShape=n;this._tooltipShapeComponent=t}},addMeasure:function e(t,n,i){this.values.push(n);this.labels.push(i);this._measures.push(t)},getMeasures:function e(){return this._measures},getMeasuresIndecies:function e(){return this._measures.map(function(e,t){return t})},addDimension:function e(t){this._dimensions.push(t)},getDimensions:function e(){return this._dimensions},addAttributeDimension:function e(t,n,i){this._attrDims.push({value:t,label:n,name:i})},getAttributeDimensions:function e(t){if(this._attrDims.length)return Number.isNaN(+t)?this._attrDims.map(function(e){return e.value}):[this._attrDims[t].value];return null},getValue:function e(t){t=t||0;return this.values[t]},getPreformattedLabel:function e(t){t=t||0;return this.labels[t]},getCombinedElementID:function e(){var t=this,n=[t.id];while(t.parent){t=t.parent;n.push(t.id)}n.reverse();return n.join(",")}});n.prototype.isCacheItem=true;Object.defineProperties(n.prototype,{tooltipShape:{get:function e(){return this._tooltipShape}},calculateTooltipPosition:{set:function e(t){this._calculateTooltipPosition=t},get:function e(){return this._calculateTooltipPosition}},interactPosition:{set:function e(t){this._interactPosition=t},get:function e(){return this._interactPosition}},tooltipShapeComponent:{get:function e(){return this._tooltipShapeComponent}},label:{get:function e(){throw new Error("CacheItem: label: Removed functionality")}},shape:{get:function e(){throw new Error("CacheItem: shape: Removed functionality")}},value:{get:function e(){throw new Error("CacheItem: value: Removed functionality")}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(684)],r=function(e){return{scope:{offset:"=",content:"="},template:e,controller:[function(){}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(97),n(750),n(91)],r=function(e,t,n,i,r){var o={template:i,controller:["$scope","$timeout",function(t,i){t.popupClosing=false;t.input.buttonText=t.input.buttonText?t.input.buttonText:r.get("Common.OK");t.input.title=t.input.title?t.input.title:"";t.input.message=t.input.message?t.input.message:"";function o(e){if(e){t.popupClosing=true;i(function(){t.destroyComponent()},500)}else t.destroyComponent()}t.input.closeAfter&&i(function(){o(true)},t.input.closeAfter);t.onOutsidePopover=function(t){event.stopPropagation();event.preventDefault();e(t.target).closest(".qui-popover-ok-button").length||o()};t.onCloseClicked=function(){o(true)};t.$on("$destroy",function(){n.off("start",a)});function a(){t.destroyComponent()}n.on("start",a)}]};t.service("qvGuidancePopover",["luiPopover",function(e){return{show:function t(n){return e.show({controller:o.controller,template:o.template,alignTo:n.alignTo,input:{input:n,class:n.class?n.class:""}})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(458),n(214)],r=function(e,t,n){var i=false;var r=false;var o;function a(){return n.saveApp().then(function(){if(r){r=false;return a()}})}function s(){var s=e.getService("$timeout");if(!n.isAutoSaveOn()){n.notifyThatNewChangeIsDoneAndSaveIsRequired();return}if(i){r=true;return}s.cancel(o);n.setSaveOngoing(true);o=s(function(){i=true;t.save();a().finally(function(){i=false})},1e3)}return{save:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(248),n(251),n(353),n(170)],r=function(e,t,n,i){var r={};var o;function a(t){o=t;e.hasTableSizeData()&&c()}function s(e){return t.sha256(o+e)}function l(e,t,n){if(!o)throw new Error("Application ID is undefined.");var i=s(e);r[i]={height:t,width:n}}function u(){var t=n.getDataModel();for(var o in t){var a=i.getTableElement(o);var s=a.height();var u=a.width();l(o,s,u)}e.setTableSizeData(r)}function c(){r=e.getTableSizeData()}function d(e){var t=s(e);var n=r[t];return n}function f(){return e.hasTableSizeData()}return{setAppID:a,save:u,getWidthAndHeightForTable:d,hasLocalStorageData:f}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){function e(e,t){return e*(1/t)}function t(e,t){return e/t}return{getDimensionBasedOnZoom:e,getZoomLevelBasedOnDimension:t}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[n(115),n(89)],r=function(e,t){var i={width:144,height:96},r=2;function o(e){var t={};t.width=e.width-e.numCols*e.spacing;t.height=e.height-e.numRows*e.spacing;t.columnWidth=t.width/e.numCols;t.rowHeight=t.height/e.numRows;t.cols=e.numCols;t.rows=e.numRows;t.spacing=e.spacing;return t}function a(t,n,i,r){var o=i.colspan/n.cols*n.width+(i.colspan-2)*n.spacing,a=i.rowspan/n.rows*n.height+(i.rowspan-2)*n.spacing,s=n.spacing+n.columnWidth*i.col+n.spacing*i.col,l=n.spacing+n.rowHeight*i.row+n.spacing*i.row,u=e.getIconPath(i.type),c=o>=a?a:o;t.fillStyle="rgb(242, 242, 242)";t.fillRect(s,l,o,a);c=Math.max(8,Math.min(c,24))/16;t.fillStyle=r?"rgba(0, 152, 69,.6)":"rgba(89, 89, 89,0.6)";t.text="center";t.textAlign="center";t.textBaseline="middle";t.save();t.translate(Math.round(s+o/2-8*c),Math.round(l+a/2-8*c));t.scale(c,c);t.fill(new Path2D(u));t.restore()}var s={staticSrc:function e(){return{staticPublishedSheet:function e(){return n.p+"img/core/static/Default-sheet-published.png"},staticUnPublishedSheet:function e(){return n.p+"img/core/static/Default-sheet-unpublished.png"},staticPublishedStory:function e(){return n.p+"img/core/static/Default-story-published.png"},staticUnPublishedStory:function e(){return n.p+"img/core/static/Default-story-unpublished.png"},staticApp:function e(){return n.p+"img/core/static/Default_thumbnail_app.png"},brokenImage:function e(){return n.p+"img/core/static/Ic_BrokenBig@2x.png"}}},dimensions:{original:i,width:i.width-2,height:i.height-2,spacing:2},getSrc:function e(t,n){var i=n?"Sheet":"Story",r=t?"staticPublished":"staticUnPublished";return s.staticSrc()[r+i]()},generateImageForStory:function e(n,i){var r=new t;i.get(n.item.qInfo.qId).then(function(e){e.getLayout().then(function(t){if(t.qChildList&&t.qChildList.qItems.length){n.slide=t.qChildList.qItems.slice().sort(function(e,t){if(e.qData.rank===t.qData.rank)return 0;return e.qData.rank<t.qData.rank?-1:1})[0];n.slide?e.app.getObject(n.slide.qInfo.qId).then(function(e){e.getLayout().then(function(e){e.qChildList.qItems.length>0?r.resolve():r.reject()},r.reject)}):r.reject()}else r.reject()})});return r.promise},paintCanvas:function e(t){var n=document.createElement("canvas"),i,l,u;i=o({width:s.dimensions.width*r,height:s.dimensions.height*r,spacing:s.dimensions.spacing,numRows:t.qData.rows,numCols:t.qData.columns});n.width=s.dimensions.width*r;n.height=s.dimensions.height*r;l=n.getContext("2d");function c(e){e.forEach(function(e){var n=t.qMeta.published;a(l,i,e,n)})}l.clearRect(0,0,n.width,n.height);c(t.qData.cells);u=n.toDataURL();l=null;i=null;n.remove&&n.remove();n=null;return u}};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){return{getLayoutMsg:t,getPropCondition:n,setPropCondition:i,getPropMessage:r,setPropMessage:o};function t(e){return e.customErrorMessage&&e.customErrorMessage.calcCond||e.qCalcCondMsg}function n(t,n){return e.getValue(t,n||"qCalcCond.qv")||e.getValue(t,"qCalcCondition.qCond.qv")||""}function i(t,n,i){e.setValue(t,i||"qCalcCond.qv",n);e.setValue(t,"qCalcCondition.qCond.qv",n)}function r(t){var n=e.getValue(t,"customErrorMessage.calcCond");var i=e.getValue(t,"qCalcCondition.qMsg.qv");return n||i||""}function o(t,n){e.setValue(t,"customErrorMessage.calcCond","="!==n[0]?n:"");e.setValue(t,"qCalcCondition.qMsg.qv",n)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(463)],r=function(e,t){e.component("quiFloat",{transclude:true,template:t,scope:{quiOffset:"=",quiResizeOnChange:"="},controller:["$scope","$element","$timeout",function(e,t,n){function i(){if(!e.quiOffset||!e.reportedSize||!e.reportedWindowSize)e.visible=false;else{e.quiOffset.left+e.reportedSize.width<e.reportedWindowSize.width?e.left=e.quiOffset.left:e.left=e.reportedWindowSize.width-e.reportedSize.width;e.quiOffset.top+e.reportedSize.height<e.reportedWindowSize.height?e.top=e.quiOffset.top:e.top=e.reportedWindowSize.height-e.reportedSize.height;e.visible=true}}function r(){n(function(){e.reportedSize={width:t.outerWidth(),height:t.outerHeight()}})}e.$watch("quiResizeOnChange",r,true);e.$watch("[quiOffset, reportedSize, reportedWindowSize]",i,true)}]})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qui-float" ng-style="{top:top, left:left}" ng-show="visible" qva-reported-window-size="reportedWindowSize">\n\t<div ng-transclude></div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(465),n(466)],r=function(e,t,n){e.component("quiInputNumber",{template:n,scope:{quiModel:"=",quiDisabled:"=",quiTitle:"@",quiMin:"@",quiMax:"@",quiClass:"@",quiSelectTextOnFocus:"@",quiWithButtons:"@",quiTid:"@"},controller:["$scope","$element",function(e,n){if(e.quiSelectTextOnFocus){e.selected=false;n.click(function(){if(false===e.selected){n.select();e.selected=true}});n.blur(function(){e.selected=false})}e.onChange=function(i){var r=parseInt(i)||0;e.quiModel=t.getNumerical(parseInt(n.find(".lui-input").val())+r,e.quiMin,e.quiMax)}}]})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){return Number(String(e).replace(/[^-\d]/g,""))}return{getNumerical:function t(n,i,r){n=e(n);i=Number(i);r=Number(r);if(n<i)return i;if(0!==r&&n>r)return r;return n}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<span class="qui-input-number lui-input-group">\n\t<button class="lui-input-group__item  lui-input-group__button  lui-button" qva-activate="onChange(-1)" ng-disabled="quiDisabled" ng-if="quiWithButtons">\n\t\t<span class="lui-button__icon">-</span>\n\t</button>\n\t<input type="tel" class="lui-input-group__item  lui-input-group__input  lui-input {{quiClass}}" tid="{{quiTid}}" title="{{quiTitle}}" ng-model="quiModel" ng-model-options="{ updateOn: \'blur\' }" ng-change="onChange()" ng-disabled="quiDisabled"/>\n\t<button class="lui-input-group__item  lui-input-group__button  lui-button" qva-activate="onChange(1)" ng-disabled="quiDisabled" ng-if="quiWithButtons">\n\t\t<span class="lui-button__icon">+</span>\n\t</button>\n</span>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(119),n(468),n(469),n(470)],r=function(e,t,n,i){var r={TAB:9};function o(e){return e.parents(".popover-container").length?e.parents(".popover-container")[0]:null}function a(t,n,i){return t.which===r.TAB&&t.target!==n.alignTo&&e(t.target).closest(".lui-popover-container")[0]!==i[0]}var s={template:i,scope:{quiModel:"=",shared:"=",close:"="},controller:["$scope","$element","$document",function(e,t,n){e.menuClasses=e.quiModel.menuOptions.content.menuClasses?e.quiModel.menuOptions.content.menuClasses:"qui-textlist";e.quiModel.menuOptions.content.createMenuItems().then(function(t){e.menuItems=t});e.selectMenuItem=function(t,n,i){n&&n.preventDefault&&n.preventDefault();if(!t.disable){e.close&&e.close();t.selected(n,i)}};n.on("keyup.qv-popover",function(n){o(t)&&a(n,e,t)&&e.close&&e.close()});e.$on("$destroy",function(){n.off("keyup.qv-popover")})}]};t.directive("qvPopoverButton",function(){return{template:n,transclude:true,replace:true,restrict:"E",scope:{quiModel:"=",quiPopoverContainer:"=?"},controller:["$scope","$element","luiPopover","qvMobileMenu",function(e,t,n,i){var r;e.shared={pressed:false};e.onClick=function(){if(e.shared.pressed&&r){r.close();return}e.shared.pressed=!e.shared.pressed;var a=e.quiModel.menuOptions||{};r=a.smallview?i.show({controller:s.controller,template:s.template,autoFocus:false,closeOnResize:true,outsideIgnore:e.quiModel.tid,input:{quiModel:e.quiModel,shared:e.shared,close:function e(){r.close()}}}):n.show({controller:s.controller,template:s.template,dock:"bottom",alignTo:t[0],autoFocus:false,closeOnResize:true,outsideIgnore:e.quiModel.tid,container:o(t),input:{quiModel:e.quiModel,shared:e.shared,close:function e(){r.close()}}});r.closed.then(function(){e.shared.pressed=false})};e.$watch("shared.pressed",function(t){e.currentTitle=t&&e.quiModel.tooltipActive?e.quiModel.tooltipActive:e.quiModel.tooltipInactive})}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<button\n\t\ttid="{{quiModel.tid}}"\n\t\tng-disabled="quiModel.isDisabled()"\n\t\tng-class="[quiModel.buttonClass, quiModel.buttonVariant, {\'lui-active\': shared.pressed }]"\n\t\tq-title-translation="{{currentTitle}}"\n\t\tqva-outside-ignore-for="{{quiModel.tid}}"\n\t\tng-click="onClick()">\n\t<span class="{{quiModel.buttonClass}}__icon lui-icon  lui-icon--{{quiModel.icon}}  {{quiModel.menuOptions.smallview ? \'lui-icon--large\' : \'\'}}"></span>\n\t<span class="{{quiModel.buttonClass}}__text" ng-if="quiModel.buttonText">\n\t\t{{quiModel.buttonText}}\n\t</span>\n\t<span ng-if="!quiModel.hideCaret" class="{{quiModel.buttonClass}}__caret  lui-caret"></span>\n</button>\n'},function(e,t){e.exports='<lui-popover ng-style="{ width: quiModel.menuOptions.width }">\n\t<ul ng-class="menuClasses" tid="{{quiModel.menuOptions.content.tid}}">\n\t\t<li class="lui-list__item"\n\t\t\tng-repeat="menuItem in menuItems"\n\t\t\tng-class="{\'open-in-new-tab-always\': menuItem.openInNewTab == \'always\', \'lui-disabled\': menuItem.disable, \'header-item\': menuItem.headerItem, \'last-menu-item\' : menuItem.last}"\n\t\t\tng-hide="menuItem.hide">\n\n\t\t\t<qv-menu-switch tid="{{menuItem.tid}}" x-model="menuItem" callback="selectMenuItem(menuItem, $event)" ng-if="menuItem.showSwitch"/>\n\n\t\t\t<button tid="{{menuItem.tid}}"\n\t\t\t\t class="action-item"\n\t\t\t\t ng-class="[quiModel.buttonClass, quiModel.buttonVariant]"\n\t\t\t\t ng-click="selectMenuItem(menuItem, $event)"\n\t\t\t\t q-title-translation="{{ menuItem.title || menuItem.text}}"\n\t\t\t\t ng-disabled="menuItem.disable"\n\t\t\t\t ng-if="!menuItem.showSwitch">\n\t\t\t\t<span ng-if="menuItem.icon"\tclass="lui-list__aside">\n\t\t\t\t\t<span class="lui-icon  lui-icon--{{menuItem.icon}}" ng-disabled="menuItem.disable"></span>\n\t\t\t\t</span>\n\t\t\t\t<span class="lui-list__text menu-item-text"\n\t\t\t\t\t  q-translation="{{menuItem.text}}"\n\t\t\t\t\t  ng-class="{\'open-in-new-tab-text-optional\': menuItem.openInNewTab == \'optional\', \'open-in-new-tab-always\': menuItem.openInNewTab == \'always\'}" aria-hidden="true">\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<div class="list-divider" ng-if="menuItem.openInNewTab === \'optional\'"></div>\n\t\t\t<button ng-if="menuItem.openInNewTab" class="lui-fade-button"\n\t\t\t\t\tng-class="[quiModel.buttonClass, quiModel.buttonVariant]"\n\t\t\t\t\tq-title-translation="{{ menuItem.title || \'Tooltip.OpenInNewTab\'}}"\n\t\t\t\t\tng-click="selectMenuItem(menuItem, $event, \'true\')"\n\t\t\t\t\tng-disabled="menuItem.disable" tabindex="-1">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--new-tab"></span>\n\t\t\t</button>\n\t\t</li>\n\t</ul>\n</lui-popover>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(471)],r=function(e,t){e.directive("qvMenuSwitch",function(){return{template:t,scope:{model:"=",callback:"&"},link:function e(t){t.switchValue=t.model.value;t.$watch("switchValue",function(e,n){void 0!==e&&e!==n&&t.callback()})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="menu-switch-component" tcl="switch" q-title-translation="{{ model.text }}">\n    <span ng-if="model.icon" class="lui-list__aside switch_icon">\n        <span class="lui-icon  lui-icon--{{model.icon}}" ng-disabled="model.disable"></span>\n    </span>\n    <span class="label" ng-disabled="readOnly">\n        <div class="title" q-translation="{{ model.text }}"></div>\n        <div class="value" q-translation="{{ model.label() }}"></div>\n    </span>\n    <lui-switch x-model="switchValue"/>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(119),n(11),n(473),n(474),n(51),n(97)],r=function(e,t,n,i,r,o){var a={template:i,scope:{quiModel:"=",alignTo:"=",shared:"="},controller:["$scope",function(e){e.shared.destroyComponent=e.destroyComponent;e.menuClasses=e.quiModel.menuOptions.content.menuClasses?e.quiModel.menuOptions.content.menuClasses:"qui-textlist";e.quiModel.menuOptions.content.createMenuItems().then(function(t){e.menuItems=t});e.selectMenuItem=function(t,n,i){n&&n.preventDefault&&n.preventDefault();if(!t.disable){e.onClose&&e.onClose(n);t.selected(n,i)}};e.onClose=function(n){if(!t(n.target).hasClass("qui-popover-button")||e.quiModel.tid!==t(n.target).attr("tid")){e.destroyComponent();e.shared.pressed=false}};e.closeFromContent=function(){e.destroyComponent();e.shared.pressed=false};e.$on("$destroy",function(){o.off("start",e.onClose)});o.on("start",e.onClose)}]};e.directive("quiPopoverButton",function(){return{template:n,transclude:true,replace:true,restrict:"E",scope:{quiModel:"=",quiPopoverContainer:"=?"},controller:["$scope","$element",function(e,t){var n={ENTER:13,SPACE:32};e.shared={};e.shared.pressed=false;e.$watch("shared.pressed",function(t){e.currentTitle=t&&e.quiModel.tooltipActive?e.quiModel.tooltipActive:e.quiModel.tooltipInactive});t.on("keypress",function(t){t.keyCode!==n.ENTER&&t.keyCode!==n.SPACE||e.onClick()});e.onClick=function(){if(e.shared.pressed){if(e.shared.destroyComponent){e.shared.destroyComponent();e.shared.pressed=false}}else{e.shared.pressed=true;r.show(e.quiPopoverContainer||a,{quiModel:e.quiModel,alignTo:t,shared:e.shared})}};e.quiModel&&(e.quiModel.forceClick=e.onClick)}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<button\n\t\ttid="{{quiModel.tid}}"\n\t\tng-disabled="quiModel.isDisabled()"\n\t\tng-class="[quiModel.buttonClass, quiModel.buttonVariant, {\'lui-active\': shared.pressed }]"\n\t\tq-title-translation="{{currentTitle}}"\n\t\tqva-outside-ignore-for="{{quiModel.tid}}"\n\t\tng-click="onClick()">\n\t<span ng-if="!quiModel.hideIcon" class="{{quiModel.buttonClass}}__icon lui-icon  lui-icon--{{quiModel.icon}}  {{quiModel.menuOptions.smallview ? \'lui-icon--large\' : \'\'}}"></span>\n\t<span class="{{quiModel.buttonClass}}__text" ng-if="quiModel.buttonText">\n\t\t{{quiModel.buttonText}}\n\t</span>\n\t<span ng-if="!quiModel.hideCaret" class="{{quiModel.buttonClass}}__caret  lui-caret"></span>\n</button>\n'},function(e,t){e.exports='<immidiate-contextual align-to="alignTo"\n\t\t\t\t\t  smallview="quiModel.menuOptions.smallview"\n\t\t\t\t\t  position="quiModel.menuOptions.position"\n\t\t\t\t\t  width="quiModel.menuOptions.width"\n\t\t\t\t\t  top="quiModel.menuOptions.top"\n\t\t\t\t\t  lui-style="true"\n\t\t\t\t\t  no-padding="true"\n\t\t\t\t\t  hidepointer="quiModel.menuOptions.hidepointer"\n\t\t\t\t\t\tqva-outside-ignore-for="{{quiModel.tid}}"\n\t\t\t\t\t  on-close-view="onClose(event)">\n\t<ul ng-class="menuClasses" tid="{{quiModel.menuOptions.content.tid}}">\n\t\t<li class="lui-list__item" ng-repeat="menuItem in menuItems" ng-disabled="menuItem.disable" qui-click=\'menuItem.fn()\'\n\t\t\tng-class="{\'open-in-new-tab-always\': menuItem.openInNewTab == \'always\'}" ng-hide="menuItem.hide">\n\t\t\t<span ng-if="menuItem.icon" class="lui-list__aside">\n\t\t\t\t<span class="lui-icon  lui-icon--{{menuItem.icon}}"></span>\n\t\t\t</span>\n\t\t\t<span class="lui-list__text menu-item-text"\n\t\t\t\t  tid="{{menuItem.tid}}"\n\t\t\t\t  q-title-translation="{{ menuItem.title || menuItem.text}}"\n\t\t\t\t  ng-class="{\'open-in-new-tab-text-optional\': menuItem.openInNewTab == \'optional\', \'open-in-new-tab-always\': menuItem.openInNewTab == \'always\'}"\n\t\t\t\t  qva-activate="selectMenuItem(menuItem, $event)" q-translation="{{menuItem.text}}" ng-disabled="menuItem.disable">\n\t\t\t</span>\n\t\t\t<div class="list-divider" ng-if="menuItem.openInNewTab === \'optional\'"></div>\n\t\t\t<button ng-if="menuItem.openInNewTab" class="lui-fade-button  open-in-new-tab" ng-class="{\'open-in-new-tab-always\': menuItem.openInNewTab == \'always\'}" q-title-translation="{{ menuItem.title || \'Tooltip.OpenInNewTab\'}}" qva-activate="selectMenuItem(menuItem, $event, \'true\')" ng-disabled="menuItem.disable">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--new-tab"></span>\n\t\t\t</button>\n\t\t</li>\n\t</ul>\n</immidiate-contextual>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(49),n(476),n(477)],r=function(e,t,n,i,r){t.component("quiToolbar",{template:"<div class='qui-toolbar' ng-transclude />"});t.component("quiToolbarLeft",{template:"<div class='qui-buttonset-left' ng-transclude />"});t.component("quiToolbarRight",{template:"<div class='qui-buttonset-right' ng-transclude />"});t.component("quiToolbarButtonGroup",{template:"<div class='lui-buttongroup' ng-transclude />"});t.component("quiToolbarButton",{template:i,scope:{quiModel:"="},controller:["$scope",function(t){t.isMouseDown=false;t.onMouseDown=function(){t.isMouseDown=true};t.clientTabNavigation=n.getFlag("CLIENT_TAB_NAVIGATION");t.onButton=function(n){e.support.touch&&n.target.focus();t.quiModel.isToggleButton&&(t.quiModel.pressed=!t.quiModel.pressed);t.quiModel.isOpenedByClick=t.isMouseDown;t.isMouseDown=false;t.quiModel.onButtonClicked(t.quiModel,n)};function i(){var e=[];var n=t.quiModel;n.pressed?n.activeVariant?e.push(n.activeVariant):e.push("lui-active"):n.variant?e.push(n.variant):t.clientTabNavigation||e.push("lui-button--toolbar");t.classList=e}t.$watch("quiModel.pressed",i);t.$watch("quiModel.variant",i);t.$watch("quiModel.activeVariant",i);i()}]});t.component("quiToolbarMobileButton",{template:r,scope:{quiModel:"="},controller:["$scope",function(t){t.onButton=function(n){e.support.touch&&n.target.focus();t.quiModel.isToggleButton&&(t.quiModel.pressed=!t.quiModel.pressed);t.quiModel.onButtonClicked(t.quiModel,n)}}]})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<button\n\t\ttid="{{quiModel.tid}}"\n\t\tng-click="onButton($event)"\n\t\tng-mousedown="onMouseDown()"\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tq-title-translation="{{(quiModel.pressed && quiModel.tooltipActive ? quiModel.tooltipActive : quiModel.tooltipInactive)}}"\n\t\tng-disabled="quiModel.isDisabled()"\n\t\tng-hide="quiModel.isHidden()"\n\t\tclass="lui-button"\n\t\ttext-inactive="{{quiModel.textInactive ? quiModel.textInactive : \'\'}}"\n\t\tng-class="classList">\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="quiModel.icon && quiModel.iconToTheLeft"\n\t\tclass="lui-button__icon  lui-icon  lui-icon--{{quiModel.icon}} center"\n\t></span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="!quiModel.dynamicText && quiModel.showText()"\n\t\tclass="lui-button__text  item-title"\n\t\tqva-direction\n\t\tx-dir-text="{{(quiModel.pressed && quiModel.textActive ? quiModel.textActive : quiModel.textInactive) | translate}}"\n\t>\n\t\t{{(quiModel.pressed && quiModel.textActive ? quiModel.textActive : quiModel.textInactive) | translate}}\n\t</span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="quiModel.icon && !quiModel.iconToTheLeft"\n\t\tclass="lui-button__icon  lui-icon  lui-icon--{{quiModel.icon}} center"\n\t></span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="!quiModel.dynamicText && !quiModel.textOnly && quiModel.isDropdownButton"\n\t\tclass="lui-button__caret  lui-caret"\n\t></span>\n\t<span class="lui-button__text" qva-outside-ignore-for="{{quiModel.name}}" ng-if="quiModel.dynamicText">\n\t\t{{ quiModel.dynamicText() }}\n\t</span>\n</button>\n'},function(e,t){e.exports='<button\n\t\ttid="{{quiModel.tid}}"\n\t\tng-click="onButton($event)"\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tq-title-translation="{{(quiModel.pressed && quiModel.tooltipActive ? quiModel.tooltipActive : quiModel.tooltipInactive)}}"\n\t\tng-disabled="quiModel.isDisabled()"\n\t\tng-hide="quiModel.isHidden()"\n\t\tclass="lui-fade-button lui-fade-button--large lui-fade-button--inverse"\n\t\tng-class="{ \'lui-active\': quiModel.pressed }">\n\t<span qva-outside-ignore-for="{{quiModel.name}}" ng-if="!quiModel.dynamicText && quiModel.showText()"\n\t\tclass="lui-fade-button__text  item-title"\n\t\tqva-direction\n\t\tx-dir-text="{{(quiModel.pressed && quiModel.textActive ? quiModel.textActive : quiModel.textInactive) | translate}}">\n\t\t{{(quiModel.pressed && quiModel.textActive ? quiModel.textActive : quiModel.textInactive) | translate}}\n\t</span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="!quiModel.dynamicText && !quiModel.textOnly"\n\t\tclass="lui-fade-button__icon  lui-icon  lui-icon--large  lui-icon--{{quiModel.icon}}"></span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tclass="lui-fade-button__text"\n\t\tng-if="quiModel.dynamicText">{{ quiModel.dynamicText() }}</span>\n</button>\n'},,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(91),n(110),n(213)],r=function(e,t,n,i,r){var o=false;var a=i.LocalizedWarningCode;var s=[];var l={code:a.LOCWARN_PERSONAL_VERSION_EXPIRES_SOON,id:"ExpireWarningShown",shown:Date.now()<parseInt(localStorage.ExpireWarningShown,10),interval:864e5};var u={code:a.LOCWARN_PERSONAL_RELOAD_REQUIRED,id:"HiddenScriptWarningShown",shown:sessionStorage.HiddenScriptWarningShown};function c(e,t){var n=-1;for(var i=0;i<e.length;i++)if(e[i].code===t){n=i;break}return n}function d(e,t){if(t.shown){var n=c(e,t.code);-1!==n&&e.splice(n,1)}else if(-1!==c(e,t.code)){t.shown=true;t.interval?localStorage.setItem(t.id,Date.now()+t.interval):sessionStorage.setItem(t.id,true)}}function f(){o=true}function p(){o=!!s.length;s.length&&v()}function h(e,n){var i='<h2 class="inline-title">'+e+"</h2><span>"+n+"</span>";var r=t.getService("qvAlertDialog").show({message:i,closeOnEscape:true});r.opened.then(f);r.closing.then(p)}function v(){var e;var t;var i=s.shift();if("undefined"!==typeof i.code&&i.code===a.LOCWARN_PERSONAL_VERSION_EXPIRES_SOON){t=n.get("Info.QlikSenseDesktop.Upgrade.Expiring",["<a href='"+r.personalUpgradeUrl+"' target='_blank'>"+r.personalUpgradeBase+"</a>"]);e=n.get("Info.QlikSenseDesktop.Upgrade.Expiring.Title")}else{e=n.get("WarningDialog.Title");t="undefined"!==typeof i.code?n.get("WarningCode."+i.code):n.get(i.message)}h(e,t)}function m(t){var i=e.extend(true,[],t);d(i,l);d(i,u);if(i.length>0){s.push.apply(s,i);o||n.ready.then(function(){v()})}}return{showDialog:m}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(99)],r=function(e,t){return{configureTouchSupport:function n(){e(document.body.parentElement).addClass("touch-"+(t.treatAsDesktop()?"off":"on"))}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.isMeasure=function(e){return this.gMeasures.indexOf(e)>=0},e.isDimension=function(t){return this.gDimensions.indexOf(t)>=0||e.isTemporal(t)||e.isGeographical(t)||this.gIntervals.indexOf(t)>=0||e.gOrdinals.indexOf(t)>=0},e.isTemporal=function(t){return this.gTemporals.indexOf(t)>=0||e.gDays.indexOf(t)>=0},e.isGeographical=function(e){return this.gGeographical.indexOf(e)>=0},e.getGeoClassification=function(t){for(var n=void 0,i=0;i<t.length;i++)if(e.gGeographical.indexOf(t[i])){n=t[i];break}return n},e}();n.gMeasures=["measure","monetary","percentage"],n.gDimensions=["dimension","boolean"],n.gOrdinals=["ordinal","interval"],n.gIntervals=["interval","longitude","latitude","temporal"],n.gTemporals=["date","time","timestamp","year","quarter","month","week","minute","second","hour"],n.gDays=["day","weekDay","monthDay","yearDay"],n.gGeographical=["geographical","postalCode","city","stateProvince","country","geopoint"],t.ClassificationHelper=n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(54),n(151),n(606)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.getAssociation=function(e,t){if(!e.associations||!e.associations[t])return null;var i={name:t,nodes:[]};return i.nodes=n.map(e.associations[t],n.clone),i.nodes.forEach(function(t){t.table=e.getTargetTableModelById(t.tableId),t.table&&(t.field=t.table.getField(t.fieldId))}),i},e.getAssociationNames=function(t,i,r){if(!t.associations)return[];var o=Object.keys(t.associations);if(!i)return o;var a=i?e.createSerializedNode(i,r):void 0,s=[];return o.forEach(function(e){var i=n.find(t.associations[e],function(e){return r?a.fieldId===e.fieldId:a.tableId===e.tableId});i&&s.push(e)}),s},e.removeAssociationByName=function(e,t){e.associations&&e.associations[t]&&delete e.associations[t]},e.renameAssociation=function(e,t,i){if(i!==t&&(e.associations||(e.associations={}),e.associations[t])){if(!e.associations[i])return e.associations[i]=e.associations[t],void delete e.associations[t];e.associations[t].forEach(function(t){var r=n.find(e.associations[i],function(e){return e.tableId===t.tableId});r||e.associations[i].push(t)}),delete e.associations[t]}},e.addAssociationBetween=function(t,i,r,o,a,s){var l=s||e.generateAssociationName(t,i,r,o,a);t.associations||(t.associations={}),i.setUpdateStatus(),o.setUpdateStatus();var u=e.createSerializedNode(i,r),c=e.createSerializedNode(o,a);if(!t.associations[l])return void(t.associations[l]=[u,c]);var d=[u,c];d.forEach(function(e){n.where(t.associations[l],e).length||t.associations[l].push(e)})},e.getTargetFieldByName=function(e,t){return n.find(e.getFields(),function(e){return e.name===t})},e.getAssociationNamesBetween=function(t,i,r,o,a){var s=[],l=e.getAssociationNames(t,i,r),u=e.getAssociationNames(t,o,a);return l.forEach(function(e){n.indexOf(u,e)>-1&&s.push(e)}),s},e.addToAssociation=function(t,i,r,o){t.associations||(t.associations={}),t.associations[i]||(t.associations[i]=[]);var a=e.createSerializedNode(r,o);n.where(t.associations[i],a).length||(t.associations[i].push(a),r.setUpdateStatus())},e.removeFromAssociation=function(t,n,i,r){if(t.associations&&t.associations[n]){var o=e.createSerializedNode(i,r);t.associations[n]=t.associations[n].filter(function(e){return r?e.fieldId!==o.fieldId:e.tableId!==o.tableId}),0===t.associations[n].length&&delete t.associations[n],i.setUpdateStatus()}},e.generateAssociationName=function(t,n,i,r,o){var a=e._generateAssociationName(t,n,i,r,o);return e.cleanUpKey(a)},e.removeAssociationBetween=function(t,n,i,r,o){var a=e.getAssociationNamesBetween(t,n,i,r,o);a.forEach(function(a){e.removeFromAssociation(t,a,n,i),e.removeFromAssociation(t,a,r,o)})},e.updateAssociations=function(t){var n=e.getFieldName2TargetTablesMap(t);Object.keys(n).forEach(function(i){var r=n[i];r.length>1&&r.forEach(function(n){var r=n.table,o=e.getFieldQualifiedName(r.data.name,i);t.renameTargetTableField(r.data.name,i,o),e.addToAssociation(t,i,r,o)})});var i=e.getAssociationNames(t,null,null);i.forEach(function(n){var i=e.getAssociation(t,n);i.nodes.forEach(function(e){var i=t.getTargetTableModelById(e.tableId),r=i?i.getField(e.fieldId):null;r||(t.associations[n]=t.associations[n].filter(function(t){return t.fieldId!==e.fieldId}))})}),i=e.getAssociationNames(t,null,null),i.forEach(function(n){var i=e.getAssociation(t,n);i.nodes.length<=1&&e.removeAssociationByName(t,n)}),n=e.getFieldName2TargetTablesMap(t),i=e.getAssociationNames(t,null,null),i.forEach(function(i){var r=n[i];r&&r.forEach(function(n){var r=n.table,o=e.getFieldQualifiedName(r.data.name,i);t.renameTargetTableField(r.data.name,i,o)})}),Object.keys(t.associations).forEach(function(n){e.renameAssociation(t,n,e.cleanUpKey(n))})},e.getFieldQualifiedName=function(t,n){return e.cleanUpQualifiedNamePart(t)+"."+e.cleanUpQualifiedNamePart(n)},e.getDuplicateFieldInfo=function(t,n,i,r){var o={},a=e.getAssociation(t,r);t.targetTableModels.forEach(function(e){var t=e.getFields().filter(function(e){return e.name===i}),s=!1;a&&a.nodes.some(function(e){return e.field.name===i})&&(s=!0),e.data.id!==n.data.id||r?!(t.length>0&&e.data.id!==n.data.id)||a&&s||(o.otherTable=e.data.name):o.duplicateInSameTable=t.length>0});var s=e.getAssociation(t,i);if(s){var l=[];s.nodes.forEach(function(e){var t=e.table.data.name;-1===l.indexOf(t)&&l.push(t)}),l.length>=2&&(o.associatedTables=l)}return o.isUnique=!o.duplicateAssociation&&!o.duplicateInSameTable&&!o.associatedTables,o},e.serializeAssociations=function(e){var t=e.associations?e.associations:{};return r.SharedUtil.extend(!0,{},t)},e.hasDisconnectedBubbles=function(t){var n=t.targetTableModels.filter(function(e){return!e.isMarkedForDeletion()});if(n.length<=1)return!1;for(var i=0;i<n.length;i++){var r=n[i];if(0===e.getAssociationNames(t,r).length)return!0}return!1},e.doNameBasedAssociations=function(t,n,r){function o(e){var t=n.getTargetTableModel(e.data.name),r=!t||t.getStatus()===i.DSMTypes.QueryStatus["delete"],o=e.getStatus()===i.DSMTypes.QueryStatus.add||e.getStatus()===i.DSMTypes.QueryStatus.update;return r&&o&&a(e)}var a=function(n){return n.getStatus()!==i.DSMTypes.QueryStatus["delete"]&&0===e.getAssociationNames(t,n).length},s=n?o:a,l=e.getFieldName2TargetTablesMap(t,!0,s);Object.keys(l).forEach(function(n){var i=l[n];i.length>1&&i.forEach(function(o){i.forEach(function(i){o!==i&&e.hasGoodScore(t,r,o,i)&&e.isSafeToAssociate(t,o.table,o.field,i.table,i.field)&&e.addAssociationBetween(t,o.table,o.field,i.table,i.field,n)})})})},e.augmentRecommendationsWithNameBasedAssociations=function(t){var n={};t.result.associatedFields.forEach(function(t){var i=t.fieldL.tableName+"::"+t.fieldR.tableName,r=n[i];if(r||(r=n[i]={tablePairKey:i,associatedFields:[],maxAssociationFieldScore:0,nameBasedAssociationFields:[],maxNameBasedAssociationFieldScore:0}),r.associatedFields.push(t),r.maxAssociationFieldScore=Math.max(r.maxAssociationFieldScore,t.associationScore),t.associationScore>=.75){var o=e.getNonQualifiedFieldName(t.fieldL.tableName,t.fieldL.fieldName)||t.fieldL.fieldName,a=e.getNonQualifiedFieldName(t.fieldR.tableName,t.fieldR.fieldName)||t.fieldR.fieldName;o===a&&(r.nameBasedAssociationFields.push(t),r.maxNameBasedAssociationFieldScore=Math.max(r.maxNameBasedAssociationFieldScore,t.associationScore))}});var i=function(e){var t=n[e];if(t.nameBasedAssociationFields.length){var i=Math.min(1,t.maxAssociationFieldScore+.02),r=i-.01,o=i-.02;t.associatedFields.forEach(function(e){e.associationScore>o&&t.nameBasedAssociationFields.indexOf(e)<0&&(e.associationScore=o)}),t.nameBasedAssociationFields.forEach(function(e){e.associationScore=e.associationScore===t.maxNameBasedAssociationFieldScore?i:r})}};for(var r in n)i(r);return t},e.setAssociationGraph=function(e,t){var n={};t.forEach(function(t){n[t.name]=[],t.links.forEach(function(i){var r=e.getTargetTableModelById(i.query.id);r&&e.getTargetTableModelById(i.query.id).setUpdateStatus(),n[t.name].push({tableId:i.query.id,fieldId:i.field.id})})}),e.associations=n},e.hasCycle=function(t,n){var i={};return Object.keys(t).forEach(function(e){t[e].forEach(function(e){i[e.tableId]=i[e.tableId]?i[e.tableId]:{tableId:e.tableId,color:0,children:[]}})}),Object.keys(t).forEach(function(e){t[e].forEach(function(n){var r=i[n.tableId];t[e].forEach(function(e){var t=i[e.tableId];t!==r&&-1===r.children.indexOf(t)&&r.children.push(t)})})}),!!i[n]&&e.visit(i[n],i[n])},e.isSafeToAssociate=function(t,n,i,r,o){var a=e.getAssociationNamesBetween(t,n,null,r,null).length>0;if(a)return!1;var s=t.clone(),l=s.getTargetTableModel(n.data.name),u=s.getTargetTableModel(r.data.name),c=0===e.getAssociationNames(s,l).length||0===e.getAssociationNames(s,u).length;return e.addAssociationBetween(s,l,i,u,o),c||!e.hasCycle(s.associations,l.data.id)},e.visit=function(t,n){if(1===t.color)return!0;t.color=1;for(var i=0;i<t.children.length;i++){var r=t.children[i];if(r!==n&&e.visit(r,t))return!0}return t.color=2,!1},e.getFieldName2TargetTablesMap=function(t,n,i){var r={},o=i?t.targetTableModels.filter(i):t.targetTableModels;return o.forEach(function(t){t.getFields().forEach(function(i){var o=i.name;if(n){var a=e.getNonQualifiedFieldName(t.data.name,i.name);o=a||o}r[o]||(r[o]=[]),r[o].push({table:t,field:i.name})})}),r},e.hasGoodScore=function(e,t,i,r){function o(e,t){return e.tableName===t.table.data.name&&e.fieldName===t.field}if(!t.result||!t.result.associatedFields)return!1;var a;return a=n.find(t.result.associatedFields,function(e){return o(e.fieldL,i)&&o(e.fieldR,r)||o(e.fieldL,r)&&o(e.fieldR,i)}),a&&a.associationInfo.score>=.75},e.createSerializedNode=function(t,n){var i=t.data.id,r=n?e.getTargetFieldByName(t,n):void 0,o=r?r.id:void 0;return{tableId:i,fieldId:o}},e._generateAssociationName=function(t,n,i,r,o){var a,s=e.getAssociationNames(t,n,i);if(s&&s.length>=1)return s[0];var l=e.getAssociationNames(t,r,o);if(l&&l.length>=1)return l[0];var u=e.getNonQualifiedFieldName(n.data.name,i),c=e.getNonQualifiedFieldName(r.data.name,o);return u&&c&&u===c&&!e.getAssociation(t,u)?u:i===c?i:o===u?o:u&&c&&(a=[u,c].sort().join("-"),!e.getAssociation(t,a))?a:u&&!c&&(a=[u,o].sort().join("-"),!e.getAssociation(t,a))||!u&&c&&(a=[i,c].sort().join("-"),!e.getAssociation(t,a))?a:[i,o].sort().join("-")},e.cleanUpKey=function(e){return e.replace(/^_/,"-").replace(/\\/g,"-").replace(/\//g,"-").replace(/"/g,"'")},e.cleanUpQualifiedNamePart=function(e){return e.replace(/[\.]/g,"..")},e.getNonQualifiedFieldName=function(t,n){var i=e.cleanUpQualifiedNamePart(t);if(0!==n.lastIndexOf(i+".",0))return null;var r=n.substring(i.length+1);return r.split("..").join(".")},e}();t.LoadModelAssociations=o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(n(48));var r=a(n(89));var o=a(n(91));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function u(e,t,n){t&&l(e.prototype,t);n&&l(e,n);return e}var c="".concat(n.p,"img/connector-logos/connector-generic-logo.png");var d=function(){function e(t){s(this,e);this.normalizeDatasource(t);this.isBroken=false;this.isIframeCompatible=!!t.connectorType&&t.connectorType.isIframeCompatible;this.$timeout=i.default.getService("$timeout");this.imageFetched=new r.default;this.fetched=false;this.connectorMainLoaded=false;this.initialConnectStep=void 0}u(e,[{key:"normalizeDatasource",value:function e(t){t.entrypoint?this.datasource=t:this.datasource={entrypoint:t,connectorType:t.connectorType};this.datasource.entrypoint.imagePath||(this.datasource.entrypoint.imagePath=this.getDefaultImagePath())}},{key:"isInitialized",value:function e(){return this.imageFetched.promise}},{key:"setLoadConnectorMain",value:function e(t){this.loadConnectorMainCallback=t}},{key:"loadConnectorMain",value:function e(){var t=this;if(!this.loadConnectorMainCallback)return r.default.resolve();return this.loadConnectorMainCallback(this.datasource.connectorType).then(function(e){t.initialConnectStep=e.entrypoints[0].initialConnectStep;t.datasource.connectorMain=e})}},{key:"getDataMarketView",value:function e(){return{provider:this.getProvider(),entrypoint:this.datasource.entrypoint}}},{key:"setCanCreate",value:function e(t){this.datasource.canCreate=t}},{key:"canCreate",value:function e(){return this.datasource.canCreate}},{key:"getSelectStep",value:function e(){return this.datasource.connectorMain.getInitialSelectStep()}},{key:"getConnectStep",value:function e(){return this.initialConnectStep||this.datasource.entrypoint.initialConnectStep}},{key:"getConnectDialog",value:function e(){return this.datasource.connectorType.connectDialog}},{key:"getSelectDialog",value:function e(){return this.datasource.connectorType.selectDialog}},{key:"getConnectorMain",value:function e(){return this.datasource.connectorMain}},{key:"getCredentialsDialog",value:function e(){return this.datasource.entrypoint.credentialsDialog}},{key:"getEntrypoint",value:function e(){return this.datasource.entrypoint}},{key:"getDisplayName",value:function e(){if(this.datasource.connectorType&&this.datasource.connectorType.isStandardConnector)return o.default.get(this.datasource.connectorType.displayName||this.datasource.entrypoint.name);return o.default.get(this.datasource.entrypoint.dataSourceName||this.datasource.entrypoint.name||this.datasource.connectorType&&this.datasource.connectorType.displayName)}},{key:"getId",value:function e(){return this.datasource.entrypoint.id||this.datasource.entrypoint.dataSourceId}},{key:"isStandardConnector",value:function e(){return this.datasource.connectorType.isStandardConnector}},{key:"isScriptOnly",value:function e(){return this.datasource.entrypoint.scriptOnly}},{key:"getNeedsConnect",value:function e(){return this.datasource.connectorType.needsConnect}},{key:"getCategory",value:function e(){return this.datasource.category||this.datasource.entrypoint.category}},{key:"getImagePath",value:function e(){return this.datasource.imagePath}},{key:"getProvider",value:function e(){return this.datasource.connectorType.provider||this.datasource.providerInfo.provider}},{key:"isFolderConnector",value:function e(){return this.datasource.connectorType.isFolderConnector}},{key:"getConnectorType",value:function e(){return this.datasource.connectorType.type}},{key:"isStorageProvider",value:function e(){return this.datasource.connectorType.isStorageProvider}},{key:"getDefaultImagePath",value:function e(){var t="";switch(this.getId()){case"scripteditor.flatfilechooser.files.all":t="".concat(n.p,"img/connector-logos/connector-folder-all-logo.png");break;case"scripteditor.flatfilechooser.files.excel":t="".concat(n.p,"img/connector-logos/connector-folder-excel-logo.png");break;case"scripteditor.flatfilechooser.files.qvd":t="".concat(n.p,"img/connector-logos/connector-folder-qvd-logo.png");break;case"scripteditor.flatfilechooser.files.qvx":t="".concat(n.p,"img/connector-logos/connector-folder-qvx-logo.png");break;case"scripteditor.flatfilechooser.files.delimited":t="".concat(n.p,"img/connector-logos/connector-folder-delimited-logo.png");break;case"internet":t="".concat(n.p,"img/connector-logos/connector-internet-logo.png");break;case"odbc":t="".concat(n.p,"img/connector-logos/connector-odbc-logo.png");break;case"oledb":t="".concat(n.p,"img/connector-logos/connector-oledb-logo.png");break;default:t="".concat(n.p,"img/connector-logos/connector-generic-logo.png");break}return t}},{key:"getBestImage",value:function e(){var t=this;if(this.fetched)return;this.fetched=true;if(!this.datasource.entrypoint.imagePathSquare&&!this.datasource.entrypoint.imageSquarePath&&!this.datasource.entrypoint.imagePath){this.datasource.imagePath=c;this.imageFetched.resolve();return}var n=new Image;var i;n.onload=function(){t.$timeout(function(){t.datasource.imagePath=n.src;return t.imageFetched.resolve()})};n.onerror=function(){if(i)t.$timeout(function(){t.datasource.imagePath=c;t.imageFetched.resolve()});else{i=true;n.src=t.datasource.entrypoint.imagePath}};n.src=this.datasource.entrypoint.imagePathSquare||this.datasource.entrypoint.imageSquarePath}}]);return e}();var f=d;t.default=f;e.exports=t.default},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(1209),n(51),n(91)],r=function(e,t,n,i){var r={template:t,scope:{options:"="},controller:["$scope",function(e){e.translatedHeader=i.get(e.options.header,e.options.headerParameter);e.translatedContent=i.get(e.options.content,e.options.contentParameter);e.options.closePromise&&e.options.closePromise.then(function(){e.destroyComponent()});e.onConfirmButtonClicked=function(){e.destroyComponent();e.deferredResult.resolve(true)};function t(){e.destroyComponent();e.deferredResult.reject()}e.onEscape=t;e.onDeclineButtonClicked=t}]};function o(t){var i={showConfirmButton:true,showDeclineButton:true,confirmButtonTitle:"Common.OK",declineButtonTitle:"Common.Cancel"};e.extend(i,t);return n.show(r,{options:i})}return{confirmAction:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(90),n(117),n(108),n(91),n(54)],r=function(e,t,n,i,r,o,a){var s=[];var l="47a1cfd8-f70e-4a98-a00d-00fca6c8e253";var u=n.getRandomString(16);var c;function d(e){return e.id===l}var f=null;var p=null;function h(){p&&p.reject(null);p=t.defer();f||(f=e("<input type='file' style='display: none;'/>").appendTo(e("body")).change(function(){if(p){p.resolve(f[0].files[0]);p=null;f.remove();f=null}}));n.isMSIE()||n.isEdge()?t.getService("$timeout")(function(){f[0].click()},0):f[0].click();return p.promise}function v(e,t){var i=(n.basePath||"/")+"qrs/appcontent/"+n.getParameterByName("app")+"/"+e+"?";t=t||{};i+=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");return i}function m(e){var n=t.defer();var i=new XMLHttpRequest;if(i.upload){i.upload.addEventListener("progress",a,false);i.addEventListener("load",s,false);i.addEventListener("error",l,false);i.addEventListener("abort",c,false);var r=v("uploadfile",{externalpath:e.name,overwrite:true,xrfkey:u});i.open("POST",r,true);i.setRequestHeader("X-Qlik-XrfKey",u);var o=new FormData;o.append("file",e);i.send(o)}function a(e){if(e.lengthComputable){var t=e.loaded/Math.max(Math.max(e.total,e.loaded),1);n.notify(t)}}function s(){n.resolve(e)}function l(){n.reject()}function c(){n.resolve(null)}return n.promise}function g(e){var n=t.defer();var i=new XMLHttpRequest;i.addEventListener("load",o,false);i.addEventListener("error",a,false);var r=v("deletecontent",{externalpath:e,xrfkey:u});i.open("DELETE",r,true);i.setRequestHeader("X-Qlik-XrfKey",u);i.send();function o(){n.resolve()}function a(){n.reject()}return n.promise}var b=(new XMLHttpRequest).upload;function y(){return b}function x(e,t){var n=[o.get("UploadedFilesFolder.FileSizeUnit.Bytes"),o.get("UploadedFilesFolder.FileSizeUnit.KB"),o.get("UploadedFilesFolder.FileSizeUnit.MB")];var i=o.get("UploadedFilesFolder.FileSize.NA");if(e>0){var r=Math.max(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);i=t(e/Math.pow(1024,r)*10)/10+n[r]}return i}function w(e){return x(e,Math.ceil)}function S(e){return x(e,Math.floor)}var C=null;function E(){C=i.currentApp.getContentLibraries().then(function(e){return e.qList.filter(function(e){return e.qAppSpecific})[0]});return C}function q(){return(C||E()).then(function(e){return e.qMeta.privileges})}function _(){return q().then(function(e){return e&&e.indexOf("read")>=0})}function T(){return q().then(function(e){return e&&e.indexOf("update")>=0})}function k(){var e=/[^/]*$/;return(C||E()).then(function(e){return i.currentApp.getLibraryContent(e.qName)}).then(function(t){var n=t.qList&&t.qList.qItems||t.qList;if(!n||!n.length)return[];var i=n.map(function(t){return{fileName:t.qUrl.match(e)[0],url:t.qUrl}});return i})}function O(){return Promise.resolve(!r.isPersonalModeSync())}function D(e){return A().then(function(t){return t.some(function(t){return n.hasFileExtension(e.name,t)})})}function A(){var e=t.defer();if(c)e.resolve(c);else{var i=encodeURI((n.basePath||"/")+"qrs/app/content/"+n.getParameterByName("app")+"/fileextensionwhitelist?xrfkey="+u);t.getService("$http").get(i,{headers:{"X-Qlik-XrfKey":u}}).then(function(t){c=t.data.fileExtensions.map(function(e){return e.name});e.resolve(c)})}return e.promise}function I(e){if(d(e)){e.displayName=o.get("UploadedFilesFolder.DisplayName");e.privileges&&e.privileges.indexOf("read")>-1?e.privileges=["read"]:e.privileges=[]}}function L(e){var n=t.defer();E().then(function(t){if(t){var i=t.qMeta.maxFileSize;var r=t.qMeta.remainingLibrarySpace;var a=w(e.size);"number"===typeof i&&i>0&&e.size>i?n.reject({message:o.get("UploadedFilesFolder.Error.MaxFileSizeExceeded",[e.name,a,w(i)])}):"number"===typeof r&&e.size>r?n.reject({message:o.get("UploadedFilesFolder.Error.AvailableSpaceExceeded",[e.name,a,S(r)])}):n.resolve()}},function(e){n.reject(e)});return n.promise}function P(e){var n=t.defer();return D(e).then(function(t){if(!t){n.reject(new Error(o.get("UploadedFilesFolder.Error.NotAllowedFileType",[e.name])));return n.promise}try{encodeURIComponent(e.name)}catch(t){n.reject(new Error(o.get("UploadedFilesFolder.Error.IllegalCharsInFilename",[e.name])));return n.promise}L(e).then(function(){n.resolve(true)},function(e){n.reject(e)});return n.promise})}function M(e){e&&e.length>0?e.forEach(function(e){s.push(e.fileName?e.fileName:e.qName)}):s=[];s=a.uniq(s)}function N(){return s}function R(e,t){var n=[];t&&t.length>0&&t.forEach(function(t){e.tableModels.forEach(function(e){t===e.data.databaseName&&n.push(e.data.id)})});n=a.uniq(n);return n}function F(e,t){var n=[];t&&t.length>0&&t.forEach(function(t){e.tableModels.forEach(function(e){t===e.data.tableName&&n.push(e.data.id)})});return n}return{isFileUploadEnabled:O,getAppStoreLibrary:E,getAppStoreContent:k,canUserReadAppStore:_,canUserModifyAppStore:T,isFileUploadSupported:y,selectFile:h,uploadFile:m,deleteFile:g,getFormattedFileSize:w,getFormattedAvailableSpace:S,isUploadFolderConnection:d,adjustConnectionProperties:I,isAllowedFileType:D,checkUploadQuota:L,preUploadValidateFile:P,setAttachedFilesToReplace:M,getAttachedFilesToReplace:N,getTableIdsFromLoadModelWithFileNames:R,getTableIdsFromLoadModelUsingTableNames:F}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(90),n(89),n(330),n(265),n(418),n(331)],r=function(e,t,n,i,r,o,a){var s,l={mode:"S",enabled:true,debouncing:{enabled:true,delay:50},height:250,width:250,maxTotalArea:1e4};s=e.extend("CacheCube",{init:function e(t,n,s,l){this.model=t;this.responseProperty=n;this.options={};this.cubeHeight=0;this.cubeWidth=0;this.setOptions(l||{});this.setPath(s);"K"===this.options.mode?this.cube=new o:"P"===this.options.mode?this.cube=new a:this.cube=new r;this.throttle=new i;var u=this;this.throttle.Send.bind(function(e,t){var n=u._getDirections(u.throttle.recentRequests.map(function(e){return{top:e.data[0].qTop,left:e.data[0].qLeft}}));var i=u._getAreasToCache(e,n.vertical,n.horizontal);u.cacheData(i,e).then(function(e){u.cube?t.resolve(e):t.reject()},function(){t.reject()})});this._modelBinding=function(){u.clear()};this.model.Invalidated.bind(this._modelBinding)},destroy:function e(){this.cube.destroy();this.throttle.destroy();this.model&&this.model.Invalidated&&this.model.Invalidated.unbind(this._modelBinding);this._modelBinding=null;delete this.model;delete this.throttle;delete this.cube},setMethodName:function e(t){this.method=t},setPath:function e(t){this.path=t},setCubeSize:function e(t){this.cubeHeight=t.qcy;this.cubeWidth=t.qcx},setOptions:function e(n){if(!n)return;this.options=t.extend(true,{},l,this.options,n);this.cacheHeight=this.options.height;this.cacheWidth=this.options.width;this.enabled=this.options.enabled||false;this.debouncing={enabled:this.options.debouncing.enabled||false,delay:this.options.debouncing.delay||-1}},clear:function e(){this.cube&&this.cube.clear();this.throttle&&this.throttle.clear()},set:function e(t){this.clear();if(!t||!t.length)return;this.cube.store(t)},cacheData:function e(t,n){var i=function e(t){if(this.cube){this.cube.store(t);return this.cube.get(n)}return t};return"getHyperCubeStackData"===this.method&&this.options.maxStackedValues?this.model[this.method](this.path,t,this.options.maxStackedValues).then(i.bind(this)):this.model[this.method](this.path,t).then(i.bind(this))},getData:function e(t){if(!this.model)return n.reject();if(!this.enabled||!this.cubeHeight||!this.cubeWidth)return this.model[this.method](this.path,t);var i,r,o=[];for(i=0;i<t.length;++i){r=t[i];o.push({qTop:Math.max(Math.floor(r.qTop),0),qLeft:Math.max(r.qLeft,0),qHeight:Math.min(r.qHeight,this.cubeHeight-Math.floor(r.qTop)),qWidth:Math.min(r.qWidth,this.cubeWidth-r.qLeft)})}if(this.cube.contains(o)){this.throttle.updateResolutionTime();return n.resolve(this.cube.get(o))}if(0===o[0].qTop&&this.cube.isEmpty()&&this.throttle.ongoingRequests.length+this.throttle.queuedRequests.length===0){this.throttle.updateResolutionTime();return this.cacheData(o,o)}return this.throttle.queue(o)},_getDirections:function e(t){if(!t||t.length<2)return{vertical:0,horizontal:0};var n=t.slice(-2),i=n[1].top-n[0].top,r=n[1].left-n[0].left;return{vertical:i<0?-1:i>0?1:0,horizontal:r<0?-1:r>0?1:0}},_getAreasToCache:function e(t,n,i){var r,o,a,s,l,u,c,d,f,p=[],h=this.cacheHeight;"undefined"===typeof n&&(n=0);"undefined"===typeof i&&(i=0);this.cacheHeight*this.cacheWidth*t.length>this.options.maxTotalArea&&(h=Math.floor(this.options.maxTotalArea/(t.length*this.cacheWidth)));for(r=0;r<t.length;++r){o=0!==n?Math.floor(.5*Math.max(0,h-t[r].qHeight)):0;a=0!==i?Math.floor(.5*Math.max(0,this.cacheWidth-t[r].qWidth)):0;s=o*n-o;l=a*i-a;u=0!==n?Math.max(0,Math.min(Math.max(t[r].qHeight,h),this.cubeHeight)):t[r].qHeight;c=0!==i?Math.max(0,Math.min(Math.max(t[r].qWidth,this.cacheWidth),this.cubeWidth)):t[r].qWidth;d=Math.max(0,Math.min(t[r].qTop+s,this.cubeHeight-u));f=Math.max(0,Math.min(t[r].qLeft+l,this.cubeWidth-c));p.push({qTop:d,qHeight:u,qLeft:f,qWidth:c})}return p}});return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.loadExtension=g;var i=c(n(49));var r=c(n(58));var o=c(n(625));var a=c(n(626));var s=n(59);var l=c(n(103));var u=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var d={};function f(e){switch(e){case"auto-chart":return Promise.all([n.e(5),n.e(13),n.e(38)]).then(n.t.bind(null,1163,7));case"barchart":if(i.default.getFlag("BARCHART"))return(0,o.default)(Promise.all([n.e(4),n.e(19),n.e(72)]).then(n.t.bind(null,1164,7)));return Promise.all([n.e(0),n.e(2),n.e(7),n.e(9),n.e(39)]).then(n.t.bind(null,1165,7));case"boxplot":return Promise.all([n.e(4),n.e(0),n.e(14),n.e(17),n.e(40)]).then(n.t.bind(null,1173,7));case"combochart":return Promise.all([n.e(0),n.e(2),n.e(7),n.e(9),n.e(41)]).then(n.t.bind(null,1175,7));case"container":return Promise.all([n.e(6),n.e(5),n.e(8),n.e(13),n.e(36)]).then(n.t.bind(null,1178,7));case"distributionplot":return Promise.all([n.e(4),n.e(0),n.e(14),n.e(17),n.e(42)]).then(n.t.bind(null,1181,7));case"filterpane":return Promise.all([n.e(8),n.e(43)]).then(n.t.bind(null,1053,7));case"gauge":return Promise.all([n.e(0),n.e(2),n.e(7),n.e(9),n.e(44)]).then(n.t.bind(null,1054,7));case"histogram":return Promise.all([n.e(4),n.e(0),n.e(14),n.e(45)]).then(n.t.bind(null,1182,7));case"kpi":return n.e(47).then(n.t.bind(null,1055,7));case"linechart":return Promise.all([n.e(0),n.e(2),n.e(7),n.e(9),n.e(48)]).then(n.t.bind(null,1183,7));case"listbox":return n.e(49).then(n.t.bind(null,1184,7));case"map":case"map-chart":return b().then(function(){return Promise.all([n.e(4),n.e(6),n.e(5),n.e(74),n.e(50)]).then(n.t.bind(null,1185,7))});case"piechart":return(0,o.default)(Promise.all([n.e(4),n.e(19),n.e(75)]).then(n.t.bind(null,1188,7)));case"pivot-table":return Promise.all([n.e(8),n.e(15),n.e(18),n.e(51)]).then(n.t.bind(null,1057,7));case"scatterplot":return Promise.all([n.e(0),n.e(2),n.e(7),n.e(9),n.e(52)]).then(n.t.bind(null,1189,7));case"table":return Promise.all([n.e(8),n.e(15),n.e(18),n.e(53)]).then(n.t.bind(null,1059,7));case"text-image":return Promise.all([n.e(76),n.e(54)]).then(n.t.bind(null,1060,7));case"treemap":return Promise.all([n.e(0),n.e(2),n.e(7),n.e(55)]).then(n.t.bind(null,1190,7));case"waterfallchart":return Promise.all([n.e(4),n.e(0),n.e(14),n.e(56)]).then(n.t.bind(null,1191,7));case"widget":return Promise.all([n.e(6),n.e(5),n.e(8),n.e(13),n.e(57)]).then(n.t.bind(null,1192,7));default:return n.e(46).then(n.t.bind(null,391,7))}}function p(e,t){t.forEach(function(t){"js/qlik-require-plugin!"===t?console.error("Error in extension '".concat(e,"': Can not use 'js/qlik' in extensions - use 'qlik' instead.")):(0,a.default)(t)&&console.error("Error in extension '".concat(e,"': Can not use internal module '").concat(t,"'."))})}var h=null;function v(e){h||(h=(0,r.default)().then(function(){return(0,s.loadExtensionAMD)()}).then(function(){window.requirejs.config.call(null,{paths:{extensions:"".concat(u.default.rootPath,"extensions"),mapchart:"".concat(n.p,"extensions/qliktech/mapchart"),"_dashboard-bundle":"".concat(n.p,"_dashboard-bundle"),"_visualization-bundle":"".concat(n.p,"_visualization-bundle")}})},function(e){l.default.trackEvent(l.default.customEvents.EXTENSION_LOAD_ERROR,{type:"amd-code-split",message:e&&e.message});throw e}));return h.then(function(){return new Promise(function(t,n){if(d[e]){n(d[e]);return}window.requirejs([e],function(e){e=e.__esModule&&e.default?e.default:e;t(e)},function(t){p(e,t.requireModules);console.error(t);d[e]=t;l.default.trackEvent(l.default.customEvents.EXTENSION_LOAD_ERROR,{type:"3rd-party-requirejs",message:t&&t.message||t});n(t)})})})}function m(e){return v(e).then(function(e){return(0,o.default)(Promise.resolve(e))})}function g(e){return new Promise(function(t,n){var i=e.path;if(e.libraryInfo.isThirdParty&&e.libraryInfo.__next)return m(i).then(t,function(e){l.default.trackEvent(l.default.customEvents.EXTENSION_LOAD_ERROR,{type:"la-vie-code-split",message:e&&e.message||e});n(e)});if(e.libraryInfo.isThirdParty)return v(i).then(t,n);var r=e.typePath||e.type;return f(r).then(function(e){e=e.__esModule&&e.default?e.default:e;t(e)},function(e){l.default.trackEvent(l.default.customEvents.EXTENSION_LOAD_ERROR,{type:"qlik-extension-code-split",message:e&&e.message});n(e)})})}var b=function e(){return v("mapchart/WebMap5")}},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(90),n(282),n(89)],r=function(e,t,n,i){return{createProperties:s,convertProperties:l};function r(e){if("string"===typeof e)e={qDef:{qDef:e}};else if(e.qType){e.qDef=e.qDef||{};e.qDef.cId=t.generateId()}return e}function o(e){if("string"===typeof e)e={qDef:{qFieldDefs:[e]}};else if(e.qType){e.qDef=e.qDef||{};e.qDef.cId=t.generateId()}return e}function a(e){if("string"===typeof e)return 0===e.indexOf("=");if(e.qType)return"measure"===e.qType;return!!(e.qDef&&e.qDef.qDef||e.qSortBy||e.qAttributeExpressions)}function s(s,l,u,c){return i.all([n.getExtensionType(l),n.getInitialProperties(l)]).then(function(n){var l=new i;var d=n[0];var f=n[1];d.mapProperties();var p=d.getCreatePropertyHandler.call(d,s);p.setProperties(f);if(u){var h=u.slice(0);if(f.qListObjectDef){h.forEach(function(e,t){if(0===t){f.qListObjectDef.qDef||(f.qListObjectDef.qDef={});f.qListObjectDef.qDef.qFieldDefs=[e]}else{f.qListObjectDef.qExpressions||(f.qListObjectDef.qExpressions=[]);f.qListObjectDef.qExpressions.push({qDef:{qDef:e}})}});l.resolve(f)}else if(f.qHyperCubeDef||f.boxplotDef){var v=function t(n){var i;var s;var u;var c=true;if(n.length<=0)return l.resolve(f);i=n.shift();if(a(i)){s=r(i);u=e.extend(c,{},s);p.addMeasure(u,void 0,void 0,true).then(function(i){e.extend(c,i,s);t(n)})}else{s=o(i);u=e.extend(c,{},s);p.addDimension(u).then(function(i){e.extend(c,i,s);t(n)})}};v(h)}else l.resolve(f)}else l.resolve(f);return l.promise.then(function(e){c&&t.extend(true,e,c);var n=d.exportProperties&&d.importProperties;if(n){var i=d.importProperties(d.exportProperties({qProperty:e},d.options.hyperCubePath),e,d,d.options.hyperCubePath).qProperty;return i}return e})})}function l(e,r,o,a){var s=e.getEffectiveProperties();var l=n.getExtensionType(r);var u=n.getExtensionType(o);var c=n.getInitialProperties(r);return i.all([s,u,l,c]).then(function(e){var n={qProperty:e[0]};a&&t.extend(true,n.qProperty,a);var i=e[1];var o=e[2];var s=e[3];var l="table"===r&&"function"===typeof i.exportTableProperties?i.exportTableProperties:i.exportProperties;var u=o.importProperties(l(n),s,o).qProperty;u.qInfo&&u.qInfo.qId&&delete u.qInfo.qId;return u})}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.getCurrentSelections=function(e,t){return n(e).then(function(e){return e.engineApp.getSetAnalysis(t).catch(function(e){e.isHandled=true})})};i.getSelectionsFromBookmarkId=function(e,t,i){return n(e).then(function(e){return e.engineApp.getSetAnalysis(i,t).catch(function(e){e.isHandled=true})})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(738),n(100),n(739),n(48),n(11),n(349),n(315)],r=function(e,t,n,i,r){var o=t.resolveColor(3),a=t.resolveColor(4),s=["$scope",function(e){e.activeIndex=-1;e.colorSchemeLimits=[];e.animate=false;e.inputFocus=false}];i.directive("qvPaletteCreator",["$timeout",function(l){return{template:n,controller:s,replace:true,scope:{colors:"=",percentage:"=",limits:"=",types:"=",maxColors:"=?"},link:function n(s,u){var c=false,d=u.find(".paletteSlider"),f={min:null,max:null},p={colors:null,types:null,limits:null};if("[object Array]"!==Object.prototype.toString.call(s.colors)||"[object Array]"!==Object.prototype.toString.call(s.limits)||"[object Array]"!==Object.prototype.toString.call(s.types)||0===s.colors.length)throw new Error("Invalid array parameters set for Palette Creator component");s.maxColors=s.maxColors||100;function h(){if(s.limits.some(function(e){return e>=1||e<=0})){var e=1/s.colors.length,t=s.colors.length<10?.1:0;s.limits.forEach(function(n,i){s.limits[i]=t+i*e})}}s.onGradient=function(){l(function(){c=true;e.updateSegments(s,u,f,d);l(function(){c=false})})};s.onEnter=function(t,n){var i=parseFloat(s.segments[t].limit);if(Number.isNaN(+i)){s.segments[t].limit=s.limits[t];return}c=true;s.inputFocus=false;s.animate=true;s.percentage&&(i=Math.max(0,Math.min(i,1)));s.segments[t].limit=i;f=e.updateRange(s,l,u,f,d);e.updateSegments(s,u,f,d);l(function(){c=false});l(function(){s.animate=false},200);n.target.blur()};s.onInputFocus=function(){s.inputFocus=true};s.addLimit=function(n){var i,r;if(s.segments.length+1>=s.maxColors)return;c=true;r=s.colors[s.colors.length-1]===o?a:o;if(0===s.segments.length)i=(f.max-f.min)/2;else if(1===s.segments.length)i=s.segments[0].limit-(s.segments[0].limit-f.min)/2;else{var p=s.segments[s.segments.length-1].limit;var h=s.segments[s.segments.length-2].limit;i=p-(p-h)/2}s.segments.push(new e.SegmentLimit(s,parseFloat(i.toFixed(2)),false));s.colors.push(t.resolveColor(r));f=e.updateRange(s,l,u,f,d);e.updateActiveIndex(s,u,d);e.updateSegments(s,u,f,d);n.preventDefault();l(function(){c=false;m()})};s.removeLimit=function(t){c=true;s.segments.splice(t,1);s.colors.splice(t+1,1);e.updateActiveIndex(s,u,d);f=e.updateRange(s,l,u,f,d);e.updateSegments(s,u,f,d);l(function(){c=false;m()})};s.addDisabled=function(){return!s.segments||s.segments.length+1>=s.maxColors};s.$watch("percentage",function(e,t){if(e!==t){e&&h();m(true)}});s.$watch("colors",function(){m()},true);s.$watch("types",function(){m()},true);s.$watch("limits",function(){m()},true);function v(){var t,n,o;c=true;s.segments=s.limits.map(function(t,n){return new e.SegmentLimit(s,t,s.types[n])});f=e.getRange(s);var a={min:f.min,max:f.max,step:e.getSliderStep(f.max,f.min),values:s.segments.map(function(e){return e.limit}),create:function t(){e.updateSelectedHandle(-1,s.activeIndex,d)},stop:function n(){i.$apply(s,function(){var n,i=s.segments.length;for(n=0;n<i;n++)if(s.activeIndex===n&&s.slide){s.segments[n].limit=s.sliderOptions.values[n];s.slide=false;f=e.updateRange(s,l,u,f,d);break}e.updateOutDataArrays(s,f);t=false;l(function(){c=false})})},slide:function r(a,l){o+=l.values[s.activeIndex]-n;if(t&&Math.abs(n-o)<.05*(f.max-f.min))return false;s.slide=true;i.$apply(s,function(){s.segments[s.activeIndex].limit=s.sliderValues[s.activeIndex];e.updateOutDataArrays(s,f);e.updateArrow(s,u,f.max,f.min)})},change:function e(){return false},start:function a(l,p){c=true;i.$apply(s,function(){var i=0,a=p.handle;if(!a||!r(a).hasClass("ui-slider-handle"))return;while(null!=(a=a.previousSibling))i++;if(i!==s.activeIndex){e.updateActiveIndex(s,u,d,i);t=true;n=s.sliderOptions.values[i];o=n}e.updateArrow(s,u,f.max,f.min)})}};e.updateSliderOptions(s,a);e.updateActiveIndex(s,u,d);e.updateSegments(s,u,f,d);p.colors=s.colors.slice();p.types=s.types.slice();p.limits=s.limits.slice();c=false}function m(e){var t=false;if(c)return;if(!e){t||s.segments.length==s.limits.length||(t=true);t||p.colors.length===s.colors.length&&!p.colors.some(function(e,t){return e!==s.colors[t]})||(t=true);t||p.types.length===s.types.length&&!p.types.some(function(e,t){return e!==s.types[t]})||(t=true);t||p.limits.length===s.limits.length&&!p.limits.some(function(e,t){return e!==s.limits[t]})||(t=true)}(t||e)&&v(false)}v(true)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(457),n(269),n(217)],r=function(e,t,n,i){function r(i,r){r=r||function(){};e.getApp().then(function(){var e=new n;e.add(i,function(){t.save();r()})})}function o(n,r){r=r||function(){};e.getApp().then(function(e){i.addMeasure(n,e,function(){t.save();r()})})}return{showAddDimensionDialog:r,showAddMeasureDialog:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(781)],r=function(e,t,n){t.directive("qvAssetsSearchPanel",function(){return{restrict:"E",replace:true,scope:{query:"=",clearWhen:"=",look:"@"},template:n,link:function t(n,i){n.$watch("rawQuery",function(t){0===e.trim(t).length?""!==n.query&&(n.query=""):n.query=t});n.$watch("clearWhen",function(e){e&&n.onClear()});n.onClear=function(){n.rawQuery=""};var r=i.find("input");r.on("keydown",function(e){if(27===e.which){n.onClear();n.$apply();e.stopPropagation()}else if(13===e.which){e.stopPropagation();r.blur()}})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){var t=["showtitles","title","subtitle","footnote"],n="header",i="data",r="sorting",o="settings",a="settings.";var s={};function l(e){if(e&&0===e.indexOf(a))return e.substring(9);return e}function u(e){if(e&&0!==e.indexOf(a))return a+e;return e}function c(e,t){var n=t.length;var i=0;var r=false;if(e){e.forEach(function(e){if(e.ref&&0===e.ref.indexOf(t)){var o=parseInt(e.ref.substring(n));o>i&&(i=o);s[t]&&o===s[t]+1&&(r=true)}});s[t]&&!r||(s[t]=i)}else s[t]=0;s[t]+=1;return t+s[t]}function d(e,t){e&&e.forEach(function(n,i){n["ref"]===t&&e.splice(i,1)})}function f(e,t){var n=-1;e&&e.some(function(e,i){if(e["ref"]===t){n=i;return true}});return n}function p(e){if(e.settings)return e.settings.sort(function(e,t){if(e.order===t.order)return 0;if(!e.order||e.order<t.order)return-1;return 1});return[]}function h(e,t){if(e.settings)return e.settings.filter(function(e){return(e.parent||o)===t}).sort(function(e,t){if(e.order===t.order)return 0;if(!e.order||e.order<t.order)return-1;return 1});return[]}function v(t){var n=e.extend(true,{},t);n.type=n.type||"string";n.label=n.label||n.ref;n.defaultValue=n.defaultValue||"boolean"!==n.type&&"";"string"!==n.type||n.component||(n.expression=n.expression||"optional");"text"===t.component?delete n.ref:n.ref=u(n.ref);return n}function m(e,t){var n={},i=h(e,t);i.forEach(function(e){n[e.ref]=v(e)});return n}function g(e){w(e,n,{ref:o})}function b(e,t){if(t===n)return true;if(t===i)return!y(e)&&!x(e);if(t===r)return(y(e)||x(e))&&true!==e.sorting;return false}function y(e){return void 0!==e.measures&&(e.measures.max>0||void 0===e.measures.max)}function x(e){return void 0!==e.dimensions&&(e.dimensions.max>0||void 0===e.dimensions.max)}function w(e,t,o){switch(t){case i:e.measures={min:1,max:1};break;case n:e.sections=e.sections||[];var a=o||{};a.type=t;a.ref=a.ref||c(e.sections,t);a.label=a.label||"Settings";e.sections.push(a);break;case r:e.sorting=true;break}}function S(e,t,n){if(t===i){delete e.measures;delete e.dimensions;delete e.sorting;return}if(t===r){delete e.sorting;return}"section-header"===t&&h(e,n).forEach(function(t){_(e,t)});d(e.sections,n)}function C(e,n){if(!n||"q"===n.substr(0,1).toLowerCase())return false;if(t.indexOf(n.toLowerCase())>-1)return false;var i=true;e.settings&&e.settings.forEach(function(e){e.ref===n&&(i=false)});return i}function E(e,t,n){t=t.item||t;e.settings||(e.settings=[]);e.sections||g(e);t.parent&&"general"!==t.parent||(t.parent=o);t.ref=t.ref||c(e.settings,"property");t.label=t.label||t.ref.substr(0,1).toUpperCase()+t.ref.substring(1);n||T(e,t);e.settings.push(t)}function q(e,t,n,i,r){t=t.item||t;t.ref=l(t.ref);var o=t.parent===n;"undefined"===typeof t.order&&(t.order=f(e.settings,t.ref));var a=t.order;t.parent=n;_(e,t,o,r);t.order=i-(t.order<i&&o?1:0);o&&T(e,t,false,a);E(e,t,o)}function _(e,t,n,i){t=t.item||t;d(e.settings,l(t.ref));n||T(e,t,true,null,i)}function T(e,t,n,i,r){var o=h(e,r||t.parent);Number.isNaN(+t.order)||t.order>o.length||t.order<0?t.order=o.length:n||"undefined"===typeof i?n?o.forEach(function(e){e.order>t.order&&e.order--}):o.forEach(function(e){e.order>=t.order&&e.order++}):i<t.order?o.forEach(function(e){e.order>i&&e.order<=t.order&&e.order--}):o.forEach(function(e){e.order>=t.order&&e.order<i&&e.order++})}function k(e){var t={};if(e&&e.properties){x(e.properties)&&(t.dimensions=e.properties.dimensions);y(e.properties)&&(t.measures=e.properties.measures)}return t}function O(e){var t={type:"items",component:"accordion",items:{}};if(e&&e.properties){var n=e.properties;if(y(n)||x(n)){t.items.data={uses:i,items:{measures:{disabledRef:""},dimensions:{disabledRef:""}}};n.sorting&&(t.items.sorting={uses:r})}t.items.settings={uses:"settings",items:{}};(!n.sections||n.sections.length<1)&&n.settings&&n.settings.length>0&&g(n);n.sections&&n.sections.length>0&&n.sections.forEach(function(e){t.items.settings.items[e.ref]={ref:e.ref,type:"items",label:e.label,items:m(n,e.ref)}})}return t}return{addScope:u,stripScope:l,canAddSection:b,addSection:w,removeSection:S,addItem:E,removeItem:_,moveItem:q,getData:k,getDefinition:O,isValidRef:C,getSectionItemsArr:h,getSectionsItemsArr:p}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(10),n(11),n(825),n(48)],r=function(e,t,n,i){var r=["js","css","html","json"];var o=["break","do","instanceof","typeof","case","else","new","var","catch","finally","return","void","continue","for","switch","while","debugger","function","this","with","default","if","throw","delete","in","try","class","enum","extends","super","const","export","import","implements","let","private","public","yield","interface","package","protected","static","null","true","false"];function a(e,t){return(new RegExp(t+"=(.+?)(&|$)").exec(e)||[null,null])[1]}function s(e,t){var n=new RegExp(t+"=(.+?)(&|$)","g"),i=[],r;while(r=n.exec(e))i.push(decodeURIComponent(r[1]));return i}function l(e){document.title=e+" | Dev Hub"}function u(e){var n=[];t.forEach(e,function(e,i){t.isObject(e)&&(e.key=i);n.push(e)});return n}function c(e){if(location.hash){var t=new RegExp(e+"{(.*)}","");var n=location.hash.match(t);return!!(n&&n.length>1)&&decodeURIComponent(n[1])}return false}function d(){return window.location.pathname.substr(0,window.location.pathname.toLowerCase().lastIndexOf("/dev-hub")+1)}function f(e){if(e){var t=window.location.href,n=t.indexOf("#");n>0&&(window.location.hash="")}window.location.reload()}function p(e){return m(e)&&e.indexOf(".")<0}function h(e,t,n){var i=v(t,e);i||(i=n.some(function(t){return v(t.items,e)}));return i}function v(e,t){return e.filter(function(e){return e.id.toLowerCase()===t.toLowerCase()}).length>0}function m(e){return!!(e&&e.length&&e.length>0)&&(/^[.0-9a-zA-Z_-]+$/.test(e)&&!/^\./.test(e))}function g(e){var t=/^[$A-Z_][0-9A-Z_$]*$/i;return t.test(e)&&-1===o.indexOf(e)}function b(e){var t=/^[$A-Z_][0-9A-Z_$]*$/i;return t.test(e)}function y(e){return-1!==o.indexOf(e)}function x(t,n,i){return i?e.isInteger(t)&&e.isInteger(n)&&t>=0&&n>=0&&n>=t:e.isInteger(t)&&e.isInteger(n)&&n>=t}function w(e){if(!e)return false;var t=e.lastIndexOf(".");if(t<0)return false;return r.indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())>-1}function S(e){var t=/^[a-z]+[a-zA-Z0-9]*\b/g;return t.test(e)}function C(e){var t=/[^A-Z0-9]/i;return t.test(e)}function E(e){return e.substr(e.lastIndexOf(".")+1).toLowerCase()}function q(e){return e.substr(0,e.lastIndexOf("."))}function _(e){return e.replace(/[^a-z0-9]/gi,"-").toLowerCase()}function T(e){var t="";for(var n=0;n<e.length-1;n++)t+="."+e[n]+", ";t+="."+e[e.length-1];return t}var k,O;function D(){if(!O){O=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;n.fn.mutation=function(e,t,n){if(O){t=t||{subtree:false,attributes:true};k=new O(function(t){t.forEach(function(t){n?n(t,e):e(t.target,t.attributeName,t)})});return this.each(function(){k.observe(this,t)})}}}}function A(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return("x"===t?n:3&n|8).toString(16)})}function I(e,t,n){function i(e){e.debounceTimer&&clearTimeout(e.debounceTimer);e.debounceTimer=null}return function(){var r=this,o=arguments,a;i(n);a=setTimeout(function(){e.apply(r,o)},t);n.debounceTimer=a}}return{getURLParameter:a,getURLParameters:s,setBrowserTitle:l,getHashParameter:c,getPrefix:d,reload:f,isInteger:function t(n){return e.isInteger(n)},extend:function e(){return t.extend.apply(null,arguments)},deepCopy:function e(){return t.copy.apply(null,arguments)},isValidExtensionName:p,isExistingExtensionName:h,isValidName:m,isValidFunctionName:g,isJsReservedWord:y,isValidSyntax:b,isValidInterval:x,isValidCamelCase:S,hasInvalidCharacters:C,sanitizeFileName:_,hasValidFileExtension:w,getFileExtension:E,getFileName:q,fileExtensionArrayToString:T,objectToArray:u,addMutationObserver:D,generateId:A,debounce:I,conversions:i,__onlytest__:{_isIdInList:v}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(238),n(90)],r=function(e){var t=e.extend({getDimensions:function e(){return[]},getMeasures:function e(){return[]}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,function(e,t,n){var i=n(10);(function(e,t){"use strict";var n=-1!=navigator.appVersion.indexOf("Mac"),i="undefined"!==typeof e.onwheel?"wheel":"undefined"!==typeof e.onmousewheel?"mousewheel":"DOMMouseScroll",r=document.documentElement,o=r.matches?"matches":r.matchesSelector?"matchesSelector":r.webkitMatches?"webkitMatches":r.webkitMatchesSelector?"webkitMatchesSelector":r.msMatches?"msMatches":r.msMatchesSelector?"msMatchesSelector":r.mozMatches?"mozMatches":r.mozMatchesSelector?"mozMatchesSelector":null;var a=t.element.prototype.closest||function(e){var n=this[0].parentNode;while(n!==document.documentElement&&null!=n&&!n[o](e))n=n.parentNode;return n&&n[o](e)?t.element(n):t.element()};t.module("vs-repeat",[]).directive("vsRepeat",["$compile",function(r){return{restrict:"A",scope:true,require:"?^vsRepeat",controller:["$scope",function(e){this.$scrollParent=e.$scrollParent;this.$fillElement=e.$fillElement}],compile:function(o,s){var l=o.children().eq(0),u=l.attr("ng-repeat"),c=l[0].outerHTML,d=/^\s*(\S+)\s+in\s+([\S\s]+?)(track\s+by\s+\S+)?$/.exec(u),f=d[1],p=d[2],h=d[3],v="$vs_collection",m={vsRepeat:"elementSize",vsOffsetBefore:"offsetBefore",vsOffsetAfter:"offsetAfter",vsExcess:"excess"};o.empty();e.getComputedStyle&&"absolute"===e.getComputedStyle(o[0]).position||o.css("position","relative");return{pre:function(o,s,l,u){var d=t.element(c),g=[],b,y="undefined"!==typeof l.vsHorizontal,x,w,S=!l.vsRepeat,C=!!l.vsSizeProperty,E=l.vsScrollParent?a.call(s,l.vsScrollParent):s,q=y?"translateX":"translateY",_=y?"left":"top",T=y?"clientWidth":"clientHeight",k=y?"offsetWidth":"offsetHeight",O=y?"scrollLeft":"scrollTop";if(0===E.length)throw"Specified scroll parent selector did not match any element";o.$scrollParent=E;C&&(o.sizesCumulative=[]);o.elementSize=E[0][T]||50;o.offsetBefore=0;o.offsetAfter=0;o.excess=2;Object.keys(m).forEach(function(e){l[e]&&l.$observe(e,function(t){o[m[e]]=+t;R()})});o.$watchCollection(p,function(e){g=e||[];if(!g||g.length<1){o[v]=[];b=0;F(0);o.sizesCumulative=[0];return}b=g.length;if(C){o.sizes=g.map(function(e){return e[l.vsSizeProperty]});var t=0;o.sizesCumulative=o.sizes.map(function(e){var n=t;t+=e;return n});o.sizesCumulative.push(t)}D();R()});function D(){S&&o.$$postDigest(function(){if(s[0].offsetHeight||s[0].offsetWidth){var e=s.children(),t=0;while(t<e.length){if(null!=e[t].attributes["ng-repeat"]){if(e[t][k]){o.elementSize=e[t][k];R();S=false;o.$root&&!o.$root.$$phase&&o.$apply()}break}t++}}else var n=o.$watch(function(){if(s[0].offsetHeight||s[0].offsetWidth){n();D()}})})}d.attr("ng-repeat",f+" in "+v+(h?" "+h:"")).addClass("vs-repeat-repeated-element");var A=C?"(sizesCumulative[$index + startIndex] + offsetBefore)":"(($index + startIndex) * elementSize + offsetBefore)";"undefined"!==typeof document.documentElement.style.transform?d.attr("ng-style",'{ "transform": "'+q+'(" + '+A+' + "px)"}'):"undefined"!==typeof document.documentElement.style.webkitTransform?d.attr("ng-style",'{ "-webkit-transform": "'+q+'(" + '+A+' + "px)"}'):d.attr("ng-style","{"+_+": "+A+' + "px"}');r(d)(o);s.append(d);w=t.element('<div class="vs-repeat-fill-element"></div>').css({position:"relative","min-height":"100%","min-width":"100%"});s.append(w);r(w)(o);o.$fillElement=w;var I={};if(n){x=t.element('<div class="vs-repeat-wheel-helper"></div>').on(i,function(e){e.preventDefault();e.stopPropagation();e.originalEvent&&(e=e.originalEvent);E[0].scrollLeft+=e.deltaX||-e.wheelDeltaX;E[0].scrollTop+=e.deltaY||-e.wheelDeltaY}).on("mousemove",function(e){I.x===e.clientX&&I.y===e.clientY||t.element(this).css("display","none");I={x:e.clientX,y:e.clientY}}).css("display","none");w.append(x)}o.startIndex=0;o.endIndex=0;E.on("scroll",function e(t){V()&&o.$apply()});n&&E.on(i,L);function L(e){var t=e.currentTarget;(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)&&x.css("display","block")}function P(){if("undefined"!==typeof l.vsAutoresize){S=true;D();o.$root&&!o.$root.$$phase&&o.$apply()}V()&&o.$apply()}t.element(e).on("resize",P);o.$on("$destroy",function(){t.element(e).off("resize",P)});o.$on("vsRepeatTrigger",R);o.$on("vsRepeatResize",function(){S=true;D()});var M,N;function R(){M=void 0;N=void 0;V();F(C?o.sizesCumulative[b]:o.elementSize*b);o.$emit("vsRepeatReinitialized")}function F(e){if(y){w.css({width:o.offsetBefore+e+o.offsetAfter+"px",height:"100%"});if(u&&u.$fillElement){var t=u.$fillElement[0].parentNode.querySelector("[ng-repeat]");t&&u.$fillElement.css({width:t.scrollWidth+"px"})}}else{w.css({height:o.offsetBefore+e+o.offsetAfter+"px",width:"100%"});if(u&&u.$fillElement){t=u.$fillElement[0].parentNode.querySelector("[ng-repeat]");t&&u.$fillElement.css({height:t.scrollHeight+"px"})}}}var j;function B(){var e=E[0][T];if(e!==j){R();o.$root&&!o.$root.$$phase&&o.$apply()}j=e}o.$watch(function(){"function"===typeof e.requestAnimationFrame?e.requestAnimationFrame(B):B()});function V(){if(C){o.startIndex=0;while(o.sizesCumulative[o.startIndex]<E[0][O]-o.offsetBefore)o.startIndex++;o.startIndex>0&&o.startIndex--;o.endIndex=o.startIndex;while(o.sizesCumulative[o.endIndex]<E[0][O]-o.offsetBefore+E[0][T])o.endIndex++}else{o.startIndex=Math.max(Math.floor((E[0][O]-o.offsetBefore)/o.elementSize+o.excess/2)-o.excess,0);o.endIndex=Math.min(o.startIndex+Math.ceil(E[0][T]/o.elementSize)+o.excess,b)}var e=o.startIndex!==M||o.endIndex!==N;e&&(o[v]=g.slice(o.startIndex,o.endIndex));M=o.startIndex;N=o.endIndex;return e}}}}}}]);t.element(document.head).append(["<style>.vs-repeat-wheel-helper{position: absolute;top: 0;bottom: 0;left: 0;right: 0;z-index: 99999;background: rgba(0, 0, 0, 0);}.vs-repeat-repeated-element{position: absolute;z-index: 1;}</style>"].join(""))})(window,window.angular)},function(e,t,n){"use strict";(function(e){var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(10),n(516)],r=function(e,t){var n=e.module("qv.mobile-menu",["leonardo-ui.overlay"]);var i=100;var r={opening:0,open:1,closing:2,closed:3};var a={template:t,scope:{variant:"=",removeOverlay:"=",openedDeferred:"=",closedDeferred:"=",id:"=",template:"=",controller:"=",input:"="},controller:["$scope","$timeout",function(e,t){var n=r.opening;var o;var a;var s;var l;e.fade=true;function u(s){if(n===r.closing||n===r.closed)return;n=r.closing;e.fade=true;a=t(function(){o=s;e.removeOverlay()},i)}e.exposedApi.close=u;e.close=u;function c(e){e.stopPropagation();e.preventDefault()}e.onOutside=function(t){c(t);e.close()};e.onInside=function(t){if(t.target.hasAttribute("mm-content-inside-click")){c(t);e.close()}};s=t(function(){e.fade=false;l=t(function(){if(n===r.opening){e.openedDeferred.resolve();n=r.open}else e.openedDeferred.reject()},i)});e.$on("$destroy",function(){n=r.closed;e.closedDeferred.resolve(o);t.cancel(a);t.cancel(s);t.cancel(l)})}]};n.service("qvMobileMenu",["$q","luiOverlay",function(e,t){var n=0;var i={};i.show=function(i){if("object"!==o(i))throw new Error("options must be an object");var r="mobile-menu-"+n++;var s="undefined"===typeof i.closeOnEscape||i.closeOnEscape;var l=e.defer();var u=e.defer();var c=t.show(a,{controller:i.controller||function(){},template:i.template,variant:i.variant,input:i.input,closeOnEscape:s,openedDeferred:l,closedDeferred:u,id:r});return{close:c.close,opened:l.promise,closed:u.promise}};return i}])}.apply(t,i),void 0!==r&&(e.exports=r))}).call(this,n(55)(e))},function(e,t){e.exports='<div id="{{id}}" class="qv-mobile-menu-container" ng-class="{ \'lui-fade\': fade }" tabindex="-1" qva-focus="true"\n\t\t lui-component mm-content-inside-click x-template="template" x-controller="controller" x-close="close" x-variant="variant" x-input="input" qva-outside="onOutside($event)" ng-click="onInside($event)"></div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(518)],r=function(e){function t(n){if(!(this instanceof t))throw new Error("Url needs to be called with the new keyword");if(!n)throw new Error("Url needs a string to operate on");var r=i(n);Object.defineProperties(this,{authorityAndPath:{value:r.authorityAndPath},search:{value:r.search},hash:{value:r.hash},searchParams:{get:function t(){return e.fromSearchString(r.search)}}})}t.encodeAuthorityAndPath=function(e){return encodeURI(e).replace(/%5B/gi,"[").replace(/%5D/gi,"]")};t.encodeSearchParams=function(e){var t="";var i;for(var r=0;r<e.length;r++){i=e[r];t+=0===r?"?":"&";t+=n(i[0]);t+=i[1]?"="+n(i[1]):""}return t};function n(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}return t;function i(e){var t={authorityAndPath:"",search:"",hash:""};var n=e.indexOf("#");if(-1!==n){t.hash=e.substr(n);e=e.substr(0,n)}n=e.indexOf("?");if(-1!==n){t.search=e.substr(n);e=e.substr(0,n)}t.authorityAndPath=e;return t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={fromSearchString:t};return e;function t(e){if(!e)return[];"?"===e[0]&&(e=e.substr(1));var t=[];e.split("&").map(function(e){if(!e)return;var i=e.indexOf("=");var r;var o="";if(-1===i)r=e;else{r=e.slice(0,i);o=e.slice(i+1)}t.push(n(r,o))});return t}function n(e,t){return[i(e),i(t)]}function i(e){try{return decodeURIComponent(e)}catch(t){return e}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(2)],r=function(e){return{load:function t(i,r){var o="".concat(n.p,"translate/").concat(i,"/").concat(r,".json");return e.get(o,{responseType:"json"}).then(function(e){return e.data})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog x-variant="{{::variant}}" class="qv-alert-dialog">\n\t<lui-dialog-header ng-if="input.title">\n\t\t<lui-dialog-title>{{input.title}}</lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body ng-bind-html="input.message"></lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button x-variant="{{::variant}}" tid="alert-dialog-close" ng-click="close(true);" qva-focus="true">{{::closeLabel}}</lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t){e.exports='<lui-dialog x-variant="{{::variant}}" class="qv-confirm-dialog">\n\t<lui-dialog-header ng-if="input.title">\n\t\t<lui-dialog-title>{{input.title}}</lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body ng-if="input.icon">\n\t\t<div class="message">\n\t\t\t<span ng-if="input.icon" class="message-icon lui-icon lui-icon--{{input.icon}}"></span>\n\t\t\t<div class="body-message">{{input.message}}</div>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-body ng-if="!input.icon" ng-bind-html="input.message"></lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button x-variant="{{::variant}}" ng-if="!input.hideCancelButton" tid="confirm-dialog-cancel" ng-click="close(false);">{{::cancelLabel}}</lui-button>\n\t\t<lui-button x-variant="{{::variant}}" tid="confirm-dialog-ok" ng-click="close(true);" qva-focus="true">{{::okLabel}}</lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(300),n(97),n(436),n(524)],r=function(e,t,n,i){var r={template:i,scope:{menu:"=",options:"=",closingFn:"="},controller:["$scope","$element",function(i,r){var o=null;var a={DOWN:40,UP:38,RIGHT:39,LEFT:37,TAB:9,ESC:27,ENTER:13};function s(e,t){e.$$postDigest(function(){e.$$postDigest(t)})}function l(t){s(i,function(){if(i.options.alignTo)e.align(f(),i.options.alignTo,{collision:i.options.collision||"flip",position:i.options.docking||"top"});else{t=t||o;o=t?n.reposition(f(),t):n.position(f(),i.options.docking,i.options.position)}})}i.focusedItem=0;i.keyDown=function(e){e.preventDefault();e.stopPropagation();var t=e.target.parentElement.getElementsByTagName("li");e.keyCode===a.ESC&&i.close();if(e.keyCode===a.ENTER)if(i.levels.length)0===i.focusedItem?c(true):i.selectItem(e,i.currentItems[i.focusedItem-1],i.options.onCloseFn);else if(i.currentItems[i.focusedItem].items.length>0){d(i.currentItems[i.focusedItem],true);i.focusedItem=0}else i.selectItem(e,i.currentItems[i.focusedItem],i.options.onCloseFn);if(e.keyCode===a.UP&&-1!==i.focusedItem){if(i.focusedItem>0){u(t,i.focusedItem,"-1");i.focusedItem--}u(t,i.focusedItem,"0")}if(e.keyCode===a.DOWN)if(null===i.focusedItem){u(t,0,"-1");i.focusedItem=0}else{if(i.focusedItem<t.length-1){u(t,i.focusedItem,"-1");i.focusedItem++}u(t,i.focusedItem,"0")}if(e.keyCode===a.RIGHT){e.preventDefault();e.stopPropagation();for(var n=0;n<t.length;n++)t[n].setAttribute("tabindex","-1");if(i.currentItems[i.focusedItem].items.length>0){d(i.currentItems[i.focusedItem],true);i.focusedItem=0}}if(e.keyCode===a.LEFT){e.preventDefault();e.stopPropagation();if(i.levels.length){i.focusedItem=0;c(true)}}};function u(e,t,n){e[t].setAttribute("tabindex",n);e[t].focus()}i.levels=[];i.currentItems=i.menu.items;i.options.goBackTitle=i.options.goBackTitle||"Common.Back";function c(e){if(i.levels.length){var t=i.levels.pop();t.items[0].autoFocus=e;i.currentItems=t.items;l(t.offset)}}function d(e,t){var n=e.items;i.levels.focus=t;i.levels.push({items:i.currentItems,offset:o});i.currentItems=n;l()}function f(){return r.children().first()}i.goBack=function(){c()};i.selectItem=function(e,t,n){e.preventDefault();e.stopPropagation();if(t.hasSubmenu())d(t);else{t.select(n);i.close(!!t.suppressOnCloseCall)}};i.close=function(e){"function"===typeof i.menu.onClosing&&i.menu.onClosing.call(null);i.options.onCloseFn&&!e&&i.options.onCloseFn();i.$destroy()};i.exposedApi.close=i.close;t.on("start",i.close);l();"function"===typeof i.menu.onOpen&&i.menu.onOpen.call(null);i.$on("$destroy",function(){t.off("start",i.close);"function"===typeof i.destroyComponent?i.destroyComponent():r.off("*").html("").remove()})}]};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t,n){this.lastHeight=null;this.document=n||document;this.window=t||window;this.viewport=e||this.document.querySelector("meta[name=viewport]");this.viewportContent=this.viewport.getAttribute("content");this.updateHeight()}e.prototype.clearHeight=function(){this.viewport.setAttribute("content",this.viewportContent)};e.prototype.setHeight=function(e){this.viewport.setAttribute("content",this.viewportContent+", height="+e)};e.prototype.updateHeight=function(){var e=this.window.innerHeight;if(this.lastHeight!==e){this.lastHeight=e;this.setHeight(e);return true}return false};e.prototype.rotate=function(e){var t=function t(){this.updateHeight()&&e()}.bind(this);this.document.activeElement&&this.document.activeElement.blur();this.clearHeight();this.window.setTimeout(t,500);this.window.setTimeout(t,1e3);this.window.setTimeout(t,1500)};e.isNeeded=function(){var e=navigator.userAgent.toLowerCase().indexOf("android")>-1;return e};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-contextmenu" tid="context-menu" qva-outside="close($event)" ng-keydown="keyDown( $event )">\n\t<lui-popover>\n\t\t<ul class="lui-list">\n\t\t\t<li tabindex="0" ng-if="levels.length" class="lui-list__item lui-list__action back-item" qva-focus="levels.focus" qva-activate="goBack();" tcl="context-menu-item">\n\t\t\t\t<i class="lui-list__aside back-icon lui-icon  lui-icon--triangle-left"></i>\n\t\t\t\t<span class="lui-list__text" q-translation="{{options.goBackTitle}}" tid="context-menu-back"></span>\n\t\t\t</li>\n\t\t\t<li ng-repeat="item in currentItems"\n\t\t\t\t\tng-attr-tabindex="{{item.tabIndex}}"\n\t\t\t\tclass="lui-list__item lui-list__action"\n\t\t\t\tng-class="{ \'lui-disabled\': item.disabled, \'qv-contextmenu-has-submenu\': item.hasSubmenu(), \'has-icon\': item.hasIcon(), \'context-divider\': item.divider }"\n\t\t\t\tqva-focus="item.autoFocus"\n\t\t\t\tqva-activate="item.disabled || selectItem($event,item)"\n\t\t\t\ttcl="context-menu-item">\n\n\t\t\t\t<i class="lui-list__aside  item-icon  lui-icon  lui-icon--{{item.icon}}" ng-if="item.hasIcon()"></i>\n\t\t\t\t<span class="lui-list__text" title="{{item.getLabel()}}" tid="{{item.tid}}">{{item.getLabel()}}</span>\n\t\t\t\t<i ng-show="item.hasSubmenu()" class="next-icon lui-list__aside lui-icon lui-icon--triangle-right"></i>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(91)],r=function(e){var t=function e(t){var n=this;Object.keys(t||{}).forEach(function(e){n[e]=t[e]});this.items=this.items||[]};t.prototype.addItem=function(e,n){var i=new t(e);i.tabIndex=0===this.items.length?0:-1;"undefined"===typeof n?this.items.push(i):this.items.splice(n,0,i);return i};t.prototype.hasSubmenu=function(){return this.items.length>0};t.prototype.hasIcon=function(){return!!this.icon};t.prototype.getLabel=function(){function t(t){return Array.isArray(t)?e.get(t[0],t.slice(1).join(",")):e.get(t)}return"function"===typeof this.translation?t(this.translation()):this.translation?t(this.translation):"function"===typeof this.label?this.label():this.label?this.label:"Missing translation/label"};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(527),n(528),n(529),n(530),n(531),n(532),n(394),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547)],r=function(e){e.module("qv.directives",["qv.directives.qva-activate","qv.directives.qva-blur","qv.directives.qva-context-menu","qv.directives.qva-dblclick","qv.directives.qva-delegated-activate","qv.directives.qva-delegated-click","qv.directives.qva-focus","qv.directives.qva-indeterminate","qv.directives.qva-model-onblur","qv.directives.qva-model-onkeyup","qv.directives.qva-mouse-wheel-outside","qv.directives.qva-outside","qv.directives.qva-press","qv.directives.qva-prevent-drag","qv.directives.qva-radial-context-menu","qv.directives.qva-reported-window-size","qv.directives.qva-scroll-into-view","qv.directives.qva-select","qv.directives.qva-select-watch","qv.directives.qva-swipe","qv.directives.qve-highlight","qv.directives.keyboard"])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(11)],r=function(e,t){var n=e.module("qv.directives.qva-activate",[]);n.directive("qvaActivate",["$parse",function(e){return function(n,i,r){var o=e(r.qvaActivate);i.on("qv-activate keypress",function(e){var i="keypress"===e.type&&32===e.which;("keypress"!==e.type||i&&t(e.target).is(":input"))&&n.$apply(function(){o(n,{$event:e})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(258)],r=function(e,t){var n=e.module("qv.directives.qva-blur",[]);n.directive("qvaBlur",["$parse",function(e){return function(n,i,r){var o=e(r.qvaBlur);i.bind("blur",function(e){t(n,function(){o(n,{$event:e})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-context-menu",[]);t.directive("qvaContextMenu",["$parse",function(e){return function(t,n,i){var r=e(i.qvaContextMenu);n.bind("qv-contextmenu",function(e){t.$apply(function(){r(t,{$event:e})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(96)],r=function(e,t){var n=e.module("qv.directives.qva-dblclick",[]);n.directive("qvaDblclick",["$parse",function(e){return function(n,i,r){var o=e(r.qvaDblclick);var a="qva-dblclick"+n.$id;t(i[0]).doubletap({id:a,options:{timeThreshold:250,preventDefault:false},end:function e(){n.$apply(o)}});n.$on("$destroy",function(){t(i[0]).off("doubletap",a)})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-delegated-activate",[]);t.directive("qvaDelegatedActivate",["$parse",function(e){return function(t,n,i){var r=i["qvaDelegatedActivate"].split(";");for(var o=0;o<r.length;o++){var a=r[o].trim().split("#"),s=a[0],l=e(a[1]);(function(e,i){n.on("qv-activate",s,function(e){t.$apply(function(){i(t,{$event:e})})})})(s,l)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-delegated-click",[]);t.directive("qvaDelegatedClick",["$parse",function(e){return function(t,n,i){var r=i["qvaDelegatedClick"].split(";");for(var o=0;o<r.length;o++){var a=r[o].trim().split("#"),s=a[0],l=e(a[1]);(function(e,i){n.on("click",s,function(e){t.$apply(function(){i(t,{$event:e})})})})(s,l)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-indeterminate",[]);t.directive("qvaIndeterminate",[function(){return function e(t,n,i){var r=i.qvaIndeterminate;n.prop("indeterminate",true===r||"true"===r);t.$watch(i.qvaIndeterminate,function(e){n.prop("indeterminate",true===e||"true"===e)})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-model-onblur",[]);t.directive("qvaModelOnblur",function(){return{restrict:"A",require:"ngModel",priority:1,link:function e(t,n,i,r){if("radio"===i.type||"checkbox"===i.type)return;n.unbind("input keydown change compositionend");n.bind("blur",function(){t.$apply(function(){"undefined"!==typeof i.qvaCancelEditingOnEmpty&&""===n.val().trim()?n.val(r.$modelValue):r.$setViewValue(n.val())})});n.bind("keydown",function(e){if(27===e.which){e.stopPropagation();n.val(r.$modelValue);n.closest("*[tabindex]").focus()}else if(13===e.which){e.stopPropagation();n.closest("*[tabindex]").focus()}})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-model-onkeyup",[]);t.directive("qvaModelOnkeyup",function(){return{require:"ngModel",link:function e(t,n,i,r){n.bind("keyup",function(e){if(27===e.which){e.stopPropagation();r.$rollbackViewValue();n.trigger("blur")}else 13===e.which&&n.trigger("blur");"function"===typeof t.onkeyup&&t.onkeyup(n)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(99)],r=function(e,t){var n=e.module("qv.directives.qva-mouse-wheel-outside",[]);n.directive("qvaMouseWheelOutside",["$parse","$document",function(e,n){return{restrict:"A",link:function i(r,o,a){var s=e(a.qvaMouseWheelOutside),l=t.getMouseWheelEventName(),u;u=function e(t){var n=false,i=t.target;while(i){if(i===o[0]){n=true;break}i=i.parentElement}n?t.preventDefault():r.$apply(function(){s(r,{$event:t})})};n[0].addEventListener(l,u,true);r.$on("$destroy",function(){n[0].removeEventListener(l,u,true)})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(11)],r=function(e,t){var n=e.module("qv.directives.qva-outside",[]);n.directive("qvaOutside",["$parse",function(e){return function(n,i,r){var o=e(r.qvaOutside),a=false,s=false;function l(e){a="allOutside"===t(e.target).attr("qva-outside-ignore-for")||t(e.target).closest('[qva-outside-ignore-for="allOutside"]').length;s=t(e.target).data("overrideignore");if(a&&!s)return;r.qvaOutsideIgnoreFor&&r.qvaOutsideIgnoreFor===t(e.target).closest("[qva-outside-ignore-for]").attr("qva-outside-ignore-for")||n.$apply(function(){o(n,{$event:e})})}i.bind("qv-outside",l);n.$on("$destroy",function(){i.unbind("qv-outside",l)})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-press",[]);t.directive("qvaPress",["$parse",function(e){return function(t,n,i){var r=e(i.qvaPress);n.on("qv-press",function(e){t.$apply(function(){r(t,{$event:e})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(96)],r=function(e,t){var n=e.module("qv.directives.qva-prevent-drag",[]);n.directive("qvaPreventDrag",function(){return{restrict:"A",link:function e(n,i){i.on("qv-press",function(e){e.preventDefault();t.WebkitHack.prevent()})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-radial-context-menu",[]);t.directive("qvaRadialContextMenu",["$parse",function(e){return function(t,n,i){var r=e(i.qvaRadialContextMenu);n.bind("qv-radial-contextmenu",function(e){t.$apply(function(){r(t,{$event:e})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(258),n(11)],r=function(e,t,n){var i=e.module("qv.directives.qva-reported-window-size",[]);i.directive("qvaReportedWindowSize",function(){return{restrict:"A",link:function e(i,r,o){function a(){t(i.$root,function(){i[o.qvaReportedWindowSize]={width:n(window).width(),height:n(window).height()}})}a();n(window).bind("resize",a);i.$on("$destroy",function(){n(window).unbind("resize",a)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(99)],r=function(e,t){var n=e.module("qv.directives.qva-select",[]);n.directive("qvaSelect",["$timeout",function(e){return{restrict:"A",link:function n(i,r,o){0!==o.qvaSelect.length&&"true"!==o.qvaSelect||t.treatAsDesktop()&&e(function(){r[0].select()},100)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(99)],r=function(e,t){var n=e.module("qv.directives.qva-select-watch",[]);n.directive("qvaSelectWatch",["$timeout",function(e){return{restrict:"A",link:function n(i,r,o){i.$watch(o.qvaSelectWatch,function(n){(""===o.qvaSelectWatch||""!==o.qvaSelectWatch&&true===n)&&t.treatAsDesktop()&&e(function(){r[0].select()})},true)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(127)],r=function(e,t){var n=e.module("qv.directives.qva-scroll-into-view",[]);n.directive("qvaScrollIntoView",["$timeout",function(e){return{restrict:"A",link:function n(i,r,o){i.$watch(o.qvaScrollIntoView,function(n){n.scrollSelector&&n.scroll&&e(function(){t.scrollElmentIntoView(r,n.scrollSelector)})},true)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-swipe",[]);t.directive("qvaSwipe",["$parse",function(e){return function(t,n,i){var r=e(i.qvaSwipe);n.bind("qv-swipe",function(e){t.$apply(function(){r(t,{$event:e,$element:n})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(139),n(90),n(208)],r=function(e,t,n,i){var r=e.module("qv.directives.qve-highlight",[]);function o(){return{scope:{text:"@",query:"="},restrict:"EA",replace:true,link:function e(n,i){n.$watchCollection("[text, query]",function(){var e=t.string(n.query);if(!e){i.text(n.text);return}var r=o.highlightMatches(t.string(n.text),e,"lui-texthighlight",n.text);i.html(r)})}}}o.highlightMatches=function(e,t,n,r){return o.markMatches(e,t,r).map(function(e){return e.match?"<span "+i.encodeForAttr("class",n)+">"+i.encodeForHTML(e.text)+"</span>":i.encodeForHTML(e.text)}).join("")};o.markMatches=function(e,t,i){i=e;var r=[];var o=0;var a=new RegExp(n.escapeRegExp(t),"gi");var s=false;while(!s){var l=a.exec(e);if(!l){o<e.length&&r.push({text:i.substring(o),match:false});s=true;continue}l.index>o&&r.push({text:i.substring(o,l.index),match:false});r.push({text:i.substring(l.index,a.lastIndex),match:true});o=a.lastIndex}return r};r.directive("qveHighlight",o);return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(10)],r=function(e,t){var n=t.module("qv.directives.keyboard",[]);function i(t,n,i){return["$parse",function(r){return{restrict:"A",link:function o(a,s,l){var u=r(l[t]),c=function e(t){n&&n!==t.which||setTimeout(function(){t.preventDefault();a.$apply(function(){u(a,{$event:t})})})};e(i||s).bind("keydown",c);a.$on("$destroy",function(){e(i||s).unbind("keydown",c)})}}}]}n.directive("qvGlobalKeydown",i("qvGlobalKeydown",void 0,e("body")));n.directive("qvGlobalEscape",i("qvGlobalEscape",27,e("body")));n.directive("qvGlobalEnter",i("qvGlobalEnter",13,e("body")));n.directive("qvKeydown",i("qvKeydown",void 0));n.directive("qvEscape",i("qvEscape",27));n.directive("qvEnter",i("qvEnter",13))}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(549),n(550)],r=function(e){e.module("qv.filters",["qv.filters.qv-array-slice","qv.filters.qv-to-array"])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.filters.qv-array-slice",[]);t.filter("qvArraySlice",function(){return function(e,t,n){return(e||[]).slice(t,n)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.filters.qv-to-array",[]);t.filter("qvToArray",function(){return function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(91)],r=function(e,t){var n=e.module("qv.locale",[]);n.directive("qPlaceholder",function(){return{restrict:"A",link:function e(n,i,r){var o=false;function a(){i.attr("placeholder",o?"":t.get(r.qPlaceholder))}if(r.ngDisabled){o=true;n.$watch(r.ngDisabled,function(e){o=e;a()})}r.$observe("qPlaceholder",function(){a()})}}});n.directive("qSimpleTranslation",function(){return{restrict:"A",link:function e(n,i,r){function o(e){i.text(t.get(e))}t.ready.then(function(){r.$observe("qTranslation",o)})}}});n.directive("qTranslation",function(){return{restrict:"A",link:function e(n,i,r){function o(e){var n=e.split(","),o,a,s,l=JSON.parse(r.qHtmlTranslationIndexes||"null"),u=l?"html":"text",c=n[0].indexOf("|");a=c>=0&&n.length>=2?"1"===n[1]?n[0].substring(0,c).trim():n[0].substring(c+1).trim():n[0];o=t.get(a);l&&n.push.apply(n,l);for(s=1;s<n.length;s++)o=o.replace("{"+(s-1)+"}",n[s]);i[u](o)}t.ready.then(function(){r.$observe("qTranslation",o);o(r.qTranslation)})}}});n.directive("translate",function(){return function e(n,i,r){function o(e){if(e)if("string"===typeof e){i.attr("data-translation",e);i.removeAttr("data-text")}else{i.attr("data-translation",e.id);i.data("text",{value:e.value})}else{i.removeAttr("data-translation");i.removeAttr("data-text")}t.apply(i[0])}n.$watch(r.translate,o)}});n.directive("qTitleTranslation",function(){return{restrict:"A",link:function e(n,i,r){function o(e){e?i.attr("title",t.get(e)):i.removeAttr("title")}t.ready.then(function(){r.$observe("qTitleTranslation",o);o(r.qTitleTranslation)})}}});n.filter("translate",function(){return function(e){return t.get(e)}});n.filter("translatetoupper",function(){return function(e){return t.get(e).toUpperCase()}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=l(n(10));var r=l(n(553));var o=l(n(554));var a=l(n(555));var s=l(n(91));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function d(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e}var f=function(){function e(t,n){u(this,e);this.factory=t;this.data=t.getOptions();this.aboutService=this.data.aboutService;this.sections=this.data.sections;this.activeView=this.sections[0];this.doc=n[0]}d(e,[{key:"scrollToLicence",value:function e(t){"undefined"!==typeof t?this.doc.getElementsByClassName("about-dialog-licences-entry")[t].scrollIntoView(true):this.doc.getElementById("about-dialog-section__licences").scrollTop=0}},{key:"translate",value:function e(t){return s.default.get(t)}},{key:"close",value:function e(){this.factory.close()}},{key:"copy",value:function e(){if(document.execCommand)try{var t=this.get("featuresList").join(", ");var n=this.doc.getElementById("qs-about-copy-input");n.value=t;n.select();document.execCommand("copy")}catch(e){}}},{key:"get",value:function e(t){return this.data[t]}},{key:"getSystemInfo",value:function e(t){return this.get("systemInfo")[t]}},{key:"getText",value:function e(t){return this.get("text")[t]||t}},{key:"getIconClass",value:function e(){return{"lui-icon--arrow-down":this.showVersion,"lui-icon--arrow-right":!this.showVersion}}},{key:"goTo",value:function e(t){this.activeView=t}},{key:"isActive",value:function e(t){return{"lui-active":t===this.activeView}}}]);return e}();f.$inject=["qvAboutFactory","$document"];var p=i.default.module("qv.about-dialog",[o.default,a.default]).component("qvAboutDialog",{template:r.default,bindings:{},controllerAs:"AD",controller:f}).name;t.default=p;e.exports=t.default},function(e,t){e.exports='<lui-dialog qv-id="about-dialog" id="about-dialog">\n  <div class="lui-dialog__header lui-dialog__header--about"></div>\n  <div class="lui-dialog__body lui-dialog__body--about">\n    <div class="about-dialog__viewpanel">\n      <ul class="lui-list about-dialog-sections--normal" data-tid="about-ul-list">\n        <li ng-class="AD.isActive(item)" ng-repeat="item in AD.sections" ng-click="AD.activeView = item" title="{{ ::AD.getText(item) }}"\n          data-tid="qsad-li-{{ ::AD.getText(item) }}" class="lui-list__item lui-list__item--about-dialog">\n          <span class="lui-list__text lui-list__text--about-dialog">{{ ::AD.getText(item) }}</span>\n        </li>\n      </ul>\n\n      <lui-select class="about-dialog-sections about-dialog-sections--small" x-model="AD.activeView">\n        <option ng-repeat="item in AD.sections" value="{{ ::item }}">{{ ::AD.getText(item) }}</option>\n      </lui-select>\n    </div>\n    <div class="about-dialog__contentpanel" ng-switch="AD.activeView">\n      \x3c!-- ABOUT --\x3e\n      <div ng-switch-when="about" data-tid="qsad-section-about" id="about-dialog-section__about">\n        <div class="about-dialog-section__header">\n          <div class="about-dialog-section__about-cont">\n            <img class="about-dialog-logo" ng-src="{{::AD.get(\'logo\')}}" draggable="false"></img>\n            <div class="about-dialog-divider"></div>\n            <div class="about-dialog-product-version" ng-click="AD.showVersion=!AD.showVersion">\n              <p class="about-dialog-product-name" data-tid="about-product-name">\n                {{::AD.getSystemInfo("productName")}} {{::AD.getSystemInfo("releaseLabel")}}\n                <span class="about-dialog-product-toggle-icon lui-icon" ng-class="AD.getIconClass()"></span>\n              </p>\n              <p class="about-dialog-product-id" data-tid="about-product-id">{{::AD.getSystemInfo("senseId")}}</p>\n              <div ng-if="AD.showVersion">\n                <ul class="about-dialog-version">\n                  <li class="about-dialog-version-entry" ng-repeat="info in ::AD.get(\'componentsList\') track by info.component">{{info.component}}\n                    {{info.version}}</li>\n                </ul>\n              </div>\n            </div>\n            <div class="about-dialog-header-licence">{{ ::AD.getText(\'licenceAgreement\') }}</div>\n            <a target="_blank" ng-href="{{ ::AD.get(\'licenceAgreementLink\') }}" class="lui-button lui-button--download">\n              <span>{{ ::AD.getText(\'downloadPdf\') }}</span>\n            </a>\n            <div class="about-dialog__space"></div>\n          </div>\n        </div>\n        <div class="about-dialog-section__footer">\n          <div class="about-copyright">{{ ::AD.getText(\'copyright\') }}</div>\n          <a class="about-link" target="_blank" ng-href="{{::AD.get(\'webPageUrl\')}}">{{::AD.get(\'webPageUrl\')}}</a>\n        </div>\n      </div>\n      \x3c!-- THIRDPARTY --\x3e\n      <div ng-switch-when="thirdParty" data-tid="qsad-section-thirdParty" id="about-dialog-section__licences">\n        <div class="about-dialog-licences__wrapper">\n          <h2 class="about-dialog-licences-h2">{{ ::AD.getText(\'thirdParty\') }}</h2>\n\n          <p class="about-dialog-licences-p">{{ ::AD.getText(\'thirdPartyIntro\') }}</p>\n          <ul class="about-dialog-licences-ul">\n            <li class="about-dialog-licences__link" ng-repeat="licence in ::AD.get(\'thirdPartyList\')" ng-show="::licence.name">\n              <a class="about-dialog-licences__a-style" ng-click="AD.scrollToLicence($index)">{{licence.name}}\n                {{licence.version}}</a>\n            </li>\n          </ul>\n\n          <div class="about-dialog-licences-entry" ng-repeat="licence in ::AD.get(\'thirdPartyList\')" ng-show="::licence.name">\n            <h3 class="about-dialog-licences-entry__h3">{{licence.name}} {{licence.version}}\n              <button class="lui-button lui-button__about-dialog-licence" ng-click="AD.scrollToLicence()">\n                <i class="lui-button__icon  lui-icon  lui-icon--triangle-top"></i>\n              </button>\n            </h3>\n            <a class="about-dialog-licences-entry__a" ng-href="{{licence.url}}" target="_blank">{{licence.licence}}</a>\n            <div class="about-dialog-licences-text"><code class="about-dialog-licences__code">{{licence.text}}</code></div>\n          </div>\n        </div>\n      </div>\n      \x3c!-- FEATURES --\x3e\n      <div ng-switch-when="features" data-tid="qsad-section-features" id="qs-ads-features">\n        <h2 class="qs-ads-features-h2">{{ ::AD.translate(\'About.Features.Title\') }}</h2>\n        <div clasS="qs-ads-features-header">\n          <span ng-if="AD.aboutService">{{ ::AD.translate(\'About.Features.Description\') }}</span>\n          <div ng-if="!AD.aboutService">\n            <div><span>{{ ::AD.translate(\'About.Features.InfoHub.Description\') }}</span></div>\n            <a target="_blank" class="about-link" href="https://infohub.qlikdev.com/dashboard">https://infohub.qlikdev.com/dashboard</a>\n          </div>\n        </div>\n        <ul class="lui-list qs-ads-features-ul" style="cursor: default;" aria-disabled="true" ng-click="AD.copy()">\n          <li class="lui-list__item" ng-repeat="feature in ::AD.get(\'featuresList\')">\n            <span class="lui-list__text">{{feature}}</span>\n          </li>\n        </ul>\n        <div style="position: absolute; top: -100000px">\n            <input id="qs-about-copy-input" value="">\n        </div>\n      </div>\n    </div>\n\n  </div>\n  <div class="lui-dialog__footer lui-dialog__footer--about">\n    <button class="lui-button" data-tid="about-close" qv-focus ng-click="AD.close()">{{ ::AD.getText(\'close\') }}</button>\n  </div>\n</lui-dialog>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(10));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default.module("qv.about-dialog.factory",["leonardo-ui"]).factory("qvAboutFactory",["luiDialog","$q","qvAboutRestConnect",function(e,t,n){var i={};var r;var o;var a=function t(){r=e.show({template:"<qv-about-dialog></qv-about-dialog>",closeOnEscape:true});r.closed.then(function(){r=null});return r};i.getOptions=function(){return o||{}};i.show=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r)return;var i=e.text,s=e.logo;var l=function e(){return t.all({thirdPartyList:n.thirdParty(),systemInfo:n.systemInfo(),componentsList:n.components(),licenceAgreementLink:n.licenceAgreementLink(),externalUrls:n.externalUrls()}).then(function(e){var t=e.systemInfo,r=e.componentsList,l=e.thirdPartyList,u=e.licenceAgreementLink,c=e.externalUrls;var d=c.qlikWebPageUrl;o={systemInfo:t,componentsList:r,thirdPartyList:l,licenceAgreementLink:u,featuresList:n.featuresSync(),webPageUrl:d,text:i,logo:s,sections:["about","thirdParty","features"],aboutService:true};return a()})};var u=function e(){o={systemInfo:{},componentsList:{},thirdPartyList:{},licenceAgreementLink:{},featuresList:n.featuresSync(),webPageUrl:"",text:i,logo:s,sections:["features"],aboutService:false};return a()};return n.hasAbout().then(l).catch(u)};i.showSync=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r)return;o=t;r=e.show({template:"<qv-about-dialog></qv-about-dialog>",closeOnEscape:true});r.closed.then(function(){r=null});return r};i.close=function(){if(!r)return;r.close()};return i}]).name;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(n(10));var r=a(n(49));var o=a(n(13));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var d=i.default.module("qv.about-dialog.rest-factory",[]).factory("qvAboutRestConnect",["$http",function(e){var t=function e(t){return t.data};var n=function t(n){n.headers=n.headers?n.headers:{};n.headers["x-qlik-capabilities"]="about";n.method="GET";n.cache=true;return e(n)};var i;var a=function e(){if(i)return i;i=n({url:"".concat(o.default.apiPath,"about/v1/language")});return i};var l={hasAbout:a,featuresSync:function e(){var t=r.default.get();return Object.keys(t).reduce(function(e,n){if(t[n])return[].concat(s(e),[n]);return e},[]).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase(),"en")})},components:function e(){return n({url:"".concat(o.default.apiPath,"about/v1/components")}).then(t)},externalUrls:function e(){return n({url:"".concat(o.default.apiPath,"about/v1/externalUrls")}).then(t)},systemInfo:function e(){return n({url:"".concat(o.default.apiPath,"about/v1/systemInfo")}).then(t)},thirdParty:function e(){return n({url:"".concat(o.default.apiPath,"about/v1/thirdParty")}).then(function(e){return t(e).sort(function(e,t){var n=e&&e.name||"";var i=t&&t.name||"";return n.toLocaleUpperCase().localeCompare(i.toLocaleUpperCase())})})},licenceAgreementLink:function e(){return"".concat(o.default.apiPath,"about/v1/licenses/QlikSense.pdf")}};return l}]).name;t.default=d;e.exports=t.default},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(557)],r=function(e,t){var n=false;e.module("qv.loader",[]).factory("qvLoader",["$compile","$rootScope","$document","$timeout","$q",function(i,r,o,a,s){var l=r.$new(),u=o.find("body"),c,d,f={},p,h;function v(){l.template=t;l.hugeLoader=true;l.bigLoader=false;l.mediumLoader=false;l.normalLoader=false;l.smallLoader=false;l.tinyLoader=false}function m(){for(var e in f){l[e]=null;delete l[e]}v();l.ngClasses&&(l.ngClasses["qv-fade-in"]=false);c&&c.off().remove();c=null;d=null;if(p){p.remove();p=null}}v();p=u.find("#qv-init-ui-blocker");return{show:function t(r){n=true;var o;l.fadeOut=false;a.cancel(h);f=r||{};for(var s in r)l[s]=r[s];l.messageObj=l.messageObj||{};l.messageObj.task||(l.messageObj.task="");l.ngClasses={"qv-loader-huge":l.hugeLoader,"qv-loader-big":l.bigLoader,"qv-loader-medium":l.mediumLoader,"qv-loader-normal":l.normalLoader,"qv-loader-small":l.smallLoader,"qv-loader-tiny":l.tinyLoader,"qv-fade-in":false};o=l.appendTo?l.appendTo:u;d=e.element(l.template);c=i(d)(l).appendTo(o);l.appendTo=null;delete l.appendTo;h=a(function(){l.ngClasses["qv-fade-in"]=true});p&&p.length>0&&p.fadeOut(800,function(){p=null})},setMessageObj:function e(t){l.messageObj.task=t||""},isOpen:function e(){return n},close:function e(t){var i=s.defer();var r=750;a.cancel(h);if(t){l.fadeOut=true;m();n=false;i.resolve()}else a(function(){l.fadeOut=true;h=a(function(){m();n=false;return i.resolve()},r+200)},r);return i.promise}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qs-pong qv-block-ui" ng-class="{\'qv-fade-out\': fadeOut, \'qv-transparent-background\': transparentBackground}" tid="3e1f54">\n\t<div class="qv-animate qv-loader-container qs-pong-loader-logo"  ng-class="ngClasses">\n\t\t<svg enable-background="new 0 0 431.2 126.5" viewBox="0 0 431.2 126.5" xmlns="http://www.w3.org/2000/svg"><path d="m251.8 66.9c-1.9-3.1.6-5.7.6-5.7l22-22.7c2.5-2.6-1.1-2.6-1.1-2.6h-20.5c-3.6 0-6.1 2.6-6.1 2.6l-20.4 21.6c-2.5 2.6-2.5-1-2.5-1v-47.1c0-3.6-3.6-3.6-3.6-3.6h-15.5c-3.5 0-3.5 3.5-3.5 3.5v98.7c0 3.6 3.6 3.6 3.6 3.6h15.4c3.5 0 3.5-3.5 3.5-3.5v-17.4c0-3.6 2.6-6.1 2.6-6.1l7.3-6.8 18.2 30.6c1.8 3.1 5.4 3.1 5.4 3.1h19.5c3.6 0 1.7-3.1 1.7-3.1zm-66.8 43.6v-71.1c0-3.6-3.6-3.6-3.6-3.6h-15.6c-3.6 0-3.6 3.6-3.6 3.6v71.1c0 3.6 3.6 3.6 3.6 3.6h15.6c3.6 0 3.6-3.6 3.6-3.6zm-.6-88.5v-10.2s0-3.5-3.5-3.5h-15.2s-3.5 0-3.5 3.5v10.2s0 3.5 3.5 3.5h15.3s3.4 0 3.4-3.5zm-38.9 88.5v-98.5c0-3.6-3.6-3.6-3.6-3.6h-15.9c-3.6 0-3.6 3.6-3.6 3.6v98.5c0 3.6 3.6 3.6 3.6 3.6h15.9c3.6 0 3.6-3.6 3.6-3.6zm-35.7-4.2s2-2.3-.3-4.3l-12.7-11.1c5.7-8.5 9.1-18.6 9.1-29.6 0-29.2-23.7-52.9-52.9-52.9-29.3-.1-53 23.6-53 52.9 0 29.2 23.7 52.9 52.9 52.9 10.7 0 20.6-3.2 29-8.7l14 12.1s2.3 2 4.3-.3zm-26.3-45c0 16.9-13.7 30.6-30.6 30.6s-30.6-13.7-30.6-30.6 13.7-30.6 30.6-30.6 30.6 13.7 30.6 30.6z" fill="#54565b"/><path d="m428.3 107.4-17-14.3c5.9-9.4 9.4-20.5 9.4-32.4 0-33.5-27.2-60.7-60.7-60.7s-60.7 27.2-60.7 60.7 27.2 60.7 60.7 60.7c13 0 25.1-4.1 35-11.1l18.1 15.2s2.7 2.3 5-.4l10.8-12.8c-.2.1 2.1-2.6-.6-4.9zm-31.1-46.7c0 20.6-16.7 37.3-37.3 37.3s-37.3-16.7-37.3-37.3 16.7-37.3 37.3-37.3 37.3 16.7 37.3 37.3z" fill="#059848"/><g fill="#54565b"><path d="m336 60.7c0-13.2 10.7-23.9 23.9-23.9s23.9 10.7 23.9 23.9-10.7 23.9-23.9 23.9c-13.2.1-23.9-10.6-23.9-23.9z"/><path d="m418 17.9c0-3.7 3-6.6 6.6-6.6 3.7 0 6.6 3 6.6 6.6s-3 6.6-6.6 6.6-6.6-3-6.6-6.6zm6.6-5.7c-3.1 0-5.6 2.5-5.6 5.7s2.4 5.7 5.6 5.7 5.6-2.5 5.6-5.7-2.4-5.7-5.6-5.7zm-1.5 9.7h-.9v-8.1h2.9c1.4 0 2.5.7 2.5 2.2 0 1.3-.7 2.1-1.9 2.2l2.3 3.6h-1.1l-2.1-3.6h-1.6v3.7zm0-4.3h1.8c1.1 0 1.8-.2 1.8-1.5 0-1-.8-1.4-1.8-1.4h-1.8z"/></g></svg>\n\t\t<div class="qv-ping-pong-progress-bar"></div>\n\t</div>\n\t<div class="qv-loader-text" ng-class="ngClasses">\n\t\t<div q-translation="{{messageObj.task}}">&#8203;</div>\n\t\t<div ng-show="messageObj.message" q-translation="{{messageObj.message}}"></div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(559)],r=function(e){e.module("qv.dragoman",["qv.dragoman-date"])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(91),n(50),n(489)],r=function(e,t,n,i){var r="1753-01-01T00:00:00.000Z",o=n.isSmallDevice,a={restrict:"E",replace:true,scope:{date:"=",dateFormat:"@",timeFormat:"@",dateTimeFormat:"@",skeleton:"@",customLangCode:"@",defaultString:"@"},template:'<span class="qv-moment">{{dateToShow}}</span>',link:function e(n){var a=void 0!==n.defaultString?t.get(n.defaultString):"";var s={};var l="undefined"!==typeof n.dateFormat;var u="undefined"!==typeof n.timeFormat;var c="undefined"!==typeof n.dateTimeFormat;var d="undefined"!==typeof n.skeleton;l?s.date=n.dateFormat:u?s.time=n.timeFormat:c?s.datetime=n.dateTimeFormat:d&&(s.skeleton=n.skeleton);l||u||c||d||(s.skeleton=o?"yMd":"yMMMdjm");n.customLangCode&&(s.locale=n.customLangCode);n.dateToShow=n.date===r||"undefined"===typeof n.date?a:i.format.date(n.date,s);n.$watch("date",function(){n.dateToShow=n.date===r||"undefined"===typeof n.date?a:i.format.date(n.date,s)})}};e.module("qv.dragoman-date",[]).directive("drmFormatDate",function(){return a}).filter("drmFormatDateFilter",function(){return i.format.date});return{directive:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(110),n(561),n(213)],r=function(e,t,n,i){var r=Object.assign({},t.NxLocalizedErrorCode,n.NxLocalizedErrorCode);function o(){window.__private__notifyRefresh__?window.parent.postMessage("refresh","*"):setTimeout(function(){location.reload(true)})}function a(e){var t=false;switch(e.code){case r.LOCERR_SERVER_OUT_OF_SESSION_AND_USER_CALS:case r.LOCERR_SERVER_OUT_OF_SESSION_CALS:case r.LOCERR_SERVER_OUT_OF_USAGE_CALS:case r.LOCERR_SERVER_OUT_OF_CALS:case r.LOCERR_SERVER_OUT_OF_NAMED_CALS:case r.LOCERR_SERVER_LICENSE_EXPIRED:t=true;break;default:break}return t}function s(t){return t.code?e.get("ErrorCode."+t.code,t.parameter):e.get(t.message)}function l(e){return e.code===r.LOCERR_PERSONAL_VERSION_EXPIRED}function u(e){return"ProxyError.OnSessionTimedOut"===e.message}function c(t){var n=t.error;var o=t.blockingDialog;var c="closeDialog";var d=e.get(s(n));var f=e.get("ErrorDialog.Title");if(a(n,r))c="refreshCloseDialog";else if(l(n)){f=e.get("ErrorCode.12001.Sense.Desktop.Expired");d=e.get("Info.QlikView.Personal.Upgrade",["<a href='"+i.personalUpgradeUrl+"' target='_blank'>"+i.personalUpgradeBase+"</a>"]);c="refreshDialog"}else if(u(n)){f=e.get("TimeoutDialog.Title");c="refreshDialog"}return{type:o?"refreshDialog":c,title:f,message:d}}function d(e){var t=e.error;var n={type:null,title:null,message:null,code:t.code,error:t};return Object.assign({},n,c(e))}var f={getMessageObject:d,getErrorDescription:s,isLocErr:a,refreshPage:o,errors:r};return f}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{NxLocalizedErrorCode:{LOCERR_JSON_RPC_ENTITY_NOT_FOUND:-32001,LOCERR_JSON_RPC_ACCESS_DENIED:-32002,LOCERR_JSON_RPC_APP_DUPLICATION_FAILED:-32003}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){(function(t,n){e.exports=n()})(this,function(){"use strict";var e={};e.isObject=function e(t){return"object"===typeof t&&null!==t};e.isNumber=function e(t){return"number"===typeof t};e.isUndefined=function e(t){return void 0===t};e.isFunction=function e(t){return"function"===typeof t};function t(){t.init.call(this)}var n=t;t.EventEmitter=t;t.prototype._events=void 0;t.prototype._maxListeners=void 0;t.defaultMaxListeners=10;t.init=function(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0};t.prototype.setMaxListeners=function(t){if(!e.isNumber(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");this._maxListeners=t;return this};t.prototype.emit=function(t){var n,i,r,o,a,s;this._events||(this._events={});if("error"===t&&!this._events.error){n=arguments[1];throw n instanceof Error?n:Error('Uncaught, unspecified "error" event.')}i=this._events[t];if(e.isUndefined(i))return false;if(e.isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:r=arguments.length;o=new Array(r-1);for(a=1;a<r;a++)o[a-1]=arguments[a];i.apply(this,o)}else if(e.isObject(i)){r=arguments.length;o=new Array(r-1);for(a=1;a<r;a++)o[a-1]=arguments[a];s=i.slice();r=s.length;for(a=0;a<r;a++)s[a].apply(this,o)}return true};t.prototype.addListener=function(n,i){var r;if(!e.isFunction(i))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",n,e.isFunction(i.listener)?i.listener:i);this._events[n]?e.isObject(this._events[n])?this._events[n].push(i):this._events[n]=[this._events[n],i]:this._events[n]=i;if(e.isObject(this._events[n])&&!this._events[n].warned){var r;r=e.isUndefined(this._maxListeners)?t.defaultMaxListeners:this._maxListeners;if(r&&r>0&&this._events[n].length>r){this._events[n].warned=true;e.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[n].length);e.isFunction(console.trace)&&console.trace()}}return this};t.prototype.on=t.prototype.addListener;t.prototype.once=function(t,n){if(!e.isFunction(n))throw TypeError("listener must be a function");var i=false;function r(){this.removeListener(t,r);if(!i){i=true;n.apply(this,arguments)}}r.listener=n;this.on(t,r);return this};t.prototype.removeListener=function(t,n){var i,r,o,a;if(!e.isFunction(n))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;i=this._events[t];o=i.length;r=-1;if(i===n||e.isFunction(i.listener)&&i.listener===n){delete this._events[t];this._events.removeListener&&this.emit("removeListener",t,n)}else if(e.isObject(i)){for(a=o;a-- >0;)if(i[a]===n||i[a].listener&&i[a].listener===n){r=a;break}if(r<0)return this;if(1===i.length){i.length=0;delete this._events[t]}else i.splice(r,1);this._events.removeListener&&this.emit("removeListener",t,n)}return this};t.prototype.removeAllListeners=function(t){var n,i;if(!this._events)return this;if(!this._events.removeListener){0===arguments.length?this._events={}:this._events[t]&&delete this._events[t];return this}if(0===arguments.length){for(n in this._events){if("removeListener"===n)continue;this.removeAllListeners(n)}this.removeAllListeners("removeListener");this._events={};return this}i=this._events[t];if(e.isFunction(i))this.removeListener(t,i);else if(Array.isArray(i))while(i.length)this.removeListener(t,i[i.length-1]);delete this._events[t];return this};t.prototype.listeners=function(t){var n;n=this._events&&this._events[t]?e.isFunction(this._events[t])?[this._events[t]]:this._events[t].slice():[];return n};t.listenerCount=function(t,n){var i;i=t._events&&t._events[n]?e.isFunction(t._events[n])?1:t._events[n].length:0;return i};var i={mixin:function e(t){Object.keys(n.prototype).forEach(function(e){t[e]=n.prototype[e]});n.init(t)}};var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0===a)return;return a.call(i)};var u=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)};var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};var d=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var f=1e3;var p=4e3;var h=0;var v=function(){function e(t){o(this,e);var n=this;s(n,t);this.Promise=this.config.Promise;this.definition=this.config.definition;i.mixin(n);h+=1;n.id=h;n.rpc.on("socket-error",n.onRpcError.bind(n));n.rpc.on("closed",n.onRpcClosed.bind(n));n.rpc.on("message",n.onRpcMessage.bind(n));n.rpc.on("notification",n.onRpcNotification.bind(n));n.rpc.on("traffic",n.onRpcTraffic.bind(n));n.on("closed",function(){return n.onSessionClosed()})}a(e,[{key:"onRpcError",value:function e(t){if(this.suspendResume.isSuspended)return;this.emit("socket-error",t)}},{key:"onRpcClosed",value:function e(t){var n=this;if(this.suspendResume.isSuspended)return;if(t.code===f||t.code===p)return;this.config.suspendOnClose?this.suspendResume.suspend().then(function(){return n.emit("suspended",{initiator:"network"})}):this.emit("closed",t)}},{key:"onRpcMessage",value:function e(t){var n=this;if(this.suspendResume.isSuspended)return;t.change&&t.change.forEach(function(e){return n.emitHandleChanged(e)});t.close&&t.close.forEach(function(e){return n.emitHandleClosed(e)})}},{key:"onRpcNotification",value:function e(t){this.emit("notification:*",t.method,t.params);this.emit("notification:"+t.method,t.params)}},{key:"onRpcTraffic",value:function e(t,n){this.emit("traffic:*",t,n);this.emit("traffic:"+t,n)}},{key:"onSessionClosed",value:function e(){this.apis.getApis().forEach(function(e){e.api.emit("closed");e.api.removeAllListeners()});this.apis.clear()}},{key:"getObjectApi",value:function e(t){var n=t.handle,i=t.id,r=t.type,o=t.genericType;var a=this.apis.getApi(n);if(a)return a;var s=this.definition.generate(r);a=s(this,n,i,o);this.apis.add(n,a);return a}},{key:"open",value:function e(){var t=this;if(!this.globalPromise){var n={handle:-1,id:"Global",type:"Global",genericType:"Global"};this.globalPromise=this.rpc.open().then(function(){return t.getObjectApi(n)}).then(function(e){t.emit("opened");return e})}return this.globalPromise}},{key:"send",value:function t(n){var i=this;if(this.suspendResume.isSuspended)return this.Promise.reject(new Error("Session suspended"));n.id=this.rpc.createRequestId();var r=this.intercept.executeRequests(this,this.Promise.resolve(n)).then(function(e){var t=s({},i.config.protocol,e);delete t.outKey;var r=i.rpc.send(t);e.retry=function(){return i.send(n)};return i.intercept.executeResponses(i,r,e)});e.addToPromiseChain(r,"requestId",n.id);return r}},{key:"suspend",value:function e(){var t=this;return this.suspendResume.suspend().then(function(){return t.emit("suspended",{initiator:"manual"})})}},{key:"resume",value:function e(t){var n=this;return this.suspendResume.resume(t).then(function(e){n.emit("resumed");return e})}},{key:"close",value:function e(){var t=this;this.globalPromise=void 0;return this.rpc.close().then(function(e){return t.emit("closed",e)})}},{key:"emitHandleChanged",value:function e(t){var n=this.apis.getApi(t);n&&n.emit("changed")}},{key:"emitHandleClosed",value:function e(t){var n=this.apis.getApi(t);if(n){n.emit("closed");n.removeAllListeners()}}}],[{key:"addToPromiseChain",value:function t(n,i,r){n[i]=r;var o=n.then;n.then=function t(){for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];var l=o.apply(this,a);e.addToPromiseChain(l,i,r);return l}}}]);return e}();var m=function(){function e(){o(this,e);this.entries={}}a(e,[{key:"add",value:function e(t,n){t+="";if("undefined"!==typeof this.entries[t])throw new Error("Entry already defined with key "+t);this.entries[t]=n}},{key:"set",value:function e(t,n){t+="";this.entries[t]=n}},{key:"remove",value:function e(t){delete this.entries[t]}},{key:"get",value:function e(t){return this.entries[t]}},{key:"getAll",value:function e(){var t=this;return Object.keys(this.entries).map(function(e){return{key:e,value:t.entries[e]}})}},{key:"getKey",value:function e(t){var n=this;return Object.keys(this.entries).filter(function(e){return n.entries[e]===t})[0]}},{key:"clear",value:function e(){this.entries={}}}]);return e}();var g=Object.prototype.hasOwnProperty;function b(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function y(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(1===i.length&&"object"===r(i[0])&&!Array.isArray(i[0])){var a=Object.keys(i[0]).every(function(e){return g.call(t,e)});a&&(i=Object.keys(t).map(function(e){return i[0][e]||t[e]}))}return e.apply(this,i)}var x=function(){function e(t){o(this,e);this.config=t;this.Promise=t.Promise;this.schema=t.schema;this.mixins=new m;this.types=new m}a(e,[{key:"registerMixin",value:function e(t){var n=this;var i=t.types,r=t.type,o=t.extend,a=t.override,s=t.init;Array.isArray(i)||(i=[i]);r&&i.push(r);var l={extend:o,override:a,init:s};i.forEach(function(e){var t=n.mixins.get(e);t?t.push(l):n.mixins.add(e,[l])})}},{key:"generate",value:function e(t){var n=this.types.get(t);if(n)return n;if(!this.schema.structs[t])throw new Error(t+" not found");var i=this.generateApi(t,this.schema.structs[t]);this.types.add(t,i);return i}},{key:"generateApi",value:function e(t,n){var r=Object.create({});this.generateDefaultApi(r,n);this.mixinType(t,r);this.mixinNamedParamFacade(r,n);return function e(n,o,a,s){var l=this;var u=Object.create(r);i.mixin(u);Object.defineProperties(u,{session:{enumerable:true,value:n},handle:{enumerable:true,value:o,writable:true},id:{enumerable:true,value:a},type:{enumerable:true,value:t},genericType:{enumerable:true,value:s}});var c=this.mixins.get(t)||[];if(s!==t){this.mixinType(s,u);c=c.concat(this.mixins.get(s)||[])}c.forEach(function(e){"function"===typeof e.init&&e.init({config:l.config,api:u})});return u}.bind(this)}},{key:"generateDefaultApi",value:function e(t,n){Object.keys(n).forEach(function(e){var i=n[e].Out;var r=1===i.length?i[0].Name:-1;var o=b(e);t[o]=function t(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return this.session.send({handle:this.handle,method:e,params:i,outKey:r})}})}},{key:"mixinType",value:function e(t,n){var i=this.mixins.get(t);i&&i.forEach(function(e){var i=e.extend,r=void 0===i?{}:i,o=e.override,a=void 0===o?{}:o;Object.keys(a).forEach(function(e){if("function"!==typeof n[e]||"function"!==typeof a[e])throw new Error("No function to override. Type: "+t+" function: "+e);var i=n[e];n[e]=function t(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return a[e].apply(this,[i.bind(this)].concat(r))}});Object.keys(r).forEach(function(e){if("function"===typeof n[e]&&"function"===typeof r[e])throw new Error("Extend is not allowed for this mixin. Type: "+t+" function: "+e);n[e]=r[e]})})}},{key:"mixinNamedParamFacade",value:function e(t,n){Object.keys(n).forEach(function(e){var i=b(e);var r=t[i];var o=n[e].In.reduce(function(e,t){e[t.Name]=t.DefaultValue;return e},{});t[i]=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return y.apply(this,[r,o].concat(n))}})}}]);return e}();var w=function(){function e(t,n,r){o(this,e);i.mixin(this);this.id=t;this.resolve=n;this.reject=r}a(e,[{key:"resolveWith",value:function e(t){this.resolve(t);this.emit("resolved",this.id)}},{key:"rejectWith",value:function e(t){this.reject(t);this.emit("rejected",this.id)}}]);return e}();var S=function(){function e(t){o(this,e);s(this,t);i.mixin(this);this.resolvers={};this.requestId=0;this.openedPromise=void 0}a(e,[{key:"open",value:function e(){var t=this;var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!n&&this.openedPromise)return this.openedPromise;try{this.socket=this.createSocket(this.url)}catch(e){return this.Promise.reject(e)}this.socket.onopen=this.onOpen.bind(this);this.socket.onclose=this.onClose.bind(this);this.socket.onerror=this.onError.bind(this);this.socket.onmessage=this.onMessage.bind(this);this.openedPromise=new this.Promise(function(e,n){return t.registerResolver("opened",e,n)});this.closedPromise=new this.Promise(function(e,n){return t.registerResolver("closed",e,n)});return this.openedPromise}},{key:"onOpen",value:function e(){var t=this;this.resolvers.opened.resolveWith(function(){return t.closedPromise})}},{key:"onClose",value:function e(t){this.emit("closed",t);this.resolvers.closed.resolveWith(t);this.rejectAllOutstandingResolvers({code:-1,message:"Socket closed"})}},{key:"close",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.socket){this.socket.close(t,n);this.socket=null}return this.closedPromise}},{key:"onError",value:function e(t){this.resolvers.opened?this.resolvers.opened.rejectWith(t):this.emit("socket-error",t);this.rejectAllOutstandingResolvers({code:-1,message:"Socket error"})}},{key:"onMessage",value:function e(t){var n=JSON.parse(t.data);this.emit("traffic","received",n);if("undefined"!==typeof n.id){this.emit("message",n);this.resolvers[n.id].resolveWith(n)}else this.emit(n.params?"notification":"message",n)}},{key:"rejectAllOutstandingResolvers",value:function e(t){var n=this;Object.keys(this.resolvers).forEach(function(e){if("opened"===e||"closed"===e)return;var i=n.resolvers[e];i.rejectWith(t)})}},{key:"unregisterResolver",value:function e(t){var n=this.resolvers[t];n.removeAllListeners();delete this.resolvers[t]}},{key:"registerResolver",value:function e(t,n,i){var r=this;var o=new w(t,n,i);this.resolvers[t]=o;o.on("resolved",function(e){return r.unregisterResolver(e)});o.on("rejected",function(e){return r.unregisterResolver(e)})}},{key:"send",value:function e(t){var n=this;if(!this.socket||this.socket.readyState!==this.socket.OPEN)return this.Promise.reject(new Error("Not connected"));t.id||(t.id=this.createRequestId());t.jsonrpc="2.0";return new this.Promise(function(e,i){n.socket.send(JSON.stringify(t));n.emit("traffic","sent",t);return n.registerResolver(t.id,e,i)})}},{key:"createRequestId",value:function e(){this.requestId+=1;return this.requestId}}]);return e}();var C=5e3;var E=4e3;var q=function(){function e(t){var n=this;o(this,e);s(this,t);this.isSuspended=false;this.rpc.on("traffic",function(e,t){"sent"===e&&"OpenDoc"===t.method&&(n.openDocParams=t.params)})}a(e,[{key:"restoreRpcConnection",value:function e(t){var n=this;return this.reopen(C).then(function(e){if("SESSION_CREATED"===e&&t)return n.Promise.reject(new Error("Not attached"));return n.Promise.resolve()})}},{key:"restoreGlobal",value:function e(t){var n=this.apis.getApisByType("Global").pop();t.push(n.api);return this.Promise.resolve()}},{key:"restoreDoc",value:function e(t,n){var i=this;var r=this.apis.getApisByType("Doc").pop();if(!r)return this.Promise.resolve();return this.rpc.send({method:"GetActiveDoc",handle:-1,params:[]}).then(function(e){if(e.error&&i.openDocParams)return i.rpc.send({method:"OpenDoc",handle:-1,params:i.openDocParams});return e}).then(function(e){if(e.error){t.push(r.api);return i.Promise.resolve()}var o=e.result.qReturn.qHandle;r.api.handle=o;n.push(r.api);return i.Promise.resolve(r.api)})}},{key:"restoreDocObjects",value:function t(n,i,r){var o=this;var a=[];var s=this.apis.getApis().map(function(e){return e.api}).filter(function(e){return"Global"!==e.type&&"Doc"!==e.type});if(!n){s.forEach(function(e){return i.push(e)});return this.Promise.resolve()}s.forEach(function(t){var s=e.buildGetMethodName(t.type);if(s){var l=o.rpc.send({method:s,handle:n.handle,params:[t.id]}).then(function(e){if(e.error||!e.result.qReturn.qHandle)i.push(t);else{t.handle=e.result.qReturn.qHandle;r.push(t)}});a.push(l)}else i.push(t)});return this.Promise.all(a)}},{key:"suspend",value:function e(){this.isSuspended=true;return this.rpc.close(E)}},{key:"resume",value:function e(t){var n=this;var i=[];var r=[];return this.restoreRpcConnection(t).then(function(){return n.restoreGlobal(i)}).then(function(){return n.restoreDoc(r,i)}).then(function(e){return n.restoreDocObjects(e,r,i)}).then(function(){n.isSuspended=false;n.apis.clear();r.forEach(function(e){e.emit("closed");e.removeAllListeners()});i.forEach(function(e){n.apis.add(e.handle,e);"Global"!==e.type&&e.emit("changed")})}).catch(function(e){return n.rpc.close().then(function(){return n.Promise.reject(e)})})}},{key:"reopen",value:function e(t){var n=this;var i=void 0;var r=void 0;var o=false;var a=new this.Promise(function(e){r=e});var s=function e(){o||(i=setTimeout(function(){return r("SESSION_CREATED")},t));return a};var l=function e(t){if("OnConnected"!==t.method)return;clearTimeout(i);r(t.params.qSessionState);o=true};this.rpc.on("notification",l);return this.rpc.open(true).then(s).then(function(e){n.rpc.removeListener("notification",l);return e}).catch(function(e){n.rpc.removeListener("notification",l);return n.Promise.reject(e)})}}],[{key:"buildGetMethodName",value:function e(t){if("Field"===t||"Variable"===t)return null;if("GenericVariable"===t)return"GetVariableById";return t.replace("Generic","Get")}}]);return e}();var _="qSuccess";function T(e,t){var n=e.config.protocol.delta&&-1!==t.outKey&&t.outKey!==_;n&&(t.delta=n);return t}function k(e,t,n){if(n.qHandle&&n.qType)return e.getObjectApi({handle:n.qHandle,type:n.qType,id:n.qGenericId,genericType:n.qGenericType});if(null===n.qHandle&&null===n.qType)return e.config.Promise.reject(new Error("Object not found"));return n}var O=Object.prototype.hasOwnProperty;var D=Object.prototype.toString;var A=function e(t){if("function"===typeof Array.isArray)return Array.isArray(t);return"[object Array]"===D.call(t)};var I=function e(t){if(!t||"[object Object]"!==D.call(t))return false;var n=O.call(t,"constructor");var i=t.constructor&&t.constructor.prototype&&O.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return false;var r;for(r in t);return"undefined"===typeof r||O.call(t,r)};var L=function e(){var t,n,i,r,o,a;var s=arguments[0];var l=1;var u=arguments.length;var c=false;if("boolean"===typeof s){c=s;s=arguments[1]||{};l=2}(null==s||"object"!==typeof s&&"function"!==typeof s)&&(s={});for(;l<u;++l){t=arguments[l];if(null!=t)for(n in t){i=s[n];r=t[n];if(s!==r)if(c&&r&&(I(r)||(o=A(r)))){if(o){o=false;a=i&&A(i)?i:[]}else a=i&&I(i)?i:{};s[n]=e(c,a,r)}else"undefined"!==typeof r&&(s[n]=r)}}return s};var P=L.bind(null,true);var M={};var N=Array.isArray;function R(e){return null!=e&&!Array.isArray(e)&&"object"===("undefined"===typeof e?"undefined":r(e))}function F(e){return"undefined"===typeof e}function j(e){return"function"===typeof e}function B(e){if(e)return P({},{val:e}).val;return e}function V(e,t){return j(e[t])||"$$"===t.substring(0,2)||"_"===t.substring(0,1)}function H(e,t){var n="/";var i=t.substring(1).split(n).slice(0,-1);var r=void 0;i.forEach(function(t,n){if(n===i.length)return;r=+t;var o=isNaN(r)?{}:[];e[r||t]=F(e[r||t])?o:e[t];e=e[r||t]});return e}function U(e){Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);n.configurable&&!V(e,t)&&delete e[t]})}function z(e,t){var n=true;if(R(e)&&R(t)){if(Object.keys(e).length!==Object.keys(t).length)return false;Object.keys(e).forEach(function(i){z(e[i],t[i])||(n=false)});return n}if(N(e)&&N(t)){if(e.length!==t.length)return false;for(var i=0,r=e.length;i<r;i+=1)if(!z(e[i],t[i]))return false;return true}return e===t}function $(e,t,n){var i=[];var r=e.slice();var o=-1;function a(e,t,n){if(e[n]&&F(e[n].qInfo))return null;if(e[n]&&e[n].qInfo.qId===t)return n;for(var i=0,r=e.length;i<r;i+=1)if(e[i]&&e[i].qInfo.qId===t)return i;return-1}if(z(t,r))return i;if(!F(t[0])&&F(t[0].qInfo)){i.push({op:"replace",path:n,value:t});return i}for(var s=r.length-1;s>=0;s-=1){o=a(t,r[s].qInfo&&r[s].qInfo.qId,s);if(-1===o){i.push({op:"remove",path:n+"/"+s});r.splice(s,1)}else i=i.concat(M.generate(r[s],t[o],n+"/"+s))}for(var l=0,u=t.length;l<u;l+=1){o=a(r,t[l].qInfo&&t[l].qInfo.qId);if(-1===o){i.push({op:"add",path:n+"/"+l,value:t[l]});r.splice(l,0,t[l])}else if(o!==l){i.push({op:"move",path:n+"/"+l,from:n+"/"+o});r.splice(l,0,r.splice(o,1)[0])}}return i}M.generate=function e(t,n,i){i=i||"";var r=[];Object.keys(n).forEach(function(e){var o=B(n[e]);var a=t[e];var s=i+"/"+e;if(z(o,a)||V(n,e))return;F(a)?r.push({op:"add",path:s,value:o}):R(o)&&R(a)?r=r.concat(M.generate(a,o,s)):N(o)&&N(a)?r=r.concat($(a,o,s)):r.push({op:"replace",path:i+"/"+e,value:o})});Object.keys(t).forEach(function(e){F(n[e])&&!V(t,e)&&r.push({op:"remove",path:i+"/"+e})});return r};M.apply=function e(t,n){n.forEach(function(e){var n=H(t,e.path);var i=e.path.split("/").splice(-1)[0];var r=i&&isNaN(+i)?n[i]:n[+i]||n;var o=e.from?e.from.split("/").splice(-1)[0]:null;if("/"===e.path){n=null;r=t}if("add"===e.op||"replace"===e.op)if(N(n)){"-"===i&&(i=n.length);n.splice(+i,"add"===e.op?0:1,e.value)}else if(N(r)&&N(e.value)){var a;var s=e.value.slice();r.length=0;(a=r).push.apply(a,d(s))}else if(R(r)&&R(e.value)){U(r);P(r,e.value)}else{if(!n)throw new Error("Patchee is not an object we can patch");n[i]=e.value}else if("move"===e.op){var l=H(t,e.from);if(N(n))n.splice(+i,0,l.splice(+o,1)[0]);else{n[i]=l[o];delete l[o]}}else"remove"===e.op&&(N(n)?n.splice(+i,1):delete n[i])})};M.clone=function e(t){return P({},t)};M.createPatch=function e(t,n,i){var r={op:t.toLowerCase(),path:i};"move"===r.op?r.from=n:"undefined"!==typeof n&&(r.value=n);return r};M.updateObject=function e(t,n){if(!Object.keys(t).length){P(t,n);return}M.apply(t,M.generate(t,n))};var G={};var W=function e(t){if(!G[t.id]){var n={};G[t.id]=n;t.on("traffic:received",function(e){return e.close&&e.close.forEach(function(e){return delete n[e]})});t.on("closed",function(){return delete G[t.id]})}};var Q=function e(t,n){W(t);var i=G[t.id];i[n]||(i[n]=new m);return i[n]};var K=function e(t,n,i,o){var a=Q(t,n);var s=a.get(i);"undefined"===typeof s&&(s=Array.isArray(o[0].value)?[]:{});if(o.length){"/"===o[0].path&&"object"!==r(o[0].value)?s=o[0].value:M.apply(s,o);a.set(i,s)}return s};function Y(e,t,n){var i=n.delta,r=n.result;if(i){Object.keys(r).forEach(function(n){if(!Array.isArray(r[n]))throw new Error("Unexpected RPC response, expected array of patches");r[n]=K(e,t.handle,t.method+"-"+n,r[n])});return JSON.parse(JSON.stringify(n))}return n}Y.sessions=G;function X(e,t,n){if("undefined"!==typeof n.error){var i=n.error;var r=new Error(i.message);r.code=i.code;r.parameter=i.parameter;return e.config.Promise.reject(r)}return n}var Z="qReturn";function J(e,t,n){"CreateSessionApp"===t.method||"CreateSessionAppFromApp"===t.method?n[Z].qGenericId=n[Z].qGenericId||n.qSessionAppId:"GetInteract"===t.method&&delete n[Z];if(hasOwnProperty.call(n,Z))return n[Z];if(-1!==t.outKey)return n[t.outKey];return n}function ee(e,t,n){return n.result}var te=function(){function e(t){o(this,e);s(this,t);this.request=[{onFulfilled:T}].concat(d(this.request||[]));this.response=[{onFulfilled:X},{onFulfilled:Y},{onFulfilled:ee},{onFulfilled:J}].concat(d(this.response||[]),[{onFulfilled:k}])}a(e,[{key:"executeRequests",value:function e(t,n){var i=this;return this.request.reduce(function(e,n){var r=n.onFulfilled&&n.onFulfilled.bind(i,t);return e.then(r)},n)}},{key:"executeResponses",value:function e(t,n,i){var r=this;return this.response.reduce(function(e,n){return e.then(n.onFulfilled&&n.onFulfilled.bind(r,t,i),n.onRejected&&n.onRejected.bind(r,t,i))},n)}}]);return e}();var ne=function(e){u(t,e);function t(){o(this,t);return c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}a(t,[{key:"add",value:function e(n,i){var r=this;var o={api:i};l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,n.toString(),o);i.on("closed",function(){return r.remove(n)});return o}},{key:"getApi",value:function e(t){var n="undefined"!==typeof t?this.get(t.toString()):void 0;return n&&n.api}},{key:"getApis",value:function e(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getAll",this).call(this).map(function(e){return{handle:e.key,api:e.value.api}})}},{key:"getApisByType",value:function e(t){return this.getApis().filter(function(e){return e.api.type===t})}}]);return t}(m);var ie=function(){function e(){o(this,e)}a(e,null,[{key:"getSession",value:function e(t){var n=t.createSocket,i=t.Promise,r=t.requestInterceptors,o=t.responseInterceptors,a=t.url;var s=new ne;var l=new te({apis:s,Promise:i,request:r,response:o});var u=new S({createSocket:n,Promise:i,url:a});var c=new q({apis:s,Promise:i,rpc:u});var d=new v({apis:s,config:t,intercept:l,rpc:u,suspendResume:c});return d}},{key:"create",value:function t(n){e.configureDefaults(n);n.mixins.forEach(function(e){n.definition.registerMixin(e)});return e.getSession(n)}},{key:"configureDefaults",value:function e(t){if(!t)throw new Error("You need to supply a configuration.");if(!t.Promise&&"undefined"===typeof Promise)throw new Error("Your environment has no Promise implementation. You must provide a Promise implementation in the config.");"function"!==typeof t.createSocket&&"function"===typeof WebSocket&&(t.createSocket=function(e){return new WebSocket(e)});"undefined"===typeof t.suspendOnClose&&(t.suspendOnClose=false);t.protocol=t.protocol||{};t.protocol.delta="undefined"===typeof t.protocol.delta||t.protocol.delta;t.Promise=t.Promise||Promise;t.mixins=t.mixins||[];t.definition=t.definition||new x(t)}}]);return e}();return ie})},function(e,t,n){"use strict";var i,r;!(i=[n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(587),n(588),n(589),n(590),n(591),n(592),n(594),n(595),n(596)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g,b,y,x,w,S,C,E,q,_,T,k,O,D){return[e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g,b,y,x,w,S,C,E,q,_,T,k,O,D]}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable","Field"],init:function e(t){var n=t.api;n.getAppLayout&&(n.session.app=n);n.app=n.session.app;n.enigmaModel=t.api;n.Promise=t.config.Promise}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{types:"Doc",extend:{getProperties:function e(){return this.getAppProperties()},setProperties:function e(t){return this.setAppProperties(t)},getLayout:function e(){return this.getAppLayout()},getPublishableStreams:function e(){return this.Promise.all([this.getLayout(),this.global.getStreamList()]).then(function(e){return e[1].filter(function(t){return e[0].stream?t.qId===e[0].stream.id&&-1!==t.privileges.indexOf("publish"):-1!==t.privileges.indexOf("publish")})})}},init:function e(t){this.Promise=t.config.Promise;var n=t.api;n.waitForOpen=this.Promise.defer();n.waitForOpen.resolve()}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89)],r=function(e){return{types:"Doc",extend:{abortModalSelection:function e(t){t=void 0===t||t;this.setModalSelection(null);return this.abortModal(t)},switchModalSelection:function t(n,i,r){var o;n=n||null;i=i||"";r=void 0===r||r;o=Array.isArray(i)?i:[i];this.isInModalSelection()&&this.modalSelectionObject.endSelections(r);if(n&&!n.isClosed){this.setModalSelection(n);return n.beginSelections(o)}this.setModalSelection(null);return e.resolve()},setModalSelection:function e(t){this.modalSelectionObject=t},isInModalSelection:function e(){return this.modalSelectionObject&&!this.modalSelectionObject.isClosed}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(110)],r=function(e,t){function n(n){return function i(){var r=[].slice.call(arguments);var o=this._getCache;var a=r.splice(0,1)[0];var s=n+r.join("");if(o[s])return o[s];var l=a.apply(this,r).then(function(e){e.on("closed",function(){delete o[s]});return e}).catch(function(){delete o[s];return e.reject({error:{code:t.NxLocalizedErrorCode.LOCERR_GENERIC_NOT_FOUND}})});o[s]=l;return l}}var i=n("generic-get-");var r=n("variable-get-");var o=n("field-get-");var a={types:"Doc",override:{},init:function e(t){t.api._getCache={}}};["getObject","getBookmark","getDimension","getMeasure","getVariableById"].forEach(function(e){a.override[e]=i});["getVariable","getVariableByName"].forEach(function(e){a.override[e]=r});a.override.getField=o;return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(324)],r=function(e){return{types:"Doc",override:{getContentLibraries:function e(t){return t().then(function(e){return e.qItems})},getLibraryContent:function e(t,n){return t(n).then(function(e){return e.qItems})}},extend:{getOrCreateSessionObject:function e(t){var n=this;var i=t.qInfo.qId;n._listCache[i]||(n._listCache[i]=n.createSessionObject(t));return n._listCache[i]},getListData:function e(t){return this.getListObject(t).then(function(e){return e.getLayout()})},getListObject:function t(n){var i=this;var r=Object.keys(n).filter(function(e){return-1!==e.indexOf("ListDef")})[0];if(!r)throw new Error("Invalid list definition");r&&(r=r.replace(/Def$/g,""));var a=n.qInfo.qId;i._listCache[a]||i.getOrCreateSessionObject(n).then(function(t){var n=t.getLayout.bind(t);t.getLayout=function(){return n().then(function(t){var n=t[r].qItems;n.forEach(function(t){"object"===o(t)&&e.mapToLayout(t)});return t[r].qItems})};return t});return i._listCache[a]}},init:function e(t){t.api._listCache={}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"BookmarkList",qType:"BookmarkList"},qBookmarkListDef:{qType:"bookmark",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description",sheetId:"/sheetId",selectionFields:"/selectionFields",creationDate:"/creationDate"}}};var t={types:"Doc",extend:{getBookmarkList:function t(){return this.getListData(e)},getBookmarkListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"CurrentSelection",qType:"CurrentSelection"},qSelectionObjectDef:{}};var t={types:["Doc"],extend:{getCurrentSelectionObject:function t(){return this.getOrCreateSessionObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t,n,i){return e.getField(t,i).then(function(e){return e[n]()})}var t={types:["CurrentSelection"],extend:{clearField:function t(n,i){return e(this.app,n,"clear",i)},lockField:function t(n){return e(this.app,n,"lock")},unlockField:function t(n){return e(this.app,n,"unlock")},clearAll:function e(){return this.app.clearAll()},back:function e(){return this.app.back()},forward:function e(){return this.app.forward()}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"DimensionList",qType:"DimensionList"},qDimensionListDef:{qType:"dimension",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags",grouping:"/qDim/qGrouping",info:"/qDimInfos",labelExpression:"/qDim/qLabelExpression"}}};var t={types:"Doc",extend:{getDimensionList:function t(){return this.getListData(e)},getDimensionListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"FieldList",qType:"FieldList"},qFieldListDef:{qShowSystem:false,qShowHidden:false,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true}};var t={qInfo:{qId:"FieldOnTheFlyList",qType:"FieldOnTheFlyList"},qFieldListDef:{qShowSystem:false,qShowHidden:false,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true,qShowDefinitionOnly:true}};var n={qInfo:{qId:"FieldOnTheFlyWithHiddenList",qType:"FieldOnTheFlyWithHiddenList"},qFieldListDef:{qShowSystem:false,qShowHidden:true,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true,qShowDefinitionOnly:true}};var i={types:"Doc",extend:{getFieldList:function t(){return this.getListData(e)},getFieldListObject:function t(){return this.getListObject(e)},getOnTheFlyListObject:function e(){return this.getListObject(t)},getOnTheFlyWithHiddenListObject:function e(){return this.getListObject(n)}}};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={types:["FieldList"],extend:{expand:function e(){return this.getLayout().then(function(e){var t=[];for(var n=0;n<e.length;++n){var i=e[n];t.push(i);if(i.qDerivedFieldData)for(var r=0;r<i.qDerivedFieldData.qDerivedFieldLists.length;++r){var o=i.qDerivedFieldData.qDerivedFieldLists[r];for(var a=0;a<o.qFieldDefs.length;++a){var s=o.qFieldDefs[a];t.push({qName:s.qName,qSrcTables:i.qSrcTables,qTags:s.qTags,isDerived:true,sourceField:i.qName,derivedDefinitionName:o.qDerivedDefinitionName})}}}return t})}}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"MasterObjectList",qType:"MasterObjectList"},qAppObjectListDef:{qType:"masterobject",qData:{name:"/qMetaDef/title",labelExpression:"/labelExpression",visualization:"/visualization",tags:"/qMetaDef/tags"}}};var t={types:"Doc",extend:{getMasterObjectList:function t(){return this.getListData(e)},getMasterObjectListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"MeasureList",qType:"MeasureList"},qMeasureListDef:{qType:"measure",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags",labelExpression:"/qMeasure/qLabelExpression"}}};var t={types:"Doc",extend:{getMeasureList:function t(){return this.getListData(e)},getMeasureListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"ODAGAppLinkList",qType:"ODAGAppLinkList"},qAppObjectListDef:{qType:"odagapplink",qData:{odagLinkRef:"/qMetaDef/odagLinkRef",timestamp:"/qMetaDef/timestamp"}}};var t={types:"Doc",extend:{getODAGAppLinkList:function t(){return this.getListData(e)},getODAGAppLinkObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"SheetList",qType:"SheetList"},qAppObjectListDef:{qType:"sheet",qData:{title:"/qMetaDef/title",labelExpression:"/labelExpression",description:"/qMetaDef/description",descriptionExpression:"/descriptionExpression",thumbnail:"/thumbnail",cells:"/cells",rank:"/rank",columns:"/columns",rows:"/rows"}}};var t={types:"Doc",extend:{getSheetList:function t(){return this.getListData(e)},getSheetListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"SnapshotList",qType:"SnapshotList"},qBookmarkListDef:{qType:"snapshot",qData:{title:"/title",libraryTitle:"/qMetaDef/title",description:"/qMetaDef/description",sourceObjectId:"/sourceObjectId",visualizationType:"/visualizationType",timestamp:"/timestamp",snapshotData:"/snapshotData",isClone:"/isClone"}}};var t={types:"Doc",extend:{getSnapshotListObject:function t(){return this.getListObject(e)},getSnapshotList:function t(){return this.getListData(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"StoryList",qType:"StoryList"},qAppObjectListDef:{qType:"story",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description",thumbnail:"/thumbnail",rank:"/rank"}}};var t={types:"Doc",extend:{getStoryList:function t(){return this.getListData(e)},getStoryListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"UndoInfo",qType:"UndoInfo"},qUndoInfoDef:{},markers:[]};var t={types:["Doc"],extend:{getUndoInfoObject:function t(){return this.getOrCreateSessionObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89)],r=function(e){var t=true,n=[],i=null,r=false;function o(t){var i=n[n.length-1],r;r=t(i||e.resolve());n.push(r);return r}function a(e){if(r){e.markers.length=0;r=false}}return{types:["UndoInfo"],extend:{undo:function i(){var a=this;function s(i){return i.then(function(){return a.getLayout().then(function(i){if(i.qUndoInfo.qUndoCount>0)return a.app.undo().then(function(){return a.getLayout().then(function(i){t=i.markers.length%2===0;if(!t)return s(e.resolve());n.splice(0,1)})});t=i.markers.length%2===0;t||(r=true);n.splice(0,1)})})}return o(s)},redo:function i(){var a=this;function s(i){return i.then(function(){return a.getLayout().then(function(i){if(i.qUndoInfo.qRedoCount>0){r=false;return a.app.redo().then(function(){return a.getLayout().then(function(){t=i.markers.length%2===0;if(!t)return s(e.resolve());n.splice(0,1)})})}n.splice(0,1)})})}return o(s)},reset:function e(){var t=this;return t.getLayout().then(function(e){if(!e.qUndoInfo.qUndoCount&&!e.qUndoInfo.qRedoCount)return;if(e.markers.length)return t.getProperties().then(function(e){e.markers.length=0;return t.setProperties(e).then(function(){return t.app.clearUndoBuffer()})});return t.app.clearUndoBuffer()})},startGroup:function n(){var o=this;return o.getLayout().then(function(n){return o.getProperties().then(function(s){t=s.markers.length%2===0;if(t||r){i=Date.now();a(s);s.markers.push(n.qUndoInfo.qUndoCount+1);return o.setProperties(s).then(function(){return e.resolve(i)})}return e.resolve(i)})})},endGroup:function n(r){if(!r)throw new Error("Must provide groupId to stop group.");var o=this;return o.getLayout().then(function(n){return o.getProperties().then(function(a){t=a.markers.length%2===0;if(t||r!==i)return e.resolve();i=null;a.markers.push(n.qUndoInfo.qUndoCount+1);return o.setProperties(a)})})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"VariableList",qType:"VariableList"},qVariableListDef:{qType:"variable",qShowReserved:true,qShowConfig:true,qData:{tags:"/tags"}}};var t={types:"Doc",extend:{getVariableList:function t(){return this.getListData(e)},getVariableListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={types:"GenericObject",override:{exportData:function e(t,n,i,r,o){n=n||"OOXML";i=i||"";r=r||"";o=o||"P";return t(n,i,r,o)}}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(188),n(586),n(324)],r=function(e,t,n,i){return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{setState:function e(t){var i=this.state;this.state=t;if(i===this.state)return;t===n.INVALID?this.Invalidated.emit():t===n.VALID?this.Validated.emit():t===n.VALIDATING?this.Validating.emit():t===n.CLOSED?this.Closed.emit():t===n.CLOSING?this.Closing.emit():t===n.CANCELLED&&this.Cancelled.emit()},markAsInvalid:function e(){this.state=-99;this.setState(n.INVALID)},markAsCancelled:function e(){this.setState(n.CANCELLED)},clearPending:function e(){var t=this;for(var n in t.ongoingRequests)delete t.ongoingRequests[n]}},override:{getLayout:function e(i,r){var o="GetLayout"+this.delta;var a=11e3;var s=this;var l=true===r;if(s.isValid&&s.layout)return s.Promise.resolve(l?s.pureLayout:s.layout);s.isValidating||s.setState(n.VALIDATING);if(s.ongoingRequests[o]){var u=s.ongoingRequests[o];if(r)return u.then(function(){s.getAppLayout&&!s.pureLayout.permissions&&(s.pureLayout.permissions=s.layout.permissions);return s.pureLayout});return u}var c=i().then(function(e){s.isValid||t.updateObject(s.layout,e);if(s.ongoingRequests[o]===c){s.setState(n.VALID);delete s.ongoingRequests[o]}s.pureLayout=e;s.getAppLayout&&(s.pureLayout.permissions=s.layout.permissions);return l?s.pureLayout:s.layout}).catch(function(e){delete s.ongoingRequests[o];e.code===a&&(e.isHandled=true);return s.Promise.reject(e)});s.ongoingRequests[o]=c;return c},getProperties:function e(n){var i="GetPropertiesfalse";var r=this;if(r.isValid&&!r.needCacheProperties)return r.Promise.resolve(r.properties);if(r.ongoingRequests[i])return r.ongoingRequests[i];var o=n().then(function(e){var n=t.generate(r._properties,e);r._properties=e;t.apply(r.properties,n);r.isValid&&(r.needCacheProperties=false);return r.properties});r.ongoingRequests[i]=o;o.catch(function(){}).finally(function(){delete r.ongoingRequests[i]});return o},setProperties:function e(n,i){var r=this;return n(i).then(function(){t.updateObject(r._properties,r.properties)})}},init:function t(r){var o=r.api;e.mixin(o);o.notification("Validated");o.notification("Invalidated");o.notification("Validating");o.notification("Closed");o.notification("Closing");o.notification("Cancelled");o.setState(n.INVALID);o.layout={};o.pureLayout=null;o.properties={};o._properties={};o.needCacheProperties=true;o.ongoingRequests={};i.mapToLayout(o.layout,!!o.getAppLayout);o.on("changed",function(){o.clearPending();o.needCacheProperties=true;o.setState(n.INVALID)});o.on("closed",function(){for(var e in o.ongoingRequests)o.ongoingRequests[e].then&&o.ongoingRequests[e].then(null,function(e){e.isHandled=true});o.setState(n.CLOSED)});o.Cancelled.bind(function(){o.clearPending()});Object.defineProperties(o,{isValid:{get:function e(){return this.state===n.VALID}},isValidating:{get:function e(){return this.state===n.VALIDATING}},isInvalid:{get:function e(){return this.state===n.INVALID}},isClosed:{get:function e(){return this.state===n.CLOSED}},isClosing:{get:function e(){return this.state===n.CLOSING}},isCancelled:{get:function e(){return this.state===n.CANCELLED}}})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{VALID:1,INVALID:2,VALIDATING:3,CLOSED:5,CLOSING:6,CANCELLED:7}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(377)],r=function(e){function t(t,n){var i=e.isSnapshotData(n)?t.migrate.snapshot:t.migrate.properties;if("function"!==typeof i)throw new Error("migration function not a function: expected function, got "+o(i));return i(n)}return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{migrate:{properties:function e(t){return t},snapshot:function e(t){return t}}},override:{getProperties:function e(n){var i=this;return n().then(function(e){return t(i,e)})},setProperties:function e(n,i){return n(t(this,i))}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){this.getLayout=function(e){this.requestPromise=e.getLayout().then(function(t){this.requestPromise=null;if(e.isCancelled)return;this.fn(t)}.bind(this)).catch(function(e){false})}.bind(this,e);this.onInvalidated=function(){this.getLayout()}.bind(this);this.api=e;this.fn=null}e.prototype.subscribe=function(e){if("function"!==typeof e)throw new Error("Observer must be a function");if("function"===typeof this.fn)return;this.fn=e;this.api.Invalidated.bind(this.onInvalidated);this.getLayout()};e.prototype.dispose=function(){this.api.Invalidated.unbind(this.onInvalidated)};e.prototype.cancel=function(){if(this.requestPromise){this.api.app.global.cancelRequest(this.requestPromise.requestId);this.api.markAsCancelled();this.requestPromise=null;return true}return false};e.prototype.retry=function(){this.api.isCancelled&&this.getLayout()};return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{layoutSubscribe:function t(n){var i=new e(this);i.subscribe(n);return i}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(188)],r=function(e){function t(e){var t=e.qHyperCubeDef;if(t&&t.qMeasures&&t.qDimensions){var n=t.qDimensions.concat(t.qMeasures);n.forEach(function(e){e.qAttributeExpressions&&e.qAttributeExpressions.forEach(function(e){e.qAttribute=true})})}}return{types:["GenericObject"],override:{setProperties:function e(n,i){t(i);return n(i)},getEffectiveProperties:function t(n){var i=this;return n().then(function(t){i.effectiveProperties=i.effectiveProperties||t;e.updateObject(i.effectiveProperties,t);return i.effectiveProperties})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(90)],r=function(e){return{types:"Doc",override:{createBookmark:function t(n,i){return n(e.extend(true,{},{qInfo:{qType:"bookmark"},qMetaDef:{title:"",description:""},creationDate:(new Date).toISOString()},i))}},extend:{createSheet:function e(t){return this.createObject({qInfo:{qType:"sheet"},qMetaDef:{title:t.title||"",description:t.description||""},rank:void 0!==o(t.rank)?t.rank:-1,thumbnail:{qStaticContentUrlDef:t.thumbnail||null},columns:24,rows:12,cells:[],qChildListDef:{qData:{title:"/title"}}})},createStory:function e(t){return this.createObject({qInfo:{qType:"story"},qMetaDef:{title:t.title||"",description:""},rank:void 0!==o(t.rank)?t.rank:-1,thumbnail:{qStaticContentUrlDef:t.thumbnail||null},qChildListDef:{qData:{title:"/title",rank:"/rank"}}})},createMasterObject:function e(t){t=t||{};return this.createObject({qInfo:{qType:"masterobject"},qMetaDef:{title:t.title||"",description:t.description||"",tags:t.tags||""}})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(143),n(89)],r=function(e,t){var n,i;e.onDataReceived.then(function(e){if("NONE"!==e.userDirectory){n=e.userId;i=e.userDirectory}});return{types:["GenericObject"],override:{publish:function e(n){return this.getLayout().then(function(e){return e.permissions.publish?n():t.reject("Permission denied")})},unPublish:function e(r){return this.getLayout().then(function(e){var o=e.qMeta;var a=o.published&&!o.approved;var s=o.owner.userId===n&&o.owner.userDirectory===i;return a&&s?r():t.reject("Permission denied")})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(309),n(89),n(115),n(181),n(103)],r=function(e,t,n,i,r,o){return{types:"sheet",extend:{edit:function e(t){var n=this;return n.getProperties().then(function(e){t(e);return n.setProperties(e)})},getObject:function e(n,i){return this.getLayout().then(function(e){return t.getObject(e,n,i)})},moveObject:function e(i,r){return this.edit(function(e){var o=t.getObject(e,i);if(r.split){r=t.splitCell(e,r.pos,r.split);if(!r)return n.reject()}t.moveObject(o,r,e)})},swapObjects:function e(n,i){return this.edit(function(e){t.swapObjects(e,n,i)})},addObject:function r(a){var s=this,l=a.template,u=a.cell.pos,c=i.getType(l),d=a.init,f=a.children||[];var p;p=d.qExtendsId?n.resolve(e.extend({qInfo:{qType:l}},d)):c.getInitialProperties(d);return n.all({initProps:p,props:s.getFullPropertyTree()}).then(function(i){var r=i.initProps,a=i.props;if(u.split){u=t.splitCell(a.qProperty,u.pos,u.split);if(!u)return n.reject()}r.qInfo.qId=e.generateId();o.trackEvent(o.customEvents.CHART_CREATED,{chart_type:c.type,chart_id:r.qInfo.qId,chart_isThirdParty:c.libraryInfo?c.libraryInfo.isThirdParty:void 0});var l=t.setObject(a.qProperty,u,r.qInfo.qId,r.qInfo.qType);var d=false;if(l)for(var p=0;p<a.qChildren.length;p++)if(a.qChildren[p].qProperty.qInfo.qId===l){a.qChildren[p].qProperty=r;a.qChildren[p].qChildren=[];t.addChildrenToObject(a.qChildren[p],f);d=true;break}if(!d){var h=a.qChildren.push({qChildren:[],qProperty:r});t.addChildrenToObject(a.qChildren[h-1],f)}return s.setFullPropertyTree(a)})},getObjectById:function e(t){var n,i,r=this.layout.cells;for(n=0;n<r.length;++n){i=r[n];if(t===i.name)return i}return null},removeObject:function e(n){var i=this;return i.getFullPropertyTree().then(function(e){var r=t.objIndex(e.qProperty,n),a=e.qProperty.cells[r].name;if(-1===r)throw new Error("invalid pos");e.qProperty.cells.splice(r,1);for(var s=0;s<e.qChildren.length;s++)if(e.qChildren[s].qProperty.qInfo.qId===a){o.trackEvent(o.customEvents.CHART_DELETED,{chart_type:e.qChildren[s].qProperty.qInfo.qType,chart_id:a,chart_isThirdParty:!!e.qChildren[s].qProperty.extensionMeta});e.qChildren.splice(s,1);break}return i.setFullPropertyTree(e)})},setCloneChildrenInfos:function e(i){var r=this;return n.all([r.getChildInfos(),i.getChildInfos(),i.getProperties()]).then(function(e){var n=e[0];var r=e[1];var o=e[2];n.forEach(function(e,n){var i=t.findCellForId(e.qId,o.cells);i&&(i.name=r[n].qId)});return i.setProperties(o).then(function(){return i})})},clone:function e(){var t=this;return t.app.cloneObject(this.id).then(function(e){return t.app.getObject(e)}).then(function(e){return t.setCloneChildrenInfos(e)})},extendSheet:function e(t){var n=this;return this.getProperties().then(function(e){var i=e.rows;var o=r.calculateExtendedRowsAndHeight(e,t);e.height=o.height;e.rows=o.rows;for(var a=0;a<e.cells.length;a++)e.cells[a].bounds=r.recalculateBounds(e.cells[a],e.columns,i,e.columns,e.rows);return n.setProperties(e).then(function(){return[i,e.rows,e.columns]})})},isCustomSize:function e(){return this.layout&&this.layout.layoutOptions&&"CUSTOM"===this.layout.layoutOptions.sheetMode}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(194),n(107)],r=function(e,t,n){return{types:"sheet",extend:{removeNavPoint:function e(t){var n=this;return this.getProperties().then(function(e){if(!e.navPoints)return;for(var i=0;i<e.navPoints.length;i++){var r=e.navPoints[i];if(r.info.id===t){e.navPoints.splice(i,1);break}}return n.setProperties(e)})},addNavPoint:function i(r){var o={info:{type:"odagNavPoint"},title:"",odagLinkRefID:""};o=e.extend(o,r.data);o.info.id||(o.info.id=e.generateId());var a=this;return this.getProperties().then(function(i){i.navPoints||(i.navPoints=[]);var s=i.navPoints.map(function(e){return e.title});if(s.indexOf(o.title)>-1){var l=t.generateUniqueName(s,o.title);l=e.crop(l,n.name);o.title=l}var u=false;if(r.insertBeforeNavPointID)for(var c=0;c<i.navPoints.length;c++){var d=i.navPoints[c];if(d.info.id===r.insertBeforeNavPointID){i.navPoints.splice(c,0,o);u=true;break}}u||i.navPoints.push(o);return a.setProperties(i)})},getNavPoints:function e(){return this.getProperties().then(function(e){return e.navPoints?e.navPoints:[]})},reorderNavPoints:function e(t){var n=this;return this.getProperties().then(function(e){e.navPoints=t;return n.setProperties(e)})},moveNavPoint:function e(t,n){var i=this;return this.getProperties().then(function(e){if(!t)return;var r=null;var o=null;n||(o=e.navPoints.length-1);for(var a=0;a<e.navPoints.length;a++){var s=e.navPoints[a];s.info.id===t?r=a:n&&s.info.id===n&&(o=a);if(null!==r&&null!==o)break}r<o&&n&&o--;null!==r&&null!==o&&e.navPoints.splice(o,0,e.navPoints.splice(r,1)[0]);return i.setProperties(e)})},removeRefToLinkIDFromNavPoints:function e(t){var n=this;return this.getProperties().then(function(e){var i=e.navPoints?e.navPoints:[];for(var r=0;r<i.length;r++){var o=e.navPoints[r];o.odagLinkRefID===t&&(o.odagLinkRefID="")}return n.setProperties(e)})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){function t(e,t){if(e.qData.rank<t.qData.rank)return-1;if(e.qData.rank>t.qData.rank)return 1;return 0}if(Array.isArray(e)&&e.length>0)return e.sort(t);return e}return{types:"slide",extend:{duplicate:function t(n){var i,r=this;return n.getLayout().then(function(t){var o=e(t.qChildList.qItems.slice());for(var a=0;a<o.length;a++){var s=o[a];if(s.qInfo.qId===r.id){var l=o[a],u=o[a+1];(u||l)&&(i=u&&!l?u.qData.rank-1:!u&&l?l.qData.rank+1:(l.qData.rank+u.qData.rank)/2)}}return n.createSlide({rank:i}).then(function(e){return e.copyFrom(r.id).then(function(){return e.getProperties().then(function(t){t.rank=i;return e.setProperties(t)})})})})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){return{types:"story",extend:{clone:function e(){var t=this;return t.app.cloneObject(this.id).then(function(e){return t.app.getObject(e)})},createSlide:function t(n){return this.createChild(e.extend(true,{qInfo:{qId:e.generateId(),qType:"slide"},rank:-1,qChildListDef:{qData:{title:"/title",sheetId:"/sheetId",ratio:"/ratio",position:"/position",dataPath:"/dataPath",srcPath:"/srcPath",visualization:"/visualization",visualizationType:"/visualizationType",style:"/style"}}},n))}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(259)],r=function(e){return e.structs}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(89),n(93),n(49)],r=function(e,t,n,i){var r={};var o={};var a={qInfo:{qType:"appprops"},sheetTitleBgColor:"",sheetTitleGradientColor:"",sheetTitleColor:"",sheetLogoThumbnail:{qStaticContentUrlDef:null},sheetLogoPosition:"",rtl:false,theme:"sense"};var s={qInfo:{qId:"AppPropsList",qType:"AppPropsList"},qAppObjectListDef:{qType:"appprops",qData:{sheetTitleBgColor:"/sheetTitleBgColor",sheetTitleGradientColor:"/sheetTitleGradientColor",sheetTitleColor:"/sheetTitleColor",sheetLogoThumbnail:"/sheetLogoThumbnail",sheetLogoPosition:"/sheetLogoPosition",rtl:"/rtl",theme:"/theme"}}};function l(e){return e.getProperties().then(function(t){return e.global.engineVersion().then(function(e){return t.qSavedInProductVersion===e.qComponentVersion&&!t.qLastReloadTime})})}function u(e){return e?t.resolve(e):n.getApp()}o.create=function(t,n){return u(n).then(function(n){if(i.getFlag("THEME_CARDS"))return l(n).then(function(i){var r=i?{theme:"card"}:{};var o=e.extend(true,{},a,r,t);return n.createObject(o)});var r=e.extend(true,{},a,t);return n.createObject(r)})};o.get=function(e,t){return u(t).then(function(t){return t.getObject(e)})};o.getList=function(e){return u(e).then(function(e){return r[e.id]=r[e.id]||e.getListObject(s)})};return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(89),n(91),n(600),n(601),n(602)],r=function(e,t,n,i,r,o){var a;var s=20;var l="Invalid theme id";var u={DEFAULT:"default",QRS:"qrs",RLS:"rls"};var c=e.extend("ThemeLoader",{init:function e(t){this._cachedThemes=null;this.config=t;this.providers={default:i,qrs:r,rls:o};this.THEME_TYPE=u;this.ERROR_THEME_ID=l},getAvailableThemes:function e(){var n=this,i=new t,r=[],o=Object.keys(this.providers),a={default:[],custom:[]};if(this._cachedThemes)return t.resolve(this._cachedThemes);if(!this.config||!this.config.providers)return t.resolve(a);o.forEach(function(e){n.config.providers[e]&&r.push(n.providers[e].getThemeLists())});t.all(r).then(function(e){e.forEach(function(e){a.default=a.default.concat(e.default);a.custom=a.custom.concat(e.custom)});n._sortAlphabetically(a.custom);n._cachedThemes=a;i.resolve(a)});return i.promise},getCustomThemesPage:function e(n){var i,r=this,o;if(a&&a<n)return t.resolve([]);i=new t;this.getAvailableThemes().then(function(e){o=r._getPageFromList(n,e.custom,s);i.resolve(o)});return i.promise},getType:function e(n){var i=this,r=new t;this.getAvailableThemes().then(function(e){var t=Object.keys(e),o,a,s,u=null;while(!u){for(a=0;a<t.length;a++){o=t[a];s=i._getThemeTypeInList(e[o],n);if(s){u=s;break}}break}u?r.resolve(u):r.reject(l)});return r.promise},getRawJson:function e(n){var i=this;if(!n)return t.reject(l);return this.getType(n).then(function(e){return i.providers[e].loadJson(n)}).catch(function(e){return t.reject(e)})},getThemePath:function e(n){var i=this;if(!n)return t.reject(l);return this.getType(n).then(function(e){return i.providers[e].getResourcePath(n)})},getResourceUrlParams:function e(n){var i=this;if(!n)return t.reject(l);return this.getType(n).then(function(e){return i.providers[e].getResourceUrlParams()})},getPagesTotal:function e(){var n=this,i=new t;if(a)return t.resolve(a);this.getAvailableThemes().then(function(e){a=n._calculateNbrOfPages(e.custom,s);i.resolve(a)});return i.promise},_sortAlphabetically:function e(t){return t.sort(function e(t,i){var r="pseudo"===n.language?"en-US":n.language;return t.name.localeCompare(i.name,r)})},_getThemeTypeInList:function e(t,n){var i=null;if(t)for(var r=0;r<t.length;r++)if(t[r].id===n){i=t[r].type;break}return i},_getPageFromList:function e(t,n,i){var r=t||t>0?t:0;var o=r*i;var a=(r+1)*i;n.length<a&&(a=n.length);return n.slice(o,a)},_calculateNbrOfPages:function e(t,n){return Math.ceil(t.length/n)}});return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(89),n(260)],r=function(e,t,i){var r={};var o=n.p+"assets/external/sense-themes-default/default-themes.json";var a=n.p+"assets/external/sense-themes-default/";function s(){return i.getJson(o).then(function(e){return r._resolveDefaultConfiguration(e)})}function l(e){return u(e).then(function(e){var t=r._getJsonPath(e);return i.getJson(t)})}function u(e){return t.resolve(a+encodeURIComponent(e))}function c(){return""}r._resolveDefaultConfiguration=function(e){var n=new t;r._waitForTranslator().then(function(){var t={default:e.default,custom:[]};r._translateNames(t.default);r._setType(t.default);n.resolve(t)});return n.promise};r._waitForTranslator=function(){return e.ready};r._getJsonPath=function(e){return e+"/theme.json"};r._translateNames=function(t){t.forEach(function(t){t.name=e.get(t.name)})};r._setType=function(e){e.forEach(function(e){e.type="default"})};r.getThemeLists=s;r.loadJson=l;r.getResourcePath=u;r.getResourceUrlParams=c;return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(13),n(89),n(260)],r=function(e,t,n,i){var r={};function o(){var e=new n;var t={default:[],custom:[]};r._getExtensionsFromQrs().then(function(n){for(var i in n)r._isThemeExtension(n,i)&&t.custom.push({id:i,name:n[i]["name"],type:"qrs"});e.resolve(t)},function(){e.resolve(t)});return e.promise}function a(e){return s(e).then(function(e){var t=r._getJsonPath(e);return i.getJson(t)})}function s(e){var i=t.rootPath+"extensions/"+encodeURIComponent(e);return n.resolve(i)}function l(){return""}r._getExtensionsFromQrs=function(){return e.getService("$contentApi").getExtensions()};r._isThemeExtension=function(e,t){return e.hasOwnProperty(t)&&e[t]["type"]&&"theme"===e[t]["type"]};r._getJsonPath=function(e){return e+"/theme.json"};r.getThemeLists=o;r.loadJson=a;r.getResourcePath=s;r.getResourceUrlParams=l;return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(261),n(89),n(260)],r=function(e,t,n){var i={};function r(){var e=this,n=new t,r,o={default:[],custom:[]};i._getThemesFromRls().then(function(t){for(var i in t){var a=t[i];if(a.attributes){if(a.attributes.qext_filename&&a.attributes.name&&a.id){r=o[e._getListForSupplier(a.attributes.supplier)];r.push({id:a.attributes.qext_filename,name:a.attributes.name,rlsId:a.id,type:"rls"})}}else if(a.qextFilename&&a.name&&a.id){r=o[e._getListForSupplier(a.supplier)];r.push({id:a.qextFilename,name:a.name,rlsId:a.id,type:"rls"})}}n.resolve(o)},function(){n.resolve(o)});return n.promise}function o(e){return a(e).then(function(e){var t=i._getJsonPath(e);return n.getJson(t)})}function a(e){var n=new t;i.getThemeLists().then(function(t){var r=i._getResourcePathForList(t.default,e);if(r){n.resolve(r);return}r=i._getResourcePathForList(t.custom,e);if(r){n.resolve(r);return}n.resolve(null)});return n.promise}function s(){return e.getTenantIdUrlParameter()}i._getResourcePathForList=function(e,t){var n;e.forEach(function(e){e.id===t&&(n="/api/v1/themes/"+e.rlsId+"/file")});return n};i._getJsonPath=function(e){return e+"/theme.json"+s()};i._getThemesFromRls=function(){return e.getCloudThemes()};i._getListForSupplier=function(e){return e&&"qlik"===e.toLowerCase()?"default":"custom"};i.getThemeLists=r;i.loadJson=o;i.getResourcePath=a;i.getResourceUrlParams=s;return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(90),n(604)],r=function(e,t,n){var i=["palette","colorSchemes.qualitativeScales","colorSchemes.ordinalScales","scales","palettes.data","palettes.ui"];function r(e,t){for(var n in e)"object"===o(e[n])&&null!==e[n]?r(e[n],t):"string"===typeof e[n]&&"@"===e[n].charAt(0)&&(e[n]=t[e[n]])}function a(e){n.generateScales(e)}function s(e,t){var i;if(e){i=n.validatePalettesOrScales(e);i&&i.length&&i.forEach(function(e){console.warn("Theme parsing error, scale declaration: "+e)})}if(t){i=n.validatePalettesOrScales(t,true);i&&i.length&&i.forEach(function(e){console.warn("Theme parsing error, scale declaration: "+e)})}}function l(e){e.forEach(function(e){if(e.colors)for(var t=0;t<e.colors.length;t++)e.colors[t]&&(e.colors[t]=e.colors[t].toLowerCase())})}var u={};u.injectStyleNode=function(e,t,n){var i=document.createElement("link");var r=n||"";i.setAttribute("rel","stylesheet");i.setAttribute("href",e+"/"+t+r);document.head.appendChild(i);return i};u.injectExtraStyleNodes=function(e,t,n){var i=[];e.customStyles&&e.customStyles.length&&e.customStyles.forEach(function(e){if(e.cssRef&&e.cssRef.length&&"css"===e.cssRef.split(".").pop()){i.push({node:u.injectStyleNode(t,e.cssRef,n),cssClass:e.classRef});e.classRef&&e.classRef.length&&u.toggleCssClass(e.classRef,true)}});return i};u.toggleCssClass=function(t,n){t&&t.length&&e("body").toggleClass(t,n)};u.parseTheme=function(e,n,o){var c={};r(e,e._variables);r(n,n._variables);false===e._inherit?t.extend(true,c,e):t.extend(true,c,n,e);o&&i.forEach(function(n){var i=t.getValue(e,n);void 0!==i&&t.setValue(c,n,i)});c.scales&&a(c.scales);c.palettes&&c.palettes.ui&&l(c.palettes.ui);s(c.scales,c.palettes?c.palettes.data:null);u.toggleCssClass("qv-card",true===e._cards);return c};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(395),n(109)],r=function(e,t){function n(e,t,n){var i=.25+(t+1)/n*.25;var r=.5-i;var o=.5+i;var a=o-r;return r+e/1*a}function i(t,n){var i=[],r=new e;i.push(t[0]);n||i.push(t[0]);var o=1;for(;o<t.length-1;o++){i.push(t[o]);i.push(t[o])}i.push(t[o]);n||i.push(t[o]);for(var a=0;a<i.length;a+=2)r.addColorPart(i[a],i[a+1]);return r}function r(e,i,r){var o=[];for(var a=0;a<i+1;a++){var s;switch(i){case 0:s=e.getColor(.5);break;default:var l=n(1/i*a,i,r);s=e.getColor(l);break}o.push(new t(s).toHex())}return o}function o(e,t,n){var o=i(e,true);var a=r(o,t-1,t);var s=i(a,n);var l=[null];for(var u=0;u<t;u++)l.push(r(s,u,t));return l}function a(e){e.forEach(function(e){if("class"===e.type){var t=o(e.scale,Math.max(e.scale.length,7),false);e.scale=t;e.type="class-pyramid"}})}function s(e,t){var n={};var i=[];e.forEach(function(e,r){t?-1===["pyramid","row"].indexOf(e.type)&&i.push("Improper type for data palette: "+e.name):-1===["class","class-pyramid","gradient"].indexOf(e.type)&&i.push("Improper type for data scale: "+e.name);-1!==["pyramid","class-pyramid"].indexOf(e.type)?Array.isArray(e.scale)&&Array.isArray(e.scale[e.scale.length-1])&&"string"===typeof e.scale[e.scale.length-1][0]||i.push("Improper scale structure for: "+e.name):Array.isArray(e.scale)&&"string"===typeof e.scale[0]||i.push("Improper scale structure for: "+e.name);e.propertyValue||(e.propertyValue="scale"+r);n[e.propertyValue]?i.push("Duplicate property values for: "+e.name):n[e.propertyValue]=true});return i}return{createPyramidFromColors:o,generateScales:a,validatePalettesOrScales:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkgrey:{r:169,g:169,b:169},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},grey:{r:128,g:128,b:128},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightgrey:{r:211,g:211,b:211},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},transparent:{r:255,g:255,b:255,a:0},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.extend=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.internalExtend.apply(e,arguments)},e.each=function(t,n){return e.internalEach.apply(e,arguments)},e.internalExtend=function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];for(var o=0;o<i.length;o++){var a=i[o];for(var s in a){var l=a[s],u=n[s];if(l!==u)if(t&&l&&"object"==typeof l){var c=void 0;c=l instanceof Array?u&&u instanceof Array?u:[]:u&&"object"==typeof u?u:{},n[s]=e.internalExtend(t,c,l)}else n[s]=l}}return n},e.internalEach=function(e,t){if(e instanceof Array)for(var n=0;n<e.length&&!1!==t.call(e[n],n,e[n]);n++);else for(var i in e)if(!1===t.call(e[i],i,e[i]))break;return e},e}();t.SharedUtil=n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvConnectorIframe",function(){return{restrict:"E",replace:true,scope:{location:"=",doneLoading:"&doneLoading"},template:'<div id="custom-connector-frame" class="custom-connector-frame"/>',controller:["$scope",function(e){e.doneLoading()}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div ng-show="internalShow" class="qv-animate spinner ng-hide" ng-class="{\'center-in-parent\': centerInParent}" ng-style="{\'width\': spinnerWidth, \'height\': spinnerHeight }">\n\t<div class="qv-loader"></div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(102),n(92),n(188),n(610),n(110)],r=function(e,t,n,i,r,o){var a=o.NxLocalizedErrorCode;var s=["GetLayout","GetAppLayout","AbortModal","DoSave"];function l(e,t){Array.isArray(t)?i.apply(e,t):i.updateObject(e,t)}var u=n.extend("RPCBase",{init:function e(n){var i=this;t.mixin(i);i.notification("Validated");i.notification("Invalidated");i.notification("Validating");i.notification("Closed");i.notification("Closing");i.notification("Cancelled");i.modelType="RPCBase",i.id=n.id;i.session=n.session;i.handle=n.handle;i.checkCreate=n.checkCreate;i._properties={};i.properties={};i.propertyTree={};i.ongoingRequests={};i.needCacheProperties=true;i._effectiveProperties={};i.effectiveProperties={};i.needCacheEffectiveProperties=true;i.enigmaModel=n.enigmaModel;i.setState(u.States.INVALID);"App"!==i.constructor.name&&i.bindToRPC()},bindToRPC:function e(){var t=this;t.layout=t.enigmaModel.layout;t.session.onChange(t.handle,t.changeHandler.bind(t));t.Cancelled.bind(t.clearPending.bind(t))},changeHandler:function e(){var t=this;t.clearPending();t.needCacheProperties=true;t.needCacheEffectiveProperties=true;t.isCancelled||t.setState(u.States.INVALID)},clearPending:function e(){for(var t in this.ongoingRequests)delete this.ongoingRequests[t]},setState:function e(t){var n=this;var i=n.state;delete this.__layoutRPCId;n.state=t;if(i===n.state)return;t===u.States.INVALID?n.Invalidated.emit():t===u.States.VALID?n.Validated.emit():t===u.States.VALIDATING?n.Validating.emit():t===u.States.CLOSED?n.Closed.emit():t===u.States.CLOSING?n.Closing.emit():t===u.States.CANCELLED&&n.Cancelled.emit()},getLayout:function t(){var n=this;var i="GetLayout";if(n.isValid||n.isCancelled)return e.resolve(n.layout);n.isValidating||n.setState(u.States.VALIDATING);if(n.ongoingRequests[i])return n.ongoingRequests[i];function r(){n.setState(u.States.VALID);return n.layout}var o=n.enigmaModel.getLayout();var a=o.then(r);n.__layoutRPCId=o.reqId;n.ongoingRequests[i]=a;return a},getProperties:function t(n){var r=this,o=false;n=n||"GetProperties";if(r.isValid&&!r.needCacheProperties)return e.resolve(r.properties);if(r.ongoingRequests[n+o])return r.ongoingRequests[n+o];var a=r.rpc(n,"qProp",[],{delta:o}).then(function(e){var t=i.generate(r._properties,e);r._properties=e;i.apply(r.properties,t);r.isValid&&(r.needCacheProperties=false);return r.properties}).catch(function(){});r.ongoingRequests[n+o]=a;return a},getEffectiveProperties:function t(){var n=this,r=false;var o="GetEffectiveProperties";if(n.isValid&&!n.needCacheEffectiveProperties)return e.resolve(n.effectiveProperties);if(n.ongoingRequests[o+r])return n.ongoingRequests[o+r];var a=n.rpc(o,"qProp",[],{delta:r}).then(function(e){var t=i.generate(n._effectiveProperties,e);n._effectiveProperties=e;i.apply(n.effectiveProperties,t);n.isValid&&(n.needCacheEffectiveProperties=false);return n.effectiveProperties});n.ongoingRequests[o+r]=a;return a},hasChanges:function e(){var t=i.generate(this._properties,this.properties);return t.length>0},markAsInvalid:function e(){this.state=-99;this.setState(u.States.INVALID)},markAsCancelled:function e(){this.setState(u.States.CANCELLED)},getFullPropertyTree:function e(t){var n=this,i=false;t=t||"GetFullPropertyTree";return n.rpc(t,"qPropEntry",[],i).then(function(e){n._propertyTree=e;l(n.propertyTree,e);return n.propertyTree})},setProperties:function e(t,n,r){var o=this;n=n||"SetProperties";Array.isArray(t)||(t=[t]);return this.rpc(n,null,t,r).then(function(){i.updateObject(o._properties,o.properties)})},setFullPropertyTree:function e(t,n,i){n=n||"SetFullPropertyTree";Array.isArray(t)||(t=[t]);return this.rpc(n,null,t,i)},save:function t(){return this.hasChanges()?this.setProperties(this.properties):e.resolve()},saveTree:function e(){return this.setFullPropertyTree(this.propertyTree)},getChildInfos:function e(){return this.rpc("GetChildInfos","qInfos",[])},close:function t(n){var i=this;n||(i.rpcOptions.onClose=i.rpcOptions.onClose?i.rpcOptions.onClose:function(){});i.setState(u.States.CLOSING);var o=e.resolve();delete i.session.changeHandlers[i.handle];delete i.session.modelCache[i.id];for(var a in i.ongoingRequests)i.ongoingRequests[a].then&&i.ongoingRequests[a].then(null,function(e){e.error.isHandled=true});return o.then(function(){i.setState(u.States.CLOSED);r.addToQueue(i)})},rpc:function t(n,i,r,o){o=o||{delta:false,raw:false};var l=this;var u=[].slice.call(arguments);if(!l.handle&&"App"===l.constructor.name)return l.waitForOpen.promise.then(function(){return l.rpc.apply(l,u)});var c={method:n,handle:this.handle,params:r||[]};o.delta&&(c.delta=true);if(!l.session||l.isClosing||l.isClosed)return e.reject();var d=l.session.rpc(c).then(function(e){return i?e.result[i]:o.raw?e:e.result}).catch(function(t){if(t.error.code===a.LOCERR_HC_MODAL_OBJECT_ERROR){t.error.isHandled=true;return l.session.currentApp.abortModal().then(function(){return l.rpc.apply(l,u)})}return e.reject(t)});if(s.indexOf(n)>-1){l.ongoingRequests[n+o.delta]=d;d.finally(function(){delete l.ongoingRequests[n+o.delta]})}d.rpcId=c.id;return d}});u.getModel=function(t,n,i){var r=n.modelCache[t],o=this;function a(i){delete n.modelCache[t];return e.reject({error:{code:i&&i.error&&i.error.code,message:"No object with Id "+t+" found",parameter:t}})}if(!t)return e.reject("No ID given to RPCBase#getModel");if(r)return r;r=i().then(function(e){return new o({id:e.id,session:n,handle:e.handle,enigmaModel:e})},a);n.modelCache[t]=r;return r};u.getLayout=function(e,t){return this.get(e,t).then(function(e){return e.getLayout().then(function(e){return e})})};u.getProperties=function(e,t){return this.get(e,t).then(function(e){return e.getProperties().then(function(){return e})})};u.extend=function(e,t){var i=n.extend.call(this,e,t);i.getLayout=u.getLayout;i.getProperties=u.getProperties;i.getModel=u.getModel;return i};Object.defineProperties(u.prototype,{isValid:{get:function e(){return this.state===u.States.VALID}},isValidating:{get:function e(){return this.state===u.States.VALIDATING}},isInvalid:{get:function e(){return this.state===u.States.INVALID}},isClosed:{get:function e(){return this.state===u.States.CLOSED}},isClosing:{get:function e(){return this.state===u.States.CLOSING}},isCancelled:{get:function e(){return this.state===u.States.CANCELLED}}});u.States={VALID:1,INVALID:2,VALIDATING:3,CLOSED:5,CLOSING:6,CANCELLED:7};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(199)],r=function(e,t){var n=[];function i(e){return e.Invalidated&&e.Invalidated.observers&&0===e.Invalidated.observers.length}function r(){var e=n.length,r;while(e--){r=n[e];t.RELEASEMODELS&&window.console.info("[DBGFLG:RELEASEMODEL] Checking model (id, handle, model):",r.id,r.handle,r);if(i(r)){o(r);n.splice(e,1)}}}function o(n){t.RELEASEMODELS&&window.console.info("[DBGFLG:RELEASEMODEL] Releasing model (id):",n.id);e.release(n);for(var i in n)delete n[i]}function a(e){n.push(e)}setInterval(r,1e4);return{addToQueue:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(49)],r=function(e,t){e.service("qvDataManagerCapabilityService",[function(){function e(){}e.prototype.get=function(){return t.get()};e.prototype.getFlag=function(e){return t.getFlag(e)};return new e}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-tooltip ng-style="style">\n\t{{item}}\n</lui-tooltip>'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(10),n(48),n(89),n(94),n(181),n(50),n(99),n(131),n(95),n(123),n(114),n(311),n(382),n(49),n(309),n(442),n(267),n(287)],r=function(e,t,i,r,o,a,s,l,u,c,d,f,p,h,v,m){var g=t.injector(["ng"]);var b=g.get("$cacheFactory");var y=b("pp-object");var x=2;function w(e,t){var n={id:t.id,type:"gridCell",customObject:t,canCopy:function e(){return!t.object.isInvalid},copy:function e(){c.publish("/activeSheet/copyObject",t)},canCut:function e(){return!t.object.isInvalid},cut:function e(){c.publish("/activeSheet/cutObject",t)},paste:function e(){c.publish("/activeSheet/pasteObject",t)},canRemove:function e(){return true},remove:function n(){e.gridService.removeCell(t)},getAllPropertyPanelContent:function e(){var n=null;return t.getVisualization().then(function(e){n=e.model.id;return e.getPropertyPanelContent().then(function(t){var i=t.type;var o=t.app;return r.all({appLayout:o.getLayout(),properties:e.model.getProperties(),layout:e.model.getLayout()}).then(function(a){if(n!==a.properties.qInfo.qId)return r.resolve(null);return{definition:t.definition,globalChangeListeners:t.globalChangeListeners,type:i.type,ext:t.ext,handler:t.handler,iconName:t.iconName,titleRef:t.titleRef,properties:a.properties,layout:a.layout,localeInfo:a.appLayout.qLocaleInfo,app:o,model:e.model,cache:y}})})})}};return n}function S(e,t){var n=t?1:x;return{width:"calc( "+e.width+"% - "+2*n+"px )",height:"calc( "+e.height+"% - "+2*n+"px )",left:"calc( "+e.x+"% + "+n+"px )",top:"calc( "+e.y+"% + "+n+"px )"}}function C(e){e.getVisualization().then(function(t){t.getPreferredSize().then(function(t){t&&s.isSmallDevice&&(e.style={width:t.w+"px",height:t.h+"px"})})})}function E(e,t,n){var i=100;var r=100;var o=i/t;var a=r/n;e.rectFor=function e(t){if(t.bounds)return{left:t.bounds.x,top:t.bounds.y,width:t.bounds.width,height:t.bounds.height,margin:x};var n=t.colspan*o;var i=t.rowspan*a;var r=t.col*o;var s=t.row*a;return{left:r,top:s,width:n,height:i,margin:x}};var s=[];var l=[];var u;for(u=0;u<t-1;++u){var c=(u+1)*o;l.push({left:c+"%"})}for(u=0;u<n-1;++u){var d=(u+1)*a;s.push({top:d+"%"})}e.cols=t;e.rows=n;e.horizontalLines=s;e.verticalLines=l}function q(t,n){var i=n.layoutOptions||{};t.sheetSize={};m.updatePermissionStyle(t);t.zoomCell||s.isSmallDevice&&!t.mobileGrid||(i.sheetMode&&"RESPONSIVE"!==i.sheetMode||!n.height?"CUSTOM"===i.sheetMode&&(t.sheetSize=m.getCustomSheetSize(n,e("#grid-wrap").height())):t.sheetSize=m.getExtendedSheetSize(n,o.isInEditMode()))}function _(e,t){var n=t.qInfo.qId!==e.lastSheetId;var i=!n&&o.isInEditMode()&&!e.zoomCell&&t.permissions.update;e.lastSheetId=t.qInfo.qId;e.hasUpdatePermission=t.permissions.update;e.isSheet=true;e.isMaster=false;e.sheetTitle=t.labelExpression||t.qMeta&&t.qMeta.title||"";e.sheetId=t.qInfo&&t.qInfo.qId||"";e.isDraft=t.qMeta&&t.qMeta.sourceObject&&t.qMeta.sourceObject.length;e.isDraftOwner=t.qMeta&&t.qMeta.draftObject&&t.qMeta.draftObject.length;var r=e.layout.layoutOptions;e.extend=e.hasUpdatePermission&&r&&r.extendable&&"CUSTOM"!==r.sheetMode;var a=r&&r.mobileLayout;e.mobileGrid=v.getFlag("MOBILE_GRID")&&"GRID"===a&&!(r&&"CUSTOM"===r.sheetMode);var s,l;s=e.cols;l=e.rows;q(e,t);!n&&e.hasUpdatePermission||e.clearActiveCell();n&&(e.cells=[]);E(e,s,l);k(e,t.cells.slice(),i)}function T(t,r,a){return{active:false,visible:false,items:[{translation:"contextMenu.showDetails",tid:"nav-menu-info",cssClasses:"lui-icon lui-icon--info",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){return a.object&&(l.treatAsDesktop()||r.zoomCell)&&!o.isInEditMode()&&!a.object.isInvalid&&a.object.supportObjectInfo()},action:function e(){i.getService("objectInfoCard").show(a.object)}},{translation:"Visualization.Unlink",tid:"nav-menu-link",cssClasses:"lui-icon lui-icon--link",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){return a.object&&(l.treatAsDesktop()||r.zoomCell)&&a.object.isLink&&o.isInEditMode()},action:function e(){a.getVisualization().then(function(e){var t=n(387);t.showBreakLinkDialog(e.model)})}},{translation:"Tooltip.EditObject",tid:"nav-menu-edit",cssClasses:"lui-icon lui-icon--edit",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){if(!v.getFlag("SSA_IN_EDIT"))return false;var t=r.activeCell&&r.activeCell.id===a.id;return a.object&&(l.treatAsDesktop()||r.zoomCell)&&o.isInEditMode()&&!t},action:function e(t){r.toggleActive(a);t&&t.stopPropagation()}},{translation:"Tooltip.StopEdit",tid:"nav-menu-stop-edit",cssClasses:"lui-icon lui-icon--tick green",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){if(!v.getFlag("SSA_IN_EDIT"))return false;var t=r.activeCell&&r.activeCell.id===a.id;return t&&o.isInEditMode()},action:function e(t){r.toggleActive(null);u.resetPropertyPanelToggle();t&&t.stopPropagation()}},{translation:"contextMenu.takeSnapshot",tid:"nav-menu-snapshot",cssClasses:"lui-icon lui-icon--camera",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");a.snapshot.dialogOpen&&t.push("blue");return t.join(" ")},isVisible:function e(){return a.object&&(l.treatAsDesktop()||r.zoomCell)&&!a.object.isInvalid&&!r.zooming&&!o.isInEditMode()&&a.object.supportSnapshot()&&t.permissions.createSnapshot||a.snapshot.isAnnotating},action:function e(){if(a.snapshot.snapshotTimer)return;a.snapshot.snapshotTimer=setTimeout(function(){a.snapshot.snapshotTimer=null},1e3);var t=true;if(a.snapshot.isAnnotating)return;if(r.zoomCell&&a.showExploreMenu){a.toggleExploreMenu();a.object.resize();a.snapshot.take(t)}else r.zoomCell?a.snapshot.take(t,true):a.snapshot.take(t)}},{translation:"Tooltip.ExplorationMenu",tid:"nav-menu-explore",cssClasses:"lui-icon lui-icon--control",dynamicCssClasses:function e(){var t=[];a.object&&a.showExploreMenu&&t.push("active");r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){return a.object&&(l.treatAsDesktop()||r.zoomCell)&&a.object.canShowExploreMenu()&&!o.isInEditMode()&&!r.zooming},action:function e(){if(r.zoomCell){a.toggleExploreMenu();a.object.resize()}else{r.zoom(a);a.toggleExploreMenu(true)}}},{translation:"Tooltip.ZoomOut",tid:"nav-menu-zoom-out",cssClasses:"lui-icon lui-icon--remove big",isVisible:function e(){return r.isSheet&&r.zoomCell===a&&!r.zooming},action:function t(){a.navMenu.visible=false;a.showExploreMenu&&a.toggleExploreMenu(false);e(".embedded-sheet-toolbar").length>0&&e(".embedded-sheet-toolbar").css("display","block");r.zoom(null);r.gridService.restoreSheetScrollState()}},{translation:"Tooltip.ZoomIn",tid:"nav-menu-zoom-in",cssClasses:"lui-icon lui-icon--expand white border",isVisible:function e(){return a.object&&l.treatAsDesktop()&&!r.zoomCell&&!a.object.isInvalid&&!r.zooming},action:function e(t){r.zoom(a);if(o.isInEditMode()&&!a.options.isActive){r.toggleActive(null);u.resetPropertyPanelToggle()}t&&t.stopPropagation()}},{translation:"Common.Move",tid:"nav-menu-move",cssClasses:"lui-icon lui-icon--draggable",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){if(!v.getFlag("SSA_IN_EDIT"))return false;return o.isInEditMode()&&!r.zoomCell&&(l.treatAsDesktop()||r.activeCell===a)},mounted:function e(t){h.addDrag(t,"",{isEnabled:function e(){var t=r.gridService.isBlocked();var n=a.object&&a.object.preventDrag;return!n&&!t},info:function e(){return{type:"gridcell",cell:a}},onStart:function e(){},elem:"<div class='qv-gridmove-icon'></div>"})}}]}}function k(e,t,n){var i=e.layout||{};var a=i.layoutOptions&&"CUSTOM"===i.layoutOptions.sheetMode;var s=e.placementService.updateGridCells(e.cols,e.rows,e.cells,t,p.getResolutionFor(i.gridResolution),a);e.cells=s;var l;l=v.getFlag("SSA_IN_EDIT")?d.ANALYSIS:o.state===o.States.edit?d.EDIT:d.ANALYSIS;s.forEach(function(t){if(!t.isEmpty){v.getFlag("SSA_IN_EDIT")&&o.isInEditMode()&&(t.resize=I(t,e));if(!t.model){var i=r();t.options.setController=i.resolve;t.options.interactionState=l;t.options.direction=f.direction;t.options._softCancelOnRemove=true;t.options.removeIt=function(){e.gridService.removeCell(t)};if(e.app){e.app.getLayout().then(function(n){t.navMenu=T(n,e,t)});e.app.getObject(t.id).then(function(i){t.model=i;n&&e.toggleActive(t)})}t.getVisualization=function(){return i.promise}}t.options.canSaveSoftProperties=O(e)}});!e.hasUpdatePermission&&e.zoomCell&&o.state===o.States.edit&&e.zoom(null);e.cells=s;e.updateCellsSize()}function O(e){return e.hasUpdatePermission&&!s.isSmallDevice}function D(e,t){this.gridService=e;this.placementService=i.getService("qvObjectPlacementService");this.blocked=false;this.app=t}function A(e,t){return t>=0&&e>t?t:e}function I(e,t){var n=[];var i=["top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"];var r=e.pos.bounds?a.getAligmentToGrid(e.pos.bounds,t.cols,t.rows):e.pos;var o=r.col;var s=o+r.colspan;var l=r.row;var u=l+r.rowspan;var c={left:o,right:t.cols-s,top:l,bottom:t.rows-u};for(var d=0;d<t.cells.length;++d){if(t.cells[d]===e||t.cells[d].isEmpty)continue;var f=t.cells[d].pos.col;var p=f+t.cells[d].pos.colspan;var h=t.cells[d].pos.row;var v=h+t.cells[d].pos.rowspan;if(h<u&&v>l){c.left=A(c.left,o-p);c.right=A(c.right,f-s)}if(f<s&&p>o){c.top=A(c.top,l-v);c.bottom=A(c.bottom,h-u)}}i.forEach(function(e){var t={top:true,bottom:true}[e]||false;var i={left:true,right:true}[e]||false;var o={X:0,Y:0};var a=false;if(i){o.X=c[e];a=r.colspan<=1}else if(t){o.Y=c[e];a=r.rowspan<=1}else{var s=e.split("-");o.Y=c[s[0]];o.X=c[s[1]];a=r.rowspan<=1&&r.colspan<=1}if(0===o.Y&&0===o.X&&a)return;var l={X:r.colspan-1,Y:r.rowspan-1};if(l.X<0&&o.X<=0||l.Y<0&&o.Y<=0)return;l.Y=Math.max(l.Y,0);l.X=Math.max(l.X,0);n.push({dir:e,expand:o,contract:l})});return n}D.prototype.autoCollapse=function(){var e=this;var t=o.getModel();if(t&&t.layout&&t.layout.permissions.update&&t.layout.height&&t.layout.height>100&&t.layout.cells){var n=a.calculateCollapseHeight(t.layout,t.layout.cells);if(n>0)return t.extendSheet(-n).then(function(){e.updateCellsSize()})}return r.resolve()};D.prototype.updateCellsSize=function(){var e=this;q(e,e.layout);for(var t=0;t<e.cells.length;t++)e.setCellSize(e.cells[t],e.cells[t].pos)};D.prototype.setCellSize=function(e,t){if(!this.mobileGrid&&s.isSmallDevice&&e.getVisualization)e.style=C(e);else{t.bounds=this.placementService.getCellAlignment(t,this.cols,this.rows);e.style=S(t.bounds,this.mobileGrid&&s.isSmallDevice)}e.options&&(e.options.canSaveSoftProperties=O(this));e.pos=t};D.prototype.block=function(){this.blocked=true;this.removeResizeHandles()};D.prototype.unblock=function(){this.blocked=false;this.updateActiveCell()};D.prototype.isBlocked=function(){return this.blocked};D.prototype.updateResize=function(e){e.resize=I(e,this)};D.prototype.updateActiveCell=function(){var e=this;if(!e.activeCell)return;if(!o.isInEditMode())return;if(this.blocked)return;var t=e.activeCell.pos.bounds?a.getAligmentToGrid(e.activeCell.pos.bounds,e.cols,e.rows):e.activeCell.pos;var n=t.col;var i=n+t.colspan;var r=t.row;var s=r+t.rowspan;var l={left:n,right:e.cols-i,top:r,bottom:e.rows-s};function u(e,t){t>=0&&l[e]>t&&(l[e]=t)}for(var c=0;c<e.cells.length;++c){if(e.cells[c]===e.activeCell||e.cells[c].isEmpty)continue;var d=e.cells[c].pos.col;var f=d+e.cells[c].pos.colspan;var p=e.cells[c].pos.row;var h=p+e.cells[c].pos.rowspan;if(p<s&&h>r){u("left",n-f);u("right",d-i)}if(d<i&&f>n){u("top",r-h);u("bottom",p-s)}}e.activeCell.updating=false;v.getFlag("SSA_IN_EDIT")||(e.activeCell.resize=I(e.activeCell,e))};D.prototype.removeResizeHandles=function(){this.cells.forEach(function(e){e.resize=null})};D.prototype.clearActiveCell=function(){var e=this;!v.getFlag("SSA_IN_EDIT")&&this.cells&&e.removeResizeHandles();e.activeCell=null};D.prototype.setCellSelected=function(e){if(v.getFlag("SSA_IN_EDIT")&&u.selectedObject&&!(e&&e.id===u.selectedObject.id)&&u.selectedObject.customObject&&u.selectedObject.customObject.object){u.selectedObject.customObject.object.setInteractionState(d.ANALYSIS);u.selectedObject.customObject.object.update()}if(e&&!e.isEmpty){if(!u.selectedObject||"gridCell"!==u.selectedObject.type||u.selectedObject.id!==e.id){u.setSelectedObject(w(this,e));if(v.getFlag("SSA_IN_EDIT")&&u.selectedObject.customObject.object){u.selectedObject.customObject.object.setInteractionState(d.EDIT);u.selectedObject.customObject.object.update()}}}else{var t=i.getService("qvSheetService");t.setSheetAsSelectedObj()}};D.prototype.gridToggleActive=function(){v.getFlag("SSA_IN_EDIT")||this.toggleActive(null)};D.prototype.toggleActive=function(e){var t=this;if(!o.isInEditMode())return;if(!e||e.isEmpty)t.clearActiveCell();else{t.clearActiveCell();t.hasUpdatePermission&&(t.activeCell=e);t.updateActiveCell();u.propertiesOpen=true}t.setCellSelected(e)};D.prototype.setEditMaster=function(e,t){var n=this;var i=[{name:e,type:t,col:0,row:0,colspan:1,rowspan:1}];n.lastSheetId=null;n.isSheet=false;n.isMaster=true;E(n,1,1);n.clearActiveCell();k(n,i,false);n.cells[0].options.interactionState=d.EDIT;n.setCellSelected(n.cells[0]);n.zoom(n.cells[0])};D.prototype.update=function(e){if(!e)return;var t=this;t.layout=e;E(t,e.columns||12,e.rows||7);_(t,e);t.activeCell&&-1===t.cells.indexOf(t.activeCell)&&t.setCellSelected(null);if(t.zoomCell&&-1===t.cells.indexOf(t.zoomCell)){t.zoomCell=null;t.setCellSelected(null);q(t,t.layout)}t.updateActiveCell()};function L(e,t){var n=e.activeCell===t;v.getFlag("SSA_IN_EDIT")&&null!==t&&!n&&e.clearActiveCell()}D.prototype.zoom=function(e){var t=this;if(!t.cells)return;t.cells.forEach(function(t){if(t.options){t.options.isVisible=t===e||!e;t.options.isZoomed=t===e&&!!e}});!v.getFlag("SSA_IN_EDIT")&&o.isInEditMode()&&t.clearActiveCell();L(t,e);if(e){t.zoomCell=e;t.gridService.saveScrollState();e.object&&(e.object.expanded=!!e)}else if(t.zoomCell){t.zoomCell.object&&(t.zoomCell.object.expanded=false);!v.getFlag("SSA_IN_EDIT")&&t.hasUpdatePermission&&o.isInEditMode()&&(t.activeCell=t.zoomCell);t.zoomCell=null;t.updateActiveCell();t.gridService.restoreScrollState()}q(t,t.layout)};D.prototype.highlight=function(e){var t=this;if(!t.cells)return;t.cells.forEach(function(t){t.isHighlighted=t===e||!e})};D.prototype.exploreMenu=function(e,t){e&&e.object&&e.object.hasSoftProperties&&e.toggleExploreMenu(t)};D.prototype.getOptimalCell=function(){return i.getService("qvObjectPlacementService").getOptimalCell(this.cells.slice())};return D}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(114),n(443),n(672)],r=function(e,t,n){return{template:n,scope:{close:"&"},controller:["$scope","$element",function(n,i){n.direction=e.direction;i.find(".content").showComponent(t,{input:n.input})}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){(function(n){var i,r;(function(){var o=[];var a=o.slice;var s={on:function(e,t,n){if(!u(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);i.push({callback:t,context:n,ctx:n||this});return this},once:function(e,t,i){if(!u(this,"once",e,[t,i])||!t)return this;var r=this;var o=n.once(function(){r.off(e,o);t.apply(this,arguments)});o._callback=t;return this.on(e,o,i)},off:function(e,t,i){var r,o,a,s,l,c,d,f;if(!this._events||!u(this,"off",e,[t,i]))return this;if(!e&&!t&&!i){this._events={};return this}s=e?[e]:n.keys(this._events);for(l=0,c=s.length;l<c;l++){e=s[l];if(a=this._events[e]){this._events[e]=r=[];if(t||i)for(d=0,f=a.length;d<f;d++){o=a[d];(t&&t!==o.callback&&t!==o.callback._callback||i&&i!==o.context)&&r.push(o)}r.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!u(this,"trigger",e,t))return this;var n=this._events[e];var i=this._events.all;n&&c(n,t);i&&c(i,arguments);return this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"===typeof t&&(n=this);e&&((i={})[e._listenerId]=e);for(var o in i){i[o].off(t,n,this);r&&delete this._listeners[o]}return this}};var l=/\s+/;var u=function(e,t,n,i){if(!n)return true;if("object"===typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return false}if(l.test(n)){var o=n.split(l);for(var a=0,s=o.length;a<s;a++)e[t].apply(e,[o[a]].concat(i));return false}return true};var c=function(e,t){var n,i=-1,r=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:while(++i<r)(n=e[i]).callback.call(n.ctx);return;case 1:while(++i<r)(n=e[i]).callback.call(n.ctx,o);return;case 2:while(++i<r)(n=e[i]).callback.call(n.ctx,o,a);return;case 3:while(++i<r)(n=e[i]).callback.call(n.ctx,o,a,s);return;default:while(++i<r)(n=e[i]).callback.apply(n.ctx,t)}};var d={listenTo:"on",listenToOnce:"once"};n.each(d,function(e,t){s[t]=function(t,i,r){var o=this._listeners||(this._listeners={});var a=t._listenerId||(t._listenerId=n.uniqueId("l"));o[a]=t;"object"===typeof i&&(r=this);t[e](i,r,this);return this}});s.bind=s.on;s.unbind=s.off;true;!(i=[],r=function(){return s}.apply(t,i),void 0!==r&&(e.exports=r));this.Eventable=s})();e.exports=Eventable}).call(this,n(54))},function(e,t){e.exports='<div class="q-card-content" qva-direction x-dir-setting="{{direction}}">\n\n\t<header ng-if="object.title || object.description">\n\t\t<div class="object-title" ng-if="object.title" qva-direction x-dir-text="{{object.title}}">{{object.title}}</div>\n\t\t<div ng-if="object.description" qva-direction x-dir-text="{{object.description}}" ng-bind-html="getTrustedHtml(object.description)"></div>\n\t</header>\n\n\t<section ng-if="object.dimensions.length">\n\t\t<div class="item-header" qva-direction x-dir-setting="{{direction}}">\n\t\t\t<span q-translation="Common.Dimensions"></span>\n\t\t\t<span class="item-count" dir="ltr">({{ object.dimensions.length }})</span>\n\t\t</div>\n\t\t<div class="item" ng-repeat="dimension in object.dimensions">\n\t\t\t<div class="item-title" qva-direction x-dir-text="{{dimension.title || \'-\'}}"><span class="lui-icon lui-icon--small lui-icon--drill-down" q-title-translation="Tooltip.dimensions.drilldown" ng-if="dimension.isDrilldown"></span>{{ dimension.title || \'-\'}}</div>\n\t\t\t<div class="item-description" ng-if="dimension.description" qva-direction x-dir-text="{{dimension.description}}" ng-bind-html="getTrustedHtml(dimension.description)"></div>\n\t\t</div>\n\t</section>\n\n\t<section ng-if="object.measures.length">\n\t\t<div class="item-header" qva-direction x-dir-setting="{{direction}}">\n\t\t\t<span q-translation="Common.Measures"></span>\n\t\t\t<span class="item-count" dir="ltr">({{ object.measures.length }})</span>\n\t\t</div>\n\t\t<div class="item" ng-repeat="measure in object.measures">\n\t\t\t<div class="item-title" qva-direction x-dir-text="{{measure.title || \'-\'}}">{{ measure.title || \'-\'}}</div>\n\t\t\t<div class="item-description" ng-if="measure.description" qva-direction x-dir-text="{{measure.description}}" ng-bind-html="getTrustedHtml(measure.description)"></div>\n\t\t</div>\n\t</section>\n\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(141),n(90)],r=function(e,t,n){function i(t,n,i){var r="dimension"===n?"getDimension":"getMeasure";var o="dimension"===n?"qDim":"qMeasure";if(!t||!i)return e.resolve();return t.app[r](i).then(function(e){return e.getLayout().then(function(e){return e[o].descriptionExpression||e.qMeta.description})})}function r(e,t,n){return i(e,"dimension",t).then(function(e){var t="H"===n.qGrouping,i=t?n.title:n.qFallbackTitle||n.title;return{title:i,description:e,isDrilldown:t}})}function o(e,t,i){var r=t.layout;var o=n.getValue(r,t.ext.options.hyperCubePath||"",r);var d=n.getValue(i,t.ext.options.hyperCubePath||"",i);return"map"===r.visualization?s(e,r,i):"filterpane"===r.visualization?l(e,r):"table"===r.visualization?u(e,r,i):"pivot-table"===r.visualization?c(e,r,i):o.qHyperCube?a(e,o,d):null}function a(t,n,i){var o,a=[];for(o=0;o<n.qHyperCube.qDimensionInfo.length;o++)a.push(r(t,i.qHyperCubeDef.qDimensions[o].qLibraryId,n.qHyperCube.qDimensionInfo[o]));return e.all(a)}function s(t,n,i){var o,a=[];for(o=0;o<n.layers.length;o++)a.push(r(t,i.layers[o].qHyperCubeDef.qDimensions[0].qLibraryId,n.layers[o].qHyperCube.qDimensionInfo[0]));return e.all(a)}function l(n,i){var o=[];i.qChildList.qItems.forEach(function(i){o.push(t.get(i.qInfo.qId).then(function(t){return e.all({layout:t.getLayout(),properties:t.getProperties()}).then(function(e){return r(n,e.properties.qListObjectDef.qLibraryId,e.layout)})}))});return e.all(o)}function u(t,n,i){var o,a=[],s;for(o=0;o<n.qHyperCube.columnOrder.length;o++){s=n.qHyperCube.columnOrder[o];s<n.qHyperCube.qDimensionInfo.length&&a.push(r(t,i.qHyperCubeDef.qDimensions[s].qLibraryId,n.qHyperCube.qDimensionInfo[s]))}return e.all(a)}function c(t,n,i){var o,a=[],s;for(o=0;o<n.qHyperCube.qEffectiveInterColumnSortOrder.length;o++){s=n.qHyperCube.qEffectiveInterColumnSortOrder[o];s>-1&&a.push(r(t,i.qHyperCubeDef.qDimensions[s].qLibraryId,n.qHyperCube.qDimensionInfo[s]))}return e.all(a)}function d(e,t,n){return i(e,"measure",t).then(function(e){return{title:n,description:e}})}function f(t,i,r){var o=i.layout;var a=n.getValue(o,i.ext.options.hyperCubePath||"",o);var s=n.getValue(r,i.ext.options.hyperCubePath||"",r);return"map"===o.visualization?h(t,o,r):"filterpane"===o.visualization?e.resolve():"table"===o.visualization?v(t,o,r):a.qHyperCube?p(t,a,s):null}function p(t,n,i){var r,o=[];for(r=0;r<n.qHyperCube.qMeasureInfo.length;r++)o.push(d(t,i.qHyperCubeDef.qMeasures[r].qLibraryId,n.qHyperCube.qMeasureInfo[r].qFallbackTitle));return e.all(o)}function h(t,n,i){var r,o,a=[];for(o=0;o<n.layers.length;o++)for(r=0;r<n.layers[o].qHyperCube.qMeasureInfo.length;r++)a.push(d(t,i.layers[r].qHyperCubeDef.qMeasures[0].qLibraryId,n.layers[r].qHyperCube.qMeasureInfo[r].qFallbackTitle));return e.all(a)}function v(t,n,i){var r,o=[],a;for(r=0;r<n.qHyperCube.columnOrder.length;r++){a=n.qHyperCube.columnOrder[r];if(a>=n.qHyperCube.qDimensionInfo.length){a-=n.qHyperCube.qDimensionInfo.length;o.push(d(t,i.qHyperCubeDef.qMeasures[a].qLibraryId,n.qHyperCube.qMeasureInfo[a].qFallbackTitle))}}return e.all(o)}function m(t,n,i){return e.all({title:t.layout.showTitles?t.layout.title:null,description:t.layout.descriptionExpression||i.qMetaDef.description,dimensions:o(n,t,i),measures:f(n,t,i)})}function g(e){return e.layout.qExtendsId?e.model.app.getObject(e.layout.qExtendsId).then(function(t){return t.getProperties().then(function(n){return m(e,t,n)})}):e.model.getEffectiveProperties().then(function(t){return m(e,e.model,t)})}return{createObjectInfo:g}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{type:"array",component:"sorting",translation:"properties.sorting",sortIndexRef:"qHyperCubeDef.qInterColumnSortOrder",allowMove:true,schemaIgnore:true,items:{dimensions:{type:"items",component:"expandable-items",ref:"qHyperCubeDef.qDimensions",items:{autoSort:{ref:"qDef.autoSort",type:"boolean",translation:"properties.sorting",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],change:function e(t,n){if(t.qDef.autoSort)return n.autoSortDimension(t).then(function(){})}},dimension:{component:"sorting-dimension",type:"items",ref:"",sortingItems:{expression:true,frequency:false,numeric:true,ascii:true}}}},measures:{type:"items",component:"expandable-items",grouped:true,ref:"qHyperCubeDef.qMeasures",items:{autoSort:{ref:"qDef.autoSort",type:"boolean",translation:"properties.sorting",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],change:function e(t,n){if(t.qDef.autoSort)return n.autoSortMeasure(t).then(function(){})}},measure:{component:"sorting-measure",ref:"",sortingItems:{numeric:true,ascii:true}}}}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(237),n(417)],r=function(e,t,n){var i={type:"items",items:{autoMinMax:{ref:"measureAxis.autoMinMax",type:"boolean",translation:"properties.axis.range",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},minMax:{type:"string",component:"dropdown",ref:"measureAxis.minMax",options:[{translation:"properties.axis.min",value:"min"},{translation:"Common.Max",value:"max"},{translation:"properties.axis.minMax",value:"minMax"}],defaultValue:"min",show:function e(t){return t.measureAxis&&!t.measureAxis.autoMinMax}},min:{ref:"measureAxis.min",translation:"properties.axis.min",expression:"optional",type:"number",show:function e(t){return t.measureAxis&&["min","minMax"].contains(t.measureAxis.minMax)&&!t.measureAxis.autoMinMax},invalid:function e(t){if(t.measureAxis&&"minMax"===t.measureAxis.minMax)return t.measureAxis.min>=t.measureAxis.max;return false}},max:{ref:"measureAxis.max",translation:"Common.Max",expression:"optional",type:"number",defaultValue:10,show:function e(t){return t.measureAxis&&["max","minMax"].contains(t.measureAxis.minMax)&&!t.measureAxis.autoMinMax},invalid:function e(t){if(t.measureAxis&&"minMax"===t.measureAxis.minMax)return t.measureAxis.min>=t.measureAxis.max;return false}}}};var r=[{value:"all",translation:"properties.axis.show.all"},{value:"labels",translation:"properties.axis.show.labels"},{value:"title",translation:"properties.axis.show.title"},{value:"none",translation:"Common.None"}];var o=[{value:2,translation:"properties.gridLine.wide"},{value:1,translation:"properties.gridLine.medium"},{value:.5,translation:"properties.gridLine.narrow"}];var a={type:"items",items:{show:{type:"string",component:"dropdown",ref:"dimensionAxis.show",translation:"properties.axis.labelsAndTitle",options:r,defaultValue:"all",snapshot:{title:function t(n){return e.get("properties."+this.getXYAxis(n)+"Axis")},getXYAxis:function e(t){return n.isVertical(t)?"x":"y"},group:false,tid:function e(t){return"property-"+this.getXYAxis(t)+"Axis"}}},label:{type:"string",component:"dropdown",ref:"dimensionAxis.label",translation:"properties.axis.labelOrientation",options:[{value:"auto",translation:"Common.Auto"},{value:"horizontal",translation:"Common.Horizontal"},{value:"tilted",translation:"properties.labels.tilted"}],defaultValue:"auto",show:function e(i,r,o){return n.isVertical(o.layout)&&i.dimensionAxis&&["all","labels"].contains(i.dimensionAxis.show)&&!t.isContinuousChart(o.layout)}},dock:n.getAxisDockProperties("dimensionAxis",{major:true})}};return{measureAxis:{type:"items",label:e.get("properties.yAxis"),grouped:true,items:{axis:{type:"items",items:{show:{type:"string",component:"dropdown",ref:"measureAxis.show",translation:"properties.axis.labelsAndTitle",options:r,defaultValue:"all"},dock:n.getAxisDockProperties("measureAxis"),spacing:{ref:"measureAxis.spacing",translation:"properties.axis.scale",type:"number",component:"dropdown",defaultValue:1,options:o,show:function e(t){return t.measureAxis&&"none"!==t.measureAxis.show}}}},minMax:i}},flippableMeasureAxis:{uses:"axis.measureAxis",label:function t(i,r){var t,o="x",a=n.getMeasures(i,r).map(function(e){return e.qFallbackTitle}).join(", ");n.isVertical(r.layout)&&(o="y");t=a?e.get("properties."+o+"AxisWithInfo",[a]):e.get("properties."+o+"Axis");return t},items:{axis:{type:"items",items:{show:{snapshot:{title:function t(n){return e.get("properties."+this.getXYAxis(n)+"Axis")},getXYAxis:function e(t){return n.isVertical(t)?"y":"x"},group:false,tid:function e(t){return"property-"+this.getXYAxis(t)+"Axis"}}},dock:{options:function e(t,i,r){var o,a;if(n.isVertical(i.layout)){o=r.yMirrorMode?"properties.dock.right":"properties.dock.left";a=r.yMirrorMode?"properties.dock.left":"properties.dock.right"}else{o="Common.Bottom";a="Common.Top"}return[{value:"near",translation:o},{value:"far",translation:a}]}}}}}},dimensionAxis:{type:"items",label:n.dimensionAxisLabelFn,grouped:true,items:{continuousGroup:{type:"items",items:{auto:{ref:"dimensionAxis.continuousAuto",translation:"properties.axis.continuous",type:"boolean",component:"switch",defaultValue:true,undefinedValue:false,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},preferContinuous:{type:"boolean",ref:"preferContinuousAxis",translation:"properties.axis.preferContinuous",defaultValue:true,undefinedValue:false,show:function e(t){return!t.dimensionAxis.continuousAuto},readOnly:function e(n,i,r){return!t.canBeContinuousChart(r.layout)}},miniChart:{type:"boolean",ref:"showMiniChartForContinuousAxis",translation:"properties.showMiniChart",defaultValue:true,undefinedValue:true,show:function e(n,i,r){return t.isContinuousChart(r.layout)}}}},othersGroup:a}},picasso:{dimensionAxis:{type:"items",label:n.dimensionAxisLabelFn,items:{othersGroup:a}},measureAxis:{type:"items",uses:"axis.flippableMeasureAxis"}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={strokeWidth:{show:false,ref:"style.strokeWidth",type:"number",expression:"optional",defaultValue:0,translation:"LayerStyleEditor.style.strokeWidth"},strokeColor:{show:false,ref:"style.strokeColor",translation:"LayerStyleEditor.style.strokeColor",type:"object",component:"color-picker",dualOutput:true,defaultValue:function e(){return{index:-1,color:"#205891"}}},width:{show:false,ref:"style.width",type:"number",expression:"optional",defaultValue:.7,translation:"LayerStyleEditor.style.barWidth"}};return{box:{type:"items",components:"items",items:e}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(198)],r=function(e){var t;function n(e,t){if(t){if(e[t]){if(e[t].qHyperCube)return t+".qHyperCube";if(e[t].qListObject)return t+".qListObject"}if(-1!==t.indexOf("Def",t.length-3))return t.slice(0,t.length-3);return t}return e.qHyperCube?"qHyperCube":"qListObject"}t=e.extend("GenericApi",{init:function e(t,i){var r=n(t.layout,i);this._super(t,"/"+r+"Def");this.isHyperCube=-1!==this.dataPath.indexOf("qHyperCube");this.cacheCube.setMethodName(this.isHyperCube?"getHyperCubeData":"getListObjectData")},getBackendApi:function e(n){return new t(this.model,n)},getProperties:function e(){return this.model.getProperties()},setProperties:function e(t){return this.model.setProperties(t)},applyPatches:function e(t,n){return this.model.applyPatches(t,n)},clearSoftPatches:function e(){return this.model.clearSoftPatches()},save:function e(){return this.model.setProperties(this.model.properties)},clearSelections:function e(){return this.model.resetMadeSelections()},updateCache:function e(t){if(t&&t[this.dataPath]){this.cacheCube.set(t[this.dataPath].qDataPages);this.cacheCube.setCubeSize(t[this.dataPath].qSize)}else this.cacheCube.clear()},getData:function e(t){var n=this.cacheCube.getData(t),i=this;n.then(function(e){i.model.layout[i.dataPath].qDataPages.push(e[0])});return n},getDataRow:function e(t){var n=this.model.layout[this.dataPath];if(n){var i=n.qDataPages.length;for(var r=0;r<i;r++){var o=n.qDataPages[r];if(t>=o.qArea.qTop&&t<o.qArea.qTop+o.qArea.qHeight)return o.qMatrix[t-o.qArea.qTop]}}return null},selectValues:function e(t,n,i){if(this.isHyperCube)return this.model.selectHyperCubeValues(this.path,t,n,i);return this.model.selectListObjectValues(this.path,n,i)},select:function e(t,n,i){return this.selectValues(n,t,i)},getReducedData:function e(t,n,i){if(this.isHyperCube)return this.model.getHyperCubeReducedData(this.path,t,n,i||"D1");return null},selectRange:function e(t,n,i){n=!!n;i=i||[];return this.model.rangeSelectHyperCubeValues(this.path,t,i,n)},search:function e(t){if(this.isHyperCube)return null;return this.model.searchListObjectFor(this.path,t)},abortSearch:function e(){if(this.isHyperCube)return null;return this.model.abortListObjectSearch(this.path)},acceptSearch:function e(t){if(this.isHyperCube)return null;return this.model.acceptListObjectSearch(this.path,t)},getPivotData:function e(t){if(this.isHyperCube)return this.model.getHyperCubePivotData(this.path,t);return null},getStackData:function e(t,n){if(this.isHyperCube)return this.model.getHyperCubeStackData(this.path,t,n||1e3);return null},expandTop:function e(t,n,i){return this.model.expandTop(this.path,t,n,i||false)},expandLeft:function e(t,n,i){return this.model.expandLeft(this.path,t,n,i||false)},collapseTop:function e(t,n,i){return this.model.collapseTop(this.path,t,n,i)},collapseLeft:function e(t,n,i){return this.model.collapseLeft(this.path,t,n,i)}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(90),n(330)],r=function(e,t,n){var i,r={enabled:true,debouncing:{enabled:true,delay:50}};i=e.extend({init:function e(t,i,r){this.model=t;this.responseProperty=i;this.options={};this.setOptions({});this.setPath(r);this.throttle=new n;this.throttle.Send.bind(function(e,t){o.model[o.method](o.path,e).then(function(e){t.resolve(e)},function(){t.reject()})});var o=this;this._modelBinding=function(){o.clear()};this.model.Invalidated.bind(this._modelBinding)},setMethodName:function e(t){this.method=t},setPath:function e(t){this.path=t},setOptions:function e(n){this.options=t.extend(true,{},r,this.options,n);this.enabled=this.options.enabled||false;this.debouncing={enabled:this.options.debouncing.enabled||false,delay:this.options.debouncing.delay||-1}},clear:function e(){this.throttle&&this.throttle.clear()},destroy:function e(){this.throttle.destroy();this.model&&this.model.Invalidated&&this.model.Invalidated.unbind(this._modelBinding);this._modelBinding=null;delete this.model;delete this.throttle},set:function e(){this.clear()},getData:function e(t){if(!this.enabled)return this.model[this.method](this.path,t);return this.throttle.queue(t)}});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div style="height: 100%; position: relative;"></div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){return{quarantine:t,unquarantine:n};function t(t){var n=e.getValue(t,"properties.qHyperCubeDef.qMeasures",[]);var i=e.getValue(t,"properties.qHyperCubeDef.qDimensions",[]);n.forEach(r.bind(null,t,"measures"));i.forEach(r.bind(null,t,"dimensions"))}function n(t){var n=e.getValue(t,"qProperty.qHyperCubeDef.qMeasures",[]);var i=e.getValue(t,"qProperty.qHyperCubeDef.qDimensions",[]);n.forEach(o.bind(null,t,"measures"));i.forEach(o.bind(null,t,"dimensions"))}function i(e){return e&&e.qCond&&e.qCond.qv}function r(t,n,r){var o=e.getValue(r,"qDef.cId");var a="qLayoutExclude.quarantine.conditionalShowHide."+n;if(!i(r.qCalcCondition))return;if(!o){o=e.generateId();e.setValue(r,"qDef.cId",o)}e.setValue(t.properties,a+"."+o,r.qCalcCondition);delete r.qCalcCondition}function o(t,n,r){var o=e.getValue(r,"qDef.cId");var a="qProperty.qLayoutExclude.quarantine.conditionalShowHide."+n;if(!o)return;var s=e.getValue(t,a+"."+o);if(i(s)){r.qCalcCondition=s;e.setValue(t,a+"."+o,void 0)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;n(448);var i=a(n(49));var r=a(n(100));var o=a(n(333));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){var e;var t;var n=function e(){};return{getCurrentId:function e(){return r.default.getCurrentTheme()},getApplied:function i(){var a=r.default.getCurrentTheme();if(t&&e===a)return t;n();e=a;t=new Promise(function(e,t){n=t;r.default.getThemeJSON(a).then(function(t){e(new o.default(a,t))})});return t}}}();var l=function e(t){return t.then(function(e){var t=e.default||e;if("function"===typeof t)return t({flags:i.default,theme:s});return t})};t.default=l;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var t=["jqueryoutside","jqueryui","jqueryuitouch","eventable","sirtrevor","angular-aria","crossroads","signals","d3","element-queries","resize-sensor","jszip","filesaver","sha256","dropzone","handlebars","angular-vs-repeat","bodymovin","hammerjs","angular-leonardo-ui","enigma-sense-utilities","dragoman","sensei-codearea","qlikmetrics","engine-definition","sense-themes-default","guid","pubsub","xsrfplugin","widget.","general.","core.","client.","objects.","storytelling.","scripteditor.","dev-hub.","cm.","@qlik/codemirror","extensions.qliktech","apis/","assets/","chart/","js/","translate/","md-components/"];return t.some(function(t){return 0===e.indexOf(t)})}e.exports=t.default},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(89)],r=function(e,t){var n=e.extend({mounted:function e(){},paint:function e(){return t.resolve()},resize:function e(t,n){return this.paint(t,n)},updateData:function e(){return t.resolve()},beforeDestroy:function e(){}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(102),n(629)],r=function(e,t,n){function i(t,n,i,r,o,a,s){if(!t.waitFor)return e.resolve();return t.waitFor.then(function(){return t.field[n].apply(t.field,[i,r,o,a,s].filter(function(e){return"undefined"!==typeof e}))})}function r(n,i,r){var o=this;o.qapp=n;o.fldname=i;o.statename=r;o.rows=[];if(o.qapp.model.session){t.create(o,"OnData");var a=new e;o.waitFor=a.promise;o.qapp.model.waitForOpen.promise.then(function(){var e=n.model.enigmaModel||n.model;e.getField(i,r||"$").then(function(e){o.field=e;a.resolve()}).catch(function(){})})}}r.prototype.clear=function(){return i(this,"clear")};r.prototype.lock=function(){return i(this,"lock")};r.prototype.unlock=function(){return i(this,"unlock")};r.prototype.clearOther=function(e){return i(this,"clearAllButThis",e||false)};r.prototype.selectAll=function(e){return i(this,"selectAll",e||false)};r.prototype.selectExcluded=function(e){return i(this,"selectExcluded",e||false)};r.prototype.selectAlternative=function(e){return i(this,"selectAlternative",e||false)};r.prototype.selectPossible=function(e){return i(this,"selectPossible",e||false)};r.prototype.toggleSelect=function(e,t){return i(this,"toggleSelect",e,t||false)};r.prototype.selectMatch=function(e,t){return i(this,"select",e,t||false)};r.prototype.select=function(e,t,n){return i(this,"lowLevelSelect",e,t||false,n||false)};r.prototype.selectValues=function(e,t,n){var r=[];e.forEach(function(e){"number"===typeof e?r.push({qIsNumeric:true,qNumber:e}):"string"===typeof e?"undefined"===e?r.push({qText:""}):r.push({qText:e}):r.push(e)});return i(this,"selectValues",r,t||false,n||false)};r.prototype.getData=function(e){if(this.requestActive)return this;this.requestActive=true;var t=this;var i=function i(){t.qapp.createGenericObject({qListObjectDef:{qStateName:t.statename?t.statename:"$",qDef:{qFieldDefs:[t.fldname]},qFrequencyMode:e&&e.freq||"V",qInitialDataFetch:[{qTop:0,qLeft:0,qHeight:e&&e.rows||200,qWidth:1}]}},function(e){t.rows.length=0;e.qListObject.qDataPages.forEach(function(e){e.qMatrix.forEach(function(e){t.rows.push(new n(e[0],t))})});t.rowCount=e.qListObject.qDimensionInfo.qCardinal;t.stateCounts=e.qListObject.qDimensionInfo.qStateCounts;t.requestActive=false;t.genericObject&&t.OnData.emit()}).then(function(e){t.genericObject=e;t.OnData.emit()})};this.genericObject?this.genericObject.close().then(function(){delete t.genericObject;i()}):i();return this};r.prototype.getMoreData=function(){if(this.requestActive)return this;if(this.rowCount<=this.rows.length)return this;this.requestActive=true;var e=this,t={qTop:this.rows.length,qLeft:0,qWidth:1,qHeight:50};e.genericObject?e.genericObject.getListObjectData("/qListObjectDef",[t]).then(function(t){t[0].qMatrix.forEach(function(t){e.rows.push(new n(t[0],e))});e.requestActive=false;e.OnData.emit()}):e.requestActive=false;return this};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t){Object.defineProperties(this,{qText:{value:e.qText},qElemNumber:{value:e.qElemNumber},qState:{value:e.qState},field:{value:t}});Number.isNaN(+e.qNum)||Object.defineProperties(this,{qNum:{value:e.qNum}});e.qFrequency&&Object.defineProperties(this,{qFrequency:{value:e.qFrequency}})}e.prototype.select=function(e,t){return this.field.select([this.qElemNumber],e||false,t||false)};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(173),n(132)],r=function(e,t){function n(e){this.app=e}n.prototype.create=function(n,i,r){var o=this;return o.app.waitForOpen.promise.then(function(){return t.get(o.app).then(function(t){return t.getLayout().then(function(){var a=t.layout.qSelectionObject?t.layout.qSelectionObject.qSelections:null;var s,l={currentSelectFields:[],currentSelectCount:0};if(a&&a.length>0){l.currentSelectCount=a.length;for(s=0;s<a.length;s++)l.currentSelectFields.push(a[s].qField)}var u="";for(s=0;s<l.currentSelectCount;s++){s>0&&(u+=", ");u+=l.currentSelectFields[s]}var c={qMetaDef:{title:n,description:i},selectionFields:u};r&&(c.sheetId=r);return e.create(c,o.app)})})})};n.prototype.apply=function(t){var n=this;return n.app.waitForOpen.promise.then(function(){return e.apply(t,n.app)})};n.prototype.remove=function(t){var n=this;return n.app.waitForOpen.promise.then(function(){return e.remove(t,n.app)})};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){return e.waitForOpen.promise.then(function(){return e.enigmaModel})}function t(e,t){this.app=e;this.qapp=t}function n(e){var t="string"===typeof e?{qName:e}:e;t.qInfo=t.qInfo||{};t.qInfo.qType=t.qInfo.qType||"variable";return t}t.prototype.create=function(t){var i=n(t);return e(this.app).then(function(e){return e.createVariableEx(i)})};t.prototype.createSessionVariable=function(t){var i=n(t);return e(this.app).then(function(e){return e.createSessionVariable(i)})};t.prototype.get=function(t){return e(this.app).then(function(e){return e.getVariableById(t)})};t.prototype.getByName=function(t){return e(this.app).then(function(e){return e.getVariableByName(t)})};t.prototype.setStringValue=function(t,n){return e(this.app).then(function(e){return e.getVariableByName(t)}).then(function(e){return e.setStringValue(n).then(function(){return e.getLayout()})})};t.prototype.setNumValue=function(t,n){return e(this.app).then(function(e){return e.getVariableByName(t)}).then(function(e){return e.setNumValue(n).then(function(){return e.getLayout()})})};t.prototype.setContent=function(e,t){console.warn("qlik.app.variable.setContent() is deprecated since 2.1, use setNumValue method or setStringValue method instead.");return this.setStringValue(e,t+"")};t.prototype.getContent=function(e,t){var n=this.qapp;var i=t?function(e){t(e,n)}:function(){};return this.getByName(e).then(function(e){if(!e)return e;return e.getLayout().then(function(e){var t={qContent:{qString:e.qText,qIsNum:!Number.isNaN(+e.qNum)}};i(t,n);return t})})};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(124),n(450),n(158)],r=function(e,t,n){function i(e){this.qapp=e}i.prototype.get=function(i){var r=this;return e.load().then(function(){return r.qapp.getObject(i).then(function(e){return n.getExtensionSupport(e).then(function(n){return new t(r.qapp,e,n)})})})};i.prototype.create=function(i,r,a){var s=this;return e.load().then(function(){var e=r&&r.layout&&(r.layout.visualization||r.layout.qInfo&&r.layout.qInfo.qType);var l="object"===o(r)&&e?n.convertDefinition(r,i,e,a):n.createDefinition(s.qapp,i,r,a);return l.then(function(e){return s.qapp.createGenericObject(e).then(function(e){return n.getExtensionSupport(e).then(function(n){e._expendable=true;return new t(s.qapp,e,n)})})})})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){var e={};Object.defineProperty(e,"empty",{value:"00000000-0000-0000-0000-000000000000",writable:false});e.generateId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})};return e}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(635),n(230),n(97)],r=function(e,t,n,i,r){var o=[],a={endAnnotation:null},s=".qv-object-nav .lui-icon--camera";function l(i,o,s,l){v();a.endAnnotation=o;var c=t.getService("luiPopover"),d;var g=c.show({template:n,controller:["$scope","$element",function(t,n){d=t;t.annotation={text:""};t.active=true;t.focused=false;t.isSaveDisabled=l;t.save=function(){f(g.currentAnnotationId,t.annotation.text);t.close()};t.closeDialog=function(){t.annotation.text="";t.focused=false;u();t.close()};i.on("mouseenter.annotations",function(){p(t)});i.on("mouseleave.annotations",function(){h(t)});n.on("mouseenter.dialog",function(){p(t)});n.on("mouseleave.dialog",function(){h(t)});n.on("click.dialog",function(n){var i=e(n.target);i.is(".lui-textarea")&&(t.focused=true)});r.on("start.storytellingAnnotate",t.closeDialog);t.$on("$destroy",function(){r.off("start.storytellingAnnotate",t.closeDialog);e(document).off("keydown.annotations");n.off("mouseenter.dialog");n.off("mouseleave.dialog");n.off("click.dialog")});function o(){e(document).on("keydown.annotations",function(e){a(e)&&h(t,1)})}function a(e){var t=(e.ctrlKey||e.metaKey)&&!e.altKey;return t&&(37===e.which||39===e.which)}o();s&&h(t)}],alignTo:i[0]});g.closed.then(function(){m();f(g.currentAnnotationId,d.annotation.text,d);d.focused=false;d.close()});return g}function u(t){t||(t=e(s));if(t.length&&a){a.endAnnotation();for(var n=o.length;n>=0;n--)clearTimeout(o.pop());t.off("mouseenter.annotations");t.off("mouseleave.annotations");m()}}function c(e){return i.get(e)}function d(e,t){return e.getProperties().then(function(n){n.qMetaDef.annotation=t;e.setProperties(n)})}function f(t,n){var i=e(s);c(t).then(function(e){d(e,n).then(function(){u(i)})});t||u(i)}function p(e){e.active=true;for(var t=o.length;t>=0;t--)clearTimeout(o.pop())}function h(t,n){var i=e.isNumeric(n)?n:4e3;if(false===t.focused){t.active=false;t.focused=false;o.push(setTimeout(function(){t.$apply(function(){t.closeDialog()})},i))}}function v(){e(s).parents("#grid").append("<div class='annotations-blocker'></div>")}function m(){setTimeout(function(){e("#grid").children(".annotations-blocker").remove()})}t.service("annotationsDialog",function(){return{openDialog:l,closeDialog:u}});return{getSnapshotModel:c,saveAnnotationInModel:d}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover tid="snapshot-annotation">\n\t<lui-popover-header >\n\t\t<lui-popover-title q-translation="Storytelling.Snapshot.AnnotationTitle"></lui-popover-title>\n\t</lui-popover-header>\n\t<lui-popover-body>\n\t\t<div class="form">\n\t\t<textarea class="lui-textarea" maxlength="255" rows="3" ng-model="annotation.text"\n\t\t\t\t  q-placeholder="Storytelling.Snapshot.AnnotationHint"></textarea>\n\t\t</div>\n\t</lui-popover-body>\n\t<lui-popover-footer>\n\t\t<button class="lui-button  lui-button"  ng-click="closeDialog();" q-translation="Common.Cancel" tid="cancel-annotation-btn"></button>\n\t\t<button class="lui-button  lui-button" ng-click="save();"  q-translation="Common.Save" ng-disabled="isSaveDisabled()" tid="save-annotation-btn"></button>\n\t</lui-popover-footer>\n</lui-popover>'},function(e,t){e.exports='<div style="position: absolute;top:-99999px;left:-99999px;z-index:500;background: rgba(255, 255, 255, 0.6); visibility:hidden;" ng-style="style">\n <qv-object ng-if="data" object="data.object" model="data.model" options="data.options"></qv-object>\n</div>'},function(e,t){e.exports='<div style="position: absolute;top:-99999px;left:-99999px;z-index:500;background: rgba(255, 255, 255, 0.6);visibility:hidden;" ng-style="style">\n  <div ng-repeat="cell in cells" style="position:absolute;" ng-style="cell.style">\n     <qv-object object="cell.data.object" model="cell.data.model" options="cell.data.options"></qv-object>\n  </div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(639),n(640),n(50),n(127),n(49),n(145)],r=function(e,t,n,i,r,o,a){var s={scope:{title:"=",sheets:"=",isSheet:"=",isGrid:"=",confirmDisabled:"=",sheetInformation:"=",selectSheet:"="},controller:["$scope",function(t){t.sections={approved:{show:!!t.sheets.approvedSheets.length,showHeaderLine:true,expand:true},myPublished:{show:!!t.sheets.myPublishedSheets.length,showHeaderLine:true,expand:true},myPrivate:{show:!!t.sheets.privateSheets.length,showHeaderLine:true,expand:true},community:{show:!!t.sheets.communitySheets.length,showHeaderLine:true,expand:true}};t.getBaseTitle=function(){return a.getFlag("AOSHARE")?"AppOverview.Content.PublicSheets":"AppOverview.Content.ApprovedSheets"};t.cancel=function(){t.destroyComponent()};t.sheetClicked=function(e){t.selectSheet(e);t.destroyComponent()};t.isSmallDeviceListner=function(){t.destroyComponent()};t.noSheets=!(t.sheets.approvedSheets.length||t.sheets.myPublishedSheets.length||t.sheets.privateSheets.length||t.sheets.communitySheets.length);t.toggleCollapse=function(n,i){n&&n.preventDefault&&n.preventDefault();t.sections[i].expand=!t.sections[i].expand;n&&t.sections[i].expand&&setTimeout(function(){o.scrollElmentIntoView(e(n.currentTarget).closest("div:not(.qs-tb)").find("ul li").first(),".av-content-container")})};t.$on("$destroy",function(){r.ViewChanged.unbind(t.isSmallDeviceListner)});r.ViewChanged.bind(t.isSmallDeviceListner)}]};t.directive("embeddedSheetItem",function(){return{restrict:"E",replace:true,template:i}});function l(e){var i={title:e.title,sheets:e.sheets,selectSheet:e.selectSheet,isSheet:true,isGrid:true,confirmDisabled:true,sheetInformation:e.sheetInformation};var r=t.getService("luiDialog");return r.show({template:n,controller:s.controller,input:i})}return{show:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog class="qv-appview" id="select-sheet-dialog">\n\t<lui-dialog-header>\n\t\t<lui-popover-title q-translation="SheetDialog.SelectSheet"></lui-popover-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body>\n\t\t<div class="av-container">\n\t\t\t<div class="av-t-c">\n\t\t\t\t<div class="av-content-container">\n\t\t\t\t\t\x3c!-- Show information about sheets if there are any present --\x3e\n\t\t\t\t\t<div ng-if="!noSheets && sheetInformation" class="embedded-info">\n\t\t\t\t\t\t<span class="lui-icon lui-icon--info"></span>\n\t\t\t\t\t\t<span q-translation="{{sheetInformation}}"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t\x3c!-- Show message if no sheets are available --\x3e\n\t\t\t\t\t\t<h2 ng-if="noSheets" class="qv-ao-h2">\n\t\t\t\t\t\t\t<div class="err-text" q-translation="AppOverview.Error.NoSheets"></div>\n\t\t\t\t\t\t</h2>\n\n\t\t\t\t\t\t<div ng-if="sections.approved.show">\n\t\t\t\t\t\t\t\x3c!-- Approved Header --\x3e\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header approved" tid="ApprovedTitle" ng-click="toggleCollapse($event, \'approved\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.approved.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\t\t  q-title-translation="{{ sections.approved.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="{{getBaseTitle()}}"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.approvedSheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- Approved Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-approved qv-grid" ng-if="sections.approved.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.approvedSheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div ng-if="sections.myPublished.show">\n\t\t\t\t\t\t\t\x3c!-- My Published Header --\x3e\n\t\t\t\t\t\t\t<div class="section-line my-published" ng-if="sections.myPublished.showHeaderLine"></div>\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header my-published" tid="MyPublishedTitle" ng-click="toggleCollapse($event, \'myPublished\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.myPublished.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\t\t  q-title-translation="{{ sections.myPublished.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="AppOverview.Content.MyPublishedSheets"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.myPublishedSheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- My Published Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-my-published qv-grid"\n\t\t\t\t\t\t\t\tng-if="sections.myPublished.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.myPublishedSheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div ng-if="sections.myPrivate.show">\n\t\t\t\t\t\t\t\x3c!-- Private Header --\x3e\n\t\t\t\t\t\t\t<div class="section-line private" ng-if="sections.myPrivate.showHeaderLine "></div>\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header private" tid="PrivateTitle" ng-click="toggleCollapse($event, \'myPrivate\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.myPrivate.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\tq-title-translation="{{ sections.myPrivate.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="AppOverview.Content.MySheets"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.privateSheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- Private Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-private qv-grid"\n\t\t\t\t\t\t\t\tng-if="sections.myPrivate.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.privateSheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div ng-if="sections.community.show">\n\t\t\t\t\t\t\t\x3c!-- Community Header --\x3e\n\t\t\t\t\t\t\t<div class="section-line community" ng-if="sections.community.showHeaderLine"></div>\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header community" tid="CommunityTitle" ng-click="toggleCollapse($event, \'community\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.community.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\t\t  q-title-translation="{{ sections.community.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="AppOverview.Content.CommunitySheets"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.communitySheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- Community Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-community qv-grid"\n\t\t\t\t\t\t\t\tng-if="sections.community.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.communitySheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t){e.exports='<li class="qv-content-li" ng-class="{\'qv-active-item\': item.isActive}">\n\t<div class="qv-content-item"\n\t\t ng-click="sheetClicked(item)" tid="sheet.private">\n\t\t<div qv-ao-thumb\n\t\t\t item="item"\n\t\t\t class="qv-thumb-wrap"\n\t\t\t issheet="isSheet"\n\t\t\t thumblayout="item.qData.thumbnail"\n\t\t\t editmode="false"></div>\n\n\t\t<div class="qv-details-wrap">\n\t\t\t<div class="qv-details-name">\n\t\t\t\t<div class="q-ellipsis" title="{{item.qData.labelExpression || item.qData.title}}">{{item.qData.labelExpression || item.qData.title}}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</li>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(642)],r=function(e,t){e.directive("qvModalDialog",function(){return{scope:{id:"@qvId",confirm:"&qvConfirm",cancel:"&qvCancel"},restrict:"E",transclude:true,replace:true,template:t,link:function e(){}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="modal-container qui-modalbackground-centered" qv-tabbable-container>\n\t<div id="{{id}}"\n\t\t class="modal-frame qui-delayedModal"\n\t\t ng-transclude></div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(644),n(645)],r=function(e,t,n){e.directive("qvConfirmCancelFooter",function(){return{scope:{confirmLabel:"@qvConfirmLabel",confirm:"&qvConfirm",confirmDisabled:"=qvConfirmDisabled",cancel:"&qvCancel",cancelDisabled:"=qvCancelDisabled"},restrict:"E",replace:true,template:function e(i,r){var o=r.hasOwnProperty("light");return o?n:t}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<footer class="dm-footer">\n    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f" ng-disabled="cancelDisabled"></lui-button>\n    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); confirm()" name="confirm" autofocus q-translation="{{confirmLabel}}" tid="2f2a56" ng-disabled="confirmDisabled" qva-focus="true"></lui-button>\n</footer>\n'},function(e,t){e.exports='<footer class="dm-footer">\n    <lui-button qva-activate="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f" ng-disabled="cancelDisabled"></lui-button>\n    <lui-button qva-activate="$event.preventDefault(); confirm()" name="confirm" autofocus q-translation="{{confirmLabel}}" tid="2f2a56" ng-disabled="confirmDisabled" qva-focus="true"></lui-button>\n</footer>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){var t=function t(n,i,r,o){var a,s,l,u,c,d,f,p;if(o){c=o.replace(/[^-\d.]/g,"");u=o.replace(/[-\d.]/g,"")}u=u||"pt";c=c||12;r&&-1==n.indexOf("font")&&(n="<font>"+n+"</font>");var h=e(e.parseHTML(n));var v=h.filter("font").add(h.find("font"));var m=h.filter("div").add(h.find("div"));var g="BR";h.each(function(e,t){t.tagName&&t.tagName.toUpperCase()===g.toUpperCase()&&(h[e]=document.createElement("div"))});p=u;d=1;switch(u){case"px":d=.75;p="pt";break}f=c*d;function b(e,t){var n=e.toFixed(2);return n+t}v.each(function(t,n){a=e(n);l=n.getAttribute("size")||"3";s=1;switch(l){case"1":s=.5;break;case"2":s=.8;break;case"3":s=1;break;case"4":s=1.5;break;case"5":s=2;break;case"6":s=3;break}a.css({"font-size":b(f*s,p)});a.removeAttr("size")});m.each(function(t,n){a=e(n);var i=n.getAttribute("align");if(i){a.css({"text-align":"inherit"===i?"left":i});a.removeAttr("align")}else"inherit"===a.css("text-align")&&a.css({"text-align":"left"})});var y="#545352";var x=b(f,p);n=h.wrapAll('<div style="color:'+y+"; font-size:"+x+';">').parent().wrapAll("<div>").parent().html();return n};return{enrichHtml:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(93),n(339),n(173),n(132),n(172)],r=function(e,t,n,i,r,o){function a(i,r,a,s){return t.getApp().then(function(e){return e.getObject(i)}).then(function(t){return t.getLayout().then(function(t){var i=o.sortSlidesByRank(t.qChildList.qItems.slice());if(!i.length)return{layout:t};var l=[];return i.map(function(e){return n.snapshot.bind(this,e.qInfo.qId,r,a,s)}).reduce(function(e,t){return e.then(function(e){e&&l.push(e);return t()})},e.resolve()).then(function(e){l.push(e);return{layout:t,slides:l}})})})}return{snapshot:function e(t,n,o,s){return r.get().then(function(e){return e.getLayout().then(function(e){return i.create({title:"",selectionFields:e.qSelectionObject.qSelections}).then(function(e){return a(t,n||{},o,s).then(function(n){i.apply(e.id).then(function(){i.remove(e.id)});return{id:t,type:"story",snapshot:null,area:null,children:n.slides,title:n.layout.qMeta.title||""}})})})})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102)],r=function(e){function t(e,t){Object.defineProperties(this,{fieldName:{value:e.qField},field:{get:function e(){return i(this.parent,this.fieldName)}},qSortIndex:{value:e.qSortIndex},locked:{value:e.qLocked||false},isNumeric:{value:e.qIsNum||false},totalCount:{value:e.qTotal},selectedCount:{value:e.qSelectedCount},qStateCounts:{value:e.qStateCounts},qSelected:{value:e.qSelected},selectedValues:{value:e.qSelectedFieldSelectionInfo},notSelectedValues:{value:e.qNotSelectedFieldSelectionInfo},qSelectionThreshold:{value:e.qSelectionThreshold},qTextSearch:{value:e.qTextSearch},qRangeInfo:{value:e.qRangeInfo},parent:{value:t}})}function n(t,n,i){e.create(this,"OnData");Object.defineProperties(this,{qapp:{value:t},selections:{value:[]},stateName:{value:i||"$"}});var o=this;n.then(function(e){r(o,e);e.Validated.bind(function(){r(o,e)})})}n.prototype.clearAll=function(e){return this.qapp.clearAll(e,this.stateName)};n.prototype.lockAll=function(){return this.qapp.lockAll(this.stateName)};n.prototype.unlockAll=function(){return this.qapp.unlockAll(this.stateName)};function i(e,t){return e.qapp.field(t,e.stateName)}function r(e,n){e.selections.length=0;if(n.layout.qSelectionObject){void 0===e.backCount&&Object.defineProperties(e,{backCount:{get:function e(){return n.layout.qSelectionObject.qBackCount||0}},forwardCount:{get:function e(){return n.layout.qSelectionObject.qForwardCount||0}}});n.layout.qSelectionObject.qSelections.forEach(function(n){e.selections.push(new t(n,e))});e.OnData.emit()}}return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(100),n(341),n(162)],r=function(e,t,n){var i=new t;function r(e){this.app=e}r.prototype.save=function(t){var n=this.app;e.isValidTheme(t).then(function(i){if(!i)throw new Error("Invalid theme id");n.waitForOpen.promise.then(function(){n.getLayout().then(function(n){if(!n.permissions.update)throw new Error("permission denied");e.saveTheme(t)})})})};r.prototype.get=function(e){if(!e)return this.app.waitForOpen.promise.then(function(){return n.getProperties().then(function(e){return i.get(e.theme)})});return i.get(e)};r.prototype.getApplied=function(){return i.get(e.getCurrentTheme())};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(99),n(104),n(146),n(343),n(256),n(232),n(453),n(240)],r=function(e,t,n,i,r,o,a,s,l){var u,c,d,f=7,p=250;function h(e,t){return e.components&&e.components.dataArea&&e.components.dataArea.length&&e.components.dataArea[0].chartFormatter&&(null===e.components.dataArea[0].chartFormatter.measureFormatters||null===e.components.dataArea[0].chartFormatter.measureFormatters[t])}function v(e){var t=e.getBoundingRect();return Number.isNaN(+t.x+t.y+t.width+t.height)}function m(e){return e.getDimensions().join(", ")}function g(e){return e.id+(e.parent?"-"+e.parent.id:"")}function b(){if(c){c=null;d=null}u=null}function y(e,t,n,r){if(n){var o=new i(0,0,n.rect.width,n.rect.height);e=e.intersection(o)}return{positions:[t(e.x+e.width/2,e.y,n,r),t(e.x+e.width,e.y+e.height/2,n,r),t(e.x,e.y+e.height/2,n,r),t(e.x+e.width/2,e.y+e.height,n,r)],directions:["top","right","left","bottom"]}}function x(e,t){var n,i,r,o,a=[],s,l,u;var c={positions:null,directions:null,target:null,component:null};if(this._positionAtMouse||1!==this._cssTransform.scale){n=t||e[0].interactPosition;if(n){i=this.getTransformedPoint(n.x,n.y,this.containerRect);o=e[0].getShapes();a=o.filter(function(e){return e.pointInside(i.x,i.y)});c.target=a.length?a[0]:o[0];c.directions=["top","right","left","bottom"];c.positions=[n]}}else{e.forEach(function(e){var n=null;var l=null;o=e.getShapes();if(e.calculateTooltipPosition&&e.tooltipShape){l=this.components[e.tooltipShapeComponent]?this.components[e.tooltipShapeComponent][0]:void 0;r=e.getShapeBounds(e.tooltipShapeComponent,l&&l.chartScale||1);if(r){c.target=a.length?a[0]:o[0];c.component=l}}else{if(e.tooltipShape&&!v(e.tooltipShape)){a=[e.tooltipShape];c.component=this.components[e.tooltipShapeComponent]?this.components[e.tooltipShapeComponent][0]:void 0}else if(t){i=this.getTransformedPoint(t.x,t.y,this.containerRect);a=o.filter(function(e){return e.pointInside(i.x,i.y)})}c.target=a.length?a[0]:o[0];if(c.target)if(c.target.getRelevantPosition)n=c.target.getRelevantPosition();else{r=c.target.getBoundingRect();if(!c.target.clearModelView&&c.component){u=c.component.chartScale||1;r=r.clone();r.set(r.x*u,r.y*u,r.width*u,r.height*u)}}}if(n){c.positions=[this.getPagePoint(n.pos.x,n.pos.y,c.component,this.containerRect)];c.directions=n.direction}else s=s?r.combineWith(s):r},this);if(s){l=y(s,this.getPagePoint.bind(this),c.component,this.containerRect);c.positions=l.positions;c.directions=l.directions}}return c}function w(e,t){var n=[],i,r=0,o,a,s,l,u,c,d=this.measureFormatters||[];if(e.isCacheItem){u=e.getMeasures();c=e.getMeasuresIndecies(t);o=c.length;for(r;r<o;++r){var f=c[r];a=e.getValue(f);s=a;l=e.getPreformattedLabel(f);d[c[r]]?a="U"!==d[f].type&&l?l:d[f].format(a):a&&l&&h(this,f)?a=l:"NaN"===a&&(a="-");u[f]&&void 0!==a&&n.push({label:u[f],value:a+"",num:s})}}else{o=e.node.children.length;for(r;r<o;++r){a=e.node.children[r].children[0].data.qNum||e.node.children[r].children[0].data.qValue;s=a;l=e.node.children[r].children[0].data.qText;d[r]&&(a="U"!==d[r].type&&l?l:d[r].format(a));n.push({label:e.node.children[r].data.qText,value:a+"",num:s})}}if(this.colorMap){i=this.colorMap.getTooltipContent(e,t.rowIndex);i&&n.splice(0,0,i)}var p=[];n.forEach(function(e){p.some(function(t){return t.label===e.label&&(t.value===e.value||t.num===e.num)})||p.push(e)});return p}function S(e,t){var n=[],i=0,r=0;while(i<f&&r<e.length){n.push({header:m(e[r]),rows:w.call(this,e[r],t)});i+=n[r].rows.length+1;r++}e.length>r&&(n.numberInExcess=e.length-r);n.msrCount=n[0]?n.length*n[0].rows.length:0;return n}function C(e,n,i,r){var o=x.call(this,e,n);if(o.positions&&o.directions){var a=this.getPagePoint(0,0,o.component,this.containerRect);var s=S.call(this,e,o.target);var u=r?null:l.getDuration(s.msrCount);t.getService("qvChartTooltipService").open({target:{shape:o.target,targetToPageTranslation:a},position:o.positions,content:s,direction:o.directions,numberInExcess:s.numberInExcess,hideCallback:b.bind(this),dir:this.yMirrorMode?"rtl":"ltr"},u,i);c=e[0];d=e.map(g).join("")}}function E(e){var t=this.getTransformedPoint(e.x,e.y,this.containerRect);return this.shapesFrom.shapesFromPoints([t])}function q(e){var t=E.call(this,e);return t.map(g).join("")}function _(e){var n=this;this.setActiveComponent(this.getComponent(e.x,e.y,this.containerRect));var i=E.call(n,e);if(i&&i.length&&this.activeComponent){n._positionAtMouse="MapArea"===n.activeComponent.className||1!==n._cssTransform.scale;u=t.getService("$timeout")(function(){C.call(n,i,e,null,n._noDuration);u=null},p)}}function T(e,t){var n=this;if(e&&e.length&&this.activeComponent){n._positionAtMouse="MapArea"===n.activeComponent.className||1!==n._cssTransform.scale;C.call(n,e,null,t)}}function k(){t.getService("$timeout").cancel(u);u=null;this.prevPoint=null}function O(){if(c){c=null;d=null;t.getService("qvChartTooltipService").close()}u=null}function D(e,t){var n=t?t.length:0,i,r;for(i=0;i<n;i++){r=t[i];if(r&&r.pointInside&&r.pointInside(e.x,e.y))return true}return false}function A(e){var t=e?e.length:0,n=[],i,r,o;for(i=0;i<t;i++){r=e[i]._shapes;if(!o){o=e[i]._interactPosition;o&&(o=this.getTransformedPoint(o.x,o.y,this.containerRect))}o&&D(o,r)&&(n[n.length]=e[i])}n.length||(n=e);return n}var I=o.extend("ChartTooltip",{init:function e(t,n,r){this._super(r,n);this.cache=r;c=null;u=null;this.container=t;this.containerRect=new i(0,0,0,0);this._positionAtMouse=true;this._enabled=true;this._allowNullSelect=true;this.touchTimeout=Number.isNaN(+n.touchTimeout)?10:n.touchTimeout},refreshContainerRect:function e(){this.offset=this.container.offset();var t=this.offset;var n=this.container.width();var i=this.container.height();this.containerRect.set(t.left,t.top,n,i)},on:function e(){if(this._isListening)return;this._isListening=true;var t=this;this._interactionEvents=a.extend({preventDefault:false,mousemove:function e(n){var i=new r(n.pageX,n.pageY);t.refreshContainerRect();t.move(n,i)},mouseleave:function e(n){t.leave(n)},mousewheel:function e(){t.cancel()},swipe:{start:function e(){t.cancel()},cancel:function e(){t.cancel()}},swipetwo:{start:function e(){t.cancel()},cancel:function e(){t.cancel()}},rotate:{start:function e(){t.cancel()},cancel:function e(){t.cancel()}},active:function e(){return t._enabled&&(c||n.treatAsDesktop())}});this._tapEvents=a.extend({preventDefault:false,tap:{end:function e(n,i){var r=i.pagePoints[0];t.refreshContainerRect();t.setActiveComponent(t.getComponent(r.x,r.y,t.containerRect));var o=E.call(t,r);o.forEach(function(e){e.interactPosition=r});t.updateHighlightedShape(o)}},active:function e(){return t._enabled}});n.treatAsDesktop()&&s.MouseLeave.bind(t._interactionEvents.mouseleave);function i(e){if(n.treatAsDesktop())s.addInteraction(t._interactionEvents,e.container,0,["mousemove","mouseleave","swipe","mousewheel"]);else{s.addInteraction(t._interactionEvents,e.container,0,["swipe","swipetwo","rotate"]);s.addInteraction(t._tapEvents,e.container,0,["tap"])}}this.registerAddedComponent=function(e){i(e)};this.deregisterAddedComponent=function(e){s.removeInteraction(t._interactionEvents,e.container);s.removeInteraction(t._tapEvents,e.container)};Object.keys(this.components).map(function(e){return t.components[e]}).forEach(function(e){e.forEach(function(e){t.registerAddedComponent(e)})})},register:function e(t,n){this.registerAddedComponent&&this.registerAddedComponent(n)},deregister:function e(t,n){this.deregisterAddedComponent&&this.deregisterAddedComponent(n)},off:function e(){this._isListening=false;s.MouseLeave.unbind(this._onMouseLeave);s.removeInteraction(this._interactionEvents);s.removeInteraction(this._tapEvents);this.registerAddedComponent=null;this.deregisterAddedComponent=null},initComponent:function e(t){this.setActiveComponent(this.getComponent(t.x,t.y,this.containerRect))},updateHighlightedShape:function e(t,i){if(t.length>=1){var r,o=true,a=false;r=A.call(this,t);if(!r||!r.length)return;if(!n.treatAsDesktop()){r=r.filter(function(e){return!e.selected});if(r.length)if(c||u){if(r.length>1||r[0]!==c){o=false;a=true}}else{o=false;a=true}if(o){k.call(this);O.call(this)}a&&T.call(this,r,this.touchTimeout)}}else if(!n.treatAsDesktop()&&i){k.call(this);O.call(this)}},getRect:function e(t){if(!t)return new i(0,0,0,0);return t.hasOwnProperty("innerRect")?t.innerRect:t.rect},move:function e(t,i){if(!n.treatAsDesktop()||!this._enabled)return;if(null!==u){if(!this.prevPoint||i.distanceTo(this.prevPoint)>5){k.call(this);_.call(this,i)}}else{this.prevPoint=i;if(c){if(q.call(this,i)!==d){O.call(this);_.call(this,i)}}else _.call(this,i)}},setCssTransform:function e(t){this._cssTransform=t||{scale:1}},leave:function t(n){var i=n.toElement||n.relatedTarget;if(!e(i).hasClass("qvt-chart-tooltip")&&!e(i).parents(".qvt-chart-tooltip").length){k.call(this);O.call(this)}},cancel:function e(){k.call(this);O.call(this)},clearSelection:function e(){k.call(this);O.call(this)},release:function e(){this._super();this.off()}});Object.defineProperties(I.prototype,{enabled:{set:function e(t){this._enabled=t},get:function e(){return this._enabled}}});return I}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(92),n(652),n(344)],r=function(e,t,n,i){function r(e){return e?e.selectionIdentifier:null}function o(e,t){if(t){var n=false;t.contains(0)&&(n=e.parent?-2===e.parent.id:-2===e.id);e.parent&&t.contains(1)&&(n=n||-2===e.id);return n}return-2===e.id||e.parent&&-2===e.parent.id}function a(e,t){return e&&e.length?t.filter(function(t){return e.some(function(e){return t.col===e.col&&t.id===e.id})}):[]}var s=t.extend({init:function t(n,i){this.options=e.extend(true,{},{allowNullSelect:false,activeComponent:null},i);this.cache=n;this.allowNullSelect=this.options.allowNullSelect;this.activeComponent=this.options.activeComponent},shapeFromPoint:function e(t){return this.shapesFromPoints([t])[0]},shapesFromPoints:function e(t){var n,i,a,s=this.cache.data,l=this.cache.data.length,u=t.length,c,d,f,p=(this.activeComponent||this.components&&this.components.dataArea)&&(this.activeComponent||this.components.dataArea[0]).chartScale||1,h,v=r(this.activeComponent),m,g,b,y=[];for(m=0;m<l;++m){h=s[m];if(!o(h)||this.allowNullSelect)for(g=0;g<u;++g){n=t[g];i={x:n.x/p,y:n.y/p};d=h.getShapes(r(this.activeComponent));"dataArea"===v&&h.toggleShapes&&(d=d.concat(h.toggleShapes));c=d.length;for(b=0;b<c;++b){f=d[b];a=f.clearModelView?n:i;if(f.pointInside(a.x,a.y)){y.push(h);break}}}}return y},shapesFromLines:function e(t){var n,i=this.cache.data,a=this.cache.data.length,s=t.length,l,u,c,d,f,p,h,v=[];for(f=0;f<a;++f){d=i[f];if(!o(d)||this.allowNullSelect)for(p=0;p<s;++p){n=t[p];u=d.getShapes(r(this.activeComponent));l=u.length;for(h=0;h<l;++h){c=u[h];if(c.intersectsLine(n)){v.push(d);break}}}}return v},shapesFromPolygon:function e(t){var n,i,a=this.cache.data,s=this.cache.data.length,l,u,c,d,f,p,h,v,m=[];for(f=0;f<s;++f){d=a[f];if(!o(d)||this.allowNullSelect){v=false;c=d.getShapes(r(this.activeComponent));u=c.length;for(h=0;h<u;++h){if(v)break;n=c[h].getPoints();l=n.length;for(p=0;p<l;++p){i=n[p];if(t.pointInside(i.x,i.y)){m.push(d);v=true;break}}}}}return m},shapesFromRect:function e(t,n){if(!t)return[];var i=this.cache.data,a=this.cache.data.length,s,l,u,c,d,f,p=[];for(d=0;d<a;++d){c=i[d];if(!o(c)||this.allowNullSelect){l=c.getShapes(n||r(this.activeComponent));s=l.length;for(f=0;f<s;f++){u=l[f];if(u.intersectsRect){if(u.intersectsRect(t)){p.push(c);break}}else if(t.intersectsWith(u)){p.push(c);break}}}}return p},shapesFromRectForDirection:function e(t,n,i){var a=this.cache.data,s=this.cache.data.length,l,u,c,d,f,p,h,v=[],m=0,g=0,b="";switch(n){case"x":m=t.x;g=t.getRight();b="getRight";break;case"y":m=t.y;g=t.getBottom();b="getBottom";break}for(p=0;p<s;++p){l=a[p];if(!o(l)||this.allowNullSelect){c=l.getShapes(i||r(this.activeComponent));u=c.length;for(h=0;h<u;++h){d=c[h];if("cx"in d){if(d["c"+n]>=m&&d["c"+n]<=g){v.push(l);break}}else{f=d.getBoundingRect();if(f[n]>=m&&f[n]<=g){v.push(l);break}if(f[b]()>=m&&f[b]()<=g){v.push(l);break}if(m>=f[n]&&g<=f[b]()){v.push(l);break}}}}}return v},shapesFromRange:function e(t,n,i,r){var a=Math.min(t,n),s=Math.max(t,n),l=this.cache.data,u=this.cache.data.length,c=this.activeComponent&&"function"===typeof this.activeComponent.getType?this.activeComponent.getType().indices:null,d,f,p,h,v,m=[],g;i=false!==i;r=false!==r;g=i&&r?function e(t){return t>=a&&t<=s}:i?function e(t){return t>=a&&t<s}:r?function e(t){return t>a&&t<=s}:function e(t){return t>a&&t<s};for(h=0;h<u;++h){d=l[h];if(!o(d)||this.allowNullSelect){f=d.values instanceof Array?d.values:d.value instanceof Array?d.value:[d.value];c&&c.length&&(f=f.filter(function(e,t){return c.indexOf(t)>=0}));for(v=0;v<f.length;v++){p=f[v];if(g(p)){m.push(d);break}}}}return m},shapesFromDimensionValue:function e(t){var n=this.cache.data,i=this.cache.data.length,r,a,s,l=[];for(a=0;a<i;++a){r=n[a];if(!o(r)||this.allowNullSelect)for(s=0;s<t.length;s++)if(r.id===t[s]){l.push(r);break}}return l},groupedItemsFromShapes:function e(t){var r,o,s,l,u=[];r=void 0!==this.activeComponent.getSelectionIndices?this.activeComponent.getSelectionIndices():[0];o=r[r.length-1];if(t&&t[0]&&t[0].col===o)return a(t,this.cache.data);t.forEach(function(e){l=e.parent;if(void 0!==l){s=i.getLevel.call(l)-(e.isCacheItem?0:1);s===o&&-1===u.indexOf(l)&&t&&u.push(l)}});if(u.length>0){t=[];u.forEach(function(e){t=t.concat(n.getCacheItems.call(e))})}return t},shapesFromIndex:function e(t,n){var i=Math.min(t,n),r=Math.max(t,n),o,a=this.cache.data,s=this.cache.data.length,l,u=[];for(l=0;l<s;++l){o=a[l];void 0!==o.index&&o.index>=i&&o.index<=r&&u.push(o)}return u},_isNull:o,release:function e(){this.cache=null;this.allowNullSelect=null;this.activeComponent=null}});return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(t,n){t.forEach(function(t){if(t.isCacheItem)n.push(t);else if(t.data.cacheItem)n.push(t.data.cacheItem);else if(t.cacheItem){n.push(t.cacheItem);if(t.cacheItem.isCacheItem)throw new Error("Using new cache item before its time")}t.children&&t.children.length>0&&e.apply(this,[t.children,n])});return n}var t={getCacheItems:function t(){if(!this.children||!this.children)return[];return e.apply(this,[this.children,[]])}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(654)],r=function(){var e;e={transclude:true,template:'<div qva-chart-tooltip position="position" content="content" direction="direction" visible="visible" template="template" number-in-excess="numberInExcess" target="target" hide-callback="hideCallback" always-on-top="alwaysOnTop" options="options"></div>',controller:["$scope",function(e){e.visible=false;this.hide=function(){e.visible=false};this.show=function(t){e.content=t.content;e.position=t.position;e.direction=t.direction;e.template=t.template;e.numberInExcess=t.numberInExcess;e.alwaysOnTop=t.alwaysOnTop;e.visible=true;e.hideCallback=t.hideCallback;e.target=t.target;e.options={direction:t.dir}}}]};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96),n(48),n(655),n(300),n(97),n(656)],r=function(e,t,n,i,r,o,a){var s=5;var l=5;var u=25;n.directive("qvaChartTooltip",function(){return{template:a,replace:true,scope:{content:"=",position:"=",visible:"=",direction:"=",template:"=",numberInExcess:"=",target:"=",hideCallback:"=",alwaysOnTop:"=",options:"="},link:function a(c,d){var f,p,h=false;f=function e(t){var n=t?"block":"none";d.css("display",n)};c.synchronAlign=function(){var t=d.find(".qv-tooltip"),n=d.find(".chart-tooltip-arrow"),o;f(c.visible);var a=c.direction instanceof Array?c.direction:[c.direction];o=r.alignToBestCoordinate(t,c.position,a,c.target,false,s,l);var p=t.offset(),v=r.getScrolledRect(e(window));switch(o.position){case"right":p.left+=9;o.y=v.y+Math.min(v.height-u,Math.max(u,o.y-v.y));break;case"left":p.left-=9;o.y=v.y+Math.min(v.height-u,Math.max(u,o.y-v.y));break;case"bottom":p.top+=9;o.x=v.x+Math.min(v.width-u,Math.max(u,o.x-v.x));break;default:p.top-=9;o.x=v.x+Math.min(v.width+v.x-u,Math.max(u,o.x-v.x));break}t.offset(p);if(n.length){n.removeClass().addClass("chart-tooltip-arrow").addClass(o.position);i.alignToCoordinate(t,o.x,o.y,o.position,n)}h=false};c.align=function(){p=n.getService("$timeout")(c.synchronAlign)};c.$watch("position",function(e){if(e&&(e instanceof Array||e.x&&e.y)){h=true;c.align()}});c.$watch("visible",function(e){h||f(e)});c.$watch("content",function(e){e||(c.visible=false)});c.hideTooltip=function(e){c.visible=false;c.hideCallback&&c.hideCallback();if(e&&e.stopPropagation){e.stopPropagation();e.preventDefault();t.preventGestures()}};c.$on("$destroy",function(){n.getService("$timeout").cancel(p);o.off("end",c.hideTooltip)});o.on("end",c.hideTooltip)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=Math.floor;function t(e){var t={left:"right",right:"left",top:"bottom",bottom:"top"};return t[e]}function n(e,n,i,r){var o=t(i),a={left:{width:0,height:.5},right:{width:1,height:.5},top:{width:.5,height:0},bottom:{width:.5,height:1}},s=a[o],l=0,u=0,c=0,d=0,f=n[0].getBoundingClientRect(),p=r.outerWidth();if("left"===o||"right"===o){c=parseInt(n.offset().top+f.height*(1-s.height)-e.offset().top-p*(1-s.height),10);"left"===o?u="auto":l="auto";d="auto"}else{l=parseInt(n.offset().left+f.width*(1-s.width)-e.offset().left-p*(1-s.width),10);"bottom"===o?c="auto":d="auto";u="auto"}r.css({left:l,right:u,top:c,bottom:d})}function i(n,i,r,o,a){var s=t(o),l={left:{width:0,height:.5,size:-1},right:{width:1,height:.5,size:1},top:{width:.5,height:0,size:-1},bottom:{width:.5,height:1,size:1}},u=l[s],c,d,f=n[0].getBoundingClientRect(),p=a[0].getBoundingClientRect();if("left"===s||"right"===s){c=u.width*(f.width-p.width)+p.width*u.size-parseInt(n.css("padding-left"));d=r-n.offset().top-p.width*(1-u.height)}else{c=i-n.offset().left-p.width*(1-u.width);d=u.height*(f.height-p.height)+p.height*u.size}a.css({left:e(c),top:e(d)})}function r(e,n,i){var r=t(n),o={left:{width:0,height:.5},right:{width:1,height:.5},top:{width:.5,height:0},bottom:{width:.5,height:1}},a=o[r],s,l,u=e.outerWidth(),c=e.outerHeight(),d=i.outerWidth(),f=i.outerHeight();if("left"===r||"right"===r){s=a.width*(u-d);l=i.offset().top-f*(1-a.height)}else{s=u*(1-a.width)-d*(1-a.width);l=a.height*(c-f)+f}i.css({left:s,top:l})}return{align:n,alignToParent:r,alignToCoordinate:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div>\n\t<div ng-if="template" ng-include src="template"></div>\n\n\t<div ng-if="!template" qva-direction x-dir-setting="{{options.direction}}" class="qv-tooltip qvt-chart-tooltip" qva-press="hideTooltip($event)" tid="qv-chart-tooltip" ng-class="{\'above\':alwaysOnTop}">\n\t\t<div class="chart-tooltip-arrow"></div>\n\t\t<div class="qv-chart-tooltip-inner">\n\t\t\t<div ng-repeat="item in content" class="qv-chart-tooltip-item">\n\t\t\t\t<div class="qv-chart-tooltip-content">\n\t\t\t\t\t<div qva-direction x-dir-text="{{item.header}}" x-dir-setting="{{options.direction}}" class=\'qv-tp-header\' ng-if="item.header !== undefined">\n\t\t\t\t\t\t<strong>{{item.header}}</strong>\n\t\t\t\t\t</div>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tr ng-repeat="row in item.rows" class="qv-tp-row">\n\t\t\t\t\t\t\t<td class=\'qv-tp-item\' ng-if="row.hasOwnProperty(\'label\')">\n\t\t\t\t\t\t\t\t<span qva-direction x-dir-text="{{row.label}}" class="qv-tp-rowPart" ng-class="{\'qv-tp-single\' : (content.length + item.rows.length) <= 3}">{{row.label}}</span>\n\t\t\t\t\t\t\t\t<span>:&nbsp;</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td ng-if="!row.template" class=\'qv-tp-value\'>\n\t\t\t\t\t\t\t\t<div class="qv-tp-rowPart" dir="ltr">{{row.value}}</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td ng-if="row.template" class=\'qv-tp-template qv-tp-value\' ng-bind-html="row.template" ng-attr-colspan="{{row.hasOwnProperty(\'label\') && 1 || 2 }}">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-chart-tooltip-excess" ng-if="numberInExcess > 0" q-translation="Object.ChartTooltip.NMore,{{numberInExcess}}">More</div>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(342),n(454)],r=function(e,t){function n(){this.data=[]}Object.defineProperties(n.prototype,{has:{value:function e(t){return-1!==this.data.indexOf(t)}},add:{value:function n(i){if(!(i instanceof e)&&!(i instanceof t))throw new Error("Invalid cache item!");this.has(i)||this.data.push(i)}},remove:{value:function e(t){var n=this.data.indexOf(t);-1!==n&&this.data.splice(n,1)}},clear:{value:function e(){this.data.length=0}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(659)],r=function(e,t){e.service("qvDefaultViewSelectionService",[function(){return{createSelections:function e(n,i,r,o){var a,s;if(!r||!r.dataArea)return;r.range&&(r.range.rtl="rtl"===n.options.direction);r.isPopover=n.options.isPopover;r.selectionsDisabled=n.options.selectionsDisabled||false;a=new t(i,r,o);a.Activated.bind(function(){n.selectionsApi.activated()});a.Deactivated.bind(function(){n.selectionsApi.deactivateSearch&&n.selectionsApi.deactivateSearch()});a.Cancel.bind(function(){n.selectionsApi.cancel()});a.Select.bind(function(){n.selectionsApi.selectionsMade=true});a.SelectRange.bind(function(){n.selectionsApi.selectionsMade=true});a.SelectAttributeDim.bind(function(){n.selectionsApi.selectionsMade=true});a.Confirm.bind(function(){n.backendApi.endSelections(true);n.selectionsApi.deactivated()});a.ResetSelections.bind(function(){n.backendApi.clearSelections()});n.selectionsApi.confirm=function(){a&&a.confirm()};s=n.selectionsApi.deactivated.bind(n.selectionsApi);n.selectionsApi.deactivated=function(){a&&a.deactivate();s()};n.selectionsApi.deactivate=function(){if(a){a.deactivate();this.deactivated()}};n.selectionsApi.clear=function(){a.clearSelection();n.backendApi.clearSelections();n.tooltipApi.cancel();n.selectionsApi.selectionsMade=false};n.selectionsApi.toggleKeyboardAccelerators=function(e){a.toggleKeyboardAccelerators(e)};n.selectionsApi.getKeyAsToggleSelected=function(e){return a.getKeyAsToggleSelected(e)};n.selectionsApi.toggleSearch=function(){n.options.search.toggle()};n.selectionsApi.activate=function(){a.autoActivate()};n.selectionsApi.on=function(){a.on()};n.selectionsApi.off=function(){a.off()};n.$on("$destroy",function(){if(a){a.release();a=null}});return a}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(92),n(102),n(660),n(662),n(667),n(104),n(256),n(232),n(101)],r=function(e,t,n,i,r,o,a,s,l,u){var c,d,f={dataArea:i,range:r,colorLegend:o};function p(t){Object.keys(t).forEach(function(n){n in f&&(this.types[n]=new f[n](this,e.extend(true,{},f[n].defaultOptions,t[n])))},this)}function h(e,t){var n;for(n=0;n<t.length;n++)if(e.contains(t[n]))return true;for(n=0;n<e.length;n++)if(t.contains(e[n]))return true;return false}function v(e){var t=u.getValue(e,"activeComponent.backendApi",{});var n=t.getDimensionInfos&&t.getDimensionInfos()||[];var i=n.length-1;var r=u.getValue(n,i+".qIsOneAndOnlyOne",false);i>0&&r&&u.getValue(n,i+".qCardinalities.qHypercubeCardinal")>1&&(r=false);return r}c=t.extend({init:function t(i,r,o){n.mixin(this);this.notification("Activated");this.notification("Deactivated");this.notification("ToggleShape");this.notification("ToggleShapes");this.notification("SelectWhileLocked");this.notification("SelectWhileSingleSelect");this.notification("Lasso");this.notification("Confirm");this.notification("Cancel");this.notification("Select");this.notification("SelectRange");this.notification("SelectAttributeDim");this.notification("Clear");this.notification("ResetSelections");this.notification("UpdateRanges");this._active=false;this._autoActivated=false;this._isListening=false;this._isScrolling=false;this._isLocked=false;this._shiftPressed=false;this._lassoEnabled=false;this._allowLasso=true;this._enabled=true;this.container=i;this.options=e.extend(true,{},{toggle:true,toggleRect:true,swipe:true,ctrlKeyAsToggleSelected:false},r);this.cache=o;this.containerRect=new a(0,0,0,0);this.types={};this._keyboard=true;p.call(this,this.options)},setContainer:function e(t){this.off();this.container=t;this.on()},refreshContainerRect:function e(){this.offset=this.container.offset();var t=this.offset;var n=this.container.width();var i=this.container.height();this.containerRect.set(t.left,t.top,n,i)},canTypeBeActivated:function e(t){return!(t&&t.activeComponent&&"function"===typeof t.activeComponent.isSelectionLocked?t.activeComponent.isSelectionLocked():this._isLocked)},on:function e(){if(this._isListening)return;this._isListening=true;var t=this,n=this.options,o;this._reset=function(){o=null};this.getActiveType=function(){return t._activeType};this.getActiveMode=function(){return t._activeType?t._activeType.getActiveMode():null};function a(){if(t._activeType&&t._activeType!==o){var e=t._activeType.getActiveDimensions();if(t._activeType.getActiveMode()!==o.getActiveMode()||!h(e,o.getActiveDimensions())){t._activeType.clearSelection();t.ResetSelections.emit()}t._activeType.cancel()}t._activeType=o}function u(){a();n._disableSelectionActivation||t.activate()}function c(){return t._active}function f(){return o&&n.swipe}this._setTypeOnAutoActivate=function(){o=t.types.dataArea};this._activateType=function(e){o=e;a()};this._mouseUp=function(e){1===e.which&&(!t._shiftPressed&&t._drawingWithShift||t._shiftPressed&&t._drawingWithoutShift)&&t.Lasso.emit(!t.lassoEnabled)};this._shiftToggle=function(e){t._shiftPressed=e;if(!t._allowLasso||!t._keyboard||t._drawingWithShift||t._drawingWithoutShift)return;t._active&&t.Lasso.emit(!t.lassoEnabled)};this._keyPressed=function(e){if(!t._keyboard)return;if(!c())return;27===e?t.cancel():13===e&&(o&&o.getIsEditing&&o.getIsEditing()?o.confirmEdit():t.confirm())};l.ShiftToggle.bind(this._shiftToggle);l.KeyPressed.bind(this._keyPressed);l.MouseUp.bind(this._mouseUp);this.types.range&&this.types.range.on&&this.types.range.on();var p=false,m;function g(e,n){d=n;o=e;t.refreshContainerRect();o&&o.initComponent(n)}this._eventHandlers=s.extend({preventDefault:false,tap:{start:function e(t,n,i){g(i,n.pagePoints[0]);document.activeElement&&document.activeElement.blur()},end:function e(i,r){if(!o||o.internal||!n.toggle)return;if(!t.canTypeBeActivated(o)){t.SelectWhileLocked.emit();return}u();l.preventGestures(this);o.toggle.call(o,i,r.pagePoints[0]);o.getSelectedShapes().length>0&&t.Select.emit(o.getSelectedShapes(),t.getKeyAsToggleSelected(i))}},taptwo:{start:function e(){},end:function e(i,r,a){if(!n.toggleRect)return;g(a,r.pagePoints[0]);if(!o||!n.toggle)return;if(!t.canTypeBeActivated(o)){t.SelectWhileLocked.emit();return}u();o.toggleRect.call(o,i,r.pagePoints[0],r.pagePoints[1])}},exclusive:function e(){return t.lassoEnabled},active:function e(){return t._enabled||t._drawingWithShift||t._drawingWithoutShift}});this._swipeHandlers=s.extend({preventDefault:true,swipe:{start:function e(r){if(!f()&&!n._enablePanning)return;t._shiftPressed&&!t._active&&t.allowLasso&&t.Lasso.emit(!t.lassoEnabled);if(!o||o.internal)return;t._drawingWithShift=t._shiftPressed;t._drawingWithoutShift=!t._shiftPressed;if(!t.lassoEnabled&&o.activeComponent&&o instanceof i){this._isPanning=true;return}if(o.activeComponent){this._isPanning=false;p=true;m=this.options.useMomentum;this.options.useMomentum=false;if(!t.canTypeBeActivated(o)){t.SelectWhileLocked.emit();return}if(v(o)){t.SelectWhileSingleSelect.emit();return}u();o.start.call(o,r,d)}},update:function e(i,r){if(!f()&&!n._enablePanning)return;if(!this._isPanning&&p&&o){if(!t.canTypeBeActivated(o)){t.SelectWhileLocked.emit();return}if(v(o)){t.SelectWhileSingleSelect.emit();return}o.update.call(o,i,r.pagePoints[0])}},end:function e(i,r){if(!f()&&!n._enablePanning)return;t._drawingWithShift=false;t._drawingWithoutShift=false;if(this._isPanning)this._isPanning=false;else if(p&&o){p=false;this.options.useMomentum=m;if(!t.canTypeBeActivated(o)){t.SelectWhileLocked.emit();return}if(v(o)){t.SelectWhileSingleSelect.emit();return}o.end.call(o,i,r)}},cancel:function e(){t._drawingWithShift=false;t._drawingWithoutShift=false;if(!o||!p)return;this.options.useMomentum=m;o.cancel.call(o,true)}},exclusive:function e(){return t.lassoEnabled},active:function e(n){return t._enabled&&(t.lassoEnabled||t._drawingWithShift||t._drawingWithoutShift||n instanceof r)}});function b(e,n){l.addInteraction(t._eventHandlers,e.container,1,["tap","taptwo"],n)}function y(e,n){l.addInteraction(t._swipeHandlers,e.container,1,["swipe"],n)}function x(e){l.removeInteraction(t._swipeHandlers,e.container)}this.registerAddedComponent=function(e,t){if(!e.internal&&!(e instanceof r&&"dataArea"===t.selectionIdentifier)){b(t,e);e instanceof r&&y(t,e)}};this.deregisterAddedComponent=function(e,n){if(!e.internal&&!(e instanceof r&&"dataArea"===n.selectionIdentifier)){l.removeInteraction(t._eventHandlers,n.container);l.removeInteraction(t._swipeHandlers,n.container)}};this.registerLasso=function(){var e=this.types["dataArea"];Object.keys(e.components).map(function(t){return e.components[t]}).forEach(function(t){t.forEach(function(t){y(t,e)})})};this.deregisterLasso=function(){var e=this.types["dataArea"];Object.keys(e.components).map(function(t){return e.components[t]}).forEach(function(e){e.forEach(function(e){x(e)})})};Object.keys(this.types).map(function(e){return this.types[e]},this).forEach(function(e){return Object.keys(e.components).map(function(t){return e.components[t]}).forEach(function(n){n.forEach(function(n){t.registerAddedComponent(e,n)})})})},register:function e(t,n){this.registerAddedComponent&&this.registerAddedComponent(t,n)},deregister:function e(t,n){this.deregisterAddedComponent&&this.deregisterAddedComponent(t,n)},off:function e(){l.ShiftToggle.unbind(this._shiftToggle);l.KeyPressed.unbind(this._keyPressed);l.MouseUp.unbind(this._mouseUp);l.removeInteraction(this._eventHandlers);l.removeInteraction(this._swipeHandlers);this.types.range&&this.types.range.off&&this.types.range.off();this._isListening=false;this.registerAddedComponent=null;this.deregisterAddedComponent=null;this.registerLasso=null;this.deregisterLasso=null},autoActivate:function e(){if(this._autoActivated||!this._isListening)return;this._autoActivated=true;this._setTypeOnAutoActivate();this._activeType=this.types.dataArea;this._activeType.initComponent();this.activate()},activate:function e(t){if(!this._active){this.Activated.emit();this._active=true;this._shiftPressed&&!this.lassoEnabled&&this.Lasso.emit(true)}t&&this._activateType(t)},deactivate:function e(t){if(this._active){this._active=false;this._autoActivated=false;t||this.clearSelection();if(this._activeType){this._activeType.cancel();this._activeType=void 0}this.Deactivated.emit();this._reset()}},confirm:function e(){this._activeType&&this.deactivate(true);this.Confirm.emit()},cancel:function e(){this.deactivate();this.Cancel.emit()},clearSelection:function e(){this._activeType&&this._activeType.clearSelection()},toggleKeyboardAccelerators:function e(t){this._keyboard=t},getKeyAsToggleSelected:function e(t){return!(t.metaKey||t.ctrlKey)},release:function e(){this.off();n.release(this);Object.keys(this.types).forEach(function(e){this.types[e].release()},this)},setLocked:function e(t){this._isLocked=t}});Object.defineProperties(c.prototype,{allowLasso:{set:function e(t){this._allowLasso=t},get:function e(){return this._allowLasso}},lassoEnabled:{set:function e(t){this._lassoEnabled=t&&this.allowLasso;this._lassoEnabled&&this.registerLasso&&this.registerLasso();!this._lassoEnabled&&this.deregisterLasso&&this.deregisterLasso()},get:function e(){return this._lassoEnabled}},enabled:{set:function e(t){this._enabled=t},get:function e(){return this._enabled}}});return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(146),n(401),n(104),n(226),n(266),n(661),n(101)],r=function(e,t,n,i,r,o,a,s){var l,u=e("<div />"),c=u[0],d=e("<canvas />"),f=d[0],p=e("<canvas />"),h=p[0],v=e("<canvas />"),m=v[0],g=f.getContext("2d"),b=h.getContext("2d"),y=m.getContext("2d"),x,w=[],S=false,C=false;c.appendChild(f);c.appendChild(h);c.appendChild(m);c.className="selections-data-area-ui";u.hide();function E(){g.beginPath();g.moveTo(x.x,x.y);g.fillStyle="rgba(0, 152, 69, 1)";g.arc(x.x,x.y,10,0,2*Math.PI,true);g.fill()}function q(e,t,n){var i,r;!n||"x"!==n&&"y"!==n||(t[n]=x[n]);i=(e.x+t.x)/2;r=(e.y+t.y)/2;g.beginPath();g.moveTo(e.x,e.y);g.quadraticCurveTo(i,r,t.x,t.y);g.stroke()}function _(e,t,n,i){i=i||[2,4];var r=i.length,o=n.x-t.x,a=n.y-t.y,s=Math.sqrt(o*o+a*a),l=s,u=0,c=true,d,f=t.x,p=t.y;o/=s;a/=s;e.moveTo(f,p);for(u=0;l>=.1&&u<5e3;++u){d=i[u%r];0===d&&(d=.001);d>l&&(d=l);f+=d*o;p+=d*a;e[c?"lineTo":"moveTo"](f,p);l-=d;c=!c}}function T(e,t){b.clearRect(0,0,h.width,h.height);b.beginPath();_(b,e,t);b.stroke()}function k(){u.hide();d.hide();p.hide();u.detach()}function O(e){var t=s.getValue(this,"components.dataArea.0._data.qHyperCube.qDimensionInfo",[]);return s.getValue(t,e+".qIsOneAndOnlyOne",false)}function D(e){if(!e.length)return 0;var t=s.getValue(this,"components.dataArea.0._data.qHyperCube.qDimensionInfo",[]);if(1===t.length)return 0;var n;if(1===e.length){var i=e[0].parent&&e[0].parent.children.length;n=1===i||false}else 2===t.length&&(n=t[1].qIsOneAndOnlyOne&&t[1].qCardinalities.qHypercubeCardinal>1||false);var r=n?0:1;return r}l=o.extend("DataAreaSelection",{init:function e(t,n){this._super(t,n);this.setActiveMode("item");this._startIndex=-1;this._endIndex=-1},initComponent:function e(){this.setActiveComponent(this.components.dataArea[0])},refreshCanvas:function e(){this.rect=this.components.dataArea[0].rect;var t={position:"absolute",left:this.rect.x+"px",top:this.rect.y+"px",width:this.rect.width+"px",height:this.rect.height+"px","z-index":20};g.canvas.width=this.rect.width;g.canvas.height=this.rect.height;g.lineWidth=2;g.lineCap="round";g.lineJoin="round";g.strokeStyle="rgba(102,102,102,1)";g.fillStyle="rgba(102,102,102,1)";d.css(t);b.canvas.width=this.rect.width;b.canvas.height=this.rect.height;b.lineWidth=2;b.lineCap="round";b.lineJoin="round";b.strokeStyle="rgba(102,102,102,1)";p.css(t);y.canvas.width=this.rect.width;y.canvas.height=this.rect.height;v.css(t)},toggle:function e(t,n,r){r=void 0!==r?r:this.handler.getKeyAsToggleSelected(t);var o=this.getTransformedPoint(n.x,n.y),a,s=this.options.toggle.callback||this.toggleSelection,l=this.options.indexSelection,u=this.ToggleFlag.auto|this.ToggleFlag.tooltip;a=l?this.shapesFromRectForDirection(new i(o.x,o.y,0,0),"y"):this.shapesFromPoints([o]);a=this.groupedItemsFromShapes(a);var c=O.call(this,D.call(this,a));c?this.cancel(true):r||this.clearSelection();this.resetSelectedShapes();this.setActiveComponent(this.components.dataArea[0]);a.forEach(function(e){e.selectionMode="dataArea";e.interactPosition=n});s.call(this,a,u);return a&&a.length>0},toggleRect:function t(n,r,o){if(!r||!o)return;var s,l,u,c,d,f,p,h,v,m=e(this.components.dataArea[0].container),g=m.offset(),b=function e(t){return{x:Math.min(Math.max(t.x,g.left),g.left+m.width()),y:Math.min(Math.max(t.y,g.top),g.top+m.height())}},y,x;r=b(r);o=b(o);y=r;x=o;this.resetSelectedShapes();r=this.getTransformedPoint(r.x,r.y);o=this.getTransformedPoint(o.x,o.y);s=Math.min(r.x,o.x);l=Math.min(r.y,o.y);u=Math.max(1,Math.abs(o.x-r.x));c=Math.max(1,Math.abs(o.y-r.y));d=new i(s,l,u,c);p=this.ToggleFlag.select;h=this.options.indexSelection;v=this.toggleSelection;this.setActiveComponent(this.components.dataArea[0]);f=h?this.shapesFromRectForDirection(d,"y"):this.shapesFromRect(d);f=this.groupedItemsFromShapes(f);f.forEach(function(e){e.selectionMode="dataArea"});v.call(this,f,p);this.getSelectedShapes().length>0&&this.handler.Select.emit(this.getSelectedShapes(),true);a.flash(y,x)},start:function e(n,r){this.handler.getKeyAsToggleSelected(n)||this.clearSelection();this.resetSelectedShapes();this.setActiveComponent(this.components.dataArea[0]);var o=this.getTransformedPoint(r.x,r.y),a=this.options.captureInput,s=this.options.indexSelection;if(a){d.show();p.show();u.appendTo(this.handler.container);u.show();this.refreshCanvas()}w.length=0;w.push(o);x=new t(w[0].x,w[0].y);S=false;C=false;if(s){var l=this.shapesFromRectForDirection(new i(x.x,x.y,1,1),"y"),c=l.length&&l[0].index;void 0!==c&&c>=0&&(this._startIndex=c)}a&&E()},update:function e(t,n){var o=this.getTransformedPoint(n.x,n.y),a=this.options,s=a.captureInput,l=a.lassoAutoCloseDistance,u=a.indexSelection,c=t.shiftKey&&a.shiftLockCapture?a.shiftLockAxis:"",d,f=this.ToggleFlag.select,p,v,m,g=-1,y=this.toggleSelection;d=w[w.length-1];w.push(o);s&&q(d,o,c);if(s){S||(S=w.length>2&&x.distanceTo(o)>=l);b.clearRect(0,0,h.width,h.height);if(S)if(x.distanceTo(o)<=l){T(o,x);C=true}else C=false}if(u){m=this.shapesFromRectForDirection(new i(o.x,o.y,1,1),"y");g=m.length?m[0].index:-1;void 0!==g&&g>=0&&(this._endIndex=g);p=this.shapesFromIndex(this._startIndex,this._endIndex);v=this.getSelectedShapes().filter(function(e){return-1===p.indexOf(e)});y.call(this,v,this.ToggleFlag.deselect);y.call(this,p,f)}else{p=this.shapesFromLines([new r(d.x,d.y,o.x,o.y)]);p=this.groupedItemsFromShapes(p);p.forEach(function(e){e.selectionMode="dataArea"});y.call(this,p,f)}},end:function e(t){var i=this.options.captureInput,r=this.options.indexSelection,o,a,s=this.ToggleFlag.select,l=this.toggleSelection;if(r){this._startIndex=-1;this._endIndex=-1}i&&k();if(i&&C){a=new n(w);o=this.shapesFromPolygon(a);o=this.groupedItemsFromShapes(o);o.forEach(function(e){e.selectionMode="dataArea"});l.call(this,o,s)}w.length=0;var u=this.getSelectedShapes();if(u.length>0){var c=O.call(this,D.call(this,u));c&&u.length>1?this.cancel():this.handler.Select.emit(u,this.handler.getKeyAsToggleSelected(t))}},cancel:function e(t){w.length&&k();t&&this.clearSelection();this.setActiveComponent(null)}});l.defaultOptions={captureInput:true,indexSelection:false,shiftLockCapture:false,shiftLockAxis:"x",lassoAutoCloseDistance:50,autoConfirm:false,toggle:{callback:null},interpolation:{pixelPrecision:2}};return l}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(51)],r=function(e,t){var n={template:'<div class ="qv-framer" ng-style="style"></div>',controller:["$scope",function(e){e.style={};e.style.top=e.top;e.style.left=e.left;e.style.height=e.height;e.style.width=e.width;e.closeComponent()}],scope:{top:"=",left:"=",height:"=",width:"=",closeComponent:"="}},i={flash:function i(r,o){var a=e.getService("$timeout"),s=t.show(n,{top:Math.min(r.y,o.y)+"px",left:Math.min(r.x,o.x)+"px",height:Math.max(r.y,o.y)-Math.min(r.y,o.y)+"px",width:Math.max(r.x,o.x)-Math.min(r.x,o.x)+"px",closeComponent:function e(){a(function(){s.destroy();s=null},300)}})}};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(266),n(146),n(104),n(101),n(663)],r=function(e,t,n,i,r,o){var a,s=false,l=Math.min,u=Math.max,c=e("<div />"),d=c[0],f=e('<div qva-range-selection visible="rangeSelectIsVisible" active-component="activeComponent" v-component="vComponent" h-component="hComponent" v-ranges="vRanges" h-ranges="hRanges" h-options="hOptions" v-options="vOptions"/>'),p={x:[],y:[]},h,v,m=15;function g(e){if(e.isCacheItem){var t=e.getDimensions();return t[t.length-1]}return e.parent&&e.parent.data&&e.parent.data.qText?e.parent.data.qText:e.label}function b(e,t){var n=e.indicators||e.getLevels()[0];var i=e.getPlotMax();var r=e.getPlotMin();var o=Number.MAX_VALUE;var a=-1;var s;for(s=0;s<n.values.length;s++){var l=n.values[s];var u=Math.abs(t-l);if(l<r||l>i)continue;if(!(u<o))break;o=u;a=s}if(-1!==s){var c=a;return{value:n.values[a],label:(n.qualifiedLabels||n.labels)[c]}}return null}function y(e,t,n){var i=e.getLevels();var r;for(r=i.length-1;r>=0;--r){var o=i[r];var a=null;var s=null;for(var l=0;l<o.values.length;++l){o.values[l]===t&&(a=(o.qualifiedLabels||o.labels)[l]);o.values[l]===n&&(s=(o.qualifiedLabels||o.labels)[l])}if(a&&s)return{l1:a,l2:s}}return{l1:null,l2:null}}function x(e,t){var n=e.isDiscrete&&e.isDiscrete();var i=e.isDimension&&!n;if(!i)return null;var r=e.getValueOfPosition(t);var o=b(e,r);if(!o)return null;o.newPoint=e.getPositionOfValue(o.value);var a=Math.abs(o.newPoint-t);if(a>m)return null;return o}function w(e,t){var n=this.getComponentKey(this.activeComponent);var i="x"===n?"width":"height";var r=e.rect[n];var o=e.rect[n]+e.rect[i];var a=this.activeComponent.rect;var s=this.getRect(this.activeComponent);var l=s[n]-a[n];var u=l+s[i];if(r===o&&0===r){o=t[n];r=t[n]}var c=null;var d=null;if(p[n].length>1)for(var f=0;f<p[n].length;++f){var h=p[n][f];if(e===h)continue;var v=h.rect[n];var m=h.rect[n]+h.rect[i];m<=r&&(null===c||m>c)&&(c=m);v>=o&&(null===d||v<d)&&(d=v)}l<=r&&(null===c||l>c)&&(c=l);u>=o&&(null===d||u<d)&&(d=u);return{min:c,max:d}}function S(e,t,n,i,r){var o=this.activeComponent,a=this.components.dataArea[0].rect,s=function e(t,i,a){if(r){if(r.switch){var s=n.startVal;n.startVal=n.updateVal;n.updateVal=s}var l=Math.max(Math.min(r.value,o.getPlotMax()),o.getPlotMin());0===r.index&&"horizontal"===a||1===r.index&&"vertical"===a?n.startVal=l:n.updateVal=l}else{n.startVal=o.getValueOfPosition(t);n.updateVal=o.getValueOfPosition(i);n.maxIncluded=!o.isDimension||o.getDataMax()<=n.updateVal}},c=0,d=0,f=0,p=0,h,v,m,b,y,S=o.isDiscrete&&o.isDiscrete(),C=w.call(this,n,e);switch(o.dock){case"top":case"bottom":c=l(e.x,t.x);f=u(e.x,t.x);d=0;p=a.height;if(null!==C.min&&C.min>c){i&&(f+=C.min-c);c=C.min}else{h=x(o,c);if(h){n.startLabel=h.label;c=null===C.min?h.newPoint:Math.max(C.min,h.newPoint)}else n.startLabel=I(o.getValueOfPosition(c),o)}if(null!==C.max&&C.max<f){i&&(c+=C.max-f);f=C.max}else{v=x(o,f);if(v){n.updateLabel=v.label;f=null===C.max?v.newPoint:Math.min(C.max,v.newPoint)}else n.updateLabel=I(o.getValueOfPosition(f),o)}n.rect.set(c,d,f-c,p-d);if(S){m=this.shapesFromRectForDirection(n.rect,"x","dataArea");if(m.length){b=this.options&&this.options.rtl?m[m.length-1]:m[0];y=this.options&&this.options.rtl?m[0]:m[m.length-1];n.startVal=g(b);n.updateVal=g(y)}else{n.startVal="-";n.updateVal="-"}n.maxIncluded=true}else s.call(this,c,f,"horizontal");break;case"left":case"right":d=l(e.y,t.y);p=u(e.y,t.y);c=0;f=a.width;if(null!==C.min&&C.min>d){i&&(p+=C.min-d);d=C.min}if(null!==C.max&&C.max<p){i&&(d+=C.max-p);p=C.max}h=x(o,d);if(h){n.startLabel=h.label;d=h.newPoint}else n.startLabel=I(o.getValueOfPosition(d),o);v=x(o,p);if(v){n.updateLabel=v.label;p=v.newPoint}else n.updateLabel=I(o.getValueOfPosition(p),o);n.rect.set(c,d,f-c,p-d);if(S){m=this.shapesFromRectForDirection(n.rect,"y","dataArea");if(m.length){b=m[0];y=m[m.length-1];n.startVal=g(b);n.updateVal=g(y)}else{n.startVal="-";n.updateVal="-"}n.maxIncluded=true}else s.call(this,d,p,"vertical");break}}function C(){return this.components.x&&this.components.y&&1===this.components.x.length&&1===this.components.y.length&&!this.components.x[0].isDiscrete()&&!this.components.y[0].isDiscrete()}function E(){h.y=false;h.x=false;if(this._rangeEventWatchers){this._rangeEventWatchers.forEach(function(e){e()});this._rangeEventWatchers=null}c.hide();c.detach();h.rangeSelectIsVisible=false;p={x:[],y:[]}}function q(e,t,n){var i={rect:new r(0,0,0,0),startVal:0,updateVal:0,component:t};n?p[e].push(i):p[e][0]=i;return i}function _(e,t,n){var i=p[e],o="x"===e&&n.yMirrorMode;var a=o?t.end:t.start;var s=o?t.start:t.end;var l=y(n,a,s);var u=l.l1||(o?null:t.label);var c=l.l2||(o?t.label:null);var d=-1;for(var f=0;f<i.length;f++){var h=o?i[f].updateVal<=s&&a<=i[f].startVal:i[f].startVal<=a&&s<=i[f].updateVal;if(h){d=f;break}}if(-1===d)i.push({startVal:a,startLabel:u,updateVal:s,updateLabel:c,component:n,rect:new r(0,0,0,0),maxIncluded:false});else{var v=i[d];i[d]={startVal:v.startVal,startLabel:v.startLabel,updateVal:a,updateLabel:u,component:n,rect:new r(0,0,0,0),maxIncluded:false};i.push({startVal:s,startLabel:c,updateVal:v.updateVal,updateLabel:v.updateLabel,component:n,rect:new r(0,0,0,0),maxIncluded:false})}T(e,n.yMirrorMode)}function T(e,t){var n="x"===e&&t;var i=n?"updateVal":"startVal";var r=n?"startVal":"updateVal";var o=p[e];o.sort(function(e,t){return e[i]<t[i]?-1:e[i]>t[i]?1:0});for(var a=o.length-1;a>=0;--a){if(o[a].startVal===o[a].updateVal){o.splice(a,1);continue}if(a<o.length-1){var s=o[a][r];var l=o[a+1][i];if(s>=l){if(o[a+1][r]>o[a][r]){o[a][r]=o[a+1][r];n?o[a].startLabel=o[a+1].startLabel:o[a].updateLabel=o[a+1].updateLabel}o.splice(a+1,1);a<o.length-1&&++a}}}}function k(e,t,n){e||(e="x");t||(t=0);var i=p[e][t];if(!i){i={rect:new r(0,0,0,0),startVal:0,endVal:0};p[e][t]=i}i.component=n;return i}function O(e,t,n,i){var r=[],o=this._previousShapes?this._previousShapes.slice():[],a,s=this.getActiveMode(),l=p["y"===t?"x":"y"];if("range.discrete"===s){r=this.shapesFromRectForDirection(e.rect,t,"dataArea");r=this.groupedItemsFromShapes(r);r.forEach(function(e){var t=o.indexOf(e);t>=0&&o.splice(t,1);e.selectionMode=s});n.call(this,r,i);this._clearPrev&&n.call(this,o,this.ToggleFlag.deselect);this._shapes=r}else if("range.dimension"===s){if(this.components.dataArea&&this.components.dataArea[0].updateRangeSelection){var u=p[t].map(function(e){return A(e.startVal,e.updateVal,e.maxIncluded)});this.handler.UpdateRanges.emit(u)}}else{if(C.call(this)){a=l.length?e.rect.intersection(l[0].rect):e.rect;this.components.dataArea&&this.components.dataArea[0].updateRangeSelection&&this.components.dataArea[0].getIsReduced()||(r=this.shapesFromRect(a,"dataArea"));this.components.dataArea&&this.components.dataArea[0].updateRangeSelection&&this.components.dataArea[0].updateRangeSelection(a)}else r=this.shapesFromRange(e.startVal,e.updateVal);r.forEach(function(e){e.selectionMode=s});n.call(this,r,i);this._shapes=r}}function D(e,t,n,i){var r=this.getComponentKey(this.activeComponent),o=t,a=this.ToggleFlag.select,s=this.toggleSelection;S.call(this,v,o,e,n,i);var l=this.getActiveMode();"range.measure"===l?this.clearSelection(true):this._shapes&&s.call(this,this._shapes,this.ToggleFlag.deselect);O.call(this,e,r,s,a);this.updateRangeDisplay()}function A(e,t,n){return{min:Math.min(e,t),max:Math.max(e,t),maxIncluded:!!n}}function I(e,t){var n=t.isDiscrete&&t.isDiscrete();return n||!t.isDimension?t.getFormatter().format(e):t.formatValue(e)}function L(e){return o.getValue(e,"qHyperCube.qDimensionInfo.0.qIsOneAndOnlyOne",false)}a=n.extend("RangeSelection",{init:function e(t,n){this._super(t,n);this._shapes=null;this._nrEditing=0;this.setActiveMode("item")},initComponent:function e(t){this.previousComponent=this.activeComponent;this.setActiveComponent(this.getComponent(t.x,t.y));h.activeComponent=this.activeComponent;-1!==this.components.x.indexOf(h.activeComponent)?h.hComponent=h.activeComponent:-1!==this.components.y.indexOf(h.activeComponent)&&(h.vComponent=h.activeComponent)},setDirection:function e(t){this.options.rtl="rtl"===t},refreshContainer:function t(){var n=this.components.dataArea[0].rect,i=e(this.components.dataArea[0].container).position(),o=new r(i.left,i.top,n.width,n.height),a,s=[];["x","y"].forEach(function(e){this.components[e]&&!this.components[e].contains(this.activeComponent)&&(s=s.concat(this.components[e]))}.bind(this));this.activeComponent&&s.push(this.activeComponent);s.forEach(function(t){if(t.isVisible()){a=e(t.container).position();o=o.combineWith(new r(a.left,a.top,t.rect.width,t.rect.height))}},this);this._offset={left:i.left-o.x,top:i.top-o.y};c.css({left:o.x,top:o.y,width:o.width,height:o.height})},resetSelectedShapes:function e(){this._previousSelectedShapes=this._selectedShapes.concat();this._super()},getIsEditing:function e(){return this._editing},confirmEdit:function e(){h.$broadcast("confirmEdit")},getRect:function e(t,n){if(!t)return new r(0,0,0,0);n=n||false;return t.hasOwnProperty("innerRect")&&!n?t.innerRect:t.rect},getExtendedRect:function e(t){if(!t)return new r(0,0,0,0);if(t.hasOwnProperty("extendedRect"))return t.extendedRect;return this.getRect(t)},getTransformedPoint:function e(t,n){var r=this.getRect(this.activeComponent||this.components.dataArea[0],true);return new i(t-r.x-this.handler.containerRect.x,n-r.y-this.handler.containerRect.y)},getComponent:function e(t,n){var r=new i(t-this.handler.containerRect.x,n-this.handler.containerRect.y);return Object.keys(this.components).map(function(e){return this.components[e]},this).reduce(function(e,t){return e.concat(t)}).filter(function(e){return this.getRect(e).pointInside(r.x,r.y)},this)[0]},checkActiveMode:function e(t,n){t.contains(this.handler.getActiveMode())||this.clearSelection(n);this.setActiveMode(t[0])},toggleRect:function e(t,n,i){this.start(t,n);this.update(t,i);this.end(t)},toggle:function e(t,n,i){i=void 0!==i?i:this.handler.getKeyAsToggleSelected(t);var r;i||this.clearSelection();this.resetSelectedShapes();this._editing&&this.confirmEdit();if(this.activeComponent&&"function"===typeof this.activeComponent.isDiscrete&&this.activeComponent.isDiscrete()){this.cancel();r=this.getTransformedPoint(n.x,n.y);var o=this.shapesFromPoints([r]),a=this.options.toggle.callback||this.toggleSelection,s=this.ToggleFlag.auto|this.ToggleFlag.tooltip;s=L(this.activeComponent.backendApi.model.layout)?this.ToggleFlag.replace:s;o=this.groupedItemsFromShapes(o);o.forEach(function(e){e.selectionMode="dataArea"});this.checkActiveMode(["item"]);a.call(this,o,s)}else if(this.activeComponent&&this.activeComponent.isDimension){r=this.getTransformedPoint(n.x,n.y);var l=this.activeComponent.getLabelFromPoint(r);if(l){this.checkActiveMode(["range.dimension"]);this.resetSelectedShapes();var u=this.getComponentKey(this.activeComponent);_(u,l,this.activeComponent);O.call(this,null,u,null,null);this.selectRange();this.refreshContainer();this.initWatchers();this.updateRangeProjection();this.updateRangeDisplay()}}},updateRangeDisplay:function e(){h.hRanges=[];h.vRanges=[];h.vRanges=p.y.map(function(e){var t=new i(e.rect.x,e.rect.y);var n=new i(e.rect.x+e.rect.width,e.rect.y+e.rect.height);var r=e.startLabel||(Number.isNaN(+e.startVal)?e.startVal:I(e.startVal,e.component));var o=e.updateLabel||(Number.isNaN(+e.updateVal)?e.updateVal:I(e.updateVal,e.component));e.maxIncluded||(o="<"+o);return{points:[n,t],values:{start:{text:o,value:e.updateVal},end:{text:r,value:e.startVal}}}});h.hRanges=p.x.map(function(e){var t=new i(e.rect.x,e.rect.y);var n=new i(e.rect.x+e.rect.width,e.rect.y+e.rect.height);var r=e.startLabel||(Number.isNaN(+e.startVal)?e.startVal:I(e.startVal,e.component));var o=e.updateLabel||(Number.isNaN(+e.updateVal)?e.updateVal:I(e.updateVal,e.component));e.maxIncluded||(e.component.yMirrorMode?r="<"+r:o="<"+o);return{points:[t,n],values:{start:{text:r,value:e.startVal},end:{text:o,value:e.updateVal}}}});p.y.length>0&&(h.vOptions={rect:this.getRect(p.y[0].component,true).clone(),offset:this._offset.top,padding:p.y[0].component.getPadding(),dock:p.y[0].component.dock,shouldClip:"range.dimension"===this.getActiveMode()});p.x.length>0&&(h.hOptions={rect:this.getRect(p.x[0].component,true).clone(),offset:this._offset.left,padding:p.x[0].component.getPadding(),dock:p.x[0].component.dock,shouldClip:"range.dimension"===this.getActiveMode()});if(!h.rangeSelectIsVisible){this.handler.container.append(c);c.show();h.rangeSelectIsVisible=true}h.$digest()},initWatchers:function e(){if(!this._rangeEventWatchers){var t=this;this._rangeEventWatchers=[];this._rangeEventWatchers.push(h.$on("rangeStart",function(){t.resetSelectedShapes();t._shapes=t._previousShapes;t._clearPrev=true}));this._rangeEventWatchers.push(h.$on("rangeUpdate",function(e,n,i,r,o,a){v=n[0];t.components[i].indexOf(t.activeComponent)<0&&t.setActiveComponent(t.components[i][0]);var s=p[i][r];D.call(t,s,n[1],o,a);t._clearPrev=false}));this._rangeEventWatchers.push(h.$on("rangeEditChanged",function(e,n){t._nrEditing=n?t._nrEditing+1:t._nrEditing-1;if(t._nrEditing>1){t.confirmEdit();t._nrEditing=1;e.targetScope.onEditBubble()}t._editing=t._nrEditing>0}));this._rangeEventWatchers.push(h.$on("rangeEnd",function(){t.end();t._clearPrev=false}));this._rangeEventWatchers.push(h.$on("rangeToggle",function(e,n,i){t.toggle(n,i)}))}},start:function e(t,n){if(this.handler._disableSelections)return true;this.resetSelectedShapes();this.refreshContainer();this.activeComponent.isDiscrete&&this.activeComponent.isDiscrete()?this.checkActiveMode(["range.discrete","item"]):this.activeComponent.isDimension?this.checkActiveMode(["range.dimension"]):this.checkActiveMode(["range.measure"]);var i=this.getComponentKey(this.activeComponent);if("x"!==i&&"y"!==i)return;this.currentRange=q(i,this.activeComponent,"range.dimension"===this.getActiveMode());this.initWatchers();v=this.getTransformedPoint(n.x,n.y)},update:function e(t,n){if(this.handler._disableSelections)return true;D.call(this,this.currentRange,this.getTransformedPoint(n.x,n.y),false)},updateShapesState:function e(){var t=this.getComponentKey(this.activeComponent),n=k(t,0,this.activeComponent),i=this.getActiveMode(),r=this.ToggleFlag.select,o=[],a=this.toggleSelection;this.clearSelection(true);if(this.activeComponent.isDiscrete&&!this.activeComponent.isDiscrete()){o=this.shapesFromRange(n.startVal,n.updateVal);o.forEach(function(e){e.selectionMode=i});a.call(this,o,r)}this._shapes=o},updateRangeProjection:function e(){var t=this.components.dataArea[0].rect;p.x.forEach(function(e){var n=e.component.getPositionOfValue(e.startVal);var i=e.component.getPositionOfValue(e.updateVal);var r=Math.min(n,i);var o=Math.max(n,i);var a=0;var s=t.height;e.rect.set(r,a,o-r,s-a)});p.y.forEach(function(e){var n=e.component.getPositionOfValue(e.startVal);var i=e.component.getPositionOfValue(e.updateVal);var r=0;var o=t.width;var a=Math.max(n,i);var s=Math.min(n,i);e.rect.set(r,s,o-r,a-s)})},end:function e(){if(this.handler._disableSelections)return true;this.currentRange=null;if("range.dimension"===this.getActiveMode()){var t=this.getComponentKey(this.activeComponent);T(t,this.activeComponent.yMirrorMode);this.updateRangeProjection()}this.updateRangeDisplay();this.selectRange();this._previousShapes=this._shapes;this._shapes=null},cancel:function e(){if(this.handler._disableSelections)return true;this._nrEditing=0;this._editing=false;var t=this.getActiveMode();"range.discrete"===t&&this.setActiveMode("item");this._shapes=null;E.call(this)},clearSelection:function e(t){t=t||false;this._shapes=null;if(t)this._super();else{this._super();E.call(this)}},selectRange:function e(){var t=this.handler.SelectRange,n=[],i=false;if(!this.activeComponent)return;if("range.discrete"===this.getActiveMode()){var r=this._previousSelectedShapes,o=this.getSelectedShapes().concat();r.forEach(function(e){var t=o.indexOf(e);-1===t&&o.push(e)});o.length>0&&this.handler.Select.emit(o);return}p.x.concat(p.y).forEach(function(e){e.component.getType().current.forEach(function(t){n.push({idx:t,type:e.component.getType().type,range:A(e.startVal,e.updateVal,e.maxIncluded)})})});i=!C.call(this);this._editing||t.emit(n,i)},on:function e(){if(!s){var n=t.getService("$compile");var i=t.getService("$rootScope");h=i.$new();d.className="selections-range-ui";c.append(f);c.hide();n(d)(h);s=true;h.rangeSelectIsVisible=false}h.$broadcast("on")},off:function e(){if(!this.activeComponent)return;h.$broadcast("off");this.setActiveComponent(null);E.call(this)}});a.defaultOptions={toggle:{callback:null}};return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(96),n(48),n(146),n(664),n(665)],r=function(e,t,n,i){var r=".rangeselection";function o(e,t,i,r){var o=[];o[t]="y"===i?new n(e[t].x,e[t].y+r):new n(e[t].x+r,e[t].y);o[1^t]=e[1^t];return o}function a(e){e.$emit("rangeStart")}function s(e,t,n,i,r){e.$emit("rangeUpdate",t,n,i,r)}function l(e,t){e.$emit("rangeEnd",t)}function u(e,t,n){return t?e[0][n]>e[1][n]?0:1:e[0][n]<e[1][n]?0:1}function c(t,n,i,c){var d,f,p=i?"x":"y",h;e(n).tap({id:r,options:{preventDefault:true},start:function t(){e.preventGestures(this.gestureHandler)}}).swipe({id:r,options:{radiusThreshold:0},start:function n(){f=u(t.range.points,c,p);d=t.range.points;e.preventGestures(this.gestureHandler);a(t)},update:function e(n,r){t.range.points=o(d,f,p,i?r.swipe.deltaX:r.swipe.deltaY);t.$digest();t.range.far=false;t.range.near=false;h=u(t.range.points,c,p)^!i?"far":"near";t.range[h]=true;s(t,t.range.points,p,t.$index,false)},end:function e(){l(t,t.range.points);t.range.near=false;t.range.far=false}})}function d(t,n){if(t.isOn)return;t.isOn=true;var i="hey";e(t.axisCover).tap({id:r,options:{preventDefault:true},start:function t(){e.preventGestures(this.gestureHandler)},end:function e(t,i){n.$emit("rangeToggle",t,i.pagePoints[0])}}).swipe({id:r,options:{preventDefault:true},start:function t(){i=n.range.points;e.preventGestures(this.gestureHandler);a(n);n.range.cover=true},update:function e(r,o){"y"===t.dir?n.range.points=[{x:i[0].x,y:i[0].y+o.swipe.deltaY},{x:i[1].x,y:i[1].y+o.swipe.deltaY}]:n.range.points=[{x:i[0].x+o.swipe.deltaX,y:i[0].y},{x:i[1].x+o.swipe.deltaX,y:i[1].y}];n.$digest();s(n,n.range.points,t.dir,n.$index,true)},end:function e(){l(n,n.range.points);n.range.cover=false}});if(!e.utils.touch){var o="x"===t.dir;c(n,t.farEdge,o,o);c(n,t.nearEdge,o,!o)}}function f(t){e(t.axisCover).off("*",r);e(t.farEdge).off("*",r);e(t.nearEdge).off("*",r);t.isOn=false}t.directive("qvaRangeSelectionRange",function(){return{scope:false,link:function e(t,n,i){var r={isOn:false,dir:i.qvaRangeSelectionRange,axisCover:n.find(".axis-cover")[0],farEdge:n.find(".far-edge")[0],nearEdge:n.find(".near-edge")[0]};d(r,t);t.$on("on",function(){d(r,t)});t.$on("off",function(){f(r)});t.$on("$destroy",function(){f(r)})}}});t.directive("qvaRangeSelection",function(){return{template:i,replace:true,scope:{vOptions:"=",hOptions:"=",vRanges:"=",hRanges:"=",activeComponent:"=",hComponent:"=",vComponent:"=",visible:"="},link:function e(t){t.vRelevantSize=0;t.hRelevantSize=0;t.activeOptions={y:{far:false,near:false,cover:false},x:{far:false,near:false,cover:false}};t.setRangeStyle=function(e,t,n){if(!t||!n)return;t.forEach(function(t){var n=t.points[0],i=t.points[1];t.style="y"===e?{height:Math.abs(n[e]-i[e]),top:Math.min(n[e],i[e])}:{width:Math.abs(n[e]-i[e]),left:Math.min(n[e],i[e])}})};t.$watchCollection("[vRanges, vOptions]",function(e){t.setRangeStyle("y",e[0],e[1])});t.$watchCollection("[hRanges, hOptions]",function(e){t.setRangeStyle("x",e[0],e[1])});t.$watch("hOptions",function(e){e&&t.setRelevantSize("x",e.rect.height)});t.$watch("vOptions",function(e){e&&t.setRelevantSize("y",e.rect.width)});t.setRelevantSize=function(e,n){if("x"===e){t.hRelevantSize={height:n+"px"};t.hWrappperSize={height:"calc(100% - "+n+"px)"}}else{t.vRelevantSize={width:n+"px"};t.vWrappperSize={width:"calc(100% - "+n+"px)"}}}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qvt-range-selection">\n\t<div class="range-vertical-clip" ng-style="{ top: vOptions.offset, height: vOptions.rect.height }" ng-class="{ clip: vOptions.shouldClip }">\n\t\t<div class="range-vertical"\n\t\t\t ng-repeat="range in vRanges track by $index"\n\t\t\t qva-range-selection-range="y"\n\t\t\t ng-class="{\'near\': vOptions.dock == \'left\', \'far\' : vOptions.dock == \'right\'}"\n\t\t\t ng-style="range.style">\n\t\t\t<div class="range">\n\t\t\t\t<div class="axis-cover" ng-style="vRelevantSize" tid="range-vertical-cover" ng-class="{\'active\' : range.cover}"></div>\n\t\t\t</div>\n\t\t\t<div class="far-edge" tid="range-vertical-far" ng-class="{\'active\' : range.near}">\n\t\t\t</div>\n\t\t\t<div class="near-edge" tid="range-vertical-near" ng-class="{\'active\' : range.far}">\n\t\t\t</div>\n\t\t\t<div class="outer-bubble-wrapper" ng-style="vWrappperSize">\n\t\t\t\t<qva-range-selection-bubble tid="range-vertical-near-bubble" visible="visible" active-component="vComponent" handle-points="range.points" range-index="$index" horizontal="false" far="false" data="range.values.start" active="range.far"> </qva-range-selection-bubble>\n\t\t\t\t<qva-range-selection-bubble tid="range-vertical-far-bubble" visible="visible" active-component="vComponent" handle-points="range.points" range-index="$index" horizontal="false" far="true" data="range.values.end" active="range.near"> </qva-range-selection-bubble>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="range-horizontal-clip" ng-style="{ left: hOptions.offset, width: hOptions.rect.width }" ng-class="{ clip: hOptions.shouldClip }">\n\t\t<div class="range-horizontal"\n\t\t\t ng-repeat="range in hRanges track by $index"\n\t\t\t qva-range-selection-range="x"\n\t\t\t ng-class="{\'near\': hOptions.dock == \'bottom\', \'far\' : hOptions.dock == \'top\'}"\n\t\t\t ng-style="range.style">\n\t\t\t<div class="range">\n\t\t\t\t<div class="axis-cover" ng-style="hRelevantSize" tid="range-horizontal-cover" ng-class="{\'active\' : range.cover}"></div>\n\t\t\t</div>\n\n\t\t\t<div class="far-edge" tid="range-horizontal-far" ng-class="{\'active\' : range.far}">\n\t\t\t</div>\n\t\t\t<div class="near-edge" tid="range-horizontal-near" ng-class="{\'active\' : range.near}">\n\t\t\t</div>\n\t\t\t<div class="outer-bubble-wrapper" ng-style="hWrappperSize">\n\t\t\t\t<qva-range-selection-bubble tid="range-horizontal-near-bubble" visible="visible" active-component="hComponent" handle-points="range.points" range-index="$index" horizontal="true" far="false" data="range.values.start" active="range.near"> </qva-range-selection-bubble>\n\t\t\t\t<qva-range-selection-bubble tid="range-horizontal-far-bubble" visible="visible" active-component="hComponent" handle-points="range.points" range-index="$index" horizontal="true" far="true" data="range.values.end" active="range.far"> </qva-range-selection-bubble>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96),n(48),n(666)],r=function(e,t,n,i){var r=".rangeselection";function o(e){e.$emit("rangeStart")}function a(e,t){e.editing=t;e.$emit("rangeEditChanged",t)}function s(e,t,n,i,r){e.$emit("rangeUpdate",t,n,i,false,r)}function l(e,t){e.$emit("rangeEnd",t)}function u(){e(this).css("width",6*e(this).val().length+50+"px")}n.directive("qvaRangeSelectionBubble",["$timeout",function(e){return{template:i,replace:true,restrict:"E",scope:{data:"=",active:"=",far:"=",horizontal:"=",activeComponent:"=",handlePoints:"=",visible:"=",rangeIndex:"="},link:function n(i,c){var d=c.find(".range-input"),f=c.find(".range-bubble"),p={},h=false;i.$watch("activeComponent",function(){i.editable=i.activeComponent&&!i.activeComponent.isDimension&&!i.activeComponent.isDiscrete()&&"function"===typeof i.activeComponent.getPositionOfValue;if(i.editable){d.removeClass("non-editable");f.removeClass("non-editable")}else{d.addClass("non-editable");f.addClass("non-editable")}});i.endEditing=function(){i.invalid=false;if(i.editing){a(i,false);d.blur()}};i.$watch("data.value",function(e){if(Number.isNaN(+e)){i.invalid=true;return}i.editing&&i.endEditing();d.val(e)});i.$watch("visible",function(){i.visible||i.endEditing()});i.$on("off",function(){i.endEditing();t(d[0]).off("*",r);t(f[0]).off("*",r);c.off("keyup"+r,"*");h=false});i.onEditBubble=function(){i.editing=true;d.css("width",f.width());i.$digest();d.focus();d[0].setSelectionRange(0,9999);i.$digest();e(function(){u.call(d)})};function v(){if(h)return;h=true;t(d[0]).tap({id:r,options:{preventDefault:false},start:function e(){t.preventGestures(this.gestureHandler)}});t(f[0]).tap({id:r,start:function e(){t.preventGestures(this.gestureHandler)},end:function e(){if(!i.editable||i.editing)return;a(i,true);i.onEditBubble()}}).swipe({id:r,start:function e(){p=[{x:i.handlePoints[0].x,y:i.handlePoints[0].y},{x:i.handlePoints[1].x,y:i.handlePoints[1].y}];t.preventGestures(this.gestureHandler);o(i)},update:function e(t,n){var r=i.far?1:0,o,a,l,u;if(i.horizontal){o=n.swipe.deltaX;a="x"}else{o=n.swipe.deltaY;a="y"}l=p[1^r][a];u=p[r][a]+o;if(0===r&&(i.horizontal&&u>l||!i.horizontal&&u<l)){r=1;l=p[1][a]}else if(1===r&&(i.horizontal&&u<l||!i.horizontal&&u>l)){r=0;l=p[0][a]}i.handlePoints[r][a]=u;i.handlePoints[1^r][a]=l;i.$digest();s(i,i.handlePoints,a,i.rangeIndex)},end:function e(){l(i,i.handlePoints)}});d.keyup(u);i.onEditConfirmed=function(){if(!i.editing)return;var e=d.val(),t={value:parseFloat(e),index:i.far?1:0,switch:false},n=i.activeComponent.getPositionOfValue(t.value),r,o,a=i.handlePoints;if(Number.isNaN(+t.value))i.invalid=true;else{o=i.horizontal?"x":"y";a[t.index][o]=n;if(i.horizontal&&a[1][o]<a[0][o]||!i.horizontal&&a[1][o]>a[0][o]){r=a[1][o];a[1][o]=a[0][o];a[0][o]=r;t.index=t.index?0:1;t.switch=true}i.endEditing();s(i,i.handlePoints,o,i.rangeIndex,t);l(i,i.handlePoints)}i.$digest()};i.$on("confirmEdit",i.onEditConfirmed)}i.$on("on",v);v()}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="bubble-wrapper" ng-class="{\'far\' : far, \'near\' : !far}">\n\t<div ng-show="!editing" qva-direction x-dir-text="{{data.text}}" class="bubble range-bubble" ng-class="{\'active\' : active}">{{data.text}}</div>\n\t<input ng-show="editing" type="text" ng-class="{\'active\' : active, \'invalid\': invalid}" class="bubble range-input"/>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(668)],r=function(e){var t;t=e.extend({setIsEditing:function e(t,n){this._editing=t;this._scope=n},getIsEditing:function e(){return this._editing},confirmEdit:function e(){this._scope.$broadcast("confirmEdit")},selectWhileLocked:function e(t){this.handler.SelectWhileLocked.emit(t)}});t.defaultOptions={captureInput:true,toggle:{callback:null}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(266),n(104)],r=function(e,t){var n;function i(e,t){var n,i,r=t[0],o=false;for(n=0;n<e.length;n++){i=e[n];if(i.startVal===r.startVal&&i.updateVal===r.updateVal){e.splice(n,1);n--;o=true}}o||(e=e.concat(t));return e}n=e.extend({init:function e(t,n){this._super(t,n);this.internal=true},release:function e(){},initComponent:function e(t,n){document.activeElement&&document.activeElement.blur();if(n)this.setActiveComponent(n);else{this.handler.refreshContainerRect();this.setActiveComponent(this.getComponent(t.x,t.y,this.handler.containerRect))}},getRect:function e(n){if(!n)return new t(0,0,0,0);return n.hasOwnProperty("innerRect")?n.innerRect:n.rect},setComponent:function e(t,n){this._super(t,n);var i=Array.isArray(n)?n.concat():[n];i.forEach(function(e){e.selections=this;this.handler._isListening&&n.on()},this)},addComponent:function e(t,n){this._super(t,n);n.selections=this;this.handler._isListening&&n.on()},removeComponent:function e(t,n){this._super(t,n);n.selections=null;n.off()},updateFromItems:function e(t,n,i,r){var o=this.handler,a=this;if(!o.canTypeBeActivated(this)){o.SelectWhileLocked.emit(i?this.activeComponent.getAttributeDimensionInfo():void 0);return}this.resetSelectedShapes();this.setActiveMode(i?"item"+this.activeComponent.getColorMap().getColorDataInfo().legendPath.replace(/\//g,"."):"item");o.activate(this);i&&o.SelectAttributeDim.emit(r,o.getKeyAsToggleSelected(t));n=n.filter(function(e){return a._allowNullSelect||!a.shapesFrom._isNull(e,a.activeComponent.getSelectionIndices())});if(n.length){var s=this.options.toggle.callback||this.toggleSelection;s.call(this,n);i||o.Select.emit(this.getSelectedShapes(),o.getKeyAsToggleSelected(t))}},rangeStart:function e(t){var n=this.handler;if(!n.canTypeBeActivated(this)){n.SelectWhileLocked.emit();return}this.setActiveMode("range.measure");n.activate(this);t&&this.resetSelectedShapes()},rangeUpdate:function e(t,n){var r=this.handler;if(!r.canTypeBeActivated(this)){r.SelectWhileLocked.emit();return}var o=this.options.toggle.callback||this.toggleSelection,a=[],s,l=this.ToggleFlag.select;this.clearSelection(true);this._rangeObjects&&n&&(t=i(this._rangeObjects,t));for(s=0;s<t.length;s++){var u=t[s];a=a.concat(this.shapesFromRange(u.startVal,u.updateVal,true,u.isMax))}a.forEach(function(e){e.selectionMode="range.measure"});o.call(this,a,l);this._rangeObjects=t;this._shapes=a},rangeEnd:function e(){this.selectRange();this._shapes=null},toggle:function e(){},cancel:function e(){this._rangeObjects=null;this.activeComponent.cancelSelection()},clearSelection:function e(t){this._super();if(!t){this._rangeObjects=null;this.activeComponent.clearSelection()}},selectRange:function e(){var t=this.handler.SelectRange,n,i,r=[];if(!this._rangeObjects)return;for(n=0;n<this._rangeObjects.length;n++){i=this._rangeObjects[n];r.push({idx:i.idx||0,range:{min:Math.min(i.startVal,i.updateVal),max:Math.max(i.startVal,i.updateVal),maxInclEq:!!i.isMax}})}t.emit(r,true)}});n.defaultOptions={};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(48),n(10),n(91),n(106),n(101),n(670)],r=function(e,t,n,i,r,a){function s(e){if("object"===o(e)){e=e.qStringExpression.qExpr;"="!==e[0]&&(e="="+e)}return e}function l(e){if(e&&0===e.indexOf("="))return{qStringExpression:{qExpr:e}};return e}e.directive("qvInlineTitleInput",[function(){return{priority:1,require:"ngModel",link:function t(n,i,r,o){i.unbind("input keydown change compositionend");i.bind("blur",function(){e.$apply(n,function(){o.$setViewValue(i.val());n.doEdit()})});n.$on("$destroy",function(){i.trigger("blur")});i.bind("keydown",function(e){e.stopPropagation();if(27===e.which){i.val(o.$viewValue);i.trigger("blur")}else 13===e.which&&"textarea"!==i[0].nodeName.toLowerCase()&&i.trigger("blur")})}}}]);e.directive("qvInlineTitleEdit",["$timeout",function(e){return{template:a,restrict:"A",scope:{model:"=",propertyPath:"@",layoutPath:"@",emptyTranslation:"@",dirSetting:"@"},priority:1,link:function o(a,u){var c=u.children().first(),d=u.children().eq(1),f=u.children().eq(2);a.editing=false;a.titleProperty="";a.titleValue="";a.addTranslation=n.get(a.emptyTranslation);i(a,"model",function(e){a.displayValue=r.getValue(e,a.layoutPath);a.editing=false});a.doEdit=function(){var e=l(a.titleValue);a.editing&&(t.equals(p,e)?a.editing=false:a.model.getProperties().then(function(t){r.setValue(t,a.propertyPath,e);a.model.setProperties(t);p=e}))};var p;c.add(d).on("qv-activate",function(){a.editing||a.model.getProperties().then(function(t){var n=f.get(0);var i=r.getValue(t,a.propertyPath);var o=s(i);var l=o.length;if(o.indexOf("\n")>-1)return;a.editing=true;a.titleProperty=i;a.titleValue=o;p=a.titleProperty;n.scrollLeft=n.scrollWidth;n.selectionStart=l;n.selectionEnd=l;e(function(){n.focus();n.setSelectionRange(l,l)})})})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div ng-show="!editing && displayValue == \'\'" class="qv-inline-edit-button">\n\t<div qva-direction x-dir-setting="{{dirSetting}}" class="add-content" q-title-translation="{{emptyTranslation}}">\n\t\t<span class="lui-icon lui-icon--plus"></span>\n\t\t<span class="add-text" qva-direction x-dir-text="{{addTranslation}}" title="{{addTranslation}}">{{addTranslation}}</span>\n\t</div>\n</div>\n<div qva-direction x-dir-setting="{{dirSetting}}" x-dir-text="{{displayValue}}" ng-show="!editing && displayValue != \'\'" class="qv-inline-edit-value">{{displayValue}}</div>\n<input qva-direction x-dir-setting="{{dirSetting}}" x-dir-text="{{displayValue}}" ng-show="editing" class="qv-inline-edit-input" type="text" ng-model="titleValue" qv-inline-title-input maxlength="255"/>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(1090),n(1091),n(49),n(2)],r=function(e,t,i,r){function o(e){var t=n.p+e;return r.get(t,{responseType:"json"}).then(function(e){if(e.data)return e.data;console.warn("Parsing error for extension: "+t);return{}}).catch(function(e){console.warn("Couldn't get bundled extensions qext: "+t+". Error: "+e);return{}})}var a={};a.getDashBundleList=function(){var t=e.content.map(function(e){if("qlik-share-button"===e.id&&!i.getFlag("SHARE_BUTTON_EXTENSION"))return;return o("_dashboard-bundle/"+e.id+"/"+e.id+".qext").then(function(t){t.folder="_dashboard-bundle";return{id:e.id,data:t,path:"_dashboard-bundle/"+e.id+"/"+e.id}})});return t.filter(function(e){return e})};a.getVisBundleList=function(){var e=t.content.map(function(e){if(!i.getFlag("VIZBUN_QCS_SMARTPIVOT")&&"qlik-smart-pivot"===e.id)return;if(!i.getFlag("VIZBUN_QCS_TRELLIS")&&"qlik-trellis-container"===e.id)return;if(!i.getFlag("VIZBUN_QCS_31")&&("qlik-barplus-chart"===e.id||"qlik-bullet-chart"===e.id))return;return o("_visualization-bundle/"+e.id+"/"+e.id+".qext").then(function(t){t.folder="_visualization-bundle";return{id:e.id,data:t,path:"_visualization-bundle/"+e.id+"/"+e.id}})});return e.filter(function(e){return e})};return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="q-card-header-container" qva-direction x-dir-setting="{{direction}}">\n\t<div class="q-card-header">\n\t\t<span q-translation="ObjectInfo.Dialog.Header"></span>\n\t</div>\n\t<div>\n\t\t<button class="lui-fade-button close-button" q-title-translation="Common.Close" qva-activate="close()">\n\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--close"></span>\n\t\t</button>\n\t</div>\n</div>\n<div class="content"></div>'},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(113),n(311),n(181),n(49),n(329),n(11),n(674)],r=function(e,t,n,i,r,a){function s(e){var t=e.cells;var i=e.rows;var r=e.columns;t.forEach(function(t){if(!t.bounds){var o={};t.bounds=o;o.y=t.row/i*100;o.x=t.col/r*100;o.width=t.colspan/r*100;o.height=t.rowspan/i*100}n.alignToGrid(e,t)})}function l(e){return e.layoutOptions&&e.layoutOptions.sheetMode?e.layoutOptions.sheetMode:"RESPONSIVE"}function u(e){var n=l(e);if(n&&"RESPONSIVE"!==n){if("CUSTOM"===n){e.rows=t.getCustomRows(e);e.columns=t.getCustomCols(e)}}else{e.height?e.rows=Math.ceil(t.getResolutionFor(e.gridResolution)*e.height/100):e.rows=t.getResolutionFor(e.gridResolution);e.columns=2*t.getResolutionFor(e.gridResolution)}s(e)}var c={type:"items",component:"accordion",defaultActiveTabIndex:0,items:{sheetProps:{type:"items",translation:"properties.sheetProperties",items:{title:{type:"string",ref:"qMetaDef.title",translation:"Common.Title",minlength:1,readOnly:function e(t,n,i){var r=i.layout;return r&&(r.permissions&&!r.permissions.update||r.qMeta&&r.qMeta.sourceObject&&r.qMeta.sourceObject.length>0)},rollbackInvalid:true},labelExpression:{type:"string",ref:"labelExpression",translation:"properties.titleExpression",readOnly:function e(t,n,i){var r=i.layout;return r&&(r.permissions&&!r.permissions.update||r.qMeta&&r.qMeta.sourceObject&&r.qMeta.sourceObject.length>0)},rollbackInvalid:true,expression:"optional",show:e.SHEET_NAME_EXPR},description:{type:"string",component:"textarea",expression:"optional",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},change:function e(t,n,i){if("object"===o(i.qMetaDef.description)){i.descriptionExpression=i.qMetaDef.description;i.qMetaDef.description=""}else if("string"===typeof i.descriptionExpression&&i.descriptionExpression){i.qMetaDef.description=i.descriptionExpression;i.descriptionExpression=void 0}},refFn:function e(t){var n="object"===o(t.descriptionExpression);return n?"descriptionExpression":"qMetaDef.description"},translation:"Common.Description"},items:{type:"items",grouped:true,items:{thumbnail:{translation:"properties.sheetProperties.thumbnail",type:"string",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},component:"sheet-thumbnail",defaultValue:""},gridSize:{translation:"properties.gridSize",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},type:"string",component:"dropdown",ref:"gridResolution",defaultValue:t.getPreferredGridSize,options:[{value:"small",translation:"properties.gridSmall"},{value:"medium",translation:"properties.gridMedium"},{value:"large",translation:"properties.gridLarge"}],show:function e(n){n.gridResolution||(n.gridResolution=t.getResolutionFor(n.rows));s(n);return true},change:function e(n){t.setPreferredGridSize(n.gridResolution);u(n);s(n);if(i.getFlag("SSA_IN_EDIT")){var r=a("#grid");r.addClass("reveal-gridguides");r.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){a(this).removeClass("reveal-gridguides")})}}},sheetSizeOptions:{type:"items",ref:"grid",items:{layout:{type:"items",items:{LayoutMode:{translation:"properties.layoutMode",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},type:"string",component:"dropdown",ref:"layoutOptions.sheetMode",defaultValue:"RESPONSIVE",options:[{value:"RESPONSIVE",translation:"properties.responsive"},{value:"CUSTOM",translation:"properties.custom"}],change:function e(t){u(t)}},sheetSize:{type:"items",show:function e(t){return"CUSTOM"===l(t)},readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},items:{width:{readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},defaultValue:1280,ref:"pxWidth",type:"integer",translation:"properties.customWidth",change:function e(n){n.pxWidth=t.checkSheetPixelLimits(n.pxHeight,n.pxWidth).pxWidth;u(n)}},height:{readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},defaultValue:1024,ref:"pxHeight",type:"integer",translation:"properties.customHeight",change:function e(n){n.pxHeight=t.checkSheetPixelLimits(n.pxHeight,n.pxWidth).pxHeight;u(n)}}}}}},mobileLayout:{translation:"properties.mobileLayout",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},component:"dropdown",type:"string",ref:"layoutOptions.mobileLayout",defaultValue:"LIST",show:function e(t){return i.getFlag("MOBILE_GRID")&&"CUSTOM"!==l(t)},options:[{value:"LIST",translation:"properties.listView"},{value:"GRID",translation:"properties.gridView"}],change:function e(n){t.setPreferredMobileLayout(n.layoutOptions.mobileLayout)}},ExtendSheet:{translation:"properties.extendSheet",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},show:function e(t){return!("CUSTOM"===l(t))},type:"boolean",component:"switch",ref:"layoutOptions.extendable",defaultValue:"false",options:[{value:false,translation:"properties.off"},{value:true,translation:"properties.on"}],change:function e(t){t.height||(t.height=100);t.layoutOptions.sheetMode||(t.layoutOptions.sheetMode="RESPONSIVE");u(t)}}}}}},expandButton:{translation:"Expand sheet",component:"button",action:function e(n,i,r,o){if(n.height){n.height+=50;n.rows=Math.ceil(t.getResolutionFor(n.gridResolution)*n.height/100)}else{n.height=150;n.rows=1.5*t.getResolutionFor(n.gridResolution)}o.$emit("saveProperties",n)},show:function t(){return e.SCROLL_BUTTON},readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update}},CollapseButton:{translation:"Collapse sheet",component:"button",action:function e(n,i,r,o){if(n.height){n.height-=50;n.rows=Math.ceil(t.getResolutionFor(n.gridResolution)*n.height/100)}else{n.height=100;n.rows=t.getResolutionFor(n.gridResolution)}o.$emit("saveProperties",n)},show:function t(){return e.SCROLL_BUTTON},readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update}}}}}};i.getFlag("ALT_STATE_ONE")&&(c.items.alternateState=r);return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(165),n(121),n(675)],r=function(e,t,n){var i={template:n,controller:["$scope",function(e){var n=function t(){return e.data};t.defineLabel(e,e.definition,n,e.args.handler);t.defineReadOnly(e,e.args.handler);e.item={qData:e.data,qMeta:{published:e.args.model.layout.qMeta.published}};e.save=function(){e.$emit("saveProperties")};e.$on("thumbnailchanged",function(){e.save()});e.$on("layoutchanged",function(t,n){e.thumbLayout={thumbnail:n.thumbnail}});e.thumbLayout={thumbnail:e.args.model.layout.thumbnail}}]};e.addComponent("sheet-thumbnail",i);return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="pp-component pp-media-component pp-sheet-thumbnail-component" tcl="media">\n\t<div class="label" ng-if="label">{{label}}</div>\n\t<div class="value">\n\t\t<div class="placeholder">\n\t\t\t<div qv-ao-thumb item="item" issheet="true" thumbprop="data.thumbnail" thumblayout="thumbLayout.thumbnail" editmode="!readOnly" thumb-width="221" thumb-height="128" emitchanges="true"></div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(677),n(94),n(107),n(150),n(166),n(11),n(161),n(100),n(91),n(145),n(268),n(211),n(241),n(209),n(296),n(298),n(730),n(740),n(350)],r=function(e,t,n,i,r,o,a,s,l,u){var c;function d(e){var t=o.validateExpr(e.measure,i),n;n=o.validateMetadataName(e.measure,i);var r=e.measure.validity;return n&&t&&r.labelExpression&&r.description}function f(e){return{name:e.measure.name,description:e.measure.description,tags:e.measure.tags,expr:e.measure.expression,baseColor:e.measure.coloring.baseColor,gradient:e.measure.coloring.gradient,labelExpression:e.measure.labelExpression,descriptionExpression:e.measure.descriptionExpression}}var p={scope:{title:"=",confirmLabel:"=",measure:"="},template:t,controller:["$scope","$timeout",function(t,p){t.theme=l;Object.defineProperty(t,"color",{get:function e(){return t.theme.resolveColor(t.measure.coloring.baseColor)},set:function e(n){var i="undefined"!==typeof n.color?n.color:n;var r="undefined"!==typeof n.index?n.index:t.theme.currentPalette.indexOf(n);t.measure.coloring.baseColor={color:i,index:r}}});t.measure.validity={};t.measure.validity.expression=true;t.measure.validity.description=true;t.measure.validity.name=true;t.measure.validity.labelExpression=true;t.measure.name=s.trimAutoCalendarName(t.measure.name);t.stringLimits=i;t.cancel=function(){t.destroyComponent()};t.confirm=function(){t.measure.updateTags();if(d(t)){c.close();var n=f(t);t.callback(n);if(n.gradient){var i=e.getService("qvRecentGradientsService"),r="absolute"!==n.gradient.limitType,o=n.gradient,a,s=i.getTemplates(),l=s.some(function(e){var t=true;o.limits.length!==e.limits.length&&(t=false);t&&o.colors.forEach(function(n,i){n!==e.colors[i]&&(t=false)});t&&o.limits.forEach(function(n,i){n!==e.limits[i]&&(t=false)});t&&o.breakType.forEach(function(n,i){n!==e.types[i]&&(t=false)});r!==e.percentage&&(t=false);return t});if(!l){a=u.get("library.colors.recent",1);s.map(function(e){return parseInt(e.name.replace(/\D/g,""))||0}).sort(function(e,t){return t-e}).every(function(e){a=u.get("library.colors.recent",e+1);return false});i.pushTemplate({name:a,colors:n.gradient.colors.slice(),limits:r?n.gradient.limits.slice():i.convertAbsLimits(n.gradient.limits),types:n.gradient.breakType.slice(),percentage:r})}}}};n.StateChanged.bind(t.cancel);t.openInExpressionDialog=function(e){e.preventDefault();r.show({expr:t.measure.expression,title:t.measure.expression?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"}).then(function(e){t.measure.expression=e})};t.$watch("measure.expression",function(){t.measure.validity.expression||o.validateExpr(t.measure,i)});t.$watch("measure.name",function(){t.measure.validity.name||o.validateMetadata(t.measure,i)});t.$on("$destroy",function(){n.StateChanged.unbind(t.cancel)});t.simFocus=false;p(function(){a("#measure-dialog-expression-area").on("focus",function(){t.simFocus=true;e.$apply(t)}).on("blur",function(){t.simFocus=false;e.$apply(t)})})}]};function h(t){var n=t.coloring?t.coloring.baseColor:t.baseColor;var i=t.gradient;var r={title:t.title,confirmLabel:t.confirm,measure:{expression:t.expr,name:t.name,labelExpression:t.labelExpression,description:t.description,descriptionExpression:t.descriptionExpression,tags:t.tags,coloring:{baseColor:{color:n&&n.color?n.color:"none",index:n&&n.index?n.index:-1}}},add:t.add,callback:t.callback};i&&(r.measure.coloring.gradient={colors:i.colors.map(function(e){return l.resolveColor(e)}),breakType:i.breakTypes,limitType:i.limitType,limits:i.limits});c=e.getService("luiDialog").show({template:p.template,controller:p.controller,input:r,closeOnOutside:false,showArrow:false});return c}return{show:h}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-modal-background"></div>\n<div class="lui-dialog measure-dialog-wrapper" name="measureDialog">\n\t<lui-tab-view class="measure-tab-view">\n\t\t<div class="lui-dialog__header">\n\t\t\t<lui-tabset fill="true">\n\t\t\t\t<lui-tab q-title-translation="{{title}}" q-translation="{{title}}" ref="tab1" tid="create-tab"></lui-tab>\n\t\t\t\t<lui-tab ng-if="!input.add" q-title-translation="library.colors.segmentColors" q-translation="library.colors.segmentColors" ref="tab2" tid="segment-tab"></lui-tab>\n\t\t\t</lui-tabset>\n\t\t</div>\n\t\t<div class="lui-dialog__body">\n\t\t\t<lui-tab-content ref="tab1">\n\t\t\t\t<qv-edit-measure></qv-edit-measure>\n\t\t\t</lui-tab-content>\n\t\t\t<lui-tab-content ref="tab2">\n\t\t\t\t<qv-segment-colors ng-model="measure.coloring.gradient"></qv-segment-colors>\n\t\t\t</lui-tab-content>\n\t\t</div>\n\t</lui-tab-view>\n\t<div class="lui-dialog__footer">\n\t\t<button class="lui-button close-button" ng-click="cancel()" name="cancelButton" q-translation="Common.Cancel" data-tid="close-btn"></button>\n\t\t<button class="lui-button close-button" ng-click="$event.preventDefault(); confirm()" name="confirmButton" q-translation="{{confirmLabel}}" data-tid="create-btn"></button>\n\t</div>\n</div>'},function(e,t){e.exports='<lui-dialog id="expression-editor-wrapper">\t\n\t<lui-dialog-header class="expression-editor-toolbar">\n\t\t<span class="expression-editor-toolbar-title" q-translation="{{input.title}}"></span>\n\t\t<div class="expression-editor-toolbar-buttons">\t\t\n\t\t\t<button ng-if="isAdvancedPart3" class="lui-fade-button expression-editor-undo-button" \n\t\t\t\t\tdata-name="undo" ng-disabled="undoDisabled || !codearea.contextApi.canUndo" \n\t\t\t\t\tng-click="onUndo()" q-title-translation="Common.Undo" disabled="disabled" title="Undo">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--back"></span>\n\t\t\t</button>\n\t\t\t<button ng-if="isAdvancedPart3" class="lui-fade-button expression-editor-redo-button" \n\t\t\t\t\tdata-name="redo" ng-disabled="redoDisabled || !codearea.contextApi.canRedo" \n\t\t\t\t\tng-click="onRedo()" q-title-translation="Common.Redo" disabled="disabled" title="Redo">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--forward"></span>\n\t\t\t</button>\t\t\t\t\t\n\t\t\t<button\n\t\t\t\tclass="lui-fade-button expression-editor-help-button"\n\t\t\t\tdata-name="help-mode"\n\t\t\t\tng-class="{\'lui-active\': controller.helpmodeActive}"\n\t\t\t\tng-click="onHelpmode()"\n\t\t\t\tq-title-translation="Tooltip.HelpMode.Enter">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--help"></span>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tclass="lui-fade-button"\n\t\t\t\tqva-activate="$event.preventDefault(); close()"\n\t\t\t\tdata-name="close">\n\t\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--close" q-title-translation="Common.Close"></span>\n\t\t\t</button>\t\t\t\t\n\t\t</div>\t\n\t</lui-dialog-header>\t\n\t<lui-dialog-body class="expression-editor-body" qv-cancel="cancel()" qv-confirm="confirm()">\n\t\t<section id="expression-editor-panel" class="qribby-accordion-pp">\n\t\t\t<div class="qv-expandable-list-wrapper" qv-expandable-list></div>\t\t\t\n\t\t</section>\n\t\t<section id="expression-editor-content">\n\t\t\t<main class="dm-main">\n\t\t\t\t<div id="expression-editor-container">\n\t\t\t\t\t<div id="expression-editor-stage" data-help="Panel.Stage" ng-class="{ invalid: !validity.expression }">\n\t\t\t\t\t\t<qv-codearea\n\t\t\t\t\t\t\t\tdata-show-breakpoint-gutter="true"\n\t\t\t\t\t\t\t\tdata-disabled="controller.helpmodeActive"\n\t\t\t\t\t\t\t\tdata-resize-trigger="resizeCounter"\n\t\t\t\t\t\t\t\tdata-mode="qlikviewReloadScriptMode"\n\t\t\t\t\t\t\t\tclass="expression-dialog-code-mirror"\n\t\t\t\t\t\t\t\tqva-outside-ignore-for="allOutside"\n\t\t\t\t\t\t\t\tqv-codearea-code-container="codearea"\n\t\t\t\t\t\t\t\tqv-codearea-exposed-context-api="codearea.contextApi"\n\t\t\t\t\t\t\t\tqv-codearea-function-tip="functionTipOptions"\n\t\t\t\t\t\t\t\tqv-codearea-limit="stringLimits.expression"\n\t\t\t\t\t\t\t\tqv-codearea-autocomplete="autocompleteOptions"\n\t\t\t\t\t\t\t\tqv-codearea-help-mode="controller.helpmodeActive"\n\t\t\t\t\t\t\t\tqv-codearea-help-mode-options="helpModeOptions"\n\t\t\t\t\t\t\t\tqva-activate="closePopoverIfOpen($event)"\n\t\t\t\t\t\t></qv-codearea>\n\t\t\t\t\t\t<div class="ee-information-wrapper">\n\t\t\t\t\t\t\t<div class="row-number-fill"></div>\n\t\t\t\t\t\t\t<div class="ee-information">\n\t\t\t\t\t\t\t\t<qv-information-area x-info="info" x-app="input.app" x-mode="input.mode" x-labels="input.labels"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t</main>\n\t\t</section>\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<button class="lui-button close button" ng-click="cancel()" name="cancelButton" q-translation="Common.Cancel">Cancel</button>\n\t\t<button class="lui-button confirm button" ng-click="confirm()"  qv-confirm="confirm()" name="confirmButton" q-translation="Common.Apply">Confirm</button>\n\t</lui-dialog-footer>\n</lui-dialog>'},function(e,t){e.exports='<div class="expression-editor-section">\n    \x3c!-- TABLE DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-table">\n        <label q-translation="Assets.FieldsTab.Table"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="tables"\n            tid="table-dropdown"\n            title="{{controller.selectedTable.label}}">\n            <div class="label">\n                {{controller.selectedTable.label}}\n            </div>\n        </button>\n    </div>\n   \x3c!-- FIELD DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-field">\n        <label q-translation="Common.Field"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)" \n            data-context="fields"\n            tid="field-dropdown"\n            title="{{controller.selectedField.label}}">\n            <div class="label">\n                {{controller.selectedField.label}}\n            </div>\n        </button>\n    </div>\n    \x3c!-- AGGREGATION DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-functions" >\n        <label q-translation="ExpressionEditor.AggregationFunctions"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="commonFunctions"\n            tid="aggregation-dropdown"\n            title="{{controller.selectedCommonFunction.label}}">\n            <div class="label">\n                {{controller.selectedCommonFunction.label}}\n            </div>\n        </button>\n    </div>\n   \x3c!-- SET EXPRESSION CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-current" ng-if="exposeSetExpression">        \n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input"\n                type="checkbox"\n                ng-disabled="controller.readOnly() || controller.noSelectionsInObjectState"\n                ng-model="controller.currentOption" \n            />            \n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-set"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly() || controller.noSelectionsInObjectState"\n                    q-translation="ExpressionEditor.SetExpression"\n                    q-title-translation="ExpressionEditor.SetExpression">\n                </span>              \n            </div>           \n        </label>  \n        <span ng-if="( !controller.readOnly() && controller.noSelectionsInObjectState )" \n            q-translation="ExpressionEditor.EmptySelections" text="inline style" style="color:grey">\n        </span>      \n    </div>\n    \x3c!-- DISTINCT CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-distinct">\n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input" \n                type="checkbox" \n                ng-disabled="controller.readOnly()" \n                ng-model="controller.distinctOption"\n                ng-true-value="\'distinct\'"\n                ng-false-value="\'\'"\n            />\n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-distinct"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly()"\n                    q-translation="ExpressionEditor.Distinct"\n                    q-title-translation="ExpressionEditor.Distinct">\n                </span>\n            </div>\n        </label>\n    </div>\n    \x3c!-- TOTAL CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-total">\n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input"\n                type="checkbox"\n                ng-disabled="controller.readOnly()"\n                ng-model="controller.totalOption"\n                ng-true-value="\'total\'"\n                ng-false-value="\'\'" \n            />\n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-total"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly()"\n                    q-translation="ExpressionEditor.Total"\n                    q-title-translation="ExpressionEditor.Total">\n                </span>\n            </div>\n        </label>\n    </div>\n    \x3c!-- INSERT BUTTON --\x3e\n    <div id="expression-editor-toolbar-insert">\n        <lui-button\n                ng-disabled="!controller.previewText()"\n                type="button"\n                tid="insert-field"\n                ng-click="insertTextHandler($event)"\n                q-title-translation="Tooltip.ExpressionEditor.InsertExpression">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div>\n</div>'},function(e,t){e.exports='<div class="expression-editor-section">\n    \n    <label q-translation="ExpressionEditor.FunctionCategory"></label>\n    <button\n        class="lui-button expression-editor-dropdown" \n        ng-click="openPopover($event)"\n        data-context="functionCategories"\n        title="{{controller.selectedFunctionCategory.label}}">\n        <div class="label">\n            {{controller.selectedFunctionCategory.label}}\n        </div>\n    </button>\n    \n    <div class="expression-editor-function-name">\n        <label q-translation="ExpressionEditor.FunctionName"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="functions"\n            tid="functions-dropdown"\n            title="{{controller.selectedFunction.label}}">\n            <div class="label">\n                {{controller.selectedFunction.label}}\n            </div>\n        </button>\n        <textarea disabled class="expression-editor-function-definition lui-textarea lui-disabled">{{controller.selectedFunctionTip}}</textarea>\n    </div>\n    \n    <div id="expression-editor-toolbar-insert">\n        <lui-button\n            type="button"\n            tid="insert-function"\n            ng-disabled="!controller.previewText()"  \n            ng-click="insertFunctionHandler($event)" \n            q-title-translation="Tooltip.ExpressionEditor.InsertFunction">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div> \n</div>'},function(e,t){e.exports='<div class="expression-editor-section">\n    <div id="expression-editor-toolbar-variables">\n        <label q-translation="ExpressionEditor.VariableList"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="variables"\n            tid="variables-dropdown"\n            title="{{controller.selectedVariable.label}}">\n            <div class="label">\n                {{controller.selectedVariable.label}}\n            </div>\n        </button>\n\n        <div class="expression-editor-system-variables">\n            <label class="lui-checkbox">\n                <input class="lui-checkbox__input" type="checkbox" ng-model="controller.showSystemVars"></input>\n                <div class="lui-checkbox__check-wrap">\n                    <span class="lui-checkbox__check"></span>\n                    <span class="lui-checkbox__check-text label" ng-disabled="readOnly" q-translation="ExpressionEditor.SystemVariables" q-title-translation="ExpressionEditor.SystemVariables"></span>\n                </div>\n            </label>\n        </div>\n        \n        <div class="expression-editor-variable-definition">\n            <label q-translation="ExpressionEditor.Definition"></label>\n            <textarea disabled class="lui-textarea lui-disabled">{{controller.variableDef}}</textarea>\n        </div>\n        \n        <div class="expression-editor-variable-value">\n            <label q-translation="ExpressionEditor.Value"></label>\n            <textarea disabled class="lui-textarea lui-disabled">{{controller.variableVal}}</textarea>\n        </div>\n        \n        <div id="expression-editor-toolbar-insert">\n            <lui-button \n                type="button" \n                ng-click="insertVariableHandler($event)" \n                q-title-translation="Tooltip.ExpressionEditor.InsertVariable" \n                tid="insert-variable">\n                <span q-translation="ExpressionEditor.Insert"></span>\n            </lui-button>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div class="expression-editor-section">\n\n    <div class="expression-editor-toolbar-set-expressions">        \n        <div class="form-element">\n            <lui-radiobutton \n                x-disabled="controller.noSelections" \n                x-model="controller.setExpressionOption" \n                x-change="changeCurrentSetExpressionOption(\'0\')" \n                x-value="0"\n                >\n                {{ \'ExpressionEditor.SetExpressions.ContentOfCurrentSelection\' | translate }}\n            </lui-radiobutton>\n            <lui-radiobutton \n                x-disabled="!controller.bookmarks.length > 0" \n                x-model="controller.setExpressionOption" \n                x-change="changeCurrentSetExpressionOption(\'1\')" \n                x-value="1"\n                >\n                {{ \'ExpressionEditor.SetExpressions.ContentOfBookmark\' | translate }}\n            </lui-radiobutton>\n        </div>\n    </div>\n    <div id="expression-editor-toolbar-set-expression-bookmark" \n        ng-if="controller.setExpressionOption==1">\n        <label q-translation="ExpressionEditor.SetExpresions.Bookmark"></label>\n        <button \n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)" \n            data-context="bookmarks" \n            tid="bookmark-dropdown" \n            title="{{controller.selectedBookmark.label}}">\n            <div class="label">\n                {{controller.selectedBookmark.label}}\n            </div>\n        </button>\n\n    </div>\n    <div id="expression-editor-toolbar-set-expression-states" x-disabled="controller.noSelections && !controller.bookmarks.length > 0" ng-if="controller.showAlternateStates">\n        <label q-translation="ExpressionEditor.SetExpresions.AlternateState"></label>\n        <lui-select x-model="controller.selectedAlternateState">\n            <option value="{{state.value}}" ng-if="controller.setExpressionOption==0" ng-repeat="state in controller.currentSelectionsAlternateStates ">{{state.label}}</option>\n            <option value="{{state.value}}" ng-if="controller.setExpressionOption==1" ng-repeat="state in controller.selectedBookmark.alternateStates ">{{state.label}}</option>\n        </lui-select>\n    </div>\n    <div id="expression-editor-toolbar-insert">\n        <lui-button \n            type="button" \n            tid="insert-set-expression" \n            ng-disabled="controller.disableSetExpressionInsertButton()" \n            ng-click="insertSetExpressionHandler($event)" \n            q-title-translation="Tooltip.ExpressionEditor.InsertSetExpression">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(132)],r=function(e,t){var n=false;var i=false;var r=false;function o(e){var t=[{label:e,value:""},{label:"Sum",value:"Sum"},{label:"Count",value:"Count"},{label:"Avg",value:"Avg"},{label:"Min",value:"Min"},{label:"Max",value:"Max"},{label:"Median",value:"Median"},{label:"Fractile",value:"Fractile"},{label:"Only",value:"Only"},{label:"Concat",value:"Concat"},{label:"Mode",value:"Mode"},{label:"MinString",value:"MinString"},{label:"MaxString",value:"MaxString"},{label:"FirstSortedValue",value:"FirstSortedValue"}];return t}function a(){var t;t=this.selectedField?this.selectedField.value:"";t=e.escapeField(t);if(this.selectedCommonFunction){if(this.selectedCommonFunction&&""===this.selectedCommonFunction.value)return t;var n=this.distinctOption.length?this.distinctOption+" ":"",i=this.totalOption.length?this.totalOption+" ":"",r=this.currentOption&&""!==this.selections?"{"+this.selections+"} ":"",o=this.selectedCommonFunction.value;return o+"("+r+n+i+t+")"}return t}function s(e){var t=[];e.forEach(function(e){t.push({label:e.qName,value:e.qName})});return t}function l(e,t){var n=t;return e.filter(function(e){t&&(n=t.value);return-1!==e.qSrcTables.indexOf(n)})}function u(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function c(e,t){return e.qName.toLowerCase().localeCompare(t.qName.toLowerCase())}function d(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase())}function f(e){var t=[];e.forEach(function(e){t.push({label:e,value:e})});return t}function p(e){var t,n;var i=[];for(t=0;t<e.length;++t)for(n=0;n<e[t].qSrcTables.length;++n)-1===i.indexOf(e[t].qSrcTables[n])&&i.push(e[t].qSrcTables[n]);i.sort(u);i=f(i);return i}function h(e,t,n){var i=n.value;var r=e.allTablesText.value;i!=r&&(t=l(t,n));e.fieldNames=s(t);w(e)}function v(e,t,n){t=t.value;e.functions=[];if(n.hasOwnProperty(t))t&&(e.functions=n[t]);else for(var i in n)n[i].forEach(function(t){-1===e.functions.indexOf(t)&&(e.functions=e.functions.concat(t))});if(e.functions&&e.functions.length>0){e.functions.sort(u);e.functions=f(e.functions);S(e)}}function m(e,t){var n=e.filter(function(e){return t||!e.qIsReserved&&!e.qIsConfig}).sort(c);n.forEach(function(e){e.label=e.qName;e.value=e.qName});return n}function g(e,t){var n=[];e.forEach(function(e){if(e.qFieldItems.length>0){var i=e.qStateName;n.push({label:"$"===i?t.get("AlternateState.DefaultState"):i,value:i})}});return n}function b(e,t){var n=[],i=true;e=e||[];e.forEach(function(e){if(e.qSelectionObject.qSelections.length>0){var r=e.stateName;i=false;n.push({label:"$"===r?t.get("AlternateState.DefaultState"):r,value:r})}});return{states:n,noSelections:i}}function y(e,t){var n=[];e.forEach(function(e){n.push({label:e.qData.title,value:e.qInfo.qId,alternateStates:r?g(e.qData.qBookmark.qStateData,t):[]})});return n.sort(d)}function x(e,t,n){var i=[];t.forEach(function(e){"EXT"!==e&&i.push({value:e,label:n.get("ExpressionEditor.Functions."+e)})});i.sort(function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase())});i.unshift({value:e,label:n.get("ExpressionEditor.Functions."+e)});return i}function w(e){var t=false;e.fieldNames.forEach(function(n){var i=e.selectedField.label;var r=n.label;if(i==r){var o=e.selectedField;t=true;e.selectedField=o}});t||(e.selectedField=e.fieldNames[0])}function S(e){var t=false;e.functions.forEach(function(n){var i=e.selectedFunction.label;var r=n.label;if(i==r){var o=e.selectedFunction;t=true;e.selectedFunction=o}});t||(e.selectedFunction=e.functions[0])}function C(e){var t=["$Field","$FieldNo","$Fields","$Info","$Rows","$Table"],n=[],i=e.get("ExpressionEditor.FieldsTab.SystemFields");t.forEach(function(e){var t={qName:e,qSrcTables:[i]};n.push(t)});return n}function E(e,t){0!=t.length||e.showSystemVars||(e.selectedVariable="");e.variables.length>0&&-1===e.variables.indexOf(e.selectedVariable)&&(e.selectedVariable=e.variables[0])}function q(e,t){var n=[];switch(e){case"tables":n=t.tableNames;break;case"fields":n=t.fieldNames;break;case"commonFunctions":n=t.commonFunctions;break;case"functionCategories":n=t.functionCategories;break;case"functions":n=t.functions;break;case"variables":n=t.variables;break;case"bookmarks":n=t.bookmarks;break}return n}function _(e,t,n,i){switch(t){case"tables":n.setTableFilter(e);n.selectedTable=e;break;case"fields":n.selectedField=e;break;case"commonFunctions":n.selectedCommonFunction=e;break;case"functionCategories":n.selectedFunctionCategory=e;break;case"functions":n.selectedFunction=e;break;case"variables":n.selectedVariable=e;break;case"bookmarks":n.selectedBookmark=e;break;default:break}i(t)}function T(e){return t.get(e).then(function(e){return e.getLayout().then(function(){return{selectionsInStates:e.layout.selectionsInStates||[]}})})}function k(e){i=e.isAdvancedPart3;n=e.exposeSetExpression;r=e.isAlternateState;var t=e.translator,l=[];var u=e.fields.slice();u.sort(c);e.published||(u=u.concat(C(t)));var d=t.get("Common.All.Tables"),f=t.get("ExpressionEditor.Functions.ALL"),g=t.get("ExpressionEditor.FieldsTab.SelectAggregationHint");var S=e.sections.fields.state,k=e.sections.functions.state,O=e.sections.variables.state;d={label:d,value:d};""==S.table.label&&(S.table=d);if(""==S.aggregfunc.label){S.aggregfunc.label=g;S.aggregfunc.value=""}""==k.functionCategory.label&&(k.functionCategory.label=f);for(var D in e.functions)l.push(D);var A={getData:function e(t){return q(t,A)},setSelectedItem:_,allTablesText:d,commonFunctions:o(g),selectedCommonFunction:S.aggregfunc,readOnly:function e(){return""===A.selectedCommonFunction.value},setTableFilter:function e(t){h(A,u,t)},selectedTable:S.table,tableNames:[d].concat(p(u)),fieldNames:s(u),previewText:a,selectedField:S.field,distinctOption:S.distinctCheckBox,totalOption:S.totalCheckBox,currentOption:!!n&&S.setExpressionCheckBox,selections:"",noSelections:false,noSelectionsInObjectState:false,functions:[],functionCategories:x("ALL",l,t),selectedFunction:k.funct,selectedFunctionTip:"",selectedFunctionCategory:k.functionCategory,setFunctionCategoryFilter:function t(n){v(A,n,e.functions)},variables:m(e.variables,false),selectedVariable:O.variable,variableDef:"",variableVal:"",showSystemVars:O.sysVarsCheckBox,showVariablesFirstTime:O.showVariablesFirstTime,showVariableInfo:function e(t,n){A.variableDef=t;A.variableVal=n},setSysVarsFilter:function t(){var n=e.variables.filter(function(e){return!e.qIsReserved});if(0==n.length&&A.showVariablesFirstTime){O.sysVarsCheckBox=true;A.showSystemVars=true;O.showVariablesFirstTime=false;A.showVariablesFirstTime=false}A.variables=m(e.variables,A.showSystemVars);E(A,n)},setCurrentSelections:function e(t){A.selections=t},isStateInArray:function e(t,n){var i=false;t.forEach(function(e){e.value===n&&(i=true)});return i},setInitialOptionsForSetExpressionSection:function t(n){A.noSelections=n;if(n&&"0"===A.setExpressionOption)if(A.bookmarks.length>0){A.setExpressionOption="1";if(""===A.selectedBookmark){A.selectedBookmark=A.bookmarks[0];r&&""===A.selectedAlternateState&&A.bookmarks[0].alternateStates.length>0&&(A.selectedAlternateState=A.bookmarks[0].alternateStates[0].value)}}else{A.setExpressionOption="";A.setExpressionInsertDisabled=true}else r&&"0"===A.setExpressionOption&&A.currentSelectionsAlternateStates.length>0&&(A.selectedAlternateState=A.isStateInArray(A.currentSelectionsAlternateStates,e.sections.setExpressions.state.selectedAlternateState)?e.sections.setExpressions.state.selectedAlternateState:A.currentSelectionsAlternateStates[0].value)},disableSetExpressionInsertButton:function e(){return r?!A.selectedAlternateState:A.setExpressionInsertDisabled},isAlternateState:r,showAlternateStates:e.showAlternateStates,setExpressionOption:i?e.sections.setExpressions.state.setExpressionOption:"",bookmarks:y(e.bookmarks,t),currentSelectionsAlternateStates:[],selectedBookmark:i?e.sections.setExpressions.state.selectedBookmark:"",selectedAlternateState:r?e.sections.setExpressions.state.selectedAlternateState:"",setExpressionInsertDisabled:false,stateName:e.stateName};T(e.app).then(function(n){var i=e.stateName||"$";A.noSelectionsInObjectState=true;n.selectionsInStates.forEach(function(e){e.stateName===i&&e.qSelectionObject.qSelections.length>0&&(A.noSelectionsInObjectState=false)});if(r){var o=b(n.selectionsInStates,t);A.currentSelectionsAlternateStates=o.states;A.setInitialOptionsForSetExpressionSection(o.noSelections)}else A.setInitialOptionsForSetExpressionSection(A.noSelectionsInObjectState)});w(A);return A}return{create:k}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<qui-float qui-offset="offset" qui-resize-on-change="content" class="qv-function-tip-container">\n\t<div class=\'qv-function-tip-view\' ng-show=\'content\'>{{content}}</div>\n</qui-float>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(144),n(286),n(90)],r=function(e,t,n,i){var r=["like","not","and","or","xor","follows","precedes","bitnot","bitand","bitor","bitxor","$","$1","$2","$3","$4","$5","$_1","$_2","$_3","$_4","$_5","total","distinct","nodistinct","all","include","must_include"];function o(e,t){if("field"===e)return{text:t,type:e,value:i.escapeField(t)};return{text:t,type:e}}function a(e){var t=e.bnf;var n=s();var i=e.fields;var a=e.variables;var l=r.map(o.bind(null,"keyword"));var u=Object.keys(a).map(o.bind(null,"variable"));var c=Object.keys(i).map(o.bind(null,"field"));var d=t.getAllFunctions().map(o.bind(null,"function"));var f=l.concat(u,c,d);function p(e){return t.isFunction(e)}function h(e){return t.getFunctionTip(e)}function v(e){return!!n[e.toLowerCase()]||p(e)}function m(e){return!!i[e]}function g(e){return!!a[e]}function b(){return f}var y={getAutocompleteList:b,getFunctionTip:h,getFunctionsAndCategories:t.getAllFunctionsAndCategories,isFunction:p,isField:m,isKeyword:v,isVariable:g};return y}function s(){var e={};for(var t=0;t<r.length;++t){var n=r[t];e[n]=true}return e}function l(e){return e.enigmaModel.getFieldList().then(function(e){e=t.expand(e);var n={};for(var i=0;i<e.length;++i){var r=e[i].qName;n[r]=true}return n})}function u(e){return e.enigmaModel.getVariableList().then(function(e){var t={};for(var n=0;n<e.length;++n){var i=e[n].qName;t[i]=true}return t})}function c(t){return e.all({bnf:n.getExpressionBnfModel(t),fields:l(t),variables:u(t)}).then(a)}return{get:c}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(687),n(97),n(99),n(139),n(218)],r=function(e,t,n,i,r){function o(e,t){if(""===t)return e;return e.filter(function(e){if("undefined"===typeof e)return false;return r.string(e.label.toLowerCase()).indexOf(r.string(t.toLowerCase()))>-1})}var a={template:t,scope:{alignTo:"=",close:"=",qvaOutsideIgnoreFor:"=",position:"="},controller:["$scope",function(t){var r=e.extend([],t.items);t.autoFocus=i.treatAsDesktop();t.search={term:""};t.onEscape=function(){t.search.term="";t.closePopover(t.context)};t.clearSearchTerm=function(){t.search.term=""};t.$watch("search.term",function(e){t.items=o(r,e);t.showClearIcon=""!==e});n.on("start",t.closePopover);t.$on("$destroy",function(){n.off("start",t.closePopover)})}]};return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover \n    class="popover-wrapper" \n    style="min-width: 200px;width: 230px;" \n    align-to="alignTo" \n    position="position" \n    collision="\'flipfit\'" \n    on-close-view="closePopover(event)">\n    <object-add-typeahead>\n        <lui-popover-header>\n            <div class="lui-search">\n                <span class="lui-icon  lui-icon--search  lui-search__search-icon"></span>\n                <input class="lui-search__input" maxlength="255" spellcheck="false" type="text" name="new-test" placeholder="{{ \'ExpressionEditor.SearchPopupPlaceholder\' | translate}}" autocomplete="off"\n                    ng-model="search.term" on-escape="onEscape($event)" qva-focus="autoFocus" object-add-typeahead-input/>\n                <button class="lui-search__clear-button" ng-click="clearSearchTerm()">\n                    <span ng-if="showClearIcon" class="lui-icon  lui-icon--small  lui-icon--close"></span>\n                </button>\n            </div>        \n        </lui-popover-header>\n        <div class="content" object-add-typeahead-menu>\n            <ul class="lui-list">\n                <li class="lui-list__item lui-list__action"                    \n                    ng-repeat="item in items" tid="item"\n                    object-add-typeahead-item="item"\n                    on-select="setSelectedItem(item, context, ctrl, closePopover)">\n                    <span qve-highlight text="{{item.label}}" title="{{item.label}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n                </li>\n            </ul>\n        </div>\n    </object-add-typeahead>\n</lui-popover>'},function(e,t){e.exports="<div ng-transclude></div>"},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){this.container=e.container;this.body=e.body;this.alignAgainst=e.alignAgainst}e.prototype.showTranscluded=function(e){e(function(e){this.container.appendTo(this.body).append(e)}.bind(this))};e.prototype.showContent=function(e){this.container.appendTo(this.body).append(e)};e.prototype.update=function(){var e=this.alignAgainst.offset();this.container.css({top:e.top,left:e.left,width:this.alignAgainst.width(),height:this.alignAgainst.height(),zIndex:1021})};e.prototype.hide=function(){this.container.remove()};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(346),n(190)],r=function(e,t){var n=e.REGEXP_WORD;t.defineMode("qlikviewscript",function(e,t){var i=/[+\-*&=<>]/,r=/[\u0022\u0027\u0060\u00b4[]/;function o(e,t,n){t.tokenize=n;return n(e,t)}function a(e,t){var n;while(null!=(n=e.next()))if(n==t)return false;return false}var s,l;function u(e,t,n){s=e;l=n;return t}function c(e,a){if(e.eatSpace()){s="whitespace";return null}s="any";var l=e.next();if(r.test(l))return o(e,a,f("["===l?"]":l));if(/[[\]{}(),;:]/.test(l))return u(l);if("0"==l&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return u("number","number")}if(/[.\d]/.test(l)){e.match(/^\d*(?:\.\d*)?(?:[eE][+-]?\d+)?/);if(!e.eol()){l=e.peek();if(/[A-z]/.test(l))return"normaltext"}return"number"}if("/"===l){if(e.eat("*"))return o(e,a,p);if(e.eat("/")){e.skipToEnd();return"comment"}e.eatWhile(i);return"operator"}if(i.test(l)){e.eatWhile(i);return u(l,"operator")}if("$"===l&&e.match(/^\(=/,false,true))return u("$");if("$"===l&&e.match(/^\((MUST_INCLUDE|INCLUDE)=/i,false,true))return u("$");if("$"===l&&e.match(/^\(/,false,true)){a.tokenize=v;return u("$(")}e.eatWhile(n);var c=e.current();var d=c.toLowerCase();if("rem"===d)return o(e,a,h);if(t.service.isFunction(d)&&e.match(/(^\s*\()/,false,true))return u("function","keyword",d);if(t.service.isField(c))return u("field","field");if(t.service.isVariable(c))return u("variable","variable");if(t.service.isKeyword(d))return u("keyword","keyword");return"normaltext"}function d(e){return e.substr(1,e.length-2)}function f(e){return function(n,i){if(!a(n,e)){i.tokenize=c;if("'"!==e){var r=d(n.current(),e);if(t.service.isField(r))return u("field","field");if(t.service.isVariable(r))return u("variable","variable")}}return u("string","string")}}function p(e,t){var n=false,i;while(i=e.next()){if("/"==i&&n){t.tokenize=c;break}n="*"==i}return u("comment","comment")}function h(e,t){var n;while(n=e.next())if(";"==n){t.tokenize=c;break}return u("comment","comment")}function v(e,n){s="any";var i=e.next();")"==i&&(n.tokenize=c);if(/[(),]/.test(i))return u(i);e.eatWhile(/[^(),]/);var r=e.current();if(!/^\d/.test(r)&&t.service.isVariable(r))return u("variable","variable");return"normaltext"}function m(e,t,n,i){this.type=e;this.prev=t;this.info=n;this.pos=i}function g(e,t,n,i,r){var o=e.cc;b.state=e;b.stream=r;b.marked=null;b.cc=o;while(true){var a=o.length?o.pop():q;if(a(n,i)){while(o.length&&o[o.length-1].lex)o.pop()();if(b.marked)return b.marked;return t}}}var b={state:null,column:null,marked:null,cc:null};function y(){for(var e=arguments.length-1;e>=0;e--)b.cc.push(arguments[e])}function x(){y.apply(null,arguments);return true}function w(e,t){var n=function n(){var i=b.state;i.lexical=new m(e,i.lexical,t,b.stream.pos)};n.lex=true;return n}function S(){var e=b.state;e.lexical.prev&&(e.lexical=e.lexical.prev)}S.lex=true;function C(e){return function t(n){return n==e?x():";"==e?y():x(t)}}function E(e,t){return function n(i){return i==t?x():y(e,n)}}function q(e){if("function"==e)return x(w("qvfunction",l),C("("),E(q,")"),S);if("("===e)return x(E(q,")"));if("$("===e)return x(C("("),E(q,")"));return x()}return{startState:function e(){return{tokenize:c,lastType:null,cc:[],lexical:new m("block")}},token:function e(t,n){var i=n.tokenize(t,n);if("comment"==s)return i;n.lastType=s;return g(n,i,s,l,t)},lineComment:"//"}});return{REGEXP_WORD:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(51)],r=function(e,t){e.directive("qvCodeareaFunctionTip",function(){return{restrict:"A",require:"qvCodearea",link:function n(i,r,o,a){var s;var l;var u=22;var c=i.$watch(o.qvCodeareaFunctionTip,function(n){function r(){var e=a.codemirror.getCursor();var t=a.codemirror.getTokenAt(e,true);if("comment"!==t.type){var n=0,i=t.state.lexical;while(i&&"qvfunction"!==i.type||0===n&&i.info&&t.string.toLowerCase()===i.info.toLowerCase()){i=i.prev;n++}return i}return}function o(e,t){var n=a.codemirror.getCursor();var i={line:n.line,ch:n.ch};var r,o;while(i.line>=0){r=a.codemirror.getLine(i.line).toLowerCase();o=r.substring(e.pos-t.length,e.pos);if(o===t){i.ch=e.pos-t.length;break}i.line-=1}var s=a.codemirror.charCoords(i);s.top-=a.codemirror.defaultTextHeight()+u;return s}function d(){var i=r();var a=i?i.info:void 0;var l=a?n.service.getFunctionTip(a):void 0;e.$apply(e.$rootScope,function(){f();if(l){var e=o(i,a);m();s=t.show(n.view,{content:l,offset:e})}})}function f(){g();if(s){s.destroy();s=void 0}}function p(){clearTimeout(l);l=setTimeout(d,250)}function h(){f()}var v={Esc:function e(){i.$apply(function(){f()})}};function m(){a.codemirror.addKeyMap(v)}function g(){a.codemirror.removeKeyMap(v)}if(n){a.codemirror.on("blur",h);a.codemirror.on("cursorActivity",p);i.$on("$destroy",function(){a.codemirror.off("blur",h);a.codemirror.off("cursorActivity",p);f()});c()}},true)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(51),n(693),n(97),n(346)],r=function(e,t,n,i,r,o){var a=100;var s=o.REGEXP_WORD_SEPARATOR;function l(e){var t=e.getTokenAt(e.getCursor()).type;return"keyword"===t||"field"===t||"variable"===t}function u(e,t,n){if(e.somethingSelected()||l(e)&&!n||t.disabled)return null;var i=t.getHints(e);var r=i.list;if(0===r.length)return null;r.length>a&&(r=r.slice(0,a));var o=e.cursorCoords(false!==t.alignWithWord?i.from:null);return{from:i.from,to:i.to,hints:r,selectedHint:n?n.selectedHint:0,cursorPos:o}}function c(e,n){this.dialogHandle=null;this.dialogOptions={};this.state=null;this.options=n;this.cm=e;this.currentOptions=null;this.once=null;this.closingOnBlur=null;this.bound={cursorActivity:this.cursorActivity.bind(this),pick:this.pick.bind(this),close:this.close.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),choose:this.choose.bind(this),showHint:this.showHint.bind(this)};function i(){return 8}var r=this;this.ourMap={Up:function e(){r.changeActive(r.state.selectedHint-1);t.$rootScope.$apply()},Down:function e(){r.changeActive(r.state.selectedHint+1);t.$rootScope.$apply()},PageUp:function e(){r.changeActive(r.state.selectedHint-i());t.$rootScope.$apply()},PageDown:function e(){r.changeActive(r.state.selectedHint+i());t.$rootScope.$apply()},Home:function e(){r.changeActive(0);t.$rootScope.$apply()},End:function e(){r.changeActive(r.state.hints.length-1);t.$rootScope.$apply()},Enter:this.bound.pick,Tab:this.bound.pick,Esc:this.bound.close}}c.prototype.cursorActivity=function(){var e=t.getService("$timeout");e.cancel(this.once);this.once=null;var n=this.cm.getCursor();n.line!==this.startLine||this.cm.somethingSelected()?this.close():this.once=e(this.bound.showHint,70)};c.prototype.choose=function(e){this.changeActive(e);this.pick()};c.prototype.pick=function(){this.cm.replaceRange(this.state.hints[this.state.selectedHint].value,this.state.from,this.state.to);this.cm.focus();this.close();t.$apply(t.$rootScope)};c.prototype.onBlur=function(){var e=t.getService("$timeout");this.closingOnBlur=e(this.bound.close,300)};c.prototype.onFocus=function(){var e=t.getService("$timeout");e.cancel(this.closingOnBlur);this.closingOnBlur=null};c.prototype.changeActive=function(e){if(!this.state)return;e=Math.max(0,Math.min(e,this.state.hints.length-1));if(this.state.selectedHint===e)return;this.state.selectedHint=e};c.prototype.close=function(){var e=t.getService("$timeout");e.cancel(this.once);e.cancel(this.startTimeout);if(!this.dialogHandle)return;this.dialogHandle.destroy();this.dialogHandle=null;this.cm.removeKeyMap(this.ourMap);this.cm.off("cursorActivity",this.bound.cursorActivity);this.cm.off("blur",this.bound.onBlur);this.cm.off("focus",this.bound.onFocus);this.cm.off("scroll",this.bound.close);this.state=null;t.$apply(t.$rootScope)};c.prototype.open=function(){this.dialogHandle=n.show(this.options.view,this.dialogOptions);this.startLine=this.cm.getCursor().line;this.cm.addKeyMap(this.ourMap);this.cm.on("cursorActivity",this.bound.cursorActivity);this.cm.on("blur",this.bound.onBlur);this.cm.on("focus",this.bound.onFocus);this.cm.on("scroll",this.bound.close)};c.prototype.showHint=function(){var e=this.state;this.state=u(this.cm,this.options,e);if(!this.state){e&&this.close();return}this.state.choose=this.bound.choose;this.dialogOptions.state=this.state;e||this.open()};c.prototype.start=function(){var e=t.getService("$timeout");if(this.state)return;this.startTimeout&&e.cancel(this.startTimeout);this.startTimeout=e(this.bound.showHint,500)};var d={keyword:{translation:"Common.Keyword",allowQuote:false},variable:{translation:"Common.Variable",allowQuote:true},field:{translation:"Common.Field",allowQuote:true},function:{translation:"Common.Function",allowQuote:false}};function f(e){return"["+e.replace(/\]/g,"]]")+"]"}function p(e,t){var n={};var i=[];var r=e.toLowerCase();var o="["===e[0];function a(e){"string"===typeof e&&(e={text:e});var t=e.text;if(o){if(!d[e.type]||!d[e.type].allowQuote)return;t=f(t)}if(!t||0!==t.toLowerCase().indexOf(r))return;if(!n[t]){n[t]={text:e.text,types:[],value:e.value||t};i.push(n[t])}d[e.type]&&n[t].types.push({id:e.type,key:d[e.type].translation})}function l(e,t){var n=e.text.toLowerCase();var i=t.text.toLowerCase();return n===i?0:n>i?1:-1}if(!o&&s.test(e)||/^\d+$/.test(e))return[];if(""!==e){t.forEach(a);i.sort(l)}1===i.length&&e===i[0].value&&(i=[]);return i}function h(e,t){var n=e.getCursor();var i=e.getTokenAt(n);var r=p(i.string,t);return{list:r,from:{line:n.line,ch:i.start},to:{line:n.line,ch:i.end}}}t.directive("qvCodeareaAutocomplete",function(){return{restrict:"A",require:"qvCodearea",link:function t(n,o,a,s){var l=[37,38,39,40,33,34,27];var u=n.$watch(a.qvCodeareaAutocomplete,function(t){function o(e){return h(e,t.service.getAutocompleteList())}function a(){f.start()}function d(t,n){-1===e.inArray(n.which,l)&&a()}var f;if(t){t.view||(t.view=i);t.getHints||(t.getHints=o);f=new c(s.codemirror,t);var p=f.close.bind(f);s.codemirror.on("focus",a);s.codemirror.on("keyup",d);r.on("end",p);n.$on("$destroy",function(){s.codemirror.off("focus",a);s.codemirror.off("keyup",d);r.off("end",p);f.close()});u()}},true)}}});return{getCompletions:p}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(694),n(11)],r=function(e,t){function n(e,t,n){var i=n.bottom+e.height<=t.height;var r=i?n.bottom:n.top-e.height;var o=Math.max(0,n.left+e.width-t.width);var a=n.left-o;return{top:r,left:a}}function i(e,t){e.$$postDigest(function(){e.$$postDigest(t)})}return{scope:{state:"="},template:e,controller:["$scope","$element",function(e,r){var o=r.find(".qv-autocomplete-container");var a=t(window);function s(){var t={width:a.width(),height:a.height()};var i=o[0].getBoundingClientRect();var r=e.state.cursorPos;var s=n(i,t,r);o.css({left:s.left,top:s.top})}e.$watch("state.hints.length",function(){i(e,s)})}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-autocomplete-container">\n\t<ul class="codearea-autocomplete-hints">\n\t\t<li ng-repeat="item in state.hints track by item.text"\n\t\t\tqva-scroll-into-view="{ scroll: state.selectedHint == $index, scrollSelector: \'.codearea-autocomplete-hints\' }"\n\t\t\tclass="codearea-autocomplete-hint"\n\t\t\tng-class="{ \'codearea-autocomplete-hint-active\': state.selectedHint == $index }"\n\t\t\tng-mouseover="state.selectedHint = $index;"\n\t\t\tqva-activate="state.choose( $index )">\n\n\t\t\t<div class="codearea-autocomplete-hint-text">{{item.text}}</div>\n\t\t\t<div ng-repeat="type in item.types track by $index"\n\t\t\t\t class="codearea-autocomplete-hint-type {{type.id}}"\n\t\t\t\t q-translation="{{type.key}}"></div>\n\t\t</li>\n\t</ul>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(190)],r=function(e){var t=e.Pos;function n(e,n,i,r){this.atOccurrence=false;this.cm=e;r||"string"!=typeof n||(r=false);i=i?e.clipPos(i):t(0,0);this.pos={from:i,to:i};n||(n="");if("string"!=typeof n){n.global||(n=new RegExp(n.source,n.ignoreCase?"ig":"g"));this.matches=function(i,r){var o,a,s;if(i){n.lastIndex=0;o=e.getLine(r.line).slice(0,r.ch);a=n.exec(o);s=0;while(a){s+=a.index+1;o=o.slice(s);n.lastIndex=0;var l=n.exec(o);if(!l)break;a=l}s--}else{n.lastIndex=r.ch;o=e.getLine(r.line);a=n.exec(o);s=a&&a.index}if(a&&a[0])return{from:t(r.line,s),to:t(r.line,s+a[0].length),match:a}}}else{r||(n=n.toLowerCase());var o=r?function(e){return e}:function(e){return e.toLowerCase()};var a=n.split("\n");1==a.length?n.length?this.matches=function(i,r){var a=o(e.getLine(r.line)),s=n.length,l;if(i?r.ch>=s&&-1!=(l=a.lastIndexOf(n,r.ch-s)):-1!=(l=a.indexOf(n,r.ch)))return{from:t(r.line,l),to:t(r.line,l+s)}}:this.matches=function(){}:this.matches=function(n,i){var r=i.line,s=n?a.length-1:0,l=a[s],u=o(e.getLine(r));var c=n?u.indexOf(l)+l.length:u.lastIndexOf(l);if(n?c>=i.ch||c!=l.length:c<=i.ch||c!=u.length-l.length)return;for(;;){if(n?!r:r==e.lineCount()-1)return;u=o(e.getLine(r+=n?-1:1));l=a[n?--s:++s];if(s>0&&s<a.length-1){if(u!=l)return;continue}var d=n?u.lastIndexOf(l):u.indexOf(l)+l.length;if(n?d!=u.length-l.length:d!=l.length)return;var f=t(i.line,c),p=t(r,d);return{from:n?p:f,to:n?f:p}}}}}n.prototype={findNext:function e(){return this.find(false)},findPrevious:function e(){return this.find(true)},find:function e(n){var i=this,r=this.cm.clipPos(n?this.pos.from:this.pos.to);function o(e){var n=t(e,0);i.pos={from:n,to:n};i.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(n,r)){this.pos.from&&this.pos.to||window.console.log(this.matches,this.pos);this.atOccurrence=true;return this.pos.match||true}if(n){if(!r.line)return o(0);r=t(r.line-1,this.cm.getLine(r.line-1).length)}else{var a=this.cm.lineCount();if(r.line==a-1)return o(a);r=t(r.line+1,0)}}},from:function e(){if(this.atOccurrence)return this.pos.from},to:function e(){if(this.atOccurrence)return this.pos.to},replace:function n(i){if(!this.atOccurrence)return;var r=e.splitLines(i);this.cm.replaceRange(r,this.pos.from,this.pos.to);this.pos.to=t(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}};function i(e,t,i,r){return new n(e,t,i,r)}return{getSearchCursor:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(190),n(1093)],r=function(e,t){var n="\r\n";e.directive("qvCodeareaExposedContextApi",["$parse","$timeout",function(e,i){return{require:["qvCodearea","qvCodeareaExposedContextApi"],link:function t(n,i,r,o){var a=o[0];var s=o[1];s._connectCodeArea(a);var l=e(r.qvCodeareaExposedContextApi);l.assign(n,s);n.$on("$destroy",function(){l.assign(n,void 0);s._connectCodeArea(void 0)})},controller:function e(){var r;function o(e){r=e}function a(){var e=r.codemirror.getTokenAt(r.codemirror.getCursor());var t=0,n=e.state.lexical;while(n&&"qvfunction"!==n.type||0===t&&n.info&&e.string.toLowerCase()===n.info.toLowerCase()){n=n.prev;t++}return!!n&&n.info}function s(){r.focus()}function l(){r.codemirror.undo()}function u(){r.codemirror.redo()}function c(){t.commands.toggleComment(r.codemirror);s()}function d(){r.codemirror.indentSelection("add");s()}function f(){r.codemirror.indentSelection("subtract");s()}function p(){return r.codemirror.options.readOnly}function h(e){var t=r.codemirror.getDoc().getSelection();var n=e(t);r.codemirror.replaceSelection(n)}function v(e){r.codemirror.setCursor(r.codemirror.getCursor("end"));var t=r.codemirror.getCursor().line,i=r.codemirror.getCursor().ch,o=r.codemirror.getLine(t).length;if(o>0)if(i===o){r.codemirror.setCursor(t,o);r.codemirror.replaceSelection(n)}else{r.codemirror.setCursor(r.codemirror.lineCount(),0);e=n+n+e}r.codemirror.setCursor(r.codemirror.getCursor("end"));r.codemirror.replaceSelection(e);r.focus()}function m(e){r.codemirror.replaceSelection(e,"end");r.focus()}function g(e){i(function(){var t=r.codemirror.lineCount();e<t?r.codemirror.setCursor(e-1,0):r.codemirror.setCursor(t-2,0);r.focus()})}function b(e){return r.codemirror.getCursor(e)}function y(e,t,n){r.codemirror.setCursor(e,t,n)}function x(){return r.codemirror.lineCount()}var w={applyToSelection:h,focus:s,undo:l,redo:u,comment:c,indent:d,outdent:f,insertCode:v,replaceSelection:m,getFunctionNameUnderCursor:a,gotoLine:g,isReadOnly:p,getCursor:b,setCursor:y,lineCount:x,_connectCodeArea:o,codemirror:void 0};Object.defineProperty(w,"canUndo",{get:function e(){return r&&r.codemirror&&r.codemirror.historySize().undo>0},enumerable:true});Object.defineProperty(w,"canRedo",{get:function e(){return r&&r.codemirror&&r.codemirror.historySize().redo>0},enumerable:true});return w}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48)],r=function(e,t){function n(e,t){var n=e.length;var i=t.length;var r;var o=Math.min(e.length,t.length);for(r=0;r<o;r++)if(e.charAt(r)!==t.charAt(r))break;if(r===e.length&&r===t.length)return;var a=r;var s;var l;for(r=0;r<o;r++){s=n-r-1;l=i-r-1;if(s<a||l<a)break;if(e.charAt(n-r-1)!==t.charAt(i-r-1))break}var u=n-r-1;var c=i-r-1;return{start:a,targetRange:{from:a,to:u+1},sourceRange:{from:a,to:c+1}}}t.directive("qvCodeareaExposedTouchApi",["$parse","$timeout",function(t,i){return{require:["qvCodearea","qvCodeareaExposedTouchApi"],link:function e(n,r,o,a){var s=a[0];var l=a[1];l._connectCodeArea(s);var u=t(o.qvCodeareaExposedTouchApi);u.assign(n,l);n.$on("$destroy",function(){u.assign(n,void 0);i(function(){l._connectCodeArea(void 0)})})},controller:["$scope",function(t){var r,o;function a(e){r=e}function s(e,t){r.codemirror.scrollTo(t,e)}function l(e){r.setCustomFocusFn(e)}function u(n){function i(){var t=e(r.codemirror.getScrollerElement());n(t.scrollTop(),t.scrollLeft())}r.codemirror.on("scroll",i);t.$on("$destroy",function(){r.codemirror.off("scroll",i);n=void 0})}function c(e){function n(){var t={anchor:r.codemirror.indexFromPos(r.codemirror.getCursor("anchor")),head:r.codemirror.indexFromPos(r.codemirror.getCursor("head"))};e(r.codemirror.getValue(),t)}function i(){o||n()}n();r.codemirror.on("change",i);t.$on("$destroy",function(){r.codemirror.off("change",i);e=void 0})}function d(n){t.$watch(function(){return String(r.codemirror.lineCount()).length},function(){i(function(){var t=e(r.codemirror.getGutterElement()).outerWidth();var i={top:0,left:t,bottom:0,right:0};n(i)})});t.$on("$destroy",function(){n=void 0})}function f(e,t,n){r&&r.codemirror.setSelection(e,t,n)}function p(e,t){var i=r.codemirror.getValue("\n");var a=n(i,t);if(a){var s=t.substring(a.sourceRange.from,a.sourceRange.to);var l=r.codemirror.posFromIndex(a.targetRange.from);var u=r.codemirror.posFromIndex(a.targetRange.to);o=true;r.codemirror.replaceRange(s,l,u);o=false}}function h(){r.cssClasses["qv-codearea-disable-selection"]=true}function v(){r.cssClasses["qv-codearea-disable-selection"]=false}var m={_connectCodeArea:a,scrollTo:s,onScroll:u,setOverlayFocuser:l,replicateSelection:f,replicateContent:p,onNewContent:c,onResize:d,disableSelections:h,restoreSelections:v};return m}]}}]);return{diff:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(347)],r=function(e,t){e.directive("qvCodeareaExposedSearchApi",["$parse",function(e){return{require:"qvCodearea",link:function n(i,r,o,a){var s=e(o.qvCodeareaExposedSearchApi);s.assign(i,t.createSingleCodeareaSearcher(a.codemirror));i.$on("$destroy",function(){s.assign(i,void 0)})},controller:function e(){}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvCodeareaAccelerators",function(){return{require:["qvCodearea","qvCodeareaExposedContextApi"],link:function t(n,i,r,o){var a=o[0];var s=o[1];var l={keyCode:void 0,ctrlKey:void 0,shiftKey:void 0};function u(e,t){return e.keyCode===t.keyCode&&e.ctrlKey===(t.ctrlKey||false)&&e.shiftKey===(t.shiftKey||false)}function c(t,i){var o=n.$eval(r.qvCodeareaAccelerators);for(var a in o){var c=o[a];if(u(i,c)&&(!c.previous||u(l,c.previous))){e.$apply(e.$rootScope,function(){c.fn(s)});l={keyCode:void 0,ctrlKey:void 0,shiftKey:void 0};i.preventDefault();return}}l={keyCode:i.keyCode,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey}}a.codemirror.on("keydown",c);n.$on("$destroy",function(){a.codemirror.off("keydown",c)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48)],r=function(e,t){function n(t){var n=e("<div class='qv-codearea-breakpoint-marker'><span class='lui-icon lui-icon--minus'></span></div>");n.data("breakpoint",t);return n[0]}function i(t,n){if(n.enabled){e(t).addClass("qv-codearea-breakpoint-marker-enabled");e(t).removeClass("qv-codearea-breakpoint-marker-disabled")}else{e(t).addClass("qv-codearea-breakpoint-marker-disabled");e(t).removeClass("qv-codearea-breakpoint-marker-enabled")}}t.directive("qvCodeareaBreakpoints",function(){return{require:"qvCodearea",link:function r(o,a,s,l){var u;function c(e){if(e){u=e;var t=l.codemirror.getDoc().lineCount();for(var r=0;r<t;r++){var o=r+1;var a=e[o];var s=l.codemirror.lineInfo(r).gutterMarkers;var c=s&&s["qv-codearea-breakpoint"];if(a){if(!c){c=n(a);l.codemirror.setGutterMarker(r,"qv-codearea-breakpoint",c)}i(c,a)}else c&&l.codemirror.setGutterMarker(r,"qv-codearea-breakpoint",null)}}}o.$watch(s.qvCodeareaBreakpoints,c);o.$watch(s.qvCodeareaBreakpoints,c,true);function d(e){var t=l.codemirror.getDoc().lineCount();for(var n=e.from.line;n<t;n++){var i=l.codemirror.lineInfo(n).gutterMarkers;if(i&&i["qv-codearea-breakpoint"])return true}return false}function f(e){return e.text.length!==e.removed.length}function p(n,i){!l.supressChangeEvent&&f(i)&&d(i)&&t.$apply(t.$rootScope,function(){var t=u;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var i=l.codemirror.getDoc().lineCount();for(var r=0;r<i;r++){var o=r+1;var a=l.codemirror.lineInfo(r).gutterMarkers;var s=a&&a["qv-codearea-breakpoint"];if(s){var c=e(s);var d=c.data("breakpoint");d.lineNbr=o;t[o]=d}}})}function h(e,t){l.disabled||o.$apply(function(){var e=t+1;var n=u[e];n?delete u[e]:u[e]={enabled:true,lineNbr:e}})}l.codemirror.on("change",p);l.codemirror.on("gutterClick",h);var v={F9:function e(){h(l.codemirror,l.codemirror.getCursor().line)}};l.codemirror.addKeyMap(v);o.$on("$destroy",function(){l.codemirror.off("change",p);l.codemirror.off("gutterClick",h);l.codemirror.removeKeyMap(v)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvCodeareaDebugLocation",function(){return{require:"qvCodearea",link:function e(t,n,i,r){var o;t.$watch(i.qvCodeareaDebugLocation,function(e){if(e){var t=r.codemirror.lastLine()+1;var n=e.lineNbr;n>t&&(n=t);if(o){r.codemirror.removeLineClass(o,"background","qv-codearea-current-debug-line");r.codemirror.removeLineClass(o,"background","qv-codearea-current-debug-line-error")}if(n>0&&n<=t){r.codemirror.addLineClass(n-1,"background","qv-codearea-current-debug-line");e.errorMessage&&r.codemirror.addLineClass(n-1,"background","qv-codearea-current-debug-line-error");r.codemirror.scrollIntoView({line:n-1,ch:0},200);o=r.codemirror.getLineHandle(n-1)}}},true)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvCodeareaErrors",function(){return{require:"qvCodearea",link:function e(t,n,i,r){var o=[];t.$watch(i.qvCodeareaErrors+".content",function(e){if(e){var t;for(t=0;t<o.length;t++)o[t].clear();for(t=0;t<e.length;t++){var n=e[t];var i={line:n.qLineInTab,ch:n.qColInLine},a={line:n.qLineInTab,ch:n.qColInLine+n.qErrLen},s=r.codemirror.markText(i,a,{className:"cm-servererror"});o.push(s)}}},true);t.$on("$destroy",function(){o=[]})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(704)],r=function(e,t){e.directive("qvCodeareaLimit",function(){return{require:"qvCodearea",link:function e(n,i,r,o){function a(e,i){var o=n.$eval(r.qvCodeareaLimit);o&&o>0&&t(e,i,o)}o.codemirror.on("beforeChange",a);n.$on("$destroy",function(){o.codemirror.off("beforeChange",a)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t,n){var i=t.text.join("\n");var r=e.getRange(t.from,t.to).length;var o=i.length;var a=o-r;var s=e.getValue().length;if(s>=n&&0===r)t.cancel();else if(s+a>n){o=Math.max(0,n-s+r);i=i.substr(0,o);t.update(null,null,i.split("\n"))}}return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(163),n(54)],r=function(e,t,n,i){var r,o,a;function s(e,t){var n=[],i,a,s;for(a=0;a<e.length;a++){i=e[a].split(" ");for(s=0;s<i.length;s++)if(i[s].toLowerCase()===t.toLowerCase()){if(!r){r=i.length>1;o=s>0}n.push(e[a])}}return n}function l(e,t,n){if(" "===n.string){var i=e.getTokenAt({ch:n.end+1,line:t.line});if(i.string.length>1)return i}return n}function u(e,t,n,i){var r=i?t.end-(t.string.length+1):t.end+2,o=e.getTokenAt({ch:r,line:n.line});return o}function c(e,t,n,i){var r={left:t.pageX,top:t.pageY};var o=e.coordsChar(r,"window");var a=e.getTokenAt(o);return f(e,a,n,i)}function d(e,t,n,i){var r=e.getTokenAt(e.getCursor());return f(e,r,n,i)}function f(e,t,c,d){r=false;o=false;c=c||"scriptsyntax";var f=n.path+c+".",p=[],h,v,m;if("keyword"!==t.type&&"function"!==t.type)return false;t=l(e,e.getCursor(),t);p=s(i.pluck(d.getAutocompleteList(),"text"),t.string);if(r){v=u(e,t,e.getCursor(),o);m=s(p,v.string);h=m.length>0&&v.string!==t.string?o?v.string+"_"+t.string:t.string+"_"+v.string:t.string}else h=t.string;f+=h;/firefox/.test(window.navigator.userAgent.toLocaleLowerCase())&&a&&a.close();a=window.open(f,"__qlikviewhelp");return true}e.directive("qvCodeareaHelpMode",["$parse",function(e){return{require:"qvCodearea",link:function n(i,r,o,a){var s;var l=i.$watch(o.qvCodeareaHelpModeOptions,function(n){l();function u(t){if(s){t.preventDefault();var r=c(a.codemirror,t,n.syntax,n.service);r&&i.$apply(function(){e(o.qvCodeareaHelpMode).assign(i,false)})}}function f(e,t){if((72===t.keyCode||104===t.keyCode)&&t.ctrlKey){t.preventDefault();d(a.codemirror,t,n.syntax,n.service)}}i.$watch(o.qvCodeareaHelpMode,function(e){s=e;a.cssClasses["qv-codearea-help-mode"]=e});t(r).on("click",u);a.codemirror.on("keydown",f);i.$on("$destroy",function(){t(r).off("click",u);a.codemirror.off("keydown",f)})})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvCodeareaTouchOverlay",function(){return{restrict:"E",replace:true,scope:{codeareaTouchApi:"=",enabled:"=",helpMode:"="},template:'<div class="qv-codearea-touch-overlay-container" ng-style="containerStyle"><textarea class="qv-codearea-touch-overlay" autocorrect="off" autocapitalize="off" autocomplete="off" spellcheck="false" wrap="off"></textarea></div>',link:function e(t,n){var i=n.find("textarea");var r=false;t.containerStyle={};function o(e){var n=/iPad|iPhone|iPod/.test(navigator.userAgent);n&&i.css("padding-left","1px");e.disableSelections();t.$on("$destroy",function(){e.restoreSelections()});e.onNewContent(function(e,t){i.val(e);if(i[0]!==document.activeElement)return;if(i[0].selectionStart!==t.anchor||i[0].selectionEnd!==t.head){i[0].selectionStart=t.anchor;i[0].selectionEnd=t.head}});e.setOverlayFocuser(function(){});e.onResize(function(e){t.containerStyle.left=e.left});e.onScroll(function(e,t){i.scrollTop(e);i.scrollLeft(t);document.activeElement===i[0]&&(""===i[0].style.textShadow?i[0].style.textShadow="rgba(0,0,0,0) 0 0 0":i[0].style.textShadow="")});i.on("scroll",function(){e.scrollTo(i.scrollTop(),i.scrollLeft())});i.on("input",function(t){var n=i.val();e.replicateContent(t,n)});function o(e,t){var n=e.substring(0,t).split("\n");var i=n.length-1;var r=n[n.length-1].length;return{line:i,ch:r}}function a(){var t=i.val();var n=i[0].selectionStart;var r=i[0].selectionEnd;var a=o(t,n);var s=o(t,r);e.replicateSelection(a,s,{scroll:false})}var s;var l;function u(){if(!r){if(i[0].selectionStart!==s||i[0].selectionEnd!==l){s=i[0].selectionStart;l=i[0].selectionEnd;a()}setTimeout(u,200)}}setTimeout(u,200)}t.$watch("helpMode",function(e){e?n.hide():n.show()});var a=t.$watch("codeareaTouchApi",function(e){if(e){o(e);a()}});t.$on("$destroy",function(){r=true;i=void 0})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvCodeareaBlockLargePastes",function(){var e=function e(t){if(""===t||Number.isNaN(+t))return 1e6;return t};var t=function e(t){return t.originalEvent.clipboardData?t.originalEvent.clipboardData.getData("text/plain").length:window.clipboardData.getData("Text").length};return{restrict:"A",controller:["$scope","$element","$attrs",function(n,i,r){i.find("textarea").on("paste",function(n){t(n)>e(r.qvCodeareaBlockLargePastes)&&n.preventDefault()});n.$on("$destroy",function(){i.find("textarea").off("paste")})}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48)],r=function(e,t){t.directive("qvCodeareaExposedGutterWidth",["$parse","$timeout",function(t,n){return{require:"qvCodearea",link:function i(r,o,a,s){var l=t(a.qvCodeareaExposedGutterWidth);r.$watch(function(){return String(s.codemirror.lineCount()).length},function(){var t=e(s.codemirror.getGutterElement()).outerWidth();l.assign(r,t);n(function(){var t=e(s.codemirror.getGutterElement()).outerWidth();l.assign(r,t)})});r.$on("$destroy",function(){l.assign(r,void 0)})},controller:function e(){}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(190)],r=function(e,t,n){var i="CodeMirror-text-in-composition";var r={inclusiveLeft:true,inclusiveRight:true,className:i};function o(e){var t,n,r,o;n=e.getAllMarks();for(r=0,o=n.length;r<o;r++){t=n[r];null!=t&&t.className===i&&t.clear()}return true}var a,s,l,u,c,d,f,p,h,v,m;function g(e,i){var g=i;e.options.enableCompositionMod=true;c=function t(){d&&d();e.display.input.blur();e.display.input.focus()};u=function t(n){f=n.char;d&&d();if(e.display.inCompositionMode){var i=e.getCursor();var r=e.display.compositionHead;var o=e.charCoords(i).left-e.charCoords(r).left;o+=void 0!==f?30:1;e.display.input.style.width=o+"px"}};a=function t(){if(e.options.enableCompositionMod){m.disabled=true;e.display.inCompositionMode=true;h=g.offset();e.display.inputDiv.classList.add("CodeMirror-input-wrapper");e.display.inputDiv.classList.add("in-composition");e.setOption("readOnly",true);e.somethingSelected()&&e.replaceSelection("");e.display.compositionHead=e.getCursor();void 0===f?e.display.input.value="":" "===f&&s({data:" "})}};s=function t(n){var i,o;if(!e.options.enableCompositionMod||!e.display.inCompositionMode)return;var a=e.display.compositionHead;if(e.display.textMarkerInComposition){i=e.display.textMarkerInComposition.find();if(i){e.replaceRange(n.data,a,i.to);e.display.textMarkerInComposition.clear();e.display.textMarkerInComposition=void 0}}else e.replaceRange(n.data,a,a);var s=e.getCursor();o=e.charCoords(s).left-e.charCoords(a).left;void 0===f&&(o+=1);e.display.input.style.width=o+"px";e.display.textMarkerInComposition=e.markText(a,s,r);p()};function b(){var e=window.navigator.userAgent;var t=e.indexOf("MSIE ");return t>0||!!navigator.userAgent.match(/Trident.*rv:11\./)}l=function t(i){var r;if(!e.options.enableCompositionMod||!e.display.inCompositionMode)return;b()?"\b"===f&&s(i):s(i);e.display.inCompositionMode=false;e.display.compositionHead=void 0;null!=(r=e.display.textMarkerInComposition)&&r.clear();e.display.textMarkerInComposition=void 0;e.setOption("readOnly",false);e.display.inputDiv.classList.remove("in-composition");e.display.inputDiv.classList.remove("CodeMirror-input-wrapper");o(e);d=function t(){m.disabled=false;n.off(e.display.input,"input",d);if(!e.display.inCompositionMode){e.display.input.value="";e.display.input.style.width="0px";d=void 0}};n.on(e.display.input,"input",d)};p=function t(){if(e.display.inCompositionMode){var n=e.charCoords(e.display.compositionHead).top-h.top;void 0!==f&&(n-=1);e.display.inputDiv.style.top=n+"px";var i=e.charCoords(e.display.compositionHead).left-h.left;e.display.inputDiv.style.left=i+"px"}};v=function n(i){var r=t(e.display.scroller);r.scrollTop(r.scrollTop()-i.wheelDelta)}}e.directive("qvCodeareaCompositionEvent",function(){return{restrict:"A",require:"qvCodearea",link:function e(i,r,o,f){g(f.codemirror,r);var h=f.codemirror.display.input;var b=i.$watch(o.qvCodeareaAutocomplete,function(e){m=e;b()});b=i.$watch("codeareaTouchApi",function(e){if(e){e.onResize(function(){p()});e.onScroll(function(){p()});b()}});t(window).on("resize",p);n.on(f.codemirror,"mousedown",c);n.on(h,"keydown",u);n.on(h,"compositionstart",a);n.on(h,"compositionupdate",s);n.on(h,"compositionend",l);n.on(h,"mousedown",c);n.on(h,"mousewheel",v);i.$on("$destroy",function(){t(window).off("resize",p);n.off(f.codemirror,"mousedown",c);n.off(h,"compositionstart",a);n.off(h,"keydown",u);n.off(h,"compositionupdate",s);n.off(h,"compositionend",l);n.off(h,"input",d);n.off(h,"mousedown",c);n.off(h,"mousewheel",v)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(711)],r=function(e,t){e.directive("qvExpandableList",function(){return{restrict:"A",template:t,controller:["$scope",function(e){e.expandClicked=function(e){e.expanded=!e.expanded;"undefined"!=typeof e.state&&(e.expanded?e.state["sectionExpanded"]=true:e.state["sectionExpanded"]=false)}}]}});e.directive("includeSection",function(){return{restrict:"A",controller:["$scope","$element","$compile",function(e,t,n){t.append(n(e.item.template)(e))}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-expandable-list-component" tcl="expandable-list">\n\t<ul class="qv-expandable-list">\n\t\t<li ng-repeat="item in items track by item.key" tid="section {{item.key}}">\n\t\t\t<div class="qv-expandable-list-header" qva-activate="expandClicked(item)" ng-class="{ \'expanded\': item.state.stateExpanded }" tid="{{item.key}}">\n                <i class="toggle-expand  lui-icon  {{ item.expanded ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></i>\n\t\t\t\t<span class="text" q-translation="{{item.translation}}"></span>\n\t\t\t</div>\n\t\t\t<div class="qv-expandable-list-content" ng-if="item.expanded">\n\t\t\t\t<div include-section></div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(91),n(713),n(97),n(714),n(191)],r=function(e,t,n,i,r,o,a){t.directive("qvInformationArea",function(){return{scope:{info:"=",app:"=",mode:"="},restrict:"E",replace:true,template:i,link:function t(i,s){i.nbrOfStatements=0;i.exprValidator=null;i.state={expanded:false,autoExpanded:false};var l="validating";var u="valid";var c="invalid";var d=s.find(".text-column"),f=e("#expression-editor-content");function p(){setTimeout(function(){d.css({"max-height":f.height()/2})})}function h(){var e=0;""!==i.info.translatedErrorMgs&&e++;""!==i.info.extraErrorMsg&&e++;""!==i.info.expandedExpr&&e++;e>1&&(i.state.autoExpanded=true);i.nbrOfStatements=e}function v(e){i.info.status=e.valid?u:c;i.info.errorMsg=e.valid?"Common.OK":"Expression.Validation.InvalidExpression";i.info.translatedErrorMgs=n.get(i.info.errorMsg);i.info.extraErrorMsg="";if(e.data)if(e.data.bad.length>0){var t=e.data.bad.map(function(e){return e.name});i.info.errorMsg={id:"Expression.Validation.BadFieldName",value:[t.join(", ")]}}else e.data.error&&(i.info.extraErrorMsg=e.data.error);h()}i.$watch("info.codeArea.content",function(e){i.info.status=l;o.getExpandedExpression(i.app,e).then(function(t){if(null==i.exprValidator){i.exprValidator=new a.ExpressionValidator(i.app,i.mode);i.exprValidator.Update.bind(function(e){v(e)})}i.info.expr=e;i.info.expandedExpr=t.qExpandedExpression;i.info.translatedErrorMgs=n.get(i.info.errorMsg);i.exprValidator.validate(i.info.expandedExpr,i.labels)})});i.expandCollapse=function(){i.state.expanded=!i.state.expanded};p();r.on("end.ee-update-size",p);i.$on("$destroy",function(){r.off("end.ee-update-size",p);i.exprValidator=null})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="ia-wrapper" ng-class="{ \'collapsed\' : state.expanded, \'ia-light\' : nbrOfStatements <= 1 }">\r\n    <div class="icon-column">\r\n        <span class="lui-icon  lui-icon--info" aria-hidden="true"></span>\r\n    </div>\r\n    <div class="text-column">\r\n        <div class="ia-text">\r\n           \r\n            <div class="hint" ng-if="info.translatedErrorMgs !== \'\'">\r\n                <span>{{info.translatedErrorMgs}}</span>\r\n            </div>\r\n            <div class="hint" ng-if="info.extraErrorMsg !== \'\'">\r\n                <span>{{info.extraErrorMsg}}</span>\r\n            </div>\r\n            <div class="evaluated" ng-if="info.expandedExpr !== \'\'">\r\n                {{info.expandedExpr}}\r\n            </div>\r\n               \r\n        </div>\r\n    </div>\r\n    <div class="action-column">\r\n        <span class="lui-icon  lui-icon--arrow-down" \r\n              ng-class="{ \'lui-icon--arrow-down\' : !state.expanded, \'lui-icon--arrow-up\' : state.expanded }" \r\n              aria-hidden="true"\r\n              ng-if="nbrOfStatements > 1"\r\n              ng-click="expandCollapse($event)">\r\n        </span>\r\n    </div>    \r\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.getExpandedExpression=function(e,t){return n(e).then(function(e){return e.engineApp.expandExpression(t)}).catch(function(e){console.log("error"+e)})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="expression-input" tcl="expression-input">\n\t\n\t<label q-translation="{{labelTranslation}}"></label>\n\n\t<div class="lui-input-group">\n\n\t\t<input class="lui-input lui-input-group__item lui-input-group__input"\n\t\t\ttype="text"\n\t\t\tspellcheck="false"\n\t\t\tmaxlength="{{maxLength}}"\n\t\t\tng-class="{ \'lui-invalid\': !isValidExpression, \'force-editor\': shouldForceEditInExpressionEditor() }"\n\t\t\tng-model="expression"\n\t\t\tng-model-options="{ updateOn: \'blur\', allowInvalid: true }"\n\t\t\tng-change="onExpressionChange()"\n\t\t\tqva-activate="onExpressionActivate($event)" \n\t\t\tdata-tid="label-exp-input" />\n\n\t\t<button class="lui-button lui-input-group__item lui-input-group__button" \n\t\t\tq-title-translation="Tooltip.OpenExpressionEditor"\n\t\t\tqva-activate="openExpressionDialog( $event )">\n\n\t\t\t<span class="lui-button__icon lui-icon lui-icon--expression edit-expression" ng-class="{\'active\': isExpression}"></span>\n\t\t</button>\n\t\t\n\t</div>\n\n\t<div ng-if="shouldForceEditInExpressionEditor()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n\n</div>'},function(e,t){e.exports='<div class="description-textarea" tcl="description-textarea">\n\n\t<tiny-editor ng-show="enableDescriptionExpression" value="editorValue" on-open="openExpressionDialog( $event )" invalid="!isValid" max-length="maxLength" on-blur="onBlur( $event )" always-expression="{{false}}"></tiny-editor>\n\n\t<textarea ng-show="!enableDescriptionExpression" class="lui-textarea" ng-model="description" maxlength="{{maxLength}}" name="desc" ng-class="{ \'lui-invalid\': !isValid }" tid="description-textarea"></textarea>\n\n</div>'},function(e,t){e.exports='\ufeff<div class="tiny-editor lui-textarea" ng-class="{\'lui-invalid\': invalid, \'lui-focused\': active}">\n\t<div class="textarea-wrapper">\n\t\t<textarea tid="tiny-editor-text" type="text" maxlength="{{maxLength || 8192}}" rows="3" class="wrapped-textarea"\n\t\t\t\t\t\t\tng-trim="false" ng-model="editorValue" ng-change="change()" ng-focus="focused()" ng-blur="blurred()" spellcheck="false">\n\t\t</textarea>\n\t</div>\n\t<button tid="tiny-editor-fx-button"\n\t\t\t\t\tqva-activate="open( $event )"\n\t\t\t\t\tclass="lui-fade-button edit-expression"\n\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor">\n\t\t<span class="lui-icon lui-icon--expression" ng-class="{\'active\': isExpression}"></span>\n\t</button>\n\n</div>'},function(e,t){e.exports='<div class="qv-cloud">\n\t<div class="qv-tageditor">\n\t\t<div class="lui-input-group">\n\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input qv-tagText" tid="tag-cloud-input" ng-model="tagInput" type="text" maxlength="31">\n\t\t\t<button class="lui-button  lui-input-group__item  lui-input-group__button" data-tid="tag-button">\n\t\t\t \t<span class="lui-button__icon  lui-icon  lui-icon--plus" q-title-translation="Tooltip.AddTag" ng-click="addTagsAndFocus( $event )"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<div tid="tag-cloud-cloud" class="qv-tagCloud" data-value="tags">\n\t\t<span ng-repeat="tag in tags" class="qv-tagItem lui-tag">\n\t\t\t<div class="qv-tagContent">{{tag}}</div>\n\t\t\t <div class="lui-icon lui-icon--remove qv-clearTag" ng-click="removeTagAt( $index )" q-title-translation="Common.Delete"></div>\n\t\t</span>\n\t</div>\n</div>\n'},function(e,t){e.exports='<button ng-click="onClick($event, \'inverse\')" qv-enter="onClick($event)" class="colorpicker-button lui-button {{variantClass}}" ng-class="{\'lui-active\': opened === true}" q-title-translation="ColorPicker.Choose">\n\t<span class="lui-button__icon  qv-color-picker-preview" tid="color-picker-preview"></span><span class="lui-button__caret lui-caret"></span>\n</button>'},function(e,t){e.exports='<lui-popover class="qv-cp-popup qv-color-picker-new"\n\t\t\t style="z-index: 1200;"\n\t\t\t ng-style="{\'width\': \'auto\'}"\n\t\t\t collision="\'flipfit\'"\n\t\t\t align-to="$alignToElement"\n\t\t\t on-close-view="closeView(event)"\n\t\t\t tid="color-picker-popup"\n\t\t\t qva-outside-ignore-for="media-toolbar">\n\n\t<div class="qv-cp-flex-new">\n\t\t<div class="qv-cp-main-stage-new" >\n\t\t\t<div ng-show="!customColor" class="color-palette">\n\t\t\t\t<ul class="qv-colorpicker-new palette"\n\t\t\t\t\ttid="color-picker-palette">\n\t\t\t\t\t<li ng-repeat="color in currentPalette | filter: ( $disableNone || \'\' ) && \'!none\' "\n\t\t\t\t\t\tng-click="colorClicked($event, $index, color)"\n\t\t\t\t\t\tng-style="{\'background-color\': color}"\n\t\t\t\t\t\tq-title-translation="{{color === \'none\' ? \'ColorPicker.None\' : color}}"\n\t\t\t\t\t\tclass="lui-icon"\n\t\t\t\t\t\tng-class="{\'lui-icon--tick\': foreColor === color, \'selected-w\' : !isDark, \'transparent\': color === \'none\', \'disabled\' : color === \'none\' && $disableNone}">\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div class="custom-color" ng-show="customColor">\n\t\t\t\t<div hue-sat-wheel-new callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t\t<div value-slider-new callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="$useGlyph" style="height: 156px">\n\t\t\t<div class="qv-cp-glyphs-title-new" q-translation="properties.glyph"></div>\n\t\t\t<div class="qv-cp-glyphs-new">\n\t\t\t\t<button ng-repeat="glyph in $glyphPalette"\n\t\t\t\t\t\tclass="lui-fade-button  lui-fade-button--inverse"\n\t\t\t\t\t\tng-click="setGlyph($event, $index, glyph)"\n\t\t\t\t\t\tng-class="{\'lui-active\': glyphIcon === glyph.icon, \'border\': glyph.cssClass === \'\'}" >\n\t\t\t\t\t<span class="lui-fade-button__icon lui-icon" ng-class="glyph.cssClass"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\n\t<div class="qv-cp-divider-new"></div>\n\n\t<div class="qv-cp-hex-result-new" ng-if="extended || customColor">\n\t\t<div class="qv-cp-preview"\n\t\t\t tid="color-picker-preview"\n\t\t\t ng-class="{\'transparent\' : foreColor === \'none\'}"\n\t\t\t ng-style="getBackgroundStyle(foreColor)"></div>\n\t\t<div class="qv-cp-hex-text">#</div>\n\t\t<input class="qv-cp-hex-input"\n\t\t\t   ng-model="hex.value"\n\t\t\t   ng-change="onHexChange(hex.value)"\n\t\t\t   maxlength="6"\n\t\t\t   tid="{{hex.value}}"\n\t\t\t   ng-keypress="onKeyPress($event)"/>\n\n\t\t<button class="qv-cp-switch lui-button lui-button--inverse"\n\t\t\t\ttid="color-picker-result"\n\t\t\t\tng-class="{\'lui-active\' : customColor }"\n\t\t\t\tng-click="onFoldoutClick($event)"\n\t\t\t\tq-title-translation="{{customColor ? \'ColorPicker.HideOptions\' : \'ColorPicker.ShowOptions\'}}">\n\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--palette"></span>\n\t\t</button>\n\t</div>\n\n\t<div class="qv-colorpicker-recent-wrapper" ng-show="showRecent">\n\t\t<span class="recently-used-text" q-translation="colorpicker.RecentlyUsed"></span>\n\t\t<div>\n\t\t\t<ul class="qv-colorpicker-new recent">\n\t\t\t\t<li ng-repeat="color in recentColors | filter: \'!none\'"\n\t\t\t\t\tng-click="recentColorClicked($event, color)"\n\t\t\t\t\tng-style="{\'background-color\': color}"\n\t\t\t\t\tq-title-translation="{{color === \'none\' ? \'ColorPicker.None\' : color}}"\n\t\t\t\t\tclass="lui-icon"\n\t\t\t\t\tng-class="{\'selected\': foreColor === color, \'selected-w\' : !isDark, \'transparent\': color === \'none\', \'disabled\' : color === \'none\' && $disableNone}"\n\t\t\t\t\tclass="no-margin">\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(722)],r=function(e){function t(t){var n=e.FixedQueue(5,[]);var r;if(i){s(i,n);for(r=t.length-1;r>=1;r--)s(t[r],n)}else for(r=t.length-1;r>=0;r--)n.push(t[r]);return n}var n=r();var i;function r(){return e.FixedQueue(5,[])}function o(){return t(n)}function a(e){s(e,n)}function s(e,t){if("none"!==e){var n=t.indexOf(e);n>-1&&t.splice(n,1);t.push(e)}}function l(e){i=e}function u(){a(i);i=null}return{getPersistentRecentColors:o,initRecentColors:r,persistColor:a,stage:l,commit:u}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(t,n){n=n||[];var i=Array.apply(null,n);i.fixedSize=t;i.push=e.push;i.splice=e.splice;i.unshift=e.unshift;e.trimTail.call(i);return i}e.trimHead=function(){if(this.length<=this.fixedSize)return;Array.prototype.splice.call(this,0,this.length-this.fixedSize)};e.trimTail=function(){if(this.length<=this.fixedSize)return;Array.prototype.splice.call(this,this.fixedSize,this.length-this.fixedSize)};e.wrapMethod=function(e,t){var n=function n(){var i=Array.prototype[e];var r=i.apply(this,arguments);t.call(this);return r};return n};e.push=e.wrapMethod("push",e.trimHead);e.splice=e.wrapMethod("splice",e.trimTail);e.unshift=e.wrapMethod("unshift",e.trimTail);return{FixedQueue:e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(96)],r=function(e,t){e.directive("hueSatWheelNew",function(){return{require:"?hsv",replace:true,template:'<div class="cp-hue-sat-new"><div class="cp-hue-sat-wheel" tid="color-picker-wheel"><div class="cp-hsw-overlay"></div><div class="cp-hsw-pointer"><div class="cp-hsw-inside"/></div></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(n,i){var r=i.find(".cp-hsw-pointer");var o=i.find(".cp-hsw-overlay");var a=i.find(".cp-hue-sat-wheel");var s=a.width()/2;var l=a.height()/2;var u=0;var c=0;function d(e,t){u=(180*Math.atan2(t,e)/Math.PI+360)%360;c=Math.min(Math.max(0,Math.sqrt(t*t+e*e)/s*100),100);n.hsv.h=u;n.hsv.s=c;n.callback&&n.callback({hue:u,sat:c})}function f(e,t){r.css({left:e,top:t})}function p(){var e=Math.cos(u/180*Math.PI)*(c/100*s);var t=Math.sin(u/180*Math.PI)*(c/100*s);f(e+s,l-t)}function h(e,t){var n=Math.sqrt(e*e+t*t);if(n>s){e=e/n*s;t=t/n*s}return{x:e,y:t}}function v(e){var t=a.offset();var n=h(e.x-s-t.left,2*l-e.y-s+t.top);f(n.x+s,l-n.y);d(n.x,n.y)}var m="cp-hsw";t(a[0]).tap({id:m,end:function e(t,n){v(n.pagePoints[0])}}).swipe({id:m,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){v(n.pagePoints[0])}});n.$watch("hsv.v",function(){o.css("background","rgba(0,0,0, "+(100-n.hsv.v)/100+")")});n.$watch("hsv.h",function(){if(u!==n.hsv.h){u=n.hsv.h%360;p()}});n.$watch("hsv.s",function(){if(c!==n.hsv.s){c=n.hsv.s>100?100:n.hsv.s<0?0:n.hsv.s;p()}});n.$watch("visible",function(){p()});n.$on("$destroy",function(){t(a[0]).off("*",m)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(109),n(96)],r=function(e,t,n){function i(e,n,i){return new t("hsv("+e+","+n+","+i+")").toRGB()}e.directive("valueSliderNew",function(){return{require:"?hsv",replace:true,template:'<div class="cp-value" tid="color-picker-slider"><div class="cp-val-slider"><span class="cp-val-pointer"/></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(t,r){var o=r.find(".cp-val-pointer");var a=r.find(".cp-val-slider");var s=100;function l(e){return(e-o.outerWidth()/2)/(a.outerWidth()-o.outerWidth())*100}function u(e){return e/100*(a.outerWidth()-o.outerWidth())+o.outerWidth()/2}function c(e){s=Math.max(Math.min(100,l(e)),0);t.hsv.v=s;t.callback&&t.callback({value:l(e)})}function d(e){o.css({left:e})}function f(e){var t=u(e);d(t)}function p(e){return Math.min(Math.max(e,o.outerWidth()/2),a.outerWidth()-o.outerWidth()/2)}function h(e){var t=a.offset();var n=p(e.x-t.left);d(n);c(n)}var v="cp-hsw";n(r[0]).tap({id:v,end:function e(t,n){h(n.pagePoints[0])}}).swipe({id:v,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){h(n.pagePoints[0])}});t.$watchCollection("[hsv.s, hsv.h]",function(){a.css("background-color",i(t.hsv.h,t.hsv.s,100))});t.$watch("hsv.v",function(){if(s!==t.hsv.v){s=t.hsv.v;f(t.hsv.v)}});t.$watch("visible",function(){f(s)});t.$on("$destroy",function(){n(r[0]).off("*",v)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<button ng-click="onClick($event, \'inverse\')" qv-enter="onClick($event)" class="colorpicker-button lui-button {{variantClass}}" ng-class="{\'lui-active\': opened === true}" q-title-translation="ColorPicker.Choose">\n\t<span class="lui-button__icon  qv-color-picker-preview" tid="color-picker-preview"></span><span class="lui-button__caret lui-caret"></span>\n</button>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(727),n(109),n(728),n(729)],r=function(e,t,n){function i(e,t){if(t[e])return t[e];return e||"none"}function r(e,t,n){if(!e||-1!==n.indexOf(t))return false;return"none"!==t&&!!t}var o={template:t,controller:["$scope","$element","$timeout",function(t,o,a){t.hsv={h:0,s:100,v:100};var s=new n;if(t.$useGlyph){t.foreColor=i(t.$inputViewValue.color,t.$palette);t.glyphIcon=t.$inputViewValue.icon;t.customColor=r(t.$extended,t.$inputViewValue.color,t.$palette)}else{t.foreColor=i(t.$inputViewValue,t.$palette);t.customColor=r(t.$extended,t.$inputViewValue,t.$palette)}t.hex={value:""};t.getBackgroundStyle=function(e){if("none"!==e)return{"background-color":e}};function l(){t.onColorChange(t.$useGlyph,t.index,t.foreColor,t.glyphIcon)}t.setGlyph=function(e,n,i){t.glyphIcon=i.icon;l()};function u(e){s=new n(e);s.isInvalid()&&t.$disableNone&&(s=new n(t.$defaultColor))}function c(e){var n=s.toHex();t.foreColor=s.isInvalid()?"none":n;t.index=e;l();t.isDark=s.isDark()}function d(){s.isInvalid()?t.hex.value="-":t.hex.value=s.toHex().substring(1,7)}function f(){if(!s.isInvalid()){var e=s.toHSVComponents();t.hsv.h=e.h;t.hsv.s=e.s;t.hsv.v=e.v}}var p=null;function h(e){return function(){var t=this,n=arguments;p||(p=a(function(){e.apply(t,n);p=null},100))}}t.hueSatValueChanged=h(function(){u("hsv("+t.hsv.h+","+t.hsv.s+","+t.hsv.v+")");d();c(-1)});function v(e){e="#"+e.replace(/[^0-9A-Fa-f]+/g,"").substring(0,6);u(e);f();c(-1)}t.onHexChange=h(v);t.colorClicked=h(function(e,n){if(!t.$disableNone||"none"!==n){u(n);f();d();c(e)}});t.onFoldoutClick=function(e){e.preventDefault();t.customColor=!t.customColor};t.onKeyPress=function(e){var n=e.which;13===n&&t.close()};u(t.foreColor);f();t.isDark=s.isDark();var m=a(function(){e.$apply(t,function(){d()})});t.$on("$destroy",function(){a.cancel(m);o.find(".qv-cp-hex-input").off()})}]};return{popupComponent:o,isCustom:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover class="qv-cp-popup qv-color-picker"\n\t\t\t\t\t  style="min-width: 100px;z-index: 1200;"\n\t\t\t          ng-style="{\'width\': \'auto\'}"\n\t\t\t\t\t  collision="\'flipfit\'"\n\t\t\t\t\t  align-to="$alignToElement"\n\t\t\t\t\t  on-close-view="closeView(event)"\n\t\t\t\t\t  tid="color-picker-popup"\n\t\t\t\t\t  qva-outside-ignore-for="media-toolbar">\n\n\t<div class="qv-cp-flex">\n\t\t<div class="qv-cp-main-stage" >\n\t\t\t<ul class="qv-colorpicker"\n\t\t\t\tng-show="!customColor"\n\t\t\t\tng-class="{\'extended\' : $extended}"\n\t\t\t\ttid="color-picker-palette">\n\t\t\t\t<li ng-repeat="color in $palette"\n\t\t\t\t\tqva-activate="colorClicked($index, color)"\n\t\t\t\t\tng-style="{\'background-color\': color}"\n\t\t\t\t\tq-title-translation="{{color === \'none\' ? \'ColorPicker.None\' : color}}"\n\t\t\t\t\tclass="lui-icon"\n\t\t\t\t\tng-class="{\'selected\': foreColor === color, \'selected-w\' : !isDark, \'transparent\': color === \'none\', \'disabled\' : color === \'none\' && $disableNone}">\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div ng-show="customColor">\n\t\t\t\t<div hue-sat-wheel callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t\t<div value-slider callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="$useGlyph">\n\t\t\t<div class="qv-cp-glyphs-title" q-translation="properties.glyph"></div>\n\t\t\t<div class="qv-cp-glyphs">\n\t\t\t\t<button ng-repeat="glyph in $glyphPalette" \n\t\t\t\t\t\tclass="lui-fade-button  lui-fade-button--inverse"\n\t\t\t\t\t\tqva-activate="setGlyph($event, $index, glyph)"\n\t\t\t\t\t\tng-class="{\'lui-active\': glyphIcon === glyph.icon, \'border\': glyph.icon === \'\'}" >\n\t\t\t\t\t<span class="lui-fade-button__icon  lui-icon">{{glyph.icon}}</span>\n\t\t\t\t</button>\n\t\t\t\t\x3c!--<li ng-repeat="glyph in $glyphPalette" \n\t\t\t\tqva-activate="setGlyph($event, $index, glyph)" \n\t\t\t\tng-class="{\'selected\': glyphIcon === glyph.icon, \'border\': glyph.icon === \'\'}">{{glyph.icon}}</li>--\x3e\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\t\t<div ng-if="$extended">\n\t\t\t<div class="qv-cp-divider"></div>\n\t\t\t<div class="qv-cp-hex-result">\n\t\t\t\t<div class="qv-cp-preview"\n\t\t\t\t\t\ttid="color-picker-preview"\n\t\t\t\t\t\tng-class="{\'transparent\' : foreColor === \'none\'}"\n\t\t\t\t\t\tng-style="getBackgroundStyle(foreColor)"></div>\n\t\t\t\t<div class="qv-cp-hex-text">#</div>\n\t\t\t\t<input class="qv-cp-hex-input"\n\t\t\t\t\tng-model="hex.value"\n\t\t\t\t\tng-change="onHexChange(hex.value)"\n\t\t\t\t\tmaxlength="7"\n\t\t\t\t\ttid="{{hex.value}}"\n\t\t\t\t\tng-keypress="onKeyPress($event)"/>\n\n\t\t\t\t\t<button class="qv-cp-switch lui-button  lui-button--inverse"\n\t\t\t\t\t\t\ttid="color-picker-result"\n\t\t\t\t\t\t\tng-class="{\'lui-active\' : customColor }"\n\t\t\t\t\t\t\tqva-activate="onFoldoutClick($event)"\n\t\t\t\t\t\t\tq-title-translation="{{customColor ? \'ColorPicker.HideOptions\' : \'ColorPicker.ShowOptions\'}}">\n\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--palette"></span>\n\t\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n</lui-popover>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(96)],r=function(e,t){e.directive("hueSatWheel",function(){return{require:"?hsv",replace:true,template:'<div class="cp-hue-sat"><div class="cp-hue-sat-wheel" tid="color-picker-wheel"><div class="cp-hsw-overlay"></div><div class="cp-hsw-pointer"><div class="cp-hsw-inside"/></div></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(n,i){var r=i.find(".cp-hsw-pointer");var o=i.find(".cp-hsw-overlay");var a=i.find(".cp-hue-sat-wheel");var s=a.width()/2;var l=a.height()/2;var u=0;var c=0;function d(e,t){u=(180*Math.atan2(t,e)/Math.PI+360)%360;c=Math.min(Math.max(0,Math.sqrt(t*t+e*e)/s*100),100);n.hsv.h=u;n.hsv.s=c;n.callback&&n.callback({hue:u,sat:c})}function f(e,t){r.css({left:e,top:t})}function p(){var e=Math.cos(u/180*Math.PI)*(c/100*s);var t=Math.sin(u/180*Math.PI)*(c/100*s);f(e+s,l-t)}function h(e,t){var n=Math.sqrt(e*e+t*t);if(n>s){e=e/n*s;t=t/n*s}return{x:e,y:t}}function v(e){var t=a.offset();var n=h(e.x-s-t.left,2*l-e.y-s+t.top);f(n.x+s,l-n.y);d(n.x,n.y)}var m="cp-hsw";t(a[0]).tap({id:m,end:function e(t,n){v(n.pagePoints[0])}}).swipe({id:m,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){v(n.pagePoints[0])}});n.$watch("hsv.v",function(){o.css("background","rgba(0,0,0, "+(100-n.hsv.v)/100+")")});n.$watch("hsv.h",function(){if(u!==n.hsv.h){u=n.hsv.h%360;p()}});n.$watch("hsv.s",function(){if(c!==n.hsv.s){c=n.hsv.s>100?100:n.hsv.s<0?0:n.hsv.s;p()}});n.$watch("visible",function(){p()});n.$on("$destroy",function(){t(a[0]).off("*",m)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(109),n(96)],r=function(e,t,n){function i(e,n,i){return new t("hsv("+e+","+n+","+i+")").toRGB()}e.directive("valueSlider",function(){return{require:"?hsv",replace:true,template:'<div class="cp-value" tid="color-picker-slider"><div class="cp-val-slider"><span class="cp-val-pointer"/></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(t,r){var o=r.find(".cp-val-pointer");var a=r.find(".cp-val-slider");var s=100;function l(e){return(e-o.outerWidth()/2)/(a.outerWidth()-o.outerWidth())*100}function u(e){return e/100*(a.outerWidth()-o.outerWidth())+o.outerWidth()/2}function c(e){s=Math.max(Math.min(100,l(e)),0);t.hsv.v=s;t.callback&&t.callback({value:l(e)})}function d(e){o.css({left:e})}function f(e){var t=u(e);d(t)}function p(e){return Math.min(Math.max(e,o.outerWidth()/2),a.outerWidth()-o.outerWidth()/2)}function h(e){var t=a.offset();var n=p(e.x-t.left);d(n);c(n)}var v="cp-hsw";n(r[0]).tap({id:v,end:function e(t,n){h(n.pagePoints[0])}}).swipe({id:v,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){h(n.pagePoints[0])}});t.$watchCollection("[hsv.s, hsv.h]",function(){a.css("background-color",i(t.hsv.h,t.hsv.s,100))});t.$watch("hsv.v",function(){if(s!==t.hsv.v){s=t.hsv.v;f(t.hsv.v)}});t.$watch("visible",function(){f(s)});t.$on("$destroy",function(){n(r[0]).off("*",v)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(731),n(91),n(100),n(732),n(501),n(350)],r=function(e,t,n,i){e.directive("qvSegmentColors",["qvRecentGradientsService",function(e){return{restrict:"E",template:t,replace:true,measure:"=",link:function t(r){function o(){var e=false,t=r.measure.coloring;t.gradient||(e=true);!e&&t.gradient.limits&&t.gradient.limits.length!==r.limits.length&&(e=true);e||t.gradient.colors&&t.gradient.limits&&t.gradient.breakType||(e=true);if(!e){t.gradient.colors.forEach(function(t,n){t!==r.colors[n]&&(e=true)});t.gradient.limits.forEach(function(t,n){t!==r.limits[n]&&(e=true)});t.gradient.breakType.forEach(function(t,n){t!==r.types[n]&&(e=true)})}e||t.gradient.limitType===(r.format?"percent":"absolute")||(e=true);e&&r.enable&&(t.gradient={limits:r.limits.slice(),breakType:r.types.slice(),limitType:r.format?"percent":"absolute",colors:r.colors.slice()})}r.measure.coloring.gradient?r.enable=true:r.enable=false;function a(){var e=r.measure.coloring,t;e.gradient||(e.gradient={limits:r.templates[0].limits,breakType:r.templates[0].types.slice(),limitType:r.templates[0].percentage,colors:r.templates[0].colors.slice()});t="absolute"!==e.gradient.limitType;r.format=t;e.gradient.colors.forEach(function(e,t){r.colors[t]=e});e.gradient.limits.forEach(function(e,t){r.limits[t]=e});e.gradient.breakType.forEach(function(e,t){r.types[t]=e});r.enable||delete r.measure.coloring.gradient}r.$watch("enable",function(){r.enable?o():delete r.measure.coloring.gradient});r.templates=[{colors:[i.resolveColor({index:6}),i.resolveColor({index:10})],name:n.get("library.colors.basicTemplate"),limits:[.5],types:[false],percentage:true}];i.scales.forEach(function(e){var t="gradient"===e.type,i=t?e.scale:e.scale[e.scale.length-1],o=i.length-1,a=1/(o+1),s=[],l;for(l=0;l<o;l++)s.push((l+1)*a);r.templates.push({colors:i.slice(),name:n.get(e.translation),limits:s,types:s.map(function(){return t}),percentage:true})});e.getTemplates().forEach(function(e){r.templates.push(e)});r.colors=[];r.limits=[];r.types=[];r.format=true;a();Object.defineProperty(r,"currentTemplate",{set:function e(t){var n=r.templates[t];r.format=!!n.percentage;r.colors.length=0;r.types.length=0;r.limits.length=0;n.colors.forEach(function(e,t){r.colors[t]=e});n.types.forEach(function(e,t){r.types[t]=e});n.limits.forEach(function(e,t){r.limits[t]=e});o()}});r.$watch("colors",function(){o()},true);r.$watch("limits",function(){o()},true);r.$watch("types",function(){o()},true);r.$watch("format",function(){o()})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="segment-colors-wrapper ">\n\n\n\t<div class="segment-colors-row segment-colors-limit-format segment-colors-auto" tid="segment-colors">\n\t\t<p ng-if="false" q-translation="library.colors.applyCustom"></p>\n\t\t<p>\n\t\t\t<span q-translation="library.colors.autoFillSwitch"></span></br>\n\t\t\t<b ng-show="enable" class="qv-dim-dlg-colors-label" q-translation="library.colors.on"></b>\n\t\t\t<b ng-show="!enable" class="qv-dim-dlg-colors-label" q-translation="library.colors.off"></b>\n\t\t</p>\n\t\t<lui-switch x-model="enable"></lui-switch>\n\t</div>\n\t<div class="borderline">\n\t</div>\n\t<div ng-class="{\'overlay\': !enable}">\n\t\t<p q-translation="library.colors.selectTemplate" class="segment-colors-row-text">\n\t\t<div color-drop-down class="segment-color-drop-down segment-colors-row" schemas="templates" ng-model="currentTemplate"></div>\n\t\t<div class="segment-colors-row segment-colors-limit-format" tid="segment-format">\n\t\t\t<p>\n\t\t\t\t<span q-translation="library.colors.limitFormat"></span></br>\n\t\t\t\t<b ng-show="format" class="qv-dim-dlg-colors-label" q-translation="library.colors.PercentageBased" tid="percentage-label"></b>\n\t\t\t\t<b ng-show="!format" class="qv-dim-dlg-colors-label" q-translation="library.colors.FixedValueBased" tid="fixed-value-label"></b>\n\t\t\t</p>\n\t\t\t<lui-switch x-model="format"></lui-switch>\n\t\t</div>\n\t\t<div class="segment-colors-bottom">\n\t\t\t<qv-palette-creator ng-if="colors && colors.length" colors="colors" percentage="format" limits="limits" types="types"></qv-palette-creator>\n\t\t</div>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(733),n(97),n(734),n(349)],r=function(e,t){e.directive("colorDropDown",function(){var n={borderColor:"#B3B3B3"};var i={borderColor:"#595959"};return{template:t,require:"?ngModel",scope:{schemas:"="},link:function t(r,o,a,s){r.show=false;r.expanded=false;r.selected=0;r.getCurrent=function(e){return r.schemas[e]};r.getCurrentName=function(){return r.schemas[r.currentScheme].name};r.currentShowComponent=null;r.currentScheme=s.$viewValue||0;r.close=function(){r.expanded=false;r.expandedBorder=n};function l(e){r.expanded=e}r.checkExpanded=function(){return true===r.expanded};r.onOpenDropDown=function(){if(r.expanded){r.expanded=false;s.$setViewValue(r.currentScheme);r.close()}else{var t=e.getService("luiPopover");r.expanded=true;r.currentShowComponent=t.show({template:"<color-scheme-popup>",input:{schemas:r.schemas,currentScheme:r.currentScheme,onChange:function e(t){s.$setViewValue(t);r.currentScheme=t},expanded:l,width:o.width()-18+"px"},alignTo:o[0],closeOnEscape:true,closeOnOutside:true,closeOnResize:true,outsideIgnore:"color-drop-down-wrapper",dock:"bottom",autoFocus:true})}};r.$watch("schemas",function(){r.show=true});r.activateHover=function(){r.expandedBorder=i};r.disableHover=function(){r.expanded||(r.expandedBorder=n)}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div ng-class="{\'color-drop-down-wrapper-expanded\': checkExpanded()}" class="lui-popover color-drop-down-wrapper" ng-show="show" ng-style=" {\'border-color\' : expandedBorder.borderColor} " ng-mouseenter="activateHover()" ng-mouseleave="disableHover()">\n\t<div qva-activate="onOpenDropDown($event)" class="color-drop-down-popup-item" qva-outside="close()">\n\t\t<span class="color-drop-down-current-name">{{getCurrentName()}}</span>\n\t\t<div qv-color-scheme-display class="color-scheme-drop-down-list-item-colors" colors="getCurrent(currentScheme).colors"  types="getCurrent(currentScheme).types" limits="getCurrent(currentScheme).limits"></div>\n\t\t<span ng-if="!expanded" class="lui-icon lui-icon--small lui-icon--triangle-bottom" class="color-drop-down-triangle" style="float: right;margin-top: -20px; margin-right: 8px"></span>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(735)],r=function(e,t){e.directive("colorSchemePopup",function(){return{schemas:"=",currentScheme:"=",expanded:"=",width:"=",template:t,link:function e(t){t.pickScheme=function(e){for(var n=0;n<t.schemas.length;n++)if(e===t.schemas[n].name){t.onChange&&t.onChange(n);t.close();t.expanded(false)}};t.getSchemas=function(){var e=[];e.push(t.schemas[t.currentScheme]);for(var n=0;n<t.schemas.length;n++)n!==t.currentScheme&&e.push(t.schemas[n]);return e}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-popover color-scheme-drop-down-list-wrapper" ng-style="{\'max-width\' : width}">\n\t<ul class="lui-list color-drop-down-popup-list">\n\t\t<li class="lui-list__item lui-list__action color-drop-down-popup-item" ng-repeat="scheme in getSchemas() track by $index" qva-activate="pickScheme(scheme.name)">\n\t\t\t<div class="color-scheme-drop-down-list-name" >\n\t\t\t\t{{scheme.name}}\n\t\t\t\t<div class="color-scheme-drop-down-list-item-colors" qv-color-scheme-display colors="scheme.colors" types="scheme.types" limits="scheme.limits"></div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>'},function(e,t){e.exports='<div class="qv-color-scheme-display">\n\t<div class="gradient" >\n\t\t<div class="segment" \n\t\t\t ng-class="{\'animate\': animateChange, \'interactive\': allowChange}"\n\t\t\t ng-repeat="color in colors track by $index" \n\t\t\t qva-activate="allowChange && onClick($event, $index)" \n\t\t\t ng-style="segmentStyles[$index]">\n\t\t</div>\n\t\t<div class="marker" ng-class="{\'animate\': animate}" ng-if="allowChange" ng-repeat="limit in lims track by $index" ng-style="{left: getLimitPos(limit)}"></div>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(48),n(97),n(348),n(297)],r=function(e,t,n,i){var r,o=i.popupComponent,a=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"],s=t.getService("qvGlyphService").getDefaultGlyphs();function l(i,l,u,c,d){var f=e.extend({palette:null,glyphPalette:null,useGlyph:false,disableNone:false,defaultColor:"#4477aa",extended:true,dock:"top",actualColor:true},u);f.palette||(f.palette=a);f.glyphPalette||(f.glyphPalette=s);function p(e,t,n){n.value=e;d&&d()}function h(){r&&r.close()}n.on("start",h);var v;var m;var g;var b=t.getService("luiPopover");var y=t.getService("$timeout");r=b.showToPosition({template:o.template,controller:o.controller,input:{$palette:f.palette,$glyphPalette:f.glyphPalette,$useGlyph:f.useGlyph,$disableNone:f.disableNone,$defaultColor:f.defaultColor,$inputViewValue:c.value,$extended:f.extended,onColorChange:function e(t,n,i,r){v&&y.cancel(v);m=t?{color:f.actualColor?i:n,icon:r}:f.actualColor?i:n;g=i;v=y(function(){p(m,g,c);v=null},300)}},x:i,y:l,variant:"inverse",closeOnEscape:true,closeOnOutside:true,outsideIgnore:"colorpicker-tooltip",dock:f.dock,autoFocus:false});r.closed.then(function(){n.off("start",h)})}return{openColorPicker:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){function t(e){e.invalidExpressionIndex=-1;e.segments.forEach(function(t,n){Number.isNaN(+t.limit)&&(e.invalidExpressionIndex=n)});e.hasInvalidExpression=-1!==e.invalidExpressionIndex}function n(e,t,n){if(e===t)return;-1!==e&&n.children().eq(e).removeClass("active-handle");-1!==t&&n.children().eq(t).addClass("active-handle")}function i(e,t,i,r){e.hasInvalidExpression&&(r=e.invalidExpressionIndex);"number"!==typeof r&&(r=e.segments.length-1);n(e.activeIndex,r,i);if(-1!==r&&-1===e.activeIndex){t.find(".limit-options-arrow").removeClass("hidden");t.find(".qv-palette-creator-limit-options").removeClass("hidden")}else if(-1===r){t.find(".limit-options-arrow").addClass("hidden");t.find(".qv-palette-creator-limit-options").addClass("hidden")}e.activeIndex=r}function r(e,n,i,r){t(e);(e.segments.length>0&&r.hasClass("notVisible")||e.segments.length<1&&!r.hasClass("notVisible"))&&r.toggleClass("notVisible");l(e,{min:i.min,max:i.max,step:u(i.max,i.min),values:e.segments.map(function(e){return"NaN"!==e.limit?e.limit:(i.max+i.min)/2})});a(e,n,i.max,i.min);s(e,i)}function o(e,t,n){this.limit=t;this.type=n;Object.defineProperties(this,{percent:{get:function t(){if(e.percentage&&""!==this.limit){if(this.currentInput&&this.currentInput.endsWith("."))return e.inputFocus?this.currentInput:parseFloat(Math.floor(100*this.limit*100)/100)+"%";return e.inputFocus?parseFloat(Math.floor(100*this.limit*100)/100):parseFloat(Math.floor(100*this.limit*100)/100)+"%"}return this.limit},set:function t(n){this.currentInput=n;e.percentage&&!n.endsWith(".")?e.inputFocus?this.limit=""!==n?parseFloat(n/100):"":this.limit=parseFloat(n.replace(/%/g,"")):n.endsWith(".")?this.limit=parseFloat(n/100):this.limit=n}}})}function a(e,t,n,i){if(Number.isNaN(+e.activeIndex)||e.activeIndex<0)return;var r=(e.segments[e.activeIndex].limit-i)/(n-i)*100;r=r<0?0:r;r=r>100?100:r;r+="%";t.find(".limit-options-arrow-fg").css("left",r);t.find(".limit-options-arrow-bg").css("left",r)}function s(e,t){var n=t.max-t.min;e.colorSchemeLimits=[];e.types.length=0;e.limits.length=0;e.segments.map(function(e){return{limit:e.limit,type:e.type}}).sort(function(e,t){if(e.limit!==t.limit)return e.limit<t.limit?-1:1;return 0}).forEach(function(i){e.limits.push(i.limit);e.colorSchemeLimits.push((i.limit-t.min)/n);e.types.push(i.type)})}function l(t,n){t.sliderOptions=e.extend({},t.sliderOptions,n);t.sliderValues=t.sliderOptions.values}function u(e,t){return Number(((e-t)/1e3).toFixed(20))}function c(e){var t,n,i,r=e.segments.length;if(e.percentage){t=0;n=1}else if(0===r){t=0;n=1}else if(1===r&&0===e.segments[0].limit){t=-10;n=10}else if(1===r||e.segments.every(function(t){return t.limit===e.segments[0].limit})){var o=.9*e.segments[0].limit;var a=1.1*e.segments[0].limit;t=Math.min(o,a);n=Math.max(o,a)}else{t=null;n=null;e.segments.forEach(function(e){n=null!==n?Math.max(n,e.limit):e.limit;t=null!==t?Math.min(t,e.limit):e.limit});i=n-t;t-=.3*i;n+=.3*i}return{max:n,min:t}}function d(e,t,n,i,o){var a=c(e);if(a.min!==i.min||a.max!==i.max){e.animate=true;r(e,n,a,o);t(function(){e.animate=false},200)}return a}return{updateOutDataArrays:s,SegmentLimit:o,getSliderStep:u,getRange:c,updateRange:d,updateSliderOptions:l,updateSelectedHandle:n,updateSegments:r,checkInvalidExpressionInLimits:t,updateActiveIndex:i,updateArrow:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-palette-creator">\n\t<button ng-if="!hasInvalidExpression && colors.length" class="lui-button  lui-button--block qv-palette-creator-btn" ng-disabled="addDisabled()" ng-click="addLimit($event)" tid="add-limit-button">\n\t\t<span class="lui-button__text" q-translation="properties.colorScaleCreator.addLimit"></span>\n\t</button>\n\t<div class="qv-palette-creator-container">\n\t\t<div>\n\t\t\t<div class="qv-palette-creator-color-scheme">\n\t\t\t\t<qv-color-scheme-display\n\t\t\t\t\tcolors="colors"\n\t\t\t\t\tlimits="colorSchemeLimits"\n\t\t\t\t\ttypes="types"\n\t\t\t\t\tallow-change="!!colorSchemeLimits"\n\t\t\t\t\tanimate-change="animate">\n\t\t\t\t</qv-color-scheme-display>\n\t\t\t</div>\n\n\t\t\t<div class="pp-component pp-slider-component" class="segment-slider" ng-class="{\'notVisible\': segments.length < 1}">\n\t\t\t\t<div class="value">\n\t\t\t\t\t<div class="slider paletteSlider" ng-class="{\'qv-palette-creator-animate\' : animate}" pp-slider="sliderOptions" ng-model="sliderValues"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-show="hasInvalidExpression" class="invalid-limit-warning invalid-expression-text" q-translation="properties.colorScaleCreator.cantShowSettings">\n\t\t</div>\n\t\t<div class="hidden limit-options-arrow" ng-class="{\'notVisible\': segments.length < 1}">\n\t\t\t<div class="limit-options-arrow-fg" ng-class="{\'no-transition\' : slide}"></div>\n\t\t\t<div class="limit-options-arrow-bg" ng-class="{\'no-transition\' : slide}"></div>\n\t\t</div>\n\n\t\t<div class="qv-palette-creator-limit-options hidden">\n\t\t\t<div ng-repeat="segment in segments track by $index">\n\n\t\t\t\t<div class="lui-input-group" ng-show="$index == activeIndex">\n\t\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" qv-enter="onEnter($index, $event)" ng-focus="onInputFocus()"\n\t\t\t\t\t qva-blur="onEnter($index, $event)" ng-model="segment.percent" type="text" maxlength="31">\n\t\t\t\t</div>\n\t\t\t\t<lui-checkbox id="qv-palette-creator-gradient" ng-show="$index == activeIndex" x-change="onGradient()" x-model="segment.type" title="{{\'properties.gradient\'|translate}}">{{\'properties.gradient\'|translate}}</lui-checkbox>\n\t\t\t\t<button ng-show="$index == activeIndex" class="lui-button  lui-button--block qv-palette-creator-btn" ng-click="removeLimit($index)" tid="remove-limit-button">\n\t\t\t\t\t<span class="lui-button__text" q-translation="properties.colorScaleCreator.removeLimit"></span>\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--bin  remove-icon" q-title-translation="Common.Delete"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(741)],r=function(e,t){e.directive("qvEditMeasure",[function(){return{restrict:"E",template:t,replace:true}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div>\n\t\x3c!-- Expression --\x3e\n\t<div class="measure-component">\n\t\t<label class="qv-metadatalabel" q-translation="metadata.expression">Expression:</label>\n\t\t<tiny-editor class="measureExpArea" value="measure.expression" on-open="openInExpressionDialog( $event )" invalid="!measure.validity.expression"></tiny-editor>\n\t</div>\n\n\t\x3c!-- Name --\x3e\n\t<div class="measure-component">\n\t\t<label q-translation="metadata.name" class="qv-metadatalabel">Name:</label>\n\t\t<input class="lui-input" ng-model="measure.name" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !measure.validity.name }" data-tid="name-input"/>\n\t</div>\n\n\t\x3c!-- Label expression --\x3e\n\t<div class="measure-component">\n\t\t<qv-expression-input expression="measure.labelExpression" is-valid-expression="measure.validity.labelExpression"></qv-expression-input>\n\t</div>\n\n\t\x3c!-- Description --\x3e\n\t<div class="measure-component">\n\t\t<label q-translation="metadata.description" class="qv-metadatalabel">Description:</label>\n\t\t<qv-description-textarea\n\t\t\tdescription="measure.description"\n\t\t\tdescription-expression="measure.descriptionExpression"\n\t\t\tis-valid="measure.validity.description">\n\t\t</qv-description-textarea>\n\t</div>\n\n\t\x3c!-- Measure color --\x3e\n\t<div class="measure-component">\n\t\t<label class="qv-metadatalabel" q-translation="library.colors.measurecolor"></label>\n\t\t<qv-color-picker-button-new ng-model="color" palette="theme.currentPalette" extended="true" toggle-open="true"></qv-color-picker-button-new>\n\t</div>\n\n\t\x3c!-- Tags --\x3e\n\t<div class="measure-component">\n\t\t<label q-translation="metadata.tags" class="qv-taglabel"></label>\n\t\t<qv-tagcloud tags="measure.tags" update="measure.updateTags"></qv-tagcloud>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(743),n(48),n(744),n(94),n(107),n(166),n(113),n(145),n(209),n(268),n(211)],r=function(e,t,n,i,r,o){var a={template:n,controller:["$scope",function(t){function n(){var e=o.validateMetadataName(t.visualization,r);return e&&t.visualization.validity.description&&t.visualization.validity.labelExpression}var a=e.create(t,n);t.stringLimits=r;t.cancel=a.cancel;t.confirm=function(){t.visualization.updateTags();a.save()};i.StateChanged.bind(t.cancel);t.$on("$destroy",function(){i.StateChanged.unbind(t.cancel)});t.$watch("visualization.name",function(){t.visualization.validity.name||o.validateMetadataName(t.visualization,r)})}]};function s(e){var n={title:e.title,confirm:e.confirm,visualization:{name:e.visualization.name,description:e.visualization.description,descriptionExpression:e.visualization.descriptionExpression,labelExpression:e.visualization.labelExpression,tags:e.visualization.tags},onSaveCallback:e.onSaveCallback};return t.getService("luiDialog").show({template:a.template,controller:a.controller,input:n,closeOnOutside:false,showArrow:false,component:a})}return{show:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t){if(!e)throw new TypeError("You must pass a scope to this function");if(!t||"function"!==typeof t)throw new TypeError("You must pass a validateForm function to this function");function n(){e.destroyComponent()}function i(){if(t()){var n=o();e.destroyComponent();e.onSaveCallback(n)}}function r(){e.visualization=e.visualization||{};e.visualization.validity={};e.visualization.validity.name=true;e.visualization.validity.description=true;e.visualization.validity.labelExpression=true}function o(){return{name:e.visualization.name,labelExpression:a(e.visualization.labelExpression),description:e.visualization.description,descriptionExpression:e.visualization.descriptionExpression,tags:e.visualization.tags}}function a(e){var t="string"!==typeof e||0===e.length;if(t)return;return{qStringExpression:{qExpr:"="===e[0]?e.substr(1):e}}}e.visualization=e.input.visualization;r();return{cancel:n,save:i,getFormData:o}}return{create:e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-modal-background"></div>\n<lui-dialog id="visualization-dialog">\n\t<lui-dialog-header class="dm-header" q-translation="{{input.title}}"></lui-dialog-header>\n\t<lui-dialog-body class="dm-main">\n\t\t<div class="visualization-dialog-item">\n\t\t\t<label q-translation="metadata.name">Name:</label>\n\t\t\t<input class="lui-input" ng-model="visualization.name" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !visualization.validity.name }" data-tid="name-input"/>\n\t\t</div>\n\t\t<div class="visualization-dialog-item">\n\t\t\t<qv-expression-input expression="visualization.labelExpression" is-valid-expression="visualization.validity.labelExpression"></qv-expression-input>\n\t\t</div>\n\n\t\t<div class="visualization-dialog-item">\n\t\t\t<label q-translation="metadata.description">Description:</label>\n\t\t\t<qv-description-textarea\n\t\t\t\tdescription="visualization.description"\n\t\t\t\tdescription-expression="visualization.descriptionExpression"\n\t\t\t\tis-valid="visualization.validity.description">\n\t\t\t</qv-description-textarea>\n\t\t</div>\n\t\t<div class="visualization-dialog-item">\n\t\t\t<label q-translation="metadata.tags" class="qv-taglabel"></label>\n\t\t\t<qv-tagcloud tags="visualization.tags" update="visualization.updateTags"></qv-tagcloud>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-footer qv-confirm-label="{{input.confirm}}">\n\t\t<lui-button ng-click="cancel()" tid="2f2a4f" q-translation="Common.Cancel" ></lui-button>\n\t\t<lui-button ng-click="confirm()" tid="2f2a56" q-translation="{{input.confirm}}" ></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>'},function(e,t,n){"use strict";var i,r;!(i=[n(51),n(48),n(91),n(746),n(94),n(107),n(191),n(150),n(295),n(166),n(89),n(316),n(90),n(49),n(145),n(241),n(209),n(351)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p){var h=null;function v(e,t,n){e.validity[t]=!!e[t]&&!!e[t].trim()&&e[t].length<=n.name;return e.validity[t]}function m(e,t){e.validity[t]=!!e[t]&&f.isInteger(e[t])&&!Number.isNaN(+e[t])&&parseInt(e[t],10)>0;return e.validity[t]}function g(e,t){var n=m(e,t);if(n){var i=e[t];e.validity[t]=Math.log10(i)<9}return e.validity[t]}function b(e,t,n,i){var r=new c;var o=u.validateExpr(e,t);if(o){n.validate(e.expression);r.resolve(true)}else{i();r.resolve(false)}return r.promise}function y(e){var t=false;if(u.validateMetadata(e.odagLink,o))if(d.allowedChars(e.odagLink.name))t=true;else{e.odagLink.validity.name=false;t=false}return t}function x(e){var t="unlimited"===e.odagLink.retentionTimeUnit||m(e.odagLink,"retentionLimit");if(t&&e.odagLink.retentionLimit>99999){e.odagLink.validity.retentionLimit=false;t=false}return t}function w(e){var t=false;var n=y(e);var i=v(e.odagLink,"templateApp",o);var r=g(e.odagLink,"rowEstCount");var a=m(e.odagLink,"genAppLimit");var s=x(e);s&&n&&r&&a&&i&&(t=true);return t}function S(e,t){var n=e.getRetentionTimeServerValue(t.odagLink.retentionLimit,t.odagLink.retentionTimeUnit);return{name:t.odagLink.name,templateApp:t.odagLink.templateApp,tags:t.odagLink.tags,rowEstExpr:t.odagLink.expression,rowEstCount:parseInt(t.odagLink.rowEstCount,10),genAppLimit:parseInt(t.odagLink.genAppLimit,10),retentionLimit:n,defaultViewId:t.odagLink.defaultViewId,publishToStreamId:t.odagLink.publishToStreamId}}var C={scope:{title:"=",app:"=",confirmLabel:"=",odagLink:"=",inEditMode:"=",onConfirmCallback:"="},template:i,controller:["$scope","$element","$timeout","odagLinkDialogService",function(e,i,c,d){e.startSpinnerTimeout=null;var f=t.getService("qvLoader");e.isOdagSaas=p.getFlag("ODAG_SAAS_ENABLED");e.odagLink.validity={};e.odagLink.validity.expression=true;e.odagLink.validity.rowEstCount=true;e.odagLink.validity.genAppLimit=true;e.odagLink.validity.retentionLimit=true;e.odagLink.validity.templateApp=true;e.odagLink.validity.name=true;e.templateApps=[];e.exprValidator=null;e.stringLimits=o;e.retentionTimeUnits=[{id:"unlimited",name:n.get("ODAGLink.Dialog.RetentionTimeUnit.NeverExpires")},{id:"d",name:n.get("ODAGLink.Dialog.RetentionTimeUnit.Days")},{id:"h",name:n.get("ODAGLink.Dialog.RetentionTimeUnit.Hours")}];e.defaultViews=[{id:"",name:n.get("ODAGLink.Dialog.DefaultView.AppOverview")}];e.publishToStreams=[{qId:"",qName:n.get("ODAGLink.Dialog.DefaultPublishTo.MyWork")}];function v(){e.startSpinnerTimeout=c(function(){f.show({template:l,hugeLoader:false,mediumLoader:true,appendTo:i.find("#odag-link-dialog .dm-main")[0]})},0,false);return e.startSpinnerTimeout}function g(){c.cancel(e.startSpinnerTimeout);e.startSpinnerTimeout=null;f.close()}function x(){e.odagLink.validity.expression=false}e.cancel=function(){e.destroyComponent()};e.confirm=function(){v().then(function(){h=w(e);b(e.odagLink,o,e.exprValidator,x).then(function(e){e||g()}).catch(function(){g()})})};d.getTemplateApps().then(function(t){e.templateApps=t;e.templateApps.length&&e.odagLink.validity.templateApp&&(e.odagLink.templateApp||(e.odagLink.templateApp=e.templateApps[0].qDocId))});d.getPublishableStreams().then(function(t){if(t)for(var n=0;n<t.length;n++)e.publishToStreams.push(t[n])});r.StateChanged.bind(e.cancel);function C(t){if(h&&t.valid){var n=S(d,e);if(e.onConfirmCallback)e.onConfirmCallback(n).then(function(){g();e.deferredResult.resolve(n)}).catch(function(){g()});else{g();e.deferredResult.resolve(n)}}else g();t.valid||x()}function E(){e.odagLink.templateApp&&d.getSheetsForApp(e.odagLink.templateApp).then(function(t){if(t)for(var n=0;n<t.length;n++)e.defaultViews.push(t[n])})}e.exprValidator=new a.ExpressionValidator(e.app,a.Modes.Expression);e.exprValidator.Update.bind(C);e.openInExpressionDialog=function(t){t.preventDefault();s.show({expr:e.odagLink.expression,title:e.odagLink.expression?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"}).then(function(t){e.odagLink.expression=t})};e.$watch("odagLink.expression",function(){e.odagLink.validity.expression||u.validateExpr(e.odagLink,o)});e.$watch("odagLink.name",function(){e.odagLink.validity.name||y(e)});e.$watch("odagLink.rowEstCount",function(){e.odagLink.validity.rowEstCount||m(e.odagLink,"rowEstCount")});e.$watch("odagLink.genAppLimit",function(){e.odagLink.validity.genAppLimit||m(e.odagLink,"genAppLimit")});e.$watch("odagLink.retentionLimit",function(){e.odagLink.validity.retentionLimit||m(e.odagLink,"retentionLimit")});e.$watch("odagLink.retentionTimeUnit",function(){"unlimited"===e.odagLink.retentionTimeUnit&&(e.odagLink.retentionLimit="")});e.$watch("odagLink.templateApp",function(t,n){if(t!==n){e.odagLink.defaultViewId="";e.defaultViews.splice(1)}E()});e.$on("$destroy",function(){r.StateChanged.unbind(e.cancel);e.exprValidator.Update.unbind(C)})}]};function E(n){var i={retLimit:"",retentionTimeUnit:""};if(n.retentionLimit){var r=t.getService("odagLinkDialogService");i=r.getRetentionTimeDisplayValue(n.retentionLimit)}else{i.retentionTimeValue="0";i.retentionTimeUnit="unlimited"}var o={title:n.title,app:n.app,confirmLabel:n.confirm,inEditMode:n.inEditMode,onConfirmCallback:n.confirmCallback,odagLink:{expression:n.rowEstExpr,rowEstCount:n.rowEstCount,genAppLimit:n.genAppLimit,retentionLimit:i.retentionTimeValue,retentionTimeUnit:i.retentionTimeUnit,defaultViewId:n.defaultViewId,publishToStreamId:n.publishToStreamId,name:n.name,templateApp:n.templateApp?n.templateApp.id:null,tags:n.tags}};return e.show(C,o)}return{show:E}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<qv-modal-dialog qv-id="odag-link-dialog" qv-cancel="cancel()" qv-confirm="confirm()">\n\t<header class="dm-header" q-translation="{{title}}"></header>\n\t<main class="dm-main">\n\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="metadata.name" class="qv-metadatalabel">Name:</label>\n\t\t\t<input class="lui-input" ng-model="odagLink.name" autofocus qva-focus="true" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.name }"/>\n\t\t</div>\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.TemplateApp" class="qv-metadatalabel">Template App:</label>\n\t\t\t<lui-select ng-class="{ \'lui-invalid\': !odagLink.validity.templateApp }" ng-disabled="inEditMode" x-model="odagLink.templateApp" tid="odag-link-templateApp-selector" x-options="templateApp.qDocId as templateApp.qDocName for templateApp in templateApps"></lui-select>\n\t\t</div>\n \t\t<div class="odag-link-component">\n\t\t\t<label q-translation="metadata.expression" class="qv-metadatalabel">Expression:</label>\n\t\t\t<tiny-editor class="rowCountExpArea" value="odagLink.expression" on-open="openInExpressionDialog( $event )"\n\t\t\t\tinvalid="!odagLink.validity.expression"></tiny-editor>\n\t\t</div>\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.MaxRowCount" class="qv-metadatalabel">Max row count:</label>\n\t\t\t<input class="lui-input" ng-model="odagLink.rowEstCount" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.rowEstCount }"/>\t\t\n\t\t</div>\n\t\t<div class="odag-link-divider">\n            <div class="odag-link-divider-label" q-translation="ODAGLink.Dialog.Generated.Apps"></div>\n            <div class="odag-link-divider-line"></div>\n        </div>\t\t\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.MaxGenAppsCount2" class="qv-metadatalabel">Maximum number:</label>\n\t\t\t<input class="lui-input" ng-model="odagLink.genAppLimit" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.genAppLimit }"/>\t\n\t\t</div>\t\t\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.RetentionTime" class="qv-metadatalabel">Retention time:</label>\n\t\t\t<div class="odag-retention-time">\n\t\t\t\t<input class="lui-input" ng-disabled="odagLink.retentionTimeUnit === \'unlimited\'"" ng-model="odagLink.retentionLimit" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.retentionLimit }"/>\t\n\t\t\t\t<lui-select x-model="odagLink.retentionTimeUnit" tid="odag-link-retentionTimeUnit-selector" x-options="retentionTimeUnit.id as retentionTimeUnit.name for retentionTimeUnit in retentionTimeUnits"></lui-select>\n\t\t\t</div>\t\n\t\t</div>\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.DefaultViewWhenOpened" class="qv-metadatalabel">Default view when opened:</label>\t\n\t\t\t<lui-select x-model="odagLink.defaultViewId" tid="odag-link-defaultView-selector" x-options="defaultView.id as defaultView.name for defaultView in defaultViews"></lui-select>\n\t\t</div>\n\t\t<div class="odag-link-component" ng-if="!isOdagSaas">\n\t\t\t<label q-translation="ODAGLink.Dialog.PublishTo" class="qv-metadatalabel">Publish To:</label>\t\n\t\t\t<lui-select x-model="odagLink.publishToStreamId" tid="odag-link-publishTo-selector" x-options="publishToStream.qId as publishToStream.qName for publishToStream in publishToStreams"></lui-select>\n\t\t</div>\n\x3c!--\n\t\t<div class="measure-component">\n\t\t\t<label q-translation="metadata.tags" class="qv-taglabel"></label>\n\t\t\t<qv-tagcloud tags="odagLink.tags" update="odagLink.updateTags"></qv-tagcloud>\n\t\t</div>\n --\x3e\n\t</main>\n\t<footer class="dm-footer">\n\t    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f"></lui-button>\n\t    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); confirm()" name="confirm" q-translation="{{confirmLabel}}" tid="2f2a56" ng-disabled="startSpinnerTimeout !== null" ></lui-button>\n\t</footer>\n\n</qv-modal-dialog>\n'},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;var t={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"};function n(e){return e<0?Math.ceil(e):Math.floor(e)}function i(e){if(e){var n=e.toLowerCase().replace(/(.)s$/,"$1");e=t[e]||n}return e}function r(e){var t={},n,r;for(r in e)if(e.hasOwnProperty(r)){n=i(r);n&&(t[n]=e[r])}return t}function o(e){var t=r(e),n=t.year||0,i=t.month||0,o=t.week||0,a=t.day||0,l=t.hour||0,u=t.minute||0,c=t.second||0,d=t.millisecond||0;this._input=e;this._milliseconds=+d+1e3*c+6e4*u+36e5*l;this._days=+a+7*o;this._months=+i+12*n;this._data={};s.call(this)}function a(t){var n="number"===typeof t,i={},r=null,a,s;if(n)i.milliseconds=t;else if(!!(r=e.exec(t))){a="-"===r[1]?-1:1;s=function e(t){var n=t&&parseFloat(t.replace(",","."));return(Number.isNaN(+n)?0:n)*a};i={y:s(r[2]),M:s(r[3]),d:s(r[4]),h:s(r[5]),m:s(r[6]),s:s(r[7]),w:s(r[8])}}return new o(i)}function s(){var e=this._milliseconds,t=this._days,i=this._months,r=this._data,o,a,s,l;r.milliseconds=e%1e3;o=n(e/1e3);r.seconds=o%60;a=n(o/60);r.minutes=a%60;s=n(a/60);r.hours=s%24;this.hours=function(){return r.hours};t+=n(s/24);r.days=t%30;this.days=function(){return r.days};i+=n(t/30);r.months=i%12;l=n(i/12);r.years=l;function u(e){return 365*Math.floor(e/12)}this.asHours=function(){var t=this._days+u(this._months);return 24*t+e/36e5};this.asDays=function(){var t=this._days+u(this._months);return t+e/864e5}}return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(49),n(91),n(262),n(183),n(325)],r=function(e,t,n,i,r){var o;var a=e.extend("ODAGRestService",{init:function e(t,n,i,r){this._host=t;this._port=n;this._isSecured=r;this._proxy=i},_errorHandler:function e(t){if(!t.isHandled){t.isHandled=true;var r=t.response&&t.response.obj&&t.response.obj.message?t.response.obj.message:"";r||t&&(500===t.status?r=n.get("odag.Error.Unreachable"):t.message&&(r=n.get(t.errObj.message)));i.show({title:n.get("odag.Error.Title"),message:r})}throw t},_isODAGAvailableErrorHandler:function e(t){var n=t.statusCode%500;if(n>=0&&n<100)return false;this._errorHandler(t)},_getAPI:function e(){if(!o){var n=t.getFlag("ODAG_SAAS_ENABLED")?"api":"api/odag/v1";var i=t.getFlag("ODAG_SAAS_ENABLED")?"odag/openapi":"openapi";var a=t.getFlag("ODAG_SAAS_ENABLED");o=r.getApi(n,i,this._isSecured,this._host,this._port,this._proxy,a)}return o},_getLinksWithIds:function e(n,i){var r=null;r={linkList:i};return this._getAPI().then(function(e){if(t.getFlag("ODAG_SAAS_ENABLED"))return e.apis.Link.SyncAppLinkUsages({id:1,selAppId:n},{requestBody:r}).then(function(e){return e.body});return e.apis.Link.SyncAppLinkUsages({selAppId:n,linkUsagePayload:r}).then(function(e){return e.body})}).catch(this._errorHandler)},_getLinks:function e(){return this._getAPI().then(function(e){return e.apis.Link.LinksGet().then(function(e){return e.body})}).catch(this._errorHandler)},_getLink:function e(t){return this._getAPI().then(function(e){return e.apis.Link.LinkGet({linkId:t}).then(function(e){return e.body})}).catch(this._errorHandler)},_isODAGAvailable:function e(){return this._getAPI().then(function(e){if(e.apis.Settings)return!!t.getFlag("ODAG_SAAS_ENABLED")&&e.apis.Settings.IsOdagAvailable().then(function(e){return e.body.available});return e.apis.Global.IsOdagAvailable().then(function(e){return e.body})}).catch(this._isODAGAvailableErrorHandler.bind(this))},_canCreateLink:function e(t){return this._getAPI().then(function(e){var n={};t&&(n.optSelectAppId=t);return e.apis.Link.LinkCanCreate(n).then(function(e){return e.body})},function e(){return{canCreateLinks:false}}).catch(this._errorHandler)},_createLink:function e(n){var i=this;return this._getAPI().then(function(e){if(t.getFlag("ODAG_SAAS_ENABLED"))return e.apis.Link.LinkCreate({id:n.id},{requestBody:n}).then(function(e){return e.body}).catch(i._errorHandler);return e.apis.Link.LinkCreate({linkPayload:n}).then(function(e){return e.body})}).catch(this._errorHandler)},_deleteLink:function e(n,i){var r={statusSetting:"decommission",modifiedDate:i.data.modifiedDate};return this._getAPI().then(function(e){if(t.getFlag("ODAG_SAAS_ENABLED")){r.name=i.data.name;r.selectionApp=i.data.selectionApp;return e.apis.Link.LinkUpdate({linkId:n},{linkId:n,requestBody:r}).then(function(e){return e.body})}return e.apis.Link.LinkUpdate({linkId:n,linkPayload:r}).then(function(e){return e.body})}).catch(this._errorHandler)},_updateLink:function e(n,i){var r=this;return this._getAPI().then(function(e){if(t.getFlag("ODAG_SAAS_ENABLED"))return e.apis.Link.LinkUpdate({linkId:n},{linkId:n,requestBody:i}).then(function(e){return e.body}).catch(r._errorHandler);return e.apis.Link.LinkUpdate({linkId:n,linkPayload:i}).then(function(e){return e.body})}).catch(this._errorHandler)},_renameApp:function e(n,i){return this._getAPI().then(function(e){var r={appName:i};if(t.getFlag("ODAG_SAAS_ENABLED"))return e.apis.Request.RenameApp({requestId:n},{requestId:n,requestBody:r});return e.apis.Request.RenameApp({requestId:n,renameAppPayload:r})}).catch(this._errorHandler)},_deleteApp:function e(t){return this._getAPI().then(function(e){return e.apis.Request.DeleteApp({requestId:t})}).catch(this._errorHandler)},_reloadApp:function e(n,i,r,o,a){var s={};if(i){a&&(s.copyRequest=a);s.actualRowEst=i;s.bindSelectionState=r;s.selectionState=o}return this._getAPI().then(function(e){if(t.getFlag("ODAG_SAAS_ENABLED"))return e.apis.Request.ReloadApp({requestId:n},{requestId:n,requestBody:s});return e.apis.Request.ReloadApp({requestId:n,reloadAppPayload:s})}).catch(this._errorHandler)},_getSelections:function e(t){return this._getAPI().then(function(e){return e.apis.Request.GetSelections({requestId:t}).then(function(e){return e.body})}).catch(this._errorHandler)},_requestAction:function e(t,n,i,r){var o={requestId:t,action:n,ignoreSucceeded:true};void 0!==i&&(o.delGenApp=i);void 0!==r&&(o.autoAck=r);return this._getAPI().then(function(e){return e.apis.Request.RequestAction(o).then(function(e){return e.body})}).catch(this._errorHandler)},_getGeneratedAppsForLink:function e(t,n,i,r,o,a,s){var l={linkId:t};o&&(l.user=o);a&&(l.state=a);s&&(l.pending=s);return this._getAPI().then(function(e){return e.apis.Request.LinkRequestsGet(l).then(function(e){return e.body})}).catch(this._errorHandler)},_generateApp:function e(n,i,r,o,a,s,l){var u={linkId:n,requestPostPayload:{clientContextHandle:r,actualRowEst:a,selectionApp:i,bindSelectionState:s,selectionState:l,sheetname:o}};return this._getAPI().then(function(e){var i;i=t.getFlag("ODAG_SAAS_ENABLED")?e.apis.Request.LinkRequestCreate({linkId:n},{linkId:n,requestBody:u.requestPostPayload}):e.apis.Request.LinkRequestCreate(u);return i.then(function(e){return e.body})}).catch(this._errorHandler)},_getTemplateApps:function e(){var t={appType:"template"};return this._getAPI().then(function(e){return e.apis.Apps.GetApps(t).then(function(e){return e.body})}).catch(this._errorHandler)},getTemplateApps:function e(){return this._getTemplateApps()},getODAGLinksWithIds:function e(t,n){return this._getLinksWithIds(t,n)},getODAGLink:function e(t){return this._getLink(t)},canCreateLink:function e(t){return this._canCreateLink(t)},createODAGLink:function e(t){return this._createLink(t)},deleteODAGLink:function e(t,n){return this._deleteLink(t,n)},updateODAGLink:function e(t,n){return this._updateLink(t,n)},renameApp:function e(t,n){return this._renameApp(t,n)},deleteApp:function e(t){return this._deleteApp(t)},isODAGAvailable:function e(){return this._isODAGAvailable()},reloadApp:function e(t,n,i,r,o){return this._reloadApp(t,n,i,r,o)},getSelections:function e(t){return this._getSelections(t)},generateApp:function e(t,n,i,r,o,a,s){return this._generateApp(t,n,i,r,o,a,s)},getGeneratedAppsForLink:function e(t,n,i,r,o,a,s){return this._getGeneratedAppsForLink(t,n,i,r,o,a,s)},requestAction:function e(t,n,i,r){return this._requestAction(t,n,i,r)}});return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qType:"odag-toolbar-navpoint"},qMetaDef:{},qHyperCubeDef:{qDimensions:[],qInitialDataFetch:[{qLeft:0,qTop:0,qWidth:1,qHeight:0}]}};var t={qInfo:{qType:"odag-toolbar-navpoint"},MaxRowCountExpression:{qValueExpression:{qExpr:""}}};return{fieldHyperCubeProperties:e,maxRowExpression:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover position="input.menuOptions.position"\n\t\t\t\t\t  on-close-view="onOutsidePopover(event)"\n\t\t\t\t\t  class= "qv-guidance-popover"\n\t\t\t\t\t  ng-style="{\'opacity\': popupClosing? 0 : 1, \'width\': input.menuOptions.width, \'top\': input.menuOptions.bottom}" \n>\n\t<div tid="dm-gridview-guidance-popover-content" class="qv-guidance-popover-content">\n\t\t<div class="qv-guidance-popover-title">{{input.title}}</div>\n\t\t<div class="qv-guidance-popover-message">{{input.message}}</div>\n\t\t<div class="qv-guidance-popover-button">\n\t\t\t<button \n\t\t\t\ttid="dm-gridview-guidance-popover-ok-button"\n\t\t\t\tclass="lui-button  lui-button--success qui-popover-ok-button" qva-activate="onCloseClicked()">{{input.buttonText}}</button>\n\t\t</div>\n\t</div>\n</lui-popover>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(89)],r=function(e){function t(e){return e.getProperties().then(function(e){return e.qExtendsId})}function n(n){var i=new e;t(n).then(function(e){n.copyFrom(e).then(function(){n.getProperties().then(function(e){delete e.qMetaDef;delete e.descriptionExpression;delete e.labelExpression;n.setProperties(e).then(function(){i.resolve(e)})})})});return i.promise}return{breakLink:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(){this.tabs=null;this.activeTab=null;this.fullMode=true;this.query="";this.table="All";this.tabExpanded=false;this.expandTab=function(e){this.activeTab=e;this.tabExpanded=true}}e.prototype.setTabs=function(e){this.tabs=e};e.prototype.activateTab=function(e){if(e.loading)return;if(this.activeTab&&e.id===this.activeTab.id&&this.tabExpanded){this.tabExpanded=false;this.query=""}else this.expandTab(e)};e.prototype.getActiveTabId=function(){return this.activeTab&&this.tabExpanded?this.activeTab.id:null};e.prototype.openSection=function(e){for(var t=0;t<this.tabs.length;++t){var n=this.tabs[t];var i=n.openSection(e);if(i){this.expandTab(n);return true}}return false};e.prototype.resize=function(e){null!=this.activeTab&&this.activeTab.resize(e)};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(754),n(755),n(757),n(762),n(800),n(803),n(807),n(810),n(817),n(821),n(115),n(91),n(49),n(113)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p){function h(t){var i=new n(t,"charts");var r={id:"assets-tab-template",section:i,name:"Common.Charts",button:{icon:"object",text:"Common.Charts"}};return new e(r)}function v(t){var n=new i(t);var r={id:"assets-tab-field",section:n,name:"Common.Fields",hasTableFilter:true,haveManageDataButtons:p.LIBRARY_DATA_BUTTONS,button:{icon:"database",text:"Common.Fields"}};var o=new e(r);return o}function m(e){var n=[new r(e),new o(e),new a(e)];f.getFlag("ALT_STATE_ONE")&&n.push(new u(e));var i={id:"library",sections:n,name:"Toolbox.Tab.Title.MasterItems",button:{icon:"link",text:"Tooltip.Toolbox.MasterItems"}};return new t(i)}function g(e,i,r){var o="Common.CustomObjects";var a=[];var l=r.then(function(){(f.getFlag("CLOUD_EXTENSIONS")||!f.getFlag("CLOUD_EXTENSIONS")&&!f.getFlag("DISABLE_ONPREM_EXTENSIONS"))&&a.push(new n(e,"extensions"));var t=c.getRegisteredNames();var r={};t.forEach(function(e){var t=c.getType(e).getLibraryInfo();t&&t.bundle&&t.bundle.id&&!r[t.bundle.id]&&(r[t.bundle.id]=t.bundle)});Object.keys(r).forEach(function(t){a.push(new n(e,"extensions",t,r[t]))});return i.then(function(t){t.forEach(function(t){var n=new s(e);n.title=t.data.name;n.name=t.data.name;n.id=t.data.name;n.infoTitle=d.get("AssetsPanel.Widgets.libraryInfoHeading",n.title);n.description=t.data.description;n.onLoadData(t.resolvedWidgets);a.push(n)});return a})});var u={id:"widgets",sectionsPromise:l,name:o,longname:"Common.CustomObjects",button:{icon:"puzzle",text:"Common.Extensions"}};return new t(u)}function b(t,n){var i=new l(t,n);var r={id:"assets-tab-odag",section:i,name:"ODAG.Toolbox.PanelTitle.NavLinks",hasTableFilter:false,button:{icon:"sign-post",text:"ODAG.Toolbox.Title.ODAGToolbar"}};var o=new e(r);return o}return{createWidgetTab:g,createMasterItemsTab:m,createFieldTab:v,createTemplateTab:h,createODAGTab:b}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(352)],r=function(e){var t;t=e.extend({init:function e(t){t.component={template:'<div id="{{tab.id}}" class="assets-tab"><qv-assets-section section="tab.section" /></div>',controller:function e(){}};this._super(t);this.section=t.section},resize:function e(t){this._super(t);this.section.resize(t)},openSection:function e(t){return this.section.id===t}});Object.defineProperty(t.prototype,"hitCount",{get:function e(){return this.section.matchCount?this.section.matchCount:""}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(352),n(756),n(102)],r=function(e,t,n,i){function r(t,n){var i=t.tab;t.$evalAsync(function(){var r=n.find("#libAccordion");var o=r.find("header");var a=i.activeIndex;var s,l;r.accordion({fillSpace:true,heightStyle:"fill",animate:!("ontouchstart"in window)&&"swing",active:a,beforeActivate:function n(u,c){a=o.index(c.newHeader);s=c.oldPanel.height();l=c.oldPanel.width();i.sections[a].resize({height:s,width:l});e.$apply(t);r.addClass("animating")},activate:function e(){i.sections[a].resize({height:s,width:l});r.removeClass("animating");var t=r.accordion("option","active");i.activeIndex=t}});function u(){r.accordion("option","active",i.activeIndex)}function c(){r.accordion("refresh");i.activeIndex>-1&&i.sections[i.activeIndex].resize()}i.Activate.bind(u);i.Resize.bind(c);t.$on("$destroy",function(){i.Activate.unbind(u);i.Resize.unbind(c)})})}var o;o=t.extend({init:function e(t){var o=this;t.component={template:n,controller:["$scope","$element",r]};o._super(t);o.activeIndex=-1;if(t.sections){o.sections=t.sections;o.activeIndex=this.sections.length-1}else{o.sections=[];o.loading=true;t.sectionsPromise.then(function(e){o.loading=false;o.sections=e;o.activeIndex=o.sections.length-1})}i.create(o,"Activate")},openSection:function e(t){for(var n=0;n<this.sections.length;++n){var i=this.sections[n].id===t;if(i){this.activeIndex=n;this.Activate.emit(n);return true}}return false}});Object.defineProperty(o.prototype,"hitCount",{get:function e(){var t=0;for(var n=0;n<this.sections.length;++n)t+=this.sections[n].matchCount;return t}});return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div id="{{tab.id}}" class="assets-tab">\n    <section class="qui-toolssectionframe" class="accordion" id="libAccordion">\n        <header ng-repeat-start="section in tab.sections" ng-if="!section.hidden" data-accordion-name="{{section.name}}" tid="accordion-header-{{section.id}}" ng-hide="tab.hiddenHeaders" >\n            <div class="active-marker"></div>\n            <div class="header-content">\n                <div ng-if="section.icon" class="icon {{section.icon}}"></div>\n                <h2 class="section-name" q-translation="{{section.title}}"></h2>\n                <qv-outlined-search-hit-indicator count="section.matchCount"></qv-outlined-search-hit-indicator>\n            </div>\n\t\t</header>\n\t\t\n        <div class="assets-section-items" ng-if="!section.hidden" ng-repeat-end>\n            <qv-assets-section section="section" />\n\t\t</div>\n\n    </section>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(95),n(91),n(2),n(94),n(49),n(126),n(136),n(112),n(149),n(137),n(758),n(759),n(761),n(345),n(89),n(111)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v){return s.extend({init:function e(){this.id=a.sectionIDs.template;this.list=[];this.name="template";this.templateType=arguments.length>1?arguments[1]:"charts";this.bundle=arguments.length>2?arguments[2]:void 0;this.bundleInfo=arguments.length>3?arguments[3]:void 0;"charts"===this.templateType&&(this.title="Common.Charts");if("extensions"===this.templateType){this.id=a.sectionIDs.extensions;this.title="Common.Extensions";this.infoTitle=n.get("Common.ExtensionsInfoTitle");this.description=n.get("Common.ExtensionsDescription");this.hasMetaInfo=true;this.shouldShowCloudExtensionsWarning=false;var t=this;if(!o.getFlag("HIDE_ABOUT_BUTTON")){var r={url:"about/v1/systemInfo",headers:{"x-qlik-capabilities":"about"},method:"GET"};this.bundle||i(r).then(function(e){var n=e.data;n.deploymentType&&"QlikSenseServer"===n.deploymentType&&p.showCloudExtensionWarning().then(function(e){t.shouldShowCloudExtensionsWarning=e})})}this.cloudExtensionWarning=n.get("Object.WarningMessage.Cloud.Extensions.NotAvailable")}if("cloudExtensions"===this.templateType){this.id=a.sectionIDs.cloudExtensions;this.title="Common.CloudExtensions";var s=this;h.areCloudExtensionsAvailable().then(function(e){if(e){s.infoTitle=n.get("Common.AvailCloudExtensionsInfoTitle");o.getFlag("DISABLE_ONPREM_EXTENSIONS")?s.description=n.get("Common.AvailCloudExtensionsDescription"):s.description=n.get("Common.AvailCloudExtensionsDescriptionDesktop")}else{s.infoTitle=n.get("Common.UnavailCloudExtensionsInfoTitle");s.description=n.get("Common.UnavailCloudExtensionsDescription")}});this.hasMetaInfo=true}if(this.bundle&&this.bundleInfo){this.id=this.bundle;this.title=this.bundleInfo.name;this.infoTitle=n.get("AssetsPanel.Widgets.libraryInfoHeading",this.bundleInfo.name);this.description=this.bundleInfo.description}this.tooltip="charts"===this.templateType?"":"Common.Extensions";this._super.apply(this,arguments);this.initPreviewManager()},initLoadData:function e(){d.create(this.templateType).then(this.onLoadData.bind(this))},initPreviewManager:function e(){function i(e){t.publish("/ui/library/addToSheet",{item:e})}function o(e){var t=e.item;var r={query:e.query,name:t.name,description:t.descriptionKey?n.get(t.descriptionKey):t.description,imageUrl:t.previewIconURL,hasImage:!!t.previewIconURL,icon:t.icon,tags:t.tags||[]};r.buttons=[u.buttonAddToSheet(i,e.closePreview,t,l.isAddToSheetMode())];r.close=e.closePreview;u.alignPreview(r,e.$element);return f.show(r)}this.previewManager=u.previewManagerFactory({getSlowInfo:function e(t){var n=new v;var i=document.createElement("IMG");var r=new Image;r.onload=function(){i.src=this.src;i.parentNode&&i.parentNode.removeChild(i);n.resolve()};r.onerror=function(){i.parentNode&&i.parentNode.removeChild(i);n.resolve()};r.src=t.previewIconURL;return n.promise},createPreview:o,itemDialogHandler:c,State:r})},onLoadData:function e(t){this.loading=false;for(var n=0;n<t.length;++n)t[n].id=t[n].template;function i(e){var t=new Date(e);return Number.isNaN(+t)||Date.now()<t}var r=this.bundle;var o=t.filter(function(e){return r?!!e.bundle&&e.bundle.id===r&&i(e.deprecated):!e.bundle});0===o.length&&this.bundle&&(this.hidden=true);this.list=l.localeOrderBy(o,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;return t.filter(function(e){return e.isLibraryItem&&l.librarySearchFn(e,n)})},openContextMenu:function n(i,r){if(!l.isAddToSheetMode())return;var o=e.getService("qvContextMenu").menu();i.selected||l.toggleSelection(i,r);o.addItem({translation:"contextMenu.addToSheet",tid:"add-to-sheet",select:function e(){t.publish("/ui/library/addToSheet",{item:i})}});c.openContextMenu(o,i,r)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(115),n(124),n(89),n(91),n(90)],r=function(e,t,n,i,r){function o(e){return{id:"newObject",args:{template:e.template,init:{}}}}var a={create:function s(l){var u=new n;t.load().then(function(){var t=e.getRegisteredNames();var n=t.map(function(t){var n=r.extend(true,{},e.getType(t).getLibraryInfo());n.getDropOption=o.bind(null,n);a.translateName(n,i.get);a.translateDescription(n,i.get);return n}).filter(function(e){return e.visible&&"visualization"!==e.type&&"charts"===l||"visualization"===e.type&&"extensions"===l&&!e.certified||"visualization"===e.type&&"cloudExtensions"===l&&e.certified});n.forEach(function(e){e.type="template"});u.resolve(n)});return u.promise},translateName:function e(t,n){if(!t)throw new TypeError("No item passed");if("function"!==typeof n)throw new TypeError("No translation function passed");t.translationKey&&(t.name=n(t.translationKey))},translateDescription:function e(t,n){if(!t)throw new TypeError("No item passed");if("function"!==typeof n)throw new TypeError("No translation function passed");t.descriptionKey&&(t.description=n(t.descriptionKey))}};return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(760)],r=function(e,t){function n(n){var i={template:t,controller:["$scope",function(e){e.input=n}],dock:"right",alignTo:n.alignTo[0]};return e.getService("luiPopover").show(i)}return{show:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="template-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<div ng-show="input.hasImage" class="template-image-container">\n\t\t\t<img ng-src="{{input.imageUrl}}">\n\t\t</div>\n\t\t<i ng-show="!input.hasImage" class="template-icon  lui-icon  lui-icon--{{input.icon}}"></i>\n\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2><span q-translation="Common.Tags"></span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }" title="{{tag}}">{{tag}}</li>\n\t\t\t</ul>\n\t\t</div>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(2)],r=function(e){var t=function e(){};var n=function e(t){var n=t.data;if(Array.isArray(n)){var i={};n.forEach(function(e){Object.keys(e.attributes||{}).forEach(function(t){i[t]=e.attributes[t]})});return i}return t};t.getWarnings=function(){var t={method:"GET",url:"api/dbws/deployment-warnings"};return e(t).then(function(e){return n(e.data)}).catch(function(){return{}})};t.showCloudExtensionWarning=function(){return t.getWarnings().then(function(e){return Boolean(e.showCloudExtensionWarning)}).catch(function(){return false})};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(54),n(94),n(126),n(136),n(112),n(149),n(137),n(763),n(154),n(106),n(144),n(791),n(148),n(793),n(796),n(229),n(49),n(157),n(142),n(89),n(111),n(233)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g,b,y,x){return r.extend({init:function t(){this.list=[];this.expanded={};this.id=i.sectionIDs.field;this.title="Assets.Section.Fields.Name";this.tid="fields.All";this._super.apply(this,arguments);this.initPreviewManager();this.classificationService=e.getService("classificationService")},bindWatches:function e(){this._super();this.$scope.$watch("assets.table",this.onFilter.bind(this))},initLoadData:function e(){u.getList().then(function(e){this.$scope.listModel=e}.bind(this));c(this.$scope,"listModel",this.onLoadData.bind(this))},initPreviewManager:function e(){var t=this;function i(e){o.addItemToSheetOrVisualization(e)}function r(e){l.addFieldAsDimension(t.assets,e.name)}function u(e){l.addFieldAsMeasure(t.assets,e.name)}function c(e){var t=[];for(var n=0;n<e.length;n++)t.contains(e[n].derivedDefinitionName)||t.push(e[n].derivedDefinitionName);return t}function d(e){return!e.isDerived}function h(e){var t=e.item;var n=this.$scope;t.app=n.listModel.app;var s=t.derivedFields?c(t.derivedFields):void 0;var l=d(t);var h={query:e.query,name:t.name,displayName:t.displayName,sourceField:t.sourceField,calendarTemplateName:t.calendarTemplateName?t.calendarTemplateName:t.derivedDefinitionName,derivedCalendars:s?o.localeOrderBy(s.slice()):[],isDerivedFromDate:t.isDerivedFromDate,isDateField:t.isDateField,tables:t.srcTables?o.localeOrderBy(t.srcTables.slice()):[],typeTranslationKey:p.getTypeTranslationKey(t.tags),alwaysOneSelected:false,isSingleSelectSupported:l};l&&(h.alwaysOneSelected=e.modelInfo.isSingleSelect);h.buttons=[a.buttonAddTo(i,e.closePreview,t,o.getAddToText(),o.isAddToMode())];o.permissionToCreate("dimension")&&h.buttons.push(a.buttonAddDimension(r,e.closePreview,t,true));o.permissionToCreate("measure")&&h.buttons.push(a.buttonAddMeasure(u,e.closePreview,t,true));l&&h.buttons.push(a.buttonFieldSettings(v.show,e.closePreview,t,true));h.close=e.closePreview;a.alignPreview(h,e.$element);return f.show(h)}this.previewManager=a.previewManagerFactory({getSlowInfo:function e(n){var i=new x;var r=t.$scope;var o;o=d(n)?y.isSingleSelect(r.listModel.app,n.name):x.resolve(false);o.then(function(e){i.resolve({isSingleSelect:e})});return i.promise},createPreview:h.bind(this),itemDialogHandler:s,State:n})},onLoadData:function e(t){if(g.getFlag("DISABLE_AUTO_CHART")||b.isVariableDefined("DISABLE_AUTO_CHART")){this.loading=false;t=d.create(t);this.list=o.localeOrderBy(t,function(e){return e.name});this.onFilter()}else this.classificationService.getClassification().then(function(e){var n=e?new m(e):void 0;this.loading=false;t=d.create(t,n);this.list=o.localeOrderBy(t,function(e){return e.name});this.onFilter()}.bind(this),function(){this.loading=false;t=d.create(t);this.list=o.localeOrderBy(t,function(e){return e.name});this.onFilter()}.bind(this))},doFilter:function e(n){var i=this.assets.query;var r=this.assets.table;var a=[];if(i&&""!==i)for(var s=0;s<n.length;s++){var l=t.extend({},n[s]);var u=l.derivedFields;u&&u.length>0&&(l.derivedFields=[]);a.push(l);if(u&&u.length>0)for(var c=0;c<u.length;c++)a.push(u[c])}else a=n;return a.filter(function(e){var t=o.librarySearchFn(e,i);var n="All"===r||-1!==e.srcTables.indexOf(r);return t&&n})},openContextMenu:function t(n,i){n.selected||o.toggleSelection(n,i);var r=e.getService("qvContextMenu").menu({docking:"BottomLeft"}),a=this,u=this.$scope.listModel.app;o.isAddToMode()&&r.addItem({translation:o.getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){o.addItemToSheetOrVisualization(n)}});o.permissionToCreate("dimension")&&r.addItem({translation:"contextMenu.addToMasterItems.AsDimension",tid:"add-field-as-dimension",select:function e(){l.addFieldAsDimension(a.assets,n.name)}});o.permissionToCreate("measure")&&r.addItem({translation:"contextMenu.addToMasterItems.AsMeasure",tid:"add-field-as-measure",select:function e(){l.addFieldAsMeasure(a.assets,n.name)}});o.permissionToCreate("measure")&&!n.isDerivedFromDate&&r.addItem({translation:"AssetsPanel.CalendarFlags.GenerateCalendarMeasures",tid:"generate-calenar-measures",select:function t(){var i=e.getService("luiDialog");i.show({controller:h.component.controller,template:h.component.template,input:{selectedField:n,assets:a.assets}})}});n.isDerived||r.addItem({translation:"contextMenu.fieldSettings",tid:"open-field-settings",select:function e(){n.app=u;v.show(n)}});s.openContextMenu(r,n,i)},addItemToSheetOrActiveObject:function e(t,n){n?o.addItemToSheetOrVisualization(t,n):o.addItemToSheetOrVisualization(t)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(502),n(126)],r=function(e,t){function n(e){if("object"!==o(e))throw new Error("assets")}function i(e){if("string"!==typeof e)throw new Error("fieldName")}function r(t,r,o,a){n(o);i(a);e[t](a,function(){o.openSection(r)})}return{addFieldAsDimension:r.bind(null,"showAddDimensionDialog",t.sectionIDs.dimension),addFieldAsMeasure:r.bind(null,"showAddMeasureDialog",t.sectionIDs.measure)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(170),n(765),n(767),n(310),n(389),n(459)],r=function(e,t,n,i,r,o,a){function s(e,t,r){if(!e)throw new Error("Raw data is undefined.");if(!r)throw new Error("Cached ideal data is undefined.");var o,a,s=[];for(o in e.qk){a=e.qk[o];var c=a.qTables.length<3?l(r,a):u(r,a);s.push(c)}n.markConnectionAsCircularReferences(t,s);i.appendArms(s);return s}function l(e,n){var i=n.qKeyFields[0];var r=t.encodeTableName(n.qTables[0]);var o=t.encodeTableName(n.qTables[1]);var a=f(e,r);var s=f(e,o);var l={fieldName:i,tables:[r,o],lines:[]};var u=c(e,r,i,s.left);var d=c(e,o,i,a.left);l.lines.push({start:{targetIsToLeft:u.targetIsToLeft,top:u.top,left:u.left},end:{targetIsToLeft:d.targetIsToLeft,top:d.top,left:d.left},startTable:r,endTable:o});return l}function u(e,n){var i=Number.MAX_VALUE,r=Number.MAX_VALUE,o=0,a=0,s=n.qKeyFields[0];var l={fieldName:s,tables:[],lines:[]};var u;for(u in n.qTables){var d=t.encodeTableName(n.qTables[u]);var p=f(e,d);var h=1===t.getTableElement(d).length?t.getFieldElement(d,s).position().top:p.height;l.tables.push(d);i=Math.min(i,p.top);r=Math.min(r,p.left);o=Math.max(o,p.top+h);a=Math.max(a,p.left+p.width)}l.interception={top:i+(o-i)/2,left:r+(a-r)/2};for(u in n.qTables){var v=t.encodeTableName(n.qTables[u]);l.lines.push({start:{targetIsToLeft:c(e,v,s,l.interception.left).targetIsToLeft,top:c(e,v,s,l.interception.left).top,left:c(e,v,s,l.interception.left).left},end:{top:l.interception.top,left:l.interception.left},startTable:v})}return l}function c(n,i,s,l){if("number"!==typeof l)throw new Error("targetLeftPosition is not a number");var u=45;var c=5;var p=t.getTableElement(i);var h=p.find("li[data-name='"+s.replace(/'/g,"\\'")+"']");var v=o.getCurrentZoomLevel();var m=t.getTableHeader(i).outerHeight();var g=f(n,i);var b=t.getTableElementTop(i);var y=t.getTableHeightByTableName(i);var x=d(n,i,l);var w=x?g.left+g.width-c:g.left+c;var S;if(h.offset()){S=h.offset().top-u+e(".table-container").scrollTop();S=a.getDimensionBasedOnZoom(S,v);S+=h.height()/2}else S=0;var C=y<=m;var E=b+m;(S<E||C)&&(S=b+m/2);var q=b+y-r.OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM;S>q&&(S=q);return{targetIsToLeft:x,top:S,left:w}}function d(e,t,n){if("number"!==typeof n)throw new Error("targetLeftPosition is not a number");var i=f(e,t);return i.left<n}function f(e,n){var i=e[n];if(!i)throw new Error('Cannot find table "'+n+'" for position.');var r=t.getTableElementTop(n);var o=t.getTableElementLeft(n);var a=t.getTableHeightByTableName(n);var s=t.getTableWidthByTableName(n);return{top:r,left:o,height:a,width:s}}return{convertRawDataToIdealConnectionData:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(766)],r=function(e){function t(t,n){e.getTablesWithCircularReferences(t,function(e){for(var t in n){var i=n[t];for(t in i.lines){var r=i.lines[t];-1===e.indexOf(r.startTable)&&-1===e.indexOf(r.endTable)||(r.isCircular=true)}}})}return{markConnectionAsCircularReferences:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(279)],r=function(e){function t(t,n){e.getTablesAndKeys(t).then(function(t){e.getLooselyCoupledVector(function(e){var i=[];for(var r=0;r<t.qtr.length;r++){var o=e.qv[r];if(0!==o){var a=t.qtr[r].qName;i.push(a)}}n(i)})})}return{getTablesWithCircularReferences:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){function e(e){var n,i,r,o,a;for(n in e){var s=[];i=e[n];for(r in i.lines){o=i.lines[r];a=t(i,o);s=s.concat(a)}i.lines=i.lines.concat(s)}}function t(e,t){var n=15,i=7,r=5,o,a,s,l,u,c=[];a=t.start.left+(t.start.targetIsToLeft?n:-n);s=a+(t.start.targetIsToLeft?-r:i);l=t.end.left+(t.end.targetIsToLeft?n:-n);u=l+(t.start.targetIsToLeft?r:-i);o={left:t.end.targetIsToLeft?u:s,top:t.end.targetIsToLeft?t.end.top:t.start.top};c.push({isCircular:t.isCircular,isArm:true,start:{top:t.start.top,left:t.start.left},end:{top:t.start.top,left:a},startTable:t.startTable,endTable:t.endTable,connectionPoint:o});t.start.left=a;if(!e.interception){o={left:t.end.targetIsToLeft?s:u,top:t.end.targetIsToLeft?t.start.top:t.end.top};c.push({isCircular:t.isCircular,isArm:true,start:{top:t.end.top,left:t.end.left},end:{top:t.end.top,left:l},startTable:t.startTable,endTable:t.endTable,connectionPoint:o});t.end.left=l}return c}return{appendArms:e}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(90),n(127),n(769),n(770),n(94),n(771),n(91),n(354),n(107),n(166),n(317),n(125),n(11),n(206),n(179),n(270),n(161),n(100),n(779),n(99),n(249),n(145),n(268),n(211),n(209),n(263),n(503),n(296),n(298),n(782)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g,b,y,x){var w=l.dimensionTypes,S,C="drilldown",E="single",q,_=false;function T(e,t,n){function i(){var e=n.input.dimension.selectedFields[0];!e||""!==e&&e!==n.input.dimension.name||(n.input.dimension.name="")}e===C&&t===E&&(n.add?i():!_&&n.colorModelWrapper.hasColors()?d.show({text:"library.colors.drilldownwarning"}).then(function(){i()}).catch(function(){n.input.dimension.type=E;O(n)}):i());e===E&&1===n.input.dimension.selectedFields.length&&q.validateFieldsInDimension();if(e===E&&n.input.dimension.selectedFields.length>1){_=true;d.show({text:"Dimensions.Dialog.FieldDeleteWarning"}).then(function(){n.input.dimension.type=E;n.input.dimension.selectedFields.length=1;O(n);_=false;n.colorModelWrapper=new y(n.input.dimension);n.colorModelWrapper.initModel()}).catch(function(){_=false});n.input.dimension.type=t}}function k(e,t,n){if(n.input.dimension.type===E&&1===e.length&&q.isFieldInList(e[0],n.input.dimension.allFields)){var i=g.trimAutoCalendarName(e[0]);var r=g.trimAutoCalendarName(t[0]);(1!==t.length||r!==n.input.dimension.name&&n.input.dimension.name)&&(0!==t.length||n.input.dimension.name)||(n.input.dimension.name=i)}else n.input.dimension.type===E&&n.input.dimension.name===t[0]&&q.isFieldInList(n.input.dimension.name,n.input.dimension.allFields)&&(n.input.dimension.name="")}function O(e){e.input.dimension.allFields.forEach(function(t){t.selected=e.input.dimension.selectedFields.contains(t.qName)})}function D(e){e.input.dimension.allFields.forEach(function(t){t.used=t.used||e.input.dimension.selectedFields.contains(t.qName)})}function A(e){e.input.dimension.allFields.forEach(function(e){e.used=false})}function I(e){return{name:e.input.dimension.name,description:e.input.dimension.description,descriptionExpression:e.input.dimension.descriptionExpression,tags:e.input.dimension.tags,expr:e.input.dimension.selectedFields,type:e.input.dimension.type,baseColor:e.input.dimension.qDim.coloring.baseColor,colorsChanged:true,labelExpression:e.input.dimension.labelExpression}}function L(e,t){e.$watch("input.dimension.type",T);e.$watch("input.dimension.selectedFields",k,true);e.$watch("input.dimension.selectedTable",t.filterFields);e.$watch("input.dimension.name",function(){e.input.dimension.validity.name||t.validateNameField()});e.$watch("input.dimension.selectedFields",function(){e.input.dimension.validity.selectedFields||t.validateFieldsInDimension();e.input.dimension.selectedFields.length?e.input.dimension.fieldName=e.input.dimension.selectedFields[0]:e.input.dimension.fieldName=null},true);e.$watch("search.query",function(){t.filterFields()})}var P={template:i,controller:["$scope","qvConfirmDialog",function(e,i){var r=e.input.tableData,l=e.input.dimension;e.scrollDown=0;e.initColorMap=function(t){e.visible=t};e.theme=b;e.input.dimension.qDim.coloring||(e.input.dimension.qDim.coloring={});Object.defineProperty(e,"color",{get:function t(){return e.theme.resolveColor(e.input.dimension.qDim.coloring.baseColor)},set:function t(n){var i="undefined"!==typeof n.color?n.color:n;var r="undefined"!==typeof n.index?n.index:e.theme.currentPalette.indexOf(n);e.input.dimension.qDim.coloring.baseColor={color:i,index:r}}});l.name=g.trimAutoCalendarName(l.name);l.validity={};l.validity.description=true;l.validity.name=true;l.validity.selectedFields=true;l.validity.labelExpression=true;l.selectedFields=l.qDim.qFieldDefs;l.labelExpression=l.qDim.qLabelExpression;l.descriptionExpression=l.qDim.descriptionExpression;l.type=l.qDim.qGrouping===w.drilldown?C:E;l.stringLimits=u;l.allFields=[];S=s.get("Common.All.Tables");e.allTablesStr=S;l.selectedTable=S;if(!e.add&&l.type===E){e.colorModelWrapper=new y(l);e.colorModelWrapper.initModel()}e.showLabelExpression=function(){return l.type===E};e.search={query:""};e.sortableLists={options:{direction:"vertical",itemSelector:"li:not(.empty-expression-placeholder)"},onBegin:function e(t){d(t)},onEnter:function t(n){f.move(l.selectedFields,e.placeholderIndex,n);e.placeholderIndex=n},onMove:function t(n,i){h();if(null===i||e.placeholderIndex===n)return;n<i&&i--;f.move(l.selectedFields,n,i)},onCancel:function e(){h()},allowDrag:function e(t){if(x.isMouse(t))return!!p(t.target).closest(".field-token").length;return!!p(t.target).closest(".icon-handle").length}};e.placeholderIndex=-1;function d(t){e.placeholderIndex=t;l.selectedFields.splice(t,0,"")}function h(){if(-1!==e.placeholderIndex){l.selectedFields.splice(e.placeholderIndex,1);e.placeholderIndex=-1}}e.$root.$evalAsync(function(){q=a.create(e,c,u);L(e,q)});if(r){l.allFields=r.fields;l.filteredFields=r.fields.slice();l.tables=r.tables;l.tables.unshift(S)}e.cancel=function(){l.updateTags();!e.input.add||q.isEmpty()?e.destroyComponent():i.show({message:s.get("Dimensions.Dialog.CloseWarning"),icon:"cogwheel"}).closed.then(function(t){t&&e.destroyComponent()})};o.StateChanged.bind(e.cancel);e.showAddingFeedback=function(){e.adding=true;setTimeout(function(){e.adding=false;e.added=true;e.$apply()},500)};e.hideAddedFeedback=function(){e.added=false};e.getFieldDisplayName=function(t){var n=t.isDerived&&""===e.search.query?t.qName.substring(t.qName.lastIndexOf(".")+1,t.qName.length):g.trimAutoCalendarName(t.qName);return n};e.getTrimmedName=function(e){return g.trimAutoCalendarName(e)};e.confirm=function(){l.updateTags();l.expr=l.selectedFields;if(q.validate())if(e.input.add){e.input.callback(I(e));D(e);q.clearDialog();O(e);e.showAddingFeedback();e.color="none"}else if(e.colorModelWrapper){e.input.dimension.selectedFields.length>1&&e.colorModelWrapper.clearColors();e.colorModelWrapper.save().then(function(){e.input.callback(I(e));e.destroyComponent()})}else{e.input.callback(I(e));e.destroyComponent()}};e.selectFieldHandler=function(t,i){i.preventDefault();setTimeout(function(){var r=n.elementFromEventPosition(i);var o=r!==i.target;if(o)return;q.selectFieldHandler(t);O(e);e.$apply()},100)};e.removeItemHandler=function(t){l.selectedFields.splice(t,1);e.expressionColor=false;O(e)};function v(t,n){q.updateFieldExpression(t,n);e.expressionColor=true;O(e)}e.editExpressionHandler=function(n,i){n.preventDefault();var r=e,o=r.input.dimension.selectedFields[i]||"";"="!==o.substr(0,1)&&o.length&&(o="="+t.escapeField(o));r.input.expressionInterface(v,i,o)};O(e);A(e)}]};function M(t){var n={title:t.title,tableData:t.tableData,dimension:t.dimension,expressionInterface:t.expressionInterface,add:t.add,callback:t.callback};var i=e.getService("luiDialog").show({template:P.template,controller:P.controller,input:n,dock:"top",closeOnOutside:false,showArrow:false});return i}function N(e){e.title="Dimensions.Dialog.Add.Title";e.add=true;M(e)}function R(e){e.title="Dimensions.Dialog.Edit.Title";M(e)}e.directive("qvFieldList",["$timeout",function(e){return{template:r,link:function t(n,i){var r={minRowHeight:38,maxRowHeight:38,blockSize:60,keepItemsCount:10};var a=new h(e,r);n.scroll=a;var s=new m(a);n.$evalAsync(function(){var e=i.find(".scroll-area");var t=e.controller("qvScrollArea");var r=new v(e,e,".lui-list__item",".lui-list__item:first",".lui-list__item:last");var l=i.find(".qv-scroll-loader").controller("qvScrollLoader");a.initialize(r,s,t,l).then(function(){a.activate();a.updateViewport();n.$watch("input.dimension.filteredFields",function(e){if(!e)return;s.setList(e)})});n.$on("$destroy",function(){a.destroy();o.StateChanged.unbind(n.cancel)})})}}}]);e.directive("qvScroll",[function(){return{link:function e(t,n){t.$watch("scrollDown",function(e){e&&(n[0].scrollTop=n.find(".empty-expression")[0].parentNode.offsetTop)})}}}]);return{add:N,edit:R}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-modal-background"></div>\n<div class="lui-dialog" id="dimensions-dialog" data-tid="dim-dialog">\n\t<div class="dimension-dialog-dimvalcol-wrapper dimension-dialog-container">\n\t\t<lui-tab-view>\n\t\t\t<div ng-show="!input.add" class="lui-dialog__header">\n\t\t\t\t<lui-tabset fill="true">\n\t\t\t\t\t<lui-tab q-title-translation="{{input.title}}" q-translation="{{input.title}}" on-tab-selected="initColorMap(false)" ref="tab1"></lui-tab>\n\t\t\t\t\t<lui-tab q-title-translation="library.colors.valuecolors" q-translation="library.colors.valuecolors" on-tab-selected="initColorMap(true)" ng-class="{\'lui-disabled\' : ((input.dimension.type === \'drilldown\' ) || !!input.add)}" ref="tab2" tid="value-col-tab"></lui-tab>\n\t\t\t\t</lui-tabset>\n\t\t\t</div>\n\t\t\t<div ng-if="input.add" class="lui-dialog__header">\n\t\t\t\t<div class="lui-dialog__title dimension-dialog-add-title" q-translation="{{input.title}}"></div>\n\t\t\t</div>\n\t\t\t<div class="lui-dialog__body">\n\t\t\t\t<lui-tab-content ref="tab1">\n\t\t\t\t\t<div data-dimension-type="{{input.dimension.type}}" class="dimension-type-{{input.dimension.type}}" ng-class="{ \'label-expression\': showLabelExpression() }">\n\t\t\t\t\t\t<div class="dimension-dialog-radio">\n\t\t\t\t\t\t\t<lui-radiobutton class="dimension-dialog-radio-single"\n\t\t\t\t\t\t\t\t\t\t\t x-name="dimension-type"\n\t\t\t\t\t\t\t\t\t\t\t x-model="input.dimension.type"\n\t\t\t\t\t\t\t\t\t\t\t x-value="single">\n\t\t\t\t\t\t\t\t{{ \'Common.Single\' | translate }}\n\t\t\t\t\t\t\t</lui-radiobutton>\n\t\t\t\t\t\t\t<lui-radiobutton class="dimension-dialog-radio-drilldown"\n\t\t\t\t\t\t\t\t\t\t\t x-name="dimension-type"\n\t\t\t\t\t\t\t\t\t\t\t x-model="input.dimension.type"\n\t\t\t\t\t\t\t\t\t\t\t x-value="drilldown">\n\t\t\t\t\t\t\t\t{{ \'Dimensions.Dialog.Type.DrillDown\' | translate }}\n\t\t\t\t\t\t\t</lui-radiobutton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id="dimensions-dialog-content">\n\t\t\t\t\t\t\t\x3c!-- Available fields --\x3e\n\t\t\t\t\t\t\t<section id="dimension-dialog-fields" class="field-box">\n\t\t\t\t\t\t\t\t<h1 q-translation="Assets.FieldsTab.Table"></h1>\n\t\t\t\t\t\t\t\t<lui-select x-model="input.dimension.selectedTable" x-options="table for table in input.dimension.tables"></lui-select>\n\t\t\t\t\t\t\t\t<div class="dimension-dialog-search">\n\t\t\t\t\t\t\t\t\t<qv-assets-search-panel query="search.query" look="light" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div qv-field-list class="dimension-dialog-field-list">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\x3c!-- Selected fields --\x3e\n\t\t\t\t\t\t\t<section class="dimension-editor-form">\n\t\t\t\t\t\t\t\t<section id="dimensions-dialog-field-reference" class="field-box">\n\t\t\t\t\t\t\t\t\t<h1 q-translation="Dimensions.Dialog.FieldReference"></h1>\n\t\t\t\t\t\t\t\t\t<ul qv-scroll id="dimensions-dialog-field-tokens"\n\t\t\t\t\t\t\t\t\t\tng-class="{ invalid: !input.dimension.validity.selectedFields }"\n\t\t\t\t\t\t\t\t\t\tqv-sortable-list="sortableLists">\n\t\t\t\t\t\t\t\t\t\t<li ng-repeat="field in input.dimension.selectedFields" data-id="{{field}}" title="{{field}}" ng-class="{ placeholder: $index === placeholderIndex }">\n\t\t\t\t\t\t\t\t\t\t\t<div class="field-wrapper field-token">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="lui-icon lui-icon--handle" q-title-translation="Common.Move"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="field-text">{{field}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="lui-icon lui-icon--remove remove" ng-click="removeItemHandler($index)" q-title-translation="Common.Delete"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="expression-input">\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="lui-fade-button" ng-click="editExpressionHandler($event, $index)" q-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--expression" ng-class="{ \'active\': expressionColor }"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<button class="lui-fade-button empty-expression" ng-click="editExpressionHandler($event)" q-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--expression"></span>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t\x3c!-- Meta data--\x3e\n\t\t\t\t\t\t\t\t<section class="metadata-form">\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Name --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t\t\t<label q-translation="metadata.name"></label>\n\t\t\t\t\t\t\t\t\t\t<input class="lui-input" type="text" name="metadata-name" maxlength="255" ng-model="input.dimension.name" id="dimensions-dialog-name" ng-class="{ \'lui-invalid\': !input.dimension.validity.name }" data-tid="dim-dialog-name" >\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Label expression --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item" ng-if="showLabelExpression()">\n\t\t\t\t\t\t\t\t\t\t<qv-expression-input class="metadata-item" expression="input.dimension.labelExpression" is-valid-expression="input.dimension.validity.labelExpression" data-tid="dim-dialog-labelexp"></qv-expression-input>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Description --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t\t\t<label q-translation="metadata.description"></label>\n\t\t\t\t\t\t\t\t\t\t<qv-description-textarea\n\t\t\t\t\t\t\t\t\t\t\t\tdescription="input.dimension.description"\n\t\t\t\t\t\t\t\t\t\t\t\tdescription-expression="input.dimension.descriptionExpression"\n\t\t\t\t\t\t\t\t\t\t\t\tis-valid="input.dimension.validity.description"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-tid="dim-dialog-description">\n\t\t\t\t\t\t\t\t\t\t</qv-description-textarea>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Dimension color --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t\t\t<label class="qv-metadatalabel" q-translation="library.colors.dimensioncolor"></label>\n\t\t\t\t\t\t\t\t\t\t<qv-color-picker-button-new ng-model="color" palette="theme.currentPalette" extended="true" toggle-open="true"></qv-color-picker-button-new>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Tags --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item tags">\n\t\t\t\t\t\t\t\t\t\t<label q-translation="metadata.tags" class="qv-taglabel"></label>\n\t\t\t\t\t\t\t\t\t\t<qv-tagcloud tags="input.dimension.tags" update="input.dimension.updateTags"></qv-tagcloud>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t<lui-button ng-if="input.add" ng-click="confirm()" class="add-dimension-button" autofocus q-translation="Dimensions.Dialog.Add.Button" data-tid="add-dim-button"></lui-button>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</lui-tab-content>\n\t\t\t\t<lui-tab-content ref="tab2">\n\t\t\t\t\t<section class="metadata-form">\n\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t<qv-dimension-colors visible="visible" color-model-wrapper="colorModelWrapper"></qv-dimension-colors>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</lui-tab-content>\n\t\t\t</div>\n\t\t</lui-tab-view>\n\t</div>\n\t<div class="lui-dialog__footer">\n\t\t<qv-spinner show="adding"></qv-spinner>\n\t\t<div ng-if="added" qva-outside="hideAddedFeedback()" class="qv-animate dimension-added">\n\t\t\t<i class="lui-icon lui-icon--tick" aria-hidden="false"> </i> <span q-translation="Dimensions.Dialog.DimensionAdded"></span>\n\t\t</div>\n\t\t<lui-button ng-if="input.add" ng-click="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Done" tid="done"></lui-button>\n\t\t<lui-button ng-if="!input.add" ng-click="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="cancel"></lui-button>\n\t\t<lui-button ng-if="!input.add" ng-click="$event.preventDefault(); confirm()" name="confirm" autofocus q-translation="Common.Save" tid="dim-dlg-save-btn"></lui-button>\n\t</div>\n</div>\n'},function(e,t){e.exports='<qv-scroll-area class="scroll-area" ng-class="{ \'native-scroll-enabled\': !scroll.virtualScrollEnabled }">\n\t<qv-scroll-load-button\n\t\t\tng-show="scroll.loadPrevious"\n\t\t\ton-load="scroll.gotoPreviousBlock()"\n\t\t\ttext="Object.Listbox.LoadPrevious" previous="true"></qv-scroll-load-button>\n\n\t<ul class="lui-list" ng-class="{ \'align-bottom\': scroll.alignBottomAbsolute }">\n\t\t<li ng-repeat="field in scroll.items"\n\t\t\tng-click="selectFieldHandler(field, $event)"\n\t\t\tclass="lui-list__item lui-list__action"\n\t\t\tng-class="{ \'lui-selected\': field.selected, \'derived-field\': (field.isDerived) }">\n\t\t\t<i ng-if="field.isDateField" class="lui-icon lui-icon--calendar lui-list__aside"></i>\n\t\t\t<i ng-if="field.isGeoField" class="lui-icon lui-icon--map lui-list__aside"></i>\n\n\t\t\t<div ng-if="field.dimensionDialogMetaData.icon" class="lui-icon  lui-icon--{{field.dimensionDialogMetaData.icon}} lui-list__aside" q-title-translation="{{::field.dimensionDialogMetaData.iconTooltip}}"></div>\n\t\t\t<div class="lui-list__text lui-list__text--ellipsis" qve-highlight text="{{::getFieldDisplayName(field)}}" query="search.query" title="{{::getFieldDisplayName(field)}}"></div>\n\t\t\t<div ng-if="field.used" class="lui-icon lui-icon--tick lui-list__aside"></div>\n\t\t</li>\n\t</ul>\n\n\t<div ng-if="!scroll.items.length" class="no-hits">\n\t\t<span ng-if="search.query.length" q-translation="Toolbox.Search.Nohits"></span>\n\t\t<span ng-if="!search.query.length" q-translation="library.noitems"></span>\n\t</div>\n\n\t<qv-scroll-load-button\n\t\t\tng-show="scroll.loadNext"\n\t\t\ton-load="scroll.gotoNextBlock()"\n\t\t\ttext="Object.Listbox.LoadMore"></qv-scroll-load-button>\n</qv-scroll-area>\n<qv-scroll-loader></qv-scroll-loader>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(139)],r=function(e,t){var n="single";function i(i,r,o){var a=i.input.dimension;function s(){return r.validateMetadataName(a,o)}function l(){return r.validateFieldsInDimension(a)}function u(){var e=s();var t=l();return e&&t&&a.validity.labelExpression&&a.validity.description}function c(){var e=i.search.query;var n=a.selectedTable;function r(n){return-1!==t.string(n.qName.toLowerCase()).indexOf(t.string(e.toLowerCase()))}n===i.allTablesStr?a.filteredFields=a.allFields.filter(function(e){return r(e)}):a.filteredFields=a.allFields.filter(function(e){return-1!==e.qSrcTables.indexOf(n)&&r(e)})}function d(e,t){var n=0,i=t.length;for(n=0;n<i;n++)if(t[n].qName===e)return true;return false}function f(t,r){r=r.replace(/^=+/,"=");"="!==r.charAt(0)&&(r="="+r);if(void 0!==t)a.selectedFields[t]=r;else{a.selectedFields.push(r);a.type!==n&&e.getService("$timeout")(function(){i.scrollDown+=1})}}function p(t){if(!t||t.selected)return;if(a.type===n)a.selectedFields=[t.qName];else{a.selectedFields.push(t.qName);e.getService("$timeout")(function(){i.scrollDown+=1})}}function h(){a.name="";a.description="";a.tags=[];a.selectedFields=[];delete a.labelExpression}function v(){return""===a.name&&""===a.description&&0===a.tags.length&&0===a.selectedFields.length}return{selectFieldHandler:p,updateFieldExpression:f,isFieldInList:d,clearDialog:h,isEmpty:v,validateNameField:s,validateFieldsInDimension:l,validate:u,filterFields:c}}return{create:function e(t,n,r,o){return new i(t,n,r,o)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";(function(e){var n,i;!(n=[],i=function(){var e={};Object.defineProperties(e,{ZERO:{value:"zero"},POSITIVE:{value:"positive"}});var t;function n(){var t=document.createElement("div");t.style.width="100px";t.style.overflow="hidden";t.style.opacity="0";t.dir="rtl";var n=document.createElement("div");n.style.width="200px";n.innerHTML="t";t.appendChild(n);var i=document.getElementsByTagName("body")[0];i.appendChild(t);var r=t.scrollLeft;i.removeChild(t);return 0===r?e.ZERO:e.POSITIVE}function i(){t||(t=n());return t}var r={getStartType:i};Object.defineProperty(r,"RTL_SCROLL_START",{value:e});return r}.apply(t,n),void 0!==i&&(e.exports=i))}).call(this,n(55)(e))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(89)],r=function(e,t){e.directive("qvScrollLoader",["$animateCss","$timeout",function(e,n){return{restrict:"E",replace:true,template:function e(t,n){var i=n.tag||"div";return"<"+i+' ng-style="loaderStyle" class="qv-scroll-loader qv-animate"><qv-rain ng-if="showRain" show="showRain"></qv-rain></'+i+">"},scope:{},controller:function e(){},link:function i(r,o,a,s){var l,u,c,d=!!a.noRain;r.loaderStyle={width:0,height:0};r.showRain=false;s.fadeIn=function(i,a,s){var c=t();f(i,a,s);d||(l=n(function(){r.showRain=true}));u=e(o,{addClass:"fade"});u.start().done(function(){c.resolve()});return c.promise};s.fadeOut=function(){var n=t();r.showRain=false;c=e(o,{removeClass:"fade"});c.start().done(function(){r.loaderStyle.width=0;r.loaderStyle.height=0;r.$apply();n.resolve()});return n.promise};function f(e,t,n){r.loaderStyle.top=e;r.loaderStyle.left=t;r.loaderStyle.width=n.width;r.loaderStyle.height=n.height}r.$on("$destroy",function(){n.cancel(l)})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(775),n(54)],r=function(e,t,n){e.directive("qvScrollLoadButton",[function(){return{restrict:"E",transclude:true,replace:true,template:function e(n,i){var r=i.tag||"div";return t.replace(/^\s*<div/,"<"+r).replace(/<\/div>\s*$/,"</"+r+">")},scope:{onLoad:"&",text:"@",previous:"=",disabled:"=",scrollApi:"=",watchResize:"=",showButton:"="},link:function e(t,i){t.load=function(){t.onLoad()};var r=i.find(".lui-button");function o(){if(!t.scrollApi)return;var e=t.scrollApi.domApi.$scrollContent[0].clientWidth,n=t.scrollApi.settings.width,i=t.scrollApi.domApi.$element[0].scrollLeft,o=e-n;r[0].style.left=i-o/2+"px"}var a=t.$watch("watchResize",function(e){if("function"===typeof e){e(o);a()}});var s=t.$watch("showButton",function(e){if(e){o();t.scrollApi.domApi.$element.scroll(n.debounce(o,40));s()}})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-scroll-data-load-buttons" ng-class="{ previous: previous }">\n\t<div ng-transclude></div>\n\t<button class="lui-button" qva-activate="load()" ng-disabled="disabled">\n\t\t<p q-translation="{{text}}"></p>\n\t</button>\n</div>\n'},function(e,t){e.exports='<div dir={{direction}}>\n\t<div class="scroll-content" ng-transclude></div>\n\t<qv-scroll-area-affordance x-show="scrollbarY.showMinAffordance" x-direction="\'vertical\'" x-dock="\'min\'" ng-if="scrollbarY.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n\t<qv-scroll-area-affordance x-show="scrollbarX.showMinAffordance" x-direction="\'horizontal\'" x-dock="\'min\'" ng-if="scrollbarX.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n\t<qv-scrollbar x-data="scrollbarY" x-interactive="interactiveY" x-viewport-rect="viewportRect" ng-if="scrollbarY.enabled"></qv-scrollbar>\n\t<qv-scrollbar x-data="scrollbarX" x-interactive="interactiveX" x-viewport-rect="viewportRect" ng-if="scrollbarX.enabled"></qv-scrollbar>\n\t<qv-scroll-area-affordance x-show="scrollbarY.showMaxAffordance" x-direction="\'vertical\'" x-dock="\'max\'" ng-if="scrollbarY.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n\t<qv-scroll-area-affordance x-show="scrollbarX.showMaxAffordance" x-direction="\'horizontal\'" x-dock="\'max\'" ng-if="scrollbarX.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n</div>\n'},function(e,t){e.exports='<div class="scrollbar-animation scrollbar-track"\n\tng-class="data.classList"\n\tng-style="data.style">\n\t<qv-scrollbar-track-hit-area ng-style="trackHitAreaStyle" class="scrollbar-hitarea"></qv-scrollbar-track-hit-area>\n\t<qv-scrollbar-thumb ng-class="{ active: data.active }" class="scrollbar-thumb" ng-style="thumbStyle"></qv-scrollbar-thumb>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvScrollAreaAffordance",function(){return{restrict:"E",template:'<div ng-show="show" class="scroll-affordance" ng-class="[dock,direction]" ng-style="style"></div>',replace:true,require:"^qvScrollArea",scope:{viewportRect:"=",direction:"=",dock:"=",size:"=?",show:"="},link:function e(t){t.size=t.size||18;t.style={};t.updateAffordance=function(){switch(t.direction){case"vertical":t.style.width=t.viewportRect.width+"px";t.style.height=t.size+"px";switch(t.dock){case"min":t.style.left=t.viewportRect.left+"px";t.style.top=t.viewportRect.top+"px";break;case"max":t.style.left=t.viewportRect.left+"px";t.style.top=t.viewportRect.top+t.viewportRect.height-t.size+"px";break;default:throw new Error("Dock "+t.dock+" not supported")}break;case"horizontal":t.style.width=t.size+"px";t.style.height=t.viewportRect.height+"px";switch(t.dock){case"min":t.style.left=t.viewportRect.left+"px";t.style.top=t.viewportRect.top+"px";break;case"max":t.style.left=t.viewportRect.left+t.viewportRect.width-t.size+"px";t.style.top=t.viewportRect.top+"px";break;default:throw new Error("Dock "+t.dock+" not supported")}break;default:throw new Error("Direction "+t.direction+" not supported")}};t.$watch("viewportRect",t.updateAffordance,true)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(100),n(92),n(174)],r=function(e,t,n){var i=null,r=null,o=null,a=n.extend({init:function t(n){var a=e.getService("qvColorMapService");i=n.qInfo.qId;r=n;o=a.getTemplate()},initModel:function t(){var n=e.getService("qvColorMapService");return n.getColorMap(i).then(function(e){if(e){o=e;void 0===o.autoFill&&(o.autoFill=!(o.single&&false===o.usePal||o.pal))}})},hasColors:function e(){return o&&!!(o.pal&&o.pal.length&&o.pal!==t.dataPalettes[0].propertyValue)||o&&false===o.autoFill||["nul","oth","single"].some(function(e){return o[e]&&"none"!==o[e].color})||o.colors.some(function(e){return"none"!==e.baseColor.color})},save:function t(){var n=e.getService("qvColorMapService");return this.hasColors()?n.setColorMap(i,o):n.deleteColorMap(i).then(function(){o=n.getTemplate();delete r.qDim.coloring.colorMapRef})},clearColors:function t(){var n=e.getService("qvColorMapService");o=n.getTemplate()}});Object.defineProperties(a.prototype,{dimensionName:{get:function e(){return r.qDim.title}},fieldName:{get:function e(){return r.fieldName}},colors:{get:function e(){return o.colors}},nullColor:{get:function e(){return t.resolveColor(o.nul)},set:function e(n){if(n&&(null===o.nul||o.nul.color!==n.color||o.nul.index!==n.index)){n.color||(o.nul={color:n,index:t.currentPalette.indexOf(n)});n.color&&(o.nul={color:n.color,index:n.index})}}},othersColor:{get:function e(){return t.resolveColor(o.oth)},set:function e(n){if(n&&(null===o.oth||o.oth.color!==n.color||o.oth.index!==n.index)){n.color||(o.oth={color:n,index:t.currentPalette.indexOf(n)});n.color&&(o.oth={color:n.color,index:n.index})}}},singleColor:{get:function e(){return t.resolveColor(o.single)},set:function e(n){if(n&&(null===o.single||o.single.color!==n.color||o.single.index!==n.index)){n.color||(o.single={color:n,index:t.currentPalette.indexOf(n)});n.color&&(o.single={color:n.color,index:n.index})}}},palette:{get:function e(){return o.pal?o.pal:t.dataPalettes[0].propertyValue},set:function e(n){o.pal!==n&&(o.pal=n!==t.dataPalettes[0].propertyValue?n:null);this.usePalette=true}},usePalette:{get:function e(){return null===o.usePal||o.usePal},set:function e(t){o.usePal!==t&&null!==t&&(o.usePal=t)}},autoFill:{get:function e(){return o.autoFill},set:function e(t){o.autoFill=t;if(t){o.pal=null;o.usePal=null;this.singleColor="none"}else{this.usePalette=true;"none"===this.singleColor&&(this.singleColor="#4477aa")}}}});return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(303)],r=function(e,t,n){t.service("qvSortableListDragService",[function(){var t;t={$new:function e(t){return{fromItem:void 0,enterItem:void 0,enterList:void 0,toItem:void 0,toList:void 0,offsetX:0,offsetY:0,left:0,top:0,direction:void 0,clientRect:void 0,scroll:{},pageX:0,pageY:0,suppressDragStyle:t.suppressDragStyle||[],zIndex:t.zIndex,enterItemAction:void 0}},startOffset:function e(t,n,i,r,o,a){if(a){var s=i.offset();var l=a.offset();n.left=s.left-l.left;n.top=s.top-l.top}else{var u=i.position();n.left=u.left;n.top=u.top}n.offsetX=n.left-r.x;n.offsetY=n.top-r.y;if(o){n.offsetX=n.offsetX-t[0].scrollLeft;n.offsetY=n.offsetY-t[0].scrollTop}},startData:function e(t,n,i,r){n.scroll.clientRect=t[0].getBoundingClientRect();n.scroll.width=t[0].scrollWidth;n.scroll.height=t[0].scrollHeight;n.clientRect=i[0].getBoundingClientRect();n.minLeft=-n.clientRect.width;n.maxLeft=n.scroll.width;n.minTop=-n.clientRect.height;n.maxTop=n.scroll.height-n.clientRect.height;n.fromItem=i.scope()[r];n.toItem=void 0;n.toList=void 0;n.enterItem=void 0;n.enterList=void 0;n.enterItemAction=void 0},updateDragCoordinates:function e(t,n,i,r){r=r||t.scroll.clientRect;t.pageX=n;t.pageY=i;t.pageX<=r.left?t.pageX=r.left+1:t.pageX>=r.left+r.width&&(t.pageX=r.left+r.width-1);t.pageY<=r.top?t.pageY=r.top+1:t.pageY>=r.top+r.height&&(t.pageY=r.top+r.height-1)},updateEnterItemAction:function e(t,i){var r=i[0].getBoundingClientRect(),o,a,s;switch(t.direction){case"horizontal":o=t.pageX;a=r.left;s=r.width;break;case"vertical":o=t.pageY;a=r.top;s=r.height;break;default:return}o<=a+.5*s?t.enterItemAction=n.ENTER_BEFORE:o>a+.5*s&&(t.enterItemAction=n.ENTER_AFTER)},updateData:function n(i,r,o,a,s,l,u,c,d){var f,p,h,v,m=r.enterItemAction,g=function e(){};function b(e){return e.length&&t.isChild(i[0],e[0])}function y(e){if("function"===typeof s)return s(e);return e.scope()[s]}var x=o[0].style.display;o[0].style.display="none";p=document.elementFromPoint(r.pageX,r.pageY);f=e(p).closest(l);if(b(f))g=function e(n){h=n.scope()[u];t.updateEnterItemAction(r,n);if(r.enterItem!==h||r.enterItem===h&&m!==r.enterItemAction){r.enterList=void 0;r.enterItem=h;c()}};else{f=e(p).closest(a);if(b(f))g=function e(t){v=y(t);if(r.enterList!==v){r.enterList=v;r.enterItem=void 0;d()}};else{r.enterItem=void 0;r.enterList=void 0}}o[0].style.display=x;g(f)},start:function e(t,n,i){i[0].style||(i[0].style="");i[0].style.position="absolute";-1===n.suppressDragStyle.indexOf("width")&&(i[0].style.width=n.clientRect.width+"px");i[0].style.height=n.clientRect.height+"px";i[0].style.pointerEvents="none";i[0].style.left=n.left+"px";i[0].style.top=n.top+"px";i[0].style.zIndex=n.zIndex;i[0].style.boxSizing="border-box"},update:function e(t,n,i,r){var o,a;switch(n.direction){case"horizontal":n.left=r.currentPoint.x+n.offsetX+t[0].scrollLeft;break;case"vertical":n.top=r.currentPoint.y+n.offsetY+t[0].scrollTop;break;default:n.left=r.currentPoint.x+n.offsetX+t[0].scrollLeft;n.top=r.currentPoint.y+n.offsetY+t[0].scrollTop}o=n.left;a=n.top;n.left<n.minLeft?o=n.minLeft:n.left>n.maxLeft&&(o=n.maxLeft);n.top<n.minTop?a=n.minTop:n.top>n.maxTop&&(a=n.maxTop);i[0].style.left=o+"px";i[0].style.top=a+"px"},end:function e(t,n){if(t.stopAutoScrolling){t.stopAutoScrolling();t.stopAutoScrolling=null}n&&n.length&&n[0].removeAttribute("style")},isParent:function e(t,n){return t===n},isChild:function e(n,i){var r=i;if(t.isParent(n,i))return false;while(r){if(r===n)return true;r=r.parentNode}return false},autoScroll:function e(t,n,i,r,o,a,s,l){var u=true,c=0,d=0,f=0,p=0;function h(e,o){c=t.scrollLeft;d=t.scrollTop;if(u){if(e<0&&0===c){u=false;return}if(e>0&&c+parseInt(n.height+.5,10)>=i){u=false;return}if(o<0&&0===d){u=false;return}if(o>0&&d+parseInt(n.height+.5,10)>=r){u=false;return}0!==e&&(t.scrollLeft+=e);0!==o&&(t.scrollTop+=o);a();setTimeout(function(){h(e,o)})}}switch(o.direction){case"horizontal":o.pageX<=n.left+l?f=-s:o.pageX>=n.left+n.width-l&&(f=s);break;case"vertical":o.pageY<=n.top+l?p=-s:o.pageY>=n.top+n.height-l&&(p=s);break;default:o.pageY<=n.top+l?p=-s:o.pageY>=n.top+n.height-l&&(p=s)}0===f&&0===p||h(f,p);if(o.stopAutoScrolling){o.stopAutoScrolling();delete o.stopAutoScrolling}o.stopAutoScrolling=function(){u=false};return o.stopAutoScrolling}};return t}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="assets-search-panel" data-help="Library.Search">\n\n\t<div class="frame">\n\t\t<div class="lui-search" ng-class="{\'lui-search--inverse\': look == \'inverse\', \'assets-search-bright\': look == \'default\'}">\n\t\t\t<span class="lui-search__search-icon"></span>\n\t\t\t<input class="lui-search__input" maxlength="255" ng-model="rawQuery" spellcheck="false" type="text" q-placeholder="Common.Search" ng-trim="true" data-tid="search-input" />\n\t\t\t<button class="asset-search-panel-clear-search  lui-search__clear-button" ng-click="onClear();" ng-hide="!rawQuery" q-title-translation="Common.Clear">\n\t\t\t\t<span class="lui-icon  lui-icon--small  lui-icon--close"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(783),n(100),n(317),n(784),n(787)],r=function(e,t,n,i){e.directive("qvDimensionColors",[function(){return{restrict:"E",template:t,replace:true,scope:{visible:"=",colorModelWrapper:"="},link:function e(t){t.currentPalette=n.currentPalette;t.$watchCollection("[visible, colorModelWrapper.autoFill]",function(){t.colorModelWrapper&&(t.colorSelector=t.colorModelWrapper.usePalette?"schemeSelect":"oneSelect")});t.$watch("colorSelector",function(){t.colorModelWrapper&&(t.colorModelWrapper.usePalette="schemeSelect"===t.colorSelector)},false);t.$on("clearAll",function(){i.show({text:"library.colors.clearcolorsconfirmation"}).then(function(){t.colorModelWrapper.clearColors();t.colorSelector=t.colorModelWrapper.usePalette?"schemeSelect":"oneSelect"})})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-dim-dlg-colors">\n\t<div class="qv-dim-dlg-colors-column qv-dim-dlg-colors-column-left">\n\t\t\t<h2 class="qv-dim-dlg-colors-header">{{colorModelWrapper.dimensionName}}</h2>\n\t\t<div class="qv-dim-dlg-colors-colormap">\n\t\t\t<qv-color-mapper\n\t\t\t\tvisible="visible"\n\t\t\t\tfield-name="colorModelWrapper.fieldName"\n\t\t\t\tdimension-name="colorModelWrapper.dimensionName"\n\t\t\t\tuse-palette="colorModelWrapper.usePalette"\n\t\t\t\tcolor-array="colorModelWrapper.colors"\n\t\t\t\tpalette="colorModelWrapper.palette"\n\t\t\t\tsingle-color="colorModelWrapper.singleColor"\n\t\t\t\thas-colors="colorModelWrapper.hasColors"></qv-color-mapper>\n\t\t</div>\n\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-others-row">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.others"></label>\n\t\t\t<div class="qv-dim-dlg-colors-select">\n\t\t\t\t<qv-color-picker-button-new\n\t\t\t\t\t\tng-model="colorModelWrapper.othersColor"\n\t\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\t\textended="true"\n\t\t\t\t\t\ttoggle-open="true">\n\t\t\t\t</qv-color-picker-button-new>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-dim-dlg-colors-row">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.nullvalues"></label>\n\t\t\t<div class="qv-dim-dlg-colors-select">\n\t\t\t\t<qv-color-picker-button-new\n\t\t\t\t\t\tng-model="colorModelWrapper.nullColor"\n\t\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\t\textended="true"\n\t\t\t\t\t\ttoggle-open="true">\n\t\t\t\t</qv-color-picker-button-new>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="qv-dim-dlg-colors-column qv-dim-dlg-colors-column-right">\n\t\t<div class="qv-dim-dlg-colors-row"></div>\n\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-row-text">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.autofilloption"></label>\n\t\t</div>\n\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-auto-fill">\n\t\t\t<h2 ng-show="colorModelWrapper.autoFill" class="qv-dim-dlg-colors-label" q-translation="Common.Auto"></h2>\n\t\t\t<h2 ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-label" q-translation="Common.Custom"></h2> \n\t\t\t<lui-switch x-model="colorModelWrapper.autoFill"></lui-switch>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-row qv-dim-dlg-colors-row-text">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.autofill"></label>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-row">\n\t\t\t<select class="lui-select" ng-model="colorSelector">\n\t\t\t\t<option value="oneSelect" q-translation="library.colors.onecolor"></option>\n\t\t\t\t<option value="schemeSelect" q-translation="library.colors.colorscheme"></option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-row" ng-if="colorSelector === \'oneSelect\'">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.color"></label>\n\t\t\t<div class="qv-dim-dlg-colors-select">\n\t\t\t\t<qv-color-picker-button-new\n\t\t\t\t\t\tng-model="colorModelWrapper.singleColor"\n\t\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\t\textended="true"\n\t\t\t\t\t\tdisable-none="true"\n\t\t\t\t\t\ttoggle-open="true">\n\t\t\t\t</qv-color-picker-button-new>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" ng-if="colorSelector === \'schemeSelect\'">\n\t\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-row-text">\n\t\t\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.schemeselect"></label>\n\t\t\t</div>\n\t\t\t<div class="qv-dim-dlg-colors-row">\n\t\t\t\t<scheme-input palette="colorModelWrapper.palette"></scheme-input>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(785),n(206),n(179),n(243),n(93),n(141),n(153),n(89),n(100),n(91),n(92),n(288),n(109),n(786),n(97),n(244)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v){var m,g,b,y=1024,x=100,w=37;m=d.extend({init:function e(t,n,i){this.palette=null;this.singleColor=null;this.length=0;if(t||"none"!==i){if(t){var r,o=u.dataPalettes.length;for(r=0;r<o;r++)if(u.dataPalettes[r].propertyValue===n){"pyramid"===u.dataPalettes[r].type?this.palette=u.dataPalettes[r].scale[u.dataPalettes[r].scale.length-1]:this.palette=u.dataPalettes[r].scale;break}this.palette||("pyramid"===u.dataPalettes[0].type?this.palette=u.dataPalettes[0].scale[u.dataPalettes[0].scale.length-1]:this.palette=u.dataPalettes[0].scale)}}else{var a=u.dataPalettes[0];"pyramid"===a.type?this.palette=a.scale[a.scale.length-1]:this.palette=a.scale}if(this.palette){"none"===this.palette[0]&&(this.palette=this.palette.slice(1,this.palette.length));this.length=this.palette.length}else this.singleColor=u.resolveColor(i)},getColor:function e(t){return this.singleColor?this.singleColor:this.palette[t%this.length]}});b=i.extend({getBoundingBox:function e(){return this.$scrollArea[0].getBoundingClientRect()}});function S(e,t,n,i){var r,o=i.length,a=o>0,s={color:null,custom:false};if(a)for(r=0;r<o;r++)if(i[r].value===t){s.color=u.resolveColor(i[r].baseColor);s.custom=true;break}!s.color&&e.colorLookup&&(s.color=e.colorLookup.getColor(n));return s}function C(e){return p.isDark(e)?"#e6e6e6":"#595959"}function E(e){e.nbrCustom=c.get("library.colors.numberofcustomcolors",e.colorArray.length)}g=r.extend({init:function e(t,n){this.$scope=t;this.$timeout=n;this.model=null;this.qWidth=0;this.qHeight=0},initialize:function e(t,n){this.updateSearch=function(){this.model.getLayout().then(function(e){this.showSearch(e.qListObject.qSize.qcy)}.bind(this))}.bind(this);return o.getApp().then(function(e){return a.createTransientField(e,t,q(n)).then(function(e){this.model=e;this.$scope.backendApi=new f(e);e.on("changed",this.updateSearch);this.$scope.$watch("query",function(e,t){if(void 0===e||e===t)return;e.length>0?this.$scope.backendApi.search(e):this.$scope.backendApi.abortSearch()}.bind(this));return e.getLayout().then(function(e){this.qWidth=e.qListObject.qSize.qcx;this.qHeight=e.qListObject.qSize.qcy}.bind(this))}.bind(this))}.bind(this))},show:function e(){var t=this.$scope.items.length,n=0,i=this.$scope.scrollApi.settings.viewportRowCount;i<t&&(i=t);return this.getData(n,i,false,false).then(function(){this.$scope.scrollApi.setTotalRows(this.qHeight);return this.$scope.scrollApi.setVirtualSize(true)}.bind(this))},showSearch:function e(t){var n=0,i=this.$scope.scrollApi.settings.viewportRowCount,r=this.$scope.scrollApi.resetNativeScroll();return this.getData(n,i,false,false).then(function(){r();this.$scope.scrollApi.setTotalRows(t);return this.$scope.scrollApi.setVirtualSize(false)}.bind(this))},getRows:function e(){return this.$scope.items},getRowCount:function e(){return this.$scope.items.length},getFirstElementIndex:function e(){return this.$scope.items[0].dataRowIx},getLastElementIndex:function e(){return this.$scope.items[this.$scope.items.length-1].dataRowIx},onVirtualScroll:function e(t,n){this.$scope.colorPickerCallback&&this.$scope.colorPickerCallback.close&&this.$scope.colorPickerCallback.close();var i=this.getData(t,n,false,false);this.$scope.$digest();return i},onInitialNativeScroll:function e(t,n){this.$scope.colorPickerCallback&&this.$scope.colorPickerCallback.close&&this.$scope.colorPickerCallback.close();return this.$scope.rowLoaderCtrl.fadeIn(0,0,{width:"100%",height:w+"px"}).then(function(){return this.getData(t,n,true,false).then(function(){return this.$scope.rowLoaderCtrl.fadeOut()}.bind(this))}.bind(this))},gotoBlock:function e(t,n,i){var r=this.$scope.scrollApi.getSpliceArgs(),o=this.$scope.items;i&&o.reverse();o.splice.apply(o,r);return this.getData(t,n,true,i)},onGotoNextBlock:function e(t,n){return this.gotoBlock(t,n,false)},onGotoPreviousBlock:function e(t,n){return this.gotoBlock(t,n,true)},onUpdateData:function e(t,n,i){this.updateItems(t,n,i);return this.$timeout(function(){},0,false)},updateItems:function e(t,n,i){var r,o=0,a,s=this.$scope.items,l=t[0].qMatrix,u,c,d,f=this.$scope.colorArray,p=t[0].qArea.qTop,h=t[0].qArea.qHeight;i&&l.reverse();n&&(o=s.length);for(r=0,a=l.length;r<a;++r){s[o+r]||(s[o+r]={});c=s[o+r];u=l[r][0];d=S(this.$scope,u.qText||"",u.qElemNumber,f);c.paletteIcon=d.custom;c.dataRowIx=i?p+h-r-1:p+r;c.enabled=(u.qText||"").length<=y;c.tipText=(u.qText||"").substring(0,y);c.colorStyle={"background-color":d.color,color:C(d.color)};c.color=d.color;c.inEdit=false;this.updateTextItem(c,u)}n||s.splice(r);i&&s.reverse()},updateTextItem:function e(t,n){var i,r=n.qHighlightRanges&&n.qHighlightRanges.qRanges.length||0,o,a,s=n.qText&&n.qText.split("")||[],l=0,u;t.textItems=[];s.length||t.textItems.push({isHighlighted:false,text:""});if(!r){t.textItems.push({isHighlighted:false,text:(n.qText||"").substring(0,y)});return}a=n.qHighlightRanges.qRanges.sort(function(e,t){return e.qCharPos-t.qCharPos});for(i=0;i<r;++i){o=a[i];u=o.qCharPos;u!==l&&t.textItems.push({isHighlighted:false,text:s.splice(0,u-l).join("")});t.textItems.push({isHighlighted:true,text:s.splice(0,o.qCharCount).join("")});l=o.qCharPos+o.qCharCount}s.length&&y-l>0&&t.textItems.push({isHighlighted:false,text:s.splice(0,y-l).join("")})},getData:function e(t,n,i,r){var o={qTop:t,qLeft:0,qWidth:1,qHeight:n};return this.model?this.model.getListObjectData("/qListObjectDef",[o]).then(function(e){return this.onUpdateData(e,i,r)}.bind(this)):l.reject()},release:function e(){if(this.model){this.model.removeListener("changed",this.updateSearch);this.model=null}}});function q(e){var t={title:e,qListObjectDef:{qDef:{}}};s.autoSortDimension(t.qListObjectDef);return t}function _(e){var t;e.mapItem=function(e){t=e;return true};e.openColorPicker=function(){t.inEdit=true};e.closeColorpicker=function(n){var i,r,o;if(n&&n.target.classList.contains("lui-icon--bin")&&"none"!==t.color){r=e.colorArray.length;for(i=0;i<r;i++)if(e.colorArray[i].value===t.tipText){o=S(e,null,t.dataRowIx,e.colorArray).color;e.colorArray.splice(i,1);t.colorStyle={"background-color":o};t.color=o;t.paletteIcon=false;break}}t.inEdit=false;E(e)};e.onColorChange=function(){var n,i=t.tipText,r=null,o=-1,a,s=e.colorArray,l=s.length;for(a=0;a<l;a++)if(s[a].value===i){r=s[a];o=a;break}s.length!==x||"none"===t.color||r||e.blinkWarning();if("none"!==t.color){n={color:t.color.color,index:t.color.index};if(r){r.baseColor=n;t.colorStyle={"background-color":n.color,color:C(n.color)};t.paletteIcon=true}else if(s.length<x){s.push({value:i,baseColor:n});t.colorStyle={"background-color":n.color,color:C(n.color)};t.paletteIcon=true}}else if(o>-1){t.color=S(e,null,t.dataRowIx,s).color;s.splice(o,1);t.colorStyle={"background-color":t.color};t.paletteIcon=false}E(e)}}var T=["$scope",function(e){e.backendApi=null}];e.directive("qvColorMapper",["$timeout","luiPopover",function(e,i){return{restrict:"E",template:t,controller:T,replace:true,require:["qvColorMapper"],scope:{visible:"=",fieldName:"=",dimensionName:"=",usePalette:"=",colorArray:"=",palette:"=",singleColor:"=",hasColors:"="},link:function t(r,o){var a=o.find(".qv-cm-scroll-area"),s=a.controller("qvScrollArea"),l=o.find(".qv-scroll-loader:not(.qv-scroll-row-loader)").controller("qvScrollLoader"),c={blockSize:200,minRowHeight:w,maxRowHeight:w},d,f,p=new b(o,a,"li:not(.qv-cm-load-buttons)","li:not(.qv-cm-load-buttons):first","li:not(.qv-cm-load-buttons):not(.qv-scroll-row-loader):last"),y=true;r.items=[];r.colorPickerCallback={};r.rowLoaderCtrl=a.find(".qv-scroll-row-loader").controller("qvScrollLoader");r.currentPalette=u.currentPalette;r.showOptionsMenu=function(){var e=r,t={template:h,controller:["$scope",function(t){t.enabled=e.hasColors();t.clear=function(){t.enabled&&e.$emit("clearAll")}}],alignTo:o.find(".qv-cm-search")[0],showArrow:false,dock:"bottom"};r.popover=i.show(t);r.popover.closed.then(function(){r.popover=null})};r.warning=false;r.blinkWarning=function(){r.warning=true;e(function(){r.warning=false})};_(r);function x(){if(f&&f.model){r.colorLookup=new m(r.usePalette,r.palette,r.singleColor);f.show()}}function S(){if(r.popover){r.popover.close();r.popover=null}}v.on("start",S);r.$on("$destroy",function(){d&&d.destroy&&d.destroy();r.backendApi&&r.backendApi.abortSearch();f&&f.release();v.off("start",S)});r.$watch("visible",function(t){if(t){if(!y){d.destroy();r.items=[];r.backendApi.abortSearch();f.release()}if(r.fieldName){d=new n(e,c);r.scrollApi=d;f=new g(r,e);d.initialize(p,f,s,l).then(function(){d.activate();d.updateViewport();f.initialize(r.fieldName,r.dimensionName).then(function(){x();y=false})});E(r)}}},false);r.$watchCollection("[palette, singleColor, usePalette, colorArray]",function(){x()})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-color-mapper">\n\t<div qva-direction x-dir-setting="\'ltr\'" class="qv-cm-search">\n\t\t<lui-search class="lui-search__input" query="query" placeholder="Common.Search" />\n\t\t<button ng-class="{\'lui-active\' : popover}" class="lui-fade-button lui-fade-button--large" qva-activate="showOptionsMenu()" tid="clear-all-btn">\n\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--large lui-icon--more"></span>\n\t\t</button>\n\t</div>\n\t<div class="qv-cm-wrapper">\n\t\t<qv-scroll-area class="qv-cm-scroll-area qv-animate" ng-class="{ \'qv-color-mapper-interactive\': !scrollApi.virtualScrollEnabled }" x-direction="\'ltr\'">\n\t\t\t<ul class="qv-cm-color-mapper lui-list" ng-class="{ \'align-bottom\': scrollApi.alignBottomAbsolute }" qva-direction x-dir-setting="\'ltr\'">\n\t\t\t\t<qv-scroll-load-button tag="li" class="qv-cm-load-buttons" ng-show="scrollApi.loadPrevious" on-load="scrollApi.gotoPreviousBlock()" text="Object.Listbox.LoadPrevious" previous="true">\n\t\t\t\t</qv-scroll-load-button>\n\n\t\t\t\t<li ng-repeat="item in items" class="lui-list__item" class="lui-list__item"\n\t\t\t\t\tqv-color-picker-custom-new\n\t\t\t\t\tng-class="{\'lui-active\' : item.inEdit, \'lui-disabled\': !item.enabled}"\n\t\t\t\t\tng-model="item.color"\n\t\t\t\t\tkeep-open="true"\n\t\t\t\t\tdisable-none="false"\n\t\t\t\t\ton-change="onColorChange"\n\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\textended="true"\n\t\t\t\t\tdock="\'right\'",\n\t\t\t\t\tcallback="colorPickerCallback"\n\t\t\t\t\tqva-activate="item.enabled && mapItem(item) && onClick($event)"\n\t\t\t\t\ton-open="openColorPicker"\n\t\t\t\t\ton-close="closeColorpicker">\n\n\t\t\t\t\t<span class="lui-list__text qv-cm-list-text" ng-attr-title="{{item.tipText}}">\n\t\t\t\t\t\t<span ng-repeat="textItem in item.textItems" ng-class="{ highlighted: textItem.isHighlighted }" ng-bind="textItem.text"></span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div class="lui-list__aside">\n\t\t\t\t\t\t<div class="qv-cm-color-wrap">\n\t\t\t\t\t\t\t<span ng-if="!item.paletteIcon" class="qv-cm-color" ng-class="{\'qv-cm-narrow\' : !item.inEdit, \'qv-cm-wide\': item.inEdit}" ng-style="item.colorStyle"></span>\n\t\t\t\t\t\t\t<span ng-if="item.paletteIcon" class="qv-cm-color qv-cm-wide lui-icon" ng-class="{\'lui-icon--palette\' : !item.inEdit, \'lui-icon--bin\': item.inEdit}" ng-style="item.colorStyle"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\n\t\t\t\t<qv-scroll-loader tag="li" class="qv-scroll-row-loader"></qv-scroll-loader>\n\t\t\t\t<qv-scroll-load-button tag="li" class="qv-cm-load-buttons" ng-show="scrollApi.loadNext" on-load="scrollApi.gotoNextBlock()"\n\t\t\t\t\t\t\t\t\t\ttext="Object.Listbox.LoadMore"></qv-scroll-load-button>\n\t\t\t</ul>\n\t\t</qv-scroll-area>\n\t\t<qv-scroll-loader></qv-scroll-loader>\n\t</div>\n\t<div class="qv-cm-nbr-custom">\n\t\t<div class="qv-cm-custom-wrapper" ng-class="{\'qv-cm-animate-in qv-cm-color-limit-feedback\' : warning, \'qv-cm-animate-out\' : !warning }">\n\t\t\t<span ng-show="colorArray.length === 100" class="lui-icon lui-icon--warning lui-text-warning"></span>\n\t\t\t<span class="lui-text-default" ng-show="colorArray.length > 0" ng-class="{\'lui-text-warning\': colorArray.length === 100}">{{nbrCustom}}</span>\n\t\t\t<span class="lui-text-default" ng-show="colorArray.length === 0" q-translation="library.colors.clickonvalue"></span>\n\t\t</div>\n\t</div>\n</div>\n\n'},function(e,t){e.exports='<lui-popover style="margin-top: -10px">\n\t<lui-popover-body class="lui-nopad">\n\t\t<ul class="lui-list">\n\t\t\t<li class="lui-list__item lui-list__action" ng-class="{\'lui-disabled\': !enabled}" qva-activate="clear()">\n\t\t\t\t<div class="lui-list__text lui-list__text--ellipsis">\n\t\t\t\t\t<span q-translation="library.colors.clear"></span>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover-body>\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(788),n(789),n(91)],r=function(e,t,n,i){e.directive("schemeInput",function(){var e={borderColor:"#B3B3B3"};var r={borderColor:"#595959"};return{restrict:"E",replace:true,template:t,scope:{palette:"="},link:function t(o,a){o.schemeInputLogic=n.create(o.palette);o.colorBarHeight="7px";o.expanded=false;o.buttonHeight="36px";o.expandedBorder=e;o.pickScheme=function(e,t){o.schemeInputLogic.pickScheme(t);o.palette=t.propertyValue};o.getPaletteViewWidth=function(e){var t=o.schemeInputLogic.getNumberOfPaletteColors(e);return.85*a.width()/t+"px"};o.onClickSchemePicker=function(){o.expanded=!o.expanded;if(o.expanded&&o.schemeInputLogic.getPalettes().length>5){o.buttonHeight="209px";o.expandedBorder=r}else if(o.expanded){o.buttonHeight=38*o.schemeInputLogic.getPalettes().length+"px";o.expandedBorder=r}else{o.buttonHeight="36px";o.expandedBorder=e}};o.close=function(){o.expanded=false;o.buttonHeight="36px";o.expandedBorder=e};o.activateHover=function(){o.expandedBorder=r};o.disableHover=function(){o.expanded||(o.expandedBorder=e)};o.getPaletteName=function(e,t){var n=i.get(e);n||(n=t);return n};o.$watch("palette",function(){if(o.palette&&o.schemeInputLogic.getCurrentPalette().propertyValue!==o.palette){var e=o.schemeInputLogic.getThemePalettes().filter(function(e){return e.propertyValue==o.palette})[0];e||(e=o.schemeInputLogic.getThemePalettes()[0]);o.schemeInputLogic.pickScheme(e)}},true)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div qv-enter="onClick($event)" class="lui-popover custom-dimensions-input-button" ng-class="{\'active\':active}" ng-style=" {\'height\' : buttonHeight, \'border-color\' : expandedBorder.borderColor} " ng-mouseenter="activateHover()" ng-mouseleave="disableHover()" qva-outside="close()">\n\t<div ng-if="!expanded" qva-activate="onClickSchemePicker($event)" class="custom-dimensions-selector-wrapper">\n\t\t<span class="lui-list__text palette-text">{{getPaletteName(schemeInputLogic.getCurrentPalette().translation, schemeInputLogic.getCurrentPalette().name)}}</span>\n\t\t<span class="lui-icon lui-icon--small lui-icon--triangle-bottom" style="float: right; margin-top: 7px; margin-right: 8px">\n\t\t</span>\n\t\t<div class="palette-color-wrapper">\n\t\t\t<div class="palette-color" ng-repeat="paletteColor in schemeInputLogic.getPaletteScale(schemeInputLogic.getCurrentPalette()) track by $index">\n\t\t\t\t<div ng-style="{\'background-color\' : schemeInputLogic.getPaletteColor(schemeInputLogic.getCurrentPalette(), $index), \'width\' : getPaletteViewWidth(schemeInputLogic.getCurrentPalette()), \'height\' : colorBarHeight}"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div ng-if="expanded" qva-activate="onClickSchemePicker($event)" class="custom-dimensions-selector-wrapper">\n\t\t<ul class="lui-list">\n\t\t\t<li class="lui-list__item lui-list__action custom-dimensions-palette-select" q-title-translation="{{schemeInputLogic.getCurrentPalette().translation}}" qva-activate="pickScheme($event, schemeInputLogic.getCurrentPalette())">\n\t\t\t\t<span class="lui-list__text palette-text">{{getPaletteName(schemeInputLogic.getCurrentPalette().translation, schemeInputLogic.getCurrentPalette().name)}}</span>\n\t\t\t\t<div class="palette-color-wrapper">\n\t\t\t\t\t<div class="palette-color" ng-repeat="paletteColor in schemeInputLogic.getPaletteScale(schemeInputLogic.getCurrentPalette()) track by $index">\n\t\t\t\t\t\t<div ng-style="{\'background-color\' : schemeInputLogic.getPaletteColor(schemeInputLogic.getCurrentPalette(), $index), \'width\' : getPaletteViewWidth(schemeInputLogic.getCurrentPalette()), \'height\' : colorBarHeight}"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li class="lui-list__item lui-list__action custom-dimensions-palette-select" ng-repeat=" schemePalette in schemeInputLogic.getPalettes()" ng-if="schemePalette != schemeInputLogic.getCurrentPalette()" q-title-translation="{{schemePalette.translation}}" qva-activate="pickScheme($event, schemePalette)">\n\t\t\t\t<span class="lui-list__text palette-text">{{getPaletteName(schemePalette.translation, schemePalette.name)}}</span>\n\t\t\t\t<div class="palette-color-wrapper">\n\t\t\t\t\t<div class="palette-color" ng-repeat="paletteColor in schemeInputLogic.getPaletteScale(schemePalette) track by $index">\n\t\t\t\t\t\t<div ng-style="{\'background-color\' : schemeInputLogic.getPaletteColor(schemePalette, $index), \'width\' : getPaletteViewWidth(schemePalette), \'height\' : colorBarHeight}"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(100)],r=function(e){function t(t){var n=r();var i=n.filter(function(e){return e.propertyValue==t})[0];i||(i=n[0]);function r(){var t=[];e.dataPalettes.forEach(function(e){"true"!==e.disabled&&t.push(e)});return t}function o(e,t){if("pyramid"===e.type)return e.scale[e.scale.length-1][t];return e.scale[t]}function a(e,t){var n;n="pyramid"===e.type?e.scale[e.scale.length-1].length:e.scale.length;return.85*t.width()/n+"px"}function s(e){if("pyramid"===e.type)return e.scale[e.scale.length-1];return e.scale}function l(e){return"pyramid"===e.type?e.scale[e.scale.length-1].length:e.scale.length}function u(e){var t=0;for(;t<e.length;t++)if(e[t].propertyValue===i.pal){i=e[t];break}}function c(e){i=e;e.pal=i.propertyValue}function d(){return i}function f(){return n}return{getThemePalettes:r,getPaletteColor:o,getPaletteViewWidth:a,getPaletteScale:s,getNumberOfPaletteColors:l,updatePalette:u,pickScheme:c,getCurrentPalette:d,getPalettes:f}}return{create:function e(n){return new t(n)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){function t(t){e.isDirectDiscoveryField(t)&&(t.dimensionDialogMetaData={icon:"direct-discovery",iconTooltip:e.getTypeTranslationKey(t.qTags)})}return{addIconMetaData:t}}return{create:function t(n){return new e(n)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(792)],r=function(e,t){function n(n){var i={template:t,controller:["$scope",function(e){e.input=n}],dock:"right",alignTo:n.alignTo[0]};return e.getService("luiPopover").show(i)}return{show:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="field-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.displayName ? input.displayName : input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<div ng-if="input.sourceField">\n\t\t\t<h2><span q-translation="library.preview.header.source-field">&nbsp;</span></h2>\n\n\t\t\t<p class="sourcefield">{{input.sourceField}}</p>\n\t\t</div>\n\n\t\t<h2><span q-translation="library.preview.header.table">&nbsp;</span></h2>\n\t\t<ul class="tables">\n\t\t\t<li ng-repeat="table in input.tables">{{table}}</li>\n\t\t</ul>\n\t\t<h2 ng-if="input.typeTranslationKey"><span q-translation="assets.preview.header.fieldtype">&nbsp;</span></h2>\n\n\t\t<p ng-if="input.typeTranslationKey" class="field-type" q-translation="{{input.typeTranslationKey}}">&nbsp;</p>\n\n\t\t<div ng-if="input.calendarTemplateName">\n\t\t\t<h2><span q-translation="{{input.isDerivedFromDate ? \'library.preview.header.calendar-template\' : \'library.preview.header.field-template\'}}">&nbsp;</span></h2>\n\n\t\t\t<p class="calendar-template">{{input.calendarTemplateName}}</p>\n\t\t</div>\n\n\t\t<div ng-if="input.derivedCalendars && input.derivedCalendars.length > 0">\n\t\t\t<h2><span q-translation="{{input.isDateField ? \'library.preview.header.applied-calendars\' : \'library.preview.header.applied-field-templates\'}}">&nbsp;</span></h2>\n\t\t\t<ul class="tables">\n\t\t\t\t<li ng-repeat="cal in input.derivedCalendars">{{cal}}</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div ng-if="input.isSingleSelectSupported && input.alwaysOneSelected">\n\t\t\t<h2 q-translation="library.preview.singleSelect.header">&nbsp;</h2>\n\t\t\t<ul class="tables">\n\t\t\t\t<li ng-if="input.alwaysOneSelected" q-translation="Common.Enabled">&nbsp;</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(91),n(126),n(794),n(795)],r=function(e,t,n,i){var r={template:i,controller:["$scope","$q","CalendarMeasuresDialogService",function(i,r,o){i.previewsLoading=false;i.measuresCreating=false;i.aggregations=["Sum","Count","Avg","Min","Max"];i.measureTypes=[];i.viewModel={previewsExpanded:false};i.previewSelectionModel={};i.selectionModel={selectedAggregation:"Sum",selectedDate:void 0,selectedMeasure:void 0,selectedMeasureType:void 0};function a(){var e=o.getDateFields().then(function(e){i.dateFields=e;i.selectedField.isDateField?i.selectionModel.selectedDate=i.dateFields.filter(function(e){return e.qName===i.selectedField.name})[0]:i.dateFields.length?i.selectionModel.selectedDate=i.dateFields[0]:i.missingStateErrorMessage=t.get("Dialog.CalendarFlags.ErrorMessage.NoDateField")});var n=o.getMeasureFields().then(function(e){i.measures=e;i.selectedField.isDateField?i.measures.length?i.selectionModel.selectedMeasure=i.measures[0]:i.missingStateErrorMessage=t.get("Dialog.CalendarFlags.ErrorMessage.NoFields"):i.selectionModel.selectedMeasure=i.measures.filter(function(e){return e.qName===i.selectedField.name})[0]});r.all([e,n]).then(function(){i.initialized=true})}function s(){return o.getAvailableMeasureTypes(i.selectionModel.selectedDate.qName,i.selectionModel.selectedMeasure.qName,i.selectionModel.selectedAggregation).then(function(e){i.measureTypes=[];Object.keys(e).forEach(function(n){e[n]&&i.measureTypes.push({name:t.get("Dialog.CalendarFlags."+n),value:n})});if(i.measureTypes.length>0)if(i.selectionModel.selectedMeasureType){var n=i.measureTypes.filter(function(e){return e.value===i.selectionModel.selectedMeasureType.value});n.length>0&&(i.selectionModel.selectedMeasureType=n[0])}else i.selectionModel.selectedMeasureType=i.measureTypes[0];else i.selectionModel.selectedMeasureType=void 0})}i.createMasterMeasures=function(){var e=i.previewMeasures.filter(function(e){return i.previewSelectionModel[e.name].selected&&!e.alreadyExists});i.measuresCreating=true;o.createMasterItems(i.selectionModel.selectedDate.qName,i.selectionModel.selectedMeasure.qName,i.selectionModel.selectedAggregation,i.selectionModel.selectedMeasureType.value,e).finally(function(){i.measuresCreating=false;l();i.assets&&i.assets.openSection(n.sectionIDs.measure)})};i.isAddToMasterLibraryEnabled=function(){return!i.measuresCreating&&i.previewMeasures&&i.previewMeasures.some(function(e){return i.previewSelectionModel[e.name].selected&&!e.alreadyExists})};i.$watch("selectionModel",function(n,r){if(i.missingStateErrorMessage||!i.initialized)return;if(e.equals(n,r))return;var o=n.selectedMeasureType;s().then(function(){if(0===i.measureTypes.length){i.previewMeasures=[];i.inlineErrorMessage=t.get("Dialog.CalendarFlags.ErrorMessage.NoTimeCycleFlags")}else o&&l()})},true);var l=function e(){i.previewsLoading=true;o.getMasterMeasures(i.selectionModel.selectedDate.qName,i.selectionModel.selectedMeasure.qName,i.selectionModel.selectedAggregation,i.selectionModel.selectedMeasureType.value).then(function(e){i.previewMeasures=e.measures;i.previewMeasures.forEach(function(e){i.previewSelectionModel[e.name]||(i.previewSelectionModel[e.name]={selected:true})})}).finally(function(){i.previewsLoading=false})};var u=function e(){i.destroyComponent()};i.cancel=function(){u()};i.addToMaster=function(){u()};a()}]};return{component:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog id="calendar-measures-dialog">\n\t<lui-dialog-header q-translation="Dialog.CalendarFlags.Title"></lui-dialog-header>\n\t<lui-dialog-body>\n\n\t\t<qv-spinner class="spinner" show="!initialized" show-delay="100" show-for-at-least="300" spinner-height="250px" spinner-width=250px" center-in-parent="true"></qv-spinner>\n\n\t\t<div class="body error-message" ng-if="initialized && missingStateErrorMessage">\n\t\t\t{{missingStateErrorMessage}}\n\t\t</div>\n\n\t\t<div class="body" ng-if="initialized && !missingStateErrorMessage">\n\n\t\t\t<div class="left-side">\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.DateField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedDate" x-options="field as field.qName for field in dateFields"></lui-select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.AggregatedField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedMeasure" x-options="field as field.qName for field in measures">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.AggregationField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedAggregation" x-options="aggregation as aggregation for aggregation in aggregations">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.TimeCycleField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedMeasureType" x-disabled="measureTypes.length === 0" x-options="measureType as measureType.name for measureType in measureTypes">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="right-side">\n\n\t\t\t\t<div class="details-toggle-container">\n\t\t\t\t\t<div class="details-toggle-container-left-side">\n\t\t\t\t\t\t<div class="preview-title" q-translation="Dialog.CalendarFlags.PreviewMeasuresTitle"></div>\n\t\t\t\t\t\t<div class="details-text" ng-if="!viewModel.previewsExpanded" q-translation="Dialog.CalendarFlags.PreviewDetailsOff"></div>\n\t\t\t\t\t\t<div class="details-text" ng-if="viewModel.previewsExpanded" q-translation="Dialog.CalendarFlags.PreviewDetailsOn"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<lui-switch x-model="viewModel.previewsExpanded"></lui-switch>\n\t\t\t\t</div>\n\n\t\t\t\t<div style="position: relative; flex: 1">\n\t\t\t\t\t<qv-spinner class="spinner" show="previewsLoading || measuresCreating" show-delay="200" show-for-at-least="1000" spinner-height="150px" spinner-width="150px" center-in-parent="true"></qv-spinner>\n\n\t\t\t\t\t<div class="measure-container qv-animate" ng-hide="previewsLoading">\n\t\t\t\t\t\t<div ng-repeat="measure in previewMeasures" class="measure">\n\t\t\t\t\t\t\t<lui-checkbox x-model="previewSelectionModel[measure.name].selected" ng-if="!measure.alreadyExists" title="{{measure.name}}">{{measure.name}}</lui-checkbox>\n\t\t\t\t\t\t\t<div class="label" ng-if="measure.alreadyExists" title="{{measure.name}}">\n\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--tick checkmark"></span>\n\t\t\t\t\t\t\t\t<lui-label>{{measure.name}}</lui-label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input class="lui-input measure-preview" ng-model="measure.expr" readonly="true" title="{{measure.expr}}" ng-if="viewModel.previewsExpanded"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div ng-if="inlineErrorMessage && previewMeasures.length === 0" class="inline-error">\n\t\t\t\t\t\t{{inlineErrorMessage}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\n\n\t\t\t\t<lui-button class="create-measure-button" ng-click="createMasterMeasures()" q-translation="Dialog.CalendarFlags.SaveToMasterItems" tid="add_to_master" ng-disabled="!isAddToMasterLibraryEnabled()"></lui-button>\n\n\t\t\t</div>\n\n\t\t</div>\n\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="cancel()" q-translation="Common.Close" tid="close"></lui-button>\n\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(93),n(144),n(183),n(90),n(182)],r=function(e,t,n,i,r,o){e.service("CalendarMeasuresDialogService",[function(){var e={};var a;function s(){a||(a=i.getApi("api/dataprepservice/v1","openapi",void 0,void 0,void 0,void 0,o.getServerNodeId()));return a}function l(e,t,n,i,o,a){return s().then(function(s){if(s&&s.apis.assets)return s.apis.assets.generateAssets({appId:r.getParameterByName("app"),body:{topic:"timeCycleAnalysis",calendarField:e,measure:{field:t,aggr:n},addOnly:a,addToLibrary:o,assetTypes:i}}).then(function(e){return e.body.response})})}e.getAvailableMeasureTypes=function(e,t,n){return l(e,t,n,["measuresYearly","measuresMonthly","measuresQuarterly","measuresWeekly"],false).then(function(e){return e.hasPrerequisites})};e.getMasterMeasures=function(e,t,n,i){return l(e,t,n,[i],false)};e.createMasterItems=function(e,t,n,i,r){return l(e,t,n,[i],true,r)};function u(){return t.getApp().then(function(e){return e.getFieldList().then(function(e){return n.expand(e)})})}e.getDateFields=function(){return u().then(function(e){return e.filter(function(e){return e.qDerivedFieldData})})};e.getMeasureFields=function(){return u().then(function(e){return e.filter(function(e){return!e.qDerivedFieldData&&!e.isDerivedFromDate})})};return e}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(797),n(798),n(799),n(94),n(91),n(145),n(211),n(241)],r=function(e,t,n,i,r,o){var a;var s=function e(t){function s(){t.singleSelectNotEditable=false;t.singleSelectTitle=o.get("field.settings.dialog.singleSelect.label");t.confirmLabel=t.confirmLabel||"Common.Save";t.fieldSettingsTitle=o.get("field.settings.dialog.title");i.fetchAndExtendSettings(t.app,t.fieldName,t.fieldSettings);t.singleSelectErrorTranslation=null}function l(e,i){t.fieldSettings.alwaysOneSelected=!i;t.singleSelectNotEditable=true;var r=(i?"A":"D")+"-"+e;var a=n.getErrorCodeTranslation(r);t.singleSelectErrorTranslation=a;t.singleSelectTitle=o.get(a)}s();t.cancel=function(){a.closed.then(function(){t.destroyComponent()});a.close()};t.confirm=function(){if(n.validate(t)){var e=n.getFormData(t);var r=e.alwaysOneSelected;i.applySingleSelect(t.app,t.fieldName,r).then(function(e){e.success?t.app.global.getConfiguration().then(function(e){e.qFeatures.qAutoSave&&t.app.doSave();a.close()}):l(e.code,r)})}};r.StateChanged.bind(t.cancel);t.$on("$destroy",function(){r.StateChanged.unbind(t.cancel)})};var l={scope:{},template:t,controller:["$scope",s]};function u(t){var n={title:t.name,fieldName:t.name,app:t.app,fieldSettings:{description:t.description,descriptionExpression:t.descriptionExpression,alwaysOneSelected:t.alwaysOneSelected,preSelectExpression:t.preSelectExpression}};a=e.getService("luiDialog").show({template:l.template,controller:l.controller,input:n,closeOnOutside:false,showArrow:false});return a}return{show:u,controller:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-modal-background"></div>\n\n<div class="lui-dialog field-settings-dialog-wrapper" name="fieldSettingsDialog" style="width: 440px;" data-tid="field-settings-dialog">\n\t<div class="lui-dialog__header">\n\t\t<div class="lui-dialog__title">{{fieldSettingsTitle}}</div>\n\t</div>\n\t<div class="lui-dialog__body">\n\n\t\t\x3c!-- Description - TODO: To be added later --\x3e\n\t\t\x3c!-- <div class="field-settings-component">\n\t\t\t<label q-translation="metadata.description" class="qv-metadatalabel">Description:</label>\n\t\t\t<qv-description-textarea\n\t\t\t\tdescription="fieldSettings.description"\n\t\t\t\tdescription-expression="fieldSettings.descriptionExpression"\n\t\t\t\tng-disabled="true"\n\t\t\t\tis-valid="validity.descriptionExpression">\n\t\t\t</qv-description-textarea>\n\t\t</div> --\x3e\n\n\t\t\x3c!-- TODO: Checkbox with Always-one-selected --\x3e\n\t\t\n\t\t<div class="field-settings-component">\n\t\t\t<h1>{{fieldName}}</h1>\n\t\t\t<label class="lui-checkbox" title="{{singleSelectTitle}}">\n\t\t\t\t<input class="lui-checkbox__input" type="checkbox" ng-model="fieldSettings.alwaysOneSelected" tid="always-one-selected" ng-change="change()" ng-disabled="readOnly || fieldSettings.isFetching || singleSelectNotEditable">\n\t\t\t\t<div class="lui-checkbox__check-wrap">\n\t\t\t\t\t<span class="lui-checkbox__check"></span>\n\t\t\t\t\t<span class="lui-checkbox__check-text label" \n\t\t\t\t\t\tng-disabled="readOnly" \n\t\t\t\t\t\tq-translation="field.settings.dialog.singleSelect.label">\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t\t<div ng-if="singleSelectErrorTranslation" class="error">\n\t\t\t\t<span q-translation="{{singleSelectErrorTranslation}}"></span>\n\t\t\t</div>\n\t\t\t<div class="hint" q-translation="field.settings.dialog.singleSelect.disclaimer"></div>\n\n\t\t</div>\n\n\t\t\x3c!-- Pre-selection expression - TODO: To be added later --\x3e\n\t\t\x3c!-- <div class="field-settings-component">\n\t\t\t<qv-expression-input ng-disabled="true" label-translation="Pre-Selection" expression="fieldSettings.preSelectExpression" is-valid-expression="validity.preSelectExpression"></qv-expression-input>\n\t\t</div> --\x3e\n\n\t</div>\n\t<div class="lui-dialog__footer">\n\t\t<button class="lui-button close-button" qva-activate="cancel()" name="cancelButton" q-translation="Common.Cancel" data-tid="close-btn"></button>\n\t\t<button class="lui-button close-button" qva-activate="$event.preventDefault(); confirm()" name="confirmButton" q-translation="{{confirmLabel}}" data-tid="create-btn" ng-disabled="singleSelectNotEditable"></button>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{validate:e,getFormData:t,getErrorCodeTranslation:n};function e(){return true}function t(e){return{alwaysOneSelected:e.fieldSettings.alwaysOneSelected}}function n(e){var t={1:"field.settings.dialog.singleSelect.error.unknown","A-2":"field.settings.dialog.singleSelect.error.activateNoSelectableValue","A-3":"field.settings.dialog.singleSelect.error.activateSelectableValueFailed","A-4":"field.settings.dialog.singleSelect.error.activateSetFieldProps","D-4":"field.settings.dialog.singleSelect.error.deactivateSetFieldProps"};var n=t["1"];return t[e]||n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(142),n(141),n(90),n(89),n(49)],r=function(e,t,n,i,r){var o={ERROR_NO_SELECTABLE_VALUE:2,ERROR_COULD_NOT_SELECT_VALUE:3,ERROR_COULD_NOT_SET_FIELD_PROPS:4};return{applySingleSelect:h,fetchAndExtendSettings:s};function a(t,n){var i={};return e.isSingleSelect(t,n).then(function(e){i.alwaysOneSelected=e;return i})}function s(e,t,i){i.isFetching=true;return a(e,t).then(function(e){return n.extend(true,i,e)}).finally(function(){delete i.isFetching})}function l(e,n,i){var r=1;return t.createTransientField(e.app,n,{qStateName:i}).then(function(e){var t="/qListObjectDef";var n={qTop:0,qLeft:0,qWidth:1,qHeight:r};return e.getListObjectData(t,[n]).then(function(e){var t=e[0].qMatrix;var n=t[0][0];return n.qElemNumber})})}function u(e,t,n){var i=true;return l(e,t,n).then(function(t){if("number"===typeof t)return e.clear().then(function(){return e.lowLevelSelect([t],false,i).then(function(e){if(!e)return{success:false,code:o.ERROR_COULD_NOT_SELECT_VALUE};return{success:true}}).catch(function(){return{success:false,code:o.ERROR_COULD_NOT_SELECT_VALUE}})});return{success:false,code:o.ERROR_NO_SELECTABLE_VALUE}}).catch(function(){return{success:false,code:o.ERROR_NO_SELECTABLE_VALUE}})}function c(e,t){return e.setNxProperties(t).then(function(){return{success:true}}).catch(function(){return{success:false,code:o.ERROR_COULD_NOT_SET_FIELD_PROPS}})}function d(e){return e.getAppLayout().then(function(e){return["$"].concat(e.qStateNames)})}function f(e){e=e||[];var t=e.reduce(function(e,t){var n=i.resolve(e);return n.then(function(){return t()})},i.resolve());return t}function p(e,t,n,i){return e.getField(t,n).then(function(e){return e.getNxProperties().then(function(r){var o=r.qOneAndOnlyOne;if(!o&&true===i)return u(e,t,n).then(function(t){if(true===t||t.success){r.qOneAndOnlyOne=i;return c(e,r)}return t});r.qOneAndOnlyOne=i;return c(e,r)})})}function h(e,t,n,o){o=o||false;if("boolean"!==typeof n)return i.resolve({success:false});function a(i){if(!i.success&&!o)return h(e,t,!n,i.code);return{success:!o&&i.success,code:o||i.code,reverted:!!o&&i.success}}if(r.getFlag("ALT_STATE_ONE"))return d(e).then(function(i){var r=i.map(function(i){return function(){return p(e,t,i,n)}});return f(r).then(a)});return p(e,t,void 0,n).then(a)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(94),n(126),n(136),n(112),n(149),n(137),n(194),n(107),n(90),n(269),n(134),n(106),n(357),n(358),n(111),n(174)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h){function v(e){var t="";"N"===e?t="Common.Single":"H"===e&&(t="library.preview.dimensiontype.drilldown");return t}function m(e){var t=e.qFieldDefs[0];return"N"===e.qGrouping&&!!t&&"="===t.charAt(0)}function g(t){d.remove(t.id).then(function(){e.getService("qvColorMapService").deleteColorMap(t.id).then(function(){e.$rootScope.$emit("clearUndo")})})}function b(e){var t=new c;t.edit(e.id)}function y(e){r.addItemToSheetOrVisualization(e)}function x(e){r.hasLinks(e.id,d).then(function(t){var n="Dimension.EditWarning.Text";t?r.editDialog(n,function(){b(e)}):b(e)})}function w(e){r.hasLinks(e.id,d).then(function(t){var n=t?"Dimension.Master.DeleteWarning.Text":"Dimension.Master.DeleteWarning.Unused.Text";r.removeDialog(n,function(){g(e)})})}function S(t){d.getListLayout().then(function(n){var i=n.map(function(e){return e.qData.title});d.get(t.id).then(function(n){n.app.cloneDimension(t.id).then(function(r){n.app.getDimension(r).then(function(n){n.getProperties().then(function(r){var o=s.generateUniqueName(i,t.name);o=u.crop(o,l.name);r.qMetaDef.title=o;r.qDim.title=o;if(r.qDim.coloring&&r.qDim.coloring.colorMapRef){var a=e.getService("qvColorMapService");r.qDim.coloring.colorMapRef=r.qInfo.qId;a.getColorMap(t.id).then(function(e){e&&a.setColorMap(r.qInfo.qId,e)})}n.setProperties(r).then(function(){e.$rootScope.$emit("clearUndo")})})})})})})}return i.extend({init:function e(){this.list=[];this.id=n.sectionIDs.dimension;this.name="dimension";this.title="Common.Dimensions";this._super.apply(this,arguments);this.initPreviewManager();this.allowAdd=r.permissionToCreate("dimension")},addId:"addDimension",addText:"Dimension.Toolbox.CreateButton",addAction:function e(){var t=new c;t.add(null)},initLoadData:function e(){d.getList().then(function(e){this.$scope.listModel=e}.bind(this));f(this.$scope,"listModel",this.onLoadData.bind(this))},initPreviewManager:function e(){var n=this;function i(e){var t=e.item;var i=e.modelInfo;var a=o.getBasePreviewInfo(e);a.description=i.layout.qDim.descriptionExpression||i.properties.qMetaDef.description;a.typeTranslationKey=v(i.properties.qDim.qGrouping);a.isSingleExpression=m(i.properties.qDim);a.fields=i.properties.qDim.qFieldDefs;a.labelExpression=i.layout.qDim.qLabelExpression;a.labelExpressionDef=i.properties.qDim.qLabelExpression;a.qId=i.properties.qInfo.qId;i.properties.qDim.coloring&&(a.baseColor=i.properties.qDim.coloring.baseColor);a.buttons=[o.buttonAddTo(y,e.closePreview,t,r.getAddToText(),r.isAddToMode())];n.allowAdd&&a.buttons.push(o.buttonDuplicate(S,e.closePreview,t));t.permissions.update&&a.buttons.push(o.buttonEdit(x,e.closePreview,t));t.permissions.remove&&a.buttons.push(o.buttonDelete(w,e.closePreview,t));a.close=e.closePreview;o.alignPreview(a,e.$element);return h.show(a)}this.previewManager=o.previewManagerFactory({getSlowInfo:function e(t){return o.getItemInformation(d,t.id)},createPreview:i,itemDialogHandler:a,State:t})},onLoadData:function e(t){this.loading=false;t=p.create(t);this.list=r.localeOrderBy(t,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;r.removeSelection(t);this.previewManager.close();return t.filter(function(e){return r.libraryMultiSearch(e,n,["name","secondaryName","tags"])})},openContextMenu:function t(n,i){var o=e.getService("qvContextMenu").menu();r.isAddToMode()&&o.addItem({translation:r.getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){y(n)}});n.permissions&&n.permissions.update&&o.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){x(n)}});this.allowAdd&&o.addItem({translation:"Common.Duplicate",tid:"duplicate-master",select:function e(){S(n)}});n.permissions&&n.permissions.remove&&o.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){w(n)}});a.openContextMenu(o,n,i)},addItemToSheetOrActiveObject:function e(t){y(t)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="dimension-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title" title="{{input.name}}">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p ng-if="showLabelExpression" class="label-expression" qve-highlight text="{{input.labelExpression}}" query="input.query"></p>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<h2><span q-translation="library.preview.header.type"></span></h2>\n\t\t<p class="no-scroll" q-translation="{{input.typeTranslationKey}}" tid="preview-dimension-type"></p>\n\n\t\t<h2><span q-translation="library.preview.header.fields"></span></h2>\n\t\t<ul class="fields" ng-class="{ \'single-expression\': input.isSingleExpression }">\n\t\t\t<li ng-repeat="field in input.fields" title="{{field}}">{{field}}</li>\n\t\t</ul>\n\n\t\t<div ng-if="showLabelExpressionDef">\n\t\t\t<h2><span q-translation="library.preview.header.labelExpression"></span></h2>\n\t\t\t<p class="label-expression-def">{{input.labelExpressionDef}}</p>\n\t\t</div>\n\n\t\t<div ng-if="color">\n\t\t\t<h2><span q-translation="library.colors.dimensioncolor"></span></h2>\n\t\t\t<div class="color-row">\n\t\t\t\t<div class="color" ng-style="{\'background-color\': color}"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="valueColors.length">\n\t\t\t<h2><span q-translation="library.colors.valuecolors"></span></h2>\n\t\t\t<div class="color-row" tid="val-cols">\n\t\t\t\t<div ng-repeat="valcolors in valueColors track by $index" class="color" ng-style="{\'background-color\': valcolors, \'width\': previewColorViewWidth}">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2><span q-translation="Common.Tags"></span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }" title="{{tag.name}}">{{tag.name}}</li>\n\t\t\t</ul>\n\t\t</div>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(100),n(174)],r=function(e){var t=[];function n(n){t=[];if(n.usePal)n.colors.length?t=n.colors.map(function(t){return e.resolveColor(t.baseColor)}):e.dataPalettes.forEach(function(e){e.propertyValue===n.pal&&(t="pyramid"===e.type?t.concat(e.scale[e.scale.length-1]):t.concat(e.scale))});else if(n.single&&"none"!==n.single.color){t.push(e.resolveColor(n.single));if(n.colors){var i=n.colors.map(function(t){return e.resolveColor(t.baseColor)});t=t.concat(i)}}else n.colors&&(t=n.colors.map(function(t){return e.resolveColor(t.baseColor)}));return t}function i(e){return 0!==e.length?100/e.length+"%":0}return{getColors:n,getPreviewColorViewWidth:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(94),n(126),n(136),n(112),n(149),n(137),n(194),n(107),n(90),n(217),n(147),n(106),n(804),n(805),n(111)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h){function v(e){c.editMeasure(e.id)}function m(e){d.remove(e.id)}function g(e){r.addItemToSheetOrVisualization(e)}function b(e){r.hasLinks(e.id,d).then(function(t){var n="Measure.Master.EditWarning.Text";t?r.editDialog(n,function(){v(e)}):v(e)})}function y(e){r.hasLinks(e.id,d).then(function(t){var n=t?"Measure.Master.DeleteWarning.Text":"Measure.Master.DeleteWarning.Unused.Text";r.removeDialog(n,function(){m(e)})})}function x(e){d.getListLayout().then(function(t){var n=t.map(function(e){return e.qData.title});d.get(e.id).then(function(t){t.app.cloneMeasure(e.id).then(function(e){return t.app.getMeasure(e)}).then(function(t){t.getProperties().then(function(i){var r=s.generateUniqueName(n,e.name);r=u.crop(r,l.name);i.qMetaDef.title=r;i.qMeasure.qLabel=r;t.setProperties(i)})})})})}return i.extend({init:function e(){this.list=[];this.id=n.sectionIDs.measure;this.name="measure";this.title="Common.Measures";this._super.apply(this,arguments);this.initPreviewManager();this.allowAdd=r.permissionToCreate("measure")},addId:"addMeasure",addText:"Measure.Toolbox.CreateButton",addAction:function e(){c.addMeasure(null)},initLoadData:function e(){d.getList().then(function(e){this.$scope.listModel=e}.bind(this));f(this.$scope,"listModel",this.onLoadData.bind(this))},initPreviewManager:function e(){var n=this;function i(e){var t=e.item;var i=e.modelInfo;var a=o.getBasePreviewInfo(e);a.description=i.layout.qMeasure.descriptionExpression||i.properties.qMetaDef.description;a.expression=i.properties.qMeasure.qDef;a.labelExpression=i.properties.qMeasure.qLabelExpression;a.labelExpression=i.layout.qMeasure.qLabelExpression;a.labelExpressionDef=i.properties.qMeasure.qLabelExpression;a.baseColor=i.properties.qMeasure.coloring?i.properties.qMeasure.coloring.baseColor:i.properties.qMeasure.baseColor;a.qId=i.properties.qInfo.qId;a.buttons=[o.buttonAddTo(g,e.closePreview,t,r.getAddToText(),r.isAddToMode())];n.allowAdd&&a.buttons.push(o.buttonDuplicate(x,e.closePreview,t));t.permissions.update&&a.buttons.push(o.buttonEdit(b,e.closePreview,t));t.permissions.remove&&a.buttons.push(o.buttonDelete(y,e.closePreview,t));a.close=e.closePreview;o.alignPreview(a,e.$element);return h.show(a)}this.previewManager=o.previewManagerFactory({getSlowInfo:function e(t){return o.getItemInformation(d,t.id)},createPreview:i,itemDialogHandler:a,State:t})},onLoadData:function t(n){this.loading=false;e.$rootScope.$emit("clearUndo");n=p.create(n);this.list=r.localeOrderBy(n,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;r.removeSelection(t);this.previewManager.close();return t.filter(function(e){return r.libraryMultiSearch(e,n,["name","secondaryName","tags"])})},openContextMenu:function t(n,i){var o=e.getService("qvContextMenu").menu();r.isAddToMode()&&o.addItem({translation:r.getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){g(n)}});n.permissions&&n.permissions.update&&o.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){b(n)}});this.allowAdd&&o.addItem({translation:"Common.Duplicate",tid:"duplicate-master",select:function e(){x(n)}});n.permissions&&n.permissions.remove&&o.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){y(n)}});a.openContextMenu(o,n,i)},addItemToSheetOrActiveObject:function e(t){g(t)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(49),n(157)],r=function(e,t){function n(e){var t={};t.permissions=e.permissions;t.name=e.qData.title;t.secondaryName=e.qData.labelExpression||"";t.type=e.qInfo.qType;t.id=e.qInfo.qId;t.getDropOption=r.bind(null,t);t.tags=e.qData.tags;return t}function i(e){return{id:"newObject",args:{template:"kpi",init:{qHyperCubeDef:{qDimensions:[],qMeasures:[{qLibraryId:e.id,qDef:{autoSort:true,numFormatFromTemplate:true,conditionalColoring:{useConditionalColoring:false,singleColor:3,segments:{limits:[],colors:[{color:2}]}},measureAxis:{min:0,max:100},qNumFormat:{}},qSortBy:{qSortByLoadOrder:1,qSortByNumeric:-1}}],qInterColumnSortOrder:[0]}}}}}function r(n,r,o){if(e.getFlag("DISABLE_AUTO_CHART")||t.isVariableDefined("DISABLE_AUTO_CHART"))return i(n);if(o&&o.shiftKey)return i(n);return{id:"newObject",args:{template:"auto-chart",init:{qHyperCubeDef:{qMeasures:[{qLibraryId:n.id}],qInterColumnSortOrder:[0]},showTitles:false}}}}var o={create:function e(t){return t.map(function(e){return n(e)})}};return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(806),n(100),n(174)],r=function(e,t,n){function i(i){var r={template:t,controller:["$scope",function(t){t.input=i;i.baseColor&&i.baseColor.color&&(t.color=n.resolveColor(i.baseColor));t.showLabelExpression=!!t.input.labelExpression;t.showLabelExpressionDef=!!t.input.labelExpressionDef;var r=e.getService("qvColorMapService"),o=e.getService("qvRecentGradientsService");r.getMeasureGradient(t.input.qId).then(function(e){if(e){t.gradient=e;t.gradientColors=e.colors.map(function(e){return n.resolveColor(e)});t.gradientLimits="absolute"===e.limitType?o.convertAbsLimits(e.limits):e.limits.slice()}})}],dock:"right",alignTo:i.alignTo[0]};return e.getService("luiPopover").show(r)}return{show:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="measure-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title" title="{{input.name}}">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p ng-if="showLabelExpression" class="label-expression" qve-highlight text="{{input.labelExpression}}" query="input.query"></p>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<h2><span q-translation="library.preview.header.expression">&nbsp;</span></h2>\n\t\t<p class="expression">{{input.expression}}</p>\n\n\t\t<div ng-if="showLabelExpressionDef">\n\t\t\t<h2><span q-translation="library.preview.header.labelExpression">&nbsp;</span></h2>\n\t\t\t<p class="label-expression-def">{{input.labelExpressionDef}}</p>\n\t\t</div>\n\n\t\t<div ng-if="color">\n\t\t\t<h2><span q-translation="library.colors.measurecolor">&nbsp;</span></h2>\n\t\t\t<div class="color" ng-style="{\'background-color\': color}"></div>\n\t\t</div>\n\n\t\t<div ng-if="gradient">\n\t\t\t<h2><span q-translation="library.colors.segmentColors">&nbsp;</span></h2>\n\t\t\t<div class="color" qv-color-scheme-display colors="gradientColors" types="gradient.breakTypes" limits="gradientLimits"></div>\n\t\t</div>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2><span q-translation="Common.Tags">&nbsp;</span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }" title="{{tag.name}}">{{tag.name}}</li>\n\t\t\t</ul>\n\t\t</div>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(95),n(94),n(126),n(136),n(112),n(149),n(137),n(194),n(107),n(90),n(128),n(131),n(115),n(314),n(106),n(808),n(49),n(111)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g){function b(){var e=this;return{id:"newObject",args:{template:e.visualization,init:{qExtendsId:e.id}}}}function y(e){var t=p.getType(e);return t?t.getLibraryInfo().icon:"toolbar-help"}function x(e){var t=e.qData.visualization;return{id:e.qInfo.qId,name:e.qData.name,secondaryName:e.qData.labelExpression||"",tags:e.qData.tags,visualization:t,getDropOption:b,icon:y(t),type:"visualization",permissions:{update:e.permissions.update,remove:e.permissions.remove,publish:e.permissions.publish}}}function w(e){d.editMaster(e.id,e.visualization)}function S(e){h.remove(e.id)}function C(e,t){return o.hasLinks(e,t)}function E(e){t.publish("/ui/library/addToSheet",{item:e})}function q(e){C(e.id,h).then(function(t){var n="Object.Master.EditWarning.Text";t?o.editDialog(n,function(){w(e)}):w(e)})}function _(e){C(e.id,h).then(function(t){var n=t?"Object.Master.DeleteWarning.Text":"Object.Master.DeleteWarning.Unused.Text";o.removeDialog(n,function(){S(e)})})}function T(e){h.getList().then(function(t){t.getLayout().then(function(t){var n=t.map(function(e){return e.qData.name});h.get(e.id).then(function(t){var i=t.app;i.cloneObject(t.id).then(function(t){i.getObject(t).then(function(t){t.getProperties().then(function(i){var r=l.generateUniqueName(n,e.name);r=c.crop(r,u.name);i.qMetaDef.title=r;t.setProperties(i)})})})})})})}function k(e,t){for(var n=0;n<e.length;++n)e[n].disabled=e[n].id===t}return r.extend({init:function e(){this.list=[];this.id=i.sectionIDs.visualization;this.name="visualization";this.title="library.Visualizations";this._super.apply(this,arguments);this.initPreviewManager();this.allowDuplicate=o.permissionToCreate("visualization");this.$scope.stageState=f;this.$scope.$watch("stageState.selectedObject",function(e){e&&"gridCell"===e.type?k(this.list,e&&e.id):k(this.list,null)}.bind(this))},initLoadData:function e(){h.getList().then(function(e){this.$scope.listModel=e}.bind(this));v(this.$scope,"listModel",this.onLoadData.bind(this))},initPreviewManager:function e(){var i=this;function r(e){var n=e.item;var r=e.modelInfo;var s=a.getBasePreviewInfo(e);s.description=r.layout.descriptionExpression||r.properties.qMetaDef.description;s.labelExpression=r.layout.labelExpression;if(r.properties.labelExpression){var l=c.getValue(r.properties,"labelExpression.qStringExpression.qExpr","");l.length&&"="!==l[0]&&(l="="+l);s.labelExpressionDef=l}s.model=r.model;s.options={isReadonly:true,isPopover:true,navigation:false,selections:false};s.buttons=[a.buttonAddToSheet(E,e.closePreview,n,o.isAddToSheetMode())];i.allowDuplicate&&s.buttons.push(a.buttonDuplicate(T,e.closePreview,n));n.permissions.update&&s.buttons.push(a.buttonEdit(q,e.closePreview,n));n.permissions.remove&&s.buttons.push(a.buttonDelete(_,e.closePreview,n));g.getFlag("SINGLE_CONFIG")&&s.buttons.push(a.buttonEmbed(function(){t.publish("/embed-dialog/open",{type:"object",objectId:n.id})},e.closePreview,n));s.close=e.closePreview;a.alignPreview(s,e.$element);return m.show(s)}this.previewManager=a.previewManagerFactory({getSlowInfo:function e(t){return a.getItemInformation(h,t.id)},createPreview:r,itemDialogHandler:s,State:n})},onLoadData:function t(i){this.loading=false;n.view!==n.Views.masterObject&&e.$rootScope.$emit("clearUndo");i=i.filter(function(e){return!!e.qData.name});i=i.map(x);var r=f.selectedObject;r&&"gridCell"===r.type&&k(i,r&&r.id);this.list=o.localeOrderBy(i,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;o.removeSelection(t);this.previewManager.close();return t.filter(function(e){return o.libraryMultiSearch(e,n,["name","secondaryName","tags"])})},openContextMenu:function n(i,r){var a=e.getService("qvContextMenu").menu();o.isAddToMode()&&a.addItem({translation:"contextMenu.addToSheet",tid:"add-to-sheet",select:function e(){E(i)}});i.permissions&&i.permissions.update&&a.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){q(i)}});this.allowDuplicate&&a.addItem({translation:"Common.Duplicate",tid:"duplicate-master",select:function e(){T(i)}});i.permissions&&i.permissions.remove&&a.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){_(i)}});g.getFlag("SINGLE_CONFIG")&&a.addItem({translation:"contextMenu.embed",tid:"120694",select:function e(){t.publish("/embed-dialog/open",{type:"object",objectId:i.id})}});s.openContextMenu(a,i,r)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(809)],r=function(e,t){function n(n){var i={template:t,controller:["$scope",function(e){e.input=n;e.showLabelExpression=!!e.input.labelExpression;e.showLabelExpressionDef=!!e.input.labelExpressionDef}],dock:"right",alignTo:n.alignTo[0]};return e.getService("luiPopover").show(i)}return{show:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="object-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p ng-if="showLabelExpression" class="label-expression" qve-highlight text="{{input.labelExpression}}" query="input.query"></p>\n\n\t\t<div class="object">\n\t\t\t<qv-object model="input.model" options="input.options"></qv-object>\n\t\t\t<qv-transparent-overlay></qv-transparent-overlay>\n\t\t</div>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2 class="tags-title"><span q-translation="Common.Tags"></span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }">{{tag.name}}</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div ng-if="showLabelExpressionDef">\n\t\t\t<h2><span q-translation="library.preview.header.labelExpression"></span></h2>\n\t\t\t<p class="label-expression-def">{{input.labelExpressionDef}}</p>\n\t\t</div>\n\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>\n\n\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(95),n(94),n(136),n(149),n(137),n(504),n(156),n(112),n(811),n(318),n(319),n(111)],r=function(e,t,n,i,r,o,a,s,l,u,c,d){function f(e){n.publish("/ui/library/addToSheet",{item:e});return e}function p(e){this.item=e;this.id=e.id;this.name=e.name;this.type="template";this.template="widget";this.init={templateId:this.id};this.icon=d.getIcon(e.meta.type)}p.prototype.getDropOption=function(){var e=this.init.templateId;var t=s.getDefinition(this.item);var n=l.mapProperties(t,{templateId:e},e);n.widgetMeta={libid:this.item.libid,name:this.item.name};var i={id:"newObject",args:{template:"widget",init:n}};return i};return r.extend({init:function t(){this.list=[];this.id="some_id";this.name="qwidget";this.title="Widgets";this.stageScope=e("div.qv-panel-stage").scope();this._super.apply(this,arguments);this.initPreviewManager();this.allowAdd=false;this.infoExpanded=false;this.hasMetaInfo=true},addId:"addWidget",addText:"Create Widget",addAction:function e(){this.stageScope.enableWidget=true;this.stageScope.enableSheet=false},initPreviewManager:function e(){function t(e){var t=e.item;var n={query:e.query,name:t.name,description:t.item.description||t.item.meta.description,imageUrl:t.previewIconURL,hasImage:!!t.previewIconURL,icon:d.getIcon(t.item.meta.type)};n.buttons=[o.buttonAddToSheet(f,e.closePreview,t,u.isAddToSheetMode())];n.close=e.closePreview;o.alignPreview(n,e.$element);return c.show(n)}this.previewManager=o.previewManagerFactory({createPreview:t,itemDialogHandler:a,State:i})},onLoadData:function e(t){this.loading=false;var n=[];t.forEach(function(e){n.push(new p(e))});this.list=u.localeOrderBy(n,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;return t.filter(function(e){return u.librarySearchFn(e,n)})},openContextMenu:function e(n,i){if(u.isAddToMode()){var r=t.getService("qvContextMenu").menu();r.addItem({translation:"contextMenu.addToSheet",tid:"add-to-sheet",select:function e(){f(n)}});a.openContextMenu(r,n,i)}},addItemToSheetOrActiveObject:function e(t){u.itemDblClickHandler(t)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(812)],r=function(e,t){function n(n){var i={template:t,controller:["$scope",function(e){e.input=n}],dock:"right",alignTo:n.alignTo[0]};return e.getService("luiPopover").show(i)}return{show:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="widget-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<div ng-show="input.hasImage" class="template-image-container">\n\t\t\t<img ng-src="{{input.imageUrl}}">\n\t\t</div>\n\t\t<i ng-show="!input.hasImage" class="template-icon  lui-icon  lui-icon--{{input.icon}}"></i>\n\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p class="description">{{input.description}}</p>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="{{button.disabled}}" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>\n\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(814),n(96)],r=function(e,t,n){var i,r=500;function o(e){return e.is("input:not([type=radio]):not([type=checkbox]), textarea:not([readonly])")&&!e.closest(".CodeMirror").length||e.closest("[contenteditable=true]").length||e.closest(".CodeMirror").length}function a(e){return e.is(".ignore-context-menu")}function s(t,n,i,r,a){var s;i=e(i);if(n.ctrlKey&&n.shiftKey)return;if(o(i))return;if(i.is(".progress")||i.is("select")){n.preventDefault();return}n.originalType=n.type;delete n.type;s=e.Event(n,{type:t,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey});s.pageX=r;s.pageY=a;i.trigger(s);return false}function l(t){if(t.ctrlKey&&t.shiftKey)return;o(e(t.target))||t.preventDefault()}e(document.body).on("contextmenu",l);n(document.body).tap({options:{preventDefault:false,which:3},start:function e(t){n.utils.isMouse(t)&&(this._openContextMenu=true)},end:function e(t){if(this._openContextMenu){s("qv-contextmenu",t,t.target,t.pageX,t.pageY);this._openContextMenu=false}}});(n.utils.msPointer||n.utils.touch)&&n(document.body).longtap({options:{preventDefault:false,timeThreshold:r,interval:20},start:function t(r){if(n.utils.isMouse(r)||o(e(r.target))||a(e(r.target))){this.cancel();return}i=r.target},update:function e(n,r){if(100===r.percentage){t.show(r.pagePoints[0].x,r.pagePoints[0].y);s("qv-radial-contextmenu",n,i,r.pagePoints[0].x,r.pagePoints[0].y)}},cancel:function e(){t.hide()},end:function e(n,r){t.hide();s("qv-contextmenu",n,i,r.pagePoints[0].x,r.pagePoints[0].y);i=null}});e(document.body).on("MSHoldVisual",function(e){e.preventDefault()});e(document.body).on("MSGestureHold",function(e){e.preventDefault()})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(51),n(815)],r=function(e,t,n){var i=null;var r={scope:{position:"="},template:n,controller:["$scope","$element",function(e,t){var n=t.children();var i=n.outerWidth();n.css("top",e.position.y-i/2);n.css("left",e.position.x-i/2);n.addClass("transition")}]};var o={show:function n(a,s){o.hide();e.$apply(e.$rootScope,function(){i=t.show(r,{position:{x:a,y:s}})})},hide:function t(){e.$apply(e.$rootScope,function(){if(i){i.destroy();i=null}})}};return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div id="actionIndicator"></div>'},function(e,t,n){(function(e){(function(e,t,n){"$:nomunge";e.addOutsideEvent=i;function i(i,r){r=r||i+n;var o=[],a=i+"."+r+"-special-event";e.event.special[r]={setup:function(){-1===o.indexOf(this)&&o.push(this);1===o.length&&e(t).bind(a,s)},teardown:function(){var n=o.indexOf(this);-1!==n&&o.splice(n,1);0===o.length&&e(t).unbind(a)},add:function(e){var t=e.handler;e.handler=function(e,n){e.target=n;t.apply(this,arguments)}}};function s(t){var n=o.slice();n.forEach(function(n){var i=e(n);n===t.target||i.has(t.target).length||i.triggerHandler(r,[t.target])})}}})(e,document,"outside")}).call(this,n(11))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(54),n(91),n(94),n(49),n(126),n(136),n(112),n(149),n(137),n(217),n(219),n(192),n(818),n(133),n(819),n(106),n(111),n(351)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m){function g(e){var t=i.model;var n={insertBeforeItem:null,title:e.name,odagLinkRefID:e.id};h.addODAGNavPoint(t,n)}function b(t){var i="";if("unlimited"===t||""===t)i=n.get("ODAGLink.Dialog.RetentionTimeUnit.NeverExpires");else{var r={retentionTimeValue:"",retentionTimeUnit:""};var o=e.getService("odagLinkDialogService");r=o.getRetentionTimeDisplayValue(t);i="d"===r.retentionTimeUnit?"1"===r.retentionTimeValue?n.get("library.preview.odag.retentionTime.day",r.retentionTimeValue):n.get("library.preview.odag.retentionTime.days",r.retentionTimeValue):"h"===r.retentionTimeUnit?"1"===r.retentionTimeValue?n.get("library.preview.odag.retentionTime.hour",r.retentionTimeValue):n.get("library.preview.odag.retentionTime.hours",r.retentionTimeValue):t}return i}return a.extend({init:function e(t,n){this.app=n;this.list=[];this.id=o.sectionIDs.odag;this.name="odaglinks";this.title="ODAG.Toolbox.Title.ODAGToolbar";this._super.apply(this,arguments);this.initPreviewManager();this.allowAdd=s.permissionToCreate("odagLink");this.initLoadComplete=false},addId:"addODAGLink",addText:"ODAGLink.Toolbox.CreateButton",addAction:function e(){c.addODAGLink(this.app)},initLoadData:function e(){var t=this;f.getList(this.app).then(function(e){t.$scope.listModel=e});m(this.$scope,"listModel",this.loadODAGLinks.bind(this))},loadODAGLinks:function e(){var t=this;var n=function e(n){t.onLoadData(n);t.initLoadComplete=true};this.initLoadComplete?d.getList(this.app,true).then(function(e){t.onLoadData(e)}).catch(function(){this.loading=false}):this.$scope.listModel&&this.$scope.listModel.layout&&this.$scope.listModel.layout.qAppObjectList.qItems.length>0?d.getList(this.app,true).then(function(e){n(e)}).catch(function(){t.loading=false}):n([])},editCallback:function e(t){c.editODAGLink(this.app,t.id)},deleteCallback:function e(t){var n=this;var i="ODAGLink.Master.DeleteWarning.Text";s.removeDialog(i,function(){d.get(t.id).then(function(e){h.deleteODAGLink(n.app,t.id,e.properties)})})},initPreviewManager:function e(){var o=this;function a(e){var i=e.item;var a=e.modelInfo;var u="";u=""===a.properties.data.properties.targetSheet[0].sheetId||null===a.properties.data.properties.targetSheet[0].sheetId?n.get("ODAGLink.Dialog.DefaultView.AppOverview"):a.properties.data.properties.targetSheet[0].sheetName?a.properties.data.properties.targetSheet[0].sheetName:n.get("library.preview.odag.defaultView.UnableToAccess",a.properties.data.properties.targetSheet[0].sheetId);var c="";c=0===a.properties.data.properties.publishTo.length||""===a.properties.data.properties.publishTo[0].streamId||null===a.properties.data.properties.publishTo[0].streamId?n.get("ODAGLink.Dialog.DefaultPublishTo.MyWork"):a.properties.data.properties.publishTo[0].streamName?a.properties.data.properties.publishTo[0].streamName:n.get("library.preview.odag.publishTo.UnableToAccess",a.properties.data.properties.publishTo[0].streamId);var d=l.getBasePreviewInfo(e);d.templateApp=a.properties.data.templateApp;d.rowEstExpr=a.properties.data.rowEstExpr;d.rowEstCount=a.properties.data.properties.rowEstRange[0].highBound;d.genAppLimit=a.properties.data.properties.genAppLimit[0].limit;d.retentionTime=b(a.properties.data.properties.appRetentionTime[0].retentionTime);d.defaultView=u;d.publishTo=c;d.buttons=[l.buttonAddTo(g,e.closePreview,i,s.getAddToText(o.name),s.isAddToMode())];(r.getFlag("ODAG_SAAS_ENABLED")||t.contains(a.properties.data.privileges,"update")&&s.hasAppUpdatePermssion())&&d.buttons.push(l.buttonEdit(o.editCallback.bind(o),e.closePreview,i));(r.getFlag("ODAG_SAAS_ENABLED")||t.contains(a.properties.data.privileges,"delete")&&s.hasAppUpdatePermssion())&&d.buttons.push(l.buttonDelete(o.deleteCallback.bind(o),e.closePreview,i));d.close=e.closePreview;l.alignPreview(d,e.$element);return v.show(d)}this.previewManager=l.previewManagerFactory({getSlowInfo:function e(t){return l.getItemInformation(d,t.id)},createPreview:a,itemDialogHandler:u,State:i})},onLoadData:function t(n){this.loading=false;e.$rootScope.$emit("clearUndo");n=p.create(n);this.list=s.localeOrderBy(n,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;s.removeSelection(t);this.previewManager&&this.previewManager.close();return t.filter(function(e){return s.libraryMultiSearch(e,n,["name","tags"])})},openContextMenu:function n(i,o){var a=this;var c=e.getService("qvContextMenu").menu();l.getItemInformation(d,i.id).then(function(e){var n=e.properties;s.isAddToMode()&&c.addItem({translation:s.getContextMenuAddToText(a.name),tid:"add-to-sheet",select:function e(){g(i)}});(r.getFlag("ODAG_SAAS_ENABLED")||t.contains(n.data.privileges,"update")&&s.hasAppUpdatePermssion())&&c.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){a.editCallback(i)}});(r.getFlag("ODAG_SAAS_ENABLED")||t.contains(n.data.privileges,"delete")&&s.hasAppUpdatePermssion())&&c.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){a.deleteCallback(i)}});u.openContextMenu(c,i,o)})},addItemToSheetOrActiveObject:function e(t){g(t)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){var n={};n.dragDropType="odagLinkItem";n.name=e.data.name;n.type=e.type;n.id=e.data.id;n.getDropOption=t.bind(null,n);n.tags=e.data.tags;return n}function t(e){return{id:"newODAGNavPoint",args:{template:"odagLink",init:{linkRef:e}}}}var n={create:function t(n){return n.map(function(t){return e(t.properties)})}};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(820),n(49)],r=function(e,t,n){function i(i){var r={template:t,controller:["$scope",function(e){e.input=i;e.isOdagSaas=n.getFlag("ODAG_SAAS_ENABLED")}],dock:"right",alignTo:i.alignTo[0]};return e.getService("luiPopover").show(r)}return{show:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="odag-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\t\t<h2><span q-translation="library.preview.odag.row.templateapp"></span></h2>\n\t\t<p class="description">{{input.templateApp.name}}</p>\n\t\t<h2><span q-translation="library.preview.odag.row.expression"></span></h2>\n\t\t<p class="description">{{input.rowEstExpr}}</p>\n\t\t<h2><span q-translation="library.preview.odag.row.count"></span></h2>\n\t\t<p class="description">{{input.rowEstCount}}</p>\n\t\t<h2><span q-translation="library.preview.odag.maxGenAppsCount"></span></h2>\n\t\t<p class="description">{{input.genAppLimit}}</p>\n\t\t<h2><span q-translation="library.preview.odag.retentionTime"></span></h2>\n\t\t<p class="description">{{input.retentionTime}}</p>\n\t\t<h2 ng-if="!isOdagSaas"><span q-translation="library.preview.odag.defaultView"></span></h2>\n\t\t<p ng-if="!isOdagSaas" class="description">{{input.defaultView}}</p>\n\t\t<h2 ng-if="!isOdagSaas"><span q-translation="library.preview.odag.publishTo"></span></h2>\n\t\t<p ng-if="!isOdagSaas" class="description">{{input.publishTo}}</p>\t\t\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(48),n(136),n(93),n(112),n(137),n(106),n(822),n(269),n(134),n(357),n(358),n(111)],r=function(e,t,n,i,r,o,a,s){function l(t){var n={};n.permissions="$"===t?{update:false,remove:false}:{update:true,remove:true};n.name="$"===t?e.get("AlternateState.DefaultState"):t;n.type="state";n.id=t;n.allowDrag=false;n.getDropOption=function(){};return n}function u(e){return e.global.getConfiguration().then(function(t){if(t.qFeatures.qAutoSave)return e.doSave()})}function c(e){r.addItemToSheetOrVisualization(e)}return n.extend({init:function e(){this.list=[];this.prevList=[];this.id="AlternateStates";this.name="alternate states";this.title="Common.AlternateStates";this._super.apply(this,arguments);this.initPreviewManager();this.allowAdd=r.permissionToCreate("dimension");this.allowRemove=this.allowAdd},addId:"addState",addText:"AlternateState.Toolbox.CreateButton",addAction:function e(){var t=this;var n=function e(t){null!==t&&""!==t&&i.getApp().then(function(e){e.addAlternateState(t).then(function(){u(e)})})};var r=function e(n){if(!n||""===n)return false;if(!t.items)return true;return!t.items.some(function(e){return e.name===n})};var o={title:"AlternateState.Dialog.Add.Title",confirm:"Common.Create",name:"",checkNameCallback:r,callback:n};var a=s.show(o);a.closed.then(function(){a=null})},initLoadData:function e(){var t=this;i.getApp().then(function(e){t.$scope.listModel=e});a(this.$scope,"listModel",this.onLoadData.bind(this))},initPreviewManager:function e(){},openPreview:function e(){},onLoadData:function e(t){if(!this.prevList.length||this.prevList.length!==t.qStateNames.length||!this.prevList.every(function(e,n){return e===t.qStateNames[n]})){this.loading=false;var n=r.localeOrderBy(t.qStateNames||[],function(e){return e});this.list=["$"].concat(n).map(l);this.onFilter();this.prevList=t.qStateNames.concat()}},doFilter:function e(t){var n=this.assets.query;r.removeSelection(t);return t.filter(function(e){return r.libraryMultiSearch(e,n,["name"])})},openContextMenu:function e(n,a){var s=t.getService("qvContextMenu").menu();r.isAddToMode()&&s.addItem({translation:r.getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){c(n)}});n.permissions&&n.permissions.remove&&this.allowRemove&&s.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){i.getApp().then(function(e){e.removeAlternateState(n.id).then(function(){u(e)})})}});o.openContextMenu(s,n,a)},addItemToSheetOrActiveObject:function e(t){c(t)},closePreview:function e(){}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(99),n(823),n(94),n(107),n(166)],r=function(e,t,n,i,r){var o;function a(e){return{name:e.alternateState.name}}var s={scope:{title:"=",confirmLabel:"=",alternateState:"="},template:n,controller:["$scope",function(e){e.stringLimits=r;e.isValid=true;e.cancel=function(){e.destroyComponent()};e.confirm=function(){var t=a(e);e.isValid=e.checkNameCallback(t.name);if(e.isValid){o.close();e.callback(t.name)}};i.StateChanged.bind(e.cancel);e.onKeyPress=function(t){e.isValid=true;var n=t.which;13===n&&e.confirm()};e.$watch("alternateState.name",function(){});e.$on("$destroy",function(){i.StateChanged.unbind(e.cancel)});e.autoFocus=t.treatAsDesktop()}]};function l(t){var n={title:t.title,confirmLabel:t.confirm,alternateState:{name:t.name},add:t.add,checkNameCallback:t.checkNameCallback,callback:t.callback};o=e.getService("luiDialog").show({template:s.template,controller:s.controller,input:n,closeOnOutside:false,showArrow:false});return o}return{show:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-modal-background"></div>\n<div class="lui-dialog" name="alternateStatesDialog" id="alternate-states-dialog">\n\t<lui-tab-view>\n\t\t<div class="lui-dialog__header">\n\t\t\t<div class="lui-dialog__title" q-translation="{{input.title}}"></div>\n\t\t</div>\n\t\t<div class="lui-dialog__body">\n\t\t\t\x3c!-- Name --\x3e\n\t\t\t<div class="alternate-state-component">\n\t\t\t\t<label q-translation="AlternateState.NewStateName" class="qv-metadatalabel">State:</label>\n\t\t\t\t<input class="lui-input" qva-focus="autoFocus" ng-keypress="onKeyPress($event)" ng-model="alternateState.name" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !isValid }" data-tid="name-input"/>\n\t\t\t</div>\n\t\t</div>\n\t</lui-tab-view>\n\t<div class="lui-dialog__footer">\n\t\t<button class="lui-button close-button" ng-click="cancel()" name="cancelButton" q-translation="Common.Cancel" data-tid="close-btn"></button>\n\t\t<button class="lui-button close-button" ng-click="$event.preventDefault(); confirm()" name="confirmButton" q-translation="{{confirmLabel}}" data-tid="create-btn"></button>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(210),n(359),n(505)],r=function(e,t){function n(e,t){t.widgets=t.widgets||[];Object.defineProperties(this,{id:{value:e},data:{value:t,writable:true}});t.type="widget-library"}function i(e){e=e||this;return t.saveLibrary(e)}n.prototype.save=i;n.save=i;n.getList=function(){return e.getList().then(function(e){var t=[];e.forEach(function(e){"widget-library"===e.data.type&&t.push(new n(e.id,e.data))});return t})};n.get=function(e){return t.getLibrary(e).then(function(t){return new n(e,t)})};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){var t=false;if(e&&e.length>3){t="";e=e.replace("qw","");e=e[0].toLowerCase()+e.substr(1);for(var n in e){var i=e[n];if("string"===typeof i){i===i.toUpperCase()&&(i="-"+i.toLocaleLowerCase());t+=i}}}return t}function t(e,t){var n=false;if(e){n=e;t&&(n=e.toLowerCase());n=n[0].toUpperCase()+n.substr(1)}return n}return{directiveToFile:e,capitalizeString:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(827),n(828)],r=function(e,t){var n={restrict:"E",replace:true,scope:{section:"="},template:t};e.directive("qvAssetsSection",function(){return n});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="assets-section" tid={{section.id}}>\n\t<div ng-if="section.allowAdd" class="library-section-add-button-wrapper">\n\t\t<lui-button\n\t\t\tqva-activate="section.addAction()"\n\t\t\tid="{{section.addId}}"\n\t\t\tq-translation="{{section.addText}}">\n\t\t</lui-button>\n\t</div>\n\t<qv-assets-list\n\t\tquery="section.assets.query"\n\t\tsection="section">\n\t</qv-assets-list>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(829),n(112),n(127),n(54),n(11),n(206),n(179),n(270),n(96),n(161),n(111),n(263),n(830)],r=function(e,t,n,i,r,o,a,s,l,u,c){var d={restrict:"E",replace:true,scope:{query:"=",section:"="},template:t,link:function t(d,f){var p;var h=false;var v=f.find(".expanded-info-header");v&&v.on("transitionend",function(e){"max-height"===e.originalEvent.propertyName&&q(I,0)});function m(){if(p){clearTimeout(p);p=null}}function g(e){for(var t=0;t<d.section.items.length;t++)if(d.section.items[t].id===e.id)return t}d.getDisplayText=function(e){var t=e.isDerived&&""===d.query?e.qName:c.trimAutoCalendarName(e.name);return t};d.itemDblClick=function e(t,i){d.section.closePreview();t.selected&&n.toggleSelection(t,i);if(t.disabled)return;d.section.addItemToSheetOrActiveObject(t);m()};d.itemContextMenu=function e(t,n){if(t.disabled)return;d.section.openContextMenu(t,n)};d.isExpanded=function(e){return d.section.expanded&&d.section.expanded[e.id]};d.inMomentumScroll=function(e,t){var n=i.elementFromEventPosition(t);return e!==o(n).scope().item};function b(e,t){var n=g(e);h=false;if(e.derivedFields&&e.derivedFields.length>0){d.section.items.splice(n+1,e.derivedFields.length);t||T.setList(d.section.items,true)}d.section.expanded[e.id]=false}function y(e,t){var n=g(e);h=true;d.section.expanded[e.id]=true;if(e.derivedFields&&e.derivedFields.length>0){var i=[n+1,0].concat(e.derivedFields);Array.prototype.splice.apply(d.section.items,i);t||T.setList(d.section.items,true)}}d.itemClicked=function e(t,i){m();p=setTimeout(function(){if(u.utils.touch&&d.inMomentumScroll(t,i))return;if(t.disabled)return;t.derivedFields&&t.derivedFields.length>0&&(d.section.expanded[t.id]?b(t):y(t));if(!n.toggleSelection(t,i)){d.$apply();return}x(t,i)},200)};function x(e,t){var n=o(t.currentTarget);var i;i=_.virtualScrollEnabled&&_.alignBottomAbsolute?0===_.items.indexOf(e)?-1:0:d.itemOffLimitPx(n,f);function r(){d.section.openPreview(e,t);d.$apply()}function a(e){return e>0?1:e<0?-1:0}if(0===i)r();else if(_.virtualScrollEnabled){var s=_.getVirtualScrollAmount(0,a(i),1);O.scroll(0,s.deltaY);q(r)}else{k.one("scroll",function(){r()});k[0].scrollTop+=i}}d.itemOffLimitPx=function(e,t){var n=e.position();var i=n.top;if(i<0)return i;i=n.top+e.outerHeight()-t.height();if(i>0)return i;return 0};function w(){e.$apply(d,function(){h||d.section.closePreview();h=false;e.getService("qvContextMenu").close()})}var S=r.throttle(w,500);var C=45;var E={minRowHeight:C,maxRowHeight:C,blockSize:60,keepItemsCount:10};var q=e.getService("$timeout");var _=new a(q,E);d.scroll=_;var T=new l(_);var k=f.find(".scroll-area");var O=k.controller("qvScrollArea");var D=new s(k,k,".lui-list__item",".lui-list__item:first",".lui-list__item:last");var A=f.find(".qv-scroll-loader").controller("qvScrollLoader");_.initialize(D,T,O,A).then(function(){_.activate();_.updateViewport();d.$watch("section.items",function(e){if(!e)return;_.updateViewport();var t=false;if(d.section.expanded)for(var n=0;n<e.length;n++)if(d.section.expanded[e[n].id]&&(n===e.length-1||!e[n+1].isDerived)){y(e[n],true);t=true}T.setList(e,t)})});_.Scroll.bind(S);function I(e){if(e){d.section.allowAdd&&(e.height-=37);D.getBoundingBox=function(){return e};D.getScrollAreaBoundingBox=function(){return e};T.resize().then(function(){delete D.getBoundingBox;delete D.getScrollAreaBoundingBox})}else T.resize()}d.section.Resize.bind(I);d.$on("$destroy",function(){_.destroy();v&&v.off("transitionend");d.section.Resize.unbind(I);_.Scroll.unbind(S)})}};e.directive("qvAssetsList",function(){return d});return d}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="assets-list" ng-class="{ empty: !section.items.length }">\n\t\n\t<div class="expanded-info-header " ng-show="!section.loading && section.hasMetaInfo" ng-class="{\'expanded\': section.infoExpanded || section.shouldShowCloudExtensionsWarning}">\n\t\t<div class="expanded-info-collapsed-header">\n\t\t\t<div class="expanded-info-collapsed-title" ng-bind="section.infoTitle" title="{{section.infoTitle}}"></div>\n\t\t\t<span class="lui-icon lui-icon--more" ng-click="section.infoExpanded = !section.infoExpanded;" q-title-translation="Tooltip.AssetPanel.ExpandWidgetInformation"></span>\n\t\t</div>\n\t\t<div class="expanded-info">\n\t\t\t<div class="info-image"></div>\n\t\t\t<div class="expanded-info-content" ng-bind="section.description"></div>\n\t\t\t<div class="expanded-info-content" ng-if="section.shouldShowCloudExtensionsWarning">\n\t\t\t\t<div>\n\t\t\t\t\t<span class="extension-warning-icon lui-icon lui-icon--warning-triangle"></span>\n\t\t\t\t\t<div class="expanded-info-content extension-warning-text" ng-bind="section.cloudExtensionWarning"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\n\t<span class="assets-nohits" ng-show="!section.loading && !query && !section.items.length" q-translation="library.noitems"></span>\n\t<qv-assets-search-no-hits query="query" show="!section.loading && query && !section.items.length"></qv-assets-search-no-hits>\n\t\n\t<qv-scroll-area class="scroll-area" ng-show="!section.loading" ng-class="{ \'native-scroll-enabled\': !scroll.virtualScrollEnabled }" >\n\t\t<qv-scroll-load-button\n\t\t\t\tng-show="scroll.loadPrevious"\n\t\t\t\ton-load="scroll.gotoPreviousBlock()"\n\t\t\t\ttext="Object.Listbox.LoadPrevious" previous="true"></qv-scroll-load-button>\n\n\t\t<ul class="lui-list assets-n-minutes__list" ng-class="{ \'align-bottom\': scroll.alignBottomAbsolute }" >\n\n\t\t\t<li ng-repeat="item in scroll.items track by item.id"\n\t\t\t\tng-hide="item.hidden"\n\t\t\t\tclass="lui-list__item lui-list__action library-item qv-draggable"\n\t\t\t\tdata-id="{{item.id}}"\n\t\t\t\tng-click="itemClicked(item, $event)"\n\t\t\t\tqva-context-menu="itemContextMenu(item, $event)"\n\t\t\t\tng-dblclick="itemDblClick(item, $event)"\n\t\t\t\tng-class="{ \'lui-active\': item.selected, \'lui-disabled\': item.disabled, \'derived-field-item\' : item.isDerived && query === \'\' }"\n\t\t\t\ttitle="{{item.name}}">\n\t\t\t\t<div ng-if="item.icon" class="lui-icon lui-icon--{{item.icon}} lui-list__aside" q-title-translation="{{item.iconTooltip}}"></div>\n\t\t\t\t<div class="lui-list__text library-item-text">\n\t\t\t\t\t<div ng-if="item.isDateField" class="lui-icon lui-icon--calendar icon-align"></div>\n\t\t\t\t\t<div ng-if="item.isGeoField" class="lui-icon lui-icon--map icon-align"></div>\n\t\t\t\t\t<div class="titles">\n\t\t\t\t\t\t<span qve-highlight text="{{ getDisplayText(item) }}" query="query" class="title"></span>\n\t\t\t\t\t\t<span ng-if="item.secondaryName" qve-highlight text="{{item.secondaryName}}" query="query" class="title secondary-title">{{item.secondaryName}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="item.match.tags" class="lui-icon lui-icon--tag lui-list__aside"></div>\n\t\t\t\t<div ng-if="item.derivedFields.length > 0" class="toggle-expand lui-icon lui-list__aside" ng-class="isExpanded(item) ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\'"></div>\n\t\t\t\t<i class="lui-icon lui-list__aside lui-icon--draggable" q-title-translation="Common.Move"></i>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<qv-scroll-load-button\n\t\t\t\tng-show="scroll.loadNext"\n\t\t\t\ton-load="scroll.gotoNextBlock()"\n\t\t\t\ttext="Object.Listbox.LoadMore"></qv-scroll-load-button>\n\t</qv-scroll-area>\n\t<qv-scroll-loader no-rain="true"></qv-scroll-loader>\n\n\t<div class="assets-loading" ng-show="section.loading"><span q-translation="Common.Loading"></span>\n\t\t<qv-spinner show="section.loading"></qv-spinner>\n\t</div>\n\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(831)],r=function(e,t){var n={restrict:"E",replace:true,scope:{query:"=",show:"="},template:t};e.directive("qvAssetsSearchNoHits",function(){return n});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div ng-show="show" class="assets-nohits">\n\t<div class="query">â<div>{{query}}</div>â</div>\n\t<span class="message" q-translation="Toolbox.Search.Nohits"></span>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(1425)],r=function(e){function t(t){e.show(t)}function n(){e.hide()}function i(){return e.isShown()}return{show:t,hide:n,isShown:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(834),n(99),n(112),n(92),n(144),n(89),n(97),n(148),n(124),n(96),n(142),n(49),n(157),n(95),n(93),n(108),n(155),n(176),n(835),n(837),n(175)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g,b){var y=".globalSelections",x=o.extend({init:function t(n,r){var o=this;var a=g.inClient();this.$scope=n;this.callbacks=[];this.ignoreUpdates=false;this.hasLoaded=false;n.dimensions=[];n.dimensionsFields=[];n.selectedFields=[];n.fields=[];n.dimAvailable=false;n.showFields=r.getShowFields(n.app);n.showFieldsCheckbox=true;n.filter="";n.autoFocus=i.treatAsDesktop();n.selectionToolbarOpen=false;n.showNoMatches=false;n.disableSelectionInsights=false;n.selInsightsEnabled=p.getFlag("SELECTION_INSIGHTS")&&a;function l(){var e=new s;u.isRunning().then(function(){e.resolve(true)},function(){e.resolve(false)});return e.promise}var u;if(a){u=new b;var c=localStorage.getItem("qv-global-selections-settings");m.getApp().then(function(e){l().then(function(t){h.load(e).then(function(){!h.isVariableDefined("DISABLE_SELECTION_INSIGHTS")&&t||(n.disableSelectionInsights=true);c&&!JSON.parse(c).open?n.showInsights=false:n.showInsights=true})})})}n.handleEscape=function(e){if(n.filter&&n.filter.length>0){n.filter="";e.stopImmediatePropagation();e.preventDefault()}else r.off()};function d(){localStorage.setItem("qv-global-selections-settings",JSON.stringify({open:n.showInsights}))}n.showInsightsPanel=function(){n.showInsights=true;d();v.publish("selection/insights/show")};var f=function e(){n.showInsights=false;d();localStorage.setItem("qv-global-selections-settings",JSON.stringify({open:n.showInsights}))};v.subscribe("selection/insights/close",f);n.$on("$destroy",function(){v.unsubscribe("selection/insights/close",f)});s.all({fields:this.getFields(),select:this.bindCurrentSelections(),dim:this.getLibraryDimensions(),reg:this.registerExtensions()}).then(function(){o.hasLoaded=true;n.showFieldsCheckbox=n.fields.length>0;n.dimAvailable=n.dimensions.length>0;if(!n.dimAvailable&&n.showFieldsCheckbox){n.showFields=true;r.setShowFields(n.showFields,n.app)}n.$watch("filter",function(){o.filterShown(o,o.$scope)});n.$watch("showFields",function(){r.setShowFields(n.showFields,n.app);o.filterShown(o,o.$scope)});e(".qv-gs-section .qv-gs-header")[1].style.display="none";e(".qv-gs-section .qv-gs-header")[1].offsetHeight;e(".qv-gs-section .qv-gs-header")[1].style.display="block"})},registerExtensions:function e(){var t=new s;c.load().then(function(){t.resolve()});return t.promise},getFields:function e(){var t=this.$scope;return t.app.getFieldList().then(function(e){t.fields=a.expand(e).map(function(e){return{title:e.qName,qField:e.qName,qTags:e.qTags}})})},_updateCurrentSelectionFields:function e(t){var n=this,i=this.$scope;i.selectedFields=t.qSelectionObject.qSelections.filter(function(e){return!e.qIsHidden}).sort(f.sortSelections).map(function(e){return{title:e.qReadableName||e.qField,qField:e.qField,enableBadge:true}});n.hasLoaded&&n.filterShown(n,i)},handleCurrentSelectionFields:function e(){var t=this;this.$scope.currentSelectionsModel.getLayout().then(function(e){t._updateCurrentSelectionFields(e)})},bindCurrentSelections:function e(){var t=this.$scope,n=this;return n.$scope.app.getCurrentSelectionObject().then(function(e){t.currentSelectionsModel=e;n.subscription=e.layoutSubscribe(function(e){if(t.app.isInModalSelection())return;n._updateCurrentSelectionFields(e)})})},getLibraryDimensions:function e(){var t=this.isCalculatedField,n=this.$scope;return n.app.getDimensionList().then(function(e){n.dimensions=e.filter(function(e){return e.qData.info.length>0&&!e.qData.info.some(t)&&"H"!==e.qData.grouping}).map(function(e){return{title:e.qData.labelExpression||e.qData.title,fieldName:e.qData.info[0].qName,qId:e.qInfo.qId}})})},isCalculatedField:function e(t){return"="===t.qName[0]},filterShown:function e(n,i){var o="",a=[];i.dimensionsFields=i.dimensions.filter(function(e){return!i.selectedFields.some(function(t){return e.fieldName===t.qField})});if(i.showFields){a=i.fields.filter(function(e){return!i.selectedFields.some(function(t){return t.qField===e.qField})});a=u.removeMeasureAndDetailsFields(a);i.dimensionsFields=i.dimensionsFields.concat(a.filter(function(e){return!i.dimensions.some(function(t){return e.qField===t.fieldName})}))}if(i.filter.length>0){o=i.filter.toLowerCase();a=i.dimensionsFields.filter(function(e){return-1!==e.title.toLowerCase().indexOf(o)});i.dimensionsFields=a}r.localeOrderBy(i.dimensionsFields,function(e){return e.title});i.showNoMatches=0===i.dimensionsFields.length&&!this.ignoreUpdates&&i.filter.length>0;t.$apply(i,function(){n.notifyCallbacks(n)})},addCallback:function e(t,n){this.callbacks.push({type:t,fn:n})},notifyCallbacks:function e(t){if(!t.hasLoaded)return;if(t.ignoreUpdates)return;t.callbacks.forEach(function(e){"fields"!==e.type&&"dimensions"!==e.type||e.fn()})},setIgnoreUpdates:function e(t){this.ignoreUpdates=t}});x.$inject=["$scope","qvGlobalSelectionsService"];t.directive("qvGlobalSelections",["$document","qvSelectionToolbarService","$timeout",function(t,i,r){return{restrict:"E",template:n,controller:x,require:["qvGlobalSelections"],scope:{app:"="},replace:true,link:function n(o,a,s,u){o.toolbar=!!t.find(".qui-toolbar,.qs-toolbar")[0];var c=u[0],h=function e(){c.ignoreUpdates=false},v=function e(){o.selectionToolbarOpen=false;r(function(){c.handleCurrentSelectionFields()})},m=function e(){o.selectionToolbarOpen=true};i.Closed.bind(v);i.Opened.bind(m);t.on("keyup"+y,function(e){27===e.which?c.ignoreUpdates=false:13===e.which&&(c.ignoreUpdates=false)});p.getFlag("ALT_STATE_ONE")&&f.getSelectionStates(o.app).then(function(e){e.splice("$",1);o.hasStatesOtherThanDefault=e.length>0});d(t[0].body).tap({id:y,options:{preventDefault:false},start:function t(n){var i=e(n.target).closest(".qv-gs-badge").length>0,r=e(n.target).closest(".qv-gs-listbox").length>0,o=e(n.target).closest(".qv-selection-toolbar").length>0;c.ignoreUpdates=r&&!i&&!o}});l.on("start",h);o.$on("$destroy",function(){c.callbacks=[];i.Closed.unbind(v);i.Opened.unbind(m);d(t[0].body).off("*",y);t.off(y);l.off("start",h);c.subscription&&c.subscription.dispose()});o.onEnter=function(e){e.stopPropagation();e.target.blur()}}}}]);return'<qv-global-selections app="app"></qv-global-selections>'}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-global-selections" ng-class="{\'toolbar\': toolbar, \'selection-toolbar-open\': selectionToolbarOpen, \'insights-active\': showInsights && selInsightsEnabled }">\n\t<div class="qv-gs-sections">\n\t<section class="qv-gs-section qv-gs-top" tid="globalSelections.topSection" ng-class="{\'qv-gs-section-margin\' : showInsights && !disableSelectionInsights}">\n\t\t<header class="qv-gs-header">\n\t\t\t<h2 ng-if="!hasStatesOtherThanDefault" q-translation="GlobalSelections.CurrentSelections"></h2>\n\t\t\t<h2 ng-if="hasStatesOtherThanDefault" q-translation="GlobalSelections.CurrentSelections.Default"></h2>\n\t\t\t<div class="show-insights-btn" ng-show="selInsightsEnabled && !showInsights && !disableSelectionInsights">\n\t\t\t\t<button tid="explore-selections-button" class="lui-button show-insights--button" ng-click="showInsightsPanel()">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--lightbulb"></span><span class="lui-button__text"  q-translation="ExploreSelections.ExploreSelectionsBtn"></span>\n\t\t\t\t</button></div>\n\t\t</header>\n\t\t<div class="qv-gs-no-selections" ng-if="selectedFields.length == 0">\n\t\t\t<div class="qv-gs-no-selections-content">\n\t\t\t\t<div class="qv-qs-no-selections-image"></div>\n\t\t\t\t<div class="qv-qs-no-selections-title" q-translation="GlobalSelections.NoSelections"></div>\n\t\t\t\t<div class="qv-qs-no-selections-body" q-translation="GlobalSelections.NoSelectionsBody"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div qv-global-select-section="{ itemSize: 220, itemSpacing: 20, type: \'fields\' }" all-items="selectedFields" app="app"></div>\n\t</section>\n\n\t<section class="qv-gs-section" tid="globalSelections.bottomSection" ng-class="{\'qv-gs-section-margin\' : showInsights && !disableSelectionInsights}">\n\t\t<header class="qv-gs-header">\n\t\t\t<h2 q-translation="GlobalSelections.AppDimensions"></h2>\n\t\t\t<lui-checkbox class="global-show-fields-checkbox" x-model="showFields" title="{{\'GlobalSelections.ShowFields\'|translate}}" tid="globalSelections.showFields">{{\'GlobalSelections.ShowFields\'|translate}}</lui-checkbox>\n\t\t\t<lui-search  class="qv-gs-searchfield" placeholder="{{showFields ? \'GlobalSelections.FilterDimensionsAndFields\' : \'GlobalSelections.FilterDimensions\'}}" query="filter" maxlength="255"\n\t\t\t\t\t\t\t tid="globalSelections.searchField" on-escape="handleEscape($event)" auto-focus="autoFocus" on-enter="onEnter($event)"></lui-search>\n\t\t</header>\n\n\t\t<div class="qv-gs-info" ng-if="!dimAvailable && !showFields">\n\t\t\t<h2 q-translation="GlobalSelections.DimensionsWarning"></h2>\n\t\t</div>\n\t\t<div class="qv-gs-info" ng-if="showNoMatches">\n\t\t\t<h2 q-translation="GlobalSelections.NoMatchesForSearch"></h2>\n\t\t</div>\n\t\t<div qv-global-select-section="{ itemSize: 220, itemSpacing: 20, type: \'dimensions\'}" all-items="dimensionsFields" filter="filter" app="app"></div>\n\n\t</section>\n\t</div>\n\n\t<div tid="selection-insights-container" class="qv-insights-container" ng-if="selInsightsEnabled && showInsights && !disableSelectionInsights">\n\t\t<qv-selection-insights show-fields="showFields"></qv-selection-insights>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(836),n(92),n(141),n(153),n(97),n(89),n(206),n(179),n(270),n(11),n(90),n(104),n(251),n(114),n(99),n(176),n(244)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v){function m(e,t){while(e.length>t)e.pop()}var g=u.extend({init:function e(){this.resetColumnIndex();this._super.apply(this,arguments)},resetColumnIndex:function e(){this.columnIndex=0},setList:function e(t){this.list=t;this.scrollApi.setTotalRows(this.list.length);this.setItems(this.columnIndex,this.scrollApi.settings.blockSize);this.scrollApi.updateLoadingButtons()},onInitialNativeScroll:function e(){return a.resolve()},onGotoNextBlock:function e(){var t=this._super.apply(this,arguments).then(function(){this.columnIndex=this.getFirstElementIndex()}.bind(this));return t},onGotoPreviousBlock:function e(){var t=this._super.apply(this,arguments).then(function(){this.columnIndex=this.getFirstElementIndex()}.bind(this));return t}}),b=l.extend({resetNativeScroll:function e(){this.$scrollArea.scrollLeft(0)},alignToFirstRow:function e(){var t=this.getFirstRow(),n=t.children(".qv-object-wrapper").attr("id"),i=260;return function(){var e=c(this.$scrollArea.find("#"+n)),t;if(e.length>0){t=e.offset().left-i;this.$scrollArea.scrollLeft(t)}}.bind(this)},alignToLastRow:function e(){var t=this.getLastRow(),n=t.children(".qv-object-wrapper").attr("id"),i=250;return function(){var e=c(this.$scrollArea.find("#"+n)),t;if(e.length>0){this.$scrollArea.scrollLeft(0);t=e.parent().position().left-this.getScrollAreaBoundingBox().width+e[0].getBoundingClientRect().width+i;this.$scrollArea.scrollLeft(t)}}.bind(this)},getBoundingBox:function e(){var t=this._super.apply(this,arguments);return new f(t.top,t.left,t.height,t.width)}}),y=n.extend({size:{width:0,height:0},itemSize:0,itemSpacing:0,$element:void 0,init:function e(t,n,i){this.$scope=t;this.$timeout=n;this.selectionToolbarService=i;this.$scope.items=[];this.$scope.options={direction:h.direction}},initialize:function e(t,n,i){this.setSize(n);this.setItemSize(i.itemSize);this.setItemSpacing(i.itemSpacing);this.setElement(t.find(".qv-gs-scroll-area"));this.setItems();this.initialized=true},updateVisible:function e(){var t=this.offsetX-(this.$scope.scrollApi.loadPrevious?1:0),n=this.visibleItemsCount;this.$scope.items.forEach(function(e,i){var r=i>=t&&i<t+n;!e.visible&&r&&(e.options={isPopOver:false,highlightTitle:true,direction:h.direction});r&&!e.model&&this.getModel(e).then(function(e,t){e.model=t}.bind(null,e));e.visible=r},this)},getModel:function e(t){var n=this.getInitProps(t.title),r;t.qField?r=i.createTransientField(this.$scope.app,t.qField,n):t.qId&&(r=i.createTransientDimension(this.$scope.app,t.qId,n));return r},onScroll:function e(){this.qvGlobalSelectionsCtrl.setIgnoreUpdates(false);this.selectionToolbarService.confirm();this.updateHighlights();this.$timeout.cancel(this.scrollTimeout);this.scrollTimeout=this.$timeout(function(){this.updateVisible();this.updateHighlights()}.bind(this),100)},onResize:function e(t){this.setSize(t);this.updateVisible()},updateHighlights:function e(){this.$scope.items.forEach(function(e){e.options.highlightQuery=this.$scope.filter},this)},setItems:function e(){var t,n,i,r=this.$scope,o=this.totalItemsCount;r.items.length!==o&&m(r.items,o);for(t=0;t<o;t++){n=r.items[t]||{};i=r.scrollApi.items[t];i.enableBadge&&(n.enableBadge=i.enableBadge);n.model||(n.options={isPopOver:false,highlightTitle:true,direction:h.direction});if(i.qField){delete n.qId;if(!n.model||n.qField!==i.qField){if(n.visible){r.items[t]=d.extend(true,{},n);n=r.items[t];delete n.$$hashKey;delete n.options.search}n.title=i.title;n.qField=i.qField;n.id=p.sha256(n.qField);delete n.model}}else if(i.qId){delete n.qField;if(!n.model||n.qId!==i.qId){if(n.visible){r.items[t]=d.extend(true,{},n);n=r.items[t];delete n.$$hashKey;delete n.options.search}n.title=i.title;n.qId=i.qId;n.id=p.sha256(n.qId);delete n.model}}r.items[t]||(r.items[t]=n)}this.updateVisible()},getInitProps:function e(t){var n={title:t,qListObjectDef:{qDef:{}}};r.autoSortDimension(n.qListObjectDef);return n},getWidthOf:function e(t){return this.totalItemSize*t-this.itemSpacing},setItemSize:function e(t){this.itemSize=t||220},setItemSpacing:function e(t){this.itemSpacing=t||20},setSize:function e(t){this.size=t},setElement:function e(t){this.$element=t;this.$element.on("scroll",this.onScroll.bind(this))}});Object.defineProperties(y.prototype,{vPosX:{get:function e(){return this.$element.scrollLeft()}},totalItemSize:{get:function e(){return this.itemSize+this.itemSpacing}},visibleItemsCount:{get:function e(){var t=Math.ceil(((this.vPosX+(this.previousBtnVisible?240:0))%this.totalItemSize+this.size.width)/this.totalItemSize);return Math.min(t,this.totalItemsCount+(this.previousBtnVisible?1:0))}},totalItemsCount:{get:function e(){return(this.$scope.scrollApi.items||[]).length}},offsetX:{get:function e(){return Math.floor(this.vPosX/this.totalItemSize)}},previousBtnVisible:{get:function e(){return!!this.$scope.scrollApi.loadPrevious}}});y.$inject=["$scope","$timeout","qvSelectionToolbarService"];e.directive("qvGlobalSelectSection",["$parse","$timeout",function(e,n){return{controller:y,require:["qvGlobalSelectSection","^qvGlobalSelections"],template:t,replace:true,scope:{allItems:"=",filter:"=",app:"="},link:function t(i,r,a,l){var u=l[0],c=l[1],d=e(a.qvGlobalSelectSection)(),f={},p=r.find(".qv-gs-scroll-area"),h=p.controller("qvScrollArea"),m=r.find(".qv-scroll-loader").controller("qvScrollLoader"),y={blockSize:24,minRowHeight:240,maxRowHeight:240,keepItemsCount:4,virtualScrollEnabled:false},x=new s(n,y),w=new g(x),S=new b(r,p,".qv-gs-listbox",".qv-gs-listbox:first",".qv-gs-listbox:last"),C=null,E=function e(){f.width=r.innerWidth();f.height=r.innerHeight();u.onResize(f)};i.scrollApi=x;u.qvGlobalSelectionsCtrl=c;x.initialize(S,w,h,m).then(function(){x.activate();x.updateViewport();i.$watch("filter",function(){w.resetColumnIndex();x.resetNativeScroll()});i.$watch("allItems",function(e){if(!e)return;w.setList(e);C&&C();C=i.$watch("scrollApi.items",function(){var t=!v.treatAsDesktop();if(c.ignoreUpdates&&!t)return;if(0===x.items.length&&i.allItems.length>0){x.resetNativeScroll();w.resetColumnIndex();w.setList(e)}u.initialized&&u.setItems()})})}).catch(function(e){false});n(function(){f.width=r.innerWidth();f.height=r.innerHeight();u.initialize(r,f,d)});o.on("end",E);i.$on("$destroy",function(){o.off("end",E);x.destroy()});c.addCallback(d.type,function(){u.$timeout(function(){u.setItems();u.$timeout(function(){u.updateHighlights()})})})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-gs-scroll-container">\n\t<qv-scroll-area class="qv-gs-scroll-area">\n\t\t<div ng-if="scrollApi.loadPrevious" class="qv-gs-scroll-btn qv-gs-scroll-btn-previous" tid="globalSelections.loadPrevious">\n\t\t\t<qv-scroll-load-button tag="div" class="qv-listbox-load-buttons" on-load="scrollApi.gotoPreviousBlock()" text="Object.Listbox.LoadPrevious" previous="true"></qv-scroll-load-button>\n\t\t</div>\n\t\t<div ng-repeat="item in items" class="qv-gs-listbox">\n\t\t\t<qv-object ng-if="item.visible" model="item.model" options="item.options" object="item.object" class="qv-object-listbox" id="{{item.id}}"></qv-object>\n\t\t\t<div ng-if="!item.visible" class="qv-object qv-object-listbox qv-gs-placeholder" id="{{item.id}}">\n\t\t\t\t<h1 class="qv-object-title" qva-direction x-dir-text="{{item.title}}">\n\t\t\t\t\t<span class="qv-object-title-text" qva-direction x-dir-text="{{item.title}}">{{item.title}}</span>\n\t\t\t\t</h1>\n\t\t\t\t<div class="progress">\n\t\t\t\t\t<qv-rain></qv-rain>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<p ng-if="item.qField" q-title-translation="Common.Field" tid="globalSelections.fieldIndicator" class="qv-gs-field-indicator" qva-direction>\n\t\t\t\t<span class="lui-icon  lui-icon--field"></span>\n\t\t\t</p>\n\t\t\t<qv-gs-badge></qv-gs-badge>\n\t\t</div>\n\t\t<div ng-if="scrollApi.loadNext" class="qv-gs-scroll-btn" tid="globalSelections.loadNext">\n\t\t\t<qv-scroll-load-button tag="div" class="qv-listbox-load-buttons" on-load="scrollApi.gotoNextBlock()" text="Object.Listbox.LoadMore"></qv-scroll-load-button>\n\t\t</div>\n\t</qv-scroll-area>\n\t<qv-scroll-loader tag="li" class="qv-scroll-row-loader"></qv-scroll-loader>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(838),n(288)],r=function(e,t,n){function i(t,n){var i=n[2];e.$apply(e.$rootScope,function(){t.item.showBadge=(void 0===n[0]||false===n[0])&&false===n[1]&&!i})}e.directive("qvGsBadge",function(){return{restrict:"E",template:t,replace:true,link:function e(t){if(t.item.enableBadge){t.item.object||(t.item.object={});t.$watchCollection("[item.model.layout.qListObject.qDimensionInfo.qLocked, item.object.selectionsApi.active, item.object.model.layout.qListObject.qDimensionInfo.qIsOneAndOnlyOne]",function(e){i(t,e)});t.badgeClick=function(e){var t=new n(e.model);return t.beginSelections().then(function(){return t.clearSelections().then(function(){return t.endSelections(true)})})}}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-gs-badge" ng-if="item.showBadge" q-title-translation="Tooltip.clearSelection" tid="globalSelections.badge" ng-click="badgeClick(item)">\n\t<span class="lui-icon lui-icon--remove"></span>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(840),n(132),n(134),n(154),n(112),n(89),n(93),n(106),n(141),n(148),n(184),n(142),n(95),n(105),n(49),n(175),n(841),n(843),n(271),n(240),n(289)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v){function m(t,n){var i="",r=[];t.selectables=n.dimensions.filter(function(e){return!t.selectedFields.some(function(t){return e.qField===t.qField})});if(true===t.filter.showFields){r=n.fields.filter(function(e){return!t.selectedFields.some(function(t){return t.qField===e.qField})});r=c.removeMeasureAndDetailsFields(r);t.selectables=t.selectables.concat(r.filter(function(e){return!n.dimensions.some(function(t){return e.qField===t.qField})}))}if(t.filter.filter.length>0){i=t.filter.filter.toLowerCase();r=t.selectables.filter(function(e){return-1!==e.title.toLowerCase().indexOf(i)});t.selectables=r}o.localeOrderBy(t.selectables,function(e){return e.title});e.$apply(t)}function g(e){return e.every(function(e){return e.qLocked})}function b(t,i){var r=new a,o=e.getService("qvCurrentSelectionsService");n.get().then(function(e){t.currentSelectionsModel=e;l(t,"currentSelectionsModel",function(e){t.disable={clear:0===e.qSelectionObject.qSelections.length||g(e.qSelectionObject.qSelections),back:0===e.qSelectionObject.qBackCount,forward:0===e.qSelectionObject.qForwardCount};t.selectedFields=e.qSelectionObject.qSelections.filter(function(e){return!e.qIsHidden}).sort(f.sortSelections);t.selectedFields.forEach(function(e){e.translation=o.translate(e)});i.hasLoaded&&m(t,i)});r.resolve()});return r.promise}function y(e){var t=function e(t){return"="===t.qName[0]},n=new a;i.getList().then(function(i){i.getLayout().then(function(i){e.dimensions=i.filter(function(e){return e.qData.info.length>0&&!e.qData.info.some(t)&&"H"!==e.qData.grouping}).map(function(e){return{title:e.qData.title,qField:e.qData.info[0].qName,qId:e.qInfo.qId}});n.resolve()})});return n.promise}function x(e){var t=new a;r.getList().then(function(e){return e.getLayout()}).then(function(n){e.fields=n.map(function(e){return{title:e.qName,qField:e.qName,qTags:e.qTags,isField:true}});t.resolve()});return t.promise}var w=["$scope","qvGlobalSelectionsService",function(t,n){var i={hasLoaded:false,dimensions:[],fields:[]};t.filter={};s.getApp().then(function(r){t.app=r;t.selectedFields=[];t.filter.filter="";t.filter.showFields=n.getShowFields(r);t.filter.onEnter=function(e){e.stopPropagation();e.target.blur()};t.selectables=[];t.enableMenu=true;t.disable={clear:false,back:false,forward:false};e.getService("qvChartTooltipService").close();a.all({selectionsDfd:b(t,i),dimensionsDfd:y(i),fieldsDfd:x(i)}).then(function(){i.hasLoaded=true;t.enableMenu=i.fields.length>0;if(i.dimensions.length<=0&&t.enableMenu){t.filter.showFields=true;n.setShowFields(t.filter.showFields,r)}t.$watch("filter",function(){m(t,i)},true)})})}];e.directive("qvMobileSelections",["qvGlobalSelectionsService","qvListboxPopoverServiceMobile",function(e,n){return{restrict:"E",template:t,controller:w,replace:true,require:["qvMobileSelections"],scope:{},link:function t(i,r){var o,l=function e(){r.find(".qv-ms-scroll-area").animate({scrollTop:0})},c=d.createGroup("mobile-selections",0);c.registerKeys("enter",function(){});c.on();document.activeElement&&document.activeElement.blur();v.getFlag("ALT_STATE_ONE")&&s.getApp().then(function(e){f.getSelectionStates(e).then(function(e){e.splice("$",1);i.hasStatesOtherThanDefault=e.length>0})});i.close=function(t){t.preventDefault();e.toggleGlobalSelection(i.app);p.publish(h.Events.PubSub.RestoreSearchState)};i.selectionsBack=function(){i.disable.back||i.currentSelectionsModel.back()};i.selectionsForward=function(){i.disable.forward||i.currentSelectionsModel.forward()};i.selectionsClear=function(){i.disable.clear||i.currentSelectionsModel.clearAll()};i.toggleTooltip=i.filter.showFields?"GlobalSelections.HideFields":"GlobalSelections.ShowFields";i.toggleMenu=function(){i.filter.showFields=!i.filter.showFields;i.toggleTooltip=i.filter.showFields?"GlobalSelections.HideFields":"GlobalSelections.ShowFields";s.getApp().then(function(t){e.setShowFields(i.filter.showFields,t)})};i.$on("showListbox",function(e,t){var c={title:t.qReadableName||t.title,qListObjectDef:{qDef:{}}},d=-1!==i.selectedFields.indexOf(t),f=function e(){i.currentSelectionsModel.getLayout().then(function(e){var n;if(!d){n=e.qSelectionObject.qSelections.some(function(e){return t.qField===e.qField});if(n){o.resolve();return}}o.reject()})},p=function e(t){o&&o.reject();o=new a;o.promise.then(l);r.children(".qv-ms-searchbox").find("input").blur();n.show(t,{showLock:true},f)};s.getApp().then(function(e){t.qField?u.createTransientField(e,t.qField,c).then(p):u.createTransientDimension(e,t.qId,c).then(p)})});i.$on("$destroy",function(){o&&o.reject();c.delete()})}}}]);return"<qv-mobile-selections></qv-mobile-selections>"}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-mobile-selections" tid="{{\'mobileSelections.showFields.\' + filter.showFields}}">\n\t<div class="qv-ms-toolbar">\n\t\t<p ng-click="selectionsBack()" ng-class="{\'qv-ms-button-disabled\' : disable.back, \'qv-ms-button-enabled\': !disable.back}" class="lui-icon lui-icon--selections-back qv-ms-toolbar-buttons" tid="mobileSelections.back" q-title-translation="Tooltip.NavigateBack"></p>\n\t\t<p ng-click="selectionsForward()" ng-class="{\'qv-ms-button-disabled\' : disable.forward, \'qv-ms-button-enabled\': !disable.forward}" class="qv-ms-toolbar-buttons lui-icon lui-icon--selections-forward" tid="mobileSelections.forward" q-title-translation="Tooltip.NavigateForward"></p>\n\t\t<p ng-click="selectionsClear()" ng-class="{\'qv-ms-button-disabled\' : disable.clear, \'qv-ms-button-enabled\': !disable.clear}" class="qv-ms-toolbar-buttons lui-icon lui-icon--clear-selections" tid="mobileSelections.clear" q-title-translation="Tooltip.ClearSelections"></p>\n\t\t<p ng-click="toggleMenu()" ng-class="{\'qv-ms-button-disabled\' : !enableMenu, \'qv-ms-button-enabled\': enableMenu, \'qv-ms-button-menu-active\': filter.showFields }" class="qv-ms-toolbar-buttons lui-icon\tlui-icon--settings" id="mobileSelectionsToggle" tid="mobileSelections.toggleFields" q-title-translation="{{toggleTooltip}}"></p>\n\n\t\t<qui-toolbarbutton ng-click="close($event)" name="close" class="qv-ms-toolbar-close" tid="mobileSelections.close">\n\t\t\t<span q-translation="Common.Close" class="qv-ms-toolbar-close-text"></span>\n\t\t</qui-toolbarbutton>\n\t</div>\n\t<header class="qv-ms-header">\n\t\t<h2 ng-if="!hasStatesOtherThanDefault" q-translation="GlobalSelections.CurrentSelections"></h2>\n\t\t<h2 ng-if="hasStatesOtherThanDefault" q-translation="GlobalSelections.CurrentSelections.Default"></h2>\n\t</header>\n\t<lui-search x-variant="inverse" class="qv-ms-searchbox" placeholder="{{filter.showFields ? \'GlobalSelections.FilterDimensionsAndFields\' : \'GlobalSelections.FilterDimensions\'}}" query="filter.filter" maxlength="255"\n\t\ton-enter="filter.onEnter($event)" tid="mobileSelections.searchfield">\n\t</lui-search>\n\t<div class="qv-ms-scroll-area">\n\t\t<qv-ms-selected ng-repeat="item in selectedFields"></qv-ms-selected>\n\t\t<div class="qv-ms-selectable" ng-if="filter.filter.length && (!selectables || selectables.length === 0)">\n\t\t\t<span q-translation="GlobalSelections.NoMatchesForSearch"></span>\n\t\t</div>\n\t\t<qv-ms-selectable ng-repeat="item in selectables"></qv-ms-selectable>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(842)],r=function(e,t){e.directive("qvMsSelectable",["$timeout",function(e){return{restrict:"E",replace:true,template:t,link:function t(n){n.showSelectable=function(){n.item.flash=true;e(function(){n.$emit("showListbox",n.item);n.item.flash=false},20)}}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div ng-click="showSelectable()" ng-class="{\'qv-ms-touch-flash\' : item.flash}" class="qv-ms-selectable" tid="mobileSelections.selectable">\n\t<span ng-if="item.isField" class="lui-icon  lui-icon--field"></span>\n\t<div class="qv-ms-highlight">\n\t\t<span qve-highlight text="{{item.title}}" query="filter.filter"></span>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(844)],r=function(e,t){e.directive("qvMsSelected",function(){return{restrict:"E",replace:true,template:t,link:function e(t){t.showSelected=function(){t.$emit("showListbox",t.item)};t.clear=function(e){t.currentSelectionsModel.clearField(e)}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-ms-selected" tid="mobileSelections.selected">\n\t<div class="qv-ms-selected-icon">\n\t\t<a ng-show="!item.qLocked && !item.qOneAndOnlyOne" ng-click="clear(item.qField)">\n\t\t\t<i class="lui-icon  lui-icon--remove"></i>\n\t\t</a>\n\t\t<a ng-show="item.qLocked" ng-click="showSelected(item.qField)">\n\t\t\t<i class="lui-icon lui-icon--lock"></i>\n\t\t</a>\n\t</div>\n\t<div ng-click="showSelected(item.qField)" class="qv-ms-selected-info" ng-class="{ \'no-icon\': item.qOneAndOnlyOne }">\n\t\t<h1 class="qv-object-title">{{item.qReadableName || item.qField}}</h1>\n\t\t<span>{{item.translation}}</span>\n\t\t<qv-state-count-bar state-counts="item.qStateCounts"></qv-state-count-bar>\n\t</div>\n</div>\n'},function(e,t){e.exports='<lui-popover style="min-width: 200px;width: 230px;" align-to="alignTo" position="position" collision="\'flipfit\'" on-close-view="closeAddPopover(event)" qva-outside-ignore-for="{{qvaOutsideIgnoreFor}}">\n\t<object-add-typeahead>\n\t\t<lui-popover-header>\n\t\t\t<div class="lui-input-group">\n\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" name="new-dimension" autocomplete="off" ng-model="search.term" tid="add-dimension-input" qva-focus="autoFocus"\n\t\t\t\t\t   object-add-typeahead-input on-escape="onEscape($event)" on-enter="onEnter($event)" maxlength="255"/>\n\t\t\t\t<button ng-if="allowExpressionEditor !== false" class="lui-button  lui-input-group__item  lui-input-group__button" qva-activate="close()"\n\t\t\t\t\t\tpp-expression-editor="search.term" pp-expression-editor-on-apply="addFieldDimension({value:value})" expression-type="dimension"\n\t\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor" tid="fx-button">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression  edit-expression"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</lui-popover-header>\n\t\t<div class="object-add-popover-content" object-add-typeahead-menu>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="dimension in activeDimensions" tid="dimension-item"\n\t\t\t\t\tobject-add-typeahead-item="dimension" on-select="addActiveDimension(dimension)">\n\t\t\t\t\t<span qve-highlight text="{{dimension.translatedTitle}}" title="{{dimension.translatedTitle}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-list-header" ng-if="dimensions.length" q-translation="Common.Dimensions"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="dimension in dimensions" tid="dimension-item"\n\t\t\t\t\tobject-add-typeahead-item="dimension" on-select="addLibraryDimension(dimension)">\n\t\t\t\t\t<span ng-if="dimension.isDrillDown" class="lui-icon lui-icon--drill-down lui-list__aside" q-title-translation="Tooltip.dimensions.drilldown"></span>\n\t\t\t\t\t<span qve-highlight text="{{dimension.label}}" title="{{dimension.label}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-list-header" ng-if="fields.length" q-translation="Common.Fields"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="field in fields" tid="field-item"\n\t\t\t\t\tobject-add-typeahead-item="field" on-select="addFieldDimension(field)"\n\t\t\t\t\tng-class="{\'derived-field\': (field.isDerived && search.term === \'\')}">\n\t\t\t\t\t<i ng-if="isDirectDiscoveryField( field )" class="lui-icon  lui-icon--direct-discovery  lui-list__aside" q-title-translation="{{ getDirectDiscoveryTypeTranslationKey( field.qTags ) }}"></i>\n\t\t\t\t\t<span ng-if="field.isDateField" class="lui-icon lui-list__aside  lui-icon--calendar"></span>\n\t\t\t\t\t<span ng-if="field.isGeoField" class="lui-icon lui-list__aside  lui-icon--map"></span>\n\t\t\t\t\t<span qve-highlight text="{{getFieldDisplayName(field)}}" title="{{field.toolTip}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-nohits" ng-if="!dimensions.length && !fields.length" q-translation="Toolbox.Search.Nohits"></div>\n\t\t</div>\n\t</object-add-typeahead>\n</lui-popover>\n'},function(e,t){e.exports='<lui-popover style="width: 200px" on-close-view="onClose(event)">\n\t<div class="object-error-popup">\n\t\t\x3c!--<div class="object-error-title" q-translation="{{error.title}}"></div>--\x3e\n\t\t<div class="object-error-message">{{error.message}}</div>\n\t</div>\n</lui-popover>'},function(e,t){e.exports='<div class="object-error hard-error" tid="object.Error">\n\t<div class="object-error-content">\n\t\t<div class="object-error-title">\n\t\t\t<span>{{error.title}}</span>\n\t\t\t<i class="object-error-more lui-icon lui-icon--info lui-icon--large" ng-click="showMore($event)"></i>\n\t\t</div>\n\t\t<div ng-if="error.message" class="object-error-message">{{error.message}}</div>\n\t\t<button ng-if="showButton" class="lui-button object-error-remove" ng-click="remove($event)" q-translation="Common.Delete"></button>\n\t</div>\n</div>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r,o;(function(){var a=function(e){var t,n,i;n=""===/t(.+)?/.exec("t")[1];function r(e,t){if(e.indexOf)return e.indexOf(t);var n=e.length;while(n--)if(e[n]===t)return n;return-1}function o(e,t){var n=r(e,t);-1!==n&&e.splice(n,1)}function a(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function s(e){return a(e,"RegExp")}function l(e){return a(e,"Array")}function u(e){return"function"===typeof e}function c(e){var t;t=null===e||"null"===e?null:"true"===e||"false"!==e&&(e===i||"undefined"===e?i:""===e||isNaN(e)?e:parseFloat(e));return t}function d(e){var t=e.length,n=[];while(t--)n[t]=c(e[t]);return n}function f(e,t){var n=(e||"").replace("?","").split("&"),i=/([^=]+)=(.+)/,r=-1,o={},a,s,u,d;while(s=n[++r]){a=s.indexOf("=");d=s.substring(0,a);u=decodeURIComponent(s.substring(a+1));false!==t&&(u=c(u));d in o?l(o[d])?o[d].push(u):o[d]=[o[d],u]:o[d]=u}return o}function p(){this.bypassed=new e.Signal;this.routed=new e.Signal;this._routes=[];this._prevRoutes=[];this._piped=[];this.resetState()}p.prototype={greedy:false,greedyEnabled:true,ignoreCase:true,ignoreState:false,shouldTypecast:false,normalizeFn:null,resetState:function(){this._prevRoutes.length=0;this._prevMatchedRequest=null;this._prevBypassedRequest=null},create:function(){return new p},addRoute:function(e,t,n){var i=new h(e,t,n,this);this._sortedInsert(i);return i},removeRoute:function(e){o(this._routes,e);e._destroy()},removeAllRoutes:function(){var e=this.getNumRoutes();while(e--)this._routes[e]._destroy();this._routes.length=0},parse:function(e,t){e=e||"";t=t||[];if(!this.ignoreState&&(e===this._prevMatchedRequest||e===this._prevBypassedRequest))return;var n=this._getMatchedRoutes(e),i=0,r=n.length,o;if(r){this._prevMatchedRequest=e;this._notifyPrevRoutes(n,e);this._prevRoutes=n;while(i<r){o=n[i];o.route.matched.dispatch.apply(o.route.matched,t.concat(o.params));o.isFirst=!i;this.routed.dispatch.apply(this.routed,t.concat([e,o]));i+=1}}else{this._prevBypassedRequest=e;this.bypassed.dispatch.apply(this.bypassed,t.concat([e]))}this._pipeParse(e,t)},_notifyPrevRoutes:function(e,t){var n=0,i;while(i=this._prevRoutes[n++])i.route.switched&&this._didSwitch(i.route,e)&&i.route.switched.dispatch(t)},_didSwitch:function(e,t){var n,i=0;while(n=t[i++])if(n.route===e)return false;return true},_pipeParse:function(e,t){var n=0,i;while(i=this._piped[n++])i.parse(e,t)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,n=t.length;do{--n}while(t[n]&&e._priority<=t[n]._priority);t.splice(n+1,0,e)},_getMatchedRoutes:function(e){var t=[],n=this._routes,i=n.length,r;while(r=n[--i]){(!t.length||this.greedy||r.greedy)&&r.match(e)&&t.push({route:r,params:r._getParamsArray(e)});if(!this.greedyEnabled&&t.length)break}return t},pipe:function(e){this._piped.push(e)},unpipe:function(e){o(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}};t=new p;t.VERSION="0.12.2";t.NORM_AS_ARRAY=function(e,t){return[t.vals_]};t.NORM_AS_OBJECT=function(e,t){return[t]};function h(t,n,i,r){var o=s(t),a=r.patternLexer;this._router=r;this._pattern=t;this._paramsIds=o?null:a.getParamIds(t);this._optionalParamsIds=o?null:a.getOptionalParamsIds(t);this._matchRegexp=o?t:a.compilePattern(t,r.ignoreCase);this.matched=new e.Signal;this.switched=new e.Signal;n&&this.matched.add(n);this._priority=i||0}h.prototype={greedy:false,rules:void 0,match:function(e){e=e||"";return this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t=this.rules,n=this._getParamsObject(e),i;for(i in t)if("normalize_"!==i&&t.hasOwnProperty(i)&&!this._isValidParam(e,i,n))return false;return true},_isValidParam:function(e,t,n){var i=this.rules[t],o=n[t],a=false,c=0===t.indexOf("?");if(null==o&&this._optionalParamsIds&&-1!==r(this._optionalParamsIds,t))a=true;else if(s(i)){c&&(o=n[t+"_"]);a=i.test(o)}else if(l(i)){c&&(o=n[t+"_"]);a=this._isValidArrayRule(i,o)}else u(i)&&(a=i(o,e,n));return a},_isValidArrayRule:function(e,t){if(!this._router.ignoreCase)return-1!==r(e,t);"string"===typeof t&&(t=t.toLowerCase());var n=e.length,i,o;while(n--){i=e[n];o="string"===typeof i?i.toLowerCase():i;if(o===t)return true}return false},_getParamsObject:function(e){var t=this._router.shouldTypecast,i=this._router.patternLexer.getParamValues(e,this._matchRegexp,t),o={},a=i.length,s,l;while(a--){l=i[a];if(this._paramsIds){s=this._paramsIds[a];if(0===s.indexOf("?")&&l){o[s+"_"]=l;l=f(l,t);i[a]=l}if(n&&""===l&&-1!==r(this._optionalParamsIds,s)){l=void 0;i[a]=l}o[s]=l}o[a]=l}o.request_=t?c(e):e;o.vals_=i;return o},_getParamsArray:function(e){var t=this.rules?this.rules.normalize_:null,n;t=t||this._router.normalizeFn;n=t&&u(t)?t(e,this._getParamsObject(e)):this._getParamsObject(e).vals_;return n},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t))throw new Error("Generated string doesn't validate against `Route.rules`.");return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose();this.switched.dispose();this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}};p.prototype.patternLexer=function(){var e=/[\\.+*?\^$\[\](){}\/'#]/g,t=/^\/|\/$/g,n=/\/$/g,i=/(?:\{|:)([^}:]+)(?:\}|:)/g,r={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},o=1,a=2,s=3,u=o;function c(){var e,t;for(e in r)if(r.hasOwnProperty(e)){t=r[e];t.id="__CR_"+e+"__";t.save="save"in t?t.save.replace("{{id}}",t.id):t.id;t.rRestore=new RegExp(t.id,"g")}}c();function f(e,t){var n=[],i;e.lastIndex=0;while(i=e.exec(t))n.push(i[1]);return n}function p(e){return f(i,e)}function h(e){return f(r.OP.rgx,e)}function v(i,r){i=i||"";if(i){u===o?i=i.replace(t,""):u===s&&(i=i.replace(n,""));i=m(i,"rgx","save");i=i.replace(e,"\\$&");i=m(i,"rRestore","res");u===o&&(i="\\/?"+i)}u!==a&&(i+="\\/?");return new RegExp("^"+i+"$",r?"i":"")}function m(e,t,n){var i,o;for(o in r)if(r.hasOwnProperty(o)){i=r[o];e=e.replace(i[t],i[n])}return e}function g(e,t,n){var i=t.exec(e);if(i){i.shift();n&&(i=d(i))}return i}function b(e,t){t=t||{};if("string"!==typeof e)throw new Error("Route pattern should be a string.");var n=function(e,n){var i;n="?"===n.substr(0,1)?n.substr(1):n;if(null!=t[n]){if("object"===typeof t[n]){var r=[],o;for(var a in t[n]){o=t[n][a];if(l(o))for(var s in o)"[]"==a.slice(-2)?r.push(encodeURI(a.slice(0,-2))+"[]="+encodeURI(o[s])):r.push(encodeURI(a+"="+o[s]));else r.push(encodeURI(a+"="+o))}i="?"+r.join("&")}else i=String(t[n]);if(-1===e.indexOf("*")&&-1!==i.indexOf("/"))throw new Error('Invalid value "'+i+'" for segment "'+e+'".')}else{if(-1!==e.indexOf("{"))throw new Error("The segment "+e+" is required.");i=""}return i};r.OS.trail||(r.OS.trail=new RegExp("(?:"+r.OS.id+")+$"));return e.replace(r.OS.rgx,r.OS.save).replace(i,n).replace(r.OS.trail,"").replace(r.OS.rRestore,"/")}return{strict:function(){u=a},loose:function(){u=o},legacy:function(){u=s},getParamIds:p,getOptionalParamsIds:h,getParamValues:g,compilePattern:v,interpolate:b}}();return t};true;!(r=[n(1004)],i=a,o="function"===typeof i?i.apply(t,r):i,void 0!==o&&(e.exports=o))})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.AppProvider=void 0;var i=s(n(98));var r=a(n(116));var o=s(n(1689));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function l(e){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return l(e)}function u(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){u(o,i,r,a,s,"next",e)}function s(e){u(o,i,r,a,s,"throw",e)}a(void 0)})}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function p(e,t,n){t&&f(e.prototype,t);n&&f(e,n);return e}function h(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&b(e,t)}function b(e,t){b=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return b(e,t)}var y=i.default.createContext(null);var x=y.Consumer;var w=function(e){g(t,e);function t(e){var n;d(this,t);n=h(this,m(t).call(this,e));n.state={appModel:(0,o.getModel)()};return n}p(t,[{key:"componentDidMount",value:function e(){var t=this;c(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return(0,o.default)();case 2:n=i.sent;t.setState({appModel:n});case 4:case"end":return i.stop()}},e)}))()}},{key:"render",value:function e(){var t=this.props.children;var n=this.state.appModel;return n&&i.default.createElement(y.Provider,{value:n},t)}}]);return t}(i.PureComponent);t.AppProvider=w;w.propTypes={children:r.default.oneOfType([r.default.array.isRequired,r.default.element.isRequired]).isRequired};var S=x;t.default=S},function(e){e.exports={structs:{Field:{GetCardinal:{In:[],Out:[]},GetAndMode:{In:[],Out:[]},SelectValues:{In:[{Name:"qFieldValues",DefaultValue:[{qText:"",qIsNumeric:false,qNumber:0}]},{Name:"qToggleMode",DefaultValue:false,Optional:true},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},Select:{In:[{Name:"qMatch",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true},{Name:"qExcludedValuesMode",DefaultValue:0,Optional:true}],Out:[]},ToggleSelect:{In:[{Name:"qMatch",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true},{Name:"qExcludedValuesMode",DefaultValue:0,Optional:true}],Out:[]},ClearAllButThis:{In:[{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},SelectPossible:{In:[{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},SelectExcluded:{In:[{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},SelectAll:{In:[{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},Lock:{In:[],Out:[]},Unlock:{In:[],Out:[]},GetNxProperties:{In:[],Out:[{Name:"qProperties"}]},SetNxProperties:{In:[{Name:"qProperties",DefaultValue:{qOneAndOnlyOne:false}}],Out:[]},SetAndMode:{In:[{Name:"qAndMode",DefaultValue:false}],Out:[]},SelectAlternative:{In:[{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},LowLevelSelect:{In:[{Name:"qValues",DefaultValue:[0]},{Name:"qToggleMode",DefaultValue:false},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},Clear:{In:[],Out:[]}},Variable:{GetContent:{In:[],Out:[{Name:"qContent"}]},GetRawContent:{In:[],Out:[]},SetContent:{In:[{Name:"qContent",DefaultValue:""},{Name:"qUpdateMRU",DefaultValue:false}],Out:[]},ForceContent:{In:[{Name:"qs",DefaultValue:""},{Name:"qd",DefaultValue:0}],Out:[]},GetNxProperties:{In:[],Out:[{Name:"qProperties"}]},SetNxProperties:{In:[{Name:"qProperties",DefaultValue:{qName:"",qNumberPresentation:{qType:0,qnDec:0,qUseThou:0,qFmt:"",qDec:"",qThou:""},qIncludeInBookmark:false,qUsePredefListedValues:false,qPreDefinedList:[""]}}],Out:[]}},GenericObject:{GetLayout:{In:[],Out:[{Name:"qLayout"}]},GetListObjectData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]}],Out:[{Name:"qDataPages"}]},GetHyperCubeData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]}],Out:[{Name:"qDataPages"}]},GetHyperCubeReducedData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]},{Name:"qZoomFactor",DefaultValue:0},{Name:"qReductionMode",DefaultValue:0}],Out:[{Name:"qDataPages"}]},GetHyperCubePivotData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]}],Out:[{Name:"qDataPages"}]},GetHyperCubeStackData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]},{Name:"qMaxNbrCells",DefaultValue:0,Optional:true}],Out:[{Name:"qDataPages"}]},GetHyperCubeContinuousData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qOptions",DefaultValue:{qStart:0,qEnd:0,qNbrPoints:0,qMaxNbrTicks:0,qMaxNumberLines:0}},{Name:"qReverseSort",DefaultValue:false,Optional:true}],Out:[{Name:"qDataPages"},{Name:"qAxisData"}]},GetHyperCubeTreeData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qNodeOptions",DefaultValue:{qMaxNbrOfNodes:0,qTreeNodes:[{qArea:{qLeft:0,qTop:0,qWidth:0,qHeight:0},qAllValues:false}],qTreeLevels:{qLeft:0,qDepth:0}},Optional:true}],Out:[{Name:"qNodes"}]},GetHyperCubeBinnedData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]},{Name:"qViewport",DefaultValue:{qWidth:0,qHeight:0,qZoomLevel:0}},{Name:"qDataRanges",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]},{Name:"qMaxNbrCells",DefaultValue:0},{Name:"qQueryLevel",DefaultValue:0},{Name:"qBinningMethod",DefaultValue:0}],Out:[{Name:"qDataPages"}]},ApplyPatches:{In:[{Name:"qPatches",DefaultValue:[{qOp:0,qPath:"",qValue:""}]},{Name:"qSoftPatch",DefaultValue:false,Optional:true}],Out:[]},ClearSoftPatches:{In:[],Out:[]},SetProperties:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qExtendsId:"",qMetaDef:{},qStateName:""}}],Out:[]},GetProperties:{In:[],Out:[{Name:"qProp"}]},GetEffectiveProperties:{In:[],Out:[{Name:"qProp"}]},SetFullPropertyTree:{In:[{Name:"qPropEntry",DefaultValue:{qProperty:{qInfo:{qId:"",qType:""},qExtendsId:"",qMetaDef:{},qStateName:""},qChildren:[],qEmbeddedSnapshotRef:null}}],Out:[]},GetFullPropertyTree:{In:[],Out:[{Name:"qPropEntry"}]},GetInfo:{In:[],Out:[{Name:"qInfo"}]},ClearSelections:{In:[{Name:"qPath",DefaultValue:""},{Name:"qColIndices",DefaultValue:[0],Optional:true}],Out:[]},ExportData:{In:[{Name:"qFileType",DefaultValue:0},{Name:"qPath",DefaultValue:"",Optional:true},{Name:"qFileName",DefaultValue:"",Optional:true},{Name:"qExportState",DefaultValue:0,Optional:true}],Out:[{Name:"qUrl"},{Name:"qWarnings"}]},SelectListObjectValues:{In:[{Name:"qPath",DefaultValue:""},{Name:"qValues",DefaultValue:[0]},{Name:"qToggleMode",DefaultValue:false},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectListObjectPossible:{In:[{Name:"qPath",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectListObjectExcluded:{In:[{Name:"qPath",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectListObjectAlternative:{In:[{Name:"qPath",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectListObjectAll:{In:[{Name:"qPath",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectListObjectContinuousRange:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRanges",DefaultValue:[{qMin:0,qMax:0,qMinInclEq:false,qMaxInclEq:false}]},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SearchListObjectFor:{In:[{Name:"qPath",DefaultValue:""},{Name:"qMatch",DefaultValue:""}],Out:[{Name:"qSuccess"}]},AbortListObjectSearch:{In:[{Name:"qPath",DefaultValue:""}],Out:[]},AcceptListObjectSearch:{In:[{Name:"qPath",DefaultValue:""},{Name:"qToggleMode",DefaultValue:false},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},ExpandLeft:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRow",DefaultValue:0},{Name:"qCol",DefaultValue:0},{Name:"qAll",DefaultValue:false}],Out:[]},ExpandTop:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRow",DefaultValue:0},{Name:"qCol",DefaultValue:0},{Name:"qAll",DefaultValue:false}],Out:[]},CollapseLeft:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRow",DefaultValue:0},{Name:"qCol",DefaultValue:0},{Name:"qAll",DefaultValue:false}],Out:[]},CollapseTop:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRow",DefaultValue:0},{Name:"qCol",DefaultValue:0},{Name:"qAll",DefaultValue:false}],Out:[]},DrillUp:{In:[{Name:"qPath",DefaultValue:""},{Name:"qDimNo",DefaultValue:0},{Name:"qNbrSteps",DefaultValue:0}],Out:[]},Lock:{In:[{Name:"qPath",DefaultValue:""},{Name:"qColIndices",DefaultValue:[0],Optional:true}],Out:[]},Unlock:{In:[{Name:"qPath",DefaultValue:""},{Name:"qColIndices",DefaultValue:[0],Optional:true}],Out:[]},SelectHyperCubeValues:{In:[{Name:"qPath",DefaultValue:""},{Name:"qDimNo",DefaultValue:0},{Name:"qValues",DefaultValue:[0]},{Name:"qToggleMode",DefaultValue:false}],Out:[{Name:"qSuccess"}]},SelectHyperCubeCells:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRowIndices",DefaultValue:[0]},{Name:"qColIndices",DefaultValue:[0]},{Name:"qSoftLock",DefaultValue:false,Optional:true},{Name:"qDeselectOnlyOneSelected",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectPivotCells:{In:[{Name:"qPath",DefaultValue:""},{Name:"qSelections",DefaultValue:[{qType:0,qCol:0,qRow:0}]},{Name:"qSoftLock",DefaultValue:false,Optional:true},{Name:"qDeselectOnlyOneSelected",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},RangeSelectHyperCubeValues:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRanges",DefaultValue:[{qRange:{qMin:0,qMax:0,qMinInclEq:false,qMaxInclEq:false},qMeasureIx:0}]},{Name:"qColumnsToSelect",DefaultValue:[0],Optional:true},{Name:"qOrMode",DefaultValue:false,Optional:true},{Name:"qDeselectOnlyOneSelected",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},MultiRangeSelectHyperCubeValues:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRanges",DefaultValue:[{qRanges:[{qRange:{qMin:0,qMax:0,qMinInclEq:false,qMaxInclEq:false},qMeasureIx:0}],qColumnsToSelect:[0]}]},{Name:"qOrMode",DefaultValue:false,Optional:true},{Name:"qDeselectOnlyOneSelected",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},MultiRangeSelectTreeDataValues:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRanges",DefaultValue:[{qRanges:[{qRange:{qMin:0,qMax:0,qMinInclEq:false,qMaxInclEq:false},qMeasureIx:0,qDimensionIx:0}]}]},{Name:"qOrMode",DefaultValue:false,Optional:true},{Name:"qDeselectOnlyOneSelected",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectHyperCubeContinuousRange:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRanges",DefaultValue:[{qRange:{qMin:0,qMax:0,qMinInclEq:false,qMaxInclEq:false},qDimIx:0}]},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},GetChild:{In:[{Name:"qId",DefaultValue:""}],Out:[]},GetParent:{In:[],Out:[]},GetChildInfos:{In:[],Out:[{Name:"qInfos"}]},CreateChild:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qExtendsId:"",qMetaDef:{},qStateName:""}},{Name:"qPropForThis",DefaultValue:null,Optional:true}],Out:[{Name:"qInfo"}]},DestroyChild:{In:[{Name:"qId",DefaultValue:""},{Name:"qPropForThis",DefaultValue:null,Optional:true}],Out:[{Name:"qSuccess"}]},DestroyAllChildren:{In:[{Name:"qPropForThis",DefaultValue:null,Optional:true}],Out:[]},SetChildArrayOrder:{In:[{Name:"qIds",DefaultValue:[""]}],Out:[]},GetLinkedObjects:{In:[],Out:[{Name:"qItems"}]},CopyFrom:{In:[{Name:"qFromId",DefaultValue:""}],Out:[]},BeginSelections:{In:[{Name:"qPaths",DefaultValue:[""]}],Out:[]},EndSelections:{In:[{Name:"qAccept",DefaultValue:false}],Out:[]},ResetMadeSelections:{In:[],Out:[]},EmbedSnapshotObject:{In:[{Name:"qId",DefaultValue:""}],Out:[]},GetSnapshotObject:{In:[],Out:[]},Publish:{In:[],Out:[]},UnPublish:{In:[],Out:[]},Approve:{In:[],Out:[]},UnApprove:{In:[],Out:[]}},GenericDimension:{GetLayout:{In:[],Out:[{Name:"qLayout"}]},ApplyPatches:{In:[{Name:"qPatches",DefaultValue:[{qOp:0,qPath:"",qValue:""}]}],Out:[]},SetProperties:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qDim:{qGrouping:0,qFieldDefs:[""],qFieldLabels:[""],qLabelExpression:""},qMetaDef:{}}}],Out:[]},GetProperties:{In:[],Out:[{Name:"qProp"}]},GetInfo:{In:[],Out:[{Name:"qInfo"}]},GetDimension:{In:[],Out:[{Name:"qDim"}]},GetLinkedObjects:{In:[],Out:[{Name:"qItems"}]},Publish:{In:[],Out:[]},UnPublish:{In:[],Out:[]},Approve:{In:[],Out:[]},UnApprove:{In:[],Out:[]}},GenericBookmark:{GetFieldValues:{In:[{Name:"qField",DefaultValue:""},{Name:"qGetExcludedValues",DefaultValue:false},{Name:"qDataPage",DefaultValue:{qStartIndex:0,qEndIndex:0}}],Out:[{Name:"qFieldValues"}]},GetLayout:{In:[],Out:[{Name:"qLayout"}]},ApplyPatches:{In:[{Name:"qPatches",DefaultValue:[{qOp:0,qPath:"",qValue:""}]}],Out:[]},SetProperties:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMetaDef:{}}}],Out:[]},GetProperties:{In:[],Out:[{Name:"qProp"}]},GetInfo:{In:[],Out:[{Name:"qInfo"}]},Apply:{In:[],Out:[{Name:"qSuccess"}]},Publish:{In:[],Out:[]},UnPublish:{In:[],Out:[]},Approve:{In:[],Out:[]},UnApprove:{In:[],Out:[]}},GenericVariable:{GetLayout:{In:[],Out:[{Name:"qLayout"}]},ApplyPatches:{In:[{Name:"qPatches",DefaultValue:[{qOp:0,qPath:"",qValue:""}]}],Out:[]},SetProperties:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMetaDef:{},qName:"",qComment:"",qNumberPresentation:{qType:0,qnDec:0,qUseThou:0,qFmt:"",qDec:"",qThou:""},qIncludeInBookmark:false,qDefinition:""}}],Out:[]},GetProperties:{In:[],Out:[{Name:"qProp"}]},GetInfo:{In:[],Out:[{Name:"qInfo"}]},SetStringValue:{In:[{Name:"qVal",DefaultValue:""}],Out:[]},SetNumValue:{In:[{Name:"qVal",DefaultValue:0}],Out:[]},SetDualValue:{In:[{Name:"qText",DefaultValue:""},{Name:"qNum",DefaultValue:0}],Out:[]}},GenericMeasure:{GetLayout:{In:[],Out:[{Name:"qLayout"}]},ApplyPatches:{In:[{Name:"qPatches",DefaultValue:[{qOp:0,qPath:"",qValue:""}]}],Out:[]},SetProperties:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMeasure:{qLabel:"",qDef:"",qGrouping:0,qExpressions:[""],qActiveExpression:0,qLabelExpression:""},qMetaDef:{}}}],Out:[]},GetProperties:{In:[],Out:[{Name:"qProp"}]},GetInfo:{In:[],Out:[{Name:"qInfo"}]},GetMeasure:{In:[],Out:[{Name:"qMeasure"}]},GetLinkedObjects:{In:[],Out:[{Name:"qItems"}]},Publish:{In:[],Out:[]},UnPublish:{In:[],Out:[]},Approve:{In:[],Out:[]},UnApprove:{In:[],Out:[]}},Doc:{GetField:{In:[{Name:"qFieldName",DefaultValue:""},{Name:"qStateName",DefaultValue:"",Optional:true}],Out:[]},GetFieldDescription:{In:[{Name:"qFieldName",DefaultValue:""}],Out:[]},GetVariable:{In:[{Name:"qName",DefaultValue:""}],Out:[]},GetLooselyCoupledVector:{In:[],Out:[{Name:"qv"}]},SetLooselyCoupledVector:{In:[{Name:"qv",DefaultValue:[0]}],Out:[]},Evaluate:{In:[{Name:"qExpression",DefaultValue:""}],Out:[]},EvaluateEx:{In:[{Name:"qExpression",DefaultValue:""}],Out:[{Name:"qValue"}]},ClearAll:{In:[{Name:"qLockedAlso",DefaultValue:false,Optional:true},{Name:"qStateName",DefaultValue:"",Optional:true}],Out:[]},LockAll:{In:[{Name:"qStateName",DefaultValue:"",Optional:true}],Out:[]},UnlockAll:{In:[{Name:"qStateName",DefaultValue:"",Optional:true}],Out:[]},Back:{In:[],Out:[]},Forward:{In:[],Out:[]},CreateVariable:{In:[{Name:"qName",DefaultValue:""}],Out:[]},RemoveVariable:{In:[{Name:"qName",DefaultValue:""}],Out:[]},GetLocaleInfo:{In:[],Out:[]},GetTablesAndKeys:{In:[{Name:"qWindowSize",DefaultValue:{qcx:0,qcy:0}},{Name:"qNullSize",DefaultValue:{qcx:0,qcy:0}},{Name:"qCellHeight",DefaultValue:0},{Name:"qSyntheticMode",DefaultValue:false},{Name:"qIncludeSysVars",DefaultValue:false}],Out:[{Name:"qtr"},{Name:"qk"}]},GetViewDlgSaveInfo:{In:[],Out:[]},SetViewDlgSaveInfo:{In:[{Name:"qInfo",DefaultValue:{qPos:{qLeft:0,qTop:0,qWidth:0,qHeight:0},qCtlInfo:{qInternalView:{qTables:[{qPos:{qLeft:0,qTop:0,qWidth:0,qHeight:0},qCaption:""}],qBroomPoints:[{qPos:{qx:0,qy:0},qTable:"",qFields:[""]}],qConnectionPoints:[{qPos:{qx:0,qy:0},qFields:[""]}],qZoomFactor:0},qSourceView:{qTables:[{qPos:{qLeft:0,qTop:0,qWidth:0,qHeight:0},qCaption:""}],qBroomPoints:[{qPos:{qx:0,qy:0},qTable:"",qFields:[""]}],qConnectionPoints:[{qPos:{qx:0,qy:0},qFields:[""]}],qZoomFactor:0}},qMode:0}}],Out:[]},GetEmptyScript:{In:[{Name:"qLocalizedMainSection",DefaultValue:"",Optional:true}],Out:[]},DoReload:{In:[{Name:"qMode",DefaultValue:0,Optional:true},{Name:"qPartial",DefaultValue:false,Optional:true},{Name:"qDebug",DefaultValue:false,Optional:true}],Out:[]},GetScriptBreakpoints:{In:[],Out:[{Name:"qBreakpoints"}]},SetScriptBreakpoints:{In:[{Name:"qBreakpoints",DefaultValue:[{qbufferName:"",qlineIx:0,qEnabled:false}]}],Out:[]},GetScript:{In:[],Out:[{Name:"qScript"}]},GetTextMacros:{In:[],Out:[{Name:"qMacros"}]},SetFetchLimit:{In:[{Name:"qLimit",DefaultValue:0}],Out:[]},DoSave:{In:[{Name:"qFileName",DefaultValue:"",Optional:true}],Out:[]},GetTableData:{In:[{Name:"qOffset",DefaultValue:0},{Name:"qRows",DefaultValue:0},{Name:"qSyntheticMode",DefaultValue:false},{Name:"qTableName",DefaultValue:""}],Out:[{Name:"qData"}]},GetAppLayout:{In:[],Out:[{Name:"qLayout"}]},SetAppProperties:{In:[{Name:"qProp",DefaultValue:{qTitle:"",qLastReloadTime:"",qMigrationHash:"",qSavedInProductVersion:"",qThumbnail:{qUrl:""},qHasSectionAccess:false}}],Out:[]},GetAppProperties:{In:[],Out:[{Name:"qProp"}]},GetLineage:{In:[],Out:[{Name:"qLineage"}]},CreateSessionObject:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qExtendsId:"",qMetaDef:{},qStateName:""}}],Out:[]},DestroySessionObject:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},CreateObject:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qExtendsId:"",qMetaDef:{},qStateName:""}}],Out:[{Name:"qInfo"}]},DestroyObject:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetObject:{In:[{Name:"qId",DefaultValue:""}],Out:[]},GetObjects:{In:[{Name:"qOptions",DefaultValue:{qTypes:[""],qIncludeSessionObjects:false,qData:{}}}],Out:[{Name:"qList"}]},GetBookmarks:{In:[{Name:"qOptions",DefaultValue:{qTypes:[""],qData:{}}}],Out:[{Name:"qList"}]},CloneObject:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qCloneId"}]},CreateDraft:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qDraftId"}]},CommitDraft:{In:[{Name:"qId",DefaultValue:""}],Out:[]},DestroyDraft:{In:[{Name:"qId",DefaultValue:""},{Name:"qSourceId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},Undo:{In:[],Out:[{Name:"qSuccess"}]},Redo:{In:[],Out:[{Name:"qSuccess"}]},ClearUndoBuffer:{In:[],Out:[]},CreateDimension:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qDim:{qGrouping:0,qFieldDefs:[""],qFieldLabels:[""],qLabelExpression:""},qMetaDef:{}}}],Out:[{Name:"qInfo"}]},DestroyDimension:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetDimension:{In:[{Name:"qId",DefaultValue:""}],Out:[]},CloneDimension:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qCloneId"}]},CreateMeasure:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMeasure:{qLabel:"",qDef:"",qGrouping:0,qExpressions:[""],qActiveExpression:0,qLabelExpression:""},qMetaDef:{}}}],Out:[{Name:"qInfo"}]},DestroyMeasure:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetMeasure:{In:[{Name:"qId",DefaultValue:""}],Out:[]},CloneMeasure:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qCloneId"}]},CreateSessionVariable:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMetaDef:{},qName:"",qComment:"",qNumberPresentation:{qType:0,qnDec:0,qUseThou:0,qFmt:"",qDec:"",qThou:""},qIncludeInBookmark:false,qDefinition:""}}],Out:[]},DestroySessionVariable:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},CreateVariableEx:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMetaDef:{},qName:"",qComment:"",qNumberPresentation:{qType:0,qnDec:0,qUseThou:0,qFmt:"",qDec:"",qThou:""},qIncludeInBookmark:false,qDefinition:""}}],Out:[{Name:"qInfo"}]},DestroyVariableById:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},DestroyVariableByName:{In:[{Name:"qName",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetVariableById:{In:[{Name:"qId",DefaultValue:""}],Out:[]},GetVariableByName:{In:[{Name:"qName",DefaultValue:""}],Out:[]},MigrateVariables:{In:[],Out:[]},MigrateDerivedFields:{In:[],Out:[]},CheckExpression:{In:[{Name:"qExpr",DefaultValue:""},{Name:"qLabels",DefaultValue:[""],Optional:true}],Out:[{Name:"qErrorMsg"},{Name:"qBadFieldNames"},{Name:"qDangerousFieldNames"}]},CheckNumberOrExpression:{In:[{Name:"qExpr",DefaultValue:""}],Out:[{Name:"qErrorMsg"},{Name:"qBadFieldNames"}]},AddAlternateState:{In:[{Name:"qStateName",DefaultValue:""}],Out:[]},RemoveAlternateState:{In:[{Name:"qStateName",DefaultValue:""}],Out:[]},CreateBookmark:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMetaDef:{}}}],Out:[{Name:"qInfo"}]},DestroyBookmark:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetBookmark:{In:[{Name:"qId",DefaultValue:""}],Out:[]},ApplyBookmark:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},CloneBookmark:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qCloneId"}]},AddFieldFromExpression:{In:[{Name:"qName",DefaultValue:""},{Name:"qExpr",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetFieldOnTheFlyByName:{In:[{Name:"qReadableName",DefaultValue:""}],Out:[{Name:"qName"}]},GetAllInfos:{In:[],Out:[{Name:"qInfos"}]},Resume:{In:[],Out:[]},AbortModal:{In:[{Name:"qAccept",DefaultValue:false}],Out:[]},Publish:{In:[{Name:"qStreamId",DefaultValue:""},{Name:"qName",DefaultValue:"",Optional:true}],Out:[]},UnPublish:{In:[],Out:[]},GetMatchingFields:{In:[{Name:"qTags",DefaultValue:[""]},{Name:"qMatchingFieldMode",DefaultValue:0,Optional:true}],Out:[{Name:"qFieldNames"}]},FindMatchingFields:{In:[{Name:"qFieldName",DefaultValue:""},{Name:"qTags",DefaultValue:[""]}],Out:[{Name:"qFieldNames"}]},Scramble:{In:[{Name:"qFieldName",DefaultValue:""}],Out:[]},SaveObjects:{In:[],Out:[]},GetAssociationScores:{In:[{Name:"qTable1",DefaultValue:""},{Name:"qTable2",DefaultValue:""}],Out:[{Name:"qScore"}]},GetMediaList:{In:[],Out:[{Name:"qList"}]},GetContentLibraries:{In:[],Out:[{Name:"qList"}]},GetLibraryContent:{In:[{Name:"qName",DefaultValue:""}],Out:[{Name:"qList"}]},DoReloadEx:{In:[{Name:"qParams",DefaultValue:{qMode:0,qPartial:false,qDebug:false,qReloadId:""},Optional:true}],Out:[{Name:"qResult"}]},BackCount:{In:[],Out:[]},ForwardCount:{In:[],Out:[]},ExportReducedData:{In:[{Name:"qOptions",DefaultValue:{qBookmarkId:"",qExpires:0},Optional:true}],Out:[{Name:"qDownloadInfo"}]},GetSetAnalysis:{In:[{Name:"qStateName",DefaultValue:"",Optional:true},{Name:"qBookmarkId",DefaultValue:"",Optional:true}],Out:[{Name:"qSetExpression"}]},SetScript:{In:[{Name:"qScript",DefaultValue:""}],Out:[]},CheckScriptSyntax:{In:[],Out:[{Name:"qErrors"}]},GetFavoriteVariables:{In:[],Out:[{Name:"qNames"}]},SetFavoriteVariables:{In:[{Name:"qNames",DefaultValue:[""]}],Out:[]},GetIncludeFileContent:{In:[{Name:"qPath",DefaultValue:""}],Out:[{Name:"qContent"}]},CreateConnection:{In:[{Name:"qConnection",DefaultValue:{qId:"",qName:"",qConnectionString:"",qType:"",qUserName:"",qPassword:"",qModifiedDate:"",qMeta:{qName:""},qLogOn:0}}],Out:[{Name:"qConnectionId"}]},ModifyConnection:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qConnection",DefaultValue:{qId:"",qName:"",qConnectionString:"",qType:"",qUserName:"",qPassword:"",qModifiedDate:"",qMeta:{qName:""},qLogOn:0}},{Name:"qOverrideCredentials",DefaultValue:false,Optional:true}],Out:[]},DeleteConnection:{In:[{Name:"qConnectionId",DefaultValue:""}],Out:[]},GetConnection:{In:[{Name:"qConnectionId",DefaultValue:""}],Out:[{Name:"qConnection"}]},GetConnections:{In:[],Out:[{Name:"qConnections"}]},GetDatabaseInfo:{In:[{Name:"qConnectionId",DefaultValue:""}],Out:[{Name:"qInfo"}]},GetDatabases:{In:[{Name:"qConnectionId",DefaultValue:""}],Out:[{Name:"qDatabases"}]},GetDatabaseOwners:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qDatabase",DefaultValue:"",Optional:true}],Out:[{Name:"qOwners"}]},GetDatabaseTables:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qDatabase",DefaultValue:"",Optional:true},{Name:"qOwner",DefaultValue:"",Optional:true}],Out:[{Name:"qTables"}]},GetDatabaseTableFields:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qDatabase",DefaultValue:"",Optional:true},{Name:"qOwner",DefaultValue:"",Optional:true},{Name:"qTable",DefaultValue:""}],Out:[{Name:"qFields"}]},GetDatabaseTablePreview:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qDatabase",DefaultValue:"",Optional:true},{Name:"qOwner",DefaultValue:"",Optional:true},{Name:"qTable",DefaultValue:""},{Name:"qConditions",DefaultValue:{qType:0,qWherePredicate:""},Optional:true}],Out:[{Name:"qPreview"},{Name:"qRowCount"}]},GetFolderItemsForConnection:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true}],Out:[{Name:"qFolderItems"}]},GuessFileType:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true}],Out:[{Name:"qDataFormat"}]},GetFileTables:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true},{Name:"qDataFormat",DefaultValue:{qType:0,qLabel:"",qQuote:"",qComment:"",qDelimiter:{qName:"",qScriptCode:"",qNumber:0,qIsMultiple:false},qCodePage:0,qHeaderSize:0,qRecordSize:0,qTabSize:0,qIgnoreEOF:false,qFixedWidthDelimiters:""}}],Out:[{Name:"qTables"}]},GetFileTableFields:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true},{Name:"qDataFormat",DefaultValue:{qType:0,qLabel:"",qQuote:"",qComment:"",qDelimiter:{qName:"",qScriptCode:"",qNumber:0,qIsMultiple:false},qCodePage:0,qHeaderSize:0,qRecordSize:0,qTabSize:0,qIgnoreEOF:false,qFixedWidthDelimiters:""}},{Name:"qTable",DefaultValue:""}],Out:[{Name:"qFields"},{Name:"qFormatSpec"}]},GetFileTablePreview:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true},{Name:"qDataFormat",DefaultValue:{qType:0,qLabel:"",qQuote:"",qComment:"",qDelimiter:{qName:"",qScriptCode:"",qNumber:0,qIsMultiple:false},qCodePage:0,qHeaderSize:0,qRecordSize:0,qTabSize:0,qIgnoreEOF:false,qFixedWidthDelimiters:""}},{Name:"qTable",DefaultValue:""}],Out:[{Name:"qPreview"},{Name:"qFormatSpec"}]},GetFileTablesEx:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true},{Name:"qDataFormat",DefaultValue:{qType:0,qLabel:"",qQuote:"",qComment:"",qDelimiter:{qName:"",qScriptCode:"",qNumber:0,qIsMultiple:false},qCodePage:0,qHeaderSize:0,qRecordSize:0,qTabSize:0,qIgnoreEOF:false,qFixedWidthDelimiters:""}}],Out:[{Name:"qTables"}]},SendGenericCommandToCustomConnector:{In:[{Name:"qProvider",DefaultValue:""},{Name:"qCommand",DefaultValue:""},{Name:"qMethod",DefaultValue:""},{Name:"qParameters",DefaultValue:[""]},{Name:"qAppendConnection",DefaultValue:""}],Out:[{Name:"qResult"}]},SearchSuggest:{In:[{Name:"qOptions",DefaultValue:{qSearchFields:[""],qContext:0,qCharEncoding:0,qAttributes:[""]}},{Name:"qTerms",DefaultValue:[""]}],Out:[{Name:"qResult"}]},SearchAssociations:{In:[{Name:"qOptions",DefaultValue:{qSearchFields:[""],qContext:0,qCharEncoding:0,qAttributes:[""]}},{Name:"qTerms",DefaultValue:[""]},{Name:"qPage",DefaultValue:{qOffset:0,qCount:0,qMaxNbrFieldMatches:0,qGroupOptions:[{qGroupType:0,qOffset:0,qCount:0}],qGroupItemOptions:[{qGroupItemType:0,qOffset:0,qCount:0}]}}],Out:[{Name:"qResults"}]},SelectAssociations:{In:[{Name:"qOptions",DefaultValue:{qSearchFields:[""],qContext:0,qCharEncoding:0,qAttributes:[""]}},{Name:"qTerms",DefaultValue:[""]},{Name:"qMatchIx",DefaultValue:0},{Name:"qSoftLock",DefaultValue:null,Optional:true}],Out:[]},SearchResults:{In:[{Name:"qOptions",DefaultValue:{qSearchFields:[""],qContext:0,qCharEncoding:0,qAttributes:[""]}},{Name:"qTerms",DefaultValue:[""]},{Name:"qPage",DefaultValue:{qOffset:0,qCount:0,qMaxNbrFieldMatches:0,qGroupOptions:[{qGroupType:0,qOffset:0,qCount:0}],qGroupItemOptions:[{qGroupItemType:0,qOffset:0,qCount:0}]}}],Out:[{Name:"qResult"}]},SearchObjects:{In:[{Name:"qOptions",DefaultValue:{qAttributes:[""],qCharEncoding:0}},{Name:"qTerms",DefaultValue:[""]},{Name:"qPage",DefaultValue:{qOffset:0,qCount:0,qMaxNbrFieldMatches:0,qGroupOptions:[{qGroupType:0,qOffset:0,qCount:0}],qGroupItemOptions:[{qGroupItemType:0,qOffset:0,qCount:0}]}}],Out:[{Name:"qResult"}]},GetFieldAndColumnSamples:{In:[{Name:"qFieldsOrColumnsWithWildcards",DefaultValue:[{qFieldName:"",qTableName:""}]},{Name:"qMaxNumberOfValues",DefaultValue:0},{Name:"qRandSeed",DefaultValue:0,Optional:true}],Out:[{Name:"qResult"}]},GetScriptEx:{In:[],Out:[{Name:"qScript"}]},GetVariables:{In:[{Name:"qListDef",DefaultValue:{qType:"",qShowReserved:false,qShowConfig:false,qData:{},qShowSession:false}}],Out:[{Name:"qList"}]},ExpandExpression:{In:[{Name:"qExpression",DefaultValue:""}],Out:[{Name:"qExpandedExpression"}]},DestroySessionVariableById:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},DestroySessionVariableByName:{In:[{Name:"qName",DefaultValue:""}],Out:[{Name:"qSuccess"}]},SetAppObjectSortingRank:{In:[{Name:"qId",DefaultValue:""},{Name:"qRank",DefaultValue:0}],Out:[]},GetActiveSheetId:{In:[],Out:[{Name:"qId"}]},GetLayoutProperties:{In:[],Out:[{Name:"qLayoutProp"}]}},Global:{AbortRequest:{In:[{Name:"qRequestId",DefaultValue:0}],Out:[]},AbortAll:{In:[],Out:[]},GetProgress:{In:[{Name:"qRequestId",DefaultValue:0}],Out:[{Name:"qProgressData"}]},QvVersion:{In:[],Out:[]},OSVersion:{In:[],Out:[]},OSName:{In:[],Out:[]},QTProduct:{In:[],Out:[]},GetDocList:{In:[],Out:[{Name:"qDocList"}]},GetInteract:{In:[{Name:"qRequestId",DefaultValue:0}],Out:[{Name:"qDef"}]},InteractDone:{In:[{Name:"qRequestId",DefaultValue:0},{Name:"qDef",DefaultValue:{qType:0,qTitle:"",qMsg:"",qButtons:0,qLine:"",qOldLineNr:0,qNewLineNr:0,qPath:"",qHidden:false,qResult:0,qInput:""}}],Out:[]},GetAuthenticatedUser:{In:[],Out:[]},CreateDocEx:{In:[{Name:"qDocName",DefaultValue:""},{Name:"qUserName",DefaultValue:"",Optional:true},{Name:"qPassword",DefaultValue:"",Optional:true},{Name:"qSerial",DefaultValue:"",Optional:true},{Name:"qLocalizedScriptMainSection",DefaultValue:"",Optional:true}],Out:[{Name:"qDocId"}]},GetActiveDoc:{In:[],Out:[]},AllowCreateApp:{In:[],Out:[]},CreateApp:{In:[{Name:"qAppName",DefaultValue:""},{Name:"qLocalizedScriptMainSection",DefaultValue:"",Optional:true}],Out:[{Name:"qSuccess"},{Name:"qAppId"}]},DeleteApp:{In:[{Name:"qAppId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},IsDesktopMode:{In:[],Out:[]},GetConfiguration:{In:[],Out:[{Name:"qConfig"}]},CancelRequest:{In:[{Name:"qRequestId",DefaultValue:0}],Out:[]},ShutdownProcess:{In:[],Out:[]},ReloadExtensionList:{In:[],Out:[]},ReplaceAppFromID:{In:[{Name:"qTargetAppId",DefaultValue:""},{Name:"qSrcAppID",DefaultValue:""},{Name:"qIds",DefaultValue:[""]}],Out:[{Name:"qSuccess"}]},ReplaceAppFromPath:{In:[{Name:"qTargetAppId",DefaultValue:""},{Name:"qSrcPath",DefaultValue:""},{Name:"qIds",DefaultValue:[""]},{Name:"qNoData",DefaultValue:false}],Out:[]},CopyApp:{In:[{Name:"qTargetAppId",DefaultValue:""},{Name:"qSrcAppId",DefaultValue:""},{Name:"qIds",DefaultValue:[""]}],Out:[{Name:"qSuccess"}]},ImportApp:{In:[{Name:"qAppId",DefaultValue:""},{Name:"qSrcPath",DefaultValue:""},{Name:"qIds",DefaultValue:[""]}],Out:[{Name:"qSuccess"}]},ImportAppEx:{In:[{Name:"qAppId",DefaultValue:""},{Name:"qSrcPath",DefaultValue:""},{Name:"qIds",DefaultValue:[""]},{Name:"qExcludeConnections",DefaultValue:false}],Out:[]},ExportApp:{In:[{Name:"qTargetPath",DefaultValue:""},{Name:"qSrcAppId",DefaultValue:""},{Name:"qIds",DefaultValue:[""]},{Name:"qNoData",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},PublishApp:{In:[{Name:"qAppId",DefaultValue:""},{Name:"qName",DefaultValue:""},{Name:"qStreamId",DefaultValue:""}],Out:[]},IsPersonalMode:{In:[],Out:[]},GetUniqueID:{In:[],Out:[{Name:"qUniqueID"}]},OpenDoc:{In:[{Name:"qDocName",DefaultValue:""},{Name:"qUserName",DefaultValue:"",Optional:true},{Name:"qPassword",DefaultValue:"",Optional:true},{Name:"qSerial",DefaultValue:"",Optional:true},{Name:"qNoData",DefaultValue:false,Optional:true}],Out:[]},CreateSessionApp:{In:[],Out:[{Name:"qSessionAppId"}]},CreateSessionAppFromApp:{In:[{Name:"qSrcAppId",DefaultValue:""}],Out:[{Name:"qSessionAppId"}]},ProductVersion:{In:[],Out:[]},GetAppEntry:{In:[{Name:"qAppID",DefaultValue:""}],Out:[{Name:"qEntry"}]},ConfigureReload:{In:[{Name:"qCancelOnScriptError",DefaultValue:false},{Name:"qUseErrorData",DefaultValue:false},{Name:"qInteractOnError",DefaultValue:false}],Out:[]},CancelReload:{In:[],Out:[]},GetBNF:{In:[{Name:"qBnfType",DefaultValue:0}],Out:[{Name:"qBnfDefs"}]},GetFunctions:{In:[{Name:"qGroup",DefaultValue:0,Optional:true}],Out:[{Name:"qFunctions"}]},GetOdbcDsns:{In:[],Out:[{Name:"qOdbcDsns"}]},GetOleDbProviders:{In:[],Out:[{Name:"qOleDbProviders"}]},GetDatabasesFromConnectionString:{In:[{Name:"qConnection",DefaultValue:{qId:"",qName:"",qConnectionString:"",qType:"",qUserName:"",qPassword:"",qModifiedDate:"",qMeta:{qName:""},qLogOn:0}}],Out:[{Name:"qDatabases"}]},IsValidConnectionString:{In:[{Name:"qConnection",DefaultValue:{qId:"",qName:"",qConnectionString:"",qType:"",qUserName:"",qPassword:"",qModifiedDate:"",qMeta:{qName:""},qLogOn:0}}],Out:[]},GetDefaultAppFolder:{In:[],Out:[{Name:"qPath"}]},GetMyDocumentsFolder:{In:[],Out:[{Name:"qFolder"}]},GetLogicalDriveStrings:{In:[],Out:[{Name:"qDrives"}]},GetFolderItemsForPath:{In:[{Name:"qPath",DefaultValue:""}],Out:[{Name:"qFolderItems"}]},GetSupportedCodePages:{In:[],Out:[{Name:"qCodePages"}]},GetCustomConnectors:{In:[{Name:"qReloadList",DefaultValue:false,Optional:true}],Out:[{Name:"qConnectors"}]},GetStreamList:{In:[],Out:[{Name:"qStreamList"}]},EngineVersion:{In:[],Out:[{Name:"qVersion"}]},GetBaseBNF:{In:[{Name:"qBnfType",DefaultValue:0}],Out:[{Name:"qBnfDefs"},{Name:"qBnfHash"}]},GetBaseBNFHash:{In:[{Name:"qBnfType",DefaultValue:0}],Out:[{Name:"qBnfHash"}]},GetBaseBNFString:{In:[{Name:"qBnfType",DefaultValue:0}],Out:[{Name:"qBnfStr"},{Name:"qBnfHash"}]}}},enums:{LocalizedMessageCode:{LOCMSG_SCRIPTEDITOR_EMPTY_MESSAGE:0,LOCMSG_SCRIPTEDITOR_PROGRESS_SAVING_STARTED:1,LOCMSG_SCRIPTEDITOR_PROGRESS_BYTES_LEFT:2,LOCMSG_SCRIPTEDITOR_PROGRESS_STORING_TABLES:3,LOCMSG_SCRIPTEDITOR_PROGRESS_QVD_ROWS_SO_FAR:4,LOCMSG_SCRIPTEDITOR_PROGRESS_CONNECTED:5,LOCMSG_SCRIPTEDITOR_PROGRESS_CONNECTING_TO:6,LOCMSG_SCRIPTEDITOR_PROGRESS_CONNECT_FAILED:7,LOCMSG_SCRIPTEDITOR_PROGRESS_QVD_ROWISH:8,LOCMSG_SCRIPTEDITOR_PROGRESS_QVD_COLUMNAR:9,LOCMSG_SCRIPTEDITOR_ERROR:10,LOCMSG_SCRIPTEDITOR_DONE:11,LOCMSG_SCRIPTEDITOR_LOAD_EXTERNAL_DATA:12,LOCMSG_SCRIPTEDITOR_PROGRESS_OLD_QVD_ISLOADING:13,LOCMSG_SCRIPTEDITOR_PROGRESS_QVC_LOADING:14,LOCMSG_SCRIPTEDITOR_PROGRESS_QVD_BUFFERED:15,LOCMSG_SCRIPTEDITOR_PROGRESS_QVC_PREPARING:16,LOCMSG_SCRIPTEDITOR_PROGRESS_QVC_APPENDING:17,LOCMSG_SCRIPTEDITOR_REMOVE_SYNTHETIC:18,LOCMSG_SCRIPTEDITOR_PENDING_LINKEDTABLE_FETCHING:19,LOCMSG_SCRIPTEDITOR_RELOAD:20,LOCMSG_SCRIPTEDITOR_LINES_FETCHED:21,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_START:22,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_FIELD:23,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_SUCCESS:24,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_FAILURE:25,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_STARTABORT:26,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_ENDABORT:27,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_TIMEOUT:28,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_OUTOFMEMORY:29,LOCMSG_SCRIPTEDITOR_ACCESS_DENIED_AFTER_RELOAD:30},LocalizedErrorCode:{LOCERR_INTERNAL_ERROR:-128,LOCERR_GENERIC_UNKNOWN:-1,LOCERR_GENERIC_OK:0,LOCERR_GENERIC_NOT_SET:1,LOCERR_GENERIC_NOT_FOUND:2,LOCERR_GENERIC_ALREADY_EXISTS:3,LOCERR_GENERIC_INVALID_PATH:4,LOCERR_GENERIC_ACCESS_DENIED:5,LOCERR_GENERIC_OUT_OF_MEMORY:6,LOCERR_GENERIC_NOT_INITIALIZED:7,LOCERR_GENERIC_INVALID_PARAMETERS:8,LOCERR_GENERIC_EMPTY_PARAMETERS:9,LOCERR_GENERIC_INTERNAL_ERROR:10,LOCERR_GENERIC_CORRUPT_DATA:11,LOCERR_GENERIC_MEMORY_INCONSISTENCY:12,LOCERR_GENERIC_INVISIBLE_OWNER_ABORT:13,LOCERR_GENERIC_PROHIBIT_VALIDATE:14,LOCERR_GENERIC_ABORTED:15,LOCERR_GENERIC_CONNECTION_LOST:16,LOCERR_GENERIC_UNSUPPORTED_IN_PRODUCT_VERSION:17,LOCERR_GENERIC_REST_CONNECTION_FAILURE:18,LOCERR_GENERIC_MEMORY_LIMIT_REACHED:19,LOCERR_GENERIC_NOT_IMPLEMENTED:20,LOCERR_HTTP_400:400,LOCERR_HTTP_401:401,LOCERR_HTTP_402:402,LOCERR_HTTP_403:403,LOCERR_HTTP_404:404,LOCERR_HTTP_405:405,LOCERR_HTTP_406:406,LOCERR_HTTP_407:407,LOCERR_HTTP_408:408,LOCERR_HTTP_409:409,LOCERR_HTTP_410:410,LOCERR_HTTP_411:411,LOCERR_HTTP_412:412,LOCERR_HTTP_413:413,LOCERR_HTTP_414:414,LOCERR_HTTP_415:415,LOCERR_HTTP_416:416,LOCERR_HTTP_417:417,LOCERR_HTTP_422:422,LOCERR_HTTP_429:429,LOCERR_HTTP_500:500,LOCERR_HTTP_501:501,LOCERR_HTTP_502:502,LOCERR_HTTP_503:503,LOCERR_HTTP_504:504,LOCERR_HTTP_505:505,LOCERR_HTTP_509:509,LOCERR_HTTP_COULD_NOT_RESOLVE_HOST:700,LOCERR_APP_ALREADY_EXISTS:1e3,LOCERR_APP_INVALID_NAME:1001,LOCERR_APP_ALREADY_OPEN:1002,LOCERR_APP_NOT_FOUND:1003,LOCERR_APP_IMPORT_FAILED:1004,LOCERR_APP_SAVE_FAILED:1005,LOCERR_APP_CREATE_FAILED:1006,LOCERR_APP_INVALID:1007,LOCERR_APP_CONNECT_FAILED:1008,LOCERR_APP_ALREADY_OPEN_IN_DIFFERENT_MODE:1009,LOCERR_APP_MIGRATION_COULD_NOT_CONTACT_MIGRATION_SERVICE:1010,LOCERR_APP_MIGRATION_COULD_NOT_START_MIGRATION:1011,LOCERR_APP_MIGRATION_FAILURE:1012,LOCERR_APP_SCRIPT_MISSING:1013,LOCERR_APP_EXPORT_FAILED:1014,LOCERR_CONNECTION_ALREADY_EXISTS:2e3,LOCERR_CONNECTION_NOT_FOUND:2001,LOCERR_CONNECTION_FAILED_TO_LOAD:2002,LOCERR_CONNECTION_FAILED_TO_IMPORT:2003,LOCERR_CONNECTION_NAME_IS_INVALID:2004,LOCERR_CONNECTOR_NO_FILE_STREAMING_SUPPORT:2300,LOCERR_CONNECTOR_FILESIZE_EXCEEDED_BUFFER_SIZE:2301,LOCERR_FILE_ACCESS_DENIED:3e3,LOCERR_FILE_NAME_INVALID:3001,LOCERR_FILE_CORRUPT:3002,LOCERR_FILE_NOT_FOUND:3003,LOCERR_FILE_FORMAT_UNSUPPORTED:3004,LOCERR_FILE_OPENED_IN_UNSUPPORTED_MODE:3005,LOCERR_FILE_TABLE_NOT_FOUND:3006,LOCERR_USER_ACCESS_DENIED:4e3,LOCERR_USER_IMPERSONATION_FAILED:4001,LOCERR_SERVER_OUT_OF_SESSION_AND_USER_CALS:5e3,LOCERR_SERVER_OUT_OF_SESSION_CALS:5001,LOCERR_SERVER_OUT_OF_USAGE_CALS:5002,LOCERR_SERVER_OUT_OF_CALS:5003,LOCERR_SERVER_OUT_OF_NAMED_CALS:5004,LOCERR_SERVER_OFF_DUTY:5005,LOCERR_SERVER_BUSY:5006,LOCERR_SERVER_LICENSE_EXPIRED:5007,LOCERR_SERVER_AJAX_DISABLED:5008,LOCERR_SERVER_NO_TOKEN:5009,LOCERR_HC_INVALID_OBJECT:6e3,LOCERR_HC_RESULT_TOO_LARGE:6001,LOCERR_HC_INVALID_OBJECT_STATE:6002,LOCERR_HC_MODAL_OBJECT_ERROR:6003,LOCERR_CALC_INVALID_DEF:7e3,LOCERR_CALC_NOT_IN_LIB:7001,LOCERR_CALC_HEAP_ERROR:7002,LOCERR_CALC_TOO_LARGE:7003,LOCERR_CALC_TIMEOUT:7004,LOCERR_CALC_EVAL_CONDITION_FAILED:7005,LOCERR_CALC_MIXED_LINKED_AGGREGATION:7006,LOCERR_CALC_MISSING_LINKED:7007,LOCERR_CALC_INVALID_COL_SORT:7008,LOCERR_CALC_PAGES_TOO_LARGE:7009,LOCERR_CALC_SEMANTIC_FIELD_NOT_ALLOWED:7010,LOCERR_CALC_VALIDATION_STATE_INVALID:7011,LOCERR_CALC_PIVOT_DIMENSIONS_ALREADY_EXISTS:7012,LOCERR_CALC_MISSING_LINKED_FIELD:7013,LOCERR_CALC_NOT_CALCULATED:7014,LOCERR_LAYOUT_EXTENDS_INVALID_ID:8e3,LOCERR_LAYOUT_LINKED_OBJECT_NOT_FOUND:8001,LOCERR_LAYOUT_LINKED_OBJECT_INVALID:8002,LOCERR_PERSISTENCE_WRITE_FAILED:9e3,LOCERR_PERSISTENCE_READ_FAILED:9001,LOCERR_PERSISTENCE_DELETE_FAILED:9002,LOCERR_PERSISTENCE_NOT_FOUND:9003,LOCERR_PERSISTENCE_UNSUPPORTED_VERSION:9004,LOCERR_PERSISTENCE_MIGRATION_FAILED_READ_ONLY:9005,LOCERR_PERSISTENCE_MIGRATION_CANCELLED:9006,LOCERR_PERSISTENCE_MIGRATION_BACKUP_FAILED:9007,LOCERR_PERSISTENCE_DISK_FULL:9008,LOCERR_PERSISTENCE_NOT_SUPPORTED_FOR_SESSION_APP:9009,LOCERR_PERSISTENCE_MOVE_FAILED:9010,LOCERR_PERSISTENCE_SYNC_SET_CHUNK_INVALID_PARAMETERS:9510,LOCERR_PERSISTENCE_SYNC_GET_CHUNK_INVALID_PARAMETERS:9511,LOCERR_SCRIPT_DATASOURCE_ACCESS_DENIED:1e4,LOCERR_RELOAD_IN_PROGRESS:11e3,LOCERR_RELOAD_TABLE_X_NOT_FOUND:11001,LOCERR_RELOAD_UNKNOWN_STATEMENT:11002,LOCERR_RELOAD_EXPECTED_SOMETHING_FOUND_UNKNOWN:11003,LOCERR_RELOAD_EXPECTED_NOTHING_FOUND_UNKNOWN:11004,LOCERR_RELOAD_EXPECTED_ONE_OF_1_TOKENS_FOUND_UNKNOWN:11005,LOCERR_RELOAD_EXPECTED_ONE_OF_2_TOKENS_FOUND_UNKNOWN:11006,LOCERR_RELOAD_EXPECTED_ONE_OF_3_TOKENS_FOUND_UNKNOWN:11007,LOCERR_RELOAD_EXPECTED_ONE_OF_4_TOKENS_FOUND_UNKNOWN:11008,LOCERR_RELOAD_EXPECTED_ONE_OF_5_TOKENS_FOUND_UNKNOWN:11009,LOCERR_RELOAD_EXPECTED_ONE_OF_6_TOKENS_FOUND_UNKNOWN:11010,LOCERR_RELOAD_EXPECTED_ONE_OF_7_TOKENS_FOUND_UNKNOWN:11011,LOCERR_RELOAD_EXPECTED_ONE_OF_8_OR_MORE_TOKENS_FOUND_UNKNOWN:11012,LOCERR_RELOAD_FIELD_X_NOT_FOUND:11013,LOCERR_RELOAD_MAPPING_TABLE_X_NOT_FOUND:11014,LOCERR_RELOAD_LIB_CONNECTION_X_NOT_FOUND:11015,LOCERR_RELOAD_NAME_ALREADY_TAKEN:11016,LOCERR_RELOAD_WRONG_FILE_FORMAT_DIF:11017,LOCERR_RELOAD_WRONG_FILE_FORMAT_BIFF:11018,LOCERR_RELOAD_WRONG_FILE_FORMAT_ENCRYPTED:11019,LOCERR_RELOAD_OPEN_FILE_ERROR:11020,LOCERR_RELOAD_AUTO_GENERATE_COUNT:11021,LOCERR_RELOAD_PE_ILLEGAL_PREFIX_COMB:11022,LOCERR_RELOAD_MATCHING_CONTROL_STATEMENT_ERROR:11023,LOCERR_RELOAD_MATCHING_LIBPATH_X_NOT_FOUND:11024,LOCERR_RELOAD_MATCHING_LIBPATH_X_INVALID:11025,LOCERR_RELOAD_MATCHING_LIBPATH_X_OUTSIDE:11026,LOCERR_RELOAD_NO_QUALIFIED_PATH_FOR_FILE:11027,LOCERR_RELOAD_MODE_STATEMENT_ONLY_FOR_LIB_PATHS:11028,LOCERR_RELOAD_INCONSISTENT_USE_OF_SEMANTIC_FIELDS:11029,LOCERR_RELOAD_NO_OPEN_DATABASE:11030,LOCERR_RELOAD_AGGREGATION_REQUIRED_BY_GROUP_BY:11031,LOCERR_RELOAD_CONNECT_MUST_USE_LIB_PREFIX_IN_THIS_MODE:11032,LOCERR_RELOAD_ODBC_CONNECT_FAILED:11033,LOCERR_RELOAD_OLEDB_CONNECT_FAILED:11034,LOCERR_RELOAD_CUSTOM_CONNECT_FAILED:11035,LOCERR_RELOAD_ODBC_READ_FAILED:11036,LOCERR_RELOAD_OLEDB_READ_FAILED:11037,LOCERR_RELOAD_CUSTOM_READ_FAILED:11038,LOCERR_RELOAD_BINARY_LOAD_PROHIBITED:11039,LOCERR_RELOAD_CONNECTOR_START_FAILED:11040,LOCERR_RELOAD_CONNECTOR_NOT_RESPONDING:11041,LOCERR_RELOAD_CONNECTOR_REPLY_ERROR:11042,LOCERR_RELOAD_CONNECTOR_CONNECT_ERROR:11043,LOCERR_RELOAD_CONNECTOR_NOT_FOUND_ERROR:11044,LOCERR_RELOAD_INPUT_FIELD_WITH_DUPLICATE_KEYS:11045,LOCERR_RELOAD_CONCATENATE_LOAD_NO_PREVIOUS_TABLE:11046,LOCERR_RELOAD_WRONG_FILE_FORMAT_QVD:11047,LOCERR_PERSONAL_NEW_VERSION_AVAILABLE:12e3,LOCERR_PERSONAL_VERSION_EXPIRED:12001,LOCERR_PERSONAL_SECTION_ACCESS_DETECTED:12002,LOCERR_PERSONAL_APP_DELETION_FAILED:12003,LOCERR_USER_AUTHENTICATION_FAILURE:12004,LOCERR_EXPORT_OUT_OF_MEMORY:13e3,LOCERR_EXPORT_NO_DATA:13001,LOCERR_SYNC_INVALID_OFFSET:14e3,LOCERR_SEARCH_TIMEOUT:15e3,LOCERR_DIRECT_DISCOVERY_LINKED_EXPRESSION_FAIL:16e3,LOCERR_DIRECT_DISCOVERY_ROWCOUNT_OVERFLOW:16001,LOCERR_DIRECT_DISCOVERY_EMPTY_RESULT:16002,LOCERR_DIRECT_DISCOVERY_DB_CONNECTION_FAILED:16003,LOCERR_DIRECT_DISCOVERY_MEASURE_NOT_ALLOWED:16004,LOCERR_DIRECT_DISCOVERY_DETAIL_NOT_ALLOWED:16005,LOCERR_DIRECT_DISCOVERY_NOT_SYNTH_CIRCULAR_ALLOWED:16006,LOCERR_DIRECT_DISCOVERY_ONLY_ONE_DD_TABLE_ALLOWED:16007,LOCERR_DIRECT_DISCOVERY_DB_AUTHORIZATION_FAILED:16008,LOCERR_SMART_LOAD_TABLE_NOT_FOUND:17e3,LOCERR_SMART_LOAD_TABLE_DUPLICATED:17001,LOCERR_VARIABLE_NO_NAME:18e3,LOCERR_VARIABLE_DUPLICATE_NAME:18001,LOCERR_VARIABLE_INCONSISTENCY:18002,LOCERR_MEDIA_LIBRARY_LIST_FAILED:19e3,LOCERR_MEDIA_LIBRARY_CONTENT_FAILED:19001,LOCERR_MEDIA_BUNDLING_FAILED:19002,LOCERR_MEDIA_UNBUNDLING_FAILED:19003,LOCERR_MEDIA_LIBRARY_NOT_FOUND:19004,LOCERR_FEATURE_DISABLED:2e4,LOCERR_JSON_RPC_INVALID_REQUEST:-32600,LOCERR_JSON_RPC_METHOD_NOT_FOUND:-32601,LOCERR_JSON_RPC_INVALID_PARAMETERS:-32602,LOCERR_JSON_RPC_INTERNAL_ERROR:-32603,LOCERR_JSON_RPC_PARSE_ERROR:-32700,LOCERR_MQ_SOCKET_CONNECT_FAILURE:33e3,LOCERR_MQ_SOCKET_OPEN_FAILURE:33001,LOCERR_MQ_PROTOCOL_NO_RESPONE:33002,LOCERR_MQ_PROTOCOL_LIBRARY_EXCEPTION:33003,LOCERR_MQ_PROTOCOL_CONNECTION_CLOSED:33004,LOCERR_MQ_PROTOCOL_CHANNEL_CLOSED:33005,LOCERR_MQ_PROTOCOL_UNKNOWN_ERROR:33006,LOCERR_MQ_PROTOCOL_INVALID_STATUS:33007,LOCERR_EXTENGINE_GRPC_STATUS_OK:22e3,LOCERR_EXTENGINE_GRPC_STATUS_CANCELLED:22001,LOCERR_EXTENGINE_GRPC_STATUS_UNKNOWN:22002,LOCERR_EXTENGINE_GRPC_STATUS_INVALID_ARGUMENT:22003,LOCERR_EXTENGINE_GRPC_STATUS_DEADLINE_EXCEEDED:22004,LOCERR_EXTENGINE_GRPC_STATUS_NOT_FOUND:22005,LOCERR_EXTENGINE_GRPC_STATUS_ALREADY_EXISTS:22006,LOCERR_EXTENGINE_GRPC_STATUS_PERMISSION_DENIED:22007,LOCERR_EXTENGINE_GRPC_STATUS_RESOURCE_EXHAUSTED:22008,LOCERR_EXTENGINE_GRPC_STATUS_FAILED_PRECONDITION:22009,LOCERR_EXTENGINE_GRPC_STATUS_ABORTED:22010,LOCERR_EXTENGINE_GRPC_STATUS_OUT_OF_RANGE:22011,LOCERR_EXTENGINE_GRPC_STATUS_UNIMPLEMENTED:22012,LOCERR_EXTENGINE_GRPC_STATUS_INTERNAL:22013,LOCERR_EXTENGINE_GRPC_STATUS_UNAVAILABLE:22014,LOCERR_EXTENGINE_GRPC_STATUS_DATA_LOSS:22015,LOCERR_EXTENGINE_GRPC_STATUS_UNAUTHENTICATED:22016,LOCERR_LXW_INVALID_OBJ:23001,LOCERR_LXW_INVALID_FILE:23002,LOCERR_LXW_INVALID_SHEET:23003,LOCERR_LXW_INVALID_EXPORT_RANGE:23004,LOCERR_LXW_ERROR:23005,LOCERR_LXW_ERROR_MEMORY_MALLOC_FAILED:23006,LOCERR_LXW_ERROR_CREATING_XLSX_FILE:23007,LOCERR_LXW_ERROR_CREATING_TMPFILE:23008,LOCERR_LXW_ERROR_ZIP_FILE_OPERATION:23009,LOCERR_LXW_ERROR_ZIP_FILE_ADD:23010,LOCERR_LXW_ERROR_ZIP_CLOSE:23011,LOCERR_LXW_ERROR_NULL_PARAMETER_IGNORED:23012,LOCERR_LXW_ERROR_MAX_STRING_LENGTH_EXCEEDED:23013,LOCERR_LXW_ERROR_255_STRING_LENGTH_EXCEEDED:23014,LOCERR_LXW_ERROR_SHARED_STRING_INDEX_NOT_FOUND:23015,LOCERR_LXW_ERROR_WORKSHEET_INDEX_OUT_OF_RANGE:23016,LOCERR_LXW_ERROR_WORKSHEET_MAX_NUMBER_URLS_EXCEEDED:23017,LOCERR_CURL_UNSUPPORTED_PROTOCOL:3e4,LOCERR_CURL_COULDNT_RESOLVE_PROXY:30001,LOCERR_CURL_COULDNT_CONNECT:30002,LOCERR_CURL_REMOTE_ACCESS_DENIED:30003,LOCERR_CURL_FTP_ACCEPT_FAILED:30004,LOCERR_CURL_FTP_ACCEPT_TIMEOUT:30005,LOCERR_CURL_FTP_CANT_GET_HOST:30006,LOCERR_CURL_PARTIAL_FILE:30007,LOCERR_CURL_QUOTE_ERROR:30008,LOCERR_CURL_WRITE_ERROR:30009,LOCERR_CURL_UPLOAD_FAILED:30010,LOCERR_CURL_OUT_OF_MEMORY:30011,LOCERR_CURL_OPERATION_TIMEDOUT:30012,LOCERR_CURL_FTP_COULDNT_USE_REST:30013,LOCERR_CURL_HTTP_POST_ERROR:30014,LOCERR_CURL_SSL_CONNECT_ERROR:30015,LOCERR_CURL_FILE_COULDNT_READ_FILE:30016,LOCERR_CURL_LDAP_CANNOT_BIND:30017,LOCERR_CURL_LDAP_SEARCH_FAILED:30018,LOCERR_CURL_TOO_MANY_REDIRECTS:30019,LOCERR_CURL_PEER_FAILED_VERIFICATION:30020,LOCERR_CURL_GOT_NOTHING:30021,LOCERR_CURL_SSL_ENGINE_NOTFOUND:30022,LOCERR_CURL_SSL_ENGINE_SETFAILED:30023,LOCERR_CURL_SSL_CERTPROBLEM:30024,LOCERR_CURL_SSL_CIPHER:30025,LOCERR_CURL_SSL_CACERT:30026,LOCERR_CURL_BAD_CONTENT_ENCODING:30027,LOCERR_CURL_LDAP_INVALID_URL:30028,LOCERR_CURL_USE_SSL_FAILED:30029,LOCERR_CURL_SSL_ENGINE_INITFAILED:30030,LOCERR_CURL_LOGIN_DENIED:30031,LOCERR_CURL_TFTP_NOTFOUND:30032,LOCERR_CURL_TFTP_ILLEGAL:30033,LOCERR_CURL_SSH:30034,LOCERR_SETEXPRESSION_TOO_LARGE:30100},LocalizedWarningCode:{LOCWARN_PERSONAL_RELOAD_REQUIRED:0,LOCWARN_PERSONAL_VERSION_EXPIRES_SOON:1,LOCWARN_EXPORT_DATA_TRUNCATED:1e3,LOCWARN_COULD_NOT_OPEN_ALL_OBJECTS:2e3},GrpType:{GRP_NX_NONE:0,GRP_NX_HIEARCHY:1,GRP_NX_COLLECTION:2},ExportFileType:{EXPORT_CSV_C:0,EXPORT_CSV_T:1,EXPORT_OOXML:2},ExportState:{EXPORT_POSSIBLE:0,EXPORT_ALL:1},DimCellType:{NX_DIM_CELL_VALUE:0,NX_DIM_CELL_EMPTY:1,NX_DIM_CELL_NORMAL:2,NX_DIM_CELL_TOTAL:3,NX_DIM_CELL_OTHER:4,NX_DIM_CELL_AGGR:5,NX_DIM_CELL_PSEUDO:6,NX_DIM_CELL_ROOT:7,NX_DIM_CELL_NULL:8,NX_DIM_CELL_GENERATED:9},StackElemType:{NX_STACK_CELL_NORMAL:0,NX_STACK_CELL_TOTAL:1,NX_STACK_CELL_OTHER:2,NX_STACK_CELL_SUM:3,NX_STACK_CELL_VALUE:4,NX_STACK_CELL_PSEUDO:5},SortIndicatorType:{NX_SORT_INDICATE_NONE:0,NX_SORT_INDICATE_ASC:1,NX_SORT_INDICATE_DESC:2},DimensionType:{NX_DIMENSION_TYPE_DISCRETE:0,NX_DIMENSION_TYPE_NUMERIC:1,NX_DIMENSION_TYPE_TIME:2},FieldSelectionMode:{SELECTION_MODE_NORMAL:0,SELECTION_MODE_AND:1,SELECTION_MODE_NOT:2},FrequencyMode:{NX_FREQUENCY_NONE:0,NX_FREQUENCY_VALUE:1,NX_FREQUENCY_PERCENT:2,NX_FREQUENCY_RELATIVE:3},DataReductionMode:{DATA_REDUCTION_NONE:0,DATA_REDUCTION_ONEDIM:1,DATA_REDUCTION_SCATTERED:2,DATA_REDUCTION_CLUSTERED:3,DATA_REDUCTION_STACKED:4},HypercubeMode:{DATA_MODE_STRAIGHT:0,DATA_MODE_PIVOT:1,DATA_MODE_PIVOT_STACK:2,DATA_MODE_TREE:3},PatchOperationType:{Add:0,Remove:1,Replace:2},SelectionCellType:{NX_CELL_DATA:0,NX_CELL_TOP:1,NX_CELL_LEFT:2},MatchingFieldMode:{MATCHINGFIELDMODE_MATCH_ALL:0,MATCHINGFIELDMODE_MATCH_ONE:1},SessionState:{SESSION_CREATED:0,SESSION_ATTACHED:1,SESSION_ERROR_NO_LICENSE:2,SESSION_ERROR_LICENSE_RENEW:3,SESSION_ERROR_LIMIT_EXCEEDED:4,SESSION_ERROR_SECURITY_HEADER_CHANGED:5,SESSION_ACCESS_CONTROL_SETUP_FAILURE:6},ReloadState:{RELOAD_PAUSED:0,RELOAD_STARTED:1,RELOAD_ABORTED:2},OpenApiVersion:{V2:0,V3:1},QrsChangeType:{QRS_CHANGE_UNDEFINED:0,QRS_CHANGE_ADD:1,QRS_CHANGE_UPDATE:2,QRS_CHANGE_DELETE:3},ExtEngineDataType:{NX_EXT_DATATYPE_STRING:0,NX_EXT_DATATYPE_DOUBLE:1,NX_EXT_DATATYPE_BOTH:2},ExtEngineFunctionType:{NX_EXT_FUNCTIONTYPE_SCALAR:0,NX_EXT_FUNCTIONTYPE_AGGR:1,NX_EXT_FUNCTIONTYPE_TENSOR:2},ExtEngineMsgType:{NX_EXT_MSGTYPE_FUNCTION_CALL:1,NX_EXT_MSGTYPE_SCRIPT_CALL:2,NX_EXT_MSGTYPE_RETURN_VALUE:3,NX_EXT_MSGTYPE_RETURN_MULTIPLE:4,NX_EXT_MSGTYPE_RETURN_ERROR:5}}}},function(e,t,n){(function(t,n){e.exports=n()})(this,function(){"use strict";function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function i(e,i,a,s){i=i||"&";a=a||"=";null===e&&(e=void 0);if("object"===typeof e)return r(o(e),function(o){var s=encodeURIComponent(n(o))+a;return t(e[o])?r(e[o],function(e){return s+encodeURIComponent(n(e))}).join(i):s+encodeURIComponent(n(e[o]))}).join(i);if(!s)return"";return encodeURIComponent(n(s))+a+encodeURIComponent(n(e))}function r(e,t){if(e.map)return e.map(t);var n=[];for(var i=0;i<e.length;i++)n.push(t(e[i],i));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t};function a(n,i,r,o){i=i||"&";r=r||"=";var a={};if("string"!==typeof n||0===n.length)return a;var s=/\+/g;n=n.split(i);var l=1e3;o&&"number"===typeof o.maxKeys&&(l=o.maxKeys);var u=n.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var d=n[c].replace(s,"%20"),f=d.indexOf(r),p,h,v,m;if(f>=0){p=d.substr(0,f);h=d.substr(f+1)}else{p=d;h=""}v=decodeURIComponent(p);m=decodeURIComponent(h);e(a,v)?t(a[v])?a[v].push(m):a[v]=[a[v],m]:a[v]=m}return a}var s={encode:i,stringify:i,decode:a,parse:a};var l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();function c(e){return e.replace(/(^[/]+)|([/]+$)/g,"")}var d=function(){function e(){l(this,e)}u(e,null,[{key:"configureDefaults",value:function e(t){t.host||(t.host="localhost");"undefined"===typeof t.secure&&(t.secure=true);t.appId||t.route||(t.route="app/engineData");"undefined"===typeof t.noData&&(t.noData=false)}},{key:"buildUrl",value:function t(n){e.configureDefaults(n);var i=n.secure,r=n.host,o=n.port,a=n.prefix,l=n.subpath,u=n.route,d=n.identity,f=n.urlParams,p=n.ttl,h=n.appId;var v="";v+=(i?"wss":"ws")+"://";v+=r||"localhost";o&&(v+=":"+o);a&&(v+="/"+c(a));l&&(v+="/"+c(l));u?v+="/"+c(u):h&&""!==h&&(v+="/app/"+encodeURIComponent(h));d&&(v+="/identity/"+encodeURIComponent(d));p&&(v+="/ttl/"+p);f&&(v+="?"+s.stringify(f));return v}}]);return e}();return d})},function(e,t,n){!function(t,n){var i,r;true;e.exports=n()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){e.exports=function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},r=i.lib={},o=r.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=a<<24-(i+o)%4*8}else for(var o=0;o<r;o+=4)t[i+o>>>2]=n[o>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,i=[],r=function(t){var t=t,n=987654321,i=4294967295;return function(){var r=((n=36969*(65535&n)+(n>>16)&i)<<16)+(t=18e3*(65535&t)+(t>>16)&i)&i;return r/=4294967296,(r+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=r(4294967296*(n||e.random()));n=987654071*s(),i.push(4294967296*s()|0)}return new a.init(i,t)}}),s=i.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=4*o,l=r/s,u=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*o,c=e.min(4*u,r);if(u){for(var d=0;d<u;d+=o)this._doProcessBlock(i,d);var f=i.splice(0,u);n.sigBytes-=c}return new a.init(f,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(r.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),i.algo={});return i}(Math);return e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.objectMerge=t.isLocalStorageAvailable=t.createSession=t.generateId=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(8));var a=t.generateId=o.default;t.createSession=function(){return(new Date).getTime()+"_"+a()},t.isLocalStorageAvailable=function(){try{return window.localStorage.setItem("is this","supported?"),window.localStorage.removeItem("is this"),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==window.localStorage.length}},t.objectMerge=function(e,t){var n=e||{},o=t||{};return Object.keys(n).reduce(function(e,t){return"object"===r(n[t])?e[t]=i({},n[t],o[t]):e[t]=void 0===o[t]?n[t]:o[t],e},{})}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(e){return e&&DataView.prototype.isPrototypeOf(e)},r=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};c.prototype.append=function(e,t){e=s(e),t=l(t);var n=this.map[e];this.map[e]=n?n+","+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=l(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),u(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),u(e)},t.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];b.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=c,e.Request=m,e.Response=b,e.fetch=function(e,n){return new Promise(function(i,r){var o=new m(e,n),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new c;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;i(new b(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&i(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!r(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var n=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=function(e){var t=e.toUpperCase();return o.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.location=function(){return{origin:function(){if(!window.location.origin){var e=19076;return window.location.protocol+"//"+window.location.hostname+e}return window.location.origin}(),pathname:window.location.pathname}},t.system=function(){return{language:navigator.language,platform:navigator.platform,referrer:document.referrer,screen:{devicePixelRatio:window.devicePixelRatio,height:window.screen.height,width:window.screen.width},timezoneOffset:(new Date).getTimezoneOffset(),userAgent:navigator.userAgent}}},function(e,t,n){e.exports=function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,a=n.algo,s=[],l=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)e(i)&&(r<8&&(s[r]=n(t.pow(i,.5))),l[r]=n(t.pow(i,1/3)),r++),i++}();var u=[],c=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],c=n[5],d=n[6],f=n[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var h=u[p-15],v=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,m=u[p-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[p]=v+u[p-7]+g+u[p-16]}var b=i&r^i&o^r&o,y=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),x=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&c^~s&d)+l[p]+u[p];f=d,d=c,c=s,s=a+x|0,a=o,o=r,r=i,i=x+(y+b)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+c|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(c),n.HmacSHA256=o._createHmacHelper(c)}(Math),e.SHA256}(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=f(n(6)),s=f(n(15)),l=f(n(16)),u=f(n(17)),c=n(1),d=n(3);function f(e){return e&&e.__esModule?e:{default:e}}var p={apiKey:"",mouseTracker:{enable:!1,timer:500},integrationId:"",productInfo:void 0},h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configure=this.configure.bind(this),this.setPropOnEvents=this.setPropOnEvents.bind(this),this.setupDataHandler=this.setupDataHandler.bind(this),this.setupListeners=this.setupListeners.bind(this),this.start=this.start.bind(this),this.trackEvent=this.trackEvent.bind(this);var n=(0,c.objectMerge)(p,t);this.setupDataHandler(n)}return o(e,[{key:"configure",value:function(t){var n=(0,c.objectMerge)(this.config||p,t);if(this.config){if(!e.validateConfig(n))return;this.config=n,this.setupListeners()}else this.setupDataHandler(n)}}]),o(e,[{key:"setPropOnEvents",value:function(e,t){this.dataHandler&&this.dataHandler.setCustomProp(e,t)}},{key:"setupDataHandler",value:function(t){if(e.validateConfig(t)){this.config=t;var n=this.config,i=n.apiKey,r=n.integrationId,o=n.productInfo;this.dataHandler=new a.default({apiKey:i,integrationId:r,productInfo:o})}}},{key:"setupListeners",value:function(){if(this.config){var e=this.config.mouseTracker;this.loadTracker.addListener(),this.mousemoveTracker.addListener(r({},e))}}},{key:"start",value:function(e){if(this.dataHandler){var t=this.dataHandler.addLocalStorageToBackupQueue;this.eventTracker=new s.default(this.dataHandler),this.loadTracker=new l.default(t),this.mousemoveTracker=new u.default(this.trackEvent),"function"==typeof e&&e(),this.setupListeners(),this.trackEvent("sessionStarted",(0,d.system)(),"qlikmetricsEvent")}}},{key:"trackEvent",value:function(e,t,n){this.eventTracker&&this.eventTracker.trackEvent(e,t,n)}}],[{key:"validateConfig",value:function(e){if(!e)return!1;var t=e.apiKey,n=e.integrationId,r=e.productInfo;return!(!t||t.length<=1)&&!(!n||n.length<=1)&&(!r||!Array.isArray(r)&&"object"===(void 0===r?"undefined":i(r)))}}]),e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(7),a=n(1),s=c(n(11)),l=n(3),u=c(n(12));function c(e){return e&&e.__esModule?e:{default:e}}var d=["eventCategory","eventName","location","qlikmetricsId","qlikmetricsVersion","properties","sessionId","timestamp"],f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addLocalStorageToBackupQueue=this.addLocalStorageToBackupQueue.bind(this),this.addToBackupQueue=this.addToBackupQueue.bind(this),this.getSQS=this.getSQS.bind(this),this.sendBackupQueueToLocalStorage=this.sendBackupQueueToLocalStorage.bind(this),this.sendBackupQueueToSQS=this.sendBackupQueueToSQS.bind(this),this.sendMessage=this.sendMessage.bind(this),this.sendMessageToSQS=this.sendMessageToSQS.bind(this),this.setCustomProp=this.setCustomProp.bind(this),this.setupIds=this.setupIds.bind(this),this.backupQueue=[],this.config=t,this.customProps={},this.envInfo={},this.localStorageKey="backupQueue";var n=this.config,i=n.apiKey,r=n.integrationId,o=n.productInfo;this.credentialsHandler=new s.default({apiKey:i,integrationId:r,productInfo:o}),this.setupIds()}return r(e,[{key:"addLocalStorageToBackupQueue",value:function(){if((0,a.isLocalStorageAvailable)()){var e=JSON.parse(window.localStorage.getItem(this.localStorageKey));e&&(this.backupQueue=this.backupQueue.concat(e),window.localStorage.removeItem(this.localStorageKey))}}},{key:"addToBackupQueue",value:function(e){this.backupQueue.every(function(t){return e.timestamp!==t.timestamp})&&this.backupQueue.push(e)}},{key:"getSQS",value:function(){var e=this;return this.sqs?Promise.resolve(this.sqs):this.credentialsHandler.getCredentials().then(function(t){var n=t.accessKeyId,i=t.queueUrl,r=t.region,o=t.secretAccessKey,a=t.sessionToken,s=t.deploymentEnv,l=t.packagingEnv,c=t.productVersion;return e.sqs=new u.default({accessKeyId:n,apiVersion:"2012-11-05",region:r,secretAccessKey:o,sessionToken:a}),e.envInfo={deploymentEnv:s,packagingEnv:l,productVersion:c},e.queueUrl=i,e.sqs})}},{key:"sendMessage",value:function(e){var t=this,n=i({location:(0,l.location)()},e,{qlikmetricsId:this.qlikmetricsId,qlikmetricsVersion:"2.0.0",sessionId:this.sessionId,timestamp:(new Date).getTime()},this.customProps);return this.sendMessageToSQS(n).then(function(){return t.sendBackupQueueToSQS()}).catch(function(){t.addToBackupQueue(n),t.sendBackupQueueToLocalStorage()})}},{key:"sendMessageToSQS",value:function(e){var t=this;return this.getSQS().then(function(n){return new Promise(function(r,o){var a={DelaySeconds:10,MessageBody:JSON.stringify(i({},e,t.envInfo)),QueueUrl:t.queueUrl};n.sendMessage(a,function(e,t){e?o(e):r(t.MessageId)})})}).catch(function(e){throw"InvalidClientTokenId"!==e.Code&&"ExpiredToken"!==e.Code||(t.sqs=void 0),e})}},{key:"sendBackupQueueToLocalStorage",value:function(){if(!(0,a.isLocalStorageAvailable)())return!1;if(0!==this.backupQueue.length)try{window.localStorage.setItem(this.localStorageKey,JSON.stringify(this.backupQueue))}catch(e){window.localStorage.removeItem(this.localStorageKey);try{window.localStorage.setItem(this.localStorageKey,JSON.stringify(this.backupQueue))}catch(e){return!1}}return!0}},{key:"sendBackupQueueToSQS",value:function(){for((0,a.isLocalStorageAvailable)()&&window.localStorage.removeItem(this.localStorageKey);0!==this.backupQueue.length;)this.sendMessageToSQS(this.backupQueue.pop())}},{key:"setCustomProp",value:function(e,t){e&&"string"==typeof e&&-1===d.indexOf(e)&&void 0!==t&&(this.customProps[e]=t)}},{key:"setupIds",value:function(){var e=(0,o.getQlikmetricsIdCookie)();""===e&&(e=(0,a.generateId)(),(0,o.createQlikmetricsIdCookie)(e)),this.qlikmetricsId=e,this.sessionId=(0,a.createSession)()}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getQlikmetricsIdCookie=function(){for(var e="qlikmetricsId=",t=document.cookie.split(";"),n=0;n<t.length;n+=1){for(var i=t[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return""},t.createQlikmetricsIdCookie=function(e){var t=new Date;t.setFullYear(t.getFullYear()+2),document.cookie="qlikmetricsId="+e+";Expires="+t+";"}},function(e,t,n){var i=n(9),r=n(10);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||r(a)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,r=n;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(2);var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.getCredentials=this.getCredentials.bind(this)}return i(e,[{key:"getCredentials",value:function(){var e=this;if(this.fetchingCredentials)return Promise.reject({name:"FetchingCredentials"});this.fetchingCredentials=!0;var t=this.config,n=t.apiKey,i=t.integrationId,r=t.productInfo,o={headers:{Accept:"application/json","x-api-key":n}};return r&&(o.headers["x-product-info"]=JSON.stringify(r)),fetch("https://api.qlikdataengineering.com/sqs-proxy/v1/"+i+"/credentials",o).then(function(e){return e.json()}).then(function(t){return e.fetchingCredentials=!1,t}).catch(function(t){throw e.fetchingCredentials=!1,t})}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(2);var r=a(n(13)),o=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}return i(e,[{key:"authorizationHeader",value:function(e,t){var n=this.config,i=n.accessKeyId,r=n.region,o="AWS4-HMAC-SHA256 Credential="+i+"/"+e.substring(0,8)+"/"+r+"/sqs/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date;x-amz-security-token, Signature="+t;return o}}]),i(e,[{key:"messageParams",value:function(e){var t=this.config.apiVersion,n=e.DelaySeconds,i=e.MessageBody,r=e.QueueUrl;return"Action=SendMessage&DelaySeconds="+n+"&MessageBody="+encodeURIComponent(i)+"&QueueUrl="+r+"&Version="+t}},{key:"sendMessage",value:function(e,t){var n=e.QueueUrl,i=this.config.sessionToken,r=n.match(/^(?:https?:)?(?:\/\/)?([^/?]+)/)[1];if(r){var a=this.messageParams(e),s=(0,o.default)(a),l=((new Date).toISOString().split(".")[0]+"Z").replace(/-/g,"").replace(/:/g,""),u={host:r,origin:"https://"+r},c=this.signature(u.host,s,l),d=this.authorizationHeader(l,c);fetch(u.origin,{body:a,headers:{Accept:"application/json",Authorization:d,"Content-Type":"application/x-www-form-urlencoded","X-Amz-Content-Sha256":s,"X-Amz-Date":l,"X-Amz-Security-Token":i},method:"POST"}).then(function(e){return e.json()}).then(function(e){e.SendMessageResponse?t(void 0,e.SendMessageResponse.SendMessageResult):e.Error&&t(e.Error,void 0)}).catch(function(e){return t(e,void 0)})}}},{key:"signature",value:function(e,t,n){var i=this.config,a=i.sessionToken,s=i.region,l="POST\n/\n\nhost:"+e+"\nx-amz-content-sha256:"+t+"\nx-amz-date:"+n+"\nx-amz-security-token:"+a+"\n\nhost;x-amz-content-sha256;x-amz-date;x-amz-security-token\n"+t,u=(0,o.default)(l).toString(),c="AWS4-HMAC-SHA256\n"+n+"\n"+n.substring(0,8)+"/"+s+"/sqs/aws4_request\n"+u,d=this.signatureKey(n),f=(0,r.default)(c,d).toString();return f}},{key:"signatureKey",value:function(e){var t=this.config,n=t.region,i=t.secretAccessKey,o=e.substring(0,8),a=(0,r.default)(o,"AWS4"+i),s=(0,r.default)(n,a),l=(0,r.default)("sqs",s);return(0,r.default)("aws4_request",l)}}]),e}();t.default=s},function(e,t,n){e.exports=function(e){return e.HmacSHA256}(n(0),n(4),n(14))},function(e,t,n){e.exports=function(e){!function(){var t=e,n=t.lib,i=n.Base,r=t.enc,o=r.Utf8,a=t.algo;a.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),a=this._iKey=t.clone(),s=r.words,l=a.words,u=0;u<n;u++)s[u]^=1549556828,l[u]^=909522486;r.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var i=t.finalize(this._oKey.clone().concat(n));return i}})}()}(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackEvent=this.trackEvent.bind(this),this.dataHandler=t}return r(e,[{key:"trackEvent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={eventCategory:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",eventName:t,properties:n};e.validateMessageBody(i)&&this.dataHandler.sendMessage(i)}}],[{key:"validateMessageBody",value:function(e){return!!e.eventName&&!(e.eventName.length<=1)&&"object"===i(e.properties)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addListener=this.addListener.bind(this),this.removeListener=this.removeListener.bind(this),this.addLocalStorageToBackupQueue=t}return i(e,[{key:"addListener",value:function(){var e=this;this.removeListener(),this.listener=function(){e.addLocalStorageToBackupQueue()},window.addEventListener("load",this.listener,!0)}},{key:"removeListener",value:function(){this.listener&&window.removeEventListener("load",this.listener,!0)}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addListener=this.addListener.bind(this),this.eventListener=this.eventListener.bind(this),this.removeListener=this.removeListener.bind(this),this.points=[],this.trackEvent=t}return i(e,[{key:"addListener",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.removeListener();var t=e.enable,n=e.timer;t&&(this.timer=n,window.addEventListener("mousemove",this.eventListener,!0))}},{key:"eventListener",value:function(e){var t=this;clearTimeout(this.timeout);var n=e.pageX,i=e.pageY,r=e.timeStamp;this.points.push({pageX:n,pageY:i,timeStamp:r}),this.timeout=setTimeout(function(){var e=document.body,n=e.scrollHeight,i=e.scrollWidth,r={points:t.points,documentHeight:n,documentWidth:i};t.points=[],t.trackEvent("mousemove",r,"qlikmetricsEvent")},this.timer)}},{key:"removeListener",value:function(){window.removeEventListener("mousemove",this.eventListener,!0)}}]),e}();t.default=r}]).default})},function(e,t,n){var i,r;!(i=[n,t,n(151)],r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.generateUUID=function(){var e=(new Date).getTime();"window"in this&&window.performance&&"function"==typeof window.performance.now&&(e+=window.performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)});return t},e.createTableId=function(t){return n.DSMTypes.DataSourceDescriptor.prefix+"."+e.cleanNameForId(t)},e.createFieldId=function(t,n){return t+"."+e.cleanNameForId(n)},e.createSimpleQueryId=function(){return e.generateUUID()},e.createConcatQueryId=function(){return e.generateUUID()},e.createQueryFieldId=function(){return e.generateUUID()},e.cleanNameForId=function(e){return e.replace(/[\.]/g,"..")},e}();t.LoadModelIds=i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(54),n(151),n(606)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.areQueryFieldsEqual=function(t,i,r,o){var a=e._normalizeQueryField(t,r,o),s=e._normalizeQueryField(i,r,o);return n.isEqual(a,s)},e.areLoadModelsEqual=function(e,t){var i=e.serialize(),r=t.serialize();return n.isEqual(i,r)},e.findSourceTableFieldByRef=function(e,t){return n.find(e.fields,function(e){return e.id===t})},e.generateUniqueFieldName=function(t,n,i,r){for(var o=n,a=1,s=null;t.isTargetTableFieldNameInUse(o)&&(!r||!(s=e.doesAddingFieldCauseConcatenation(t,i,o)));)o=n+"_"+a,a++;return{name:o,concatenatedName:s?s.name:""}},e.doesAddingFieldCauseConcatenation=function(e,t,r){var o=e.rawClone(),a=o.getTargetTableModelById(t);a.createTransformField(r,[]),o.serialize();var s=null;return n.filter(o.queries,function(e){return e.type===i.DSMTypes.ConcatenationQuery.name}).forEach(function(e){n.find(e.sourceQueries,function(e){return e.name===a.data.name})&&(s=e)}),s},e.getQualifiedFieldName=function(e,t,n){for(var i=t+"."+n;e.isFieldNameInUse(i);)i=t+"."+i;return i},e.areSourceFieldAliasesUnique=function(e){var t=e.tableModels,n=!1;return t.forEach(function(e){if(!n){var t=e.data.fields.filter(function(e){return e.selected}),i=t.map(function(e){return e.alias});n=i.some(function(e,t){return i.indexOf(e)!==t})}}),!n},e._normalizeQueryField=function(t,i,o){var a=r.SharedUtil.extend(!0,{},t),s=e.schemas[t.type];if(!s)throw new TypeError("Field is missing a required property ( type ) and cannot be properly normalized.");return n.pairs(s).forEach(function(e){var t=e[0],n=e[1].optional;if(o&&"transformations"===e[0]&&a.transformations)for(var r=a.transformations,s=r.length-1;s>=0;s--)o(r[s])&&r.splice(s,1);if(i&&i(t))delete a[t];else if(n){var l=e[1].defaultValue;a.hasOwnProperty(t)||(a[t]=l)}else if(!a.hasOwnProperty(t))throw new TypeError("Field is missing a required property ( "+t+" ) and cannot be properly normalized.")}),a},e}();o.schemas={QueryExpressionField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},expression:{optional:!1},tags:{optional:!0,defaultValue:[]}},QueryTransformField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},transformations:{optional:!1},tags:{optional:!0,defaultValue:[]}},CompositeQueryField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},sourceFieldRefs:{optional:!1},tags:{optional:!0,defaultValue:[]}},QueryField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},fieldRef:{optional:!0},transformations:{optional:!0,defaultValue:[]},classifications:{optional:!0,defaultValue:[]},exclude:{optional:!0,defaultValue:!1},tags:{optional:!0,defaultValue:[]}}},t.LoadModelHelpers=o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(1006),n(494),n(1206),n(49)],r=function(e,t,i,r,o){var a;var s=[];var l={};var u={};var c;var d=o.getFlag("CLIENT_DCAAS");function f(o,f,p){if(a)return e.resolve(a);function h(n){var i=n.provider;if(!l[i]){var r=new e;l[i]=r.promise;-1!==s.indexOf(n.connectorMain)?r.resolve(void 0):t.loadComponent(n,"connectorMain").then(function(t){t&&t.create?e.when(t.create(p.getServersideConnectorProxy(n.provider))).then(function(e){r.resolve(e)},function(){r.resolve(void 0)}):r.resolve(void 0)},function(){s.push(n.connectorMain);r.resolve(void 0)})}return l[i]}function v(e){return h(e).then(function(t){var n={connectorType:e,connectorMain:t||{entrypoints:[{id:e.provider,scriptOnly:true}]}};return n},function(){return})}function m(e){return e.filter(function(e){return e&&(e.loadLater||e.connectorMain)})}function g(){return p.getDataconnectorTypes().then(function(t){return e.all(t.map(v))})}function b(t){if(!u[t.id]){var n=new e;u[t.id]=n.promise;if(t.type){if(d)return{connectorInstance:t,loadLater:true};h(t.type).then(function(e){var i={connectorInstance:t,connectorMain:e};n.resolve(i)},function(){n.resolve(void 0)})}else n.resolve(void 0)}return u[t.id]}function y(e){var t="";switch(e){case"scripteditor.flatfilechooser.files.all":t=n.p+"img/connector-logos/connector-folder-all-logo.png";break;case"scripteditor.flatfilechooser.files.excel":t=n.p+"img/connector-logos/connector-folder-excel-logo.png";break;case"scripteditor.flatfilechooser.files.qvd":t=n.p+"img/connector-logos/connector-folder-qvd-logo.png";break;case"scripteditor.flatfilechooser.files.qvx":t=n.p+"img/connector-logos/connector-folder-qvx-logo.png";break;case"scripteditor.flatfilechooser.files.delimited":t=n.p+"img/connector-logos/connector-folder-delimited-logo.png";break;case"internet":t=n.p+"img/connector-logos/connector-internet-logo.png";break;case"odbc":t=n.p+"img/connector-logos/connector-odbc-logo.png";break;case"oledb":t=n.p+"img/connector-logos/connector-oledb-logo.png";break;default:t=n.p+"img/connector-logos/connector-generic-logo.png";break}return t}function x(){a.selectDialogsEnabled=false;a.addButtonEnabled=false;a.connectorTypesByName={};if(!d)return g().then(function(t){a.connectors=t;var n=a.allConnectorEntrypoints;var r;if(!n){n={database:[],file:[],web:[],datamarket:[]};var o={};r={};for(var s in t){var l=t[s].connectorMain;for(var d in l.entrypoints){var f=l.entrypoints[d];f.imagePath||(f.imagePath=y(f.id));n[f.category]=n[f.category]||[];var h=new i({entrypoint:f,connectorMain:l,connectorType:t[s].connectorType,canCreate:p.hasCreatePrivileges(c,t[s].connectorType.type.toLowerCase())});h.getBestImage();n[f.category].push(h)}1===l.entrypoints.length&&l.entrypoints[0].id&&(r[t[s].connectorType.provider.toLowerCase()]=l.entrypoints[0].id.toLowerCase());o[t[s].connectorType.type]=l}}return p.getDataconnectorInstances().then(function(t){return e.all(t.map(b)).then(m).then(function(e){a.connections=e;a.allConnectorEntrypoints=n;a.entryPointProviderToIdMap=r;a.completeConnectionPromises=u;return a})})});var t=new r({},true);var n={};var o=a.allConnectorEntrypoints;if(!o){o={database:[],file:[],web:[],datamarket:[]};return t.getDataSources().then(function(t){t.forEach(function(e){e.setCanCreate(p.hasCreatePrivileges(c,e.getConnectorType()));e.getBestImage();e.setLoadConnectorMain(h);o[e.getCategory()].push(e)});return p.getDataconnectorInstances().then(function(t){return e.all(t.map(b)).then(m).then(function(e){a.connections=e;a.allConnectorEntrypoints=o;a.entryPointProviderToIdMap=n;a.completeConnectionPromises=u;return a})})})}}function w(e,t,n){return p.getServersideConnectorProxy(e,t,n)}function S(e,t){return p.getDataconnectorInstances().then(function(n){for(var i=0;i<n.length;i++){var r=t?e:p.appendUsernameSuffix(e);if(n[i].name.toLowerCase()===r.toLowerCase())return n[i]}return})}function C(e){for(var t in a.connections)if(a.connections[t].connectorInstance.name===e)return a.connections[t]}a={connectors:[],connections:[],completeConnectionPromises:{},allConnectorEntrypoints:void 0,populateList:x,getConnectionServersideProxy:w,getConnectionFromServer:S,getConnectionFromModel:C,getCompleteConnectionInstance:b};return f.getAppLayout().then(function(e){c=e.qLayout.create;return x().then(function(e){return e})})}return{createDataconnectorsModel:f}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=t.ERR_NOT_IN_IFRAME=t.ERR_CONNECTION_TIMEOUT=t.ERR_CONNECTION_DESTROYED=void 0;var i="handshake";var r="handshake-reply";var o="call";var a="reply";var s="fulfilled";var l="rejected";var u="message";var c="DataCloneError";var d="ConnectionDestroyed";t.ERR_CONNECTION_DESTROYED=d;var f="ConnectionTimeout";t.ERR_CONNECTION_TIMEOUT=f;var p="NotInIframe";t.ERR_NOT_IN_IFRAME=p;var h="IframeAlreadyAttachedToDom";t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=h;var v=6e4;var m={"http:":"80","https:":"443"};var g=/^(https?:|file:)?\/\/([^/:]+)?(:(\d+))?/;var b={ERR_CONNECTION_DESTROYED:d,ERR_CONNECTION_TIMEOUT:f,ERR_NOT_IN_IFRAME:p,ERR_IFRAME_ALREADY_ATTACHED_TO_DOM:h,Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:false};var y=function(){var e=0;return function(){return++e}}();var x=function e(){if(b.debug){var t;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];(t=console).log.apply(t,["[Penpal]"].concat(i))}};var w=function e(t){var n=document.location;var i=g.exec(t);var r;var o;var a;if(i){r=i[1]?i[1]:n.protocol;o=i[2];a=i[4]}else{r=n.protocol;o=n.hostname;a=n.port}if("file:"===r)return"null";var s=a&&a!==m[r]?":".concat(a):"";return"".concat(r,"//").concat(o).concat(s)};var S=function e(t){var n=[];t(function(){n.forEach(function(e){e()})});return{then:function e(t){n.push(t)}}};var C=function e(t){var n=t.name,i=t.message,r=t.stack;return{name:n,message:i,stack:r}};var E=function e(t){var n=new Error;Object.keys(t).forEach(function(e){return n[e]=t[e]});return n};var q=function e(t,n,i,r,l){var c=n.localName,f=n.local,p=n.remote,h=n.remoteOrigin;var v=false;x("".concat(c,": Connecting call sender"));var m=function e(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];x("".concat(c,": Sending ").concat(t,"() call"));p.closed&&r();if(v){var l=new Error("Unable to send ".concat(t,"() call due ")+"to destroyed connection");l.code=d;throw l}return new b.Promise(function(e,i){var r=y();var l=function n(o){if(o.source===p&&o.origin===h&&o.data.penpal===a&&o.data.id===r){x("".concat(c,": Received ").concat(t,"() reply"));f.removeEventListener(u,n);var l=o.data.returnValue;o.data.returnValueIsError&&(l=E(l));(o.data.resolution===s?e:i)(l)}};f.addEventListener(u,l);p.postMessage({penpal:o,id:r,methodName:t,args:n},h)})}};l.then(function(){v=true});i.reduce(function(e,t){e[t]=m(t);return e},t)};var _=function e(t,n,i){var r=t.localName,d=t.local,f=t.remote,p=t.remoteOrigin;var h=false;x("".concat(r,": Connecting call receiver"));var v=function e(t){if(t.source===f&&t.origin===p&&t.data.penpal===o){var i=t.data,u=i.methodName,d=i.args,v=i.id;x("".concat(r,": Received ").concat(u,"() call"));if(u in n){var m=function e(t){return function(e){x("".concat(r,": Sending ").concat(u,"() reply"));if(h){x("".concat(r,": Unable to send ").concat(u,"() reply due to destroyed connection"));return}var n={penpal:a,id:v,resolution:t,returnValue:e};if(t===l&&e instanceof Error){n.returnValue=C(e);n.returnValueIsError=true}try{f.postMessage(n,p)}catch(e){e.name===c&&f.postMessage({penpal:a,id:v,resolution:l,returnValue:C(e),returnValueIsError:true},p);throw e}}};new b.Promise(function(e){return e(n[u].apply(n,d))}).then(m(s),m(l))}}};d.addEventListener(u,v);i.then(function(){h=true;d.removeEventListener(u,v)})};b.connectToChild=function(e){var t=e.url,n=e.appendTo,o=e.iframe,a=e.methods,s=void 0===a?{}:a,l=e.timeout;if(o&&o.parentNode){var c=new Error("connectToChild() must not be called with an iframe already attached to DOM");c.code=h;throw c}var p;var m=new S(function(e){p=e});var g=window;o=o||document.createElement("iframe");o.src=t;var y=w(t);var C=new b.Promise(function(e,t){var a;void 0!==l&&(a=setTimeout(function(){var e=new Error("Connection to child timed out after ".concat(l,"ms"));e.code=f;t(e);p()},l));var c={};var h;var b;var w=function t(n){var l=o.contentWindow;if(n.source===l&&n.origin===y&&n.data.penpal===i){x("Parent: Received handshake, sending reply");var u="null"===n.origin?"*":n.origin;n.source.postMessage({penpal:r,methodNames:Object.keys(s)},u);var d={localName:"Parent",local:g,remote:l,remoteOrigin:u};b&&b();var f=new S(function(e){m.then(e);b=e});_(d,s,f);h&&h.forEach(function(e){delete c[e]});h=n.data.methodNames;q(c,d,h,p,m);clearTimeout(a);e(c)}};g.addEventListener(u,w);x("Parent: Loading iframe");(n||document.body).appendChild(o);var C=setInterval(function(){if(!document.contains(o)){clearInterval(C);p()}},v);m.then(function(){o.parentNode&&o.parentNode.removeChild(o);g.removeEventListener(u,w);clearInterval(C);var e=new Error("Connection destroyed");e.code=d;t(e)})});return{promise:C,iframe:o,destroy:p}};b.connectToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parentOrigin,n=void 0===t?"*":t,o=e.methods,a=void 0===o?{}:o,s=e.timeout;if(window===window.top){var l=new Error("connectToParent() must be called within an iframe");l.code=p;throw l}var c;var h=new S(function(e){c=e});var v=window;var m=v.parent;var g=new b.Promise(function(e,t){var o;void 0!==s&&(o=setTimeout(function(){var e=new Error("Connection to parent timed out after ".concat(s,"ms"));e.code=f;t(e);c()},s));var l=function t(i){if(("*"===n||n===i.origin)&&i.source===m&&i.data.penpal===r){x("Child: Received handshake reply");v.removeEventListener(u,t);var s={localName:"Child",local:v,remote:m,remoteOrigin:i.origin};var l={};_(s,a,h);q(l,s,i.data.methodNames,c,h);clearTimeout(o);e(l)}};v.addEventListener(u,l);h.then(function(){v.removeEventListener(u,l);var e=new Error("Connection destroyed");e.code=d;t(e)});x("Child: Sending handshake");m.postMessage({penpal:i,methodNames:Object.keys(a)},n)});return{promise:g,destroy:c}};var T=b;t.default=T},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(90),n(118),n(91)],r=function(e,t,n,i){function r(e){return(t.basePath||"/")+e}function o(e,t){var n;n=e&&""!==e?t.name+"/"+e:t.name;return n}function a(t,n,r){var o=e.defer();h("",n&&n.path||"",r).then(function(e){var n=s(t,e);if(!n){o.reject(new Error(i.get("UploadedFilesFolder.Error.NotAllowedFileType",[t.name])));return o.promise}try{encodeURIComponent(t.name)}catch(e){o.reject(new Error(i.get("UploadedFilesFolder.Error.IllegalCharsInFilename",[t.name])));return o.promise}l(t,e).then(function(){o.resolve(true)},function(e){o.reject(e)})});return o.promise}function s(e,n){if(!n.allowedExtensions)return false;return n.allowedExtensions.some(function(n){return t.hasFileExtension(e.name,n)})}function l(t,n){var r=e.defer();var o=n.maxSize;var a=n.maxSize-n.size;var s=u(t.size,Math.floor);"number"===typeof o&&o>0&&t.size>o?r.reject({message:i.get("UploadedFilesFolder.Error.MaxFileSizeExceeded",[t.name,s,u(o,Math.ceil)])}):"number"===typeof a&&t.size>a?r.reject({message:i.get("UploadedFilesFolder.Error.AvailableSpaceExceeded",[t.name,s,u(a,Math.ceil)])}):r.resolve();return r.promise}function u(e,t){var n=[i.get("UploadedFilesFolder.FileSizeUnit.Bytes"),i.get("UploadedFilesFolder.FileSizeUnit.KB"),i.get("UploadedFilesFolder.FileSizeUnit.MB")];var r=i.get("UploadedFilesFolder.FileSize.NA");if(e>0){var o=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);r=t?t(e/Math.pow(1024,o)*10)/10+n[o]:Math.ceil(e/Math.pow(1024,o)*10)/10+n[o]}return r}function c(t,n,i,a,s){var l=new FormData;a&&""!==a?l.append("folder",a):l.append("path",o(i,n));l.append("file",t);s&&""!==s&&l.append("appId",s);var u=e.defer();var c=e.getService("$http");c.post(r("api/v1/datafiles"),l,{headers:{"Content-Type":void 0},transformRequest:e.identity,uploadEventHandlers:{progress:function e(t){if(t.lengthComputable){var e=t.loaded/Math.max(Math.max(t.total,t.loaded),1);u.notify(e)}}}}).then(function(){u.resolve(t)},function(e){u.reject(e.data)});return u.promise}function d(t,n,i){var o=new FormData;i&&""!==i&&o.append("name",i);o.append("file",n);var a=e.defer();var s=e.getService("$http");s.put(r("api/v1/datafiles/"+encodeURIComponent(t)),o,{headers:{"Content-Type":void 0},transformRequest:e.identity,uploadEventHandlers:{progress:function e(t){if(t.lengthComputable){var e=t.loaded/Math.max(Math.max(t.total,t.loaded),1);a.notify(e)}}}}).then(function(){a.resolve(n)},function(e){a.reject(e.data)});return a.promise}function f(t){var n=e.defer();var i=e.getService("$http");i.delete(r("api/v1/datafiles/"+encodeURIComponent(t))).then(function(){n.resolve(true)},function(e){n.reject(e.data)});return n.promise}function p(t,n,i,a){var s={};t&&""!==t||(s["path"]=o(n,i));a&&""!==a&&(s["appId"]=a);var l=e.defer();var u=e.getService("$http");u.get(r("api/v1/datafolders"+(t&&""!==t?encodeURIComponent(t)+"/":"/")+"items"),{params:s}).then(function(e){l.resolve(e.data)},function(){l.reject()});return l.promise}function h(t,n,i,a){var s={};t&&""!==t||(s["path"]=o(n,i));a&&""!==a&&(s["appId"]=a);var l=e.defer();var u=e.getService("$http");u.get(r("api/v1/datafolders"+(t&&""!==t?encodeURIComponent(t)+"/":"/info")),{params:s}).then(function(e){l.resolve(e.data)},function(){l.reject()});return l.promise}var v=(new XMLHttpRequest).upload;function m(){return v}function g(e){return this.isDatafilesConnection(e)}function b(e){if(!e||!e.name)return false;return"MyDataFiles"===e.name}function y(e){if(!e||!e.connectionString||!e.type)return false;if("datafiles.exe"===e.type.provider)return true;if("folder"!==e.type.provider)return false;return n.startsWith(e.connectionString,"/qlik/datafiles")}return{isMyDataFilesConnection:b,isDatafilesConnection:y,isFileUploadEnabled:g,isFileUploadSupported:m,uploadFile:c,updateFile:d,deleteFile:f,listFolder:p,getFolderInfo:h,preUploadValidateFile:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.FeaturesProvider=void 0;var i=l(n(98));var r=s(n(116));var o=s(n(108));var a=s(n(49));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return u(e)}function c(e,t){return p(e)||f(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function f(e,t){var n=[];var i=true;var r=false;var o=void 0;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;o=e}finally{try{i||null==a["return"]||a["return"]()}finally{if(r)throw o}}return n}function p(e){if(Array.isArray(e))return e}function h(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){h(o,i,r,a,s,"next",e)}function s(e){h(o,i,r,a,s,"throw",e)}a(void 0)})}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function b(e,t,n){t&&g(e.prototype,t);n&&g(e,n);return e}function y(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;return w(e)}function x(e){x=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return x(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&C(e,t)}function C(e,t){C=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return C(e,t)}var E=i.default.createContext();var q=E.Consumer,_=E.Provider;var T=function(e){S(t,e);function t(){var e;m(this,t);e=y(this,x(t).call(this));e.state={ready:false,capability:null,engineFeatures:null,isPersonalMode:null,getFlag:a.default.getFlag};e.callFeatureService=e.callFeatureService.bind(w(e));return e}b(t,[{key:"componentDidMount",value:function e(){this.mounted=true;this.callFeatureService()}},{key:"componentWillUnmount",value:function e(){this.mounted=false}},{key:"callFeatureService",value:function(){var e=v(regeneratorRuntime.mark(function e(){var t=this;var n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:n=this.props.app;return i.abrupt("return",Promise.all([n.global.getConfiguration(),a.default.load().catch(Promise.resolve)]).then(function(e){var n=c(e,2),i=n[0],r=n[1];var a=i.qFeatures;t.mounted&&t.setState({capability:r,isPersonalMode:o.default.isPersonalModeSync(),engineFeatures:a,ready:true})}));case 2:case"end":return i.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(){var t=this.props.children;var n=this.state,r=n.ready,o=n.capability,a=n.engineFeatures,s=n.isPersonalMode,l=n.getFlag;return i.default.createElement(_,{value:{capability:o,engineFeatures:a,isPersonalMode:s,getFlag:l}},r&&t)}}]);return t}(i.PureComponent);t.FeaturesProvider=T;T.propTypes={children:r.default.node.isRequired,app:r.default.object.isRequired};var k=q;t.default=k},function(e,t,n){"use strict";var i,r;!(i=[n(118),n(91)],r=function(e,t){var n=false;var i={Removable:"REMOVABLE",Fixed:"FIXED",Cd_rom:"CD_ROM",Ram:"RAM",UnknownType:"UNKNOWN_TYPE"};function r(t,n){t=t||[];function i(t){return{name:e.removeSurroundingSlashes(t.qDrive),extraInfo:t.qUnnamedDrive?o(t.qTypeIdentifier,t):t.qName,path:t.qDrive,isFile:false}}var r=t.map(i);s(r);n||u(r,"");return r}function o(e,n){switch(e){case i.Removable:return t.get("DriveName.0");case i.Fixed:return t.get("DriveName.1");case i.Cd_rom:return t.get("DriveName.2");case i.Ram:return t.get("DriveName.3");case i.UnknownType:return t.get("DriveName.4");default:return n.qName}}function a(e,t){if(void 0===t)return true;for(var n=0;n<t.length;n++)if(e.match(t[n]))return true;return false}function s(t){t.sort(function(t,n){return t.isFile===n.isFile?e.sortSlightlyMoreNaturallySingle(t.name,n.name):t.isFile?1:-1})}function l(e){if(e&&e.match(/^\\\\.*/)){var t=e.replace(/^\\\\/,"");return t.split("\\").length<=1}return false}function u(t,i){var r=e.goUpOneFolderLevel(i);n?t.unshift({name:"",path:r,isFile:false,isAtRoot:0===i.length||l(r),disabled:false}):t.unshift({name:"",path:r,isFile:false,disabled:0===i.length||l(r)})}function c(e){function t(t){return!t.isFile||a(t.name,e)}return t}function d(t,n,i,r){function o(n){return{name:n.qName,path:t+(e.endsWith(t,"\\")?"":"\\")+n.qName,isFile:"FILE"===n.qType}}var a=n.map(o).filter(c(i));s(a);r||u(a,t);return a}function f(t,n,i,r){t=t||"";var o=n.folders.map(function(n){return{id:n.id,name:n.name,path:t+(e.endsWith(t,"\\")?"":"\\")+n.name,isFile:false}});o=o.concat(n.files.map(function(n){return{id:n.id,name:n.name,path:t+(e.endsWith(t,"\\")?"":"\\")+n.name,isFile:true}}));o=o.filter(c(i));s(o);r||u(o,t);return o}function p(t,n,i,r,o){function a(n){return{name:n.name,id:n.id,path:t?t+(e.endsWith(t,"\\")?"":"\\")+n.name:n.name,isFile:false,isRemote:true,extraInfo:""}}function l(n){return{name:n.name,id:n.id,path:t?t+(e.endsWith(t,"\\")?"":"\\")+n.name:n.name,isFile:true,isRemote:true,extraInfo:""}}var d=n.map(a);d=d.concat(i.map(l).filter(c(r)));s(d);o||u(d,t);return d}return{setNewBackStyle:function e(){n=true},postProcessDirectoryListing:d,postProcessDriveListing:r,postProcessDatafilesListing:f,postProcessStorageProviderDirectoryListing:p}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(1e3),n(1023),n(91),n(49),n(404)],r=function(e,t,n,i,r,o,a){e.directive("qvRain",[function(){return{replace:true,template:i,restrict:"E",scope:{show:"=",model:"=",resize:"=?",messageObj:"=?"},link:function e(i,s){var l;i.objectSRloading=r.get("Accessibility.object.Loading");i.rainStyle={};i.isLoadingCardImageFlag=o.getFlag("LOADING_CARD_IMAGES");i.animation=null;function u(){var e=s[0].getBoundingClientRect(),t=Math.min(e.width,e.height);t*=.3;i.rainStyle.height=t+"px";i.rainStyle.width=t+"px";i.rainStyle.top=(e.height-t)/2;i.rainStyle.left=(e.width-t)/2}function c(e){var r={container:s.find(".rain-image-container")[0],renderer:"svg",loop:true,autoplay:true};n().then(function(n){t.getJSON(e,function(e){r.animationData=e;i.animation=n.loadAnimation(r);i.animation.play()})})}function d(){if(i.animation){i.animation.stop();i.animation.destroy();i.animation=null}}i.$watch("show",function(e){if(void 0===e)return;e&&u()});i.$watch("model",function(e){if(i.isLoadingCardImageFlag){var t=e?e.genericType:"";e&&e.layout&&e.layout.qUndoExclude&&e.layout.qUndoExclude.generated&&(t=e.layout.qUndoExclude.generated.visualization);c(a.getLoadingImageAnimationUrlFromChartType(t))}});i.resize&&(l=i.resize(u));u();i.$on("$destroy",function(){l&&l();i.isLoadingCardImageFlag&&d()})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=function e(){return n.e(73).then(n.t.bind(null,1271,7)).then(function(e){return e})};t.default=i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=u(n(98));var r=l(n(116));var o=n(171);var a=l(n(91));var s=l(n(167));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function c(e){c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return c(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function p(e,t,n){t&&f(e.prototype,t);n&&f(e,n);return e}function h(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;return m(e)}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&b(e,t)}function b(e,t){b=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return b(e,t)}var y=function(e){g(t,e);function t(e){var n;d(this,t);n=h(this,v(t).call(this,e));n.state={};n.onClick=n.onClick.bind(m(n));n.onKeyDown=n.onKeyDown.bind(m(n));n.onClickNewTab=n.onClickNewTab.bind(m(n));return n}p(t,[{key:"shouldComponentUpdate",value:function e(t){var n=t.disabled;var i=this.props.disabled;return n!==i}},{key:"onClick",value:function e(t){var n=this.props,i=n.onSelect,r=n.disabled;r||i(t)}},{key:"onKeyDown",value:function e(t){var n=this.props,i=n.onSelect,r=n.disabled;r||t.keyCode!==s.default.ENTER&&t.keyCode!==s.default.SPACE||i(t)}},{key:"onClickNewTab",value:function e(t){var n=this.props,e=n.onClickNewTab,i=n.disabled;if(!i){e(t);t.preventDefault();t.stopPropagation()}}},{key:"render",value:function e(){var t=this.props,n=t.tid,r=t.iconName,s=t.children,l=t.title,u=t.disabled,c=t.selectable,d=t.showOpenInTab,f=t.divider;var p=c&&!u?0:-1;var h="qs-toolbar__menu-item";c||(h+=" no-hover");return i.default.createElement(o.List.Item,{className:h,role:"menuitem",tid:n,onClick:this.onClick,onKeyDown:this.onKeyDown,title:l,disabled:u,tabIndex:p},i.default.createElement(o.List.Aside,{className:"qs-toolbar__menu-item-icon"},i.default.createElement(o.Icon,{name:r})),i.default.createElement(o.List.Text,null,s),d?i.default.createElement(i.default.Fragment,null,f&&i.default.createElement("div",{className:"list-divider"}),i.default.createElement(o.List.Aside,{className:"lui-nopad"},i.default.createElement(o.FadeButton,{disabled:u,title:a.default.get("Tooltip.OpenInNewTab"),onClick:f?this.onClickNewTab:this.onClick,tabIndex:"-1"},i.default.createElement(o.FadeButton.Icon,{name:"new-tab",style:{textAlign:"center",margin:"auto"}})))):null)}}]);return t}(i.Component);y.propTypes={tid:r.default.string.isRequired,title:r.default.string,iconName:r.default.string.isRequired,onSelect:r.default.func,onClickNewTab:r.default.func,disabled:r.default.bool,selectable:r.default.bool,children:r.default.node.isRequired,showOpenInTab:r.default.bool,divider:r.default.bool};y.defaultProps={disabled:false,onSelect:function e(){},onClickNewTab:function e(){},title:"",selectable:true,showOpenInTab:false,divider:true};var x=y;t.default=x;e.exports=t.default},,,function(e,t,n){var i;(function(r){function o(e,t,n,i,r){this._listener=t;this._isOnce=n;this.context=i;this._signal=e;this._priority=r||0}o.prototype={active:true,params:null,execute:function(e){var t,n;if(this.active&&!!this._listener){n=this.params?this.params.concat(e):e;t=this._listener.apply(this.context,n);this._isOnce&&this.detach()}return t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function a(e,t){if("function"!==typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function s(){this._bindings=[];this._prevParams=null;var e=this;this.dispatch=function(){s.prototype.dispatch.apply(e,arguments)}}s.prototype={VERSION:"1.0.0",memorize:false,_shouldPropagate:true,active:true,_registerListener:function(e,t,n,i){var r=this._indexOfListener(e,n),a;if(-1!==r){a=this._bindings[r];if(a.isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else{a=new o(this,e,t,n,i);this._addBinding(a)}this.memorize&&this._prevParams&&a.execute(this._prevParams);return a},_addBinding:function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){var n=this._bindings.length,i;while(n--){i=this._bindings[n];if(i._listener===e&&i.context===t)return n}return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,n){a(e,"add");return this._registerListener(e,false,t,n)},addOnce:function(e,t,n){a(e,"addOnce");return this._registerListener(e,true,t,n)},remove:function(e,t){a(e,"remove");var n=this._indexOfListener(e,t);if(-1!==n){this._bindings[n]._destroy();this._bindings.splice(n,1)}return e},removeAll:function(){var e=this._bindings.length;while(e--)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=false},dispatch:function(e){if(!this.active)return;var t=Array.prototype.slice.call(arguments),n=this._bindings.length,i;this.memorize&&(this._prevParams=t);if(!n)return;i=this._bindings.slice();this._shouldPropagate=true;do{n--}while(i[n]&&this._shouldPropagate&&false!==i[n].execute(t))},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var l=s;l.Signal=s;true;!(i=function(){return l}.call(t,n,t,e),void 0!==i&&(e.exports=i))})(this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(n(49));var r=a(n(91));var o=a(n(214));function a(e){return e&&e.__esModule?e:{default:e}}var s=null;var l=false;function u(){var e=null;if(l){if(o.default.isAppDirty())return r.default.get("Application.UnsavedChanges");return null}if(s){s.scriptModel&&s.scriptModel.debugDriver&&(e=r.default.get("scripteditor.debugger.debuggerisinprogresswarning"));s.progressIndicator&&s.progressIndicator.isActive()&&(e=r.default.get("Application.ReloadOngoing"))}o.default.isSaveOngoing()&&(e=r.default.get("Application.SaveOngoingWarning"));o.default.isAppDirty()&&(e=r.default.get("Application.UnsavedChanges"));return e}function c(){s=null;l=false;window.onbeforeunload=null}function d(e,t){c();s=e;l=t;window.onbeforeunload=function e(){if(i.default.getFlag("DISABLE_UNSAVED_CHECK"))return;if(o.default.isAutoSaveOn()){if(o.default.isSaveOngoing())return r.default.get("Application.SaveOngoingWarning");return null}return u()}}var f={getMessage:u,setBeforeUnloadFunctions:d,unsetBeforeUnloadFunctions:c};t.default=f;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.loadFromDatasource=f;t.loadComponent=p;var i=o(n(1041));var r=n(59);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function s(e){a(o,i,r,s,l,"next",e)}function l(e){a(o,i,r,s,l,"throw",e)}s(void 0)})}}function l(e,t){return u.apply(this,arguments)}function u(){u=s(regeneratorRuntime.mark(function e(t,i){var r;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:o.t0=t;o.next="folder"===o.t0?3:"qix-datafiles.exe"===o.t0?7:"ODBC"===o.t0?11:"OLEDB"===o.t0?15:"internet"===o.t0?19:"BDI"===o.t0?23:27;break;case 3:o.next=5;return Promise.all([n.e(16),n.e(27)]).then(n.t.bind(null,1485,7));case 5:r=o.sent;return o.abrupt("break",28);case 7:o.next=9;return Promise.all([n.e(16),n.e(27)]).then(n.t.bind(null,1486,7));case 9:r=o.sent;return o.abrupt("break",28);case 11:o.next=13;return n.e(28).then(n.t.bind(null,1487,7));case 13:r=o.sent;return o.abrupt("break",28);case 15:o.next=17;return n.e(29).then(n.t.bind(null,1490,7));case 17:r=o.sent;return o.abrupt("break",28);case 19:o.next=21;return Promise.all([n.e(16),n.e(30)]).then(n.t.bind(null,1491,7));case 21:r=o.sent;return o.abrupt("break",28);case 23:o.next=25;return Promise.all([n.e(6),n.e(5),n.e(12),n.e(8),n.e(26)]).then(n.t.bind(null,1493,7));case 25:r=o.sent;return o.abrupt("break",28);case 27:return o.abrupt("return",Promise.reject("No native connector with type: "+t));case 28:return o.abrupt("return",r[i]);case 29:case"end":return o.stop()}},e)}));return u.apply(this,arguments)}function c(e,t){return d.apply(this,arguments)}function d(){d=s(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return(0,r.loadConnectorAMD)();case 2:return i.abrupt("return",new Promise(function(e,i){var r=t[n];window.requirejs([r],e,i)}));case 3:case"end":return i.stop()}},e)}));return d.apply(this,arguments)}function f(e,t){return e.isIframeCompatible&&"connectorMain"!=t?i.default.getComponent(e,t):e.isStandardConnector()?l(e.getConnectorType(),t):c(e.datasource.connectorType,t)}function p(e,t){return e.isIframeCompatible&&"connectorMain"!=t?i.default.getComponent(e.type,t):e.isStandardConnector?l(e.type,t):c(e,t)}},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(90),n(91)],r=function(e,t,n){function i(e){return(t.basePath||"/")+e}function r(e,t){var n;n=e&&""!==e?t.name+"/"+e:t.name;return n}function o(t,i,r){var o=e.defer();p("",i&&i.path||"",r).then(function(e){var i=a(t,e);if(!i){o.reject(new Error(n.get("UploadedFilesFolder.Error.NotAllowedFileType",[t.name])));return o.promise}try{encodeURIComponent(t.name)}catch(e){o.reject(new Error(n.get("UploadedFilesFolder.Error.IllegalCharsInFilename",[t.name])));return o.promise}s(t,e).then(function(){o.resolve(true)},function(e){o.reject(e)})});return o.promise}function a(e,n){if(!n.allowedExtensions)return false;return n.allowedExtensions.some(function(n){return t.hasFileExtension(e.name,n)})}function s(t,i){var r=e.defer();var o=i.maxSize;var a=i.maxSize-i.size;var s=l(t.size,Math.floor);"number"===typeof o&&o>0&&t.size>o?r.reject({message:n.get("UploadedFilesFolder.Error.MaxFileSizeExceeded",[t.name,s,l(o,Math.ceil)])}):"number"===typeof a&&t.size>a?r.reject({message:n.get("UploadedFilesFolder.Error.AvailableSpaceExceeded",[t.name,s,l(a,Math.ceil)])}):r.resolve();return r.promise}function l(e,t){var i=[n.get("UploadedFilesFolder.FileSizeUnit.Bytes"),n.get("UploadedFilesFolder.FileSizeUnit.KB"),n.get("UploadedFilesFolder.FileSizeUnit.MB")];var r=n.get("UploadedFilesFolder.FileSize.NA");if(e>0){var o=Math.min(Math.floor(Math.log(e)/Math.log(1024)),i.length-1);r=t?t(e/Math.pow(1024,o)*10)/10+i[o]:Math.ceil(e/Math.pow(1024,o)*10)/10+i[o]}return r}function u(t,n,r,o,a){var s=new FormData;s.append("data",t);var l=e.defer();var u=e.getService("$http");u.post(i("api/v1/qix-datafiles"),s,{headers:{"Content-Type":void 0},transformRequest:e.identity,uploadEventHandlers:{progress:function e(t){if(t.lengthComputable){var e=t.loaded/Math.max(Math.max(t.total,t.loaded),1);l.notify(e)}}},params:{name:t.name}}).then(function(){l.resolve(t)},function(e){l.reject(e.data)});return l.promise}function c(t,n,r){var o=new FormData;o.append("data",n);var a=e.defer();var s=e.getService("$http");s.put(i("api/v1/qix-datafiles/"+encodeURIComponent(t)),o,{headers:{"Content-Type":void 0},transformRequest:e.identity,uploadEventHandlers:{progress:function e(t){if(t.lengthComputable){var e=t.loaded/Math.max(Math.max(t.total,t.loaded),1);a.notify(e)}}},params:{name:r}}).then(function(){a.resolve(n)},function(e){a.reject(e.data)});return a.promise}function d(t){var n=e.defer();var r=e.getService("$http");r.delete(i("api/v1/qix-datafiles/"+encodeURIComponent(t))).then(function(){n.resolve(true)},function(e){n.reject(e.data)});return n.promise}function f(t,n,r,o){var a={};o&&""!==o&&(a["scopedAppId"]=o);var s=e.defer();var l=e.getService("$http");l.get(i("api/v1/qix-datafiles"),{params:a}).then(function(e){s.resolve({files:e.data,folders:[]})},function(){s.reject()});return s.promise}function p(){var t={};var n=e.defer();var r=e.getService("$http");r.get(i("api/v1/qix-datafiles/quota"),{params:t}).then(function(e){n.resolve(e.data)},function(){n.reject()});return n.promise}var h=(new XMLHttpRequest).upload;function v(){return h}function m(e){return this.isDatafilesConnection(e)}function g(e){if(!e||!e.name)return false;return"MyDataFiles"===e.name}function b(e){if(!e||!e.connectionString||!e.type)return false;return"qix-datafiles.exe"===e.type.provider}return{isMyDataFilesConnection:g,isDatafilesConnection:b,isFileUploadEnabled:m,isFileUploadSupported:v,uploadFile:u,updateFile:c,deleteFile:d,listFolder:f,getFolderInfo:p,preUploadValidateFile:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(493)],r=function(e,t){var n=function e(){};var i=["$Table","$Field","$Fields","$FieldNo","$Rows","$Info"];var r=256;var o=r;var a=256;n.prototype.systemFields=i;n.prototype.validateFieldName=function(n,o,a){var s=[];"="===a.charAt(0)&&s.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.InvalidCharacters")});a.length>r&&s.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.MaxLength",r)});""===a&&s.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.Empty")});var l=t.LoadModelAssociations.getDuplicateFieldInfo(n,o,a);l.duplicateInSameTable&&s.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.Unique")});l.otherTable&&s.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.UniqueOtherTable",l.otherTable)});if(l.associatedTables){var u=l.associatedTables.sort().reduce(function(e,t){return e+" - "+t});s.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.UniqueAssociation",u)})}-1!==i.indexOf(a)&&s.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.System")});return s};n.prototype.validateAssociationName=function(n,a,s,l,u){var c=[];s.length>o&&c.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.AssociationName.MaxLength",r)});""===s&&c.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.AssociationName.Empty")});-1!==i.indexOf(s)&&c.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.AssociationName.System")});a.every(function(i){if(i){var r=t.LoadModelAssociations.getDuplicateFieldInfo(n,i,s,l);if(r.otherTable){var o=a.some(function(e){return e.data.name===r.otherTable});var d=!!u&&u.some(function(e){return e===s});if(!o||!d){c.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.AssociationName.UniqueOtherTable",r.otherTable)});return false}}}return true});return c};n.prototype.validateTableName=function(t,n,i){var o=[];""===i&&o.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.TableName.Empty")});i.length>a&&o.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.TableName.MaxLength",r)});t.isTargetTableNameInUse(i,[n])&&o.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.TableName.Unique")});return o};n.prototype.checkConcatName=function(e,t,n,i,r){var o={otherTable:"",duplicateInSameTable:false};var a=n.filter(function(e){return e.name===r});a.length>1?o.duplicateInSameTable=true:1==a.length&&a[0]!=i&&(o.duplicateInSameTable=true);e.targetTableModels.forEach(function(e){var n=t.filter(function(t){return t.data.name===e.data.name});if(0===n.length){var i=e.getFields().filter(function(e){return e.name===r});i.length>0&&(o.otherTable=e.data.name)}});return o};n.prototype.validateConcatFieldName=function(t,n,o,a,s){var l=[];s.length>r&&l.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.MaxLength",r)});""===s&&l.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.Empty")});var u=this.checkConcatName(t,n,o,a,s);u.duplicateInSameTable&&l.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.Unique")});u.otherTable&&l.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.UniqueOtherTable",u.otherTable)});-1!==i.indexOf(s)&&l.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.FieldName.System")});return l};n.prototype.validateConcatTableName=function(t,n,i){var o=[];""===i&&o.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.TableName.Empty")});i.length>a&&o.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.TableName.MaxLength",r)});t.targetTableModels.forEach(function(t){var r=n.filter(function(e){return e.data.name===t.data.name});0===r.length&&t.data.name==i&&o.push({type:"error",msg:e.get("DataManager.GridEditor.Validator.TableName.Unique")})});return o};return new n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(n(1361));var r=s(n(1362));var o=s(n(1363));var a=s(n(1364));function s(e){return e&&e.__esModule?e:{default:e}}i.default.Icon=r.default;i.default.Text=o.default;i.default.Caret=a.default;var l=i.default;t.default=l;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i={opening:0,open:1,closing:2,closed:3};t.default=i;e.exports=t.default},function(e,t){e.exports='<div qva-direction class="qv-selection-toolbar qvt-selection-toolbar"\n\t ng-style="toolbar.style"\n\t ng-class="{ \'sel-toolbar-card\': !options.isPopover, \'sel-toolbar-popover\': options.isPopover, \'sel-toolbar-click-to-unlock-bg\': locked, \'sel-toolbar-menu-item\': locked }"\n\t ng-click="locked && toggleLock($event);">\n    <div class="sel-toolbar-list-wrapper">\n\t\t<table class="sel-toolbar-list">\n            <tr>\n                <td ng-if="toolbar.showLock || locked" class="sel-toolbar-list-item sel-toolbar-list-item-lockunlock">\n                    <button tid="selection-toolbar.lock"\n                            class="sel-toolbar-btn sel-toolbar-icon"\n                            q-title-translation="{{locked ? \'SelectionToolbar.ClickToUnlock\' : \'SelectionToolbar.ClickToLock\'}}"\n                            ng-disabled="locked ? false : !toolbar.backendApi.hasSelections()"\n                            ng-click="!locked && toggleLock($event);">\n                        <span class="lui-icon sel-toolbar-span-icon" ng-class="!locked ? \'lui-icon--unlock\':\'lui-icon--lock sel-toolbar-menu-span-icon\'"></span>\n                    </button>\n                </td>\n\t\t\t\t<td class="sel-toolbar-list-item" ng-class="{ \'sel-toolbar-list-item-hide-more\': !shouldShowBtnMore() }">\n\t\t\t\t\t<button tid="selection-toolbar.toggleShowMenu"\n\t\t\t\t\t\t\t\t\tclass="sel-toolbar-btn sel-toolbar-icon sel-toolbar-icon-toggle"\n\t\t\t\t\t\t\t\t\tng-class="{ \'menu-active\': toolbar.showMenu }"\n\t\t\t\t\t\t\t\t\tq-title-translation="{{toolbar.showMenu ? \'Tooltip.CloseSelectionMenu\' : \'Tooltip.SelectionMenu\'}}"\n\t\t\t\t\t\t\t\t\tng-click="toggleShowMenu($event)">\n\t\t\t\t\t\t<span class="lui-icon  lui-icon--more"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</td>\n                <td ng-show="locked" class="sel-toolbar-list-item-locked">\n                    <p class="sel-toolbar-menu-text" q-translation="SelectionToolbar.ClickToUnlock"></p>\n                </td>\n                <td ng-show="locked && options.smallDevice" ng-click="toolbar.selectionsApi.confirm()" class="sel-toolbar-list-item-close">\n                    <qui-toolbarbutton>\n                        <span class="sel-toolbar-menu-text sel-toolbar-btn-close-text" q-translation="Common.Close"></span>\n                    </qui-toolbarbutton>\n\t\t\t\t</td>\n\t\t\t\t<td ng-repeat="select in selectComponents" class="sel-toolbar-list-item-optionslist">\n\t\t\t\t\t<select ng-show="shouldShowSelect(select)" ng-disabled="shouldDisableSelect(select)" tid="select.tid" q-title-translation="{{select.name}}" ng-style="{width: select.width}" class="lui-select" ng-model="select.value" ng-change="select.action(select)">\n\t\t\t\t\t\t<option ng-if="select.noSelectOption" value="{{select.noSelectOption.value || \'\'}}">{{select.noSelectOption.label || select.noSelectOption.value || ""}}</option>\n\t\t\t\t\t\t<option ng-repeat="option in select.options" value="{{option.value}}">{{option.label || option.value}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</td>\n                <td ng-show="!locked" ng-repeat="button in filteredButtons" class="sel-toolbar-list-item" ng-class="button.clazz">\n                    <button tid="{{button.tid}}"\n                            ng-click="buttonAction($event, button)"\n                            q-title-translation="{{button.name}}"\n                            ng-disabled="buttonIsDisabled(button)"\n                            class="sel-toolbar-btn"\n                            ng-class="[button.buttonClass, button.isIcon ? \'sel-toolbar-icon\' : \'\', button.isActive(this) ? \'menu-active\' : \'\']">\n                        <span class="sel-toolbar-span-icon lui-icon" ng-class="button.iconClass"></span>\n                    </button>\n                </td>\n            </tr>\n        </table>\n\n\t</div>\n\t\n\t\x3c!-- Menu container (drop-down) --\x3e\n\t<div ng-if="toolbar.showMenu" class="sel-toolbar-menu" ng-style="toolbar.menuStyle"\n\t\t qva-delegated-activate="div:not(.disabled)#menuAction($event);">\n\n\t\t \x3c!-- Menu "go back"-button for sub-levels --\x3e\n\t\t <div ng-if="levels.length > 0" class="sel-toolbar-menu-item back-item" tid="sel-toolbar-menu-back">\n\t\t\t<table class="sel-toolbar-menu-table">\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<span class="sel-toolbar-menu-span-icon lui-icon lui-icon--triangle-left" ng-class="button.iconClass"></span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p class="sel-toolbar-menu-text" q-translation="Back"></p>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\n\t\t\x3c!-- Menu buttons --\x3e\n\t\t<div ng-repeat="button in currentMenuButtons" class="sel-toolbar-menu-item"\n\t\t\t tid="{{button.tid}}"\n\t\t\t q-title-translation="{{button.name}}"\n\t\t\t ng-class="{\'disabled\': buttonIsDisabled(button), \'selected\': isButtonSelected( button ) }">\n\t\t\t<table class="sel-toolbar-menu-table" ng-class="{ \'selection-toolbar-menu-table-align-center\': !filteredButtons.length }">\n\t\t\t\t<tr>\n\n\t\t\t\t\t\x3c!-- Button icon --\x3e\n\t\t\t\t\t<td ng-if="button.iconClass">\n\t\t\t\t\t\t<span class="sel-toolbar-menu-span-icon lui-icon" ng-class="button.iconClass"></span>\n\t\t\t\t\t</td>\n\n\t\t\t\t\t\x3c!-- Button label --\x3e\n\t\t\t\t\t<td ng-if="filteredButtons.length || ( button.name && !button.iconClass )" ng-class="{\'menu-text-with-right-icon\': button.items}">\n\t\t\t\t\t\t<p class="sel-toolbar-menu-text" ng-class="{\'menu-text-without-left-icon\': !button.iconClass}" q-translation="{{button.name}}"></p>\n\t\t\t\t\t</td>\n\n\t\t\t\t\t\x3c!-- "Click to see more"-icon --\x3e\n\t\t\t\t\t<td ng-if="button.items">\n\t\t\t\t\t\t<span class="sel-toolbar-menu-span-icon next-icon lui-list__aside lui-icon lui-icon--triangle-right"></span>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={BUTTON_WIDTH:44,SEPARATOR_WIDTH:1,BORDER_SPACING:8,SELECT_DEFAULT_WIDTH:200,EXTRA_EDGE_PADDING:2,TYPE_BUTTON:"button",TYPE_SEPARATOR:"separator",TYPE_SELECT:"select"};Object.freeze(e);return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-object-wrapper" ng-class="wrapperClassList" x-ms-format-detection="none">\n\n\t<article class="qv-object qvt-visualization" ng-class="classList" tid="{{objectClass}}">\n\t\t<div class="qv-inner-object" ng-style="styles.backgroundColor">\n\t\t\t<qv-rain ng-if="object.throbberApi.isVisible" show="object.throbberApi.isVisible" resize="object.throbberApi.watchResize" model="object.model"></qv-rain>\n\t\t\t<div class="retry-overlay" ng-if="object.throbberApi.isQueryCanceled">\n\t\t\t\t<ul class="cancelled-list">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<div class="retry-text" q-translation="Object.Cancelled"></div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button class="retry-button lui-button" qva-activate="retry()" q-translation="Dialog.Button.Retry" tid="retry-calculations"></button>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="cancel-overlay" ng-if="object.throbberApi.isLongRunningQuery && !object.throbberApi.isQueryCanceled">\n\t\t\t\t<button class="cancel-button lui-button" ng-if="!object.throbberApi.isQueryCanceled" qva-activate="cancel()"\n\t\t\t\t\t\tq-translation="Common.Cancel" tid="cancel-calculations"></button>\n\t\t\t</div>\n\n\t\t\t<label class="hidden-screen-reader-label" q-translation="{{object.type.libraryInfo.isThirdParty ? object.type.libraryInfo.name : object.type.libraryInfo.translationKey}}"></label>\n\t\t\t<label ng-if="!layout.title" class="hidden-screen-reader-label" q-translation="Accessibility.Object.NoTitle"></label>\n\t\t\t<header qva-direction x-dir-setting="{{options.direction}}" ng-show="object.hasFrame" class="qv-object-header" ng-class="{\'thin\' : !object.showTitles || ( layout.title === \'\' && layout.subtitle === \'\' && !object._inEditState )}">\n\t\t\t\t<h1 ng-show="object.showTitles" qva-direction x-dir-setting="{{options.direction}}" ng-attr-title="{{layout.title}}" class="qv-object-title qvt-visualization-title" qva-activate="titleClicked();" ng-style="styles.title">\n\t\t\t\t\t<a ng-if="options.showSearch && object.isInteractive && !object.backendApi.isLocked() && !object._inEditState" q-title-translation="Common.Search" class="qv-object-search lui-icon lui-icon--search"\n\t\t\t\t\t   qva-activate="options.showSearch && options.search.toggle()"></a>\n\t\t\t\t\t<a ng-if="options.showSearch && object.isInteractive && object.backendApi.isLocked()" class="qv-object-locked lui-icon lui-icon--lock"\n\t\t\t\t\t   qva-activate="titleClicked()"></a>\n\t\t\t\t\t<span ng-if="options.showSearch && object.backendApi.isDrillDown()" class="lui-icon lui-icon--drill-down" q-title-translation="Tooltip.dimensions.drilldown"></span>\n\t\t\t\t\t<div ng-if="options.highlightTitle && (!object._inEditState || object._inEditState && object.isReadonly)" qve-highlight text="{{layout.title}}" query="options.highlightQuery" class="qv-object-title-text" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.title}}"></div>\n\t\t\t\t\t<div ng-if="!options.highlightTitle && (!object._inEditState || object._inEditState && object.isReadonly)" class="qv-object-title-text" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.title}}">{{layout.title}}</div>\n\t\t\t\t\t<div ng-if="options.showDisclaimerStar && !!layout.title && !object._inEditState" class="disclaimer qv-object-title-text">*</div>\n\t\t\t\t\t<div ng-if="object._inEditState && !object.isReadonly" qv-inline-title-edit x-dir-setting="{{options.direction}}" x-model="model" x-property-path="title" x-layout-path="title"\n\t\t\t\t\t\t x-empty-translation="Object.AddTitle" class="qv-object-title-edit" qva-direction x-dir-setting="{{options.direction}}"></div>\n\t\t\t\t</h1>\n\n\t\t\t\t<h2 ng-if="!!layout.subtitle && object.showTitles" ng-style="styles.subTitle" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.subtitle}}" ng-attr-title="{{layout.subtitle}}" ng-show="!!layout.subtitle" class="qv-object-subtitle qvt-visualization-subtitle">{{layout.subtitle}}</h2>\n\t\t\t</header>\n\n\t\t\t<div class="qv-object-content-container">\n\t\t\t\t<div class="qv-object-content" qv-object-content component="object.content" options="options" object="object" backend-api="object.backendApi" layout="layout"\n\t\t\t\t\t ext="object.ext" selections-api="object.selectionsApi" tooltip-api="object.tooltipApi" throbber-api="object.throbberApi" on-init="onInit">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-footer-wrapper" ng-show="object.hasFrame && object.showTitles && !!layout.footnote" ng-style="styles.footer">\n\t\t\t<footer qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.footnote}}" ng-attr-title="{{layout.footnote}}" ng-if="object.hasFrame && object.showTitles && !!layout.footnote" class="qv-object-footnote qvt-visualization-footnote">{{layout.footnote}}</footer>\n\t\t</div>\n\n\t</article>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(1015),n(94),n(89),n(205),n(97),n(321),n(402),n(403),n(1019),n(108)],r=function(e,t,n,i,r,o,a,s,l,u,c){var d=null;var f=r.extend({$scope:null,init:function t(i,r){this.$scope=i;this.$scope.hyperCubePath=i.object.ext.options.hyperCubePath;this.titleRetriever=l.create();function f(){n.model?i.showAdd=u.updateShowAdd(c.inClient(),n.isInEditMode(),i.object.isReadonly):i.showAdd=false}n.StateChanged.bind(f);i.$on("$destroy",function(){n.StateChanged.unbind(f)});f();i.removeDimension=function(e){i.object.model.getProperties().then(function(t){var n=i.object.getCreatePropertyHandler();n.setProperties(t);n.removeDimension(e).then(function(){i.object.model.setProperties(t)})})};i.removeMeasure=function(e){i.object.model.getProperties().then(function(t){var n=i.object.getCreatePropertyHandler();n.setProperties(t);n.removeMeasure(e).then(function(){i.object.model.setProperties(t)})})};function p(e){return i.object.ext.addFieldDimension(e,i.object).then(function(){b()})}function h(e){return i.object.ext.addLibraryDimension(e,i.object).then(function(){b()})}function v(e){return i.object.ext.addLibraryMeasure(e,i.object).then(function(){b()})}function m(e){return i.object.ext.addExpressionMeasure(e,i.object).then(function(){b()})}var g;i.showAddDimension=function(t,n){if(d&&d===n){g&&g.close();g=null;d=null;return}var o=i.ext.addDimensionPopoverComponent||a;var s;g=r.show({template:o.template,controller:o.controller,input:{app:i.object.model.app,closeAddPopover:b,addFieldDimension:p,addLibraryDimension:h},alignTo:t.target,closeOnEscape:true,outsideIgnore:".add-button",dock:"right"});g.closing.then(function(t){s=t;t&&!e(t.target).hasClass("add-button")&&(d=null)});g.closed.then(function(){g=null;n.active=false;s||(d=null)});n.active=true;d=n};i.showAddMeasure=function(t,n){if(d&&d===n){g&&g.close();g=null;d=null;return}var o=i.ext.addMeasurePopoverComponent||s;var a;g=r.show({template:o.template,controller:o.controller,input:{app:i.object.model.app,closeAddPopover:b,addLibraryMeasure:v,addExpressionMeasure:m},alignTo:t.target,closeOnEscape:true,dock:"right",outsideIgnore:'[tid="add-measure"]'});g.closing.then(function(t){a=t;t&&!e(t.target).hasClass("add-button")&&(d=null)});g.closed.then(function(){g=null;n.active=false;a||(d=null)});n.active=true;d=n};function b(t){if(g){g.close();g=null}d&&(d.active=false);t&&!e(t.target).hasClass("add-button")&&(d=null)}o.on("start",b);i.$on("$destroy",function(){o.off("start",b);b()})},onPaint:p});f.$inject=["$scope","luiPopover"];return{template:t,controller:f};function p(e){var t=this.$scope;var r=this;return this.$scope.object.model.getEffectiveProperties().then(function(o){var a;var s=r.titleRetriever;t.showAdd=u.updateShowAdd(c.inClient(),n.isInEditMode(),t.object.isReadonly);u.updateMinMax(t,e);t.iconName=t.object.ext.libraryInfo.icon;if(t.type!==t.object.type.type){a=t.object.getCreatePropertyHandler();r.propertyHandler=a;t.canRemoveDim=!!a.removeDimension;t.type=t.object.type.type;t.addDimensionLabel=a.getAddDimensionLabel()}else a=r.propertyHandler;a.setLayout(e);a.setProperties(o);s.resetTitles();var l=a.getDimensions().map(function(e){var t=e.qDef.cId;var n=a.getDimensionLayout(t);var i=n.qError&&n.qError.qErrorCode;return{invalid:!!i,title:s.getDimensionTitle(n,e,true)}});return i.all(a.getMeasures().map(function(e,t){var n=e.qDef.cId;var i=a.getMeasureLayout(n);i||(i=a.getMeasureLayouts()[t]);var r=i.qError&&i.qError.qErrorCode;return s.getMeasureTitle(i,e,true,a.app).then(function(e){return{invalid:!!r,title:e}})})).then(function(e){t.finishedDimensions=l;t.finishedMeasures=e;var n=!l.length&&t.maxDimensions>0;var i=!e.length&&t.maxMeasures>0;t.unfinishedDimensions=u.getArray(Math.max(0,t.minDimensions-l.length,n?1:0));t.unfinishedMeasures=u.getArray(Math.max(0,t.minMeasures-e.length,i?1:0));t.show=true})})}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div qv-requirements class="requirements-wrapper" ng-show="show" ng-class="{\'incomplete\': !showAdd}">\n\t<div class="requirements">\n\t\t<h2 class="header">\n\t\t\t<i class="object-icon  lui-icon  lui-icon--{{iconName}}"></i>\n\t\t</h2>\n\t<p class="incomplete-text" ng-if="!showAdd" q-translation="Visualization.Requirements.IncompleteVisualization"></p>\n\t\t\x3c!-- finished dimensions --\x3e\n\t\t<ul ng-if="showAdd && finishedDimensions.length">\n\t\t\t<li ng-repeat="dimension in finishedDimensions" class="item" ng-class="{ finished: !dimension.invalid, invalid: dimension.invalid }"\n\t\t\t\ttid="{{ dimension.invalid ? \'invalid-dimension\' : \'added-dimension\'}}">\n\t\t\t\t<span class="text" ng-class="{ \'no-icon\': !canRemoveDim }" title="{{dimension.title}}">{{dimension.title}}</span>\n\t\t\t\t<i ng-if="canRemoveDim" class="lui-icon lui-icon--remove" qva-activate="removeDimension($index)" q-title-translation="Common.Delete"></i>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\x3c!-- unfinished dimensions --\x3e\n\t\t<ul ng-if="showAdd && unfinishedDimensions.length">\n\t\t\t<li ng-repeat="d in unfinishedDimensions" class="item missing" tid="missing-dimension">\n\t\t\t\t<button class="add-button lui-button"  ng-class="{ \'lui-active\': d.active }" ng-click="showAddDimension($event,d)"\n\t\t\t\t\t\t\ttid="add-dimension">{{addDimensionLabel}}</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\x3c!-- finished measures --\x3e\n\t\t<ul ng-if="showAdd && finishedMeasures.length">\n\t\t\t<li ng-repeat="measure in finishedMeasures" class="item" ng-class="{ finished: !measure.invalid, invalid: measure.invalid }"\n\t\t\t\ttid="{{ measure.invalid ? \'invalid-measure\' : \'added-measure\'}}">\n\t\t\t\t<span class="text" title="{{measure.title}}">{{measure.title}}</span>\n\t\t\t\t<i class="lui-icon lui-icon--remove" qva-activate="removeMeasure($index)" q-title-translation="Common.Delete"></i>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\x3c!-- unfinished measures --\x3e\n\t\t<ul ng-if="showAdd && unfinishedMeasures.length">\n\t\t\t<li ng-repeat="m in unfinishedMeasures" class="item missing" tid="missing-measure">\n\t\t\t<button class="add-button lui-button"  ng-class="{ \'lui-active\': m.active }" ng-click="showAddMeasure($event,m)"\n\t\t\t\t\tq-translation="Visualization.Requirements.AddMeasure" tid="add-measure"></button>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>\n'},function(e,t){e.exports='<lui-popover class="add-popover-wrapper" style="min-width: 200px;width: 230px;" align-to="alignTo" position="position" collision="\'flipfit\'" on-close-view="closeAddPopover(event)" qva-outside-ignore-for="{{qvaOutsideIgnoreFor}}">\n\t<div ng-show="!step2">\n\t\t<object-add-typeahead>\n\t\t\t<lui-popover-header>\n\t\t\t\t\t<div class="lui-input-group">\n\t\t\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" name="new-measure" autocomplete="off" ng-model="search.term" tid="add-measure-input" qva-focus="autoFocus"\n\t\t\t\t\t\t\t   maxlength="255" object-add-typeahead-input on-escape="onEscape($event)" on-enter="onEnter($event)"/>\n\n\t\t\t\t\t\t<button ng-if="allowExpressionEditor !== false" class="lui-button  lui-input-group__item  lui-input-group__button" qva-activate="close()"\n\t\t\t\t\t\t\t\tpp-expression-editor="search.term" pp-expression-editor-on-apply="addExpressionMeasure({value:value})" expression-type="measure"\n\t\t\t\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor" tid="fx-button">\n\t\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression  edit-expression"></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t</lui-popover-header>\n\t\t\t<div class="object-add-popover-content" object-add-typeahead-menu>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="measure in activeMeasures" tid="measure-item"\n\t\t\t\t\t\tobject-add-typeahead-item="measure" on-select="addActiveMeasure(measure)">\n\t\t\t\t\t\t<span qve-highlight text="{{measure.translatedTitle}}" title="{{measure.translatedTitle}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-list-header" ng-if="measures.length"  q-translation="Common.Measures"></div>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="measure in measures" tid="measure-item"\n\t\t\t\t\t\tobject-add-typeahead-item="measure" on-select="addLibraryMeasure(measure)">\n\t\t\t\t\t\t<span qve-highlight text="{{measure.value}}" title="{{measure.value}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-list-header" ng-if="fields.length" q-translation="Visualization.Requirements.FromField"></div>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="field in fields" tid="field-item"\n\t\t\t\t\t\tobject-add-typeahead-item="field" on-select="showFromField(field)"\n\t\t\t\t\t\tng-class="{\'derived-field\': (field.isDerived && search.term === \'\')}"\t>\n\t\t\t\t\t\t<i ng-if="isDirectDiscoveryField( field )" class="lui-icon  lui-icon--direct-discovery  lui-list__aside" q-title-translation="{{ getDirectDiscoveryTypeTranslationKey( field.qTags ) }}"></i>\n\t\t\t\t\t\t<span ng-if="field.isGeoField" class="lui-icon lui-icon--map lui-list__aside"></span>\n\t\t\t\t\t\t<span ng-if="field.isDateField" class="lui-icon lui-icon--calendar lui-list__aside"></span>\n\t\t\t\t\t\t<span qve-highlight text="{{getFieldDisplayName(field)}}" title="{{field.toolTip}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t\t<i class="object-add-popover-toogle-step2-icon  lui-list__aside lui-icon  lui-icon--triangle-right"></i>\n\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-nohits" ng-if="!measures.length && !fields.length" q-translation="Toolbox.Search.Nohits"></div>\n\t\t\t</div>\n\t\t</object-add-typeahead>\n\t</div>\n\t<div class="object-add-popover back" ng-show="step2">\n\t\t<div class="object-add-popover-header">\n\t\t\t<div qva-activate="goBack($event);">\n\t\t\t\t<i class="object-add-popover-back-icon  lui-icon  lui-icon--triangle-left"></i>\n\t\t\t\t<span q-translation="Visualization.Requirements.Back"></span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="object-add-popover-content">\n\t\t\t<div class="object-add-popover-list-header" q-translation="Visualization.Requirements.Aggregation"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="suggestion in fieldSuggestions" qva-activate="addFromField(suggestion)" tid="from-field-item">\n\t\t\t\t\t<span class="lui-list__text lui-list__text--ellipsis" title="{{suggestion.aggregation}}({{suggestion.field}})">{{suggestion.aggregation}}({{suggestion.field}})</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</lui-popover>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(272),n(231),n(147)],r=function(e,t,n,i){function r(){this.measureTitles={}}r.prototype.getDimensionTitle=o;r.prototype.getMeasureTitle=a;r.prototype.resetTitles=s;return r;function o(e,i,r){if(!e)return"";if(e.qError&&!t.isCalcCondNotCalculatedErr(e.qError))return n.getDimensionError(e.qError.qErrorCode);var o=i.qLibraryId,a="H"===e.qGrouping;return a||o&&r?e.title||"":!o&&r?i.qDef.qLabelExpression||e.qFallbackTitle||"":e.qFallbackTitle||""}function a(e,t,n,i){var r=l(e,this.measureTitles);if(r)return r.promise;r=u(e,this.measureTitles);r.promise=c(e,t,n,i);return r.promise}function s(){this.measureTitles={}}function l(e,t){var n=d(e);return t[n]}function u(e,t){var n=d(e);var i={id:n,promise:null};t[n]=i;return i}function c(t,r,o,a){if(!t)return e.when("");var s=r.qLibraryId;if(t.qError)return e.when(n.getMeasureError(t.qError.qErrorCode));if(s&&o){if(!a)throw new Error("TitleRetriever: Argument 'app' is required");return i.get(s,a).then(function(e){return e.getProperties()}).then(function(e){return e.qMeasure.qLabel||""})}return!s&&o?e.when(r.qDef.qLabelExpression||t.qFallbackTitle||""):e.when(t.qFallbackTitle||"")}function d(e){return e&&e.cId}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div qv-errorhandler class="object-error" ng-class="error.class" tid="object.Error">\n\t<div class="object-error-content">\n\t\t<div class="object-error-title">\n\t\t\t<span>{{error.title}}</span>\n\t\t\t<i class="object-error-more lui-icon lui-icon--info lui-icon--large" ng-click="showMore($event)"></i>\n\t\t</div>\n\t\t<div ng-if="error.message" class="object-error-message">{{error.message}}</div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(281)],r=function(e){function t(e,t,n){return e?t&&!n:!n}function n(e){var t=new Array(e),n;for(n=0;n<e;++n)t[n]={index:n};return t}function i(t,n){if(t.layers&&t.layers[0]){var i=t.layers[0],r=i.qHyperCube.qDimensionInfo;return"point"===i.type?r[1].qError&&r[1].qError.qErrorCode?[r[1]]:[r[0]]:t.layers[0].qHyperCube.qDimensionInfo||[]}var o=e.getHyperCube(t,n);if(o)return o.qDimensionInfo||[];if(t.qChildList){var a=t.qChildList.qItems||[];return a.map(function(){return{}})}return t.qListObject&&t.qListObject.qDimensionInfo?[t.qListObject.qDimensionInfo]:[]}function r(t,n){var i=e.getHyperCube(t,n);return i&&i.qMeasureInfo||[]}function o(e,t){var n=e.ext.dimensionDefinition?e.ext.dimensionDefinition.min:0,o=e.ext.dimensionDefinition?e.ext.dimensionDefinition.max:0,a=e.ext.measureDefinition?e.ext.measureDefinition.min:0,s=e.ext.measureDefinition?e.ext.measureDefinition.max:0;var l=i(t,e.hyperCubePath),u=r(t,e.hyperCubePath);e.minDimensions="function"===typeof n?n.call(null,u.length):n;e.minMeasures="function"===typeof a?a.call(null,l.length):a;e.maxDimensions="function"===typeof o?o.call(null,u.length):o;e.maxMeasures="function"===typeof s?s.call(null,l.length):s}return{updateShowAdd:t,getArray:n,getDimensionInfo:i,getMeasureInfo:r,updateMinMax:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(95)],r=function(e){function t(t){t=t||{};e.publish("/ui/object/resize",t)}["/resize/end","/ui/panel/toggle","/ui/grid/cellswap","/ui/grid/cellresize","/ui/grid/cellsplitting","/ui/grid/zoom/activated","/ui/grid/zoom/deactivated"].forEach(function(n){e.subscribe(n,t)})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1022)],r=function(e,t){e.directive("qvThrobber",["$timeout",function(e){return{replace:true,template:t,restrict:"E",scope:{model:"=",progress:"=",delay:"=",disabled:"="},link:function t(n){var i;n.$watch("model.isValidating",function(t){if(true===n.disabled){n.progress=false;return}if(n.model&&void 0===n.model.state)n.progress=true;else if(t){i&&e.cancel(i);i=e(function(){n.model&&n.model.isValidating&&(n.progress=true)},n.delay||1e3)}else n.progress=false})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div ng-show="progress" class="qv-animate progress ng-hide">\n\t<div class="progress-loader" style="width:20%;height:20%;position:absolute;top:40%;left:40%"></div>\n</div>\n'},function(e,t){e.exports='<div class="rain progress" ng-class="{\'qv-fade-out\': fadeOut}">\n\t<div class="rain-image-container" ng-if="isLoadingCardImageFlag"></div>\n\n\t<div ng-if="!isLoadingCardImageFlag" class="rain-progress" ng-style="rainStyle" aria-label="{{objectSRloading}}">\n\t\t<div class="progress-div rotating" ng-class="ngClasses">\n\t</div>\n\n\t<div class="qv-loader-text" ng-if="messageObj" ng-class="ngClasses">\n\t\t<div ng-show="messageObj.task" q-translation="{{messageObj.task}}"></div>\n\t\t<div ng-show="messageObj.message" q-translation="{{messageObj.message}}"></div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1025),n(1026)],r=function(e,t){e.directive("qvaNavMenu",[function(){return{template:t,replace:true,scope:{menu:"=",options:"="},controller:["$scope","$element",function(e,t){e.menu.getSize=function(){var n=t[0].getBoundingClientRect();return{width:e.menu.visible?n.width:0,height:e.menu.visible?n.height:0}}}]}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div qva-direction x-dir-setting="{{options.direction}}" class="qv-object-nav" aria-hidden="true" ng-style="styles.backgroundColor" ng-class="{\'zero-top\' : options.isZoomed, \'visible\' : menu.visible, \'active\': options.isActive, \'inline\' : options.thinHeader}">\n  <qva-nav-menu-item ng-repeat="menuItem in menu.items | orderBy:\'+\':true" model="menuItem"></qva-nav-menu-item>\t\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1027)],r=function(e,t){e.directive("qvaNavMenuItem",[function(){return{template:t,replace:true,scope:{model:"="},link:function e(t,n){t.model.mounted&&t.model.mounted(n)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<a\n  ng-show="model.isVisible()"\n  ng-class="[model.cssClasses, model.dynamicCssClasses()]"\n  qva-activate="model.action($event)"\n  q-title-translation="{{model.translation}}"\n  tid="{{model.tid}}">\n</a>'},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"];var t={1:"XS",2:"S",3:"M",4:"L",5:"XL"};var n={10:"1",13:"2",16:"3",22:"4",32:"5"};var i={1:1,2:2,3:3,4:4,5:5,6:5};var r={1:1,2:2,3:3,4:4,5:5};return{palette:e,fontSizes:t,fontSizesPx:n,htmlSizeToMarkdownSize:i,markdownSizeToHtmlSize:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};function t(){return window.getSelection()}e.createRange=function(e,t,n){var i=document.createRange();t=t||0;n="undefined"===typeof n?e.childNodes.length:n;i.setStart(e,t);i.setEnd(e,n);return i};e.createRangeForElement=function(e){var t=document.createRange();t.selectNode(e);return t};e.addRange=function(e,n){var i=t();n&&i.removeAllRanges();i.addRange(e)};e.getRange=function(e){var n=window.getSelection();e=e||0;return n.rangeCount>e?t().getRangeAt(e):null};e.rangeEquals=function(e,t){if(null===e&&null===t)return true;if(null===e||null===t)return false;return 0===e.compareBoundaryPoints(window.Range.START_TO_START,t)&&0===e.compareBoundaryPoints(window.Range.END_TO_END,t)};return e}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[n(48),n(89),n(108),n(1063),n(117),n(253),n(1825),n(1827),n(994),n(1356),n(1697),n(294),n(286),n(50),n(1081),n(103),n(49),n(1844),n(1845),n(1846)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m){var g=t();function b(b,y,x,w){var S=b.engineApp;function C(){h.scriptEditorTabsUpdatedOnServerCallback&&h.scriptEditorTabsUpdatedOnServerCallback();q&&q.populateList()}var E;var q;var T;var k;var O=false;var D=w;var A;function I(n,f,p,b){var w=y.create;var I=void 0===y.canCreateDataConnections||y.canCreateDataConnections;function L(){O=!k;if(!k){var e=l.createDataconnectorsModel(r,n.engineApp,d,w,I);k=t.all({loadModel:_(),dataConnectorsModel:e}).then(function(e){r.global.configureReload(true,true,false);i.setAllKeywords(p.getAllKeywords());i.setAllKeywordsAsLowerCase(p.getAllKeywordsAsLowerCase());q=e.dataConnectorsModel;E=e.loadModel;T=s.createLoadModelRunner(r.global,S,D)})}return k.then(function(){if(!O)return q.populateList()})}function P(e,t){return L().then(function(){var i=E.clone();i.removeAllFieldsMarkedForDeletion();return{clientApp:n,configuration:x,environmentInfo:b,newLoadModel:i,existingLoadModel:E,qvInternals:{newAssociationsModel:a.createAssociationsModel(i),dataPreviewProvider:c,newLoadModel:i,dataconnectorsModel:q},qvDialogContext:{},dataconnectorsModel:q,loadModelRunner:T,filePath:e,tableModelToEdit:t,editMode:void 0!==t}})}h.getConnectDataInput=function(e){return P(null,e)};h.runDataLoadFlow=function(e){return P().then(function(t){return e.run(t)})};h.getTableModelWithName=function(e){return L().then(function(){return E.getTableModelWithName(e)})};h.getDataSpaceInput=function(){return L().then(function(){return{loadModel:E,loadModelRunner:T,loadModelEditTable:h.editTable,dataconnectorsModel:q}})};h.resetLoadModel=function(){return L().then(function(){return o.resetLoadModel()})};function M(e){e.targetTableModels.forEach(function(e){e.fields.forEach(function(e){if(e.hasOwnProperty("transformations"))return e.transformations.length>0})});return false}function N(){if(m.getFlag("DATAPREP_REST"))return u.get().then(function(e){return e.getRestService().then(function(e){return e.getProgress()})});return t.resolve()}h.reloadData=function(){return L().then(function(){M(E)||v.trackEvent(v.customEvents.DATA_LOAD_WITHOUT_TRANSFORMATION);return N().then(function(){return T.runMainLoadModelGraphically(E)})})};h.hasNoTable=function(){if(E)return 0===E.targetTableModels.length;return true};h.keepScriptModelUpdatedWithLoadModel=function(t,n){return L().then(function(){T.reconcileScriptAndLoadModel(E,t).then(function(){e.$rootScope.isDataManagerDirty=E.isDirty();n&&e.$rootScope.isDataManagerDirty&&n()});h.scriptEditorTabsUpdatedOnServerCallback=function(){T.reconcileScriptAndLoadModel(E,t).then(function(){if(n){e.$rootScope.isDataManagerDirty=E.isDirty();e.$rootScope.isDataManagerDirty&&n()}e.$rootScope.$broadcast("connectionListModified")})}})};h.getRunLoadModelActions=function(){return L().then(function(){return T.getRunLoadModelGraphicallyActions(E)})};h.prerequisites=function(){return L()};h.getLoadModelDeferred=function(){return L().then(function(){return E})};h.getDataSpaceInputDeferred=function(){return L().then(function(){return{loadModel:E,loadModelRunner:T,loadModelEditTable:h.editTable,dataconnectorsModel:q}})};h.prepareLoadModel=function(){A||(A=u.GetSerializedLoadModel().then(function(e){return o.bindLoadModel(C,e)}));return A};h.startPreparingForOpening=function(){return L()};g.resolve()}function L(){var e=new t;p.isSmallDevice?p.ViewChanged.bind(n):e.resolve();return e.promise;function n(){if(!p.isSmallDevice){p.ViewChanged.unbind(n);e.resolve()}}}return t.all({environment:n.setup(),reloadScriptBnfModel:f.getReloadScriptBnfModel(),notIsSmallDevice:L()}).then(function(e){if(y.permissions.update&&!y.qReadOnly)return I(b,n,e.reloadScriptBnfModel,e.environment);return t.resolve()})}function y(){return g.promise.then(function(){return h.prerequisites()})}function x(){return g.promise.then(function(){return h.getLoadModelDeferred()})}function w(){return g.promise.then(function(){return h.getDataSpaceInputDeferred()})}function S(e){return g.promise.then(function(){return h.getConnectDataInput(e)})}function C(e,t){return g.promise.then(function(){return h.keepScriptModelUpdatedWithLoadModel(e,t)})}function E(){return g.promise.then(function(){return h.getRunLoadModelActions()})}function q(){return g.promise.then(function(){return h.startPreparingForOpening()})}function _(){return g.promise.then(function(){return h.prepareLoadModel()})}function T(e){return g.promise.then(function(){return h.runDataLoadFlow(e)})}return{runDataLoadFlow:T,getLoadModel:x,getDataSpaceInput:w,getConnectDataInput:S,keepScriptModelUpdatedWithLoadModel:C,getRunLoadModelActions:E,startPreparingForOpening:q,prepareLoadModel:_,waitForInitialization:y,init:b}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(54),n(151),n(992),n(1198),n(606),n(439),n(1199)],r=function(e,t,n,i,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(){}return e.extractConcatenationQueries=function(e){return e=e||[],e.filter(function(e){return e.type===i.DSMTypes.ConcatenationQuery.name})},e.flattenConcatenationQueries=function(e){e=e||[];var t=[];return n.each(e,function(e){"ConcatenationQuery"===e.type?t=t.concat(e.sourceQueries):t.push(e)}),t},e.createConcatTableName=function(e,t){for(var i="("+e[0].name+"...)",r=0,o=i;n.find(t,function(e){return e.name===o});)o=i+"-"+ ++r;return o},e.mergeConcatenationQuery=function(t,r){var o,a,s;if(r){o=r.name,s=r.id,r.fields&&r.fields.forEach(function(i){var r=n.find(t.fields,function(t){return!!e.doConcatFieldsMatch(i,t)});r?(r.id=i.id,r.name=i.name,r.transformations=i.transformations,r.classifications=i.classifications,r.tags=i.tags):i.sourceFieldRefs||t.fields.push(i)});var l=t.sourceQueries.length!==r.sourceQueries.length;a=l?i.DSMTypes.QueryStatus.update:r.status}else o=t.name,s=t.id,a=i.DSMTypes.QueryStatus.add;t.name=o,t.id=s,t.status=a},e.generate=function(t,n){var i=e.generateSimpleQueries(t);return e.surfaceConcatenationQueries(i,n)},e.cloneQuery=function(e){return a.SharedUtil.extend(!0,{},e)},e.checkIntegrity=function(t,r){var a=n.pluck(t,"id");if(a.length!==t.length)throw new o.InvalidLoadModelException("missing some table ids");var s=e.flattenConcatenationQueries(r),l=e.extractConcatenationQueries(r),u=s.concat(l),c=n.pluck(u,"id");if(c.length!==u.length)throw new o.InvalidLoadModelException("missing some query ids");var d=n.uniq(c);if(d.length!==c.length)throw new o.InvalidLoadModelException("not all query ids unique");var f=n.pluck(u,"type");if(f.length!==u.length)throw new o.InvalidLoadModelException("queries missing the type property");if(!t.every(e.checkTableIntegrity))throw new o.InvalidLoadModelException("Invalid table");var p=s.filter(function(e){return e.type===i.DSMTypes.Query.name});if(!p.every(e.checkQueryIntegrity))throw new o.InvalidLoadModelException("Invalid simple query");if(!l.every(e.checkConcatenatedQueryIntegrity))throw new o.InvalidLoadModelException("Invalid concatenated query")},e.checkTableIntegrity=function(t){return!(n.isUndefined(t.id)||n.isUndefined(t.tableName)||n.isUndefined(t.tableAlias)||n.isUndefined(t.fields))&&t.fields.every(e.checkTableFieldsIntegrity)},e.checkTableFieldsIntegrity=function(e){return!(n.isUndefined(e.id)||n.isUndefined(e.name)||n.isUndefined(e.alias)||n.isUndefined(e.selected))},e.checkQueryIntegrity=function(t){return!(n.isUndefined(t.id)||n.isUndefined(t.type)||n.isUndefined(t.name)||n.isUndefined(t.fields)||n.isUndefined(t.tableRef))&&t.fields.every(e.checkFieldIntegrity)},e.checkConcatenatedQueryIntegrity=function(e){return!(n.isUndefined(e.id)||n.isUndefined(e.type)||n.isUndefined(e.name)||n.isUndefined(e.sourceQueries))},e.checkFieldIntegrity=function(e){return!(n.isUndefined(e.id)||n.isUndefined(e.type)||n.isUndefined(e.name)||e.type===i.DSMTypes.QueryField.name&&n.isUndefined(e.fieldRef)||e.type&&-1===n.indexOf(i.DSMTypes.GetFields(),e.type))},e.updateQueryTableStatus=function(e,t){if(e.type!==i.DSMTypes.ConcatenationQuery.name){if(0===e.fields.length)return void(e.status=i.DSMTypes.QueryStatus["delete"]);var r=n.pluck(e.fields,"name").sort(),o=n.pluck(t.fields,"name").sort(),a=!n.isEqual(r,o);return a?void(t.status===i.DSMTypes.QueryStatus.add?e.status=i.DSMTypes.QueryStatus.add:e.status=i.DSMTypes.QueryStatus.update):void(e.status=t.status)}},e.updateQueryTable=function(t,n,i){var r=a.SharedUtil.extend(!0,{},n),o=[],s=[];i.fields.forEach(function(t){var i=e.findQueryByFieldRef(n,t.id);t.selected?i?i.name=t.alias:o.push(e.generateFieldQuery(t)):i&&s.push(i)});var l=t.wrapInTargetTableModel(n);s.forEach(function(t){e.deleteField(l,t)}),o.forEach(function(t){var r=e.findInsertionIndex(t,n,i);n.fields.splice(r,0,t)}),e.updateQueryTableStatus(n,r)},e.deleteField=function(t,n){var i=this.constructDependencyMap(t);e.removeFieldAndDependents(t,i,n)},e.updateQueries=function(t,i,r,o){var a=e.extractConcatenationQueries(i),s=i;i=n.clone(i),s.splice(0,s.length),i=e.flattenConcatenationQueries(i),t.forEach(function(t){var n=0!==t.fields.filter(function(e){return e.selected}).length,o=e.findQueryByTableRef(i,t.id);o?n&&e.updateQueryTable(r,o,t):n&&i.push(e.generateTableQuery(t))}),i.forEach(function(n){var i=e.findSourceTableByRef(t,n.tableRef);!i&&n.sourceQueries&&1===n.sourceQueries.length&&(i=e.findSourceTableByRef(t,n.sourceQueries[0].tableRef));var a=r.wrapInTargetTableModel(n);a.pruneFieldReferences(t),0===n.fields.length&&o&&o.push(n)}),i=e.surfaceConcatenationQueries(i,r);var l=e.extractConcatenationQueries(i);e.migrateAssocations(l,r),e.mergeConcatenationQueries(l,a,r),i.forEach(function(e){s.push(e)})},e.createCompositeQueryFields=function(e){if(0===e.length)return[];var t=[],n=e[0],r={};return e.forEach(function(e){e.fields.forEach(function(e){r[e.name]||(r[e.name]=[]),r[e.name].push(e.id)})}),n.fields.filter(function(e){return e.type===i.DSMTypes.QueryField.name}).forEach(function(e){var n={id:r[e.name][0],type:i.DSMTypes.CompositeQueryField.name,name:e.name,sourceFieldRefs:r[e.name]};t.push(n)}),t},e.migrateAssocations=function(e,t){e.forEach(function(e){l.CompositeOperations.migrateAssociations(e.sourceQueries,t.wrapInTargetTableModel(e),t)})},e.surfaceConcatenationQueries=function(t,n){t=t||[];var o=[];return e.groupByQueryFieldNames(t).forEach(function(a){if(1===a.length)o.push(a[0]);else{var s={type:i.DSMTypes.ConcatenationQuery.name,status:i.DSMTypes.QueryStatus.add,name:e.createConcatTableName(a,t),sourceQueries:a,id:void 0,fields:[]};e.pruneGeoTransformFields(t,n),s.id=r.LoadModelIds.createConcatQueryId(),s.fields=e.createCompositeQueryFields(a).concat(e.extractNonQueryFields(a)),o.push(s)}}),o},e.extractNonQueryFields=function(e){if(0===e.length)return[];var t=[],n=e[0],r=n.fields.filter(function(e){return e.type!==i.DSMTypes.QueryField.name});return r.forEach(function(e){t.push(e),n.fields.splice(n.fields.indexOf(e),1)}),t},e.removeFieldAndDependents=function(t,n,i){var r=n[i.id];if(r){r.forEach(function(i){var r=t.getField(i);r&&e.removeFieldAndDependents(t,n,r)});var o=t.getFields(),a=o.indexOf(i);o.splice(a,1),n[i.id]=null}},e.constructDependencyMap=function(e){var t=new s.LoadModelUtils(e),n={},i=e.getFields();return i.forEach(function(e){n[e.id]||(n[e.id]=[]);var i=t.getAllReferences(e);i.forEach(function(t){n[t]||(n[t]=[]);var i=n[t],r=i.some(function(t){return e===t});r||i.push(e.id)})}),n},e.findInsertionIndex=function(e,t,i){var r=n.findWhere(i.fields,{id:e.fieldRef}),o=i.fields.indexOf(r);if(0===o)return 0;for(var a=t.fields.length+1,s=o-1;s>=0;s--){var l=i.fields[s],u=n.findWhere(t.fields,{fieldRef:l.id});if(u){a=t.fields.indexOf(u)+1;break}}return a},e.findMatch=function(t,i,r){var o=e.getConcatenatedQuerySignature(t,r),a=n.find(i,function(t){var i=e.getConcatenatedQuerySignature(t,r);return n.isEqual(o,i)});return a},e.mergeConcatenationQueries=function(t,n,i){t.forEach(function(t){var r=e.findMatch(t,n,i);e.mergeConcatenationQuery(t,r)})},e.getConcatenatedQuerySignature=function(e,t){if(!e||e.type!==i.DSMTypes.ConcatenationQuery.name)throw new o.InvalidLoadModelException;if(e.sourceQueries.length<1)throw new o.InvalidLoadModelException;return this.getFieldsSignature(e.sourceQueries[0],t)},e.getFieldsSignature=function(e,t){var r=t.wrapInTargetTableModel(e),o=n.filter(e.fields,function(e){return!r.wasGeneratedByTransformation(e,i.DSMTypes.QueryTransformField.name,[i.DSMTypes.Transformations.lookupGeoInfo,i.DSMTypes.Transformations.geoPoint])}),a=n.pluck(o,"name");return a.sort().join()},e.getQueryFieldsSignature=function(e){var t=n.filter(e.fields,function(e){return e.type===i.DSMTypes.QueryField.name}),r=n.pluck(t,"name");return r.sort().join()},e.pruneGeoTransformFields=function(e,t){e.forEach(function(e){for(var n=t.wrapInTargetTableModel(e),r=e.fields,o=r.length-1;o>=0;o--)n.wasGeneratedByTransformation(r[o],i.DSMTypes.QueryTransformField.name,[i.DSMTypes.Transformations.lookupGeoInfo,i.DSMTypes.Transformations.geoPoint])&&r.splice(o,1)})},e.generateFieldQuery=function(e){var t={id:r.LoadModelIds.createQueryFieldId(),type:i.DSMTypes.QueryField.name,name:e.alias?e.alias:e.name,fieldRef:e.id};return t},e.doConcatFieldsMatch=function(e,t){var n=!1;return t.sourceFieldRefs?n=t.sourceFieldRefs.some(function(t){return e.sourceFieldRefs&&e.sourceFieldRefs.indexOf(t)>0}):e.type===t.type&&e.type!==i.DSMTypes.CompositeQueryField.name&&(n=e.id===t.id),n},e.generateTableQuery=function(t){var n=t.tableAlias||t.tableName,o=r.LoadModelIds.createSimpleQueryId(),a={id:o,type:i.DSMTypes.Query.name,name:n,tableRef:t.id,status:i.DSMTypes.QueryStatus.add,fields:t.fields.filter(function(e){return e.selected}).map(function(t){return e.generateFieldQuery(t)})};return a},e.generateSimpleQueries=function(t){var n=t.filter(function(e){return 0!==e.fields.filter(function(e){return e.selected}).length});return n.map(function(t){return e.generateTableQuery(t)})},e.groupByQueryFieldNames=function(e){var t=this,r={},o=[];return e.forEach(function(e){if(e.status===i.DSMTypes.QueryStatus["delete"]||0===e.fields.length)return void o.push([e]);var n=t.getQueryFieldsSignature(e)||e.id;r[n]?r[n].push(e):r[n]=[e]}),n.values(r).concat(o)},e.findQueryByTableRef=function(t,i){var r=n.find(t,function(e){return e.tableRef===i});return r||t.forEach(function(t){if(t.sourceQueries){var n=e.findQueryByTableRef(t.sourceQueries,i);n&&(r=n)}}),r},e.findQueryByFieldRef=function(e,t){return n.find(e.fields,function(e){return e.fieldRef===t})},e.findSourceTableByRef=function(e,t){return n.find(e,function(e){return e.id===t})},e}();t.QueryGenerator=u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(89),n(90),n(138),n(49),n(1202),n(1203),n(1154),n(1204),n(1205),n(1155)],r=function(e,t,n,i,r,o,a,s,l,u,c){return{getInstance:function e(t){var o=r.getFlag("CLIENT_DCAAS");var a,s,l;var u=i.locale.get();if(o){l=encodeURI((n.basePath||"/")+"api/dcaas/web/"+t.name+"/web/select-adddata.html?locale="+u);a=encodeURI((n.basePath||"/")+"api/dcaas/web/"+t.name+"/web/select-dialog.html?locale="+u);s=encodeURI((n.basePath||"/")+"api/dcaas/web/"+t.name+"/web/connect-dialog.html?locale="+u)}else{l=encodeURI((n.basePath||"/")+"customdata/64/"+t.name+"/web/standalone/select-adddata.html?locale="+u);a=encodeURI((n.basePath||"/")+"customdata/64/"+t.name+"/web/standalone/select-dialog.html?locale="+u);s=encodeURI((n.basePath||"/")+"customdata/64/"+t.name+"/web/standalone/connect-dialog.html?locale="+u)}var c={provider:t.qProvider||t.fileName,type:"custom",name:t.name,displayName:t.qDisplayName||t.displayName,isStandardConnector:false,isIframeCompatible:true,needsConnect:true,connectDialog:s,selectDialog:a,selectAddData:l};return c},getComponent:function n(i,r){return new t.Promise(function(t){"connectDialog"===r?t({showDialog:function t(n){e.getService("luiDialog").show({template:s,controller:c,input:n,closeOnOutside:false,showArrow:false})}}):"selectDialog"===r?t({showDialog:function t(n,i,a){e.getService("luiDialog").show({template:o,controller:l,input:{connectorInstance:n,serverside:a,scriptEditorProxy:i,componentName:r},closeOnOutside:false,showArrow:false})}}):"selectStep"===r&&t({template:a,controller:u})})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){function e(e){var t,n,i,r=0;e=String(e);if(0===e.length)return false;t=e.split(",");for(n in t){i=t[n].trim();if(0===i.length)return false;if(Number.isNaN(+i))return false;if(Number(i)<=Number(r))return false;r=i}return true}return{isValid:e}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.SmallDeviceProvider=void 0;var i=s(n(98));var r=a(n(116));var o=a(n(50));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function l(e){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return l(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function d(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e}function f(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;return h(e)}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return m(e,t)}var g=i.default.createContext(false);var b=function(e){v(t,e);function t(){var e;u(this,t);e=f(this,p(t).call(this));e.state={isSmallDevice:o.default.isSmallDeviceDirect};e.smallDeviceChanged=e.smallDeviceChanged.bind(h(e));return e}d(t,[{key:"componentDidMount",value:function e(){o.default.ViewChangedDirect.bind(this.smallDeviceChanged)}},{key:"componentWillUnmount",value:function e(){o.default.ViewChangedDirect.unbind(this.smallDeviceChanged)}},{key:"smallDeviceChanged",value:function e(t){this.setState({isSmallDevice:t})}},{key:"render",value:function e(){var t=this.props.children;var n=this.state.isSmallDevice;return i.default.createElement(g.Provider,{value:n},t)}}]);return t}(i.PureComponent);t.SmallDeviceProvider=b;b.propTypes={children:r.default.node.isRequired};var y=g.Consumer;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getDisplayMode=r;t.default=void 0;var i={small:0,medium:1,large:2,xlarge:3};function r(){var e=window.innerWidth;if(e<900)return i.small;if(e<1050)return i.medium;if(e<1300)return i.large;return i.xlarge}var o=i;t.default=o},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e,t;function n(){return t}function i(){return e}function r(t){e=t}function o(e){t=e}return{setAllKeywordsAsLowerCase:o,getAllKeywordsAsLowerCase:n,setAllKeywords:r,getAllKeywords:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){this.targetTable=e,this.loadModel=t,this.locale=n}return e}();t.TransformationRecommendation=n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},function(e){e.exports={zz:"Developer language"}},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{runDataLoadFlow:function e(){},openDataSpaceWithTableModel:function e(){},getTableModelWithName:function e(){},resetLoadModel:function e(){},reloadData:function e(){},hasNoTable:function e(){}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(1212),n(1042)],r=function(e,t,n){var i="embedded labels";var r="no labels";function o(e){return!(!e||"false"===e)}function a(e,t,n){var i={},r={};this.getSettingsModelForFile=function(e){e||(e="");r[e]||(r[e]=new s);return r[e]};this.getSettingsModelForTable=function(r,o,a){r||(r="");o||(o="");a||(a="");var s=e.name+"/"+r+"/"+o+"/"+a;if(!i[s]){var u=this.getSettingsModelForFile(r,o).settingsGuess;if(n){var c=n.getTableModelByDatabasePath(r,o,a);c&&c.data.fileFormatSettings&&(u=c.data.fileFormatSettings)}i[s]=new l(u,t)}return i[s]}}var s=e.extend("FileSettings",{init:function e(){},setSettingsGuess:function e(t){this.settingsGuess=t},getParamsForEngine:function e(){return{}}}),l=e.extend("TableSettings",{labelStrategyOptions:[i,r],quotingOptions:["standard","msq","none"],delimiterOptions:t,init:function e(n,r){this.codepageOptions=r;n&&"undefined"!==typeof n.qHeaderSize?this.nbrOfHeaderLinesToRemove=""+n.qHeaderSize:this.nbrOfHeaderLinesToRemove=0;n&&"undefined"!==typeof n.qTabSize?this.tabSize=n.qTabSize:this.tabSize=1;this.formatSpec="undefined format spec";n&&"undefined"!==typeof n.qIgnoreEOF?this.ignoreEOF=n.qIgnoreEOF:this.ignoreEOF=false;n&&"undefined"!==typeof n.qFixedWidthDelimiters?this.fixedWidthDelimiters=n.qFixedWidthDelimiters:this.fixedWidthDelimiters="1";this.fixedWidthDelimitersLastValid=this.fixedWidthDelimiters;n&&"undefined"!==typeof n.qRecordSize?this.recordSize=-n.qRecordSize:this.recordSize=0;n&&"undefined"!==typeof n.qComment?this.comment=n.qComment:this.comment="";n&&n.qLabel?n.qType&&0===n.qType.indexOf("TYPE9_EXCEL_")?this.labelStrategy=i:this.labelStrategy=n.qLabel:this.labelStrategy=this.labelStrategyOptions[0];n&&n.qDelimiter?this.delimiter=u(n.qDelimiter):this.delimiter=t[0];n&&n.qQuote?this.quoting=n.qQuote:this.quoting=this.quotingOptions[0];n&&n.qCodePage?this.codepage=c(this.codepageOptions,n.qCodePage):this.codepage=this.codepageOptions[0];n&&"undefined"!==typeof n.qIgnoreEOF?this.ignoreEOF=o(n.qIgnoreEOF):this.ignoreEOF=false},setFormatSpec:function e(t){this.formatSpec=t},getFormatSpec:function e(){return this.formatSpec},getCompiledSettings:function e(){return JSON.stringify(this.getParamsForEngine())},getParamsForEngine:function e(){n.isValid(this.fixedWidthDelimiters)&&(this.fixedWidthDelimitersLastValid=this.fixedWidthDelimiters);return{qLabel:this.labelStrategy,qHeaderSize:parseInt(this.nbrOfHeaderLinesToRemove,10),qDelimiter:{qNumber:parseInt(this.delimiter.number,10),qIsMultiple:!!this.delimiter.multiple},qQuote:this.quoting,qCodePage:this.codepage.number,qIgnoreEOF:o(this.ignoreEOF),qFixedWidthDelimiters:this.fixedWidthDelimitersLastValid,qTabSize:this.tabSize,qRecordSize:-1*this.recordSize,qComment:this.comment}}});function u(e){return e.qIsMultiple&&"false"!==e.qIsMultiple?t.filter(function(e){return"spaces"===e.scriptCode})[0]:t.filter(function(t){return t.number===e.qNumber.toString()})[0]}function c(e,t){return e.filter(function(e){return e.number===t})[0]}return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(1063)],r=function(e){function t(e){return-1===e.indexOf("[")&&-1===e.indexOf("]")?"["+e+"]":-1===e.indexOf('"')?'"'+e+'"':-1===e.indexOf("'")?"'"+e+"'":-1===e.indexOf("Â´")?"Â´"+e+"Â´":e}function n(n,i,r){function o(e,t){var n="",i="    ",r,o;if(t){r=e.databases;r&&r.forEach(function(e){e.owners&&e.owners.length>0&&e.owners.forEach(function(r){r.tables&&r.tables.length>0&&r.tables.forEach(function(l){o=a(l.fields);if(o&&o.length>0){n+="\r\nLOAD\r\n";for(var c=0;c<o.length;c++){c>0&&(n+=",\r\n");var d=o[c].originalFieldName?o[c].originalFieldName:o[c].name;o[c].alias&&o[c].name!==o[c].alias?n+=i+u(d,t)+" AS "+u(o[c].alias,t):n+=i+u(d,t)}n+="\r\nFROM "+s(e.name,r.name,l.name)+";\r\n"}})})});return n.trim()+"\r\n\r\n"}return""}function a(t){return e.filter(t,function(e){return e.checked})}function s(e,r,o){var a,s;a="internet"!==n.type.provider?"lib://"+n.name+"/"+e:"lib://"+n.name;s=t(a)+"\r\n"+i.getSettingsModelForTable(e,r,o).getFormatSpec();return s}var l={};function u(e,t){if(l[e]||c(e,t.specialchars)||f(e,t.keywords)||d(e)||""===e){l[e]=true;return-1===e.indexOf('"')?t.quoteprefix+e+t.quotesuffix:t.quoteprefixfordoublequotes+e+t.quotesuffixfordoublequotes}return e}function c(e,t){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e.charAt(n)))return true;return false}function d(e){if(e.length>0){var t=e.charCodeAt(0);return 48<=t&&t<=57}return false}function f(e){return r.isKeyword(e)}var p={generateScriptForSelections:o};return p}return{createScriptGenerator:n,quoteConnectionName:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(117)],r=function(e){function t(e){return 1252===e||850===e||1e4===e||65001===e||1200===e}function n(e,t){return i(e,function(e){return e.qNumber===t})}function i(e,t){var n=e.filter(t)[0],i=e.indexOf(n);e.splice(i,1);return n}function r(){return e.global.getSupportedCodePages().then(function(e){e.qCodePages.push({qDescription:"Unicode",qNumber:1200});var i=e.qCodePages,r=[n(i,1252),n(i,850),n(i,1e4),n(i,65001),n(i,1200)],o=r.concat(i),a=o.map(function(e){return{title:e.qDescription,number:e.qNumber,kind:t(e.qNumber)?"Common.Standard":"scripteditor.dataconnectors.customcodepage"}});return a})}return{getCodepageOptionsPromise:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1213),n(91),n(1042)],r=function(e,t,n,i){e.filter("translatelabelstrategy",function(){return function(e){return"scripteditor.dataconnectors.labelstrategy."+e.replace(" ","_")}});e.filter("quotingvaluetolabelkey",function(){return function(e){return"none"===e?"Common.None":"standard"===e?"Common.Standard":"scripteditor.dataconnectors.quoting."+e.replace(" ","_")}});e.filter("delimitertotitle",function(){return function(e){return"Common.Standard"===e.kind?n.get(e.name):e.number+". "+n.get(e.name)}});function r(e){this.template=t;this.controller=["$scope",function(t){t.currentSettings={};t.tableFieldsDisabled=true;t.$watch("ownerName",function(e){t.layout=e});var n;t.$watch("tableName",function(){t.currentSettings=e.getSettingsModelForTable(t.databaseName,t.ownerName,t.tableName);t.tableName&&(t.tableFieldsDisabled=false);n&&n();n=t.$watch("settingsAsText()",function(e,n){t.tableName&&t.currentSettings&&e!==n&&t.onRefresh({})})});t.settingsAsText=function(){return t.currentSettings.getCompiledSettings()};t.isFixedWidthDelimitersValid=function(){return i.isValid(t.currentSettings.fixedWidthDelimiters)};t.$parent.$parent.setFixedWidthGUIControllerOnChangeListener(function(e){t.currentSettings.fixedWidthDelimiters=e.join(",");t.$apply()});t.$watch("currentSettings.fixedWidthDelimiters",function(){t.$parent.$parent.specialTableSettingsOk=t.isFixedWidthDelimitersValid();t.isFixedWidthDelimitersValid()&&t.$parent.$parent.onFixedWidthDelimitersInputChange(t.currentSettings.fixedWidthDelimiters)});t.headerSizeInput="header-size-input";t.recordSizeInput="record-size-input";t.tabSizeInput="tab-size-input";t.headerSizeTid="ds-header-size-input";t.recordSizeTid="ds-record-size-input";t.tabSizeTid="ds-tab-size-input"}]}return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.UrlParametersProvider=t.UrlParametersContext=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default.createContext(null);t.UrlParametersContext=o;var a=o.Consumer;var s=o.Provider;t.UrlParametersProvider=s;var l=a;t.default=l},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(118),n(1215),n(54)],r=function(e,t,n,i){function r(r,o){return r.getConnections().then(function(a){var s=n.getName(t.lastFolderFromPath(o),a.qConnections);var l=t.fileDirectoryFromPath(o);var u=i.find(a.qConnections,function(e){return e.qConnectionString===l});if(u)return e.promise({name:u.qName,type:u.qType,id:u.qId,existedPreviously:true});return r.createNewRawConnection(s,l,"folder").then(function(e){return{name:s,type:{provider:"folder",displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",needsConnect:false,isStandardConnector:true},typeName:"folder",id:e.qConnectionId,existedPreviously:false}})})}function o(e,t){return e.getConnections().then(function(n){for(var i=0;i<n.qConnections.length;i++)if(n.qConnections[i].qName===t)return e.removeConnection(n.qConnections[i].qId)})}function a(e){return e.getConnections().then(function(e){var t;var n=0;for(var i=0;i<e.qConnections.length;i++){var r=e.qConnections[i];var o=Date.parse(r.qModifiedDate.replace(" ","T"));if("folder"===r.qType&&o>n){t=r;n=o}}if(t)return t.qConnectionString})}return{createConnector:r,removeConnector:o,getLatestConnectorPath:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(48),n(91),n(93),n(135),n(1356),n(1861),n(1152),n(1039),n(1698),n(1288),n(993),n(262),n(103),n(1214),n(1701),n(611),n(1159)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p){t.service("addDataLoadService",["$q","addDataConnectionsService","qvGenericLoadingDialog","qvDataManagerCapabilityService","addDataFilterManagementService",function(t,h,v,m,g){function b(){}function y(e,n){s.forceConnectionListUpdate();var i=e.tableModels.map(function(e){var t=n.some(function(t){return t.data.id==e.data.id});if(t)return s.getLoadSelectStatement(e.data).then(function(t){e.data.loadSelectStatement=t&&t.loadSelectStatement;e.data.selectStatement=t&&t.selectStatement})});return t.all(i).then(function(){e.serialize()})}function x(e){return i.getApp().then(function(t){return t.getLayout().then(function(t){var n=t.qIsOpenedWithoutData||r.isSuffixInUse("noData");return o.get().then(function(t){return t.analyzeModel(e,n).then(function(e){var t=a.get(e);return t})})})})}function w(){if(m.getFlag("DATAPREP_REST"))return o.get().then(function(e){return e.getRestService().then(function(e){return e.getProgress()})});return t.resolve()}function S(){return v.show({title:n.get("AnalyzeModel.title"),message:n.get("AnalyzeModel.loading.message")})}b.prototype.loadMultipleFiles=function(e){var t=S();return l.runDataLoadFlow(u.createLoadDataFilesFlowForServer(e)).finally(function(){t.close()})};b.prototype.updateLoadSelectStatements=function(e,t){return y(e,t)};b.prototype.getSelectedTables=function(e,t){var n=[];var i=e.activeConnector;t.tableModels.forEach(function(e){var t=e.data.connectionInfo;t.connectionString==i.connectionString&&t.name===i.name&&t.sourceConnectorID===i.sourceConnectorID&&t.typeName===i.typeName&&("new"===e.data.state||"modified"===e.data.state||e.data.fields.length>0&&!e.data.fields[0].id)&&n.push(e)});return n};b.prototype.getCheckedTables=function(t,n,i){var r=[];var o=t.activeConnector;var a;n.tableModels.forEach(function(t){var n=t.data.connectionInfo;if(i){if(i.data.id===t.data.id){a=e.some(t.data.fields,function(e){return e.selected});t.data.fields.length>0&&a&&r.push(t)}}else if(o&&n.name===o.name&&n.sourceConnectorID===o.sourceConnectorID&&n.typeName===o.typeName){a=e.some(t.data.fields,function(e){return e.selected});t.data.fields.length>0&&a&&r.push(t)}});return r};b.prototype.loadData=function(){return h.getDataLoadInput().then(function(e){if(!d.LoadModelHelpers.areSourceFieldAliasesUnique(e.newLoadModel)){f.show({title:"DataManager.Error.Title",message:"DataManager.Error.NoDuplicateFieldNames"});return}if(m.get()["ps-1245"])return g.sanitizeTables(e.newLoadModel.tableModels).then(function(){var n=this.getSelectedTables(e.qvInternals,e.newLoadModel);n.forEach(function(e){e.data.loadProperties||(e.data.loadProperties={});e.data.loadProperties.profiling="off"});var i=S();var r=e.newLoadModel.rawClone();return y(r,n).then(function(){return w().then(function(){return x(r).then(function(n){i.close();return n.canLoadData?e.loadModelRunner.runMainLoadModelGraphically(r,e.existingLoadModel):t.reject(n)})})})}.bind(this));var n=this.getSelectedTables(e.qvInternals,e.newLoadModel);n.forEach(function(e){e.data.loadProperties||(e.data.loadProperties={});e.data.loadProperties.profiling="off"});var i=S();var r=e.newLoadModel.rawClone();return y(r,n).then(function(){return w().then(function(){return x(r).then(function(n){i.close();return n.canLoadData?e.loadModelRunner.runMainLoadModelGraphically(r,e.existingLoadModel):t.reject(n)})})})}.bind(this))};b.prototype.getSelectionInfo=function(){return h.getDataLoadInput().then(function(e){var t={tables:"",loadModel:{},filteredTables:{type:void 0,tables:[]},state:{cancelled:false}};if(e.tableModelToEdit){g.activeTable=e.tableModelToEdit.data.id;t.tables=this.getCheckedTables(e.qvInternals,e.newLoadModel,e.tableModelToEdit);t.loadModel=e.newLoadModel}else{t.tables=this.getCheckedTables(e.qvInternals,e.newLoadModel);t.loadModel=e.newLoadModel}return t}.bind(this))};b.prototype.prepareData=function(){return h.getDataLoadInput().then(function(e){p.trackEvent(p.customEvents.ADD_DATA_BY_CONNECTOR,{connector_name:e.qvInternals.activeConnector.name,connector_typename:e.qvInternals.activeConnector.typeName,connector_id:e.qvInternals.activeConnector.id});p.trackEvent(p.customEvents.DATA_MANAGER_TABLES_COUNT,{tables_count:e.newLoadModel.tableModels.length});if(m.get()["ps-1245"])return g.sanitizeTables(e.newLoadModel.tableModels).then(function(){var t=this.getSelectedTables(e.qvInternals,e.newLoadModel);g.reset();var n=S(t);t.forEach(function(e){e.data.loadProperties&&delete e.data.loadProperties.profiling});c.DSFieldsQualifications.qualifyNewDuplicatedFieldNames(e.existingLoadModel,e.newLoadModel,c.DSFieldsQualifications.FLAGS.DetectAutoConcatenate.Yes);return y(e.newLoadModel,t).then(function(){n.close();return w().then(function(){return e.loadModelRunner.runLoadModelToDataManagerGraphically(e.existingLoadModel,e.newLoadModel,e.tableModelToEdit?e.tableModelToEdit.data.id:null)})})}.bind(this));var t=this.getSelectedTables(e.qvInternals,e.newLoadModel);g.reset();var n=S(t);t.forEach(function(e){e.data.loadProperties&&delete e.data.loadProperties.profiling});c.DSFieldsQualifications.qualifyNewDuplicatedFieldNames(e.existingLoadModel,e.newLoadModel,c.DSFieldsQualifications.FLAGS.DetectAutoConcatenate.Yes);return y(e.newLoadModel,t).then(function(){n.close();return w().then(function(){return e.loadModelRunner.runLoadModelToDataManagerGraphically(e.existingLoadModel,e.newLoadModel,e.tableModelToEdit?e.tableModelToEdit.data.id:null)})})}.bind(this))};return new b}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.name,l=t.size,u=s(t,["className","name","size"]);var c=(0,r.luiClassName)("icon",{className:n,modifiers:{name:o,size:l}});return i.default.createElement("span",a({className:c,"aria-hidden":"true"},u))};var c=u;t.default=c;e.exports=t.default},,,,,function(e,t,n){"use strict";var i,r;!(i=[n(89),n(97)],r=function(e,t){var n={template:null,controller:["$scope","$element","$timeout",function(n,i,r){var o=this;o.selectionsActivated=function(){};o.selectionsDeactivated=function(){};o.close=function(){a()};function a(){r(function(){n.destroyComponent();i.remove()});t.off("start.listbox-popover-error",a)}function s(){return r(function(){return i.find(".toolbar-wrapper").outerWidth()})}n.closeView=function(e){n.onPopoverClose(e);a()};e.all({object:n.getVisualization(),width:s()}).then(function(e){var i=e.object,r=e.width;i.getSelectionToolbar().then(function(e){n.toolbar=e;n.toolbar.showLock=n.options.showLock;n.toolbar.position={width:r};i.activateSelections()});i.loaded.then(function(){i.ext.hasError(i)&&t.on("start.listbox-popover-error",a)});i.selectionsApi.watchActivated(function(){o.selectionsActivated()});i.selectionsApi.watchDeactivated(function(){o.selectionsDeactivated();a()});n.closeView=function(e){i.selectionsApi.confirm();n.onPopoverClose(e);a()}})}]};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div\n\tclass="qv-listbox-popover-small-device">\n\t<div class="toolbar-wrapper"\n\t\tqva-include-selection-toolbar\n\t\tcomponent="selectionToolbarComponent"\n\t\ttoolbar="toolbar"\n\t\toptions="options">\n\t</div>\n\t<h1 qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{model.layout.title || model.layout.qListObject.qDimensionInfo.qFallbackTitle}}" class="qvt-visualization-title">{{model.layout.title || model.layout.qListObject.qDimensionInfo.qFallbackTitle}}</h1>\n\t<div class="listbox-wrapper">\n\t\t<qv-object object="object" model="model" options="options"></qv-object>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ToolbarProvider=t.ToolbarConsumer=void 0;var i=l(n(98));var r=s(n(116));var o=n(1044);var a=s(n(95));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return u(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;return v(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=i.default.createContext(null);var y=b.Consumer;t.ToolbarConsumer=y;var x=function(e){m(t,e);function t(e){var n;c(this,t);n=p(this,h(t).call(this,e));n.state={displayMode:(0,o.getDisplayMode)()};n.handleResize=n.handleResize.bind(v(n));return n}f(t,[{key:"componentDidMount",value:function e(){a.default.subscribe("/resize/end",this.handleResize)}},{key:"componentWillUnmount",value:function e(){a.default.unsubscribe("/resize/end",this.handleResize)}},{key:"handleResize",value:function e(){this.setState({displayMode:(0,o.getDisplayMode)()})}},{key:"render",value:function e(){var t=this.props.children;var n=this.state.displayMode;return i.default.createElement(b.Provider,{value:n},t)}}]);return t}(i.PureComponent);t.ToolbarProvider=x;x.propTypes={children:r.default.node.isRequired}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(285),n(251)],r=function(e,t,n){var i="cppns";var r;function o(e){if(!r)throw new Error("LOCAL_STORAGE_KEY is undefined. Forgot to run init?");localStorage[r]=e}function a(e,n){var i=s(e);t.addObserver(i,n)}function s(e){return i+"."+e}function l(i){if(!i)throw new Error("App ID is undefined.");r="cppns."+n.sha256(i);e(window).on("storage",function(e){var n=e.originalEvent.key;var i=e.originalEvent.newValue;if(n&&n===r&&i){delete localStorage[r];var o=s(i);t.notifyAll(o)}})}return{init:l,publish:o,subscribe:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(89),n(1153),n(1289),n(117),n(994),n(294)],r=function(e,t,n,i,r,o,a){var s;function l(e){s||(s=o.createDataconnectorsModel(r.global,r.getCurrentApp(),a,true,true));return s.then(function(r){var o;var a=r.getConnectionFromModel(e.dataconnectorName);var s={};if(a&&a.connectorMain&&a.connectorMain.getRawScript){o=r.getConnectionServersideProxy(e.connectionInfo.type.provider,e.connectionInfo.name,e.connectionInfo);return a.connectorMain.getRawScript(o,e).then(function(e){s.selectStatement=e;s.loadSelectStatement="";return s})}if(a&&a.connectorMain&&a.connectorMain.generateSelectScript){o=r.getConnectionServersideProxy(e.connectionInfo.type.provider,e.connectionInfo.name,e.connectionInfo);return a.connectorMain.generateSelectScript(o,e).then(function(e){s.loadSelectStatement=e;return s})}if(a&&a.connectorMain&&a.connectorMain.getScriptTemplate){o=r.getConnectionServersideProxy(e.connectionInfo.type.provider,e.connectionInfo.name,e.connectionInfo);return t.when(a.connectorMain.getScriptTemplate(o,e)).then(function(e){return n.TemplateRunner.render(e).then(function(e){s.loadSelectStatement=e;return s})})}if(a&&a.connectorMain&&a.connectorMain.getBoxType){var l=a.connectorMain.getBoxType(a);return t.when(n.TemplateRunner.render(i.BoxTypesModel.GetBoxType(l).template,e)).then(function(e){s.selectStatement=e;return s})}return"script"!==e.dataconnectorName&&void 0!==i.BoxTypesModel.GetBoxType(e.boxType)?t.when(n.TemplateRunner.render(i.BoxTypesModel.GetBoxType(e.boxType).template,e)).then(function(e){s.loadSelectStatement=e;return s}):""})}function u(){s&&(s=s.then(function(e){return e.populateList()}))}function c(n,i){if("script"===n.connectionInfo.typeName||"blackbox"===n.boxType){var r=new t;r.resolve({loadSelectStatement:n.loadSelectStatement,selectStatement:n.selectStatement});return r.promise}if(n.fields&&n.fields.filter(function(e){return e.selected}).length>0){var o=e.clone(n);o.tableAlias=o.tableName;o.fields=o.fields.filter(function(e){return e.selected}).map(function(t){var n=e.clone(t);n.alias=t.name;return n});return l(o,i).then(function(e){return e})}var a=new t;a.resolve({});return a.promise}return{getLoadSelectStatement:c,forceConnectionListUpdate:u}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(1201)],r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.render=function(e,t){var i=n.compile(e,{noEscape:!0})(t);return i},e}();t.TemplateRunner=i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog class="custom-connector-component-dialog connect-dialog">\n\t<qv-spinner show="iframeLoading" spinner-height="100px" spinner-width="100px" class="custom-connector-component-dialog-spinner" center-in-parent="true"></qv-spinner>\n\t<qv-connector-iframe location="dialogLocation" done-loading="initialize()"></qv-connector-iframe>\n\n\t<div class="lui-dialog__footer">\n        <lui-button tid="cancelCustomConnection" ng-click="cancel()" q-translation="Common.Cancel"></lui-button>\n        <lui-button tid="testCustomConnection" ng-click="testConnection()" ng-disabled="iframeLoading || isTestConnectDisabled" q-translation="scripteditor.dataconnectors.testconnection"></lui-button>\n\t\t<lui-button tid="saveCustomConnection" ng-click="createConnection()" ng-disabled="iframeLoading || isConnectDisabled" ng-bind="okString"></lui-button>\n  </div>\n\n</lui-dialog>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(995),n(91),n(163),n(50),n(49),n(13),n(607)],r=function(e,t,n,i,r,o){var a=["$scope","input","$timeout",function(a,s,l){var u;var c=s;a.status="CANCEL";a.isConnectDisabled=true;a.iframeLoading=true;a.dialogLocation=s.datasource.getConnectDialog();a.okString=c.editMode?t.get("Common.Save"):t.get("Common.Create");function d(e){e&&a.cancel()}a.initialize=function(){var t=document.querySelector("#custom-connector-frame");i.ViewChanged.bind(d);u=e.default.connectToChild({url:a.dialogLocation,appendTo:t,methods:{processJsonRequest:function e(t){return c.serverside.sendJsonRequest.apply(this,t)},createNewConnection:function e(t){return c.serverside.createNewConnection.apply(this,t).then(function(e){return e}).catch(function(e){e.isHandled=true;throw e})},getConnection:function e(t){return c.serverside.getConnection.apply(this,t)},modifyConnection:function e(t){return c.serverside.modifyConnection.apply(this,t).catch(function(e){e.isHandled=true;throw e})},updateState:function e(t){l(function(){a.isConnectDisabled=t.isConnectDisabled;a.isTestConnectDisabled=t.isTestConnectDisabled})}}});u.promise.then(function(e){a.iframeLoading=false;e.initializeController({endpoint:JSON.stringify(c.qvxSelectedEntrypoint),editMode:c.editMode,instanceId:c.instanceId,helpUrl:n.path,useDcaas:r.getFlag("CONNECTOR_DCAAS"),dcaasHost:o.rootPath+"api/dcaas"})},function e(){})};a.$on("$destroy",function(){u&&u.destroy();i.ViewChanged.unbind(d)});a.testConnection=function(){u.promise.then(function(e){e.testConnection()})};a.createConnection=function(){u.promise.then(function(e){e.createConnection().then(function(e){if(!e.success)return;if(a.onSuccess)a.onSuccess(e).then(function(){a.status="OK";a.close()});else{a.status="OK";a.close()}})})};a.cancel=function(){a.close()};a.closingDeferred.promise.then(function(){"CANCEL"===a.status&&a.onCancel&&a.onCancel()})}];return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(151),n(54)],r=function(e,t){function n(t,n){return t.fields.some(function(i){return t.wasGeneratedByTransformation(i,e.DSMTypes.QueryTransformField.name,n)})}function i(e,t,n){return e.wasGeneratedByTransformation(t,void 0,n)}function r(e,n){return t.filter(e.transformations,function(e){return n.indexOf(e.op)>-1})}function o(t,n){return t.fields.filter(function(i){return!t.wasGeneratedByTransformation(i,e.DSMTypes.QueryTransformField.name,n)})}return{doesTableContainTransformQuery:n,doesFieldContainTransformType:i,filterFieldTransformations:r,filterTransformationFieldsWithType:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(117),n(48),n(89),n(286),n(1082),n(1083),n(1084),n(1085),n(110)],r=function(e,t,n,i,r,o,a,s,l){function u(u,c,d,f,p){function h(e){var t=e.substring(e.indexOf("_")+1,e.length);return t}function v(e){if("FIX"===e.qType){e.qFixedWidthDelimiters=e.qFixedWidthDelimiters.toString();e.qLabel="no labels";"1"!==e.qFixedWidthDelimiters&&0!==e.qFixedWidthDelimiters.indexOf("1,")&&(e.qFixedWidthDelimiters="1,"+e.qFixedWidthDelimiters)}return e}function m(){var e,t={},n,i;for(e=0;e<arguments.length;e++){n=arguments[e];for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t}function g(t,n){var i=n?e.currentApp.guessFileType(t,n):e.currentApp.guessFileType(t);return i}var b;var y;var x=u.id;var w;d?p?e.currentApp.getConnection(x).then(function(e){w=e.qConnection.qConnectionString}):w=d.singleFileName:f?w=f.data.databaseName:p?e.currentApp.getConnection(x).then(function(e){w=e.qConnection.qConnectionString}):w=void 0;var S;var C;var E,q,_;var T=["TYPE9_FIX","TYPE9_EXCEL_OOXML","TYPE9_EXCEL_BIFF","TYPE9_HTML","TYPE9_XML","TYPE9_KML","TYPE9_CSV","TYPE9_QVD","TYPE9_QVX"],k=["TYPE9_EXCEL_OOXML","TYPE9_EXCEL_BIFF","TYPE9_HTML","TYPE9_XML","TYPE9_KML"];return n.all({codepageOptions:a.getCodepageOptionsPromise(),bnfModel:i.getReloadScriptBnfModel()}).then(function(n){y=n.codepageOptions;b=n.bnfModel;S=new r(u,y,c);C=new o.createScriptGenerator(u,S,b);var i=g(x,w).then(function(n){n.qDataFormat.qType="TYPE9_"+n.qDataFormat.qType;-1===T.indexOf(n.qDataFormat.qType)&&(n.qDataFormat.qType="TYPE9_CSV");S.getSettingsModelForFile(w).setSettingsGuess(n.qDataFormat);q=!f&&("TYPE9_XML"===n.qDataFormat.qType||"TYPE9_CSV"===n.qDataFormat.qType||"TYPE9_QVD"===n.qDataFormat.qType||"TYPE9_QVX"===n.qDataFormat.qType||"TYPE9_JSON"===n.qDataFormat.qType||"TYPE9_KML"===n.qDataFormat.qType);E=k.indexOf(n.qDataFormat.qType)>-1;_="scripteditor.dataconnectors."+("TYPE9_XML"===n.qDataFormat.qType||"TYPE9_HTML"===n.qDataFormat.qType?"tables":"sheets");var i={getConnectionInfo:function e(){return t.promise({dbusage:false,ownerusage:false,dbfirst:false,specialchars:"! Â ã\"$&'()*+,-/:;<>Â´`{}~[]\r\n\t",dbseparator:"",ownerseparator:"",quotesuffix:'"',quoteprefix:'"',quotesuffixfordoublequotes:"]",quoteprefixfordoublequotes:"[",keywords:[]})},getDatabases:function e(){return p?t.promise([{qName:""}]):t.promise([{qName:w}])},getOwners:function e(){var i=[],r;for(r=0;r<T.length;r++)i.push({qName:T[r],qIsDefault:T[r]===n.qDataFormat.qType});return t.promise(i)},getTables:function n(i,r){if(k.indexOf(r)>-1){var o=h(r);var a={qType:o};var s={qConnectionId:x,qRelativePath:i,qDataFormat:a};return("TYPE9_XML"===r||"TYPE9_JSON"===r||"TYPE9_KML"===r?e.currentApp.getFileTablesEx(s):e.currentApp.getFileTables(s)).then(function(e){if(e.qTables.length>0){if(q){for(var t=0;t<e.qTables.length;t++)if(c){var n=c.getOrCreateTableModelByDatabasePath(i,r,e.qTables[t].qName);var o=S.getSettingsModelForTable(i,r,e.qTables[t].qName);o.setFormatSpec(e.qTables[t].qFormatSpec);n.setFormatSpec(e.qTables[t].qFormatSpec)}else S.getSettingsModelForTable(i,r,e.qTables[t].qName).setFormatSpec(e.qTables[t].qFormatSpec);e.qTables[0].qIsDefault=true}return e.qTables}return[]},function(e){3002!==e.code&&e.code!==l.LocalizedErrorCode.LOCERR_GENERIC_INVALID_PARAMETERS&&(e.isHandled=true);return[]})}if(p)return t.promise([{qName:u.name,qIsDefault:true}]);var d=w.lastIndexOf("\\"),f=d>=0?w.substring(d+1):w,v=f.lastIndexOf("."),m=v>=0?f.substring(0,v):f;return t.promise([{qName:m,qIsDefault:true}])},getFields:function t(n,i,r,o){var a=k.indexOf(i)>-1;var s=h(i);var l={qType:s},u=S.getSettingsModelForFile(n).getParamsForEngine(),d=S.getSettingsModelForTable(n,i,r).getParamsForEngine(),f=v(m(l,u,d)),p=a?{qConnectionId:x,qRelativePath:n,qTable:r,qDataFormat:f}:{qConnectionId:x,qRelativePath:n,qTable:"",qDataFormat:f};return e.currentApp.getFileTableFields(p).then(function(e){var t=S.getSettingsModelForTable(n,i,r);t.setFormatSpec(e.qFormatSpec);if(c){var a=c.getOrCreateTableModelByDatabasePath(n,i,r);a.data.fileFormatSettings=t.getParamsForEngine();a.setFormatSpec(e.qFormatSpec)}if(o){o.qFormatSpec=e.qFormatSpec;o.fileFormatSettings=t.getParamsForEngine()}if(e.qFields)for(var s=0;s<e.qFields.length;s++)e.qFields[s].qName||(e.qFields[s]={qName:""});return e.qFields},function(e){e.isHandled=true;return[]})},getPreview:function t(n,i,r){E=k.indexOf(i)>-1;var o=h(i);var a={qType:o},s=S.getSettingsModelForFile(n).getParamsForEngine(),l=S.getSettingsModelForTable(n,i,r).getParamsForEngine(),u=v(m(a,s,l)),c=E?{qConnectionId:x,qRelativePath:n,qTable:r,qDataFormat:u}:{qConnectionId:x,qRelativePath:n,qTable:"",qDataFormat:u};return e.currentApp.getFileTablePreview(c).then(function(e){return e.qPreview},function(e){e.isHandled=true;return[]})},selectOptions:{databaseTitle:"scripteditor.dataconnectors.file",databasePlaceholder:"scripteditor.dataconnectors.selectfile",tablesTitle:_,ownerTitle:"scripteditor.dataconnectors.fileformat",ownerPlaceholder:"",metadataVisible:false,tablesLocation:"full-height-left",specialTableSettingsLocation:"top-right",databaseVisible:false,ownerVisible:true,tablesVisible:true,forceSelectTables:q,scriptGenerator:C,showSelectionsSummary:false,specialTableSettings:new s(S),precedingLoadVisible:false,selectFromTitleName:w,fileTypesWithTables:k,dataconnectorInstance:u,forceSelectFirstTable:!f,tableModelToEdit:f}};return i});return i})}return{createNativeFileProvider:u}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(117),n(294),n(994),n(118),n(89)],r=function(e,t,n,i,r){var o=null;var a=[];function s(){var i=void 0;var s=true;var l;l=n.createDataconnectorsModel(e,e.currentApp,t,i,s);return l.then(function(e){o=[];var t=e;if(!t.allConnectorEntrypoints.folder)return[];var n=t.allConnectorEntrypoints.folder.map(function(e){return e.isInitialized()});return r.all(n).then(function(){return t.allConnectorEntrypoints.folder.map(function(e){o[e.getId()]=e.getDisplayName();var t={id:e.getId(),name:e.getDisplayName(),imagePath:e.getImagePath(),providerName:e.getConnectorMain().providerName,credentialsDialog:e.getCredentialsDialog(),requiresAuthentication:!!e.getConnectorMain().requiresAuthentication,authenticate:e.getConnectorMain().authenticate,getDirectoryInfo:e.getConnectorMain().getDirectoryInfo,saveConnection:e.getConnectorMain().saveConnection,getConnectionMatch:e.getConnectorMain().getConnectionMatch,updateConnection:e.getConnectorMain().updateConnection,getAccountId:e.getConnectorMain().getAccountId,modifyConnection:e.getConnectorMain().modifyConnection,testSavedConnection:e.getConnectorMain().testSavedConnection};a[t.id]=t;return t})})})}function l(e){var n=[];return t.getDataconnectorInstances(function(e,t){n[e.id]=t.qConnectionString}).then(function(t){return o?h(t,n,e):s().then(function(){return h(t,n,e)})})}function u(e,t,n){e.updateConnection(t,n)}function c(e,t,n,i){return e.modifyConnection(t,n,i)}function d(e,t,n,i){var r={name:"",existedPreviously:false};return i?l().then(function(i){var o=e.getConnectionMatch(i,e,t.jsonString,n);if(!o){var a=v(i,t.connectionName);t.connectionName=a;return p(e,t,n).then(function(e){r.name=e.name;return r})}r.name=o.name;r.existedPreviously=true;return r}):p(e,t,n).then(function(e){r.name=e.name;return r})}function f(e){return t.getDataconnectorTypes().then(function(t){var n=t.filter(function(t){return t.provider===e})[0];return n})}function p(e,t,n){return e.saveConnection(t,n)}function h(e,t,n){var i=e.filter(function(e){return!!o[e.sourceConnectorID]});i.map(function(e){var n=t[e.id];var i=a[e.sourceConnectorID];if(n&&i&&i.getAccountId){e.accountId=i.getAccountId(n);e.providerName=o[e.sourceConnectorID];e.connectorImagePath=i.imagePath}});if(n){var r=[];i=i.filter(function(e){var t=false;if(r[e.providerName]){if(!r[e.providerName][e.accountId]){r[e.providerName][e.accountId]=true;t=true}}else{var n={};n[e.accountId]=true;r[e.providerName]=n;t=true}return t})}return i}function v(e,t){var n=e.filter(function(e){return i.startsWith(e.name,t)});var r=t.replace(/["'()]/g,"_");var o=1;while(n.length>0){r=t+o.toString();n=n.filter(function(e){return i.startsWith(e.name,r)});++o}return r}return{getStorageProviders:s,getConnections:l,saveConnection:d,updateConnection:u,modifyConnection:c,getConnectorType:f}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(48),n(1358),n(89),n(1088)],r=function(e,t,n,i){t.service("addDataFilterManagementService",[function(){return new r}]);function r(){this.isFilterPageVisible=false;this.addDataLoadService=null;this.sessionTables=null;this.activeTable=null}r.prototype.reset=function(){this.isFilterPageVisible=false;this.sessionTables=null;this.activeTable=null};r.prototype.stripUnselectedFields=function(t){t.fields=e.filter(t.fields,function(e){return e.selected});return t};r.prototype.createTablesHashMap=function(t){var n={};e.each(t,function(e){n[e.id]=e});return n};r.prototype.createFiltersHashMap=function(t){var n={};e.each(t,function(e){if(e){n[e.fieldId]||(n[e.fieldId]=[]);n[e.fieldId].push(e)}});return n};r.prototype.createFieldsHashMap=function(t){var n={};e.each(t,function(e){e.selected&&(n[e.id]=e)});return n};r.prototype.pruneEqualityFilters=function(t){var i=[];var r=[];var o={};e.each(t,function(e){e.operator===n.CONTAINS.value?i.push(e):r.push(e)});e.each(i,function(t){if(o.hasOwnProperty(t.fieldId)){var n=o[t.fieldId]["literalValues"];o[t.fieldId]["literalValues"]=e.uniq(n.concat(t.literalValues))}else o[t.fieldId]=t});return r.concat(e.values(o))};r.prototype.sanitizeTables=function(t){var n=[];e.each(t,function(e){e.hasOwnProperty("data")&&(e=e.data);e=this.synchronizeFields(e,e);var t;if(e.hasOwnProperty("disabled")){e.disabled&&delete e.filter;delete e.disabled}if(!e.hasOwnProperty("filter"))return;t=e.filter;var i=t.operands.slice(0);for(var r=i.length-1;r>=0;r--){var o=i[r];if(o.hasOwnProperty("disabled")&&o.disabled)t.operands.splice(r,1);else{o.hasOwnProperty("disabled")&&delete t.operands[r].disabled;void 0!==o.fieldId&&0!==o.literalValues.length||t.operands.splice(r,1)}}if(t.operands.length){e.filter=t;e.filter.operands=this.pruneEqualityFilters(t.operands)}else delete e.filter;n.push(e)}.bind(this));return i.resolve(n)};r.prototype.synchronizeTables=function(t){null!==this.activeTable&&(this.sessionTables.tables=e.filter(this.sessionTables.tables,function(e){return e.id===this.activeTable}.bind(this)));var n=this.sessionTables.tables;var i=t;var r=this.createTablesHashMap(n);var o=this.createTablesHashMap(t);e.each(i,function(e){r[e.id]||(r[e.id]=this.stripUnselectedFields(e))}.bind(this));e.each(e.keys(r),function(e){o[e]?r[e]["disabled"]=false:r[e]["disabled"]=true});return e.values(r)};r.prototype.synchronizeFields=function(t,n){if(void 0===n)return t;var i={};var r=!!n.filter;if(!r)return t;if(!n.filter.operands)return t;var o=this.createFieldsHashMap(n.fields);var a=this.createFiltersHashMap(t.filter.operands);e.each(n.filter.operands,function(t){var n=a[t.fieldId];o[t.fieldId]?e.each(n,function(e){e["disabled"]=false}):e.each(n,function(e){e["disabled"]=true});a[t.fieldId]=n});var s=e.values(a);i[t.id]=[];i[t.id]=e.flatten(s);t.filter.operands=i[t.id];return t};r.prototype.getAddDataLoadService=function(){null===this.addDataLoadService&&(this.addDataLoadService=t.getService("addDataLoadService"));return this.addDataLoadService};r.prototype.getFilterCount=function(t){var n=0;return this.getSelections().then(function(r){e.each(r.tables,function(e){e.hasOwnProperty("data")&&(e=e.data);if(e.databaseName===t){this.activeTable&&this.activeTable===e.id&&e.hasOwnProperty("filter")&&(n+=e.filter.operands.length);this.activeTable||e.hasOwnProperty("filter")&&(n+=e.filter.operands.length)}}.bind(this));return i.resolve(n)}.bind(this))};r.prototype.hideFilterPage=function(){this.isFilterPageVisible=false};r.prototype.showFilterPage=function(){this.isFilterPageVisible=true};r.prototype.getSelections=function(){return this.getAddDataLoadService().getSelectionInfo().then(function(e){return e})};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(173),n(120),n(94),n(122),n(93),n(162),n(89)],r=function(e,t,n,i,r,o,a){var s=";";var l={},u={};var c=false;var d=true;function f(e){try{return decodeURIComponent(e)}catch(t){console.log(t);return e}}function p(e){var t=[];e.forEach(function(e){Number.isNaN(+e)||(e=+e);"number"===typeof e?t.push({qIsNumeric:true,qNumber:e}):"string"===typeof e?t.push({qText:e}):t.push(e)});return t}function h(e){return e.getLayout().then(function(e){if(e.sheetId)return t.get(e.sheetId).then(function(){i.goToSheet(e.sheetId,Object.keys(n.States)[n.state]);return true})})}function v(t,n){return e.apply(t).then(function(){if(n)return e.get(t).then(function(e){return h(e)})})}function m(e){e=e||[];var t=e.reduce(function(e,t){var n=a.resolve(e);return n.then(function(){return t()})},a.resolve());return t}function g(){return l.bookmark||!d?a.resolve():O()}function b(e){return e.reduce(function(e,t){return e.then(t)},a.resolve())}function y(){if(l.clearAllSelections||l.clearStateSelections)return r.getApp().then(function(e){return D().then(function(t){var n=[];l.clearAllSelections?t.forEach(function(t){n.push(e.clearAll(false,t))}):l.clearStateSelections&&l.alternateStates.forEach(function(i){t.indexOf(i)>-1&&n.push(e.clearAll(false,i))});return b(n)})});return a.resolve()}function x(){return l.bookmark?v(l.bookmark,true):a.resolve()}function w(){if(l.selections&&l.selections.length){var e=l.selections.map(function(e){return r.getApp().then(function(t){return D().then(function(n){if(n.indexOf(e.state)>-1)return t.getField(e.field,e.state).then(function(n){var i=[];e.values=p(e.values);i.push(n.selectValues(e.values,false,true));if(e.searches&&e.searches.length>0){var r=[];e.searches.forEach(function(e){r.push(f(e))});i.push(t.selectAssociations({qContext:"CurrentSelections",qSearchFields:[e.field]},r,0))}return a.all(i)})})})});return a.all(e)}return a.resolve()}function S(){return m([g,y,x,w])}function C(e,t){t=f(t);var n=new RegExp("\\/"+e+"\\/([^/]*)?","i");n=t.match(n);if(n&&n.length>0)return n[1];return false}function E(e){return C("bookmark",e)}function q(e){var t=C("options",e);t&&(t=t.split(s));return t}function _(e){var t="---xxx---";var n=[];var i=[];var r=new RegExp("(\\[|%5B)[^\\]]*?(\\]|%5D)","gi");r=e.match(r);if(r){i=r;r.forEach(function(n){e=e.replace(n,t)})}var o=T(e);o&&o.forEach(function(e){var r=e.match(/\/select\/([^/]*)\/[^/]*/);var o="$";if(r[1].indexOf("::")>-1){o=r[1].match(/(.*)::/);o=!!(o&&o.length>0)&&f(o[1]);r=r[1].match(/::(.*)/)}r=!!(r&&r.length>0)&&f(r[1]);var a=e.match(/\/select\/[^/]*\/([^/]*)/);a=!!(a&&a.length>0)&&f(a[1]).split(s);var l=[];if(r&&a){var u=[];a.forEach(function(e){if(e===t){var n=f(i[0]);n=n.substring(1,n.length-1);u.push(n);i=i.splice(1,i.length)}else l.push(f(e))});n.push({field:r,values:l,state:o,searches:u})}});return n}function T(e){var t=new RegExp("(\\/select\\/[^\\/]*\\/[^\\/]*)","g");t=e.match(t);return t}function k(e){return e.getProperties().then(function(e){return e.defaultBookmarkId||null})}function O(){return k(o).then(function(e){return e?v(e,false):null})}function D(){return r.getApp().then(function(e){return e.getLayout().then(function(e){var t=e.qStateNames;t.push("$");return t})})}function A(e){var t=[];e.forEach(function(e){if("clearselections"===e)l.clearAllSelections=true;else if(e.indexOf("::clearselections")>-1){l.clearStateSelections=true;var n=e.match(/(.*)::/);t.push(!!(n&&n.length>0)&&n[1])}else u.option=true});return t}function I(e){var t=_(e);var n=C("options",e);if(n){n=n.split(s);l.alternateStates=A(n)}t&&(l.selections=t);var i=E(e);i&&(l.bookmark=i)}function L(e){e=e||"";if(c)return a.resolve();c=true;I(e);return S()}var P={apply:L,_extract:C,_extractOptions:q,_extractBookmark:E,_extractSelections:_,_extractSelectionsPart:T,_fetchDefaultBookmark:k,_runPromisesInSequence:m,_extractParameters:I,_extractStatesFromOptions:A};Object.defineProperty(P,"shouldApplyDefaultBookmark",{get:function e(){return d},set:function e(t){d=t}});return P}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(94)],r=function(e){var t={};t.resetHistory=function(){this.prevStoryId=null;this.prevSlideId=null;this.objectId=null;this.isViewingSource=false;this.sourceIndicationDone=false};e.StateChanged.bind(n);function n(e,n,i){t.previousView=i}t.matchSource=function(e){var t=this.isViewingSource&&this.objectId===e&&!this.sourceIndicationDone;t&&(this.sourceIndicationDone=t);return t};Object.defineProperties(t,{prevStoryId:{writable:true},prevSlideId:{writable:true},prevState:{writable:true},objectId:{writable:true},isViewingSource:{writable:true,value:false},sourceIndicationDone:{writable:true,value:false},previousView:{writable:true}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty;var o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return false;var e=new String("abc");e[5]="de";if("5"===Object.getOwnPropertyNames(e)[0])return false;var t={};for(var n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==i.join(""))return false;var r={};"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e});if("abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join(""))return false;return true}catch(e){return false}}e.exports=s()?Object.assign:function(e,t){var n;var s=a(e);var l;for(var u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)r.call(n,c)&&(s[c]=n[c]);if(i){l=i(n);for(var d=0;d<l.length;d++)o.call(n,l[d])&&(s[l[d]]=n[l[d]])}}return s}},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.name="InvalidLoadModel",this.message=e}return e}();t.InvalidLoadModelException=n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.migrateAssociations=function(e,t,n){e.forEach(function(e){var i=n.findAssociations(e.id);i.forEach(function(i){i.getFieldsReferencing(e).forEach(function(e,n){var r=t.getFieldForSourceField(e.fieldId);i.replaceFieldReferences(e,t.data,r)}),1===i.getUniqueTableReferenceCount()&&n.removeAssociation(i.getName())})})},e}();t.CompositeOperations=n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(54),n(492)],r=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.data=e}return e.prototype.addSourceField=function(e){this.data.sourceFieldRefs||(this.data.sourceFieldRefs=[]),this.data.sourceFieldRefs.push(e.id)},e.prototype.getSourceFieldReferences=function(){return this.data.fieldRef?[this.data.fieldRef]:this.data.sourceFieldRefs?this.data.sourceFieldRefs:void 0},e.prototype.isGeographical=function(){var e=!1;return this.data.classifications?this.data.classifications.some(function(e){return i.ClassificationHelper.isGeographical(e)}):e},e.prototype.getGeographicalClassification=function(){return i.ClassificationHelper.getGeoClassification(this.data.classifications)},e.prototype.references=function(e){var t=this,n=0;return this.data.sourceFieldRefs&&e.forEach(function(e){var i=t.data.sourceFieldRefs.some(function(t){return e.id===t});i&&n++}),n===e.length},e.prototype.hasTransformation=function(e){var t=!1;return this.data.transformations&&this.data.transformations.length>0&&(t=this.data.transformations.some(function(t){return t.op===e})),t},e.prototype.getTransformation=function(e,t){var n;if(this.data.transformations)for(var i=0;i<this.data.transformations.length;i++){var r=this.data.transformations[i];if(r.op===e&&this.appliesTo(r,t)){n=r;break}}return n},e.prototype.appliesTo=function(e,t){return n.isArray(e.appliedTo)?e.appliedTo.indexOf(t)>=0:e.appliedTo===t},e}();t.QueryField=r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){(function t(n,i){true;e.exports=i()})(this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:false};e[i].call(r.exports,r,r.exports,n);r.loaded=true;return r.exports}n.m=e;n.c=t;n.p="";return n(0)}([function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(2);var o=i(r);var a=n(35);var s=i(a);var l=n(36);var u=n(41);var c=n(42);var d=i(c);var f=n(39);var p=i(f);var h=n(34);var v=i(h);var m=o["default"].create;function g(){var e=m();e.compile=function(t,n){return u.compile(t,n,e)};e.precompile=function(t,n){return u.precompile(t,n,e)};e.AST=s["default"];e.Compiler=u.Compiler;e.JavaScriptCompiler=d["default"];e.Parser=l.parser;e.parse=l.parse;return e}var b=g();b.create=g;v["default"](b);b.Visitor=p["default"];b["default"]=b;t["default"]=b;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=true},function(e,t,n){"use strict";var i=n(3)["default"];var r=n(1)["default"];t.__esModule=true;var o=n(4);var a=i(o);var s=n(21);var l=r(s);var u=n(6);var c=r(u);var d=n(5);var f=i(d);var p=n(22);var h=i(p);var v=n(34);var m=r(v);function g(){var e=new a.HandlebarsEnvironment;f.extend(e,a);e.SafeString=l["default"];e.Exception=c["default"];e.Utils=f;e.escapeExpression=f.escapeExpression;e.VM=h;e.template=function(t){return h.template(t,e)};return e}var b=g();b.create=g;m["default"](b);b["default"]=b;t["default"]=b;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t["default"]=e;return t};t.__esModule=true},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.HandlebarsEnvironment=v;var r=n(5);var o=n(6);var a=i(o);var s=n(10);var l=n(18);var u=n(20);var c=i(u);var d="4.0.12";t.VERSION=d;var f=7;t.COMPILER_REVISION=f;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=p;var h="[object Object]";function v(e,t,n){this.helpers=e||{};this.partials=t||{};this.decorators=n||{};s.registerDefaultHelpers(this);l.registerDefaultDecorators(this)}v.prototype={constructor:v,logger:c["default"],log:c["default"].log,registerHelper:function e(t,n){if(r.toString.call(t)===h){if(n)throw new a["default"]("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else this.helpers[t]=n},unregisterHelper:function e(t){delete this.helpers[t]},registerPartial:function e(t,n){if(r.toString.call(t)===h)r.extend(this.partials,t);else{if("undefined"===typeof n)throw new a["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=n}},unregisterPartial:function e(t){delete this.partials[t]},registerDecorator:function e(t,n){if(r.toString.call(t)===h){if(n)throw new a["default"]("Arg not supported with multiple decorators");r.extend(this.decorators,t)}else this.decorators[t]=n},unregisterDecorator:function e(t){delete this.decorators[t]}};var m=c["default"].log;t.log=m;t.createFrame=r.createFrame;t.logger=c["default"]},function(e,t){"use strict";t.__esModule=true;t.extend=a;t.indexOf=c;t.escapeExpression=d;t.isEmpty=f;t.createFrame=p;t.blockParams=h;t.appendContextPath=v;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var i=/[&<>"'`=]/g,r=/[&<>"'`=]/;function o(e){return n[e]}function a(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var s=Object.prototype.toString;t.toString=s;var l=function e(t){return"function"===typeof t};l(/x/)&&(t.isFunction=l=function(e){return"function"===typeof e&&"[object Function]"===s.call(e)});t.isFunction=l;var u=Array.isArray||function(e){return!(!e||"object"!==typeof e)&&"[object Array]"===s.call(e)};t.isArray=u;function c(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function d(e){if("string"!==typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!r.test(e))return e;return e.replace(i,o)}function f(e){return!e&&0!==e||!(!u(e)||0!==e.length)}function p(e){var t=a({},e);t._parent=e;return t}function h(e,t){e.path=t;return e}function v(e,t){return(e?e+".":"")+t}},function(e,t,n){"use strict";var i=n(7)["default"];t.__esModule=true;var r=["description","fileName","lineNumber","message","name","number","stack"];function o(e,t){var n=t&&t.loc,a=void 0,s=void 0;if(n){a=n.start.line;s=n.start.column;e+=" - "+a+":"+s}var l=Error.prototype.constructor.call(this,e);for(var u=0;u<r.length;u++)this[r[u]]=l[r[u]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{if(n){this.lineNumber=a;i?Object.defineProperty(this,"column",{value:s,enumerable:true}):this.column=s}}catch(e){}}o.prototype=new Error;t["default"]=o;e.exports=t["default"]},function(e,t,n){e.exports={default:n(8),__esModule:true}},function(e,t,n){var i=n(9);e.exports=function e(t,n,r){return i.setDesc(t,n,r)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.registerDefaultHelpers=b;var r=n(11);var o=i(r);var a=n(12);var s=i(a);var l=n(13);var u=i(l);var c=n(14);var d=i(c);var f=n(15);var p=i(f);var h=n(16);var v=i(h);var m=n(17);var g=i(m);function b(e){o["default"](e);s["default"](e);u["default"](e);d["default"](e);p["default"](e);v["default"](e);g["default"](e)}},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,o=n.fn;if(true===t)return o(this);if(false===t||null==t)return r(this);if(i.isArray(t)){if(t.length>0){n.ids&&(n.ids=[n.name]);return e.helpers.each(t,n)}return r(this)}if(n.data&&n.ids){var a=i.createFrame(n.data);a.contextPath=i.appendContextPath(n.data.contextPath,n.name);n={data:a}}return o(t,n)})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(5);var o=n(6);var a=i(o);t["default"]=function(e){e.registerHelper("each",function(e,t){if(!t)throw new a["default"]("Must pass iterator to #each");var n=t.fn,i=t.inverse,o=0,s="",l=void 0,u=void 0;t.data&&t.ids&&(u=r.appendContextPath(t.data.contextPath,t.ids[0])+".");r.isFunction(e)&&(e=e.call(this));t.data&&(l=r.createFrame(t.data));function c(t,i,o){if(l){l.key=t;l.index=i;l.first=0===i;l.last=!!o;u&&(l.contextPath=u+t)}s+=n(e[t],{data:l,blockParams:r.blockParams([e[t],t],[u+t,null])})}if(e&&"object"===typeof e)if(r.isArray(e))for(var d=e.length;o<d;o++)o in e&&c(o,o,o===e.length-1);else{var f=void 0;for(var p in e)if(e.hasOwnProperty(p)){void 0!==f&&c(f,o-1);f=p;o++}void 0!==f&&c(f,o-1,true)}0===o&&(s=i(this));return s})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(6);var o=i(r);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return;throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("if",function(e,t){i.isFunction(e)&&(e=e.call(this));return!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)});e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("log",function(){var t=[void 0],n=arguments[arguments.length-1];for(var i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level);t[0]=r;e.log.apply(e,t)})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("with",function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;if(t.data&&t.ids){r=i.createFrame(t.data);r.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])}return n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.registerDefaultDecorators=a;var r=n(19);var o=i(r);function a(e){o["default"](e)}},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,r){var o=e;if(!t.partials){t.partials={};o=function(r,o){var a=n.partials;n.partials=i.extend({},a,t.partials);var s=e(r,o);n.partials=a;return s}}t.partials[r.args[0]]=r.fn;return o})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);var r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function e(t){if("string"===typeof t){var n=i.indexOf(r.methodMap,t.toLowerCase());t=n>=0?n:parseInt(t,10)}return t},log:function e(t){t=r.lookupLevel(t);if("undefined"!==typeof console&&r.lookupLevel(r.level)<=t){var n=r.methodMap[t];console[n]||(n="log");for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];console[n].apply(console,o)}}};t["default"]=r;e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;function n(e){this.string=e}n.prototype.toString=n.prototype.toHTML=function(){return""+this.string};t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(23)["default"];var r=n(3)["default"];var o=n(1)["default"];t.__esModule=true;t.checkRevision=d;t.template=f;t.wrapProgram=p;t.resolvePartial=h;t.invokePartial=v;t.noop=m;var a=n(5);var s=r(a);var l=n(6);var u=o(l);var c=n(4);function d(e){var t=e&&e[0]||1,n=c.COMPILER_REVISION;if(t!==n){if(t<n){var i=c.REVISION_CHANGES[n],r=c.REVISION_CHANGES[t];throw new u["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new u["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function f(e,t){if(!t)throw new u["default"]("No environment passed to template");if(!e||!e.main)throw new u["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d;t.VM.checkRevision(e.compiler);function n(n,i,r){if(r.hash){i=s.extend({},i,r.hash);r.ids&&(r.ids[0]=true)}n=t.VM.resolvePartial.call(this,n,i,r);var o=t.VM.invokePartial.call(this,n,i,r);if(null==o&&t.compile){r.partials[r.name]=t.compile(n,e.compilerOptions,t);o=r.partials[r.name](i,r)}if(null!=o){if(r.indent){var a=o.split("\n");for(var l=0,c=a.length;l<c;l++){if(!a[l]&&l+1===c)break;a[l]=r.indent+a[l]}o=a.join("\n")}return o}throw new u["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}var r={strict:function e(t,n){if(!(n in t))throw new u["default"]('"'+n+'" not defined in '+t);return t[n]},lookup:function e(t,n){var i=t.length;for(var r=0;r<i;r++)if(t[r]&&null!=t[r][n])return t[r][n]},lambda:function e(t,n){return"function"===typeof t?t.call(n):t},escapeExpression:s.escapeExpression,invokePartial:n,fn:function t(n){var i=e[n];i.decorator=e[n+"_d"];return i},programs:[],program:function e(t,n,i,r,o){var a=this.programs[t],s=this.fn(t);n||o||r||i?a=p(this,t,s,n,i,r,o):a||(a=this.programs[t]=p(this,t,s));return a},data:function e(t,n){while(t&&n--)t=t._parent;return t},merge:function e(t,n){var i=t||n;t&&n&&t!==n&&(i=s.extend({},n,t));return i},nullContext:i({}),noop:t.VM.noop,compilerInfo:e.compiler};function o(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];var i=n.data;o._setup(n);!n.partial&&e.useData&&(i=g(t,i));var a=void 0,s=e.useBlockParams?[]:void 0;e.useDepths&&(a=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]);function l(t){return""+e.main(r,t,r.helpers,r.partials,i,s,a)}l=b(e.main,l,r,n.depths||[],i,s);return l(t,n)}o.isTop=true;o._setup=function(n){if(n.partial){r.helpers=n.helpers;r.partials=n.partials;r.decorators=n.decorators}else{r.helpers=r.merge(n.helpers,t.helpers);e.usePartial&&(r.partials=r.merge(n.partials,t.partials));(e.usePartial||e.useDecorators)&&(r.decorators=r.merge(n.decorators,t.decorators))}};o._child=function(t,n,i,o){if(e.useBlockParams&&!i)throw new u["default"]("must pass block params");if(e.useDepths&&!o)throw new u["default"]("must pass parent depths");return p(r,t,e[t],n,0,i,o)};return o}function p(e,t,n,i,r,o,a){function s(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];var s=a;!a||t==a[0]||t===e.nullContext&&null===a[0]||(s=[t].concat(a));return n(e,t,e.helpers,e.partials,r.data||i,o&&[r.blockParams].concat(o),s)}s=b(n,s,e,a,i,o);s.program=t;s.depth=a?a.length:0;s.blockParams=r||0;return s}function h(e,t,n){if(e){if(!e.call&&!n.name){n.name=e;e=n.partials[e]}}else e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e}function v(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=true;n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;n.fn&&n.fn!==m&&function(){n.data=c.createFrame(n.data);var e=n.fn;r=n.data["partial-block"]=function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r.data=c.createFrame(r.data);r.data["partial-block"]=i;return e(n,r)};e.partials&&(n.partials=s.extend({},n.partials,e.partials))}();void 0===e&&r&&(e=r);if(void 0===e)throw new u["default"]("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function m(){return""}function g(e,t){if(!t||!("root"in t)){t=t?c.createFrame(t):{};t.root=e}return t}function b(e,t,n,i,r,o){if(e.decorator){var a={};t=e.decorator(t,a,n,i&&i[0],r,o,i);s.extend(t,a)}return t}},function(e,t,n){e.exports={default:n(24),__esModule:true}},function(e,t,n){n(25);e.exports=n(30).Object.seal},function(e,t,n){var i=n(26);n(27)("seal",function(e){return function t(n){return e&&i(n)?e(n):n}})},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){var i=n(28),r=n(30),o=n(33);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n);i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var i=n(29),r=n(30),o=n(31),a="prototype";var s=function(e,t,n){var l=e&s.F,u=e&s.G,c=e&s.S,d=e&s.P,f=e&s.B,p=e&s.W,h=u?r:r[t]||(r[t]={}),v=u?i:c?i[t]:(i[t]||{})[a],m,g,b;u&&(n=t);for(m in n){g=!l&&v&&m in v;if(g&&m in h)continue;b=g?v[m]:n[m];h[m]=u&&"function"!=typeof v[m]?n[m]:f&&g?o(b,i):p&&v[m]==b?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};t[a]=e[a];return t}(b):d&&"function"==typeof b?o(Function.call,b):b;d&&((h[a]||(h[a]={}))[m]=b)}};s.F=1;s.G=2;s.S=4;s.P=8;s.B=16;s.W=32;e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(32);e.exports=function(e,t,n){i(e);if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t){(function(n){"use strict";t.__esModule=true;t["default"]=function(e){var t="undefined"!==typeof n?n:window,i=t.Handlebars;e.noConflict=function(){t.Handlebars===e&&(t.Handlebars=i);return e}};e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=true;var n={helpers:{helperExpression:function e(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function e(t){return/^\.|this\b/.test(t.original)},simpleId:function e(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];var r=n(3)["default"];t.__esModule=true;t.parse=p;var o=n(37);var a=i(o);var s=n(38);var l=i(s);var u=n(40);var c=r(u);var d=n(5);t.parser=a["default"];var f={};d.extend(f,c);function p(e,t){if("Program"===e.type)return e;a["default"].yy=f;f.locInfo=function(e){return new f.SourceLocation(t&&t.srcName,e)};var n=new l["default"](t);return n.accept(a["default"].parse(e))}},function(e,t){"use strict";t.__esModule=true;var n=function(){var e={trace:function e(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function e(t,n,i,r,o,a,s){var l=a.length-1;switch(o){case 1:return a[l-1];case 2:this.$=r.prepareProgram(a[l]);break;case 3:this.$=a[l];break;case 4:this.$=a[l];break;case 5:this.$=a[l];break;case 6:this.$=a[l];break;case 7:this.$=a[l];break;case 8:this.$=a[l];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(a[l]),strip:r.stripFlags(a[l],a[l]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:a[l],value:a[l],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(a[l-2],a[l-1],a[l],this._$);break;case 12:this.$={path:a[l-3],params:a[l-2],hash:a[l-1]};break;case 13:this.$=r.prepareBlock(a[l-3],a[l-2],a[l-1],a[l],false,this._$);break;case 14:this.$=r.prepareBlock(a[l-3],a[l-2],a[l-1],a[l],true,this._$);break;case 15:this.$={open:a[l-5],path:a[l-4],params:a[l-3],hash:a[l-2],blockParams:a[l-1],strip:r.stripFlags(a[l-5],a[l])};break;case 16:this.$={path:a[l-4],params:a[l-3],hash:a[l-2],blockParams:a[l-1],strip:r.stripFlags(a[l-5],a[l])};break;case 17:this.$={path:a[l-4],params:a[l-3],hash:a[l-2],blockParams:a[l-1],strip:r.stripFlags(a[l-5],a[l])};break;case 18:this.$={strip:r.stripFlags(a[l-1],a[l-1]),program:a[l]};break;case 19:var u=r.prepareBlock(a[l-2],a[l-1],a[l],a[l],false,this._$),c=r.prepareProgram([u],a[l-1].loc);c.chained=true;this.$={strip:a[l-2].strip,program:c,chain:true};break;case 20:this.$=a[l];break;case 21:this.$={path:a[l-1],strip:r.stripFlags(a[l-2],a[l])};break;case 22:this.$=r.prepareMustache(a[l-3],a[l-2],a[l-1],a[l-4],r.stripFlags(a[l-4],a[l]),this._$);break;case 23:this.$=r.prepareMustache(a[l-3],a[l-2],a[l-1],a[l-4],r.stripFlags(a[l-4],a[l]),this._$);break;case 24:this.$={type:"PartialStatement",name:a[l-3],params:a[l-2],hash:a[l-1],indent:"",strip:r.stripFlags(a[l-4],a[l]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(a[l-2],a[l-1],a[l],this._$);break;case 26:this.$={path:a[l-3],params:a[l-2],hash:a[l-1],strip:r.stripFlags(a[l-4],a[l])};break;case 27:this.$=a[l];break;case 28:this.$=a[l];break;case 29:this.$={type:"SubExpression",path:a[l-3],params:a[l-2],hash:a[l-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:a[l],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(a[l-2]),value:a[l],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(a[l-1]);break;case 33:this.$=a[l];break;case 34:this.$=a[l];break;case 35:this.$={type:"StringLiteral",value:a[l],original:a[l],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(a[l]),original:Number(a[l]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===a[l],original:"true"===a[l],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:this.$=a[l];break;case 41:this.$=a[l];break;case 42:this.$=r.preparePath(true,a[l],this._$);break;case 43:this.$=r.preparePath(false,a[l],this._$);break;case 44:a[l-2].push({part:r.id(a[l]),original:a[l],separator:a[l-1]});this.$=a[l-2];break;case 45:this.$=[{part:r.id(a[l]),original:a[l]}];break;case 46:this.$=[];break;case 47:a[l-1].push(a[l]);break;case 48:this.$=[a[l]];break;case 49:a[l-1].push(a[l]);break;case 50:this.$=[];break;case 51:a[l-1].push(a[l]);break;case 58:this.$=[];break;case 59:a[l-1].push(a[l]);break;case 64:this.$=[];break;case 65:a[l-1].push(a[l]);break;case 70:this.$=[];break;case 71:a[l-1].push(a[l]);break;case 78:this.$=[];break;case 79:a[l-1].push(a[l]);break;case 82:this.$=[];break;case 83:a[l-1].push(a[l]);break;case 86:this.$=[];break;case 87:a[l-1].push(a[l]);break;case 90:this.$=[];break;case 91:a[l-1].push(a[l]);break;case 94:this.$=[];break;case 95:a[l-1].push(a[l]);break;case 98:this.$=[a[l]];break;case 99:a[l-1].push(a[l]);break;case 100:this.$=[a[l]];break;case 101:a[l-1].push(a[l]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function e(t,n){throw new Error(t)},parse:function e(t){var n=this,i=[0],r=[null],o=[],a=this.table,s="",l=0,u=0,c=0,d=2,f=1;this.lexer.setInput(t);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;o.push(p);var h=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);function v(e){i.length=i.length-2*e;r.length=r.length-e;o.length=o.length-e}function m(){var e;e=n.lexer.lex()||1;"number"!==typeof e&&(e=n.symbols_[e]||e);return e}var g,b,y,x,w,S,C={},E,q,_,T;while(true){y=i[i.length-1];if(this.defaultActions[y])x=this.defaultActions[y];else{null!==g&&"undefined"!=typeof g||(g=m());x=a[y]&&a[y][g]}if("undefined"===typeof x||!x.length||!x[0]){var k="";if(!c){T=[];for(E in a[y])this.terminals_[E]&&E>2&&T.push("'"+this.terminals_[E]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'");this.parseError(k,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:p,expected:T})}}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(x[0]){case 1:i.push(g);r.push(this.lexer.yytext);o.push(this.lexer.yylloc);i.push(x[1]);g=null;if(b){g=b;b=null}else{u=this.lexer.yyleng;s=this.lexer.yytext;l=this.lexer.yylineno;p=this.lexer.yylloc;c>0&&c--}break;case 2:q=this.productions_[x[1]][1];C.$=r[r.length-q];C._$={first_line:o[o.length-(q||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(q||1)].first_column,last_column:o[o.length-1].last_column};h&&(C._$.range=[o[o.length-(q||1)].range[0],o[o.length-1].range[1]]);S=this.performAction.call(C,s,u,l,this.yy,x[1],r,o);if("undefined"!==typeof S)return S;if(q){i=i.slice(0,-1*q*2);r=r.slice(0,-1*q);o=o.slice(0,-1*q)}i.push(this.productions_[x[1]][0]);r.push(C.$);o.push(C._$);_=a[i[i.length-2]][i[i.length-1]];i.push(_);break;case 3:return true}}return true}};var t=function(){var e={EOF:1,parseError:function e(t,n){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,n)},setInput:function e(t){this._input=t;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function e(){var t=this._input[0];this.yytext+=t;this.yyleng++;this.offset++;this.match+=t;this.matched+=t;var n=t.match(/(?:\r\n?|\n).*/g);if(n){this.yylineno++;this.yylloc.last_line++}else this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return t},unput:function e(t){var n=t.length;var i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-n-1);this.offset-=n;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);i.length-1&&(this.yylineno-=i.length-1);var o=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===r.length?this.yylloc.first_column:0)+r[r.length-i.length].length-i[0].length:this.yylloc.first_column-n};this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-n]);return this},more:function e(){this._more=true;return this},less:function e(t){this.unput(this.match.slice(t))},pastInput:function e(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function e(){var t=this.match;t.length<20&&(t+=this._input.substr(0,20-t.length));return(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function e(){var t=this.pastInput();var n=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+n+"^"},next:function e(){if(this.done)return this.EOF;this._input||(this.done=true);var t,n,i,r,o,a;if(!this._more){this.yytext="";this.match=""}var s=this._currentRules();for(var l=0;l<s.length;l++){i=this._input.match(this.rules[s[l]]);if(i&&(!n||i[0].length>n[0].length)){n=i;r=l;if(!this.options.flex)break}}if(n){a=n[0].match(/(?:\r\n?|\n).*/g);a&&(this.yylineno+=a.length);this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+n[0].length};this.yytext+=n[0];this.match+=n[0];this.matches=n;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=false;this._input=this._input.slice(n[0].length);this.matched+=n[0];t=this.performAction.call(this,this.yy,this,s[r],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=false);return t||void 0}return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function e(){var t=this.next();return"undefined"!==typeof t?t:this.lex()},begin:function e(t){this.conditionStack.push(t)},popState:function e(){return this.conditionStack.pop()},_currentRules:function e(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function e(){return this.conditionStack[this.conditionStack.length-2]},pushState:function e(t){this.begin(t)}};e.options={};e.performAction=function e(t,n,i,r){function o(e,t){return n.yytext=n.yytext.substr(e,n.yyleng-t)}var a=r;switch(i){case 0:if("\\\\"===n.yytext.slice(-2)){o(0,1);this.begin("mu")}else if("\\"===n.yytext.slice(-1)){o(0,1);this.begin("emu")}else this.begin("mu");if(n.yytext)return 15;break;case 1:return 15;case 2:this.popState();return 15;case 3:this.begin("raw");return 15;case 4:this.popState();if("raw"===this.conditionStack[this.conditionStack.length-1])return 15;n.yytext=n.yytext.substr(5,n.yyleng-9);return"END_RAW_BLOCK";case 5:return 15;case 6:this.popState();return 14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:this.popState();this.begin("raw");return 23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:this.popState();return 44;case 16:this.popState();return 44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(n.yytext);this.popState();this.begin("com");break;case 22:this.popState();return 14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:this.popState();return 54;case 30:this.popState();return 33;case 31:n.yytext=o(1,2).replace(/\\"/g,'"');return 80;case 32:n.yytext=o(1,2).replace(/\\'/g,"'");return 80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:n.yytext=n.yytext.replace(/\\([\\\]])/g,"$1");return 72;case 43:return"INVALID";case 44:return 5}};e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/];e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[6],inclusive:false},raw:{rules:[3,4,5],inclusive:false},INITIAL:{rules:[0,1,44],inclusive:true}};return e}();e.lexer=t;function n(){this.yy={}}n.prototype=e;e.Parser=n;return new n}();t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(39);var o=i(r);function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}a.prototype=new o["default"];a.prototype.Program=function(e){var t=!this.options.ignoreStandalone;var n=!this.isRootSeen;this.isRootSeen=true;var i=e.body;for(var r=0,o=i.length;r<o;r++){var a=i[r],d=this.accept(a);if(!d)continue;var f=s(i,r,n),p=l(i,r,n),h=d.openStandalone&&f,v=d.closeStandalone&&p,m=d.inlineStandalone&&f&&p;d.close&&u(i,r,true);d.open&&c(i,r,true);if(t&&m){u(i,r);c(i,r)&&"PartialStatement"===a.type&&(a.indent=/([ \t]+$)/.exec(i[r-1].original)[1])}if(t&&h){u((a.program||a.inverse).body);c(i,r)}if(t&&v){u(i,r);c((a.inverse||a.program).body)}}return e};a.prototype.BlockStatement=a.prototype.DecoratorBlock=a.prototype.PartialBlockStatement=function(e){this.accept(e.program);this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,r=n;if(n&&n.chained){i=n.body[0].program;while(r.chained)r=r.body[r.body.length-1].program}var o={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:l(t.body),closeStandalone:s((i||t).body)};e.openStrip.close&&u(t.body,null,true);if(n){var a=e.inverseStrip;a.open&&c(t.body,null,true);a.close&&u(i.body,null,true);e.closeStrip.open&&c(r.body,null,true);if(!this.options.ignoreStandalone&&s(t.body)&&l(i.body)){c(t.body);u(i.body)}}else e.closeStrip.open&&c(t.body,null,true);return o};a.prototype.Decorator=a.prototype.MustacheStatement=function(e){return e.strip};a.prototype.PartialStatement=a.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:true,open:t.open,close:t.close}};function s(e,t,n){void 0===t&&(t=e.length);var i=e[t-1],r=e[t-2];if(!i)return n;if("ContentStatement"===i.type)return(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original)}function l(e,t,n){void 0===t&&(t=-1);var i=e[t+1],r=e[t+2];if(!i)return n;if("ContentStatement"===i.type)return(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original)}function u(e,t,n){var i=e[null==t?0:t+1];if(!i||"ContentStatement"!==i.type||!n&&i.rightStripped)return;var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,"");i.rightStripped=i.value!==r}function c(e,t,n){var i=e[null==t?e.length-1:t-1];if(!i||"ContentStatement"!==i.type||!n&&i.leftStripped)return;var r=i.value;i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,"");i.leftStripped=i.value!==r;return i.leftStripped}t["default"]=a;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(6);var o=i(r);function a(){this.parents=[]}a.prototype={constructor:a,mutating:false,acceptKey:function e(t,n){var i=this.accept(t[n]);if(this.mutating){if(i&&!a.prototype[i.type])throw new o["default"]('Unexpected node type "'+i.type+'" found when accepting '+n+" on "+t.type);t[n]=i}},acceptRequired:function e(t,n){this.acceptKey(t,n);if(!t[n])throw new o["default"](t.type+" requires "+n)},acceptArray:function e(t){for(var n=0,i=t.length;n<i;n++){this.acceptKey(t,n);if(!t[n]){t.splice(n,1);n--;i--}}},accept:function e(t){if(!t)return;if(!this[t.type])throw new o["default"]("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current);this.current=t;var n=this[t.type](t);this.current=this.parents.shift();if(!this.mutating||n)return n;if(false!==n)return t},Program:function e(t){this.acceptArray(t.body)},MustacheStatement:s,Decorator:s,BlockStatement:l,DecoratorBlock:l,PartialStatement:u,PartialBlockStatement:function e(t){u.call(this,t);this.acceptKey(t,"program")},ContentStatement:function e(){},CommentStatement:function e(){},SubExpression:s,PathExpression:function e(){},StringLiteral:function e(){},NumberLiteral:function e(){},BooleanLiteral:function e(){},UndefinedLiteral:function e(){},NullLiteral:function e(){},Hash:function e(t){this.acceptArray(t.pairs)},HashPair:function e(t){this.acceptRequired(t,"value")}};function s(e){this.acceptRequired(e,"path");this.acceptArray(e.params);this.acceptKey(e,"hash")}function l(e){s.call(this,e);this.acceptKey(e,"program");this.acceptKey(e,"inverse")}function u(e){this.acceptRequired(e,"name");this.acceptArray(e.params);this.acceptKey(e,"hash")}t["default"]=a;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.SourceLocation=s;t.id=l;t.stripFlags=u;t.stripComment=c;t.preparePath=d;t.prepareMustache=f;t.prepareRawBlock=p;t.prepareBlock=h;t.prepareProgram=v;t.preparePartialBlock=m;var r=n(6);var o=i(r);function a(e,t){t=t.path?t.path.original:t;if(e.path.original!==t){var n={loc:e.path.loc};throw new o["default"](e.path.original+" doesn't match "+t,n)}}function s(e,t){this.source=e;this.start={line:t.first_line,column:t.first_column};this.end={line:t.last_line,column:t.last_column}}function l(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function u(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function c(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function d(e,t,n){n=this.locInfo(n);var i=e?"@":"",r=[],a=0;for(var s=0,l=t.length;s<l;s++){var u=t[s].part,c=t[s].original!==u;i+=(t[s].separator||"")+u;if(c||".."!==u&&"."!==u&&"this"!==u)r.push(u);else{if(r.length>0)throw new o["default"]("Invalid path: "+i,{loc:n});".."===u&&a++}}return{type:"PathExpression",data:e,depth:a,parts:r,original:i,loc:n}}function f(e,t,n,i,r,o){var a=i.charAt(3)||i.charAt(2),s="{"!==a&&"&"!==a;var l=/\*/.test(i);return{type:l?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:r,loc:this.locInfo(o)}}function p(e,t,n,i){a(e,n);i=this.locInfo(i);var r={type:"Program",body:t,strip:{},loc:i};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function h(e,t,n,i,r,s){i&&i.path&&a(e,i);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var u=void 0,c=void 0;if(n){if(l)throw new o["default"]("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip);c=n.strip;u=n.program}if(r){r=u;u=t;t=r}return{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:u,openStrip:e.strip,inverseStrip:c,closeStrip:i&&i.strip,loc:this.locInfo(s)}}function v(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function m(e,t,n,i){a(e,n);return{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.Compiler=c;t.precompile=d;t.compile=f;var r=n(6);var o=i(r);var a=n(5);var s=n(35);var l=i(s);var u=[].slice;function c(){}c.prototype={compiler:c,equals:function e(t){var n=this.opcodes.length;if(t.opcodes.length!==n)return false;for(var i=0;i<n;i++){var r=this.opcodes[i],o=t.opcodes[i];if(r.opcode!==o.opcode||!p(r.args,o.args))return false}n=this.children.length;for(var i=0;i<n;i++)if(!this.children[i].equals(t.children[i]))return false;return true},guid:0,compile:function e(t,n){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=n;this.stringParams=n.stringParams;this.trackIds=n.trackIds;n.blockParams=n.blockParams||[];var i=n.knownHelpers;n.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,if:true,unless:true,with:true,log:true,lookup:true};if(i)for(var r in i)this.options.knownHelpers[r]=i[r];return this.accept(t)},compileProgram:function e(t){var n=new this.compiler,i=n.compile(t,this.options),r=this.guid++;this.usePartial=this.usePartial||i.usePartial;this.children[r]=i;this.useDepths=this.useDepths||i.useDepths;return r},accept:function e(t){if(!this[t.type])throw new o["default"]("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var n=this[t.type](t);this.sourceNode.shift();return n},Program:function e(t){this.options.blockParams.unshift(t.blockParams);var n=t.body,i=n.length;for(var r=0;r<i;r++)this.accept(n[r]);this.options.blockParams.shift();this.isSimple=1===i;this.blockParams=t.blockParams?t.blockParams.length:0;return this},BlockStatement:function e(t){h(t);var n=t.program,i=t.inverse;n=n&&this.compileProgram(n);i=i&&this.compileProgram(i);var r=this.classifySexpr(t);if("helper"===r)this.helperSexpr(t,n,i);else if("simple"===r){this.simpleSexpr(t);this.opcode("pushProgram",n);this.opcode("pushProgram",i);this.opcode("emptyHash");this.opcode("blockValue",t.path.original)}else{this.ambiguousSexpr(t,n,i);this.opcode("pushProgram",n);this.opcode("pushProgram",i);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},DecoratorBlock:function e(t){var n=t.program&&this.compileProgram(t.program);var i=this.setupFullMustacheParams(t,n,void 0),r=t.path;this.useDecorators=true;this.opcode("registerDecorator",i.length,r.original)},PartialStatement:function e(t){this.usePartial=true;var n=t.program;n&&(n=this.compileProgram(t.program));var i=t.params;if(i.length>1)throw new o["default"]("Unsupported number of partial arguments: "+i.length,t);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var r=t.name.original,a="SubExpression"===t.name.type;a&&this.accept(t.name);this.setupFullMustacheParams(t,n,void 0,true);var s=t.indent||"";if(this.options.preventIndent&&s){this.opcode("appendContent",s);s=""}this.opcode("invokePartial",a,r,s);this.opcode("append")},PartialBlockStatement:function e(t){this.PartialStatement(t)},MustacheStatement:function e(t){this.SubExpression(t);t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function e(t){this.DecoratorBlock(t)},ContentStatement:function e(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function e(){},SubExpression:function e(t){h(t);var n=this.classifySexpr(t);"simple"===n?this.simpleSexpr(t):"helper"===n?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function e(t,n,i){var r=t.path,o=r.parts[0],a=null!=n||null!=i;this.opcode("getContext",r.depth);this.opcode("pushProgram",n);this.opcode("pushProgram",i);r.strict=true;this.accept(r);this.opcode("invokeAmbiguous",o,a)},simpleSexpr:function e(t){var n=t.path;n.strict=true;this.accept(n);this.opcode("resolvePossibleLambda")},helperSexpr:function e(t,n,i){var r=this.setupFullMustacheParams(t,n,i),a=t.path,s=a.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",r.length,s);else{if(this.options.knownHelpersOnly)throw new o["default"]("You specified knownHelpersOnly, but used the unknown helper "+s,t);a.strict=true;a.falsy=true;this.accept(a);this.opcode("invokeHelper",r.length,a.original,l["default"].helpers.simpleId(a))}},PathExpression:function e(t){this.addDepth(t.depth);this.opcode("getContext",t.depth);var n=t.parts[0],i=l["default"].helpers.scopedId(t),r=!t.depth&&!i&&this.blockParamIndex(n);if(r)this.opcode("lookupBlockParam",r,t.parts);else if(n)if(t.data){this.options.data=true;this.opcode("lookupData",t.depth,t.parts,t.strict)}else this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i);else this.opcode("pushContext")},StringLiteral:function e(t){this.opcode("pushString",t.value)},NumberLiteral:function e(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function e(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function e(){this.opcode("pushLiteral","undefined")},NullLiteral:function e(){this.opcode("pushLiteral","null")},Hash:function e(t){var n=t.pairs,i=0,r=n.length;this.opcode("pushHash");for(;i<r;i++)this.pushParam(n[i].value);while(i--)this.opcode("assignToHash",n[i].key);this.opcode("popHash")},opcode:function e(t){this.opcodes.push({opcode:t,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function e(t){if(!t)return;this.useDepths=true},classifySexpr:function e(t){var n=l["default"].helpers.simpleId(t.path);var i=n&&!!this.blockParamIndex(t.path.parts[0]);var r=!i&&l["default"].helpers.helperExpression(t);var o=!i&&(r||n);if(o&&!r){var a=t.path.parts[0],s=this.options;s.knownHelpers[a]?r=true:s.knownHelpersOnly&&(o=false)}return r?"helper":o?"ambiguous":"simple"},pushParams:function e(t){for(var n=0,i=t.length;n<i;n++)this.pushParam(t[n])},pushParam:function e(t){var n=null!=t.value?t.value:t.original||"";if(this.stringParams){n.replace&&(n=n.replace(/^(\.?\.\/)*/g,"").replace(/\//g,"."));t.depth&&this.addDepth(t.depth);this.opcode("getContext",t.depth||0);this.opcode("pushStringParam",n,t.type);"SubExpression"===t.type&&this.accept(t)}else{if(this.trackIds){var i=void 0;!t.parts||l["default"].helpers.scopedId(t)||t.depth||(i=this.blockParamIndex(t.parts[0]));if(i){var r=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,r)}else{n=t.original||n;n.replace&&(n=n.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,""));this.opcode("pushId",t.type,n)}}this.accept(t)}},setupFullMustacheParams:function e(t,n,i,r){var o=t.params;this.pushParams(o);this.opcode("pushProgram",n);this.opcode("pushProgram",i);t.hash?this.accept(t.hash):this.opcode("emptyHash",r);return o},blockParamIndex:function e(t){for(var n=0,i=this.options.blockParams.length;n<i;n++){var r=this.options.blockParams[n],o=r&&a.indexOf(r,t);if(r&&o>=0)return[n,o]}}};function d(e,t,n){if(null==e||"string"!==typeof e&&"Program"!==e.type)throw new o["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{};"data"in t||(t.data=true);t.compat&&(t.useDepths=true);var i=n.parse(e,t),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function f(e,t,n){void 0===t&&(t={});if(null==e||"string"!==typeof e&&"Program"!==e.type)throw new o["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=a.extend({},t);"data"in t||(t.data=true);t.compat&&(t.useDepths=true);var i=void 0;function r(){var i=n.parse(e,t),r=(new n.Compiler).compile(i,t),o=(new n.JavaScriptCompiler).compile(r,t,void 0,true);return n.template(o)}function s(e,t){i||(i=r());return i.call(this,e,t)}s._setup=function(e){i||(i=r());return i._setup(e)};s._child=function(e,t,n,o){i||(i=r());return i._child(e,t,n,o)};return s}function p(e,t){if(e===t)return true;if(a.isArray(e)&&a.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!p(e[n],t[n]))return false;return true}}function h(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:false,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var r=n(4);var o=n(6);var a=i(o);var s=n(5);var l=n(43);var u=i(l);function c(e){this.value=e}function d(){}d.prototype={nameLookup:function e(t,n){return d.isValidJavaScriptVariableName(n)?[t,".",n]:[t,"[",JSON.stringify(n),"]"]},depthedLookup:function e(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function e(){var t=r.COMPILER_REVISION,n=r.REVISION_CHANGES[t];return[t,n]},appendToBuffer:function e(t,n,i){s.isArray(t)||(t=[t]);t=this.source.wrap(t,n);if(this.environment.isSimple)return["return ",t,";"];if(i)return["buffer += ",t,";"];t.appendToBuffer=true;return t},initializeBuffer:function e(){return this.quotedString("")},compile:function e(t,n,i,r){this.environment=t;this.options=n;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!r;this.name=this.environment.name;this.isChild=!!i;this.context=i||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(t,n);this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||t.useBlockParams;var o=t.opcodes,s=void 0,l=void 0,u=void 0,c=void 0;for(u=0,c=o.length;u<c;u++){s=o[u];this.source.currentLocation=s.loc;l=l||s.loc;this[s.opcode].apply(this,s.args)}this.source.currentLocation=l;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new a["default"]("Compile completed with content left on stack");if(this.decorators.isEmpty())this.decorators=void 0;else{this.useDecorators=true;this.decorators.prepend("var decorators = container.decorators;\n");this.decorators.push("return fn;");if(r)this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]);else{this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n");this.decorators.push("}\n");this.decorators=this.decorators.merge()}}var d=this.createFunctionContext(r);if(this.isChild)return d;var f={compiler:this.compilerInfo(),main:d};if(this.decorators){f.main_d=this.decorators;f.useDecorators=true}var p=this.context;var h=p.programs;var v=p.decorators;for(u=0,c=h.length;u<c;u++)if(h[u]){f[u]=h[u];if(v[u]){f[u+"_d"]=v[u];f.useDecorators=true}}this.environment.usePartial&&(f.usePartial=true);this.options.data&&(f.useData=true);this.useDepths&&(f.useDepths=true);this.useBlockParams&&(f.useBlockParams=true);this.options.compat&&(f.compat=true);if(r)f.compilerOptions=this.options;else{f.compiler=JSON.stringify(f.compiler);this.source.currentLocation={start:{line:1,column:0}};f=this.objectLiteral(f);if(n.srcName){f=f.toStringWithSourceMap({file:n.destName});f.map=f.map&&f.map.toString()}else f=f.toString()}return f},preamble:function e(){this.lastContext=0;this.source=new u["default"](this.options.srcName);this.decorators=new u["default"](this.options.srcName)},createFunctionContext:function e(t){var n="";var i=this.stackVars.concat(this.registers.list);i.length>0&&(n+=", "+i.join(", "));var r=0;for(var o in this.aliases){var a=this.aliases[o];if(this.aliases.hasOwnProperty(o)&&a.children&&a.referenceCount>1){n+=", alias"+ ++r+"="+o;a.children[0]="alias"+r}}var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams");this.useDepths&&s.push("depths");var l=this.mergeSource(n);if(t){s.push(l);return Function.apply(this,s)}return this.source.wrap(["function(",s.join(","),") {\n  ",l,"}"])},mergeSource:function e(t){var n=this.environment.isSimple,i=!this.forceBuffer,r=void 0,o=void 0,a=void 0,s=void 0;this.source.each(function(e){if(e.appendToBuffer){a?e.prepend("  + "):a=e;s=e}else{if(a){o?a.prepend("buffer += "):r=true;s.add(";");a=s=void 0}o=true;n||(i=false)}});if(i)if(a){a.prepend("return ");s.add(";")}else o||this.source.push('return "";');else{t+=", buffer = "+(r?"":this.initializeBuffer());if(a){a.prepend("return buffer + ");s.add(";")}else this.source.push("return buffer;")}t&&this.source.prepend("var "+t.substring(2)+(r?"":";\n"));return this.source.merge()},blockValue:function e(t){var n=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var r=this.popStack();i.splice(1,0,r);this.push(this.source.functionCall(n,"call",i))},ambiguousBlockValue:function e(){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs("",0,n,true);this.flushInline();var i=this.topStack();n.splice(1,0,i);this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",n),"}"])},appendContent:function e(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation;this.pendingContent=t},append:function e(){if(this.isInline()){this.replaceStack(function(e){return[" != null ? ",e,' : ""']});this.pushSource(this.appendToBuffer(this.popStack()))}else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,true)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,true)," }"])}},appendEscaped:function e(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function e(t){this.lastContext=t},pushContext:function e(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function e(t,n,i,r){var o=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[o++]));this.resolvePath("context",t,o,n,i)},lookupBlockParam:function e(t,n){this.useBlockParams=true;this.push(["blockParams[",t[0],"][",t[1],"]"]);this.resolvePath("context",n,1)},lookupData:function e(t,n,i){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data");this.resolvePath("data",n,0,true,i)},resolvePath:function e(t,n,i,r,o){var a=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&o,this,n,t));return}var s=n.length;for(;i<s;i++)this.replaceStack(function(e){var o=a.nameLookup(e,n[i],t);return r?[" && ",o]:[" != null ? ",o," : ",e]})},resolvePossibleLambda:function e(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function e(t,n){this.pushContext();this.pushString(n);"SubExpression"!==n&&("string"===typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function e(t){this.trackIds&&this.push("{}");if(this.stringParams){this.push("{}");this.push("{}")}this.pushStackLiteral(t?"undefined":"{}")},pushHash:function e(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function e(){var t=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(t.ids));if(this.stringParams){this.push(this.objectLiteral(t.contexts));this.push(this.objectLiteral(t.types))}this.push(this.objectLiteral(t.values))},pushString:function e(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function e(t){this.pushStackLiteral(t)},pushProgram:function e(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function e(t,n){var i=this.nameLookup("decorators",n,"decorator"),r=this.setupHelperArgs(n,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",r])," || fn;"])},invokeHelper:function e(t,n,i){var r=this.popStack(),o=this.setupHelper(t,n),a=i?[o.name," || "]:"";var s=["("].concat(a,r);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing"));s.push(")");this.push(this.source.functionCall(s,"call",o.callParams))},invokeKnownHelper:function e(t,n){var i=this.setupHelper(t,n);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function e(t,n){this.useRegister("helper");var i=this.popStack();this.emptyHash();var r=this.setupHelper(0,t,n);var o=this.lastHelper=this.nameLookup("helpers",t,"helper");var a=["(","(helper = ",o," || ",i,")"];if(!this.options.strict){a[0]="(helper = ";a.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))}this.push(["(",a,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function e(t,n,i){var r=[],o=this.setupParams(n,1,r);if(t){n=this.popStack();delete o.name}i&&(o.indent=JSON.stringify(i));o.helpers="helpers";o.partials="partials";o.decorators="container.decorators";t?r.unshift(n):r.unshift(this.nameLookup("partials",n,"partial"));this.options.compat&&(o.depths="depths");o=this.objectLiteral(o);r.push(o);this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function e(t){var n=this.popStack(),i=void 0,r=void 0,o=void 0;this.trackIds&&(o=this.popStack());if(this.stringParams){r=this.popStack();i=this.popStack()}var a=this.hash;i&&(a.contexts[t]=i);r&&(a.types[t]=r);o&&(a.ids[t]=o);a.values[t]=n},pushId:function e(t,n,i){"BlockParam"===t?this.pushStackLiteral("blockParams["+n[0]+"].path["+n[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===t?this.pushString(n):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:d,compileChildren:function e(t,n){var i=t.children,r=void 0,o=void 0;for(var a=0,s=i.length;a<s;a++){r=i[a];o=new this.compiler;var l=this.matchExistingProgram(r);if(null==l){this.context.programs.push("");var u=this.context.programs.length;r.index=u;r.name="program"+u;this.context.programs[u]=o.compile(r,n,this.context,!this.precompile);this.context.decorators[u]=o.decorators;this.context.environments[u]=r;this.useDepths=this.useDepths||o.useDepths;this.useBlockParams=this.useBlockParams||o.useBlockParams;r.useDepths=this.useDepths;r.useBlockParams=this.useBlockParams}else{r.index=l.index;r.name="program"+l.index;this.useDepths=this.useDepths||l.useDepths;this.useBlockParams=this.useBlockParams||l.useBlockParams}}},matchExistingProgram:function e(t){for(var n=0,i=this.context.environments.length;n<i;n++){var r=this.context.environments[n];if(r&&r.equals(t))return r}},programExpression:function e(t){var n=this.environment.children[t],i=[n.index,"data",n.blockParams];(this.useBlockParams||this.useDepths)&&i.push("blockParams");this.useDepths&&i.push("depths");return"container.program("+i.join(", ")+")"},useRegister:function e(t){if(!this.registers[t]){this.registers[t]=true;this.registers.list.push(t)}},push:function e(t){t instanceof c||(t=this.source.wrap(t));this.inlineStack.push(t);return t},pushStackLiteral:function e(t){this.push(new c(t))},pushSource:function e(t){if(this.pendingContent){this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation));this.pendingContent=void 0}t&&this.source.push(t)},replaceStack:function e(t){var n=["("],i=void 0,r=void 0,o=void 0;if(!this.isInline())throw new a["default"]("replaceStack on non-inline");var s=this.popStack(true);if(s instanceof c){i=[s.value];n=["(",i];o=true}else{r=true;var l=this.incrStack();n=["((",this.push(l)," = ",s,")"];i=this.topStack()}var u=t.call(this,i);o||this.popStack();r&&this.stackSlot--;this.push(n.concat(u,")"))},incrStack:function e(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function e(){return"stack"+this.stackSlot},flushInline:function e(){var t=this.inlineStack;this.inlineStack=[];for(var n=0,i=t.length;n<i;n++){var r=t[n];if(r instanceof c)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]);this.compileStack.push(o)}}},isInline:function e(){return this.inlineStack.length},popStack:function e(t){var n=this.isInline(),i=(n?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof c)return i.value;if(!n){if(!this.stackSlot)throw new a["default"]("Invalid stack pop");this.stackSlot--}return i},topStack:function e(){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return n instanceof c?n.value:n},contextName:function e(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function e(t){return this.source.quotedString(t)},objectLiteral:function e(t){return this.source.objectLiteral(t)},aliasable:function e(t){var n=this.aliases[t];if(n){n.referenceCount++;return n}n=this.aliases[t]=this.source.wrap(t);n.aliasable=true;n.referenceCount=1;return n},setupHelper:function e(t,n,i){var r=[],o=this.setupHelperArgs(n,t,r,i);var a=this.nameLookup("helpers",n,"helper"),s=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:r,paramsInit:o,name:a,callParams:[s].concat(r)}},setupParams:function e(t,n,i){var r={},o=[],a=[],s=[],l=!i,u=void 0;l&&(i=[]);r.name=this.quotedString(t);r.hash=this.popStack();this.trackIds&&(r.hashIds=this.popStack());if(this.stringParams){r.hashTypes=this.popStack();r.hashContexts=this.popStack()}var c=this.popStack(),d=this.popStack();if(d||c){r.fn=d||"container.noop";r.inverse=c||"container.noop"}var f=n;while(f--){u=this.popStack();i[f]=u;this.trackIds&&(s[f]=this.popStack());if(this.stringParams){a[f]=this.popStack();o[f]=this.popStack()}}l&&(r.args=this.source.generateArray(i));this.trackIds&&(r.ids=this.source.generateArray(s));if(this.stringParams){r.types=this.source.generateArray(a);r.contexts=this.source.generateArray(o)}this.options.data&&(r.data="data");this.useBlockParams&&(r.blockParams="blockParams");return r},setupHelperArgs:function e(t,n,i,r){var o=this.setupParams(t,n,i);o=this.objectLiteral(o);if(r){this.useRegister("options");i.push("options");return["options=",o]}if(i){i.push(o);return""}return o}};(function(){var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" ");var t=d.RESERVED_WORDS={};for(var n=0,i=e.length;n<i;n++)t[e[n]]=true})();d.isValidJavaScriptVariableName=function(e){return!d.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)};function f(e,t,n,i){var r=t.popStack(),o=0,a=n.length;e&&a--;for(;o<a;o++)r=t.nameLookup(r,n[o],i);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[o]),")"]:r}t["default"]=d;e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);var r=void 0;try{var o;false}catch(e){}if(!r){r=function(e,t,n,i){this.src="";i&&this.add(i)};r.prototype={add:function e(t){i.isArray(t)&&(t=t.join(""));this.src+=t},prepend:function e(t){i.isArray(t)&&(t=t.join(""));this.src=t+this.src},toStringWithSourceMap:function e(){return{code:this.toString()}},toString:function e(){return this.src}}}function a(e,t,n){if(i.isArray(e)){var r=[];for(var o=0,a=e.length;o<a;o++)r.push(t.wrap(e[o],n));return r}if("boolean"===typeof e||"number"===typeof e)return e+"";return e}function s(e){this.srcFile=e;this.source=[]}s.prototype={isEmpty:function e(){return!this.source.length},prepend:function e(t,n){this.source.unshift(this.wrap(t,n))},push:function e(t,n){this.source.push(this.wrap(t,n))},merge:function e(){var t=this.empty();this.each(function(e){t.add(["  ",e,"\n"])});return t},each:function e(t){for(var n=0,i=this.source.length;n<i;n++)t(this.source[n])},empty:function e(){var t=this.currentLocation||{start:{}};return new r(t.start.line,t.start.column,this.srcFile)},wrap:function e(t){var n=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];if(t instanceof r)return t;t=a(t,this,n);return new r(n.start.line,n.start.column,this.srcFile,t)},functionCall:function e(t,n,i){i=this.generateList(i);return this.wrap([t,n?"."+n+"(":"(",i,")"])},quotedString:function e(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function e(t){var n=[];for(var i in t)if(t.hasOwnProperty(i)){var r=a(t[i],this);"undefined"!==r&&n.push([this.quotedString(i),":",r])}var o=this.generateList(n);o.prepend("{");o.add("}");return o},generateList:function e(t){var n=this.empty();for(var i=0,r=t.length;i<r;i++){i&&n.add(",");n.add(a(t[i],this))}return n},generateArray:function e(t){var n=this.generateList(t);n.prepend("[");n.add("]");return n}};t["default"]=s;e.exports=t["default"]}])})},function(e,t){e.exports='<lui-dialog class="custom-connector-component-dialog select-dialog">\n\t<qv-spinner show="iframeLoading" spinner-height="100px" spinner-width="100px" center-in-parent="true"></qv-spinner>\n\t<qv-connector-iframe location="dialogLocation" done-loading="initialize()"></qv-connector-iframe>\n\t<div class="lui-dialog__footer">\n\t\t<lui-button tid="cancelGenericSelectDialog" ng-click="cancel()" q-translation="Common.Cancel"></lui-button>\n\t\t<lui-button tid="closeGenericSelectDialog" ng-click="insertScript()" ng-disabled="isInsertDisabled" q-translation="scripteditor.dataconnectors.addToScript">Insert Script</lui-button>\n  </div>\n\n</lui-dialog>\n'},function(e,t){e.exports='<div class="add-data-select-frame">\n\t<qv-spinner show="iframeLoading" spinner-height="100px" spinner-width="100px" center-in-parent="true"></qv-spinner>\n\t<qv-connector-iframe location="dialogLocation" done-loading="initialize()"></qv-connector-iframe>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(995),n(163),n(50),n(49),n(13),n(607)],r=function(e,t,n,i,r){var o=["$scope","input","$timeout",function(o,a,s){var l;var u=a;o.isInsertDisabled=true;o.iframeLoading=true;o.dialogLocation=a.connectorInstance.type.selectDialog;function c(e){e&&o.cancel()}o.initialize=function(){o.iframeLoading=false;n.ViewChanged.bind(c);var a=document.querySelector("#custom-connector-frame");l=e.default.connectToChild({url:o.dialogLocation,appendTo:a,methods:{processJsonRequest:function e(t){return u.serverside.sendJsonRequest.apply(this,t)},updateState:function e(t){s(function(){o.isInsertDisabled=t.isNextDisabled})}}});l.promise.then(function(e){e.initializeController({helpUrl:t.path,tableModelToEdit:void 0,datasource:JSON.stringify(u.connectorInstance),useDcaas:i.getFlag("CONNECTOR_DCAAS"),dcaasHost:r.rootPath+"api/dcaas"})},function e(){})};o.$on("$destroy",function(){l&&l.destroy();n.ViewChanged.unbind(c)});o.insertScript=function(){o.isInsertDisabled=true;l.promise.then(function(e){e.getFinalScript().then(function(e){a.scriptEditorProxy.insertCode(e,a.connectorInstance);o.close()})})};o.cancel=function(){o.close()}}];return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(995),n(163),n(49),n(13),n(607)],r=function(e,t,n,i){var r=["$scope","input","$timeout",function(r,o,a){var s;var l=o;r.isInsertDisabled=true;r.iframeLoading=true;r.dialogLocation=o.dataconnectorInstance.type.selectAddData;r.initialize=function(){r.iframeLoading=false;var u=document.querySelector("#custom-connector-frame");s=e.default.connectToChild({url:r.dialogLocation,appendTo:u,methods:{processJsonRequest:function e(t){return l.serverside.sendJsonRequest.apply(this,t)},updateState:function e(t){a(function(){r.isInsertDisabled=t.isNextDisabled})},getTableModelByDatabasePath:function e(t,n,i){return o.dataconnectionSelectionEditor.getTableModelByDatabasePath(t,n,i)}}});s.promise.then(function(e){e.initializeController({helpUrl:t.path,tableModelToEdit:l.tableModelToEdit,datasource:JSON.stringify(l.connectorInstance),useDcaas:n.getFlag("CONNECTOR_DCAAS"),dcaasHost:i.rootPath+"api/dcaas"});o.dataconnectionSelectionEditor.setMetadataModelForConnection({});o.qvDialogContext.iframe=true;o.qvDialogContext.nextDisabled=function(){return r.isInsertDisabled};o.qvDialogContext.finishDisabled=function(){return r.isInsertDisabled};o.qvDialogContext.next=function(){return s.promise.then(function(e){var t=o.dataconnectionSelectionEditor.getTablesForConnector();return e.buildLoadModelTables(t,o.dataconnectorInstance.name).then(function(e){o.dataconnectionSelectionEditor.updateTablesForConnector(e);o.qvDialogContext.connectorNextComplete()})})};o.qvDialogContext.finish=function(){return s.promise.then(function(e){var t=o.dataconnectionSelectionEditor.getTablesForConnector();return e.buildLoadModelTables(t,o.dataconnectorInstance.name).then(function(e){o.dataconnectionSelectionEditor.updateTablesForConnector(e);o.qvDialogContext.connectorFinishComplete()})})}},function e(){})};r.close=function(){s&&s.destroy();r.destroyComponent()}}];return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(1207));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function s(e){o(a,i,r,s,l,"next",e)}function l(e){o(a,i,r,s,l,"throw",e)}s(void 0)})}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function u(e,t,n){t&&l(e.prototype,t);n&&l(e,n);return e}var c=function(){function e(t,n){s(this,e);this.app=t;this.useDcaas=n}u(e,[{key:"getConnections",value:function e(){this.connections=[];return this.connections}},{key:"getDataSources",value:function(){var e=a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:if(this.dataSources){n.next=5;break}n.next=3;return(0,i.default)(this.useDcaas);case 3:t=n.sent;this.dataSources=t;case 5:return n.abrupt("return",this.dataSources);case 6:case"end":return n.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]);return e}();var d=c;t.default=d;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(n(2));var r=s(n(13));var o=s(n(1208));var a=s(n(494));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){l(o,i,r,a,s,"next",e)}function s(e){l(o,i,r,a,s,"throw",e)}a(void 0)})}}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));i.forEach(function(t){d(e,t,n[t])})}return e}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var f="".concat(r.default.rootPath,"api/dcaas/datasources");var p=function e(t){var n={};var i=t.map(function(e){var t=c({},e,{providerInfo:{},connectorType:{}});var i=e.provider.substr(0,e.provider.lastIndexOf("."))||e.provider;var o="".concat(r.default.rootPath,"customdata/64/").concat(i,"/web");var s="".concat(i,".root");n[s]=o;t.displayName=e.dataSourceName;t.connectorType.connectDialog="".concat(s,"/connectdialog");t.connectorType.selectDialog="".concat(s,"/selectdialog");t.connectorType.selectStep="".concat(s,"/select-step");t.connectorType.connectStep="".concat(s,"/connect-step");t.connectorType.connectorMain="".concat(s,"/connector-main");t.connectorType.isStorageProvider=false;t.connectorType.type="custom";t.connectorType.needsConnect=true;t.connectorType.provider=e.provider;t.connectorType.isStorageProvider=false;t.category="database";return new a.default(t)});window.requirejs.config.call(null,{paths:n});return i};var h=function(){var e=u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return(0,i.default)({method:"GET",url:f});case 2:t=n.sent;return n.abrupt("return",p(t.data.dataSources).concat(o.default));case 4:case"end":return n.stop()}},e)}));return function t(){return e.apply(this,arguments)}}();var v=function e(){var t=(0,i.default)({method:"GET",url:"".concat(r.default.rootPath,"api/v0/connectorregistryproxy/datasources")}).then(function(e){return e.data});return t};var m=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return h();return v()};var g=m;t.default=g;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(494));function r(e){return e&&e.__esModule?e:{default:e}}var o=[{dataSourceId:"scripteditor.flatfilechooser.files.all",id:"scripteditor.flatfilechooser.files.all",dataSourceName:"scripteditor.dataconnectors.filedirectory",displayName:"scripteditor.dataconnectors.filedirectory",category:"file",provider:"folder",connectorType:{provider:"folder",isStorageProvider:false,type:"folder",displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectorMain:"assets/hldm/data-connectors/native-file-connector/connector-main",needsConnect:false,isStandardConnector:true}},{dataSourceId:"ODBC",dataSourceName:"scripteditor.dataconnectors.ODBC",displayName:"scripteditor.dataconnectors.ODBC",category:"database",provider:"ODBC",connectorType:{provider:"ODBC",isStorageProvider:false,type:"ODBC",displayName:"scripteditor.dataconnectors.ODBC",connectDialog:"scripteditor.views/odbcconnectdialog/odbcconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-odbc-connector/connector-main",needsConnect:true,isStandardConnector:true}},{dataSourceId:"OLEDB",dataSourceName:"scripteditor.dataconnectors.OLEDB",displayName:"scripteditor.dataconnectors.OLEDB",category:"database",connectorType:{provider:"OLEDB",isStorageProvider:false,type:"OLEDB",displayName:"scripteditor.dataconnectors.OLEDB",connectDialog:"scripteditor.views/oledbconnectdialog/oledbconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-oledb-connector/connector-main",needsConnect:true,isStandardConnector:true}},{dataSourceId:"internet",dataSourceName:"internet",displayName:"internet",category:"web",connectorType:{provider:"internet",isStorageProvider:false,type:"internet",displayName:"scripteditor.dataconnectors.webfile",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectDialog:"scripteditor.views/webfilechooser/webfilechooser",connectorMain:"assets/hldm/data-connectors/native-webfile-connector/connector-main",needsConnect:false,isStandardConnector:true}},{dataSourceId:"BDI",dataSourceName:"BDI",displayName:"QABDI",category:"database",connectorType:{provider:"BDI.exe",isStorageProvider:false,type:"BDI",displayName:"QABDI",selectDialog:"assets/hldm/data-connectors/bdi/bdi-select-dialog",connectDialog:"assets/hldm/data-connectors/bdi/bdi-connect-dialog",connectorMain:"assets/hldm/data-connectors/bdi/connector-main",needsConnect:true,isStandardConnector:true}}].map(function(e){return new i.default(e)});var a=o;t.default=a;e.exports=t.default},function(e,t){e.exports='<div class="qv-modal-container qui-modalbackground" qva-outside-ignore-for="allOutside" ng-style="containerStyle">\n\t<div class="qui-delayedModal" qv-global-escape="onEscape()">\n\t\t<header class="dm-header">{{ translatedHeader }}</header>\n\t\t<main class="dm-main">\n\t\t\t<p>{{ translatedContent }}</p>\n\t\t\t<span ng-if="options.moreContent">\n\t\t\t\t<br>\n\t\t\t\t<span q-translation="{{ options.moreContent }}"></span>\n\t\t\t</span>\n\n\t\t</main>\n\t\t<footer class="dm-footer">\n\t\t\t<lui-button x-variant="inverse" ng-if="options.showDeclineButton" qva-activate="$event.preventDefault(); onDeclineButtonClicked();" q-translation="{{ options.declineButtonTitle }}" id="declineButton" tid="2e68fc"></lui-button>\n\t\t\t<lui-button x-variant="inverse" ng-if="options.showConfirmButton" qva-activate="$event.preventDefault(); onConfirmButtonClicked();" q-translation="{{ options.confirmButtonTitle }}" id="confirmButton" tid="2e68f8" qva-focus="true"></lui-button>\n\t\t</footer>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(89),n(93),n(48)],r=function(e,t,n,i){var r={qInfo:{qId:"LoadModelList",qType:"LoadModelList"},qAppObjectListDef:{qType:"LoadModel"}};function o(e){for(var t in e)if("LoadModel"===e[t].qInfo.qId)return true;return false}var a;var s;function l(){if(!s){s=new t;d()}}function u(){l();return s.promise}function c(i){l();var r=new t;var o={qInfo:{qType:"LoadModel",qId:"LoadModel"}};e.extend(o,i);a?r.resolve():n.getApp().then(function(e){e.createObject(o).then(function(){r.resolve()})});return r.promise.then(function(){s.promise.then(function(){return a.setProperties(o)})})}function d(){n.getApp().then(function(e){e.getListObject(r).then(function(t){t.getLayout().then(function(t){if(o(t))e.getObject("LoadModel").then(function(e){a=e;s.resolve(e)});else{delete e._listCache["LoadModelList"];i.getService("$timeout")(d,2e3)}})})})}return{awaitGenericObject:u,setProperties:c}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(285),n(91)],r=function(e,t){var n=[];var i={DEFAULT:"default",WARNING:"warning",ERROR:"error",EMPTY:"empty"};var r="scripteditor.bottompane.output",o="---";function a(e){for(var t in i)if(e===i[t])return true;return false}function s(e,t,i){var r=u(e,t,i);n.push(r);l();return r}function l(){e.notifyAll(r,n)}function u(e,t,n){n||(n=new Date);e===i.EMPTY&&(t=o);var r=function e(){};Object.defineProperty(r.prototype,"type",{set:function e(t){if(!t)throw new Error("Message type is undefined.");if(!a(t))throw new Error('Invalid message type "'+t+'".');this._type=t},get:function e(){return this._type}});Object.defineProperty(r.prototype,"text",{set:function e(t){if(!t)throw new Error("Text is undefined.");this._text=t},get:function e(){return this._text}});Object.defineProperty(r.prototype,"created",{set:function e(t){if(!t)throw new Error("Created is undefined.");this._created=t},get:function e(){return this._created}});var s=new r;s.type=e;s.text=t;s.created=n;return s}function c(e){var t=n.indexOf(e);if(-1===t)throw new Error("Unknown message to remove.");n.splice(t,1);l()}function d(t){e.addObserver(r,t)}function f(){return n}function p(){n=[];s(i.DEFAULT,t.get("scripteditor.console.outputcleared"))}function h(){l()}function v(t){e.removeObserver(r,t)}return{MESSAGE_TYPE:i,addMessage:s,removeMessage:c,clear:p,onMessagesUpdated:d,messagesHasBeenUpdated:h,getMessages:f,removeObserver:v}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(){var e=t().concat(n());return e}function t(){var e,t=[{number:"59",name:"scripteditor.dataconnectors.delimiter.semicolon",scriptCode:";",kind:"Common.Standard"},{number:"44",name:"scripteditor.dataconnectors.delimiter.comma",scriptCode:",",kind:"Common.Standard"},{number:"9",name:"scripteditor.dataconnectors.delimiter.tab",scriptCode:"\\t",kind:"Common.Standard"},{number:"32",name:"scripteditor.dataconnectors.delimiter.spaces",scriptCode:"spaces",multiple:true,kind:"Common.Standard"}];for(e in t)t[e].title=t[e].name;return t}function n(){var e=[],t,n;for(t=0;t<=127;t++){n=String.fromCharCode(t);e[t]={number:""+t,name:n,scriptCode:n.match(/\w/)?"'"+n+"'":"'\\x"+t.toString(16)+"'",kind:"Common.Custom"}}e[0].name="NUL";e[1].name="SOH";e[2].name="STX";e[3].name="ETX";e[4].name="EOT";e[5].name="ENQ";e[6].name="ACK";e[7].name="BEL";e[8].name="BS";e[9].name="scripteditor.dataconnectors.delimiter.tab";e[10].name="LF";e[11].name="VT";e[12].name="FF";e[13].name="CR";e[14].name="SO";e[15].name="SI";e[16].name="DLE";e[17].name="DC1 (XON)";e[18].name="DC2";e[19].name="DC3 (XOFF)";e[20].name="DC4";e[21].name="NAK";e[22].name="SYN";e[23].name="ETB";e[24].name="CAN";e[25].name="EM";e[26].name="SUB";e[27].name="ESC";e[28].name="FS";e[29].name="GS";e[30].name="RS";e[31].name="US";e[32].name="scripteditor.dataconnectors.delimiter.space";e[44].name="scripteditor.dataconnectors.delimiter.comma";e[59].name="scripteditor.dataconnectors.delimiter.semicolon";e[127].name="DEL";e[8].scriptCode="'\\b'";e[9].scriptCode="'\\t'";e[10].scriptCode="'\\n'";e[13].scriptCode="'\\r'";e[32].scriptCode="' '";e[39].scriptCode='"\'"';e[92].scriptCode="\\\\";e[32].scriptCode="' '";e.splice(33,0,{number:"32",name:"scripteditor.dataconnectors.delimiter.spaces",scriptCode:"spaces",multiple:true,kind:"Common.Custom"});return e}return e()}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="filesettings">\n\t<div ng-switch="layout">\n\n\t\t\x3c!-- EXCEL SETTINGS --\x3e\n\t\t<div ng-switch-when="TYPE9_EXCEL_BIFF" class="row">\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_labels\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_headersize\'"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- EXCEL SETTINGS --\x3e\n\t\t<div ng-switch-when="TYPE9_EXCEL_OOXML" class="row">\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_labels\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_headersize\'"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- CSV SETTINGS --\x3e\n\t\t<div ng-switch-when="TYPE9_CSV" class="row">\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_labels\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_headersize\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_delimiter\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_codepage\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_inline\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_oef\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_comment\'"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- FIXED FILES --\x3e\n\t\t<div ng-switch-when="TYPE9_FIX" class="row">\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_labels\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_headersize\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_fixedwidth_delimiters\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_codepage\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_tab_size\'"></div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_recordsize\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_oef\'"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- HTML SETTINGS --\x3e\n\t\t<div ng-switch-when="TYPE9_HTML" class="row">\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_labels\'"></div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="settingArea" ng-include src="\'setting_area_codepage\'"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n\x3c!-- Templates --\x3e\n\n<script type="text/ng-template" id="setting_area_labels">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.labels"></div>\n\t<div class="setting">\n\t\t<lui-select x-model="currentSettings.labelStrategy" x-options="option|translatelabelstrategy|translate for option in currentSettings.labelStrategyOptions" x-disabled="tableFieldsDisabled"></lui-select>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_headersize">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.headersize"></div>\n\t<div class="headerSizeSetting">\n\t\t<ds-number-input\n\t\t\tmin-input="0"\t\n\t\t\tmax-input="9999999"\n\t\t\tselector-class="headerSizeInput"\n\t\t\tmodel="currentSettings.nbrOfHeaderLinesToRemove"\n\t\t\tdisabled="tableFieldsDisabled"\n\t\t\tinput-tid="headerSizeTid">\n\t\t</ds-number-input>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_delimiter">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.delimiter"></div>\n\t<div class="setting">\n\t\t<lui-select x-model="currentSettings.delimiter" x-options="option|delimitertotitle group by option.kind|translate for option in currentSettings.delimiterOptions"></lui-select>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_fixedwidth_delimiters">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.fixpositions"></div>\n\t<div class="setting">\n\t\t<input class="lui-input" ng-class="{ \'qui-invalid\': !isFixedWidthDelimitersValid() }" type="text" ng-model="currentSettings.fixedWidthDelimiters" ng-disabled="tableFieldsDisabled" maxlength="250"/>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_codepage">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.codepage"></div>\n\t<div class="setting">\n\t\t<lui-select class="codepageselect" x-model="currentSettings.codepage" x-options="option.title group by option.kind|translate for option in currentSettings.codepageOptions">\n\t\t</lui-select>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_inline">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.quoting"></div>\n\t<div class="setting">\n\t\t<lui-select x-model="currentSettings.quoting" x-options="option|quotingvaluetolabelkey|translate for option in currentSettings.quotingOptions">\n\t\t</lui-select>\n\t</div>\n<\/script>\n\n<script type="text/ng-template" id="setting_area_oef">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.ignoreEOF"></div>\n\t<div class="setting">\n\t\t<lui-checkbox x-model="currentSettings.ignoreEOF"></lui-checkbox>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_area_comment">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.comment"></div>\n\t<div class="setting">\n\t\t<input class="lui-input" type="text" ng-model="currentSettings.comment" qva-model-onblur maxlength="250" />\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_recordsize">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.recordsize"></div>\n\t<div class="headerSizeSetting">\n\t\t<ds-number-input\n\t\t\tmin-input="0"\t\n\t\t\tmax-input="9999999"\n\t\t\tselector-class="recordSizeInput"\n\t\t\tmodel="currentSettings.recordSize"\n\t\t\tdisabled="tableFieldsDisabled"\n\t\t\tinput-tid="recordSizeTid">\n\t\t</ds-number-input>\n\t</div>\n\n<\/script>\n\n<script type="text/ng-template" id="setting_tab_size">\n\n\t<div class="title" q-translation="scripteditor.dataconnectors.tabsize"></div>\n\t<div class="headerSizeSetting">\n\t\t<ds-number-input\n\t\t\tmin-input="1"\t\n\t\t\tmax-input="9999999"\n\t\t\tselector-class="headerSizeInput"\n\t\t\tmodel="currentSettings.tabSize"\n\t\t\tdisabled="tableFieldsDisabled"\n\t\t\tinput-tid="tabSizeTid">\n\t\t</ds-number-input>\n\t</div>\n\n<\/script>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(89),n(117),n(140),n(108),n(1039),n(496),n(1158),n(1087),n(294),n(255)],r=function(e,t,n,i,r,o,a,s,l,u,c){e.service("addDataConnectionsService",["addDataStateService",function(e){function d(){this.dataModelInputPromise=null;this.getConnectDataInputPromise=null;this.getConnectorsPromise=null;this.getConnectorsMapPromise=null}d.prototype.getDataModelInput=function(e){var t=this;if(e||!t.dataModelInputPromise)return a.getDataSpaceInput().then(function(e){return e});return this.dataModelInputPromise};d.prototype.getDataMarketConnector=function(){var e=this;return e.getDataModelInput().then(function(e){var t=e.dataconnectorsModel.allConnectorEntrypoints.datamarket;return t[0]})};d.prototype.getDataMarketTemplate=function(){var e=this;return e.getDataModelInput().then(function(e){var t=e.dataconnectorsModel.allConnectorEntrypoints.datamarket;var n={datamarket:[]};for(var i=0;i<t.length;++i)n.datamarket.push(t[i].getDataMarketView());return{template:t[0].getConnectorMain().template,views:n}})};d.prototype.clearCache=function(){this.dataModelInputPromise=null;this.getConnectorsPromise=null;this.getConnectorsMapPromise=null;this.getConnectDataInputPromise=null};d.prototype.getDataLoadInput=function(e,t){var n=this;!e&&n.getConnectDataInputPromise||(n.getConnectDataInputPromise=a.getConnectDataInput(t));return n.getConnectDataInputPromise};d.prototype.getExistingConnections=function(){var e=this;return e.getDataModelInput().then(function(e){return e.dataconnectorsModel.connections})};d.prototype.getExistingStorageProviderConnections=function(){return l.getConnections()};d.prototype.getStorageProviderByName=function(e){var t=this;return t.getExistingStorageProviderConnections().then(function(t){var n=t.filter(function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())})[0].sourceConnectorID;return l.getStorageProviders().then(function(e){var t=e.filter(function(e){return e.id.toLowerCase()===n.toLowerCase()});return t[0]})})};d.prototype.getNativeFileModel=function(){var e=this;return n.all({nativeConnector:e.getNativeFilesConnector(),nativeFileConnections:e.getNativeFileConnections()}).then(function(e){return{fileConnector:e.nativeConnector,fileConnections:e.nativeFileConnections,getConnector:function t(){return e.nativeConnector?e.nativeConnector:e.nativeFileConnections.length>0?e.nativeFileConnections[0]:void 0}}})};d.prototype.getNativeFilesConnector=function(){var e=this;return e.getConnectorsMap().then(function(e){return e["scripteditor.flatfilechooser.files.all"]})};d.prototype.getNativeFileConnections=function(){var e=this;return e.getExistingConnections().then(function(e){return e.filter(function(e){return e.connectorInstance.type.isFolderConnector&&"DataPrepAppCache"!==e.connectorInstance.name&&"__GEO_TABLES"!==e.connectorInstance.name&&!s.isUploadFolderConnection(e.connectorInstance)})})};d.prototype.getAttachedFilesConnector=function(){var e=this;var t={enabled:true,connection:void 0,connector:void 0};return s.isFileUploadEnabled().then(function(n){t.enabled=n;if(n)return e.getExistingConnections().then(function(n){t.connection=n.filter(function(e){return s.isUploadFolderConnection(e.connectorInstance)})[0];t.connection?s.canUserReadAppStore().then(function(e){t.enabled=e}):t.enabled=false;return e.getNativeFilesConnector().then(function(e){t.connector=e;return t})})})};d.prototype.decorateExistingConnectionsWithImages=function(e){var t=this;var i=[];return t.getConnectorsMap().then(function(t){e.forEach(function(e){var n=t[e.connectorInstance.sourceConnectorID.toLowerCase()];if(n){var r=n.isInitialized().then(function(){e.connectorInstance.connectorImagePath=n.getImagePath();e.connectorInstance.connectorDisplayName=n.getDisplayName();e.connectorInstance.scriptOnly=n.isScriptOnly()});i.push(r)}});return n.all(i)})};d.prototype.deleteConnection=function(e){return i.currentApp.deleteConnection(e).finally(function(){return f()})};d.prototype.isConnectionInUse=function(e,t){return t.filter(function(t){return t.data.connectionInfo.name===e}).length>0};d.prototype.getConnectors=function(){var e=this;var t=[];e.getConnectorsPromise||(e.getConnectorsPromise=e.getDataModelInput().then(function(e){var n=e.dataconnectorsModel.allConnectorEntrypoints;Object.keys(n).forEach(function(e){t=t.concat(n[e])});return t}));return e.getConnectorsPromise};d.prototype.getConnectorsMap=function(){var e=this;var t={};e.getConnectorsMapPromise||(e.getConnectorsMapPromise=e.getConnectors().then(function(e){e.forEach(function(e){if(e.getId()){t[e.getId().toLowerCase()]=e;t[e.getProvider().toLowerCase()]=e}});return t}));return e.getConnectorsMapPromise};d.prototype.getConnectorByName=function(e){var t=this;return t.getConnectorsMap().then(function(t){return t[e.toLowerCase()]})};d.prototype.getConnectionInputs=function(e,t,n,i){var r=this;return r.getDataLoadInput(true,i).then(function(i){return r.getDataModelInput(true).then(function(r){return f().then(function(){return r.dataconnectorsModel.getConnectionFromServer(e,t).then(function(e){i.qvInternals.activeConnector=e;return e?{qvDialogContext:p(n),dataconnectionSelectionEditor:i.newLoadModel.getDataconnectorSelectionEditor(e),dataconnectorInstance:e,qvInternals:i.qvInternals,tableModelToEdit:void 0,serverside:r.dataconnectorsModel.getConnectionServersideProxy(e.type.provider,e.name,e)}:null})})})})};d.prototype.getNativeFileConnectionByPathName=function(e){return u.createConnector(c.getServersideConnectorProxy(),e).then(function(e){return f().then(function(){return e})})};function f(){return o.isPersonalModeSync()?i.getCurrentApp().saveObjects():n.resolve(true)}function p(n){var i={nextDisabled:function e(){return true},hasNextStep:true,nextText:t.get("AnalyzeModel.label.addDataManager"),nextTooltipText:t.get("AnalyzeModel.description.addDataManager"),hideNextIcon:true,fullScreenView:true,back:function t(){n?e.hideEditAddData():e.goBackToLastState()},connectorNextComplete:function e(){}};i.next=function(){this.connectorNextComplete()}.bind(i);if(n)i.editMode=n;else{i.finishDisabled=function(){return true};i.connectorFinishComplete=function(){};i.finish=function(){this.connectorFinishComplete()}.bind(i)}return i}d.prototype.getServerSide=function(e){var t=this;return t.getDataModelInput().then(function(t){return t.dataconnectorsModel.getConnectionServersideProxy(e)})};d.prototype.getConfiguration=function(){return r.get().then(function(e){return e.getConfiguration()})};return new d}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e;var t;function n(){return t||"Connector"}function i(e){if(!e)return n();return n()+" "+e}function r(t){for(var n=0;n<e.length;n++)if(e[n].qName===t)return false;return true}function o(e){if(e)return e.replace(/<|>|:|\\|\*|\?|"|\||\//g,"");return null}function a(n,a){e=a;t=o(n);var s=i();if(e){var l=e.length+1;while(!r(s)){s=i(l);l+=1}}return s}return{getName:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(91),n(95),n(96),n(138),n(117),n(118),n(416),n(998),n(227),n(496),n(105),n(253),n(1217),n(280)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h){t.directive("qvUploadedDataFilesView",function(){return{restrict:"E",replace:true,template:h,scope:{uploadFolderConnection:"=",onFileSelected:"&",selectedFileName:"=",stepContext:"=",fileToUploadOnFirstLoad:"=",showFilePickerOnOpen:"=",chooseOnSingleClick:"="},controller:["$scope","$element","$timeout","$delayedModal",function(h,v,m,g){h.allUploadedFiles=null;h.uploadedFiles=null;h.fileFilters=l.getFileFilters();h.selectedFileFilter=h.fileFilters[0];h.uploading=false;h.draggingOver=false;h.uploadingFileName=null;h.uploadingFileSize=null;h.uplodingProgress=0;h.canUserModifyAppStore=false;h.availableSpace=null;d.canUserModifyAppStore().then(function(e){h.canUserModifyAppStore=e});var b=e("body");h.$watch("uploadFolderConnection",function(){S();y()});h.$watch("selectedFileFilter",function(){h.allUploadedFiles&&C(h.allUploadedFiles)});function y(){d.getAppStoreLibrary().then(function(e){e&&(h.availableSpace=d.getFormattedAvailableSpace(e.qMeta.remainingLibrarySpace))})}var x=p.getLoadModel(function(){}).then(function(e){return e.serialize()});function w(e){return x.then(function(t){var n={};t&&t.tables&&t.connectionMetaDataModels&&t.tables.filter(function(e){return"load-file"===e.boxType&&d.isUploadFolderConnection(t.connectionMetaDataModels[e.dataconnectorName])}).forEach(function(e){n[e.databaseName.toLowerCase()]=true});e.forEach(function(e){e.usedInLoadModel=!!n[e.name.toLowerCase()]})})}function S(){h.uploadFolderConnection&&a.currentApp.getFolderItemsForConnection({qConnectionId:h.uploadFolderConnection.id}).then(function(e){h.allUploadedFiles=e.qFolderItems;C(h.allUploadedFiles)},function(e){h.allUploadedFiles=null;E(e)})}function C(e){var t=u.postProcessDirectoryListing("",e,h.selectedFileFilter.regexps).filter(function(e){return e.isFile});w(t).then(function(){h.uploadedFiles=t})}function E(e){h.uploadedFiles=null;e.isHandled=true}var q=null;function _(e){var t=e.dataTransfer||e.originalEvent&&e.originalEvent.dataTransfer;var n=e.target.files||t.files;return n?n[0]:null}function T(e){e.stopPropagation();e.preventDefault();if(q){m.cancel(q);q=null}h.$apply(function(){h.draggingOver=true})}function k(e){e.stopPropagation();e.preventDefault();if(e.relatedTarget)return;q&&m.cancel(q);q=m(function(){h.draggingOver=false},100)}function O(e){e.stopPropagation();e.preventDefault();if(h.stepContext.visible){var t=_(e);h.$apply(function(){h.draggingOver=false;A(t)})}}b.on("dragover",T);b.on("dragleave",k);b.on("drop",O);h.$on("$destroy",function(){b.off("dragover",T);b.off("dragleave",k);b.off("drop",O)});function D(e){var i=t.defer();h.allUploadedFiles&&h.allUploadedFiles.some(function(t){return t.qName===e.name})?g.open({title:"UploadedFilesFolder.Confirm.Overwrite.Title",content:n.get("UploadedFilesFolder.Confirm.Overwrite.Description",[e.name]),buttons:[{name:"Common.Cancel",callback:function e(){i.reject()}},{name:"UploadedFilesFolder.Button.Overwrite",defaultButton:true,callback:function e(){i.resolve(true)}}]}):i.resolve(true);return i.promise}function A(e){if(h.uploading)return;e&&d.preUploadValidateFile(e).then(function(){D(e).then(function(){d.setAttachedFilesToReplace([{fileName:e.name}]);h.uploading=true;h.uploadingFileName=e.name;h.uploadingFileSize=d.getFormattedFileSize(e.size);h.uploadingProgress=o.format.number(0,{style:"percent"});d.uploadFile(e).then(I,L,P)})},L)}function I(e){S();y();h.uploadingProgress=o.format.number(1,{style:"percent"});m(function(){h.uploading=false;h.selectedFileName.name=e.name;h.onFileSelected&&h.onFileSelected({name:e.name})},800)}function L(e){h.uploading=false;e||(e={code:500});c.showDialog(e)}function P(e){h.uploadingProgress=o.format.number(e,{style:"percent"})}function M(e){var t=e&&e.usedInLoadModel?n.get("UploadedFilesFolder.Confirm.DeleteUsedFile.Description",[e.name]):n.get("UploadedFilesFolder.Confirm.DeleteNotUsedFile.Description",[e.name]);g.open({title:"UploadedFilesFolder.Confirm.Delete.Title",html:'<span style="word-wrap: break-word">'+t+"</span>",buttons:[{name:"Common.Cancel",callback:function e(){}},{name:"Common.Delete",defaultButton:true,callback:function t(){e.deleting=true;d.deleteFile(e.name).then(function(){N(e);i.publish(f.Events.PubSub.ConnectionDeleted)},function(t){e.deleting=false;R(e,t)})}}]})}function N(e){h.selectedFileName.name===e.name&&(h.selectedFileName.name=null);S();y()}function R(e){c.showDialog({message:n.get("UploadedFilesFolder.Error.CannotDeleteFile",[e.name])})}h.onFileClicked=function(e){h.selectedFileName.name=e.name;h.chooseOnSingleClick&&h.onFileSelected({name:s.removeSurroundingSlashes(e.name)})};h.onFileDblClick=function(e){h.onFileSelected&&h.onFileSelected({name:s.removeSurroundingSlashes(e.name)})};h.onDeleteFileClicked=function(e){M(e)};h.selectFile=function(){d.selectFile().then(function(e){e&&A(e)}).catch(function(){})};h.getFileInUseTitle=function(e){if(e&&e.usedInLoadModel)return n.get("UploadedFilesFolder.FileInUseIndicator.Title");return n.get("UploadedFilesFolder.FileNotInUseIndicator.Title")};h.fileToUploadOnFirstLoad&&A(h.fileToUploadOnFirstLoad);h.showFilePickerOnOpen&&h.selectFile();r(v.find(".file-list")[0]).swipe({options:{preventDefault:false},end:function e(){r.preventGestures(this.gestureHandler)}})}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="uploaded-data-files" ng-class="{\'dragging-over\': draggingOver && !uploading}">\n\t<div class="file-list">\n\t\t<ul vs-repeat vs-scroll-parent=".file-list">\n\t\t\t<li class="qui-menu-item" ng-disabled="item.disabled" ng-repeat="item in uploadedFiles"\n\t\t\t\tng-class="{fileselected:( item.isFile && item.name == selectedFileName.name)}"\n\t\t\t\tng-click="onFileClicked(item)" ng-dblclick="onFileDblClick(item)" title="{{item.name}}">\n\t\t\t\t<span class="used-file-indicator" ng-class="{\'file-in-use\':item.usedInLoadModel}"\n\t\t\t\t\t  title="{{getFileInUseTitle(item)}}"></span>\n\t\t\t\t<span class="file-name-icon lui-icon lui-icon--file"></span>\n\t\t\t\t<span class="file-name">{{item.name}}</span>\n\t\t\t\t<button ng-if="canUserModifyAppStore" class="lui-fade-button" ng-click="onDeleteFileClicked(item); $event.stopPropagation();" q-title-translation="UploadedFilesFolder.DeleteFileButton.Title">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon lui-icon--bin"></span>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t\x3c!-- <div class="text" q-translation="scripteditor.flatfilechooser.filetype"></div> --\x3e\n\n\t<div class="bottom">\n\t\t<lui-select class="file-type"\n\t\t\t\t\tx-model="selectedFileFilter"\n\t\t\t\t\tx-options="option.title|translate for option in fileFilters"></lui-select>\n\t\t<div ng-if="canUserModifyAppStore" class="upload-drop-zone" ng-click="selectFile()">\n\t\t\t<span class="lui-icon lui-icon--upload lui-icon--large"></span>\n\t\t\t<span class="text drag-and-drop-label" q-translation="uploadfile.selectfiledialog.draganddropfilehere"></span>\n\t\t</div>\n\t\t<div ng-if="availableSpace != null" class="store-status">\n\t\t\t<span class="text" q-translation="UploadedFilesFolder.Status.AvailableSpace, {{availableSpace}}"></span>\n\t\t</div>\n\t\t<div class="file-info" ng-show="uploading || draggingOver">\n\t\t\t<div class="overlay"></div>\n\t\t\t<div class="dragging-circle centered">\n\t\t\t\t<div class="upload-icon centered lui-icon lui-icon--upload" ng-show="draggingOver && !uploading"></div>\n\t\t\t\t<div class="text upload-progress centered" ng-show="uploading">{{uploadingProgress}}</div>\n\t\t\t</div>\n\t\t\t<div class="text upload-message centered" ng-show="draggingOver && !uploading" q-translation="uploadfile.selectfiledialog.dropfilehere"></div>\n\t\t\t<div class="text upload-message centered" ng-show="uploading">{{uploadingFileName}} ({{uploadingFileSize}})</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(1382));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.oppositeDock=r;t.getDocks=o;t.addOffset=a;t.createRect=s;t.getDockCenterPoint=l;t.tryPosition=u;t.createTryRect=c;t.tryDock=d;t.positionToRect=f;t.positionToElement=p;t.positionToCoordinate=h;var i={top:"bottom",right:"left",bottom:"top",left:"right"};function r(e){return i[e]}function o(e){var t=[e];t="top"===e?t.concat(["bottom","right","left"]):"right"===e?t.concat(["bottom","left","top"]):"left"===e?t.concat(["bottom","right","top"]):t.concat(["top","right","left"]);return t}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("top"===e)return{top:n-i,left:t};if("right"===e)return{top:n,left:t+i};if("left"===e)return{top:n,left:t-i};return{top:n+i,left:t}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{top:e,right:t+n,bottom:e+i,left:t,width:n,height:i}}function l(e,t){var n;var i;if("top"===t){n=e.top;i=e.left+e.width/2}else if("right"===t){n=e.top+e.height/2;i=e.right}else if("left"===t){n=e.top+e.height/2;i=e.left}else{n=e.bottom;i=e.left+e.width/2}return{top:n,left:i}}function u(e,t){var n=e.left>=t.left;var i=e.right<=t.right;var r=e.top>=t.top;var o=e.bottom<=t.bottom;return{left:n,right:i,top:r,bottom:o}}function c(e,t,n,i){var r;var o;if("top"===n){r=t.top-e.height-i;o=t.left-e.width/2}else if("right"===n){r=t.top-e.height/2;o=t.left+i}else if("left"===n){r=t.top-e.height/2;o=t.left-e.width-i}else{r=t.top+i;o=t.left-e.width/2}return s(r,o,e.width,e.height)}function d(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var o=r.offset,a=void 0===o?0:o,d=r.minWindowOffset,f=void 0===d?0:d,p=r.minEdgeOffset,h=void 0===p?0:p;var v=s(n.top+f,n.left+f,n.width-2*f,n.height-2*f);var m=l(t,i);var g=c(e,m,i,a);var b=u(g,v);if("top"===i||"bottom"===i){if(!b.left){g.left=Math.min(v.left,m.left-h);g.right=g.left+g.width;b=u(g,v)}if(!b.right){g.right=Math.max(v.right,m.left+h);g.left=g.right-g.width;b=u(g,v)}}else{if(!b.top){g.top=Math.min(v.top,m.top-h);g.bottom=g.top+g.height;b=u(g,v)}if(!b.bottom){g.bottom=Math.max(v.bottom,m.top+f);g.top=g.bottom-g.height;b=u(g,v)}}return{fits:b.top&&b.right&&b.bottom&&b.left,dock:i,position:{left:g.left,top:g.top},toPosition:l(t,i)}}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom";var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r=e.getBoundingClientRect();var a=window,l=a.pageXOffset,u=a.pageYOffset;var c=s(0,0,document.body.clientWidth,document.body.clientHeight);var f=function e(t){var n=t.offsetParent;if(n){var i=e(n);return{top:n.offsetTop+i.top,left:n.offsetLeft+i.left}}return{top:0,left:0}};var p=o(n);var h=null;for(var v=0;v<p.length;v+=1){var m=d(r,t,c,p[v],i);m.position.top+=u;m.toPosition.top+=u;m.position.left+=l;m.toPosition.left+=l;if(i.containerElement){var g=f(i.containerElement);m.position.left-=g.left;m.position.top-=g.top;m.toPosition.left-=g.left;m.toPosition.top-=g.top}if(m.fits)return m;0===v&&(h=m)}return h}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom";var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r=t.getBoundingClientRect();return f(e,r,n,i)}function h(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bottom";var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var o={top:n,bottom:n,left:t,right:t,width:0,height:0};return f(e,o,i,r)}},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=/&|\/|\\|=|\?|\*|<|>|"|:|\|/g;var t=/[!?='()*]/g;return{encodeString:function e(n){return encodeURIComponent(n).replace(t,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},containsIllegalChars:function t(n){return null!==n.match(e)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(304)],r=function(e){var t={};function n(e,t,n){var i={name:e,type:t};if(n){n.qId&&(i.id=n.qId);i.path=n.qUrl;i.pathDef=n.qUrlDef}"folder"===t&&(i.children=[]);return i}function i(e,t){e=e.substring(1).split("/").reverse().slice(1).reverse();var i=t;e.forEach(function(e){var t=false;i.children.forEach(function(n){if(n.name===e){i=n;t=true;return}});if(!t){var r=n(e,"folder");i.children.push(r);i=r}});return i}function r(e){e.sort(function(e,t){return e.name.localeCompare(t.name)}).reverse();e.sort(function(e,t){if("folder"===e.type&&"folder"!==t.type)return-1;if("folder"===e.type&&"folder"===t.type)return e.name.localeCompare(t.name);if("folder"!==e.type&&"folder"!==t.type)return e.name.localeCompare(t.name);return 1});e.forEach(function(e){"undefined"!==typeof e.children&&r(e.children)})}t.createTree=function(t,o,a){o=(o||[]).join("|")||".+?";var s=n("/","folder");var l=new RegExp("\\.("+o+")$","i");t.forEach(function(t){var r,o=t,u=o.qUrl;u=e.stripBasePath(u);r=decodeURIComponent((u+"").replace(/\+/g,"%20"));r=r.split("/").splice(-1)[0];if(r.match(l)){var c=s;var d;if(!a){d=decodeURIComponent(u).replace(/^(\/content\/default)|(\/content\/Default)/,"").replace(/^(^\/media\/([a-z0-9-])+\/([a-z0-9-])+\/)/,"/media/");c=i(d,s)}c.children.push(n(r,"file",o))}});r(s.children);return s};t.filterList=function e(n){var i=[],r=n.sort(function(e,t){var n=e.qName.toLowerCase(),i=t.qName.toLowerCase();return n.localeCompare(i)}),o,a;for(o=0;o<n.length;o++){a=n[o];if(a.qAppSpecific){i.push(a);a.qMeta&&-1!==a.qMeta.privileges.indexOf("update")&&(t.canUpdate=true);break}}for(o=0;o<r.length;o++){a=n[o];a.qAppSpecific||i.push(a)}return i};t.getRemainingSpace=function e(t){var n=0;for(var i=0;i<t.length;i++)if(t[i].qAppSpecific&&t[i].qMeta){n=parseInt(t[i].qMeta.remainingLibrarySpace||0,10);break}return n};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(1939),n(1716),n(95),n(48),n(832)],r=function(e,t,n,i,r,o){var a={TAB:9};function s(){var e=false;o.isShown()&&(e=true);return e}function l(t,n,i){return t.which===a.TAB&&t.target!==n.alignTo&&e(t.target).closest(".lui-popover-container")[0]!==i[0]}r.directive("qvSmallAppview",function(){return{replace:false,restrict:"A",scope:{navigationmode:"@",ccb:"="},controller:["$scope","$element",function(e,t){var i={showToolbar:false,showNavigation:false,navigationmode:e.navigationmode,isNavigator:true,smallAppView:true,canCreateBookmark:!!e.ccb};var r=t.showComponent(n);r.showInternalComponents(i);e.$on("$destroy",r.destroy)}]}});r.directive("qvAppviewInit",function(){return{replace:true,restrict:"A",link:function e(t,i){var r={showToolbar:t.input.showToolbar,showNavigation:t.input.showNavigation,navigationmode:t.input.navigationmode,isNavigator:t.input.isNavigator,canCreateBookmark:t.input.canCreateBookmark,isOpenedByClick:t.input.isOpenedByClick};var o=i.showComponent(n);o.showInternalComponents(r);var a=i;t.$on("$destroy",function(){a.off();o.destroy()})}}});var u={template:t,controller:["$scope","$element","$document",function(t,n,r){var o=146;var a=.7*window.innerWidth;a=parseInt(a/o,10)*o+19;t.style={width:a<187?187:a,height:.8*window.innerHeight};t.$on("closeNavigator",function(){t.closeView()});t.closeView=function(e){if(e&&e.target){var r=s();if(r)return}i.unsubscribe(".navigator");n.off();t.close(e)};r.on("keyup.appview-navigator",function(e){l(e,t,n)&&t.closeView()});i.subscribeOnce("/resize/start.navigator",t.closeView);t.$on("$destroy",function(){t.closeView();e(document).off("keyup.appview-navigator")})}]};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1948),n(50),n(51)],r=function(e,t,n,i){var r={},o=false,a=null,s;r={open:function e(l,u){if(r.isOpen())return;var c={template:t,scope:{},controller:["$scope","$timeout",function(e,t){e.ngClasses={qsAnimate:false};o=false;n.ViewChanged.bind(r.close);for(var i in u)e[i]=u[i];e.is={smallAppView:true};e.disableButton=true;e.$on("$destroy",function(){o=true;s=null;e.onClose&&"function"===typeof e.onClose&&e.onClose()});e.closeMenu=function(e){e&&e.preventDefault();r.close()};t(function(){e.ngClasses={qsAnimate:true};e.disableButton=false});s=function n(){return new Promise(function(n){t(function(){e.ngClasses={qsAnimate:false}});setTimeout(n,250)})}}]};a=i.show(c)},close:function e(){if(o||!a)return;o=true;n.ViewChanged.unbind(r.close);s().then(function(){a.destroy();s=null;a=null})},isOpen:function e(){return null!=a}};e.service("qvSmallDeviceMenuService",function(){return r});return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(152),n(1437)],r=function(e,t,n){var i=e.service("qvMediaTool",[function(){var i,r,o,a,s={};s.show=function(e,t){a=t;i=e.showComponent(n,{options:t})};s.hide=function(){if(i){i.scope().destroy();i=null;a=null}};s.closing=function(){i&&i.closing()};s.isActive=function(){return a&&"function"===typeof a.isActive?a.isActive():!!i};s.getCurrentLayout=function(){return r};s.useImageArray=function(){return o};s.getOptions=function(){return a||{}};s.getMarkdown=function(){var e=i.scope().getParagraph(),t;if(e){t=e.saveAndGetData();if(t)return t.text}return null};s.hasContent=function(e){return e&&"^[\n](left)"!==e};s.getParagraph=function(){return i.scope().getParagraph()};s.getEditorElement=function(){return i.scope().getEditorElement()};s.getRange=function(){return i.scope().currentRange};s.toHTML=function(n,i,a){var s=e.getService("$sce");r=i;o=a;if(n){var l=t.toHTML(n);n=t.toMarkdown(l);return s.getTrustedHtml(t.toHTML(n))}return""};s.toMarkdown=function(e){if(e)return t.toMarkdown(e);return""};return s}]);return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(1029)],r=function(e,t){var n=e.element("<div contenteditable style='position:absolute;top: -999999px;'>")[0];function i(e,i){var r=document.activeElement;document.body.appendChild(n);n.innerHTML="Feature detection.";n.focus();t.addRange(t.createRange(n),true);document.execCommand(e,false,i);if(r!==document.body)try{document.activeElement=r}catch(e){}document.body.removeChild(n);return n.innerHTML}var r=i("justifyCenter").indexOf(" align=")>-1;return{usesAlign:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r,o;(function(a){true;!(r=[n(11),n(242)],i=a,o="function"===typeof i?i.apply(t,r):i,void 0!==o&&(e.exports=o))})(function(e){var t=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;e.support.touch="ontouchend"in document||t;if(!e.support.touch||!e.ui.mouse)return;var n=e.ui.mouse.prototype,i=n._mouseInit,r;function o(e){var t=window.pageXOffset,n=window.pageYOffset,i=e.clientX,r=e.clientY;if(0===e.pageY&&Math.floor(r)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(i)>Math.floor(e.pageX)){i-=t;r-=n}else if(r<e.pageY-n||i<e.pageX-t){i=e.pageX-t;r=e.pageY-n}return{clientX:i,clientY:r}}function a(n,i){if(!t&&n.originalEvent.touches.length>1||t&&!n.isPrimary)return;var r=t?n.originalEvent:n.originalEvent.changedTouches[0],a=document.createEvent("MouseEvents"),s=o(r);e(r.target).is("input")||e(r.target).is("textarea")?n.stopPropagation():n.preventDefault();a.initMouseEvent(i,true,true,window,1,n.screenX||r.screenX,n.screenY||r.screenY,n.clientX||s.clientX,n.clientY||s.clientY,false,false,false,false,0,null);n.target.dispatchEvent(a)}n._touchStart=function(e){var n=this;if(r||!t&&!n._mouseCapture(e.originalEvent.changedTouches[0]))return;r=true;n._touchMoved=false;a(e,"mouseover");a(e,"mousemove");a(e,"mousedown")};n._touchMove=function(e){if(!r)return;this._touchMoved=true;a(e,"mousemove")};n._touchEnd=function(e){if(!r)return;a(e,"mouseup");a(e,"mouseout");this._touchMoved||a(e,"click");r=false};n._mouseInit=function(){var t=this;t.element.on({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd"),pointerDown:e.proxy(t,"_touchStart"),pointerMove:e.proxy(t,"_touchMove"),pointerUp:e.proxy(t,"_touchEnd"),MSPointerDown:e.proxy(t,"_touchStart"),MSPointerMove:e.proxy(t,"_touchMove"),MSPointerUp:e.proxy(t,"_touchEnd")});i.call(t)}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r;!(i=[n,t,n(54),n(1342),n(151),n(1040),n(1344),n(1348),n(493),n(606),n(992),n(1286),n(1349),n(1200),n(1287),n(1350)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(){this.queries=[],this.tableModels=[],this.targetTableModels=[],this.associations={},this.connectionMetaDataModels={},this.locale=i.Calendar.GetDefaultCalendarModel().locale,this.defaultCalendar=i.Calendar.GetDefaultCalendarModel().calendar,this.tempCounter=0,this.TEMP_NAME_PREFIX="9576934875038746211194868"}return e.CreateLoadModel=function(t,n){void 0===n&&(n=!0);var i=new e;return i.overwriteContent(t,n),i},e.findQueryByIdImpl=function(t,n){for(var i=void 0,r=0;r<t.length;r++){if(t[r].id===n){i=t[r];break}if(t[r].sourceQueries){var o=new a.TargetTableModel(t[r]),s=o.getSourceQueries(),l=e.findQueryByIdImpl(s,n);if(l){i=l;break}}}return i},e.prototype.getLocale=function(){return this.locale},e.prototype.wrapInTargetTableModel=function(e){return new a.TargetTableModel(e)},e.prototype.wrapInFieldModel=function(e){return new p.QueryField(e)},e.prototype.setMetadataModelForConnection=function(e,t){this.connectionMetaDataModels[e.name]=u.SharedUtil.extend(!0,{},e,{dbInfo:t})},e.prototype.getTableModelByDatabasePath=function(e,t,n,i,r){for(var o in this.tableModels)if(this.tableModels[o].data.dataconnectorName===e.name&&this.tableModels[o].data.databaseName===t&&this.tableModels[o].data.ownerName===n&&this.tableModels[o].data.tableName===i){if(!r)return this.tableModels[o];if(this.tableModels[o].data.tableAlias===r)return this.tableModels[o]}return},e.prototype.getOrCreateTableModelWithAliasByDatabasePath=function(e,t,n,i,r,o){var a=this.getTableModelByDatabasePath(e,t,n,i,r);if(a)return a;var s=e.typeName?e.typeName:e.type,l={dataconnectorName:e.name,boxType:"folder"===s||"internet"===s||"qix-datafiles.exe"===s?"load-file":"load-sql",databaseName:t,ownerName:n,tableName:i,tableAlias:this.getUniqueTableName(i),loadProperties:o,key:e.name+":"+t+":"+n+":"+i,fields:[],connectionInfo:this.getConnectionMetaDataModel(e.name),state:"new"};return this.createAndAddToCollection(this.tableModels,l)},e.prototype.getOrCreateTableModelByDatabasePath=function(e,t,n,i,r){return this.getOrCreateTableModelWithAliasByDatabasePath(e,t,n,i,void 0,r)},e.prototype.getTablesForConnector=function(e){return this.tableModels.filter(function(t){return t.data.connectionInfo&&e.id===t.data.connectionInfo.id}).map(function(e){return e.data})},e.prototype.updateTablesForConnector=function(e,t){var n=this;t.forEach(function(t){t.id?n.getTableModelById(t.id).updateFromOutputtedTableModel(t):n.getOrCreateTableModelWithAliasByDatabasePath(e,"","",t.tableName,void 0,void 0).updateFromOutputtedTableModel(t)})},e.prototype.getDataconnectorSelectionEditor=function(e){var t={getTablesForConnector:this.getTablesForConnector.bind(this,e),updateTablesForConnector:this.updateTablesForConnector.bind(this,e),getTableModelByDatabasePath:this.getTableModelByDatabasePath.bind(this,e),getOrCreateTableModelByDatabasePath:this.getOrCreateTableModelByDatabasePath.bind(this,e),getOrCreateTableModelWithAliasByDatabasePath:this.getOrCreateTableModelWithAliasByDatabasePath.bind(this,e),setMetadataModelForConnection:this.setMetadataModelForConnection.bind(this,e)};return t},e.prototype.generateSourceFieldIds=function(){this.tableModels.forEach(function(e){e.updateId()})},e.prototype.serialize=function(){return this.generateSourceFieldIds(),this.updateQueries(this.tableModels.map(function(e){return e.data})),l.LoadModelAssociations.updateAssociations(this),this._rawSerialize()},e.prototype.changeTableFieldAlias=function(e,t,i){var r=this.findTableByKey(e),o=n.find(r.data.fields,function(e){return e.alias===i});return!o&&(r.changeFieldAlias(t,i),!0)},e.prototype.qualifyTableField=function(e,t){var n=this.findTableByKey(e);if(n){var i=n.getOriginalFieldNameFromAlias(t);this.isFieldNameInUse(i)&&(i=n.data.tableName+"."+i),i===t&&(i+="_"),n.changeFieldAlias(t,i)}},e.prototype.qualifyTableFields=function(e,t,n,i){var r=this.TEMP_NAME_PREFIX+this.tempCounter++,o=this.TEMP_NAME_PREFIX+this.tempCounter++,a=this.findTableByKey(e),s=this.findTableByKey(n),l=a.getOriginalFieldNameFromAlias(t),u=s.getOriginalFieldNameFromAlias(i);a.changeFieldAlias(t,r),s.changeFieldAlias(i,o),a.isFieldNameInUse(l)?a.changeFieldAlias(r,a.data.tableName+"."+t):a.changeFieldAlias(r,l),s.isFieldNameInUse(u)||u===l?s.changeFieldAlias(o,s.data.tableName+"."+i):s.changeFieldAlias(o,u)},e.prototype.clone=function(){return e.CreateLoadModel(this.serialize())},e.prototype.rawClone=function(){return e.CreateLoadModel(this._rawSerialize())},e.prototype.removeAllFieldsMarkedForDeletion=function(){var e=this;this.targetTableModels.filter(function(e){return e.isMarkedForDeletion()}).forEach(function(t){var n=e.getSourceTableByTableRefId(t.data.tableRef);n.data.fields=[],t.data.fields=[]}),this.removeUnusedConnections()},e.prototype.removeAllTablesMarkedForDeletion=function(){var e=this;this.targetTableModels.filter(function(e){return e.isMarkedForDeletion()}).forEach(function(t){e._removeTargetTable(t.data.name,!1)}),this.removeUnusedConnections()},e.prototype.updateQueriesStatus=function(e){var t=this;this.targetTableModels.filter(function(e){return"Query"===e.data.type&&e.isInSynchWithMaster()}).forEach(function(n){var i=n.data.id,r=t.getSourceTableByQueryId(i),o=e.getSourceTableByQueryId(i);if(r&&o){var a=r.data.loadSelectStatement!==o.data.loadSelectStatement||r.data.selectStatement!==o.data.selectStatement;a&&n.setUpdateStatus()}})},e.prototype.resetLoadModel=function(){return this.updateProperties(e.CreateLoadModel({}).serialize())},e.prototype.getTargetTable=function(e){var t=n.find(this.queries,function(t){return t.name===e});return t},e.prototype.updateTargetTableWithTransformation=function(e,t){var n=this.getTargetTableModelById(e);return(!n.isDirty()||n.isUpdated())&&(t.status=r.DSMTypes.QueryStatus.update),this.removeTargetTableAndModel(n,!0),this.addQueryAndCreateTargetTableModel(t)},e.prototype.replaceTargetTableWithSourceQueries=function(e){var t=this.getTargetTableModelById(e),n=t.getSourceQueries()[0];return(!t.isDirty()||t.isUpdated())&&(n.status=r.DSMTypes.QueryStatus.update),this.removeTargetTableAndModel(t,!0),this.addQueryAndCreateTargetTableModel(n)},e.prototype.renameTargetTable=function(e,t){var n=this.getTargetTableModel(e);n.setUpdateStatus(),n.rename(t)},e.prototype.renameTargetTableField=function(e,t,n){var i=this,o=this.getTargetTableModel(e);o.setUpdateStatus();var a=o.data;(a.type===r.DSMTypes.ConcatenationQuery.name&&!h.Defaults.instance().isTreatConcatAsForcedConcat()||a.type===r.DSMTypes.CrossTableQuery.name)&&a.sourceQueries&&a.sourceQueries.forEach(function(e){i.renameQueryField(e,t,n)}),a.fields&&this.renameQueryField(a,t,n)},e.prototype.hideTargetTableField=function(e,t){var n=this.getTargetTableModel(e);n.addFieldTag(t,r.DSMTypes.tags.hidden),n.setUpdateStatus()},e.prototype.unhideTargetTableField=function(e,t){var n=this.getTargetTableModel(e);n.removeFieldTag(t,r.DSMTypes.tags.hidden),n.setUpdateStatus()},e.prototype.updateScriptTables=function(t,n,i,r){var o=e.CreateLoadModel({}),a=new v.ScriptTableUpdater(o,this,r),s=a.update(t,n,i);return s},e.prototype.unconcatenateTargetTable=function(e,t){var i=this,o=this.getTargetTableModel(e),s=o.data,l=[];t&&t.forEach(function(e){var t=n.findWhere(s.sourceQueries,{id:e});t&&l.push(t)});var u=l;return 0===u.length&&(u=s.sourceQueries),u&&(u.forEach(function(e){var t=this;e.fields.forEach(function(n){t.renameQueryField(e,n.name,e.name+"."+n.name)})}.bind(this)),s.fields.forEach(function(e){if(o.wasGeneratedByTransformation(e,r.DSMTypes.QueryTransformField.name,[r.DSMTypes.Transformations.lookupGeoInfo,r.DSMTypes.Transformations.geoPoint])){var t,n=e.transformations[0].appliedTo,s=[];if(n instanceof Array){var l=n;l.forEach(function(e){var n=o.getField(e);n&&(s.push(n),n.transformations&&n.transformations.length>0&&(t=n))})}else t=o.getField(e.transformations[0].appliedTo),s.push(t);u.forEach(function(n){var r,o=new a.TargetTableModel(n),l=[];if(n.fields.forEach(function(e){s.forEach(function(n){-1!==n.sourceFieldRefs.indexOf(e.id)&&(l.push(e),n===t&&(r=e))})}),r){var u=JSON.parse(JSON.stringify(e.transformations[0]));l.length>1?u.appliedTo=[l[0].id,l[1].id]:u.appliedTo=l[0].id,o.updateFieldTransformation(i,r.id,u.op,u,"en-US")}})}e.sourceFieldRefs&&e.sourceFieldRefs.length>0&&e.classifications&&e.classifications.length>0&&u.forEach(function(t){t.fields.forEach(function(t){e.sourceFieldRefs.indexOf(t.id)>=0&&(t.classifications&&0!==t.classifications.length||(t.classifications=e.classifications.map(function(e){return e})))})})})),o.setUpdateStatus(),u},e.prototype.getTargetTableFieldsByName=function(e){return this.getFieldsByName(e,this.queries)},e.prototype.isTargetTableFieldNameInUse=function(e){return this.getFieldsByName(e,this.queries).length>0},e.prototype.isTargetTableNameInUse=function(e,t){var i=!1;t||(t=[]);var r=this.queries.filter(function(e){return!n.contains(t,e.name)});return n.each(r,function(t){i||t.name!==e||(i=!0),!i&&t.sourceQueries&&(i=n.any(t.sourceQueries,function(t){return t.name===e}))}),i},e.prototype.getSourceFieldsByAlias=function(e){var t=[],i=function(t){return t.alias===e};return this.tableModels.forEach(function(e){var r=n.find(e.data.fields,i);r&&t.push(r)}),t},e.prototype.getTargetTableModelById=function(e){return n.find(this.targetTableModels,function(t){return t.data.id===e})},e.prototype.findQueryById=function(t){var n=this.getTargetTableModelById(t);if(n)return n;var i=e.findQueryByIdImpl(this.queries,t);return i?this.wrapInTargetTableModel(i):void 0},e.prototype.resetTargetTablesStatuses=function(){this.targetTableModels.forEach(function(e){e.resetStatus()})},e.prototype.isDirty=function(){return n.any(this.targetTableModels,function(e){return e.isDirty()})},e.prototype.hasAssociations=function(e){for(var t=Object.keys(this.associations),i=0;i<t.length;i++){var r=this.associations[t[i]];if(n.find(r,function(t){return t.tableId===e}))return!0}return!1},e.prototype.findAssociations=function(e){for(var t=Object.keys(this.associations),i=[],r=0;r<t.length;r++){var o=this.associations[t[r]];n.find(o,function(t){return t.tableId===e})&&i.push(new f.Association(o,t[r]))}return i},e.prototype.removeTargetTable=function(e,t){this.removeTargetTableImpl(e,t,!0)},e.prototype.removeTargetTableModel=function(e,t){this.removeTargetTableAndModel(e,t)},e.prototype.addTargetTableModel=function(e){this.queries.push(e.data),this.targetTableModels.push(e)},e.prototype.addAsTargetTableModel=function(e){this.queries.push(e);var t=new a.TargetTableModel(e);return this.targetTableModels.push(t),t},e.prototype.removeAssociation=function(e){delete this.associations[e]},e.prototype.addInlineTableModel=function(e,t,n){var i=this.getUniqueTableName(e),r={databaseName:"inlinedata",dataconnectorName:"inlinedata",tableName:i,tableAlias:i,key:"inlinedata."+i,connectionInfo:{name:"inlinedata",typeName:"inlinedata",type:{provider:"inlinedata",type:"inlinedata"}},loadStatementModel:{type:"inlinedata",data:n},caching:{enabled:!1,type:"qvd"},fields:[],state:"new"},o=new s.InputTableModel(r);return t.forEach(function(e,t){o.addField(e,t,!0)}),this.tableModels.push(o),this.connectionMetaDataModels.inlinedata||(this.connectionMetaDataModels.inlinedata=r.connectionInfo),r},e.prototype.createForcedConcatenationQuery=function(e,t,n){return this.createCompositeQuery(e,t,n,r.DSMTypes.ForcedConcatenationQuery.name)},e.prototype.createJoinedQuery=function(e,t,n,i){var o=this.createCompositeQuery(e,n,i,r.DSMTypes.JoinedQuery.name);return o.data&&t&&(o.data.joinType=t),o},e.prototype.splitQuery=function(e){var t=new d.CompositeQueryOperations;return t.splitCompositeQuery(e,this)},e.prototype.getTargetTableModel=function(e){return n.find(this.targetTableModels,function(t){return t.data.name===e})},e.prototype.addTableModel=function(e){this.tableModels.push(s.InputTableModel.create(e))},e.prototype.isFieldNameInUse=function(e){for(var t in this.tableModels)if(this.tableModels[t].isFieldNameInUse(e))return!0;return!1},e.prototype.getSourceTableByTableRefId=function(e){for(var t=0;t<this.tableModels.length;t++){var n=this.tableModels[t];if(n.data.id===e)return n}},e.prototype.removeTargetTableImpl=function(e,t,n){var i=this.getTargetTableModel(e);i.isAdded()?this._removeTargetTable(e,t):(this.removeFields(e),i.setMarkForDeletion()),n&&this.setProperties()},e.prototype.removeFields=function(e){var t,i,r=this,o=n.find(this.queries,function(t){return t.name===e});o&&("ConcatenationQuery"===o.type?(t=o.sourceQueries,i=n.pluck(t,"tableRef")):"Query"===o.type&&(t=[o],i=[o.tableRef]),n.each(i,function(e){var t=r.getSourceTableByTableRefId(e);t&&(t.data.fields=[])}),n.each(t,function(e){e.fields=[]}))},e.prototype._removeTargetTableImpl=function(e,t){var i=this;if(e){var r=[];e.sourceQueries&&e.sourceQueries.length>0?r=e.sourceQueries:"Query"===e.type&&(r=[e]),t||n.each(r,function(r){e.sourceQueries&&e.sourceQueries.forEach(function(e){i._removeTargetTableImpl(e,t)});var o=n.find(i.tableModels,function(e){return e.data.id===r.tableRef});if(o){var a=i.tableModels.indexOf(o);i.tableModels.splice(a,1)}});var o=this.queries.indexOf(e);e=void 0,this.queries.splice(o,1)}},e.prototype._removeTargetTable=function(e,t){var i=n.find(this.queries,function(t){return t.name===e});this._removeTargetTableImpl(i,t)},e.prototype.getConnectionMetaDataModel=function(e){return this.connectionMetaDataModels[e]},e.prototype.getTableModelWithName=function(e){for(var t in this.tableModels){var n=this.tableModels[t];if(n.getTableAlias()===e)return n}return},e.prototype.getSourceTableByQueryId=function(e){for(var t=this.getQueryByQueryId(e),n=0;n<this.tableModels.length;n++){var i=this.tableModels[n];if(t&&i.data.id===t.tableRef)return i}},e.prototype.setProperties=function(){return this.updateProperties(this.serialize())},e.prototype.updateProperties=function(e){throw o.QueryGenerator.checkIntegrity(e.tables,e.queries),"Unsupported"},e.prototype.removeTargetTableAndModel=function(e,t){this._removeTargetTable(e.getName(),t);var n=this.targetTableModels.indexOf(e);this.targetTableModels.splice(n,1)},e.prototype.addQueryAndCreateTargetTableModel=function(e){this.queries.push(e);var t=this.createTargetTableModel(e);return this.targetTableModels.push(t),t},e.prototype.getQueryByQueryId=function(e){return n.find(this.queries,function(t){return t.id===e})},e.prototype.getTableModelById=function(e){return n.find(this.tableModels,function(t){return t.data.id===e})},e.prototype.getSourceFieldById=function(e){var t=[];return this.tableModels.forEach(function(e){t=t.concat(e.data.fields)}),n.find(t,function(t){return t.id===e})},e.prototype.renameQueryField=function(e,t,i){var r=n.find(e.fields,function(e){return e.name===t});if(r){r.name=i;var o=this.getSourceFieldById(r.fieldRef);o&&(o.alias=i)}},e.prototype.getFieldsBy=function(e,t){e||(e=this.queries);var i=[];return e.forEach(function(e){var r;e.sourceQueries&&(r=[],e.sourceQueries.forEach(function(o){r=n.find(o.fields,t),r&&i.push({table:e,field:r})})),r=n.find(e.fields,t),r&&i.push({table:e,field:r})}),i},e.prototype.getFieldsByName=function(e,t){return this.getFieldsBy(t,function(t){return t.name===e})},e.prototype.createTargetTableModel=function(e){return a.TargetTableModel.CreateTargetTableModel(e)},e.prototype.createAndAddToCollection=function(e,t){var n=s.InputTableModel.create(t);return e.push(n),n},e.prototype.hasTableWithConnection=function(e){for(var t in this.tableModels)if(this.tableModels[t].data.dataconnectorName===e)return!0;return!1},e.prototype.removeUnusedConnections=function(){for(var e in this.connectionMetaDataModels)this.connectionMetaDataModels.hasOwnProperty(e)&&(this.hasTableWithConnection(e)||delete this.connectionMetaDataModels[e])},e.prototype.overwriteContent=function(e,t){var n=this;this.connectionMetaDataModels=e.connectionMetaDataModels||{},this.tableModels.splice(0,this.tableModels.length),e.tables&&e.tables.forEach(function(e){e.connectionInfo||(e.connectionInfo=n.getConnectionMetaDataModel(e.dataconnectorName)),n.addTableModel(e)}),e.queries?(this.queries.splice(0,this.queries.length),this.targetTableModels.splice(0,this.targetTableModels.length),e.queries.forEach(function(e){n.queries.push(e),n.targetTableModels.push(a.TargetTableModel.CreateTargetTableModel(e))})):this.updateQueries(e.tables),this.associations=e.associations||{},t&&l.LoadModelAssociations.updateAssociations(this),this.version++},e.prototype.createCompositeQuery=function(e,t,n,i){var r=a.TargetTableModel.CreateTargetTableModel({type:i,name:e,id:c.LoadModelIds.generateUUID()}),o=new d.CompositeQueryOperations;return o.populateCompositeQuery(r,this,e,t,n),this.addTargetTableModel(r),r},e.prototype.updateQueries=function(e){var t=this;if(n.isEmpty(this.queries))this.queries.splice(0,this.queries.length),this.targetTableModels.splice(0,this.targetTableModels.length),o.QueryGenerator.generate(e||[],this).forEach(function(e){t.queries.push(e),t.targetTableModels.push(a.TargetTableModel.CreateTargetTableModel(e))});else{var i=[];o.QueryGenerator.updateQueries(e,this.queries,this,i),this.targetTableModels.splice(0,this.targetTableModels.length),this.queries.forEach(function(e){t.targetTableModels.push(a.TargetTableModel.CreateTargetTableModel(e))}),i.forEach(function(e){t.removeTargetTableImpl(e.name,!1,!1)})}return this.queries},e.prototype.getUniqueTableName=function(e){for(var t=0,n=e,i=e;this.getTableModelWithName(n);)n=i+"-"+ ++t;return n},e.prototype.findTableByKey=function(e){for(var t in this.tableModels)if(this.tableModels[t].data.key===e)return this.tableModels[t];return},e.prototype._rawSerialize=function(){var t={connectionMetaDataModels:{},tables:this.tableModels.map(function(e){e.isNothingSelected()&&(e.data.fields=[]);var t=e.serialize();return t}),queries:[],associations:{},locale:void 0,defaultCalendar:void 0,schemaVersion:e.SCHEMA_VERSION};for(var i in this.connectionMetaDataModels)this.connectionMetaDataModels.hasOwnProperty(i)&&(t.connectionMetaDataModels[i]=u.SharedUtil.extend(!0,{},this.connectionMetaDataModels[i]));return t.queries=[],n.each(this.queries,function(e){t.queries.push(o.QueryGenerator.cloneQuery(e))}),t.associations=l.LoadModelAssociations.serializeAssociations(this),t.locale=u.SharedUtil.extend(!0,{},this.locale),t.defaultCalendar=u.SharedUtil.extend(!0,{},this.defaultCalendar),t},e}();m.SCHEMA_VERSION=2.1,t.LoadModel=m}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(151),n(54),n(1345),n(1346),n(1347)],r=function(e,t,n,i,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,n){this.targetTable=e,this.loadModel=t,this.locale=n}return e.prototype.updateTransformation=function(t,n,r){var o=i.where(e.supportedTransformations,{op:n});if(o.length>0){var a=o[0].handler,s=new a(this.targetTable,this.loadModel,this.locale);s.updateTransformation(t,r)}},e.prototype.handleRecommendation=function(t,n){var r=i.where(e.supportedTransformations,{op:t.op});if(r.length>0&&-1!==n.indexOf(t.op)){var o=r[0].handler,a=new o(this.targetTable,this.loadModel,this.locale);a.handleRecommendation(t)}},e}();s.supportedTransformations=[{op:n.DSMTypes.Transformations.interpretValues,handler:a.DateTimeRecommendation},{op:n.DSMTypes.Transformations.geoPoint,handler:r.GeoPointRecommendation},{op:n.DSMTypes.Transformations.lookupGeoInfo,handler:o.GeoLookupRecommendation}],t.TransformationRecommendationUtil=s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(){}return t.loadLanguageBundle=function(i,r){var o=t.getLongLanguageDesc(i);if(true,e.exports)try{var a=n(1285)("./load-model-"+o);t.resourceBundles[o]=a,r(a)}catch(e){}else{var s=["text!./assets/load-model/translations/load-model-"+o+".json"],l=function(e){var n=JSON.parse(e);t.resourceBundles[o]=n,r(n)};try{window.requirejs.apply(window.requirejs,[s,l])}catch(e){}}},t.GetString=function(e,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];for(var o=t.getLoadedResourceBundle(t.getLongLanguageDesc(e))[n],a=0;a<i.length;a++){var s="{"+a+"}";o=o.replace(s,i[a])}return o},t.getLoadedResourceBundle=function(e){return t.resourceBundles[e]},t.getShortLanguageDesc=function(e){return"pseudo"!==e.toLowerCase()&&(e=e.substring(0,2)),e.toLowerCase()},t.getLongLanguageDesc=function(e){var n;return n=t.languageList.filter(function(t){return t["long"].toLowerCase()===e.toLowerCase()}),n.length?e=n[0]["long"]:(n=t.languageList.filter(function(n){return n["short"]===t.getShortLanguageDesc(e)}),n.length&&(e="zh-hk"===e.toLocaleLowerCase()||"zh-mo"===e.toLocaleLowerCase()?"zh-TW":n[0]["long"])),n.length||(e=t.DEFAULT_LANGUAGE),e},t}();r.resourceBundles=[],r.DEFAULT_LANGUAGE="en-US",r.languageList=[{short:"es",long:"es-ES",label:"Spanish"},{short:"sv",long:"sv-SE",label:"Swedish"},{short:"ja",long:"ja-JP",label:"Japanese"},{short:"en",long:"en-US",label:"English"},{short:"de",long:"de-DE",label:"German"},{short:"fr",long:"fr-FR",label:"French"},{short:"it",long:"it-IT",label:"Italian"},{short:"nl",long:"nl-NL",label:"Dutch"},{short:"pt",long:"pt-BR",label:"Brazilian Portuguese"},{short:"ru",long:"ru-RU",label:"Russian"},{short:"zh",long:"zh-CN",label:"Simplified Chinese"},{short:"zh",long:"zh-TW",label:"Traditional Chinese"},{short:"pl",long:"pl-PL",label:"Polish"},{short:"tr",long:"tr-TR",label:"Turkish"},{short:"ko",long:"ko-KR",label:"Korean"}],i.Translator=r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i={"./load-model-de-DE":1065,"./load-model-de-DE.json":1065,"./load-model-en-US":1066,"./load-model-en-US.json":1066,"./load-model-es-ES":1067,"./load-model-es-ES.json":1067,"./load-model-fr-FR":1068,"./load-model-fr-FR.json":1068,"./load-model-it-IT":1069,"./load-model-it-IT.json":1069,"./load-model-ja-JP":1070,"./load-model-ja-JP.json":1070,"./load-model-ko-KR":1071,"./load-model-ko-KR.json":1071,"./load-model-nl-NL":1072,"./load-model-nl-NL.json":1072,"./load-model-pl-PL":1073,"./load-model-pl-PL.json":1073,"./load-model-pt-BR":1074,"./load-model-pt-BR.json":1074,"./load-model-ru-RU":1075,"./load-model-ru-RU.json":1075,"./load-model-sv-SE":1076,"./load-model-sv-SE.json":1076,"./load-model-tr-TR":1077,"./load-model-tr-TR.json":1077,"./load-model-zh-CN":1078,"./load-model-zh-CN.json":1078,"./load-model-zh-TW":1079,"./load-model-zh-TW.json":1079,"./load-model-zz":1080,"./load-model-zz.json":1080};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return i[e]}r.keys=function e(){return Object.keys(i)};r.resolve=o;e.exports=r;r.id=1285},function(e,t,n){var i,r;!(i=[n,t,n(54),n(151),n(1199)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.QueryFieldMapping=o;var a=function(){function e(e){this.targetTable=e}return e.prototype.getInfo=function(){var e={totalFields:0,totalConcatFields:0,fieldsMapped:0};return this.targetTable.getFields().forEach(function(t){e.totalFields++,t.type===i.DSMTypes.CompositeQueryField.name&&(e.totalConcatFields++,t.sourceFieldRefs.length>1&&e.fieldsMapped++)}),e},e.prototype.populateCompositeQuery=function(e,t,n,i,o){i.forEach(function(n){t.removeTargetTableModel(n,!0),e.addSourceQuery(n.data)}),o&&0!==o.length||(o=this.createMapping(i,t)),this.generateCompositionFields(e,o);var a=i.map(function(e){return e.data});return r.CompositeOperations.migrateAssociations(a,e,t),this.matchGeoFields(e,t),e},e.prototype.splitCompositeQuery=function(e,t){this.restoreAssociations(e,t);var n=e.getSourceQueries(),i=[];return n.forEach(function(e){var n=t.addAsTargetTableModel(e);i.push(n)}),t.removeTargetTableModel(e,!0),e.setUpdateStatus(),i},e.prototype.matchGeoFields=function(e,t){var n=e.getFields();n.forEach(function(n){var r=t.wrapInFieldModel(n);if(r.isGeographical()&&n.sourceFieldRefs.length>0){var o=e.getGeoRelatedFields(n,!0);if(o.length>0){var a=e.createField(n.name+"_GeoInfo",i.DSMTypes.CompositeQueryField.name);o.forEach(function(e){a.addSourceField(e)})}}})},e.prototype.createMapping=function(e,t){for(var n=[],r=0;r<e.length;r++)for(var a=e[r].getFields(),s=0;s<a.length;s++){var l=a[s];e[r].wasGeneratedByTransformation(l,i.DSMTypes.QueryTransformField.name,[i.DSMTypes.Transformations.lookupGeoInfo])||(n[s]?n[s].sourceFields.push(l):(n[s]=new o,n[s].name=l.name,n[s].sourceFields=[],n[s].sourceFields.push(l)))}return n},e.prototype.generateCompositionFields=function(e,t){t.forEach(function(t){var r,o=e.createField(t.name,i.DSMTypes.CompositeQueryField.name),a=!0;t.sourceFields.forEach(function(e,t){0===t?r=e.classifications:a&&(a=n.isEqual(r,e.classifications)),o.addSourceField(e)}),o.data.classifications=a&&r?r:[]})},e.prototype.restoreAssociations=function(e,t){var n=t.findAssociations(e.data.id);n.forEach(function(e){t.removeAssociation(e.getName())})},e}();t.CompositeQueryOperations=a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){e.gInstance=this}return e.instance=function(){return e.gInstance},e.prototype.setTreatConcatAsForcedConcat=function(e){this.concatAsForcedConcat=e},e.prototype.isTreatConcatAsForcedConcat=function(){return this.concatAsForcedConcat},e}();n.gInstance=new n,t.Defaults=n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(151)],r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.qualifyDuplicatedFieldNames=function(t,n){return e.qualifyNewDuplicatedFieldNamesImpl(t,n,!1)},e.qualifyNewDuplicatedFieldNames=function(t,n,i){return e.qualifyNewDuplicatedFieldNamesImpl(t,n,i)},e.qualifyNewDuplicatedFieldNamesImpl=function(t,i,r){var o=t.tableModels.reduce(function(e,t){return e[t.getTableAlias()]=t,e},{}),a=i.tableModels.filter(function(e){return!!o[e.getTableAlias()]}),s=i.tableModels.filter(function(e){return!o[e.getTableAlias()]});r&&(s=s.filter(function(t){var n=e.findTableWithSameFields(a,t);return!n||(e.applySameFieldAliases(n,t),!1)}));var l=[];s.forEach(function(t,n){var i=null;if(r&&n>0&&(i=e.findTableWithSameFields(s.slice(0,n),t)),i){var o=t.data.fields.filter(e.selectedFieldFilter).reduce(function(n,i){return n[e.getUnqualifiedFieldName(t,i)]=i,n},{});l.filter(function(e){return e.table===i}).forEach(function(n){var i=e.getUnqualifiedFieldName(n.table,n.field);n.links=n.links||[],n.links.push({table:t,field:o[i]})})}else l=l.concat(t.data.fields.filter(e.selectedFieldFilter).map(function(e){return{table:t,field:e}}))});var u=[];a.forEach(function(t){var n=e.getSelectedFieldsByName(o[t.getTableAlias()]);l=l.concat(t.data.fields.filter(e.selectedFieldFilter).filter(function(e){return!n[e.name]}).map(function(e){return{table:t,field:e}})),u=t.data.fields.filter(e.selectedFieldFilter).filter(function(e){var t=n[e.name];return!(!t||t.alias===e.alias)}).map(function(e){return{table:t,field:e}})});var c=a.reduce(function(t,n){var i=o[n.getTableAlias()],r=e.getSelectedFieldsByName(i);return n.data.fields.filter(e.selectedFieldFilter).filter(function(e){return!!r[e.name]}).forEach(function(e){var i=n.getFieldAlias(e.name);t[i]=(t[i]||0)+1}),t},{});t.targetTableModels.forEach(function(e){e.data.fields.filter(function(e){return e.type!==n.DSMTypes.QueryField.name}).forEach(function(e){c[e.name]=(c[e.name]||0)+1})});var d=l.reduce(function(e,t){var n=t.table.getFieldAlias(t.field.name);return e[n]=(e[n]||0)+1,e},{});this.qualifyFieldName(l,c,d,i,!0),this.qualifyFieldName(u,c,d,i,!1)},e.shouldQualifyWithTableGroupId=function(e,t){var n=t.table,i=t.field,r=!1;return n.data.tableGroupId&&n.data.lockSameGroupAssociations&&(r=e,n.data.tableGroupDirections&&n.data.tableGroupDirections.qualify&&(r=!1,i.tableGroupFieldInfo&&i.tableGroupFieldInfo.isKey&&(r=!0))),r},e.qualifyFieldName=function(t,n,i,r,o){t.forEach(function(t){var a=t.table.getFieldAlias(t.field.name),s=!0;t.table.data.connectionInfo&&"script"===t.table.data.connectionInfo.typeName&&(s=!1);var l=o?0:1,u=n[a]>l||i[a]>1;if(s&&(u||e.shouldQualifyWithTableGroupId(u,t))){var c=t.table.getFieldQualifiedName(a),d=c,f=1;if(e.shouldQualifyWithTableGroupId(u,t))c=t.table.data.tableGroupId+"."+a;else for(;r.isFieldNameInUse(c);)f++,c=d+"_"+f;t.table.setFieldAlias(t.field.name,c),t.links&&t.links.forEach(function(e){e.table.setFieldAlias(e.field.name,c)})}})},e.selectedFieldFilter=function(e){return e.selected},e.getSelectedFieldsByName=function(t){return t.data.fields.filter(e.selectedFieldFilter).reduce(function(e,t){return e[t.name]=t,e},{})},e.getUnqualifiedFieldName=function(e,t){var n=t.alias?t.alias:t.name;if(t.alias!==t.name){var i=e.getFieldQualifiedName(""),r=n.indexOf(i);if(0===r&&n.length>i.length){var o=n.substr(i.length).replace(/\.\./g,"."),a=e.getTableGroupId();return a&&0===o.indexOf(a+".")&&(o=o.substring(a.length+1)),o}var a=e.getTableGroupId(),o=n;if(a&&0===o.indexOf(a+"."))return o.substring(a.length+1)}return n},e.findTableWithSameFields=function(t,n){function i(t){var n=t.data.fields.filter(e.selectedFieldFilter).map(function(n){var i=e.getUnqualifiedFieldName(t,n);return i.replace(/|/g,"||")});return n.sort(),n}for(var r=null,o=i(n).join("|"),a=0;a<t.length;a++){var s=t[a];if(s!==n&&o===i(s).join("|")){r=s;break}}return r},e.applySameFieldAliases=function(t,n){var i=t.data.fields.reduce(function(n,i){var r=e.getUnqualifiedFieldName(t,i);return n[r]=t.getFieldAlias(i.name),n},{});n.data.fields.forEach(function(t){var r=e.getUnqualifiedFieldName(n,t),o=i[r];o&&o!==r&&n.setFieldAlias(t.name,o)})},e}();i.FLAGS={DetectAutoConcatenate:{Yes:!0,No:!1}},t.DSFieldsQualifications=i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(1351),n(1352),n(1353),n(1354),n(1355)],r=function(e,t,n,i,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.TemplateHelpers.InitHandlebars();var s=function(){function e(){}return e.GetBoxType=function(e){switch(e){case n.LoadFile.type:return n.LoadFile;case i.LoadSql.type:return i.LoadSql;case r.Join.type:return r.Join;case o.NewGeneration.type:return o.NewGeneration}},e}();t.BoxTypesModel=s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(214),n(1692),n(1829),n(1831),n(1211),n(1291),n(1833),n(441)],r=function(e,t,n,i,r,o,a,s,l,u){function c(c,d,f,p,h){var v=[];var m;var g=false;var b=f.map(r.createQScriptTabModelFromData);0===b.length&&b.push(r.createTabForEmptyScript());function y(e,t){var n=ne.tabs.indexOf(t);var o=i.parse(e).map(r.createQScriptTabModelFromData);if(o.length!==b.length)Array.prototype.splice.apply(ne.tabs,[0,ne.tabs.length].concat(o));else for(var a in b)o[a].content!==b[a].content&&(b[a]=o[a]);return n>=0&&ne.tabs.length>n?ne.tabs[n]:ne.tabs[0]}function x(e){var t=0;var n=1;var i=0;var r=e-t;for(var o=0;o<b.length;o++){var a=b[o].lineCount+b[o].headerSize;if(r<i+a){var s={tabIndex:o,lineNbr:r-i-b[o].headerSize+n,globalLineNbr:r};return s}i+=a}}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n].qlineIx;var r=x(i);if(r)for(var o=0;o<e.length;o++)r.tabIndex===o&&(e[o].breakpoints[r.lineNbr]={lineNbr:r.lineNbr,enabled:t[n].qEnabled||false})}}function S(){for(var e=0;e<ne.tabs.length;e++)if(ne.tabs[e].isModified())return true;return g}function C(){v.splice(0,v.length);Array.prototype.push.apply(v,ne.tabs);for(var e in ne.includeFileTabs)v.push(ne.includeFileTabs[e]);return v}function E(){for(var e=0;e<ne.tabs.length;e++)ne.tabs[e].resetModified();g=false}function q(e){return ne.includeFileTabs[e]}function _(e,t){ne.includeFileTabs[e]=r.createQScriptTabModelFromData({name:e,content:t});ne.includeFileTabs[e].readOnly=true;m.addIncludedFileTab(ne.includeFileTabs[e])}function T(e,t){ne.currentlyExecutingTab=void 0;ne.lastLocation=ne.currentLocation;var n=ne.tabsAndIncludedFiles;for(var i=0;i<n.length;i++)n[i].setCurrentlyRunningLocalLineNbr(void 0);if(t){var r=q(t);r.setCurrentlyRunningLocalLineNbr(e+1);ne.currentlyExecutingTab=r;ne.currentLocation={tabIndex:t,lineNbr:e+1,globalLineNbr:e+1}}else if(e){var o=e>=0?x(e):void 0;if(o){b[o.tabIndex].setCurrentlyRunningLocalLineNbr(o.lineNbr);ne.currentlyExecutingTab=b[o.tabIndex];ne.currentLocation=o;m=b[o.tabIndex]}else{ne.currentLocation=void 0;ne.currentlyExecutingTab=void 0}}}function k(){if(ne.currentlyExecutingTab&&ne.currentlyExecutingTab.debugLineNbr){for(var e in ne.currentlyExecutingTab.breakpoints){var t=parseInt(e,10);var n=ne.currentlyExecutingTab.breakpoints[t].enabled;if(n&&ne.currentLocation.lineNbr===t)return true}return false}return false}function O(){return d.checkScriptSyntax().then(function(e){D(e.qErrors);return{clear:function e(){D([])}}})}function D(e){ne.errorCount=e.length;var t;for(t in ne.tabs)ne.tabs[t].errors._clearErrors();for(t in e){var n=e[t];var i=e[t].qTabIx;i<ne.tabs.length&&ne.tabs[i].errors._addError(n)}for(t in ne.tabs)ne.tabs[t].errors._errorsUpdated()}function A(){return b.map(function(e){return e.toData()})}function I(){var e=i.stringify(A());return d.setScript({qScript:e})}function L(){return P().then(M).then(I)}function P(){var e=[];var t=[];var n=0;var i=ne.tabs;function r(e){return{qlineIx:e.lineNbr+n,qEnabled:e.enabled}}for(var o=0;o<i.length;o++){var a=[];i[o].calculateRowCount();for(var s in i[o].breakpoints)a.push(i[o].breakpoints[s]);t=a.map(r);e=e.concat(t);n+=i[o].lineCount+i[o].headerSize}return d.setScriptBreakpoints({qBreakpoints:e})}function M(){return d.setFavoriteVariables({qNames:ne._savedFavoriteVariables})}function N(e){return ne._savedFavoriteVariables.indexOf(e)>-1}function R(e){var t=ne._savedFavoriteVariables.indexOf(e.key);t>-1?ne._savedFavoriteVariables.splice(t,1):ne._savedFavoriteVariables.push(e.key)}function F(){return P().then(M).then(I).then(function(){return n.saveApp(function(){n.isAutoSaveOn(true)||a.addMessage(a.MESSAGE_TYPE.DEFAULT,t.get("scripteditor.console.appsuccessfullysaved"));l.saveDone()})})}function j(){return c.configureReload(true,true,false).then(function(){return c.enigmaGlobal.session.rpc.send({handle:c.enigmaGlobal.session.app.handle,method:"DoReload",params:[]}).then(function(e){if(e.result)return e.result.qReturn;if(e.error)return false})})}function B(e,t){var n=0;for(var i=0;i<ne.tabs.length;i++){var r=ne.tabs[i];r.nbrOfSearchHits=e?u.getMaxNumberOfHits(r.content,e,t):0;n+=r.nbrOfSearchHits}return n}function V(){for(var e=0;e<ne.tabs.length;e++){var t=ne.tabs[e];t.nbrOfSearchHits=0}}function H(){for(var e in b)b[e].calculateRowCount()}function U(t){H();return e.getService("$timeout")(function(){ne.debugDriver=o.createDebugDriver(ne,c,d,t)})}function z(e){for(var t in ne.tabs)if(b[t].name===e)return true;return false}function $(){var e=t.get("scripteditor.vtabs.newtabname");if(!z(e))return e;var n=2;while(true){var i=e+" "+n;if(!z(i))return i;n++}}function G(e){ne.tabs.splice(e,0,r.createNewQScriptTabModel($()))}function W(e,t){g=true;ne.tabs.splice(t,0,ne.tabs.splice(e,1)[0])}function Q(e){g=true;ne.tabs.splice(ne.tabs.indexOf(e),1)}function K(e){ne.tabs.splice(0,ne.tabs.length);var t=i.parse(e);var n=t.map(r.createQScriptTabModelFromData);Array.prototype.push.apply(ne.tabs,n)}function Y(e){ne.variables=e}function X(){ne.debugDriver=void 0}function Z(){return true}function J(e,t){t=t||Z;var n=e;do{var i=ne.tabs.indexOf(n);n=0<=i&&i<ne.tabs.length-1?ne.tabs[i+1]:ne.tabs[0]}while(!t(n)&&n!==e);return n}function ee(e,t){t=t||Z;var n=e;do{var i=ne.tabs.indexOf(n);n=0<i&&i<ne.tabs.length?ne.tabs[i-1]:ne.tabs[ne.tabs.length-1]}while(!t(n)&&n!==e);return n}function te(){return m||ne.tabs[ne.tabs-length-1]}if(p){H();w(b,p)}var ne={tabs:b,includeFileTabs:{},setScript:I,setAndPersistScript:F,fastSave:L,toData:A,run:j,variables:[],currentLocation:void 0,lastLocation:void 0,errorCount:0,currentlyExecutingTab:void 0,calculateRowCounts:H,distributeDebugRunInfo:T,distributeSyntaxCheckResult:D,distributeVariableList:Y,getTabForIncludeFile:q,createIncludeTabForIncludeFile:_,updateFavoriteVariables:R,variableIsFavorite:N,_removeDebugger:X,_savedFavoriteVariables:h||[],isOnBreakpoint:k,checkScriptSyntax:O,startDebugDriver:U,addNewTab:G,moveTab:W,removeTab:Q,replaceTabsWithRawScript:K,getNextTab:J,getPreviousTab:ee,debugDriver:void 0,debugLimitedLoadValue:s.register("scriptModel.debugLimitedLoadValue",100),debugLimitedLoadEnabled:s.register("scriptModel.debugLimitedLoadEnabled",false),markGlobalFindings:B,clearGlobalFindings:V,resetModified:E,getTabToFocusAfterDebugExit:te,overwriteTabsWithRawScript:y};Object.defineProperty(ne,"modified",{get:function e(){return S()},enumerable:true});Object.defineProperty(ne,"tabsAndIncludedFiles",{get:function e(){return C()},enumerable:true});return ne}function d(e,t,n,r,o){var a=i.parse(n);return c(e,t,a,r,o)}return{createQScriptModelFromRawText:d,createQScriptModelFromTabDataArray:c}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(1832),n(90)],r=function(e,t){function n(e){if(e)return e.replace(/.*\\/g,"")}return e.forAppName(n(t.getParameterByName("app"))+".")}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){},function(e,t,n){var i,r;(function(){"use strict";var n={}.hasOwnProperty;function o(){var e=[];for(var t=0;t<arguments.length;t++){var i=arguments[t];if(!i)continue;var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)&&i.length){var a=o.apply(null,i);a&&e.push(a)}else if("object"===r)for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}return e.join(" ")}if(true,e.exports){o.default=o;e.exports=o}else{true;!(i=[],r=function(){return o}.apply(t,i),void 0!==r&&(e.exports=r))}})()},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(91),n(228),n(1717)],r=function(e,t,n,i,r){function o(e){var i={name:n.get("Common.Cancel"),callback:function e(){l.close();l=null}};var o=[];e.noDefaultButton||o.push(i);o.push(e.action);var l=t.getService("luiDialog").show({template:r,input:{tid:e.tid,title:e.title,content:e.content,buttons:o}});l.opened.then(a);l.closing.then(s);return l}function a(){var t=document.getElementsByClassName("lui-dialog-container");if(t.length>0){t[0].setAttribute("qva-outside-ignore-for",l());e(t[0]).keyup(function(e){27!==e.keyCode&&e.stopPropagation()})}t=null}function s(){var t=document.getElementsByClassName("lui-dialog-container");if(t.length>0){t[0].removeAttribute("qva-outside-ignore-for");e(t[0]).unbind("keyup")}t=null}function l(){var t=e(".qv-appview-navigator");var n="nav-";t.length>0&&t.scope?n+=t.scope().navigationmode:n+=i.navigationMode;return n}return{show:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(96),n(11),n(99),n(10)],r=function(e,t,n){var i={clientX:0,clientY:0,target:null,isSwipeing:false};function r(e,n){var i=t(e.target),r,o=e.clientX;if(!i.is(n))return false;r=i.offset().left+t(e.target).width();return o>r-15}return{setup:function r(o,a){var s=this;s.timer=null;s.$elm=o;s.$divParrent=t();i.isTouchDevice=!n.treatAsDesktop();i.target=s.$elm[0];e(s.$elm[0]).tap({id:".ao-hub-gestures",options:{preventDefault:false},start:function e(n){i.target=n.target;i.clientX=n.pageX;i.clientY=n.pageY;i.isSwipeing=false;if(a){s.$divParrent=s.$elm.find(a);s.$divParrent.each(function(){var e=t(this);e.css("min-height",e.height())})}},end:function e(){a&&s.removeUlHeights()},cancel:function e(){a&&s.removeUlHeights()}});i.isTouchDevice&&e(s.$elm[0]).swipe({id:".ao-hub-gestures",options:{preventDefault:false},start:function e(){clearTimeout(s.timer);i.isSwipeing=true},end:function e(){s.timer=setTimeout(function(){i.isSwipeing=false},100);a&&s.removeUlHeights()}})},destroy:function t(){var n=this;e(n.$elm[0]).off("*",".ao-hub-gestures");n.$elm=null;n.$divParrent=null;n.timer=null;i=null;i={clientX:0,clientY:0,target:null,isSwipeing:false,isTouchDevice:false}},isClickOnScrollbar:function e(t){return r(i,t)},event:i,removeUlHeights:function e(){var n=this;if(n.$divParrent&&n.$divParrent.length){n.$divParrent.css("min-height","");n.$divParrent.each(function(){var e=t(this);e.css("min-height","")})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(1197),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function b(e,t,n,i,r,o,a,s){if(!e){e=void 0;if(void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,r,o,a,s],u=0;e=Error(t.replace(/%s/g,function(){return l[u++]}));e.name="Invariant Violation"}e.framesToPop=1;throw e}}function y(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);b(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function S(e,t,n){this.props=e;this.context=t;this.refs=w;this.updater=n||x}S.prototype.isReactComponent={};S.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e?y("85"):void 0;this.updater.enqueueSetState(this,e,t,"setState")};S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function C(){}C.prototype=S.prototype;function E(e,t,n){this.props=e;this.context=t;this.refs=w;this.updater=n||x}var q=E.prototype=new C;q.constructor=E;i(q,S.prototype);q.isPureReactComponent=!0;var _={current:null},T={current:null},k=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function D(e,t,n){var i=void 0,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!O.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:T.current}}function A(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}function L(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}var P=/\/+/g,M=[];function N(e,t,n,i){if(M.length){var r=M.pop();r.result=e;r.keyPrefix=t;r.func=n;r.context=i;r.count=0;return r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function R(e){e.result=null;e.keyPrefix=null;e.func=null;e.context=null;e.count=0;10>M.length&&M.push(e)}function F(e,t,n,i){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var s=!1;if(null===e)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case a:s=!0}}if(s)return n(i,e,""===t?"."+B(e,0):t),1;s=0;t=""===t?".":t+":";if(Array.isArray(e))for(var l=0;l<e.length;l++){r=e[l];var u=t+B(r,l);s+=F(r,u,n,i)}else if(null===e||"object"!==typeof e?u=null:(u=g&&e[g]||e["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(e=u.call(e),l=0;!(r=e.next()).done;)r=r.value,u=t+B(r,l++),s+=F(r,u,n,i);else"object"===r&&(n=""+e,y("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function j(e,t,n){return null==e?0:F(e,"",t,n)}function B(e,t){return"object"===typeof e&&null!==e&&null!=e.key?L(e.key):t.toString(36)}function V(e,t){e.func.call(e.context,t,e.count++)}function H(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++);Array.isArray(e)?U(e,i,n,function(e){return e}):null!=e&&(I(e)&&(e=A(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),i.push(e))}function U(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/");t=N(t,o,i,r);j(e,H,t);R(t)}function z(){var e=_.current;null===e?y("307"):void 0;return e}var $={Children:{map:function(e,t,n){if(null==e)return e;var i=[];U(e,i,null,t,n);return i},forEach:function(e,t,n){if(null==e)return e;t=N(null,null,t,n);j(e,V,t);R(t)},count:function(e){return j(e,function(){return null},null)},toArray:function(e){var t=[];U(e,t,null,function(e){return e});return t},only:function(e){I(e)?void 0:y("143");return e}},createRef:function(){return{current:null}},Component:S,PureComponent:E,createContext:function(e,t){void 0===t&&(t=null);e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null};e.Provider={$$typeof:c,_context:e};return e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return z().useCallback(e,t)},useContext:function(e,t){return z().useContext(e,t)},useEffect:function(e,t){return z().useEffect(e,t)},useImperativeHandle:function(e,t,n){return z().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return z().useLayoutEffect(e,t)},useMemo:function(e,t){return z().useMemo(e,t)},useReducer:function(e,t,n){return z().useReducer(e,t,n)},useRef:function(e){return z().useRef(e)},useState:function(e){return z().useState(e)},Fragment:s,StrictMode:l,Suspense:h,createElement:D,cloneElement:function(e,t,n){null===e||void 0===e?y("267",e):void 0;var r=void 0,a=i({},e.props),s=e.key,l=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,u=T.current);void 0!==t.key&&(s=""+t.key);var c=void 0;e.type&&e.type.defaultProps&&(c=e.type.defaultProps);for(r in t)k.call(t,r)&&!O.hasOwnProperty(r)&&(a[r]=void 0===t[r]&&void 0!==c?c[r]:t[r])}r=arguments.length-2;if(1===r)a.children=n;else if(1<r){c=Array(r);for(var d=0;d<r;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:o,type:e.type,key:s,ref:l,props:a,_owner:u}},createFactory:function(e){var t=D.bind(null,e);t.type=e;return t},isValidElement:I,version:"16.8.3",unstable_ConcurrentMode:f,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:_,ReactCurrentOwner:T,assign:i}},G={default:$},W=G&&$||G;e.exports=W.default||W},function(e,t,n){"use strict";var i=n(98),r=n(1197),o=n(1337);function a(e,t,n,i,r,o,a,s){if(!e){e=void 0;if(void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,r,o,a,s],u=0;e=Error(t.replace(/%s/g,function(){return l[u++]}));e.name="Invariant Violation"}e.framesToPop=1;throw e}}function s(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);a(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}i?void 0:s("227");function l(e,t,n,i,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var u=!1,c=null,d=!1,f=null,p={onError:function(e){u=!0;c=e}};function h(e,t,n,i,r,o,a,s,d){u=!1;c=null;l.apply(p,arguments)}function v(e,t,n,i,r,o,a,l,p){h.apply(this,arguments);if(u){if(u){var v=c;u=!1;c=null}else s("198"),v=void 0;d||(d=!0,f=v)}}var m=null,g={};function b(){if(m)for(var e in g){var t=g[e],n=m.indexOf(e);-1<n?void 0:s("96",e);if(!x[n]){t.extractEvents?void 0:s("97",e);x[n]=t;n=t.eventTypes;for(var i in n){var r=void 0;var o=n[i],a=t,l=i;w.hasOwnProperty(l)?s("99",l):void 0;w[l]=o;var u=o.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&y(u[r],a,l);r=!0}else o.registrationName?(y(o.registrationName,a,l),r=!0):r=!1;r?void 0:s("98",i,e)}}}}function y(e,t,n){S[e]?s("100",e):void 0;S[e]=t;C[e]=t.eventTypes[n].dependencies}var x=[],w={},S={},C={},E=null,q=null,_=null;function T(e,t,n){var i=e.type||"unknown-event";e.currentTarget=_(n);v(i,t,void 0,e);e.currentTarget=null}function k(e,t){null==t?s("30"):void 0;if(null==e)return t;if(Array.isArray(e)){if(Array.isArray(t))return e.push.apply(e,t),e;e.push(t);return e}return Array.isArray(t)?[e].concat(t):[e,t]}function O(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var D=null;function A(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)T(e,t[i],n[i]);else t&&T(e,t,n);e._dispatchListeners=null;e._dispatchInstances=null;e.isPersistent()||e.constructor.release(e)}}var I={injectEventPluginOrder:function(e){m?s("101"):void 0;m=Array.prototype.slice.call(e);b()},injectEventPluginsByName:function(e){var t=!1,n;for(n in e)if(e.hasOwnProperty(n)){var i=e[n];g.hasOwnProperty(n)&&g[n]===i||(g[n]?s("102",n):void 0,g[n]=i,t=!0)}t&&b()}};function L(e,t){var n=e.stateNode;if(!n)return null;var i=E(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!i;break e;default:e=!1}if(e)return null;n&&"function"!==typeof n?s("231",t,typeof n):void 0;return n}function P(e){null!==e&&(D=k(D,e));e=D;D=null;if(e&&(O(e,A),D?s("95"):void 0,d))throw e=f,d=!1,f=null,e}var M=Math.random().toString(36).slice(2),N="__reactInternalInstance$"+M,R="__reactEventHandlers$"+M;function F(e){if(e[N])return e[N];for(;!e[N];){if(!e.parentNode)return null;e=e.parentNode}e=e[N];return 5===e.tag||6===e.tag?e:null}function j(e){e=e[N];return!e||5!==e.tag&&6!==e.tag?null:e}function B(e){if(5===e.tag||6===e.tag)return e.stateNode;s("33")}function V(e){return e[R]||null}function H(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function U(e,t,n){(t=L(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=k(n._dispatchListeners,t),n._dispatchInstances=k(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=H(t);for(t=n.length;0<t--;)U(n[t],"captured",e);for(t=0;t<n.length;t++)U(n[t],"bubbled",e)}}function $(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=L(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=k(n._dispatchListeners,t),n._dispatchInstances=k(n._dispatchInstances,e))}function G(e){e&&e.dispatchConfig.registrationName&&$(e._targetInst,null,e)}function W(e){O(e,z)}var Q=!("undefined"===typeof window||!window.document||!window.document.createElement);function K(e,t){var n={};n[e.toLowerCase()]=t.toLowerCase();n["Webkit"+e]="webkit"+t;n["Moz"+e]="moz"+t;return n}var Y={animationend:K("Animation","AnimationEnd"),animationiteration:K("Animation","AnimationIteration"),animationstart:K("Animation","AnimationStart"),transitionend:K("Transition","TransitionEnd")},X={},Z={};Q&&(Z=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);function J(e){if(X[e])return X[e];if(!Y[e])return e;var t=Y[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Z)return X[e]=t[n];return e}var ee=J("animationend"),te=J("animationiteration"),ne=J("animationstart"),ie=J("transitionend"),re="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oe=null,ae=null,se=null;function le(){if(se)return se;var e,t=ae,n=t.length,i,r="value"in oe?oe.value:oe.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[o-i];i++);return se=r.slice(e,1<i?1-i:void 0)}function ue(){return!0}function ce(){return!1}function de(e,t,n,i){this.dispatchConfig=e;this._targetInst=t;this.nativeEvent=n;e=this.constructor.Interface;for(var r in e)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ue:ce;this.isPropagationStopped=ce;return this}r(de.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ue)},persist:function(){this.isPersistent=ue},isPersistent:ce,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=ce;this._dispatchInstances=this._dispatchListeners=null}});de.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};de.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;r(o,n.prototype);n.prototype=o;n.prototype.constructor=n;n.Interface=r({},i.Interface,e);n.extend=i.extend;he(n);return n};he(de);function fe(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();this.call(r,e,t,n,i);return r}return new this(e,t,n,i)}function pe(e){e instanceof this?void 0:s("279");e.destructor();10>this.eventPool.length&&this.eventPool.push(e)}function he(e){e.eventPool=[];e.getPooled=fe;e.release=pe}var ve=de.extend({data:null}),me=de.extend({data:null}),ge=[9,13,27,32],be=Q&&"CompositionEvent"in window,ye=null;Q&&"documentMode"in document&&(ye=document.documentMode);var xe=Q&&"TextEvent"in window&&!ye,we=Q&&(!be||ye&&8<ye&&11>=ye),Se=String.fromCharCode(32),Ce={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ee=!1;function qe(e,t){switch(e){case"keyup":return-1!==ge.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function _e(e){e=e.detail;return"object"===typeof e&&"data"in e?e.data:null}var Te=!1;function ke(e,t){switch(e){case"compositionend":return _e(t);case"keypress":if(32!==t.which)return null;Ee=!0;return Se;case"textInput":return e=t.data,e===Se&&Ee?null:e;default:return null}}function Oe(e,t){if(Te)return"compositionend"===e||!be&&qe(e,t)?(e=le(),se=ae=oe=null,Te=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return we&&"ko"!==t.locale?null:t.data;default:return null}}var De={eventTypes:Ce,extractEvents:function(e,t,n,i){var r=void 0;var o=void 0;if(be)e:{switch(e){case"compositionstart":r=Ce.compositionStart;break e;case"compositionend":r=Ce.compositionEnd;break e;case"compositionupdate":r=Ce.compositionUpdate;break e}r=void 0}else Te?qe(e,n)&&(r=Ce.compositionEnd):"keydown"===e&&229===n.keyCode&&(r=Ce.compositionStart);r?(we&&"ko"!==n.locale&&(Te||r!==Ce.compositionStart?r===Ce.compositionEnd&&Te&&(o=le()):(oe=i,ae="value"in oe?oe.value:oe.textContent,Te=!0)),r=ve.getPooled(r,t,n,i),o?r.data=o:(o=_e(n),null!==o&&(r.data=o)),W(r),o=r):o=null;(e=xe?ke(e,n):Oe(e,n))?(t=me.getPooled(Ce.beforeInput,t,n,i),t.data=e,W(t)):t=null;return null===o?t:null===t?o:[o,t]}},Ae=null,Ie=null,Le=null;function Pe(e){if(e=q(e)){"function"!==typeof Ae?s("280"):void 0;var t=E(e.stateNode);Ae(e.stateNode,e.type,t)}}function Me(e){Ie?Le?Le.push(e):Le=[e]:Ie=e}function Ne(){if(Ie){var e=Ie,t=Le;Le=Ie=null;Pe(e);if(t)for(e=0;e<t.length;e++)Pe(t[e])}}function Re(e,t){return e(t)}function Fe(e,t,n){return e(t,n)}function je(){}var Be=!1;function Ve(e,t){if(Be)return e(t);Be=!0;try{return Re(e,t)}finally{(Be=!1,null!==Ie||null!==Le)&&(je(),Ne())}}var He={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!He[e.type]:"textarea"===t}function ze(e){e=e.target||e.srcElement||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}function $e(e){if(!Q)return!1;e="on"+e;var t=e in document;t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"===typeof t[e]);return t}function Ge(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function We(e){var t=Ge(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e;o.call(this,e)}});Object.defineProperty(e,t,{enumerable:n.enumerable});return{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null;delete e[t]}}}}function Qe(e){e._valueTracker||(e._valueTracker=We(e))}function Ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue();var i="";e&&(i=Ge(e)?e.checked?"true":"false":e.value);e=i;return e!==n&&(t.setValue(e),!0)}var Ye=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ye.hasOwnProperty("ReactCurrentDispatcher")||(Ye.ReactCurrentDispatcher={current:null});var Xe=/^(.*)[\\\/]/,Ze="function"===typeof Symbol&&Symbol.for,Je=Ze?Symbol.for("react.element"):60103,et=Ze?Symbol.for("react.portal"):60106,tt=Ze?Symbol.for("react.fragment"):60107,nt=Ze?Symbol.for("react.strict_mode"):60108,it=Ze?Symbol.for("react.profiler"):60114,rt=Ze?Symbol.for("react.provider"):60109,ot=Ze?Symbol.for("react.context"):60110,at=Ze?Symbol.for("react.concurrent_mode"):60111,st=Ze?Symbol.for("react.forward_ref"):60112,lt=Ze?Symbol.for("react.suspense"):60113,ut=Ze?Symbol.for("react.memo"):60115,ct=Ze?Symbol.for("react.lazy"):60116,dt="function"===typeof Symbol&&Symbol.iterator;function ft(e){if(null===e||"object"!==typeof e)return null;e=dt&&e[dt]||e["@@iterator"];return"function"===typeof e?e:null}function pt(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case at:return"ConcurrentMode";case tt:return"Fragment";case et:return"Portal";case it:return"Profiler";case nt:return"StrictMode";case lt:return"Suspense"}if("object"===typeof e)switch(e.$$typeof){case ot:return"Context.Consumer";case rt:return"Context.Provider";case st:var t=e.render;t=t.displayName||t.name||"";return e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ut:return pt(e.type);case ct:if(e=1===e._status?e._result:null)return pt(e)}return null}function ht(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=pt(e.type);n=null;i&&(n=pt(i.type));i=o;o="";r?o=" (at "+r.fileName.replace(Xe,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")");n="\n    in "+(i||"Unknown")+o}t+=n;e=e.return}while(e);return t}var vt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mt=Object.prototype.hasOwnProperty,gt={},bt={};function yt(e){if(mt.call(bt,e))return!0;if(mt.call(gt,e))return!1;if(vt.test(e))return bt[e]=!0;gt[e]=!0;return!1}function xt(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(i)return!1;if(null!==n)return!n.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function wt(e,t,n,i){if(null===t||"undefined"===typeof t||xt(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function St(e,t,n,i,r){this.acceptsBooleans=2===t||3===t||4===t;this.attributeName=i;this.attributeNamespace=r;this.mustUseProperty=n;this.propertyName=e;this.type=t}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new St(e,0,!1,e,null)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new St(t,1,!1,e[1],null)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new St(e,2,!1,e.toLowerCase(),null)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new St(e,2,!1,e,null)});"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new St(e,3,!1,e.toLowerCase(),null)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new St(e,3,!0,e,null)});["capture","download"].forEach(function(e){Ct[e]=new St(e,4,!1,e,null)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new St(e,6,!1,e,null)});["rowSpan","start"].forEach(function(e){Ct[e]=new St(e,5,!1,e.toLowerCase(),null)});var Et=/[\-:]([a-z])/g;function qt(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Et,qt);Ct[t]=new St(t,1,!1,e,null)});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Et,qt);Ct[t]=new St(t,1,!1,e,"http://www.w3.org/1999/xlink")});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Et,qt);Ct[t]=new St(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new St(e,1,!1,e.toLowerCase(),null)});function _t(e,t,n,i){var r=Ct.hasOwnProperty(t)?Ct[t]:null;var o=null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));o||(wt(t,n,r,i)&&(n=null),i||null===r?yt(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(r=r.type,n=3===r||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function Tt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function kt(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ot(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=Tt(null!=t.value?t.value:n);e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Dt(e,t){t=t.checked;null!=t&&_t(e,"checked",t,!1)}function At(e,t){Dt(e,t);var n=Tt(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lt(e,t.type,Tt(t.defaultValue));null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function It(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue;n||t===e.value||(e.value=t);e.defaultValue=t}n=e.name;""!==n&&(e.name="");e.defaultChecked=!e.defaultChecked;e.defaultChecked=!!e._wrapperState.initialChecked;""!==n&&(e.name=n)}function Lt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Mt(e,t,n){e=de.getPooled(Pt.change,e,t,n);e.type="change";Me(n);W(e);return e}var Nt=null,Rt=null;function Ft(e){P(e)}function jt(e){var t=B(e);if(Ke(t))return e}function Bt(e,t){if("change"===e)return t}var Vt=!1;Q&&(Vt=$e("input")&&(!document.documentMode||9<document.documentMode));function Ht(){Nt&&(Nt.detachEvent("onpropertychange",Ut),Rt=Nt=null)}function Ut(e){"value"===e.propertyName&&jt(Rt)&&(e=Mt(Rt,e,ze(e)),Ve(Ft,e))}function zt(e,t,n){"focus"===e?(Ht(),Nt=t,Rt=n,Nt.attachEvent("onpropertychange",Ut)):"blur"===e&&Ht()}function $t(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jt(Rt)}function Gt(e,t){if("click"===e)return jt(t)}function Wt(e,t){if("input"===e||"change"===e)return jt(t)}var Qt={eventTypes:Pt,_isInputEventSupported:Vt,extractEvents:function(e,t,n,i){var r=t?B(t):window,o=void 0,a=void 0,s=r.nodeName&&r.nodeName.toLowerCase();"select"===s||"input"===s&&"file"===r.type?o=Bt:Ue(r)?Vt?o=Wt:(o=$t,a=zt):(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Gt);if(o&&(o=o(e,t)))return Mt(o,n,i);a&&a(e,r,t);"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Lt(r,"number",r.value)}},Kt=de.extend({view:null,detail:null}),Yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Yt[e])&&!!t[e]}function Zt(){return Xt}var Jt=0,en=0,tn=!1,nn=!1,rn=Kt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Zt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Jt;Jt=e.screenX;return tn?"mousemove"===e.type?e.screenX-t:0:(tn=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=en;en=e.screenY;return nn?"mousemove"===e.type?e.screenY-t:0:(nn=!0,0)}}),on=rn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),an={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},sn={eventTypes:an,extractEvents:function(e,t,n,i){var r="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(r&&(n.relatedTarget||n.fromElement)||!o&&!r)return null;r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window;o?(o=t,t=(t=n.relatedTarget||n.toElement)?F(t):null):o=null;if(o===t)return null;var a=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(a=rn,s=an.mouseLeave,l=an.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=on,s=an.pointerLeave,l=an.pointerEnter,u="pointer");var c=null==o?r:B(o);r=null==t?r:B(t);e=a.getPooled(s,o,n,i);e.type=u+"leave";e.target=c;e.relatedTarget=r;n=a.getPooled(l,t,n,i);n.type=u+"enter";n.target=r;n.relatedTarget=c;i=t;if(o&&i)e:{t=o;r=i;u=0;for(a=t;a;a=H(a))u++;a=0;for(l=r;l;l=H(l))a++;for(;0<u-a;)t=H(t),u--;for(;0<a-u;)r=H(r),a--;for(;u--;){if(t===r||t===r.alternate)break e;t=H(t);r=H(r)}t=null}else t=null;r=t;for(t=[];o&&o!==r;){u=o.alternate;if(null!==u&&u===r)break;t.push(o);o=H(o)}for(o=[];i&&i!==r;){u=i.alternate;if(null!==u&&u===r)break;o.push(i);i=H(i)}for(i=0;i<t.length;i++)$(t[i],"bubbled",e);for(i=o.length;0<i--;)$(o[i],"captured",n);return[e,n]}};function ln(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var un=Object.prototype.hasOwnProperty;function cn(e,t){if(ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!un.call(t,n[i])||!ln(e[n[i]],t[n[i]]))return!1;return!0}function dn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!==(2&t.effectTag))return 1}return 3===t.tag?2:3}function fn(e){2!==dn(e)?s("188"):void 0}function pn(e){var t=e.alternate;if(!t)return t=dn(e),3===t?s("188"):void 0,1===t?null:e;for(var n=e,i=t;;){var r=n.return,o=r?r.alternate:null;if(!r||!o)break;if(r.child===o.child){for(var a=r.child;a;){if(a===n)return fn(r),e;if(a===i)return fn(r),t;a=a.sibling}s("188")}if(n.return!==i.return)n=r,i=o;else{a=!1;for(var l=r.child;l;){if(l===n){a=!0;n=r;i=o;break}if(l===i){a=!0;i=r;n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0;n=o;i=r;break}if(l===i){a=!0;i=o;n=r;break}l=l.sibling}a?void 0:s("189")}}n.alternate!==i?s("190"):void 0}3!==n.tag?s("188"):void 0;return n.stateNode.current===n?e:t}function hn(e){e=pn(e);if(!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return;t=t.sibling}}return null}var vn=de.extend({animationName:null,elapsedTime:null,pseudoElement:null}),mn=de.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gn=Kt.extend({relatedTarget:null});function bn(e){var t=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t;10===e&&(e=13);return 32<=e||13===e?e:0}var yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn=Kt.extend({key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=bn(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Zt,charCode:function(e){return"keypress"===e.type?bn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?bn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=rn.extend({dataTransfer:null}),Cn=Kt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Zt}),En=de.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),qn=rn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),_n=[["abort","abort"],[ee,"animationEnd"],[te,"animationIteration"],[ne,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ie,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Tn={},kn={};function On(e,t){var n=e[0];e=e[1];var i="on"+(e[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:t};Tn[e]=t;kn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){On(e,!0)});_n.forEach(function(e){On(e,!1)});var Dn={eventTypes:Tn,isInteractiveTopLevelEventType:function(e){e=kn[e];return void 0!==e&&!0===e.isInteractive},extractEvents:function(e,t,n,i){var r=kn[e];if(!r)return null;switch(e){case"keypress":if(0===bn(n))return null;case"keydown":case"keyup":e=wn;break;case"blur":case"focus":e=gn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Cn;break;case ee:case te:case ne:e=vn;break;case ie:e=En;break;case"scroll":e=Kt;break;case"wheel":e=qn;break;case"copy":case"cut":case"paste":e=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=on;break;default:e=de}t=e.getPooled(r,t,n,i);W(t);return t}},An=Dn.isInteractiveTopLevelEventType,In=[];function Ln(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i;for(i=n;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo;if(!i)break;e.ancestors.push(n);n=F(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=ze(e.nativeEvent);i=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<x.length;s++){var l=x[s];l&&(l=l.extractEvents(i,t,o,r))&&(a=k(a,l))}P(a)}}var Pn=!0;function Mn(e,t){if(!t)return null;var n=(An(e)?Rn:Fn).bind(null,e);t.addEventListener(e,n,!1)}function Nn(e,t){if(!t)return null;var n=(An(e)?Rn:Fn).bind(null,e);t.addEventListener(e,n,!0)}function Rn(e,t){Fe(Fn,e,t)}function Fn(e,t){if(Pn){var n=ze(t);n=F(n);null===n||"number"!==typeof n.tag||2===dn(n)||(n=null);if(In.length){var i=In.pop();i.topLevelType=e;i.nativeEvent=t;i.targetInst=n;e=i}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Ve(Ln,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>In.length&&In.push(e)}}}var jn={},Bn=0,Vn="_reactListenersID"+(""+Math.random()).slice(2);function Hn(e){Object.prototype.hasOwnProperty.call(e,Vn)||(e[Vn]=Bn++,jn[e[Vn]]={});return jn[e[Vn]]}function Un(e){e=e||("undefined"!==typeof document?document:void 0);if("undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $n(e,t){var n=zn(e);e=0;for(var i;n;){if(3===n.nodeType){i=e+n.textContent.length;if(e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zn(n)}}function Gn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Gn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Wn(){for(var e=window,t=Un();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=Un(e.document)}return t}function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Kn(){var e=Wn();if(Qn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{t.nodeType,r.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,l=0,u=0,c=e,d=null;t:for(;;){for(var f;;){c!==t||0!==i&&3!==c.nodeType||(a=o+i);c!==r||0!==n&&3!==c.nodeType||(s=o+n);3===c.nodeType&&(o+=c.nodeValue.length);if(null===(f=c.firstChild))break;d=c;c=f}for(;;){if(c===e)break t;d===t&&++l===i&&(a=o);d===r&&++u===n&&(s=o);if(null!==(f=c.nextSibling))break;c=d;d=c.parentNode}c=f}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}function Yn(e){var t=Wn(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gn(n.ownerDocument.documentElement,n)){if(null!==i&&Qn(n))if(t=i.start,e=i.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r);!e.extend&&o>i&&(r=i,i=o,o=r);r=$n(n,o);var a=$n(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}t=[];for(e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});"function"===typeof n.focus&&n.focus();for(n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xn=Q&&"documentMode"in document&&11>=document.documentMode,Zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Jn=null,ei=null,ti=null,ni=!1;function ii(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;if(ni||null==Jn||Jn!==Un(n))return null;n=Jn;"selectionStart"in n&&Qn(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset});return ti&&cn(ti,n)?null:(ti=n,e=de.getPooled(Zn.select,ei,e,t),e.type="select",e.target=Jn,W(e),e)}var ri={eventTypes:Zn,extractEvents:function(e,t,n,i){var r=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument,o;if(!(o=!r)){e:{r=Hn(r);o=C.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!r.hasOwnProperty(s)||!r[s]){r=!1;break e}}r=!0}o=!r}if(o)return null;r=t?B(t):window;switch(e){case"focus":(Ue(r)||"true"===r.contentEditable)&&(Jn=r,ei=t,ti=null);break;case"blur":ti=ei=Jn=null;break;case"mousedown":ni=!0;break;case"contextmenu":case"mouseup":case"dragend":return ni=!1,ii(n,i);case"selectionchange":if(Xn)break;case"keydown":case"keyup":return ii(n,i)}return null}};I.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));E=V;q=j;_=B;I.injectEventPluginsByName({SimpleEventPlugin:Dn,EnterLeaveEventPlugin:sn,ChangeEventPlugin:Qt,SelectEventPlugin:ri,BeforeInputEventPlugin:De});function oi(e){var t="";i.Children.forEach(e,function(e){null!=e&&(t+=e)});return t}function ai(e,t){e=r({children:void 0},t);(t=oi(t.children))&&(e.children=t);return e}function si(e,t,n,i){e=e.options;if(t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{n=""+Tt(n);t=null;for(r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0;i&&(e[r].defaultSelected=!0);return}null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function li(e,t){null!=t.dangerouslySetInnerHTML?s("91"):void 0;return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ui(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n?s("92"):void 0,Array.isArray(t)&&(1>=t.length?void 0:s("93"),t=t[0]),n=t),null==n&&(n=""));e._wrapperState={initialValue:Tt(n)}}function ci(e,t){var n=Tt(t.value),i=Tt(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n));null!=i&&(e.defaultValue=""+i)}function di(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}var fi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function pi(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hi(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pi(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var vi=void 0,mi=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!==fi.svg||"innerHTML"in e)e.innerHTML=t;else{vi=vi||document.createElement("div");vi.innerHTML="<svg>"+t+"</svg>";for(t=vi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var bi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yi=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(e){yi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1);bi[t]=bi[e]})});function xi(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||bi.hasOwnProperty(e)&&bi[e]?(""+t).trim():t+"px"}function wi(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=xi(n,t[n],i);"float"===n&&(n="cssFloat");i?e.setProperty(n,r):e[n]=r}}var Si=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ci(e,t){t&&(Si[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?s("137",e,""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?s("60"):void 0,"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML?void 0:s("61")),null!=t.style&&"object"!==typeof t.style?s("62",""):void 0)}function Ei(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function qi(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=Hn(e);t=C[t];for(var i=0;i<t.length;i++){var r=t[i];if(!n.hasOwnProperty(r)||!n[r]){switch(r){case"scroll":Nn("scroll",e);break;case"focus":case"blur":Nn("focus",e);Nn("blur",e);n.blur=!0;n.focus=!0;break;case"cancel":case"close":$e(r)&&Nn(r,e);break;case"invalid":case"submit":case"reset":break;default:-1===re.indexOf(r)&&Mn(r,e)}n[r]=!0}}}function _i(){}var Ti=null,ki=null;function Oi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Di(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ai="function"===typeof setTimeout?setTimeout:void 0,Ii="function"===typeof clearTimeout?clearTimeout:void 0,Li=o.unstable_scheduleCallback,Pi=o.unstable_cancelCallback;function Mi(e,t,n,i,r){e[R]=r;"input"===n&&"radio"===r.type&&null!=r.name&&Dt(e,r);Ei(n,i);i=Ei(n,r);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?wi(e,s):"dangerouslySetInnerHTML"===a?mi(e,s):"children"===a?gi(e,s):_t(e,a,s,i)}switch(n){case"input":At(e,r);break;case"textarea":ci(e,r);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!r.multiple,n=r.value,null!=n?si(e,!!r.multiple,n,!1):t!==!!r.multiple&&(null!=r.defaultValue?si(e,!!r.multiple,r.defaultValue,!0):si(e,!!r.multiple,r.multiple?[]:"",!1))}}function Ni(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Ri(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Fi=[],ji=-1;function Bi(e){0>ji||(e.current=Fi[ji],Fi[ji]=null,ji--)}function Vi(e,t){ji++;Fi[ji]=e.current;e.current=t}var Hi={},Ui={current:Hi},zi={current:!1},$i=Hi;function Gi(e,t){var n=e.type.contextTypes;if(!n)return Hi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=t[o];i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r);return r}function Wi(e){e=e.childContextTypes;return null!==e&&void 0!==e}function Qi(e){Bi(zi,e);Bi(Ui,e)}function Ki(e){Bi(zi,e);Bi(Ui,e)}function Yi(e,t,n){Ui.current!==Hi?s("168"):void 0;Vi(Ui,t,e);Vi(zi,n,e)}function Xi(e,t,n){var i=e.stateNode;e=t.childContextTypes;if("function"!==typeof i.getChildContext)return n;i=i.getChildContext();for(var o in i)o in e?void 0:s("108",pt(t)||"Unknown",o);return r({},n,i)}function Zi(e){var t=e.stateNode;t=t&&t.__reactInternalMemoizedMergedChildContext||Hi;$i=Ui.current;Vi(Ui,t,e);Vi(zi,zi.current,e);return!0}function Ji(e,t,n){var i=e.stateNode;i?void 0:s("169");n?(t=Xi(e,t,$i),i.__reactInternalMemoizedMergedChildContext=t,Bi(zi,e),Bi(Ui,e),Vi(Ui,t,e)):Bi(zi,e);Vi(zi,n,e)}var er=null,tr=null;function nr(e){return function(t){try{return e(t)}catch(e){}}}function ir(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);er=nr(function(e){return t.onCommitFiberRoot(n,e)});tr=nr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function rr(e,t,n,i){this.tag=e;this.key=n;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=t;this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=i;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function or(e,t,n,i){return new rr(e,t,n,i)}function ar(e){e=e.prototype;return!(!e||!e.isReactComponent)}function sr(e){if("function"===typeof e)return ar(e)?1:0;if(void 0!==e&&null!==e){e=e.$$typeof;if(e===st)return 11;if(e===ut)return 14}return 2}function lr(e,t){var n=e.alternate;null===n?(n=or(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null);n.childExpirationTime=e.childExpirationTime;n.expirationTime=e.expirationTime;n.child=e.child;n.memoizedProps=e.memoizedProps;n.memoizedState=e.memoizedState;n.updateQueue=e.updateQueue;n.contextDependencies=e.contextDependencies;n.sibling=e.sibling;n.index=e.index;n.ref=e.ref;return n}function ur(e,t,n,i,r,o){var a=2;i=e;if("function"===typeof e)ar(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case tt:return cr(n.children,r,o,t);case at:return dr(n,3|r,o,t);case nt:return dr(n,2|r,o,t);case it:return e=or(12,n,t,4|r),e.elementType=it,e.type=it,e.expirationTime=o,e;case lt:return e=or(13,n,t,r),e.elementType=lt,e.type=lt,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case rt:a=10;break e;case ot:a=9;break e;case st:a=11;break e;case ut:a=14;break e;case ct:a=16;i=null;break e}s("130",null==e?e:typeof e,"")}t=or(a,n,t,r);t.elementType=e;t.type=i;t.expirationTime=o;return t}function cr(e,t,n,i){e=or(7,e,i,t);e.expirationTime=n;return e}function dr(e,t,n,i){e=or(8,e,i,t);t=0===(1&t)?nt:at;e.elementType=t;e.type=t;e.expirationTime=n;return e}function fr(e,t,n){e=or(6,e,null,t);e.expirationTime=n;return e}function pr(e,t,n){t=or(4,null!==e.children?e.children:[],e.key,t);t.expirationTime=n;t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return t}function hr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t);br(t,e)}function vr(e,t){e.didError=!1;if(0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime));n=e.earliestSuspendedTime;0===n?hr(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,hr(e,t)):t>n&&hr(e,t)}br(0,e)}function mr(e,t){e.didError=!1;e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,i=e.latestPendingTime;n===t?e.earliestPendingTime=i===t?e.latestPendingTime=0:i:i===t&&(e.latestPendingTime=n);n=e.earliestSuspendedTime;i=e.latestSuspendedTime;0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:i>t&&(e.latestSuspendedTime=t);br(t,e)}function gr(e,t){var n=e.earliestPendingTime;e=e.earliestSuspendedTime;n>t&&(t=n);e>t&&(t=e);return t}function br(e,t){var n=t.earliestSuspendedTime,i=t.latestSuspendedTime,r=t.earliestPendingTime,o=t.latestPingedTime;r=0!==r?r:o;0===r&&(0===e||i<e)&&(r=i);e=r;0!==e&&n>e&&(e=n);t.nextExpirationTimeToWorkOn=r;t.expirationTime=e}function yr(e,t){if(e&&e.defaultProps){t=r({},t);e=e.defaultProps;for(var n in e)void 0===t[n]&&(t[n]=e[n])}return t}function xr(e){var t=e._result;switch(e._status){case 1:return t;case 2:throw t;case 0:throw t;default:e._status=0;t=e._ctor;t=t();t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)});switch(e._status){case 1:return e._result;case 2:throw e._result}e._result=t;throw t}}var wr=(new i.Component).refs;function Sr(e,t,n,i){t=e.memoizedState;n=n(i,t);n=null===n||void 0===n?t:r({},t,n);e.memoizedState=n;i=e.updateQueue;null!==i&&0===e.expirationTime&&(i.baseState=n)}var Cr={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===dn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=zs();i=hs(i,e);var r=pa(i);r.payload=t;void 0!==n&&null!==n&&(r.callback=n);ls();va(e,r);bs(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=zs();i=hs(i,e);var r=pa(i);r.tag=sa;r.payload=t;void 0!==n&&null!==n&&(r.callback=n);ls();va(e,r);bs(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=zs();n=hs(n,e);var i=pa(n);i.tag=la;void 0!==t&&null!==t&&(i.callback=t);ls();va(e,i);bs(e,n)}};function Er(e,t,n,i,r,o,a){e=e.stateNode;return"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!cn(n,i)||!cn(r,o))}function qr(e,t,n){var i=!1,r=Hi;var o=t.contextType;"object"===typeof o&&null!==o?o=oa(o):(r=Wi(t)?$i:Ui.current,i=t.contextTypes,o=(i=null!==i&&void 0!==i)?Gi(e,r):Hi);t=new t(n,o);e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null;t.updater=Cr;e.stateNode=t;t._reactInternalFiber=e;i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o);return t}function _r(e,t,n,i){e=t.state;"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i);"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i);t.state!==e&&Cr.enqueueReplaceState(t,t.state,null)}function Tr(e,t,n,i){var r=e.stateNode;r.props=n;r.state=e.memoizedState;r.refs=wr;var o=t.contextType;"object"===typeof o&&null!==o?r.context=oa(o):(o=Wi(t)?$i:Ui.current,r.context=Gi(e,o));o=e.updateQueue;null!==o&&(ya(e,o,n,r,i),r.state=e.memoizedState);o=t.getDerivedStateFromProps;"function"===typeof o&&(Sr(e,t,o,n),r.state=e.memoizedState);"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Cr.enqueueReplaceState(r,r.state,null),o=e.updateQueue,null!==o&&(ya(e,o,n,r,i),r.state=e.memoizedState));"function"===typeof r.componentDidMount&&(e.effectTag|=4)}var kr=Array.isArray;function Or(e,t,n){e=n.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var i=void 0;n&&(1!==n.tag?s("309"):void 0,i=n.stateNode);i?void 0:s("147",e);var r=""+e;if(null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r)return t.ref;t=function(e){var t=i.refs;t===wr&&(t=i.refs={});null===e?delete t[r]:t[r]=e};t._stringRef=r;return t}"string"!==typeof e?s("284"):void 0;n._owner?void 0:s("290",e)}return e}function Dr(e,t){"textarea"!==e.type&&s("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Ar(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n;n.nextEffect=null;n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,n){e=lr(e,t,n);e.index=0;e.sibling=null;return e}function o(t,n,i){t.index=i;if(!e)return n;i=t.alternate;if(null!==i)return i=i.index,i<n?(t.effectTag=2,n):i;t.effectTag=2;return n}function a(t){e&&null===t.alternate&&(t.effectTag=2);return t}function l(e,t,n,i){if(null===t||6!==t.tag)return t=fr(n,e.mode,i),t.return=e,t;t=r(t,n,i);t.return=e;return t}function u(e,t,n,i){if(null!==t&&t.elementType===n.type)return i=r(t,n.props,i),i.ref=Or(e,t,n),i.return=e,i;i=ur(n.type,n.key,n.props,null,e.mode,i);i.ref=Or(e,t,n);i.return=e;return i}function c(e,t,n,i){if(null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation)return t=pr(n,e.mode,i),t.return=e,t;t=r(t,n.children||[],i);t.return=e;return t}function d(e,t,n,i,o){if(null===t||7!==t.tag)return t=cr(n,e.mode,i,o),t.return=e,t;t=r(t,n,i);t.return=e;return t}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return t=fr(""+t,e.mode,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Je:return n=ur(t.type,t.key,t.props,null,e.mode,n),n.ref=Or(e,null,t),n.return=e,n;case et:return t=pr(t,e.mode,n),t.return=e,t}if(kr(t)||ft(t))return t=cr(t,e.mode,n,null),t.return=e,t;Dr(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Je:return n.key===r?n.type===tt?d(e,t,n.props.children,i,r):u(e,t,n,i):null;case et:return n.key===r?c(e,t,n,i):null}if(kr(n)||ft(n))return null!==r?null:d(e,t,n,i,null);Dr(e,n)}return null}function h(e,t,n,i,r){if("string"===typeof i||"number"===typeof i)return e=e.get(n)||null,l(t,e,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case Je:return e=e.get(null===i.key?n:i.key)||null,i.type===tt?d(t,e,i.props.children,r,i.key):u(t,e,i,r);case et:return e=e.get(null===i.key?n:i.key)||null,c(t,e,i,r)}if(kr(i)||ft(i))return e=e.get(n)||null,d(t,e,i,r,null);Dr(t,i)}return null}function v(r,a,s,l){for(var u=null,c=null,d=a,v=a=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=p(r,d,s[v],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(r,d);a=o(g,a,v);null===c?u=g:c.sibling=g;c=g;d=m}if(v===s.length)return n(r,d),u;if(null===d){for(;v<s.length;v++)(d=f(r,s[v],l))&&(a=o(d,a,v),null===c?u=d:c.sibling=d,c=d);return u}for(d=i(r,d);v<s.length;v++)(m=h(d,r,v,s[v],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);e&&d.forEach(function(e){return t(r,e)});return u}function m(r,a,l,u){var c=ft(l);"function"!==typeof c?s("150"):void 0;l=c.call(l);null==l?s("151"):void 0;for(var d=c=null,v=a,m=a=0,g=null,b=l.next();null!==v&&!b.done;m++,b=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var y=p(r,v,b.value,u);if(null===y){v||(v=g);break}e&&v&&null===y.alternate&&t(r,v);a=o(y,a,m);null===d?c=y:d.sibling=y;d=y;v=g}if(b.done)return n(r,v),c;if(null===v){for(;!b.done;m++,b=l.next())b=f(r,b.value,u),null!==b&&(a=o(b,a,m),null===d?c=b:d.sibling=b,d=b);return c}for(v=i(r,v);!b.done;m++,b=l.next())b=h(v,r,m,b.value,u),null!==b&&(e&&null!==b.alternate&&v.delete(null===b.key?m:b.key),a=o(b,a,m),null===d?c=b:d.sibling=b,d=b);e&&v.forEach(function(e){return t(r,e)});return c}return function(e,i,o,l){var u="object"===typeof o&&null!==o&&o.type===tt&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case Je:e:{c=o.key;for(u=i;null!==u;){if(u.key===c){if(7===u.tag?o.type===tt:u.elementType===o.type){n(e,u.sibling);i=r(u,o.type===tt?o.props.children:o.props,l);i.ref=Or(e,u,o);i.return=e;e=i;break e}n(e,u);break}t(e,u);u=u.sibling}o.type===tt?(i=cr(o.props.children,e.mode,l,o.key),i.return=e,e=i):(l=ur(o.type,o.key,o.props,null,e.mode,l),l.ref=Or(e,i,o),l.return=e,e=l)}return a(e);case et:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling);i=r(i,o.children||[],l);i.return=e;e=i;break e}n(e,i);break}t(e,i);i=i.sibling}i=pr(o,e.mode,l);i.return=e;e=i}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),i=r(i,o,l),i.return=e,e=i):(n(e,i),i=fr(o,e.mode,l),i.return=e,e=i),a(e);if(kr(o))return v(e,i,o,l);if(ft(o))return m(e,i,o,l);c&&Dr(e,o);if("undefined"===typeof o&&!u)switch(e.tag){case 1:case 0:l=e.type,s("152",l.displayName||l.name||"Component")}return n(e,i)}}var Ir=Ar(!0),Lr=Ar(!1),Pr={},Mr={current:Pr},Nr={current:Pr},Rr={current:Pr};function Fr(e){e===Pr?s("174"):void 0;return e}function jr(e,t){Vi(Rr,t,e);Vi(Nr,e,e);Vi(Mr,Pr,e);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hi(null,"");break;default:n=8===n?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=hi(t,n)}Bi(Mr,e);Vi(Mr,t,e)}function Br(e){Bi(Mr,e);Bi(Nr,e);Bi(Rr,e)}function Vr(e){Fr(Rr.current);var t=Fr(Mr.current);var n=hi(t,e.type);t!==n&&(Vi(Nr,e,e),Vi(Mr,n,e))}function Hr(e){Nr.current===e&&(Bi(Mr,e),Bi(Nr,e))}var Ur=0,zr=2,$r=4,Gr=8,Wr=16,Qr=32,Kr=64,Yr=128,Xr=Ye.ReactCurrentDispatcher,Zr=0,Jr=null,eo=null,to=null,no=null,io=null,ro=null,oo=0,ao=null,so=0,lo=!1,uo=null,co=0;function fo(){s("307")}function po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function ho(e,t,n,i,r,o){Zr=o;Jr=t;to=null!==e?e.memoizedState:null;Xr.current=null===to?To:ko;t=n(i,r);if(lo){do{lo=!1,co+=1,to=null!==e?e.memoizedState:null,ro=no,ao=io=eo=null,Xr.current=ko,t=n(i,r)}while(lo);uo=null;co=0}Xr.current=_o;e=Jr;e.memoizedState=no;e.expirationTime=oo;e.updateQueue=ao;e.effectTag|=so;e=null!==eo&&null!==eo.next;Zr=0;ro=io=no=to=eo=Jr=null;oo=0;ao=null;so=0;e?s("300"):void 0;return t}function vo(){Xr.current=_o;Zr=0;ro=io=no=to=eo=Jr=null;oo=0;ao=null;so=0;lo=!1;uo=null;co=0}function mo(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};null===io?no=io=e:io=io.next=e;return io}function go(){if(null!==ro)io=ro,ro=io.next,eo=to,to=null!==eo?eo.next:null;else{null===to?s("310"):void 0;eo=to;var e={memoizedState:eo.memoizedState,baseState:eo.baseState,queue:eo.queue,baseUpdate:eo.baseUpdate,next:null};io=null===io?no=e:io.next=e;to=eo.next}return io}function bo(e,t){return"function"===typeof t?t(e):t}function yo(e){var t=go(),n=t.queue;null===n?s("311"):void 0;if(0<co){var i=n.dispatch;if(null!==uo){var r=uo.get(n);if(void 0!==r){uo.delete(n);var o=t.memoizedState;do{o=e(o,r.action),r=r.next}while(null!==r);ln(o,t.memoizedState)||(jo=!0);t.memoizedState=o;t.baseUpdate===n.last&&(t.baseState=o);n.eagerReducer=e;n.eagerState=o;return[o,i]}}return[t.memoizedState,i]}i=n.last;var a=t.baseUpdate;o=t.baseState;null!==a?(null!==i&&(i.next=null),i=a.next):i=null!==i?i.next:null;if(null!==i){var l=r=null,u=i,c=!1;do{var d=u.expirationTime;d<Zr?(c||(c=!0,l=a,r=o),d>oo&&(oo=d)):o=u.eagerReducer===e?u.eagerState:e(o,u.action);a=u;u=u.next}while(null!==u&&u!==i);c||(l=a,r=o);ln(o,t.memoizedState)||(jo=!0);t.memoizedState=o;t.baseUpdate=l;t.baseState=r;n.eagerReducer=e;n.eagerState=o}return[t.memoizedState,n.dispatch]}function xo(e,t,n,i){e={tag:e,create:t,destroy:n,deps:i,next:null};null===ao?(ao={lastEffect:null},ao.lastEffect=e.next=e):(t=ao.lastEffect,null===t?ao.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,ao.lastEffect=e));return e}function wo(e,t,n,i){var r=mo();so|=e;r.memoizedState=xo(t,n,void 0,void 0===i?null:i)}function So(e,t,n,i){var r=go();i=void 0===i?null:i;var o=void 0;if(null!==eo){var a=eo.memoizedState;o=a.destroy;if(null!==i&&po(i,a.deps)){xo(Ur,n,o,i);return}}so|=e;r.memoizedState=xo(t,n,o,i)}function Co(e,t){if("function"===typeof t)return e=e(),t(e),function(){t(null)};if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Eo(){}function qo(e,t,n){25>co?void 0:s("301");var i=e.alternate;if(e===Jr||null!==i&&i===Jr)if(lo=!0,e={expirationTime:Zr,action:n,eagerReducer:null,eagerState:null,next:null},null===uo&&(uo=new Map),n=uo.get(t),void 0===n)uo.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{ls();var r=zs();r=hs(r,e);var o={expirationTime:r,action:n,eagerReducer:null,eagerState:null,next:null},a=t.last;if(null===a)o.next=o;else{var l=a.next;null!==l&&(o.next=l);a.next=o}t.last=o;if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&(i=t.eagerReducer,null!==i))try{var u=t.eagerState,c=i(u,n);o.eagerReducer=i;o.eagerState=c;if(ln(c,u))return}catch(e){}bs(e,r)}}var _o={readContext:oa,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo},To={readContext:oa,useCallback:function(e,t){mo().memoizedState=[e,void 0===t?null:t];return e},useContext:oa,useEffect:function(e,t){return wo(516,Yr|Kr,e,t)},useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null;return wo(4,$r|Qr,Co.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,$r|Qr,e,t)},useMemo:function(e,t){var n=mo();t=void 0===t?null:t;e=e();n.memoizedState=[e,t];return e},useReducer:function(e,t,n){var i=mo();t=void 0!==n?n(t):t;i.memoizedState=i.baseState=t;e=i.queue={last:null,dispatch:null,eagerReducer:e,eagerState:t};e=e.dispatch=qo.bind(null,Jr,e);return[i.memoizedState,e]},useRef:function(e){var t=mo();e={current:e};return t.memoizedState=e},useState:function(e){var t=mo();"function"===typeof e&&(e=e());t.memoizedState=t.baseState=e;e=t.queue={last:null,dispatch:null,eagerReducer:bo,eagerState:e};e=e.dispatch=qo.bind(null,Jr,e);return[t.memoizedState,e]},useDebugValue:Eo},ko={readContext:oa,useCallback:function(e,t){var n=go();t=void 0===t?null:t;var i=n.memoizedState;if(null!==i&&null!==t&&po(t,i[1]))return i[0];n.memoizedState=[e,t];return e},useContext:oa,useEffect:function(e,t){return So(516,Yr|Kr,e,t)},useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null;return So(4,$r|Qr,Co.bind(null,t,e),n)},useLayoutEffect:function(e,t){return So(4,$r|Qr,e,t)},useMemo:function(e,t){var n=go();t=void 0===t?null:t;var i=n.memoizedState;if(null!==i&&null!==t&&po(t,i[1]))return i[0];e=e();n.memoizedState=[e,t];return e},useReducer:yo,useRef:function(){return go().memoizedState},useState:function(e){return yo(bo,e)},useDebugValue:Eo},Oo=null,Do=null,Ao=!1;function Io(e,t){var n=or(5,null,null,0);n.elementType="DELETED";n.type="DELETED";n.stateNode=t;n.return=e;n.effectTag=8;null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Lo(e,t){switch(e.tag){case 5:var n=e.type;t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t;return null!==t&&(e.stateNode=t,!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1}}function Po(e){if(Ao){var t=Do;if(t){var n=t;if(!Lo(e,t)){t=Ni(n);if(!t||!Lo(e,t)){e.effectTag|=2;Ao=!1;Oo=e;return}Io(Oo,n)}Oo=e;Do=Ri(t)}else e.effectTag|=2,Ao=!1,Oo=e}}function Mo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;Oo=e}function No(e){if(e!==Oo)return!1;if(!Ao)return Mo(e),Ao=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Di(t,e.memoizedProps))for(t=Do;t;)Io(e,t),t=Ni(t);Mo(e);Do=Oo?Ni(e.stateNode):null;return!0}function Ro(){Do=Oo=null;Ao=!1}var Fo=Ye.ReactCurrentOwner,jo=!1;function Bo(e,t,n,i){t.child=null===e?Lr(t,null,n,i):Ir(t,e.child,n,i)}function Vo(e,t,n,i,r){n=n.render;var o=t.ref;ra(t,r);i=ho(e,t,n,i,o,r);if(null!==e&&!jo)return t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Yo(e,t,r);t.effectTag|=1;Bo(e,t,i,r);return t.child}function Ho(e,t,n,i,r,o){if(null===e){var a=n.type;if("function"===typeof a&&!ar(a)&&void 0===a.defaultProps&&null===n.compare&&void 0===n.defaultProps)return t.tag=15,t.type=a,Uo(e,t,a,i,r,o);e=ur(n.type,null,i,null,t.mode,o);e.ref=t.ref;e.return=t;return t.child=e}a=e.child;if(r<o&&(r=a.memoizedProps,n=n.compare,n=null!==n?n:cn,n(r,i)&&e.ref===t.ref))return Yo(e,t,o);t.effectTag|=1;e=lr(a,i,o);e.ref=t.ref;e.return=t;return t.child=e}function Uo(e,t,n,i,r,o){return null!==e&&cn(e.memoizedProps,i)&&e.ref===t.ref&&(jo=!1,r<o)?Yo(e,t,o):$o(e,t,n,i,o)}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function $o(e,t,n,i,r){var o=Wi(n)?$i:Ui.current;o=Gi(t,o);ra(t,r);n=ho(e,t,n,i,o,r);if(null!==e&&!jo)return t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Yo(e,t,r);t.effectTag|=1;Bo(e,t,n,r);return t.child}function Go(e,t,n,i,r){if(Wi(n)){var o=!0;Zi(t)}else o=!1;ra(t,r);if(null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),qr(t,n,i,r),Tr(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=oa(u):(u=Wi(n)?$i:Ui.current,u=Gi(t,u));var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==u)&&_r(t,a,i,u);ca=!1;var f=t.memoizedState;l=a.state=f;var p=t.updateQueue;null!==p&&(ya(t,p,i,a,r),l=t.memoizedState);s!==i||f!==l||zi.current||ca?("function"===typeof c&&(Sr(t,n,c,i),l=t.memoizedState),(s=ca||Er(t,n,s,i,f,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=u,i=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:yr(t.type,s),l=a.context,u=n.contextType,"object"===typeof u&&null!==u?u=oa(u):(u=Wi(n)?$i:Ui.current,u=Gi(t,u)),c=n.getDerivedStateFromProps,(d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==u)&&_r(t,a,i,u),ca=!1,l=t.memoizedState,f=a.state=l,p=t.updateQueue,null!==p&&(ya(t,p,i,a,r),f=t.memoizedState),s!==i||l!==f||zi.current||ca?("function"===typeof c&&(Sr(t,n,c,i),f=t.memoizedState),(c=ca||Er(t,n,s,i,l,f,u))?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=u,i=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return Wo(e,t,n,i,o,r)}function Wo(e,t,n,i,r,o){zo(e,t);var a=0!==(64&t.effectTag);if(!i&&!a)return r&&Ji(t,n,!1),Yo(e,t,o);i=t.stateNode;Fo.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();t.effectTag|=1;null!==e&&a?(t.child=Ir(t,e.child,null,o),t.child=Ir(t,null,s,o)):Bo(e,t,s,o);t.memoizedState=i.state;r&&Ji(t,n,!0);return t.child}function Qo(e){var t=e.stateNode;t.pendingContext?Yi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yi(e,t.context,!1);jr(e,t.containerInfo)}function Ko(e,t,n){var i=t.mode,r=t.pendingProps,o=t.memoizedState;if(0===(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=r.fallback;e=cr(null,i,0,null);0===(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child);i=cr(s,i,n,null);e.sibling=i;n=e;n.return=i.return=t}else n=i=Lr(t,null,r.children,n);else null!==e.memoizedState?(i=e.child,s=i.sibling,a?(n=r.fallback,r=lr(i,i.pendingProps,0),0===(1&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child,a!==i.child&&(r.child=a)),i=r.sibling=lr(s,n,s.expirationTime),n=r,r.childExpirationTime=0,n.return=i.return=t):n=i=Ir(t,i.child,r.children,n)):(s=e.child,a?(a=r.fallback,r=cr(null,i,0,null),r.child=s,0===(1&t.mode)&&(r.child=null!==t.memoizedState?t.child.child:t.child),i=r.sibling=cr(a,i,n,null),i.effectTag|=2,n=r,r.childExpirationTime=0,n.return=i.return=t):i=n=Ir(t,s,r.children,n)),t.stateNode=e.stateNode;t.memoizedState=o;t.child=n;return i}function Yo(e,t,n){null!==e&&(t.contextDependencies=e.contextDependencies);if(t.childExpirationTime<n)return null;null!==e&&t.child!==e.child?s("153"):void 0;if(null!==t.child){e=t.child;n=lr(e,e.pendingProps,e.expirationTime);t.child=n;for(n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=lr(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function Xo(e,t,n){var i=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||zi.current)jo=!0;else if(i<n){jo=!1;switch(t.tag){case 3:Qo(t);Ro();break;case 5:Vr(t);break;case 1:Wi(t.type)&&Zi(t);break;case 4:jr(t,t.stateNode.containerInfo);break;case 10:na(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState){i=t.child.childExpirationTime;if(0!==i&&i>=n)return Ko(e,t,n);t=Yo(e,t,n);return null!==t?t.sibling:null}}return Yo(e,t,n)}}else jo=!1;t.expirationTime=0;switch(t.tag){case 2:i=t.elementType;null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2);e=t.pendingProps;var r=Gi(t,Ui.current);ra(t,n);r=ho(null,t,i,e,r,n);t.effectTag|=1;if("object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){t.tag=1;vo();if(Wi(i)){var o=!0;Zi(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var a=i.getDerivedStateFromProps;"function"===typeof a&&Sr(t,i,a,e);r.updater=Cr;t.stateNode=r;r._reactInternalFiber=t;Tr(t,i,e,n);t=Wo(null,t,i,!0,o,n)}else t.tag=0,Bo(null,t,r,n),t=t.child;return t;case 16:r=t.elementType;null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2);o=t.pendingProps;e=xr(r);t.type=e;r=t.tag=sr(e);o=yr(e,o);a=void 0;switch(r){case 0:a=$o(null,t,e,o,n);break;case 1:a=Go(null,t,e,o,n);break;case 11:a=Vo(null,t,e,o,n);break;case 14:a=Ho(null,t,e,yr(e.type,o),i,n);break;default:s("306",e,"")}return a;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:yr(i,r),$o(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:yr(i,r),Go(e,t,i,r,n);case 3:Qo(t);i=t.updateQueue;null===i?s("282"):void 0;r=t.memoizedState;r=null!==r?r.element:null;ya(t,i,t.pendingProps,null,n);i=t.memoizedState.element;if(i===r)Ro(),t=Yo(e,t,n);else{r=t.stateNode;(r=(null===e||null===e.child)&&r.hydrate)&&(Do=Ri(t.stateNode.containerInfo),Oo=t,r=Ao=!0);r?(t.effectTag|=2,t.child=Lr(t,null,i,n)):(Bo(e,t,i,n),Ro());t=t.child}return t;case 5:return Vr(t),null===e&&Po(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,Di(i,r)?a=null:null!==o&&Di(i,o)&&(t.effectTag|=16),zo(e,t),1!==n&&1&t.mode&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Bo(e,t,a,n),t=t.child),t;case 6:return null===e&&Po(t),null;case 13:return Ko(e,t,n);case 4:return jr(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ir(t,null,i,n):Bo(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:yr(i,r),Vo(e,t,i,r,n);case 7:return Bo(e,t,t.pendingProps,n),t.child;case 8:return Bo(e,t,t.pendingProps.children,n),t.child;case 12:return Bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context;r=t.pendingProps;a=t.memoizedProps;o=r.value;na(t,o);if(null!==a){var l=a.value;o=ln(l,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823);if(0===o){if(a.children===r.children&&!zi.current){t=Yo(e,t,n);break e}}else for(l=t.child,null!==l&&(l.return=t);null!==l;){var u=l.contextDependencies;if(null!==u){a=l.child;for(var c=u.first;null!==c;){if(c.context===i&&0!==(c.observedBits&o)){1===l.tag&&(c=pa(n),c.tag=la,va(l,c));l.expirationTime<n&&(l.expirationTime=n);c=l.alternate;null!==c&&c.expirationTime<n&&(c.expirationTime=n);c=n;for(var d=l.return;null!==d;){var f=d.alternate;if(d.childExpirationTime<c)d.childExpirationTime=c,null!==f&&f.childExpirationTime<c&&(f.childExpirationTime=c);else{if(!(null!==f&&f.childExpirationTime<c))break;f.childExpirationTime=c}d=d.return}u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}l=a.sibling;if(null!==l){l.return=a.return;a=l;break}a=a.return}l=a}}Bo(e,t,r.children,n);t=t.child}return t;case 9:return r=t.type,o=t.pendingProps,i=o.children,ra(t,n),r=oa(r,o.unstable_observedBits),i=i(r),t.effectTag|=1,Bo(e,t,i,n),t.child;case 14:return r=t.type,o=yr(r,t.pendingProps),o=yr(r.type,o),Ho(e,t,r,o,i,n);case 15:return Uo(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:yr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Wi(i)?(e=!0,Zi(t)):e=!1,ra(t,n),qr(t,i,r,n),Tr(t,i,r,n),Wo(null,t,i,!0,e,n)}s("156")}var Zo={current:null},Jo=null,ea=null,ta=null;function na(e,t){var n=e.type._context;Vi(Zo,n._currentValue,e);n._currentValue=t}function ia(e){var t=Zo.current;Bi(Zo,e);e.type._context._currentValue=t}function ra(e,t){Jo=e;ta=ea=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(jo=!0);e.contextDependencies=null}function oa(e,t){if(ta!==e&&!1!==t&&0!==t){"number"===typeof t&&1073741823!==t||(ta=e,t=1073741823);t={context:e,observedBits:t,next:null};null===ea?(null===Jo?s("308"):void 0,ea=t,Jo.contextDependencies={first:t,expirationTime:0}):ea=ea.next=t}return e._currentValue}var aa=0,sa=1,la=2,ua=3,ca=!1;function da(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function fa(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function pa(e){return{expirationTime:e,tag:aa,payload:null,callback:null,next:null,nextEffect:null}}function ha(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function va(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue;var r=null;null===i&&(i=e.updateQueue=da(e.memoizedState))}else i=e.updateQueue,r=n.updateQueue,null===i?null===r?(i=e.updateQueue=da(e.memoizedState),r=n.updateQueue=da(n.memoizedState)):i=e.updateQueue=fa(r):null===r&&(r=n.updateQueue=fa(i));null===r||i===r?ha(i,t):null===i.lastUpdate||null===r.lastUpdate?(ha(i,t),ha(r,t)):(ha(i,t),r.lastUpdate=t)}function ma(e,t){var n=e.updateQueue;n=null===n?e.updateQueue=da(e.memoizedState):ga(e,n);null===n.lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ga(e,t){var n=e.alternate;null!==n&&t===n.updateQueue&&(t=e.updateQueue=fa(t));return t}function ba(e,t,n,i,o,a){switch(n.tag){case sa:return e=n.payload,"function"===typeof e?e.call(a,i,o):e;case ua:e.effectTag=-2049&e.effectTag|64;case aa:e=n.payload;o="function"===typeof e?e.call(a,i,o):e;if(null===o||void 0===o)break;return r({},i,o);case la:ca=!0}return i}function ya(e,t,n,i,r){ca=!1;t=ga(e,t);for(var o=t.baseState,a=null,s=0,l=t.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<r?(null===a&&(a=l,o=u),s<c&&(s=c)):(u=ba(e,t,l,u,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l)));l=l.next}c=null;for(l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<r?(null===c&&(c=l,null===a&&(o=u)),s<d&&(s=d)):(u=ba(e,t,l,u,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l)));l=l.next}null===a&&(t.lastUpdate=null);null===c?t.lastCapturedUpdate=null:e.effectTag|=32;null===a&&null===c&&(o=u);t.baseState=o;t.firstUpdate=a;t.firstCapturedUpdate=c;e.expirationTime=s;e.memoizedState=u}function xa(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null);wa(t.firstEffect,n);t.firstEffect=t.lastEffect=null;wa(t.firstCapturedEffect,n);t.firstCapturedEffect=t.lastCapturedEffect=null}function wa(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;"function"!==typeof n?s("191",n):void 0;n.call(i)}e=e.nextEffect}}function Sa(e,t){return{value:e,source:t,stack:ht(t)}}function Ca(e){e.effectTag|=4}var Ea=void 0,qa=void 0,_a=void 0,Ta=void 0;Ea=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n;n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return;n=n.sibling}};qa=function(){};_a=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s=t.stateNode;Fr(Mr.current);e=null;switch(n){case"input":a=kt(s,a);i=kt(s,i);e=[];break;case"option":a=ai(s,a);i=ai(s,i);e=[];break;case"select":a=r({},a,{value:void 0});i=r({},i,{value:void 0});e=[];break;case"textarea":a=li(s,a);i=li(s,i);e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(s.onclick=_i)}Ci(n,i);s=n=void 0;var l=null;for(n in a)if(!i.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var u=a[n];for(s in u)u.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(S.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in i){var c=i[n];u=null!=a?a[n]:void 0;if(i.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(l||(l={}),l[s]=c[s])}else l||(e||(e=[]),e.push(n,l)),l=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(S.hasOwnProperty(n)?(null!=c&&qi(o,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}l&&(e=e||[]).push("style",l);o=e;(t.updateQueue=o)&&Ca(t)}};Ta=function(e,t,n,i){n!==i&&Ca(t)};var ka="function"===typeof WeakSet?WeakSet:Set;function Oa(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ht(n));null!==n&&pt(n.type);t=t.value;null!==e&&1===e.tag&&pt(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function Da(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){ps(e,t)}else t.current=null}function Aa(e,t,n){n=n.updateQueue;n=null!==n?n.lastEffect:null;if(null!==n){var i=n=n.next;do{if((i.tag&e)!==Ur){var r=i.destroy;i.destroy=void 0;void 0!==r&&r()}(i.tag&t)!==Ur&&(r=i.create,i.destroy=r());i=i.next}while(i!==n)}}function Ia(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)i.style.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=void 0!==r&&null!==r&&r.hasOwnProperty("display")?r.display:null;i.style.display=xi("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){i=n.child.sibling;i.return=n;n=i;continue}if(null!==n.child){n.child.return=n;n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return;n=n.sibling}}function La(e){"function"===typeof tr&&tr(e);switch(e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&(t=t.lastEffect,null!==t)){var n=t=t.next;do{var i=n.destroy;if(void 0!==i){var r=e;try{i()}catch(e){ps(r,e)}}n=n.next}while(n!==t)}break;case 1:Da(e);t=e.stateNode;if("function"===typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ps(e,t)}break;case 5:Da(e);break;case 4:Na(e)}}function Pa(e){return 5===e.tag||3===e.tag||4===e.tag}function Ma(e){e:{for(var t=e.return;null!==t;){if(Pa(t)){var n=t;break e}t=t.return}s("160");n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode;i=!1;break;case 3:t=n.stateNode.containerInfo;i=!0;break;case 4:t=n.stateNode.containerInfo;i=!0;break;default:s("161")}16&n.effectTag&&(gi(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Pa(n.return)){n=null;break e}n=n.return}n.sibling.return=n.return;for(n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){if(5===r.tag||6===r.tag)if(n)if(i){var o=t,a=r.stateNode,l=n;8===o.nodeType?o.parentNode.insertBefore(a,l):o.insertBefore(a,l)}else t.insertBefore(r.stateNode,n);else i?(a=t,l=r.stateNode,8===a.nodeType?(o=a.parentNode,o.insertBefore(l,a)):(o=a,o.appendChild(l)),a=a._reactRootContainer,null!==a&&void 0!==a||null!==o.onclick||(o.onclick=_i)):t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r;r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return;r=r.sibling}}function Na(e){for(var t=e,n=!1,i=void 0,r=void 0;;){if(!n){n=t.return;e:for(;;){null===n?s("160"):void 0;switch(n.tag){case 5:i=n.stateNode;r=!1;break e;case 3:i=n.stateNode.containerInfo;r=!0;break e;case 4:i=n.stateNode.containerInfo;r=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,a=o;;)if(La(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break e;a=a.return}a.sibling.return=a.return;a=a.sibling}r?(o=i,a=t.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){i=t.stateNode.containerInfo;r=!0;t.child.return=t;t=t.child;continue}}else if(La(t),null!==t.child){t.child.return=t;t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return;4===t.tag&&(n=!1)}t.sibling.return=t.return;t=t.sibling}}function Ra(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Aa($r,Gr,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var r=t.type,o=t.updateQueue;t.updateQueue=null;null!==o&&Mi(n,o,r,e,i,t)}break;case 6:null===t.stateNode?s("162"):void 0;t.stateNode.nodeValue=t.memoizedProps;break;case 3:break;case 12:break;case 13:n=t.memoizedState;i=void 0;e=t;null===n?i=!1:(i=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=zs()));null!==e&&Ia(e,i);n=t.updateQueue;if(null!==n){t.updateQueue=null;var a=t.stateNode;null===a&&(a=t.stateNode=new ka);n.forEach(function(e){var n=ms.bind(null,t,e);a.has(e)||(a.add(e),e.then(n,n))})}break;case 17:break;default:s("163")}}var Fa="function"===typeof WeakMap?WeakMap:Map;function ja(e,t,n){n=pa(n);n.tag=ua;n.payload={element:null};var i=t.value;n.callback=function(){el(i);Oa(e,t)};return n}function Ba(e,t,n){n=pa(n);n.tag=ua;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)}}var o=e.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===ns?ns=new Set([this]):ns.add(this));var n=t.value,r=t.stack;Oa(e,t);this.componentDidCatch(n,{componentStack:null!==r?r:""})});return n}function Va(e){switch(e.tag){case 1:Wi(e.type)&&Qi(e);var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Br(e),Ki(e),t=e.effectTag,0!==(64&t)?s("285"):void 0,e.effectTag=-2049&t|64,e;case 5:return Hr(e),null;case 13:return t=e.effectTag,2048&t?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Br(e),null;case 10:return ia(e),null;default:return null}}var Ha=Ye.ReactCurrentDispatcher,Ua=Ye.ReactCurrentOwner,za=1073741822,$a=!1,Ga=null,Wa=null,Qa=0,Ka=-1,Ya=!1,Xa=null,Za=!1,Ja=null,es=null,ts=null,ns=null;function is(){if(null!==Ga)for(var e=Ga.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&Qi(t);break;case 3:Br(t);Ki(t);break;case 5:Hr(t);break;case 4:Br(t);break;case 10:ia(t)}e=e.return}Wa=null;Qa=0;Ka=-1;Ya=!1;Ga=null}function rs(){for(;null!==Xa;){var e=Xa.effectTag;16&e&&gi(Xa.stateNode,"");if(128&e){var t=Xa.alternate;null!==t&&(t=t.ref,null!==t&&("function"===typeof t?t(null):t.current=null))}switch(14&e){case 2:Ma(Xa);Xa.effectTag&=-3;break;case 6:Ma(Xa);Xa.effectTag&=-3;Ra(Xa.alternate,Xa);break;case 4:Ra(Xa.alternate,Xa);break;case 8:e=Xa,Na(e),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e=e.alternate,null!==e&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Xa=Xa.nextEffect}}function os(){for(;null!==Xa;){if(256&Xa.effectTag)e:{var e=Xa.alternate,t=Xa;switch(t.tag){case 0:case 11:case 15:Aa(zr,Ur,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;e=t.stateNode;t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:yr(t.type,n),i);e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:s("163")}}Xa=Xa.nextEffect}}function as(e,t){for(;null!==Xa;){var n=Xa.effectTag;if(36&n){var i=Xa.alternate,r=Xa,o=t;switch(r.tag){case 0:case 11:case 15:Aa(Wr,Qr,r);break;case 1:var a=r.stateNode;if(4&r.effectTag)if(null===i)a.componentDidMount();else{var l=r.elementType===r.type?i.memoizedProps:yr(r.type,i.memoizedProps);a.componentDidUpdate(l,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}i=r.updateQueue;null!==i&&xa(r,i,a,o);break;case 3:i=r.updateQueue;if(null!==i){a=null;if(null!==r.child)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}xa(r,i,a,o)}break;case 5:o=r.stateNode;null===i&&4&r.effectTag&&Oi(r.type,r.memoizedProps)&&o.focus();break;case 6:break;case 4:break;case 12:break;case 13:break;case 17:break;default:s("163")}}128&n&&(r=Xa.ref,null!==r&&(o=Xa.stateNode,"function"===typeof r?r(o):r.current=o));512&n&&(Ja=e);Xa=Xa.nextEffect}}function ss(e,t){ts=es=Ja=null;var n=Es;Es=!0;do{if(512&t.effectTag){var i=!1,r=void 0;try{var o=t;Aa(Yr,Ur,o);Aa(Ur,Kr,o)}catch(e){i=!0,r=e}i&&ps(t,r)}t=t.nextEffect}while(null!==t);Es=n;n=e.expirationTime;0!==n&&$s(e,n);Ds||Es||Ys(1073741823,!1)}function ls(){null!==es&&Pi(es);null!==ts&&ts()}function us(e,t){Za=$a=!0;e.current===t?s("177"):void 0;var n=e.pendingCommitExpirationTime;0===n?s("261"):void 0;e.pendingCommitExpirationTime=0;var i=t.expirationTime,r=t.childExpirationTime;vr(e,r>i?r:i);Ua.current=null;i=void 0;1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,i=t.firstEffect):i=t:i=t.firstEffect;Ti=Pn;ki=Kn();Pn=!1;for(Xa=i;null!==Xa;){r=!1;var a=void 0;try{os()}catch(e){r=!0,a=e}r&&(null===Xa?s("178"):void 0,ps(Xa,a),null!==Xa&&(Xa=Xa.nextEffect))}for(Xa=i;null!==Xa;){r=!1;a=void 0;try{rs()}catch(e){r=!0,a=e}r&&(null===Xa?s("178"):void 0,ps(Xa,a),null!==Xa&&(Xa=Xa.nextEffect))}Yn(ki);ki=null;Pn=!!Ti;Ti=null;e.current=t;for(Xa=i;null!==Xa;){r=!1;a=void 0;try{as(e,n)}catch(e){r=!0,a=e}r&&(null===Xa?s("178"):void 0,ps(Xa,a),null!==Xa&&(Xa=Xa.nextEffect))}if(null!==i&&null!==Ja){var l=ss.bind(null,e,i);es=o.unstable_runWithPriority(o.unstable_NormalPriority,function(){return Li(l)});ts=l}$a=Za=!1;"function"===typeof er&&er(t.stateNode);n=t.expirationTime;t=t.childExpirationTime;t=t>n?t:n;0===t&&(ns=null);Us(e,t)}function cs(e){for(;;){var t=e.alternate,n=e.return,i=e.sibling;if(0===(1024&e.effectTag)){Ga=e;e:{var o=t;t=e;var a=Qa;var l=t.pendingProps;switch(t.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:Wi(t.type)&&Qi(t);break;case 3:Br(t);Ki(t);l=t.stateNode;l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null);null!==o&&null!==o.child||(No(t),t.effectTag&=-3);qa(t);break;case 5:Hr(t);var u=Fr(Rr.current);a=t.type;if(null!==o&&null!=t.stateNode)_a(o,t,a,l,u),o.ref!==t.ref&&(t.effectTag|=128);else if(l){var c=Fr(Mr.current);if(No(t)){l=t;o=l.stateNode;var d=l.type,f=l.memoizedProps,p=u;o[N]=l;o[R]=f;a=void 0;u=d;switch(u){case"iframe":case"object":Mn("load",o);break;case"video":case"audio":for(d=0;d<re.length;d++)Mn(re[d],o);break;case"source":Mn("error",o);break;case"img":case"image":case"link":Mn("error",o);Mn("load",o);break;case"form":Mn("reset",o);Mn("submit",o);break;case"details":Mn("toggle",o);break;case"input":Ot(o,f);Mn("invalid",o);qi(p,"onChange");break;case"select":o._wrapperState={wasMultiple:!!f.multiple};Mn("invalid",o);qi(p,"onChange");break;case"textarea":ui(o,f),Mn("invalid",o),qi(p,"onChange")}Ci(u,f);d=null;for(a in f)f.hasOwnProperty(a)&&(c=f[a],"children"===a?"string"===typeof c?o.textContent!==c&&(d=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(d=["children",""+c]):S.hasOwnProperty(a)&&null!=c&&qi(p,a));switch(u){case"input":Qe(o);It(o,f,!0);break;case"textarea":Qe(o);di(o,f);break;case"select":case"option":break;default:"function"===typeof f.onClick&&(o.onclick=_i)}a=d;l.updateQueue=a;l=null!==a;l&&Ca(t)}else{f=t;o=a;p=l;d=9===u.nodeType?u:u.ownerDocument;c===fi.html&&(c=pi(o));c===fi.html?"script"===o?(o=d.createElement("div"),o.innerHTML="<script><\/script>",d=o.removeChild(o.firstChild)):"string"===typeof p.is?d=d.createElement(o,{is:p.is}):(d=d.createElement(o),"select"===o&&p.multiple&&(d.multiple=!0)):d=d.createElementNS(c,o);o=d;o[N]=f;o[R]=l;Ea(o,t,!1,!1);p=o;d=a;f=l;var h=u,v=Ei(d,f);switch(d){case"iframe":case"object":Mn("load",p);u=f;break;case"video":case"audio":for(u=0;u<re.length;u++)Mn(re[u],p);u=f;break;case"source":Mn("error",p);u=f;break;case"img":case"image":case"link":Mn("error",p);Mn("load",p);u=f;break;case"form":Mn("reset",p);Mn("submit",p);u=f;break;case"details":Mn("toggle",p);u=f;break;case"input":Ot(p,f);u=kt(p,f);Mn("invalid",p);qi(h,"onChange");break;case"option":u=ai(p,f);break;case"select":p._wrapperState={wasMultiple:!!f.multiple};u=r({},f,{value:void 0});Mn("invalid",p);qi(h,"onChange");break;case"textarea":ui(p,f);u=li(p,f);Mn("invalid",p);qi(h,"onChange");break;default:u=f}Ci(d,u);c=void 0;var m=d,g=p,b=u;for(c in b)if(b.hasOwnProperty(c)){var y=b[c];"style"===c?wi(g,y):"dangerouslySetInnerHTML"===c?(y=y?y.__html:void 0,null!=y&&mi(g,y)):"children"===c?"string"===typeof y?("textarea"!==m||""!==y)&&gi(g,y):"number"===typeof y&&gi(g,""+y):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(S.hasOwnProperty(c)?null!=y&&qi(h,c):null!=y&&_t(g,c,y,v))}switch(d){case"input":Qe(p);It(p,f,!1);break;case"textarea":Qe(p);di(p,f);break;case"option":null!=f.value&&p.setAttribute("value",""+Tt(f.value));break;case"select":u=p;u.multiple=!!f.multiple;p=f.value;null!=p?si(u,!!f.multiple,p,!1):null!=f.defaultValue&&si(u,!!f.multiple,f.defaultValue,!0);break;default:"function"===typeof u.onClick&&(p.onclick=_i)}(l=Oi(a,l))&&Ca(t);t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode?s("166"):void 0;break;case 6:o&&null!=t.stateNode?Ta(o,t,o.memoizedProps,l):("string"!==typeof l&&(null===t.stateNode?s("166"):void 0),o=Fr(Rr.current),Fr(Mr.current),No(t)?(l=t,a=l.stateNode,o=l.memoizedProps,a[N]=l,(l=a.nodeValue!==o)&&Ca(t)):(a=t,l=(9===o.nodeType?o:o.ownerDocument).createTextNode(l),l[N]=t,a.stateNode=l));break;case 11:break;case 13:l=t.memoizedState;if(0!==(64&t.effectTag)){t.expirationTime=a;Ga=t;break e}l=null!==l;a=null!==o&&null!==o.memoizedState;null!==o&&!l&&a&&(o=o.child.sibling,null!==o&&(u=t.firstEffect,null!==u?(t.firstEffect=o,o.nextEffect=u):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8));(l||a)&&(t.effectTag|=4);break;case 7:break;case 8:break;case 12:break;case 4:Br(t);qa(t);break;case 10:ia(t);break;case 9:break;case 14:break;case 17:Wi(t.type)&&Qi(t);break;case 18:break;default:s("156")}Ga=null}t=e;if(1===Qa||1!==t.childExpirationTime){l=0;for(a=t.child;null!==a;)o=a.expirationTime,u=a.childExpirationTime,o>l&&(l=o),u>l&&(l=u),a=a.sibling;t.childExpirationTime=l}if(null!==Ga)return Ga;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{e=Va(e,Qa);if(null!==e)return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==i)return i;if(null===n)break;e=n}return null}function ds(e){var t=Xo(e.alternate,e,Qa);e.memoizedProps=e.pendingProps;null===t&&(t=cs(e));Ua.current=null;return t}function fs(e,t){$a?s("243"):void 0;ls();$a=!0;var n=Ha.current;Ha.current=_o;var i=e.nextExpirationTimeToWorkOn;i===Qa&&e===Wa&&null!==Ga||(is(),Wa=e,Qa=i,Ga=lr(Wa.current,null,Qa),e.pendingCommitExpirationTime=0);var r=!1;do{try{if(t)for(;null!==Ga&&!Qs();)Ga=ds(Ga);else for(;null!==Ga;)Ga=ds(Ga)}catch(t){if(ta=ea=Jo=null,vo(),null===Ga)r=!0,el(t);else{null===Ga?s("271"):void 0;var o=Ga,a=o.return;if(null!==a){e:{var l=e,u=a,c=o,d=t;a=Qa;c.effectTag|=1024;c.firstEffect=c.lastEffect=null;if(null!==d&&"object"===typeof d&&"function"===typeof d.then){var f=d;d=u;var p=-1,h=-1;do{if(13===d.tag){var v=d.alternate;if(null!==v&&(v=v.memoizedState,null!==v)){h=10*(1073741822-v.timedOutAt);break}v=d.pendingProps.maxDuration;"number"===typeof v&&(0>=v?p=0:(-1===p||v<p)&&(p=v))}d=d.return}while(null!==d);d=u;do{(v=13===d.tag)&&(v=void 0!==d.memoizedProps.fallback&&null===d.memoizedState);if(v){u=d.updateQueue;null===u?(u=new Set,u.add(f),d.updateQueue=u):u.add(f);if(0===(1&d.mode)){d.effectTag|=64;c.effectTag&=-1957;1===c.tag&&(null===c.alternate?c.tag=17:(a=pa(1073741823),a.tag=la,va(c,a)));c.expirationTime=1073741823;break e}c=l;u=a;var m=c.pingCache;null===m?(m=c.pingCache=new Fa,v=new Set,m.set(f,v)):(v=m.get(f),void 0===v&&(v=new Set,m.set(f,v)));v.has(u)||(v.add(u),c=vs.bind(null,c,f,u),f.then(c,c));-1===p?l=1073741823:(-1===h&&(h=10*(1073741822-gr(l,a))-5e3),l=h+p);0<=l&&Ka<l&&(Ka=l);d.effectTag|=2048;d.expirationTime=a;break e}d=d.return}while(null!==d);d=Error((pt(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ht(c))}Ya=!0;d=Sa(d,c);l=u;do{switch(l.tag){case 3:l.effectTag|=2048;l.expirationTime=a;a=ja(l,d,a);ma(l,a);break e;case 1:if(p=d,h=l.type,c=l.stateNode,0===(64&l.effectTag)&&("function"===typeof h.getDerivedStateFromError||null!==c&&"function"===typeof c.componentDidCatch&&(null===ns||!ns.has(c)))){l.effectTag|=2048;l.expirationTime=a;a=Ba(l,p,a);ma(l,a);break e}}l=l.return}while(null!==l)}Ga=cs(o);continue}r=!0,el(t)}}break}while(1);$a=!1;Ha.current=n;ta=ea=Jo=null;vo();if(r)Wa=null,e.finishedWork=null;else if(null!==Ga)e.finishedWork=null;else{n=e.current.alternate;null===n?s("281"):void 0;Wa=null;if(Ya){r=e.latestPendingTime;o=e.latestSuspendedTime;a=e.latestPingedTime;if(0!==r&&r<i||0!==o&&o<i||0!==a&&a<i){mr(e,i);Vs(e,n,i,e.expirationTime,-1);return}if(!e.didError&&t){e.didError=!0;i=e.nextExpirationTimeToWorkOn=i;t=e.expirationTime=1073741823;Vs(e,n,i,t,-1);return}}t&&-1!==Ka?(mr(e,i),t=10*(1073741822-gr(e,i)),t<Ka&&(Ka=t),t=10*(1073741822-zs()),t=Ka-t,Vs(e,n,i,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=i,e.finishedWork=n)}}function ps(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ns||!ns.has(i))){e=Sa(t,e);e=Ba(n,e,1073741823);va(n,e);bs(n,1073741823);return}break;case 3:e=Sa(t,e);e=ja(n,e,1073741823);va(n,e);bs(n,1073741823);return}n=n.return}3===e.tag&&(n=Sa(t,e),n=ja(e,n,1073741823),va(e,n),bs(e,1073741823))}function hs(e,t){var n=o.unstable_getCurrentPriorityLevel(),i=void 0;if(0===(1&t.mode))i=1073741823;else if($a&&!Za)i=Qa;else{switch(n){case o.unstable_ImmediatePriority:i=1073741823;break;case o.unstable_UserBlockingPriority:i=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:i=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:i=1;break;default:s("313")}null!==Wa&&i===Qa&&--i}n===o.unstable_UserBlockingPriority&&(0===Ts||i<Ts)&&(Ts=i);return i}function vs(e,t,n){var i=e.pingCache;null!==i&&i.delete(t);if(null!==Wa&&Qa===n)Wa=null;else if(t=e.earliestSuspendedTime,i=e.latestSuspendedTime,0!==t&&n<=t&&n>=i){e.didError=!1;t=e.latestPingedTime;(0===t||t>n)&&(e.latestPingedTime=n);br(n,e);n=e.expirationTime;0!==n&&$s(e,n)}}function ms(e,t){var n=e.stateNode;null!==n&&n.delete(t);t=zs();t=hs(t,e);e=gs(e,t);null!==e&&(hr(e,t),t=e.expirationTime,0!==t&&$s(e,t))}function gs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){n=i.alternate;i.childExpirationTime<t&&(i.childExpirationTime=t);null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);if(null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return r}function bs(e,t){e=gs(e,t);null!==e&&(!$a&&0!==Qa&&t>Qa&&is(),hr(e,t),$a&&!Za&&Wa===e||$s(e,e.expirationTime),Rs>Ns&&(Rs=0,s("185")))}function ys(e,t,n,i,r){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){return e(t,n,i,r)})}var xs=null,ws=null,Ss=0,Cs=void 0,Es=!1,qs=null,_s=0,Ts=0,ks=!1,Os=null,Ds=!1,As=!1,Is=null,Ls=o.unstable_now(),Ps=1073741822-(Ls/10|0),Ms=Ps,Ns=50,Rs=0,Fs=null;function js(){Ps=1073741822-((o.unstable_now()-Ls)/10|0)}function Bs(e,t){if(0!==Ss){if(t<Ss)return;null!==Cs&&o.unstable_cancelCallback(Cs)}Ss=t;e=o.unstable_now()-Ls;Cs=o.unstable_scheduleCallback(Ks,{timeout:10*(1073741822-t)-e})}function Vs(e,t,n,i,r){e.expirationTime=i;0!==r||Qs()?0<r&&(e.timeoutHandle=Ai(Hs.bind(null,e,t,n),r)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Hs(e,t,n){e.pendingCommitExpirationTime=n;e.finishedWork=t;js();Ms=Ps;Xs(e,n)}function Us(e,t){e.expirationTime=t;e.finishedWork=null}function zs(){if(Es)return Ms;Gs();0!==_s&&1!==_s||(js(),Ms=Ps);return Ms}function $s(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ws?(xs=ws=e,e.nextScheduledRoot=e):(ws=ws.nextScheduledRoot=e,ws.nextScheduledRoot=xs)):t>e.expirationTime&&(e.expirationTime=t);Es||(Ds?As&&(qs=e,_s=1073741823,Zs(e,1073741823,!1)):1073741823===t?Ys(1073741823,!1):Bs(e,t))}function Gs(){var e=0,t=null;if(null!==ws)for(var n=ws,i=xs;null!==i;){var r=i.expirationTime;if(0===r){null===n||null===ws?s("244"):void 0;if(i===i.nextScheduledRoot){xs=ws=i.nextScheduledRoot=null;break}if(i===xs)xs=r=i.nextScheduledRoot,ws.nextScheduledRoot=r,i.nextScheduledRoot=null;else{if(i===ws){ws=n;ws.nextScheduledRoot=xs;i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{r>e&&(e=r,t=i);if(i===ws)break;if(1073741823===e)break;n=i;i=i.nextScheduledRoot}}qs=t;_s=e}var Ws=!1;function Qs(){return!!Ws||!!o.unstable_shouldYield()&&(Ws=!0)}function Ks(){try{if(!Qs()&&null!==xs){js();var e=xs;do{var t=e.expirationTime;0!==t&&Ps<=t&&(e.nextExpirationTimeToWorkOn=Ps);e=e.nextScheduledRoot}while(e!==xs)}Ys(0,!0)}finally{Ws=!1}}function Ys(e,t){Gs();if(t)for(js(),Ms=Ps;null!==qs&&0!==_s&&e<=_s&&!(Ws&&Ps>_s);)Zs(qs,_s,Ps>_s),Gs(),js(),Ms=Ps;else for(;null!==qs&&0!==_s&&e<=_s;)Zs(qs,_s,!1),Gs();t&&(Ss=0,Cs=null);0!==_s&&Bs(qs,_s);Rs=0;Fs=null;if(null!==Is)for(e=Is,Is=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ks||(ks=!0,Os=e)}}if(ks)throw e=Os,Os=null,ks=!1,e}function Xs(e,t){Es?s("253"):void 0;qs=e;_s=t;Zs(e,t,!1);Ys(1073741823,!1)}function Zs(e,t,n){Es?s("245"):void 0;Es=!0;if(n){var i=e.finishedWork;null!==i?Js(e,i,t):(e.finishedWork=null,i=e.timeoutHandle,-1!==i&&(e.timeoutHandle=-1,Ii(i)),fs(e,n),i=e.finishedWork,null!==i&&(Qs()?e.finishedWork=i:Js(e,i,t)))}else i=e.finishedWork,null!==i?Js(e,i,t):(e.finishedWork=null,i=e.timeoutHandle,-1!==i&&(e.timeoutHandle=-1,Ii(i)),fs(e,n),i=e.finishedWork,null!==i&&Js(e,i,t));Es=!1}function Js(e,t,n){var i=e.firstBatch;if(null!==i&&i._expirationTime>=n&&(null===Is?Is=[i]:Is.push(i),i._defer)){e.finishedWork=t;e.expirationTime=0;return}e.finishedWork=null;e===Fs?Rs++:(Fs=e,Rs=0);o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){us(e,t)})}function el(e){null===qs?s("246"):void 0;qs.expirationTime=0;ks||(ks=!0,Os=e)}function tl(e,t){var n=Ds;Ds=!0;try{return e(t)}finally{(Ds=n)||Es||Ys(1073741823,!1)}}function nl(e,t){if(Ds&&!As){As=!0;try{return e(t)}finally{As=!1}}return e(t)}function il(e,t,n){Ds||Es||0===Ts||(Ys(Ts,!1),Ts=0);var i=Ds;Ds=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(Ds=i)||Es||Ys(1073741823,!1)}}function rl(e,t,n,i,r){var o=t.current;e:if(n){n=n._reactInternalFiber;t:{2===dn(n)&&1===n.tag?void 0:s("170");var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Wi(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);s("171");a=void 0}if(1===n.tag){var l=n.type;if(Wi(l)){n=Xi(n,l,a);break e}}n=a}else n=Hi;null===t.context?t.context=n:t.pendingContext=n;t=r;r=pa(i);r.payload={element:e};t=void 0===t?null:t;null!==t&&(r.callback=t);ls();va(o,r);bs(o,i);return i}function ol(e,t,n,i){var r=t.current,o=zs();r=hs(o,r);return rl(e,t,n,r,i)}function al(e){e=e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}Ae=function(e,t,n){switch(t){case"input":At(e,n);t=n.name;if("radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]');for(t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=V(i);r?void 0:s("90");Ke(i);At(i,r)}}}break;case"textarea":ci(e,n);break;case"select":t=n.value,null!=t&&si(e,!!n.multiple,t,!1)}};function ll(e){var t=1073741822-25*(1+((1073741822-zs()+500)/25|0));t>=za&&(t=za-1);this._expirationTime=za=t;this._root=e;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}ll.prototype.render=function(e){this._defer?void 0:s("250");this._hasChildren=!0;this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new ul;rl(e,t,null,n,i._onCommit);return i};ll.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]);t.push(e)}};ll.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;this._defer&&null!==t?void 0:s("251");if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,r=t;r!==this;)i=r,r=r._next;null===i?s("251"):void 0;i._next=r._next;this._next=t;e.firstBatch=this}this._defer=!1;Xs(e,n);t=this._next;this._next=null;t=e.firstBatch=t;null!==t&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1};ll.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}};function ul(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}ul.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]);t.push(e)}};ul.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n?s("191",n):void 0;n()}}};function cl(e,t,n){t=or(3,null,null,t?3:0);e={current:t,containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null};this._internalRoot=t.stateNode=e}cl.prototype.render=function(e,t){var n=this._internalRoot,i=new ul;t=void 0===t?null:t;null!==t&&i.then(t);ol(e,n,null,i._onCommit);return i};cl.prototype.unmount=function(e){var t=this._internalRoot,n=new ul;e=void 0===e?null:e;null!==e&&n.then(e);ol(null,t,null,n._onCommit);return n};cl.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var i=this._internalRoot,r=new ul;n=void 0===n?null:n;null!==n&&r.then(n);ol(t,i,e,r._onCommit);return r};cl.prototype.createBatch=function(){var e=new ll(this),t=e._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=e,e._next=null;else{for(n=null;null!==i&&i._expirationTime>=t;)n=i,i=i._next;e._next=i;null!==n&&(n._next=e)}return e};function dl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}Re=tl;Fe=il;je=function(){Es||0===Ts||(Ys(Ts,!1),Ts=0)};function fl(e,t){t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot")));if(!t)for(var n;n=e.lastChild;)e.removeChild(n);return new cl(e,!1,t)}function pl(e,t,n,i,r){var o=n._reactRootContainer;if(o){if("function"===typeof r){var a=r;r=function(){var e=al(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)}else{o=n._reactRootContainer=fl(n,i);if("function"===typeof r){var s=r;r=function(){var e=al(o._internalRoot);s.call(e)}}nl(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)})}return al(o._internalRoot)}function hl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;dl(t)?void 0:s("200");return sl(e,t,null,n)}var vl={createPortal:hl,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;void 0===t&&("function"===typeof e.render?s("188"):s("268",Object.keys(e)));e=hn(t);e=null===e?null:e.stateNode;return e},hydrate:function(e,t,n){dl(t)?void 0:s("200");return pl(null,e,t,!0,n)},render:function(e,t,n){dl(t)?void 0:s("200");return pl(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){dl(n)?void 0:s("200");null==e||void 0===e._reactInternalFiber?s("38"):void 0;return pl(e,t,n,!1,i)},unmountComponentAtNode:function(e){dl(e)?void 0:s("40");return!!e._reactRootContainer&&(nl(function(){pl(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return hl.apply(void 0,arguments)},unstable_batchedUpdates:tl,unstable_interactiveUpdates:il,flushSync:function(e,t){Es?s("187"):void 0;var n=Ds;Ds=!0;try{return ys(e,t)}finally{Ds=n,Ys(1073741823,!1)}},unstable_createRoot:ml,unstable_flushControlled:function(e){var t=Ds;Ds=!0;try{ys(e)}finally{(Ds=t)||Es||Ys(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[j,B,V,I.injectEventPluginsByName,w,W,function(e){O(e,G)},Me,Ne,Fn,P]}};function ml(e,t){dl(e)?void 0:s("299","unstable_createRoot");return new cl(e,!0,null!=t&&!0===t.hydrate)}(function(e){var t=e.findFiberByHostInstance;return ir(r({},e,{overrideProps:null,currentDispatcherRef:Ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){e=hn(e);return null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))})({findFiberByHostInstance:F,bundleType:0,version:"16.8.3",rendererPackageName:"react-dom"});var gl={default:vl},bl=gl&&vl||gl;e.exports=bl.default||bl},function(e,t,n){"use strict";true;e.exports=n(1338)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=null,i=!1,r=3,o=-1,a=-1,s=!1,l=!1;function u(){if(!s){var e=n.expirationTime;l?C():l=!0;S(f,e)}}function c(){var e=n,t=n.next;if(n===t)n=null;else{var i=n.previous;n=i.next=t;t.previous=i}e.next=e.previous=null;i=e.callback;t=e.expirationTime;e=e.priorityLevel;var o=r,s=a;r=e;a=t;try{var l=i()}finally{r=o,a=s}if("function"===typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=l.next=l.previous=l;else{i=null;e=n;do{if(e.expirationTime>=t){i=e;break}e=e.next}while(e!==n);null===i?i=n:i===n&&(n=l,u());t=i.previous;t.next=i.previous=l;l.next=i;l.previous=t}}function d(){if(-1===o&&null!==n&&1===n.priorityLevel){s=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?u():l=!1}}}function f(e){s=!0;var r=i;i=e;try{if(e)for(;null!==n;){var o=t.unstable_now();if(!(n.expirationTime<=o))break;do{c()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{c()}while(null!==n&&!E())}finally{s=!1,i=r,null!==n?u():l=!1,d()}}var p=Date,h="function"===typeof setTimeout?setTimeout:void 0,v="function"===typeof clearTimeout?clearTimeout:void 0,m="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,g="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0,b,y;function x(e){b=m(function(t){v(y);e(t)});y=h(function(){g(b);e(t.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var w=performance;t.unstable_now=function(){return w.now()}}else t.unstable_now=function(){return p.now()};var S,C,E,q=null;"undefined"!==typeof window?q=window:"undefined"!==typeof e&&(q=e);if(q&&q._schedMock){var _=q._schedMock;S=_[0];C=_[1];E=_[2];t.unstable_now=_[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var T=null,k=function(e){if(null!==T)try{T(e)}finally{T=null}};S=function(e){null!==T?setTimeout(S,0,e):(T=e,setTimeout(k,0,!1))};C=function(){T=null};E=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof m&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var O=null,D=!1,A=-1,I=!1,L=!1,P=0,M=33,N=33;E=function(){return P<=t.unstable_now()};var R=new MessageChannel,F=R.port2;R.port1.onmessage=function(){D=!1;var e=O,n=A;O=null;A=-1;var i=t.unstable_now(),r=!1;if(0>=P-i){if(!(-1!==n&&n<=i)){I||(I=!0,x(j));O=e;A=n;return}r=!0}if(null!==e){L=!0;try{e(r)}finally{L=!1}}};var j=function(e){if(null!==O){x(j);var t=e-P+N;t<N&&M<N?(8>t&&(t=8),N=t<M?M:t):M=t;P=e+N;D||(D=!0,F.postMessage(void 0))}else I=!1};S=function(e,t){O=e;A=t;L||0>t?F.postMessage(void 0):I||(I=!0,x(j))};C=function(){O=null;D=!1;A=-1}}t.unstable_ImmediatePriority=1;t.unstable_UserBlockingPriority=2;t.unstable_NormalPriority=3;t.unstable_IdlePriority=5;t.unstable_LowPriority=4;t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=r,a=o;r=e;o=t.unstable_now();try{return n()}finally{r=i,o=a,d()}};t.unstable_next=function(e){switch(r){case 1:case 2:case 3:var n=3;break;default:n=r}var i=r,a=o;r=n;o=t.unstable_now();try{return e()}finally{r=i,o=a,d()}};t.unstable_scheduleCallback=function(e,i){var a=-1!==o?o:t.unstable_now();if("object"===typeof i&&null!==i&&"number"===typeof i.timeout)i=a+i.timeout;else switch(r){case 1:i=a+-1;break;case 2:i=a+250;break;case 5:i=a+1073741823;break;case 4:i=a+1e4;break;default:i=a+5e3}e={callback:e,priorityLevel:r,expirationTime:i,next:null,previous:null};if(null===n)n=e.next=e.previous=e,u();else{a=null;var s=n;do{if(s.expirationTime>i){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=e,u());i=a.previous;i.next=a.previous=e;e.next=a;e.previous=i}return e};t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var i=e.previous;i.next=t;t.previous=i}e.next=e.previous=null}};t.unstable_wrapCallback=function(e){var n=r;return function(){var i=r,a=o;r=n;o=t.unstable_now();try{return e.apply(this,arguments)}finally{r=i,o=a,d()}}};t.unstable_getCurrentPriorityLevel=function(){return r};t.unstable_shouldYield=function(){return!i&&(null!==n&&n.expirationTime<a||E())};t.unstable_continueExecution=function(){null!==n&&u()};t.unstable_pauseExecution=function(){};t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(15))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(90),n(89),n(93),n(135),n(183),n(49)],r=function(e,t,n,i,r,o,a,s){var l;var u;var c;function d(){u&&u();if(c){var i=e.getService("qvAlertDialog").show({message:f(t.get("TimeoutDialog.Title"),t.get("TimeoutDialog.Message")),closeLabel:t.get("Common.Refresh"),closeOnEscape:false});i.closed.then(function(){var e=n.basePath+"login?returnto="+n.reloadURI;o.setUrl(e,false,false,true)});return i}var r=n.basePath+"qps/logout?targetUri="+n.reloadURI;o.setUrl(r,false,false,true)}function f(e,t){return'<h2 class="inline-title">'+e+"</h2><span>"+t+"</span>"}function p(){if(!l){l=new i;r.setLogoutHandler(d);c=s.getFlag("CLIENT_REST_TIMEOUT");c&&a.registerSessionTimeoutCheck(v);return l.resolve()}return l.promise}function h(e){u=e}function v(e){c&&401===e.status&&d()}return{init:p,onBeforeLogout:h}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(48),n(94)],r=function(e,t,n){var i;var r;var o=false;var a="";function s(t){e.ready.then(function(){var n=e.get(t||i);document.title=(o?"*":"")+r+a+" | "+n+" - "+e.get("Title.QlikView")})}function l(){n.view!==n.Views.overview&&n.view!==n.Views.dataManager||s(u())}function u(){var e;if(n.view===n.Views.overview){e="NavigationMenu.AppOverview";a=""}else if(n.view===n.Views.story)e="Common.Stories";else if(n.view===n.Views.dataManager){e="Title.DataManager";a=""}else e="Common.Sheets";return e}function c(e){e.getLayout().then(function(e){a=" - "+(e.labelExpression||e.qMeta.title);s(u(),a)})}function d(e,o,d){if(d){n.StateChanged.bind(l);n.SheetChanged.bind(c);n.StoryChanged.bind(c);o=u()}i=o||"";t.$rootScope.$watch(function(){return e.qTitle},function(){r=e.qTitle;i?s():s(u(),a)})}return{init:d,markAsDirty:function e(){o=true;s()},destroy:function e(){n.StateChanged.unbind(l);n.SheetChanged.unbind(c);n.StoryChanged.unbind(c)},markAsClean:function e(){o=false;s()}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(100)],r=function(e){var t={};t.get=function(){return e};t.getTheme=function t(){return e.getCurrentTheme()};t.setTheme=function t(n){e.applyTheme(n)};t.getThemePalettes=function t(){return e.themePalettes};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!(i=[n,t,n(1343)],r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){var i=e.call(this,n)||this;return i.name=t,i}return o(t,e),t.GetDefaultCalendarModel=function(){var e={calendarModel:{locale:"en-US",defaultCalendar:{id:"autoCalendar",name:"autoCalendar",translation:"",appliedToTags:["$date"],params:{},derivedFields:[{id:"Decade",name:"Decade",translation:"",definition:"Dual(Div(Year($1),10)*10, MakeDate(Div(Year($1),10)*10, 1, 1))",tags:["$axis","$decade"],selected:!1},{id:"Year",name:"Year",translation:"scripteditor.autoCalendarYear",definition:"Dual(Year($1), YearStart($1))",tags:["$axis","$year"],selected:!0},{id:"Quarter",name:"Quarter",translation:"scripteditor.autoCalendarQuarter",definition:"Dual('Q'&Num(Ceil(Num(Month($1))/3)),Num(Ceil(NUM(Month($1))/3),00))",tags:["$quarter","$cyclic"],selected:!0},{id:"YearQuarter",name:"YearQuarter",translation:"scripteditor.autoCalendarQuarterYear",definition:"Dual(Year($1)&'-Q'&Num(Ceil(Num(Month($1))/3)),QuarterStart($1))",tags:["$yearquarter","$qualified"],selected:!0},{id:"_YearQuarter",name:"_YearQuarter",translation:"scripteditor.autoCalendarQuarterYear",definition:"Dual('Q'&Num(Ceil(Num(Month($1))/3)),QuarterStart($1))",tags:["$yearquarter","$hidden","$simplified"],selected:!0},{id:"Month",name:"Month",translation:"scripteditor.autoCalendarMonth",definition:"Month($1)",tags:["$month","$cyclic"],selected:!0},{id:"YearMonth",name:"YearMonth",translation:"scripteditor.autoCalendarMonthYear",definition:"Dual(Year($1)&'-'&Month($1), monthstart($1))",tags:["$axis","$yearmonth","$qualified"],selected:!0},{id:"_YearMonth",name:"_YearMonth",translation:"scripteditor.autoCalendarMonthYear",definition:"Dual(Month($1), monthstart($1))",tags:["$axis","$yearmonth","$simplified","$hidden"],selected:!0},{id:"Week",name:"Week",translation:"scripteditor.autoCalendarWeek",definition:"Dual('W'&Num(Week($1),00), Num(Week($1),00))",tags:["$weeknumber","$cyclic"],selected:!0},{id:"YearWeek",name:"YearWeek",translation:"",definition:"Dual(Year($1)&'-W'&num(Week($1),00), weekstart($1))",tags:["$yearweek"],selected:!1},{id:"WeekDay",name:"WeekDay",translation:"",definition:"Dual(WeekDay($1),num(WeekDay($1)))",tags:["$weekday"],selected:!1},{id:"Date",name:"Date",translation:"scripteditor.autoCalendarDate",definition:"Date(Floor($1))",tags:["$axis","$date","$qualified"],selected:!0},{id:"_Date",name:"_Date",translation:"scripteditor.autoCalendarDate",definition:"Date(Floor($1), 'D')",tags:["$axis","$date","$hidden","$simplified"],selected:!0}],groups:[{name:"YearMonthDay",drillDown:"true",fieldRefs:["Year","Month","WeekDay"]},{name:"YearMonth",drillDown:"false",fieldRefs:["Year","Month"]}],deriveFieldsType:"fieldExplicit"}}},n=new t("autoCalendar","autoCalendar"),i=e.calendarModel.defaultCalendar;return n.appliedToTags=i.appliedToTags,n.derivedFields=i.derivedFields,n.groups=i.groups,n.deriveFieldsType=i.deriveFieldsType,{calendar:n,locale:e.calendarModel.locale}},t}(n.Referencable);t.Calendar=i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(54)],r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){n.isString(e)&&(this.id=e)}return e}();t.Referencable=i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(54),n(151),n(992),n(439),n(1200),n(1283),n(1040)],r=function(e,t,n,i,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(t){var n=t.fields=t.fields||[];t.status=void 0!==t.status?t.status:e.Statuses.add,this.data=t,this.fields=n}return e.CreateTargetTableModel=function(t){var n=new e(t);return n},e.findSourceTableByRef=function(e,t){return n.find(e,function(e){return e.id===t})},e.findFieldByRef=function(e,t){for(var i,r=0;r<e.length&&!(i=n.find(e[r].fields,function(e){return e.id===t}));r++);return i},e.getSourceFields=function(t,n){var i=[];return t.forEach(function(t){n.forEach(function(n){var r=new e(n),o=r.getField(t);o&&i.push({field:o,sourceQuery:n})})}),i},e.findTransformRelatedFields=function(t,n){var i=[];return n.forEach(function(n){var r=n.field,o=new e(n.sourceQuery),a=o.getTransformRelatedFields(r,t,!1);if(a.length>0)i.push.apply(i,a);else if(r.sourceFieldRefs){var s=e.getSourceFields(r.sourceFieldRefs,n.sourceQuery.sourceQueries),l=e.findTransformRelatedFields(t,s);if(l.length>0){var u=o.findReferencingField(l);u&&i.push(u)}}}),i},e.prototype.getSourceFields=function(t){if(this.data.sourceQueries){var n=this.getField(t),i=new a.QueryField(n),r=i.getSourceFieldReferences();return e.getSourceFields(r,this.data.sourceQueries)}return[]},e.prototype.createTransformField=function(e,t,o){var a={id:r.LoadModelIds.generateUUID(),type:i.DSMTypes.QueryTransformField.name,name:e,transformations:[],classifications:o?[o]:[]};return t&&a.transformations.push(n.clone(t)),this.fields.push(a),this.setUpdateStatus(),a},e.prototype.createField=function(e,t){var n={id:r.LoadModelIds.generateUUID(),type:t,name:e};return this.fields.push(n),this.setUpdateStatus(),new a.QueryField(n)},e.prototype.deleteTransformField=function(e){var t=this.findTransformField(e);l.QueryGenerator.deleteField(this,t),this.setUpdateStatus()},e.prototype.createCalculatedField=function(e,t){var n={id:r.LoadModelIds.generateUUID(),type:i.DSMTypes.QueryExpressionField.name,name:e,expression:t};this.fields.push(n),this.setUpdateStatus()},e.prototype.updateCalculatedField=function(e,t,n){var i=this.findCalculatedField(e);if(!i)throw Error("field not found");i.name=t,i.expression=n,this.setUpdateStatus()},e.prototype.deleteCalculatedField=function(e){var t=this.findCalculatedField(e);l.QueryGenerator.deleteField(this,t),this.setUpdateStatus()},e.prototype.setMarkForDeletion=function(){this.data.status=e.Statuses["delete"],this.data.sourceQueries&&this.data.sourceQueries.forEach(function(t){t.status=e.Statuses["delete"]})},e.prototype.addFieldTag=function(e,t){var n=this.getField(e);n.tags?n.tags.push(t):n.tags=[t]},e.prototype.removeFieldTag=function(e,t){var n=this.getField(e);n.tags=n.tags?n.tags.filter(function(e){return e!==t}):void 0},e.prototype.setFieldTag=function(e,t){var n=this.getField(e);n.tags=t},e.prototype.isMarkedForDeletion=function(){return this.data.status===e.Statuses["delete"]},e.prototype.isInSynchWithMaster=function(){return this.data.status===e.Statuses.inSynchWithMaster},e.prototype.setUpdateStatus=function(){this.isAdded()||(this.data.status=e.Statuses.update),this.data.sourceQueries&&this.data.sourceQueries.forEach(function(t){t.status!==e.Statuses.add&&(t.status=e.Statuses.update)})},e.prototype.isConcatenatedTable=function(){return this.data.type===i.DSMTypes.ConcatenationQuery.name||this.data.type===i.DSMTypes.ForcedConcatenationQuery.name},e.prototype.isQueryTable=function(){return this.data.type===i.DSMTypes.Query.name},e.prototype.isCrossTable=function(){return this.data.type===i.DSMTypes.CrossTableQuery.name},e.prototype.getStatus=function(){return this.data.status},e.prototype.setStatusAdded=function(){this.data.status=e.Statuses.add,this.data.sourceQueries&&this.data.sourceQueries.forEach(function(t){t.status=e.Statuses.add})},e.prototype.isAdded=function(){return this.data.status===e.Statuses.add},e.prototype.isUpdated=function(){return this.data.status===e.Statuses.update},e.prototype.resetStatus=function(){this.data.status=e.Statuses.inSynchWithMaster,this.data.sourceQueries&&this.data.sourceQueries.forEach(function(t){t.status=e.Statuses.inSynchWithMaster})},e.prototype.isFieldNameInUse=function(e){return n.find(this.getFields(),function(t){return t.name===e})},e.prototype.getFieldByName=function(e){return n.find(this.getFields(),function(t){return t.name===e})},e.prototype.generateUniqueFieldName=function(e){for(var t=e,n=0;this.isFieldNameInUse(t);)n++,t=e+"_"+n;return t},e.prototype.isDirty=function(){return!(void 0===this.data.status||this.data.status===e.Statuses.inSynchWithMaster)},e.prototype.rename=function(e){this.data.name=e,this.setUpdateStatus()},e.prototype.getFields=function(){return this.data.fields},e.prototype.getField=function(e){return n.find(this.getFields(),function(t){return t.id===e})},e.prototype.updateFieldTransformation=function(e,t,n,i,r){var o=this.getField(t),a=new s.TransformationRecommendationUtil(this,e,r);a.updateTransformation(o,n,i)},e.prototype.deleteFieldTransformations=function(e,t){var n=this,r=this.getField(e),a=new o.LoadModelUtils(this);r.transformations&&(r.transformations.forEach(function(t){if(t.op===i.DSMTypes.Transformations.lookupGeoInfo){var r=a.findCorrespondingTransformedField(e,i.DSMTypes.Transformations.lookupGeoInfo);r&&n.deleteTransformField(r.id)}}),r.transformations=[]),r.classifications=["dimension"]},e.prototype.setFieldSplit=function(e,t,n){this.addTransformation(e,t,i.DSMTypes.Transformations.fieldSplit,n)},e.prototype.setOrdinal=function(e,t){this.addTransformation(e,e,i.DSMTypes.Transformations.defineOrder,t)},e.prototype.setMapping=function(e,t){this.addTransformation(e,e,i.DSMTypes.Transformations.mapValues,t)},e.prototype.setBucketing=function(e,t,n){var r={},o=!0;n&&n.buckets&&(o=!1,r.intervals=n.buckets),n&&n.bucketMethod&&(o=!1,r.method=n.bucketMethod),o&&(r=void 0),this.addTransformation(e,t,i.DSMTypes.Transformations.bucketed,r)},e.prototype.getBucketingAppliesTo=function(e){var t,n=this.getField(e);if(n.transformations){var r=n.transformations.filter(function(e){return e.op===i.DSMTypes.Transformations.bucketed});if(r&&r.length>0){var o=r[0].appliedTo[0];t=this.getField(o)}}return t},e.prototype.hasOrdinal=function(e){var t=this.getField(e);if(t.transformations){var n=t.transformations.filter(function(e){return e.op===i.DSMTypes.Transformations.defineOrder});return n.length>0}return!1},e.prototype.setFieldType=function(e,t,n,r,o){var a=this.getField(e);"noclassification"===t?(a.classifications=a.classifications||[],a.classifications=a.classifications.filter(function(e){return"date"!==e&&"timestamp"!==e})):t&&(a.classifications=[t]),this.addTransformation(e,e,i.DSMTypes.Transformations.interpretValues,{name:t,inputPattern:n,displayPattern:r,sourceFieldType:o})},e.prototype.getSourceQueries=function(){return this.data.sourceQueries||[]},e.prototype.addSourceQuery=function(e){this.data.sourceQueries||(this.data.sourceQueries=[]),this.data.sourceQueries.push(e)},e.prototype.getId=function(){return this.data.id},e.prototype.getType=function(){return this.data.type},e.prototype.getSources=function(){return this.data.sourceQueries},e.prototype.getTableRefs=function(){return this.isConcatenatedTable()||this.isCrossTable()?this.getSourceQueries().map(function(e){return e.tableRef}):[this.data.tableRef]},e.prototype.getName=function(){return this.data.name},e.prototype.pruneFieldReferences=function(t){var n=this,r=[];if(this.data.tableRef){var o=e.findSourceTableByRef(t,this.data.tableRef);this.data.fields.forEach(function(t){if(t.fieldRef){var n=o?e.findFieldByRef([o],t.fieldRef):void 0;n&&n.selected||r.push(t)}})}else this.data.sourceQueries&&(this.data.sourceQueries.forEach(function(n){new e(n).pruneFieldReferences(t)}),this.data.fields.forEach(function(t){if(t.fieldRef||t.sourceFieldRefs){var i=[];t.fieldRef?i.push(t.fieldRef):t.sourceFieldRefs&&(i=t.sourceFieldRefs),i.forEach(function(o){e.findFieldByRef(n.data.sourceQueries,o)||(i.splice(i.indexOf(o),1),0===i.length&&r.push(t))})}}));r.forEach(function(e){var t=n.data.fields.indexOf(e);n.data.fields.splice(t,1)});var a=this.data.fields.filter(function(e){return e.type===i.DSMTypes.QueryTransformField.name||e.type===i.DSMTypes.QueryExpressionField.name}).length===this.data.fields.length;a&&this.data.fields.splice(0)},e.prototype.getFieldForSourceField=function(e){for(var t=0;t<this.data.fields.length;t++)for(var n=this.data.fields[t],i=0;n.sourceFieldRefs&&i<n.sourceFieldRefs.length;i++)if(n.sourceFieldRefs[i]===e)return n;return},e.prototype.getGeoRelatedFields=function(e,t){return this.getTransformRelatedFields(e,i.DSMTypes.Transformations.lookupGeoInfo,t)},e.prototype.getTransformRelatedFields=function(t,n,r){var o=[];if(this.fields.forEach(function(e){var r=new a.QueryField(e);e.type===i.DSMTypes.QueryTransformField.name&&r.getTransformation(n,t.id)&&o.push(e)}),0===o.length&&r&&(t.fieldRef||t.sourceFieldRefs)&&this.getSourceQueries()&&this.getSourceQueries().length>0){var s=e.getSourceFields(t.fieldRef?[t.fieldRef]:t.sourceFieldRefs,this.getSourceQueries()),l=e.findTransformRelatedFields(n,s);l.length>0&&(o=l)}return o},e.prototype.wasGeneratedByTransformation=function(t,n,i){var r=new a.QueryField(t),o=!1;if(!n||r.data.type===n){var s=i.some(function(e){return!!r.hasTransformation(e)||void 0});o=s}if(!o){var l=r.data.sourceFieldRefs;if(!l&&r.data.fieldRef&&(l=[r.data.fieldRef]),l&&l.length>0){var u=e.getSourceFields(l,this.getSourceQueries());o=u.some(function(t){var r=new e(t.sourceQuery);return r.wasGeneratedByTransformation(t.field,n,i)})}}return o},e.prototype.findReferencingField=function(e){for(var t,n=0;n<this.fields.length;n++){var i=new a.QueryField(this.fields[n]);if(i.references(e)){t=this.fields[n];break}}return t},e.prototype.findTransformField=function(e){return n.find(this.fields,function(t){return t.id===e&&t.type===i.DSMTypes.QueryTransformField.name})},e.prototype.findCalculatedField=function(e){return n.find(this.fields,function(t){return t.id===e&&t.type===i.DSMTypes.QueryExpressionField.name})},e.prototype._applyInterpretValueTransformation=function(e,t,i){var r=i.inputPattern,o=i.displayPattern,a=i.sourceFieldType,s=i.name;n.isEmpty(n.compact(r))?o&&(t.arguments={targetType:s,displayPattern:o},e.transformations=[t]):(t.arguments={targetType:s,patterns:r},e.transformations=[t],o&&(e.transformations[0].arguments.displayPattern=o),a&&(e.transformations[0].arguments.sourceFieldType=a))},e.prototype.addTransformation=function(e,t,n,r){var o=this.getField(e),a=this.getField(t||e),s={op:n,appliedTo:[a.id],arguments:{}},l=[];switch(o.transformations&&(l=o.transformations.filter(function(e){return e.op!==n})),n){case i.DSMTypes.Transformations.defineOrder:r&&r.length>0?(s.arguments={orderedValues:r},this.setUpdateStatus(),o.transformations=[s]):o.transformations=[];break;case i.DSMTypes.Transformations.mapValues:r&&r.length>0?(s.arguments={mapping:r},this.setUpdateStatus(),o.transformations=[s]):o.transformations=[];break;case i.DSMTypes.Transformations.bucketed:r?(s.arguments=r,o.transformations=[s]):o.transformations=[];break;case i.DSMTypes.Transformations.interpretValues:"noclassification"===r.name?o.transformations=[]:this._applyInterpretValueTransformation(o,s,r);break;case i.DSMTypes.Transformations.fieldSplit:r?(s.arguments=r,o.transformations=[s]):o.transformations=[]}l.length>0&&(o.transformations=o.transformations.concat(l))},e}();u.Statuses=i.DSMTypes.QueryStatus,t.TargetTableModel=u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!(i=[n,t,n(1064),n(993),n(151),n(439)],r=function(e,t,n,i,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.updateTransformation=function(e,t){var n=this.indexOfTransformation(e,r.DSMTypes.Transformations.lookupGeoInfo);n>=0?(e.transformations[n]=t,this.updateCorrespondingGeoField(e,t)||this.handleRecommendation(t)):(e.transformations=e.transformations||[],e.transformations.push(t),this.handleRecommendation(t))},t.prototype.handleRecommendation=function(e){var t=this.targetTable,n=this.loadModel,o=t.getField(e.appliedTo[0]),a=t.getField(e.appliedTo[1]);if(o&&a){var s=a.name,l=o.name,u=a;if(o.classifications&&-1!==o.classifications.indexOf("longitude")){var c=s;s=l,u=o,l=c}if(0===t.getTransformRelatedFields(u,r.DSMTypes.Transformations.geoPoint,!1).length){var d=i.LoadModelHelpers.generateUniqueFieldName(n,s+"_"+l,t.data.id,!0);t.createTransformField(d.name,e,"geoPoint")}}},t.prototype.updateCorrespondingGeoField=function(e,t){var n=this.findCorrespondingGeoField(e);return n&&(n.transformations=[t]),!!n},t.prototype.findCorrespondingGeoField=function(e){var t=new a.LoadModelUtils(this.targetTable);return t.findCorrespondingTransformedField(e.id,r.DSMTypes.Transformations.geoPoint)},t.prototype.indexOfTransformation=function(e,t){if(e.transformations)for(var n=0;n<e.transformations.length;++n)if(e.transformations[n].op===t)return n;return-1},t}(n.TransformationRecommendation);t.GeoPointRecommendation=s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!(i=[n,t,n(151),n(993),n(439),n(1064),n(1284)],r=function(e,t,n,i,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.updateTransformation=function(e,t){var i=this.indexOfTransformation(e,n.DSMTypes.Transformations.lookupGeoInfo);i>=0&&null===t?(this.removeCorrespondingGeoField(e),e.classifications=["dimension"],e.transformations.splice(i,1)):t&&(i>=0?(e.transformations[i]=t,this.updateCorrespondingGeoField(e,t)||this.handleRecommendation(t)):(e.transformations=e.transformations||[],e.transformations.push(t),this.handleRecommendation(t)),e.classifications=["cityAlias"===t.arguments.geoType?"city":"country"])},t.prototype.handleRecommendation=function(e){var t=this.determineGeoInfoFieldClassification(e.arguments.geoType),r=this.targetTable,o=r.getField(e.appliedTo);if(o&&0===r.getTransformRelatedFields(o,n.DSMTypes.Transformations.lookupGeoInfo,!1).length){var a=r.data.name+"."+s.Translator.GetString(this.locale,"DataManager.GeoInfo.ColumnSuffix",o.name),l=i.LoadModelHelpers.generateUniqueFieldName(this.loadModel,a,r.data.id,!0);r.createTransformField(l.name,e,t)}},t.prototype.removeCorrespondingGeoField=function(e){var t=this.findCorrespondingGeoField(e);t&&this.targetTable.deleteTransformField(t.id)},t.prototype.updateCorrespondingGeoField=function(e,t){var n=this.findCorrespondingGeoField(e);return n&&(n.transformations=[t],n.classifications=[this.determineGeoInfoFieldClassification(t.arguments.geoType)]),!!n},t.prototype.findCorrespondingGeoField=function(e){var t=new r.LoadModelUtils(this.targetTable);return t.findCorrespondingTransformedField(e.id,n.DSMTypes.Transformations.lookupGeoInfo)},t.prototype.determineGeoInfoFieldClassification=function(e){var t="geoPoint";return["countryAlias","countryCodeISO3","countryCodeISO2"].indexOf(e)>-1&&(t="geoPolygon"),t},t.prototype.indexOfTransformation=function(e,t){if(e.transformations)for(var n=0;n<e.transformations.length;++n)if(e.transformations[n].op===t)return n;return-1},t}(a.TransformationRecommendation);t.GeoLookupRecommendation=l}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!(i=[n,t,n(54),n(151),n(1064)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.updateTransformation=function(e,t){var r=-1;if(e.transformations){var o=n.find(e.transformations,function(e){return e.op===i.DSMTypes.Transformations.interpretValues});r=n.indexOf(e.transformations,o)}r>=0&&null===t?(e.classifications=[],e.transformations.splice(r,1)):t&&(r>=0?e.transformations[r]=t:(e.transformations=e.transformations||[],e.transformations.push(t)),e.classifications=[t.arguments.targetType])},t.prototype.handleRecommendation=function(e){},t}(r.TransformationRecommendation);t.DateTimeRecommendation=a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(992),n(606),n(54)],r=function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.data=e,e.id||this.updateId()}return e.create=function(t){return new e(t)},e.prototype.getSourceName=function(){return this.data.databaseName||this.data.dataconnectorName||""},e.prototype.isFiltered=function(){var e=this.getFilter(),t=!1;return e&&(t=""!==e.filterClause),!t&&this.data.filter&&(t=!0),t},e.prototype.getFilter=function(){return this.data.loadProperties&&this.data.loadProperties.filterInfo&&this.data.loadProperties.filterInfo},e.prototype.setLoadFilter=function(e){this.data.filter=e},e.prototype.getLoadFilter=function(){return this.data.filter},e.prototype.isNothingSelected=function(){for(var e in this.data.fields)if(this.data.fields[e].selected)return!1;return!0},e.prototype.setFieldSelected=function(e,t){this.data.state="modified",this.getOrCreateFieldByName(e).selected=t},e.prototype.addField=function(e,t,n){var i=this.createFieldModel(e);i.selected=n,this.data.fields.splice(t,0,i)},e.prototype.isFieldSelected=function(e){return this.getOrCreateFieldByName(e).selected},e.prototype.selectedFieldsCount=function(){var e=0;for(var t in this.data.fields)this.data.fields[t].selected&&e++;return e},e.prototype.fieldsCount=function(){return this.data.fields.length},e.prototype.changeFieldAlias=function(e,t){this.data.state="modified";for(var n in this.data.fields)if(this.data.fields[n].alias===e){this.data.fields[n].alias=t||this.data.fields[n].name;break}},e.prototype.setFieldAlias=function(e,t){t||(t=e),this.data.state="modified";for(var n in this.data.fields)if(this.data.fields[n].name===e){this.data.fields[n].alias=t;break}},e.prototype.getFieldQualifiedName=function(e){return this.cleanUpQualifiedNamePart(this.data.tableAlias)+"."+this.cleanUpQualifiedNamePart(e)},e.prototype.qualifyField=function(e){this.data.state="modified";for(var t in this.data.fields)if(this.data.fields[t].name===e){this.data.fields[t].alias=this.getFieldQualifiedName(this.data.fields[t].name);break}},e.prototype.getOriginalFieldNameFromAlias=function(e){for(var t in this.data.fields)if(this.data.fields[t].alias===e)return this.data.fields[t].name},e.prototype.getFieldAlias=function(e){for(var t in this.data.fields)if(this.data.fields[t].name===e)return this.data.fields[t].alias||this.data.fields[t].name},e.prototype.isFieldNameInUse=function(e){for(var t in this.data.fields){var n=this.data.fields[t].alias||this.data.fields[t].name;if(n===e)return!0}return!1},e.prototype.setFormatSpec=function(e){this.data.formatSpec=e},e.prototype.setLoadSelectStatement=function(e){this.data.loadSelectStatement=e},e.prototype.setSimpleSelectStatement=function(e){this.data.selectStatement=e},e.prototype.addSelectLoadProperty=function(e){this.data.loadProperties||(this.data.loadProperties={}),this.data.loadProperties.selectInfo=e},e.prototype.setFileFormatSettings=function(e){this.data.fileFormatSettings=e},e.prototype.getTableAlias=function(){return void 0===this.data.tableAlias||""===this.data.tableAlias?this.data.tableName:this.data.tableAlias},e.prototype.getFieldById=function(e){var t=r.findWhere(this.data.fields,{id:e});return t},e.prototype.pruneOtherFields=function(e){var t,n={};for(t in e)n[e[t]]=!0;for(t in this.data.fields){var i=this.data.fields[t];n[i.name]||(i.selected=!1)}},e.prototype.setTableGroupId=function(e){this.data.tableGroupId=e},e.prototype.getTableGroupId=function(){return this.data.tableGroupId},e.prototype.setLockSameGroupAssociations=function(e){this.data.lockSameGroupAssociations=e},e.prototype.registerFieldSourceRename=function(e,t,n){var i=this.getFieldByName(e),r=this.getFieldByName(t);if(i&&r){var o=this.data.fields.indexOf(i);-1!==o&&this.data.fields.splice(o,1),i.alias!==i.name&&(r.alias=i.alias),r.selected=n}else i?(i.alias===i.name&&(i.alias=t),i.name=t,i.selected=n):r||this.getOrCreateFieldByName(t)},e.prototype.markForRemoval=function(){for(var e in this.data.fields)this.data.fields[e].selected=!1},e.prototype.updateFromOutputtedTableModel=function(e){this.data.tableName=e.tableName,this.data.fields=e.fields,this.data.tableGroupId=e.tableGroupId,this.data.loadProperties=e.loadProperties,this.data.connectorProperties=e.connectorProperties,this.data.selectStatement=e.script,this.data.boxType=e.scriptType},e.prototype.serialize=function(){this.updateId(),this.data.tableAlias=this.getTableAlias();var e=i.SharedUtil.extend(!0,{},this.data);return delete e.state,e},e.prototype.isNew=function(){return!!this.data.state},e.prototype.updateId=function(){var e=this;this.data.id=n.LoadModelIds.createTableId(this.data.tableAlias||this.data.tableName),this.data.fields.forEach(function(t){t.id||(t.id=n.LoadModelIds.createFieldId(e.data.id,t.name))})},e.prototype.setCachingEnabled=function(e,t){this.data.caching?(this.data.caching.enabled=e,this.data.caching.type=t):this.data.caching={enabled:e,type:t}},e.prototype.getByNameOrCreate=function(e,t,n){for(var i in e)if(e[i].name===t)return e[i];var r;return n&&(r=n(t),e.push(r)),r},e.prototype.createFieldModel=function(e){var t=e;e||(t=this.generateEmptyFieldAlias());var i={id:n.LoadModelIds.createFieldId(this.data.id,e),name:e,alias:t,selected:!1};return i},e.prototype.generateEmptyFieldAlias=function(){for(var e,t=1,n=!1;!n;)e="Empty-"+t,this.isFieldNameInUse(e)?t++:n=!0;return e},e.prototype.getOrCreateFieldByName=function(e){return this.getByNameOrCreate(this.data.fields,e,this.createFieldModel.bind(this))},e.prototype.getFieldByName=function(e){return this.getByNameOrCreate(this.data.fields,e)},e.prototype.cleanUpQualifiedNamePart=function(e){return e.replace(/[\.]/g,"..")},e}();t.InputTableModel=o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(54)],r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.data=e,this.name=t}return e.prototype.getName=function(){return this.name},e.prototype.getFieldsReferencing=function(e){var t=new Array;return this.data.forEach(function(n){n.tableId===e.id&&t.push(n)}),t},e.prototype.replaceFieldReferences=function(e,t,n){for(var i=this.data.length-1;i>=0;i--){var r=this.data[i];r.tableId===e.tableId&&r.fieldId===e.fieldId&&(this.hasMappingForTable(t.id)?this.data.splice(i,1):(r.tableId=t.id,r.fieldId=n.id))}},e.prototype.getUniqueTableReferenceCount=function(){var e={};return this.data.forEach(function(t){e[t.tableId]=!0}),Object.keys(e).length},e.prototype.hasMappingForTable=function(e){var t=n.findWhere(this.data,{tableId:e}),i=!1;return t&&(i=!0),i},e}();t.Association=i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(1288),n(54)],r=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.scratchModel=e,this.targetModel=n?t.rawClone():t}return e.prototype.update=function(e,t,i){this.addTables(e);var r=this.copyAndPruneTables(t,e,i);return n.DSFieldsQualifications.qualifyDuplicatedFieldNames(this.scratchModel,this.targetModel),r},e.prototype.setUserScriptConnectionMetadata=function(e){var t={name:"script",id:"",type:{provider:"script",type:"",displayName:"",connectDialog:"",selectDialog:"",connectorMain:"",needsConnect:!1,isStandardConnector:!0},typeName:"script",privileges:["read","update","delete"],canDelete:!0,sourceConnectorID:"",connectionString:""},n={dbusage:!1,ownerusage:!1,dbfirst:!1,specialchars:"",dbseparator:"",ownerseparator:"",quotesuffix:"",quoteprefix:"",quotesuffixfordoublequotes:"",quoteprefixfordoublequotes:"",keywords:[]};return e.setMetadataModelForConnection(t,n),t},e.prototype.addTables=function(e){var t=this;e.tables.forEach(function(e){if("ScriptTable"===e.sourceType){var n="script",i="",r=e.name,o=void 0,a=t.setUserScriptConnectionMetadata(t.scratchModel),s=t.scratchModel.getOrCreateTableModelByDatabasePath(a,n,i,r,o);s.setCachingEnabled(!1,""),e.fields.forEach(function(e){s.setFieldSelected(e.name,!0)})}})},e.prototype.addChangeNotification=function(e,t,n,r){if("new"===r){var o=i.findWhere(n["new"],{table:e});o||(o={table:e},void 0!==t?n.modified.push(o):n["new"].push(o))}else{var o=i.findWhere(n.removed,{table:e});o||(o={table:e,fields:[]}),t?(-1!==o.fields.indexOf(t)&&o.fields.push(t),n.modified.push(o)):n.removed.push(o)}},e.prototype.copyAndPruneTables=function(e,t,n){var r=this,o={new:[],removed:[],modified:[]};this.scratchModel.tableModels.length>0&&this.setUserScriptConnectionMetadata(this.targetModel),this.scratchModel.tableModels.forEach(function(t){var n=r.targetModel.getTableModelByDatabasePath(t.data.connectionInfo,t.data.databaseName,t.data.ownerName,t.data.tableName);if(n){for(var a=n.data.fields,s=a.length-1;s>=0;s--){var l=i.findWhere(t.data.fields,{name:a[s]});l||(r.addChangeNotification(t.data.tableName,a[s].name,o,"remove"),a.splice(s,1))}t.data.fields.forEach(function(e){var a=i.findWhere(n.data.fields,{name:e.name});a||(r.addChangeNotification(t.data.tableName,e.name,o,"new"),n.setFieldSelected(e.name,!0))})}else r.addChangeNotification(t.data.tableName,void 0,o,"new"),r.targetModel.tableModels.push(t),n=t;n.setSimpleSelectStatement(e.generateLoadSelect(n)),n.addSelectLoadProperty({residentInfo:{isResident:!0}})});for(var a=this.targetModel.tableModels,s=function(e){var t=a[e];if("script"===t.data.connectionInfo.typeName){var s=i.findWhere(n,{table:t.data.tableName});if(s){for(var u=t.data.fields,c=u.length-1;c>=0;c--)-1===s.fields.indexOf(t.data.fields[c].name)&&(l.addChangeNotification(t.data.tableName,t.data.fields[c].name,o,"remove"),t.data.fields.splice(c,1));s.fields.forEach(function(e,n){i.findWhere(u,{name:e})||(t.addField(e,n,!0),r.addChangeNotification(t.data.tableName,e,o,"new"))})}else a[e].data.fields.length>0&&(l.addChangeNotification(t.data.tableName,void 0,o,"remove"),a[e].data.fields.length=0)}},l=this,u=a.length-1;u>=0;u--)s(u);return o},e}();t.ScriptTableUpdater=r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e}();n.template="{{#each calculatedFields}}\nLOAD *, {{expr}} AS [{{alias}}];\n{{/each}}\n{{#each inject.prefix}}\n{{.}}\n{{/each}}\n{{#if dependencies.keep.enabled}}\nKEEP ([{{dependencies.keep.model.tableName}}])\n{{/if}}\nLOAD {{load-field-list fields}}\nFROM {{load-file-from-lib dataconnectorName databaseName}}\n{{formatSpec}};\n",n.type="load-file",t.LoadFile=n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e}();n.template="LIB CONNECT TO [{{dataconnectorName}}];\n{{#each calculatedFields}}\n\tLOAD *, {{expr}} AS [{{alias}}];\n{{/each}}\n{{#each inject.prefix}}\n{{.}}\n{{/each}}\n{{#if dependencies.keep.enabled}}\nLEFT KEEP ([{{dependencies.keep.model.tableAlias}}])\n{{/if}}\nLOAD {{load-field-list fields}};\nSQL SELECT {{sql-field-list fields connectionInfo}}\nFROM {{database-owner-table databaseName ownerName tableName connectionInfo.dbInfo}};",n.type="load-sql",t.LoadSql=n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e}();n.template="//Joined {{dependencies.from.model.tableAlias}} with {{dependencies.to.model.tableAlias}}",n.type="join",t.Join=n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e}();n.type="newGeneration",n.template="/*new version of a table {{tableName}}: {{key}}. Depends on transformation {{dependencies.parent.key}}. \n New fields list:\n {{load-field-list fields}} \n*/",t.NewGeneration=n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t,n(1201),n(1153)],r=function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.InitHandlebars=function(){n.registerHelper("comma-separated",function(e,t){var n="";if(e)for(var i=0,r=e.length;r>i;i++){var o=t.fn(e[i]);o.length>0&&"\n"===o[o.length-1]&&(o=o.substring(0,o.length-1)),o.length>0&&"\r"===o[o.length-1]&&(o=o.substring(0,o.length-1)),n+=o,r-1>i&&(n+=",\n\t")}return n}),n.registerHelper("quote",function(t){return e.qouteScript(t)}),n.registerHelper("load-file-from-lib",function(t,n){return n?e.qouteScript("lib://"+t+"/"+n):e.qouteScript("lib://"+t)}),n.registerHelper("sql-quote",function(e,t){return t.quoteprefix+e+t.quotesuffix}),n.registerHelper("sql-field-list",function(t,n){var r=i.TemplateRunner.render(e.SqlFieldListTemplate,{fields:t,connectionInfo:n});return r}),n.registerHelper("load-field-list",function(t){var n=i.TemplateRunner.render(e.LoadFieldListTemplate,{fields:t});return n}),n.registerHelper("database-owner-table",function(e,t,n,i){function r(e){return i.quoteprefix+e+i.quotesuffix}var o="",a="ACCESS"===(i.dbmsname||"").toUpperCase();return i.dbfirst?(i.dbusage&&!a&&e&&(o+=r(e)+i.dbseparator),i.ownerusage&&t&&(o+=r(t)+i.ownerseparator),o+=r(n)):(i.ownerusage&&t&&(o+=r(t)+i.ownerseparator),o+=r(n),i.dbusage&&e&&(o+=i.dbseparator+r(e))),o})},e.qouteScript=function(e){return e?-1!==e.indexOf("[")||-1!==e.indexOf("]")?'"'+e+'"':"["+e+"]":e},e}();r.LoadFieldListTemplate="{{#comma-separated fields}}\n{{#if selected}}{{quote name}}{{#alias}} AS {{quote .}}{{/alias}}{{/if}}\n{{/comma-separated}}",r.SqlFieldListTemplate="{{#comma-separated fields}}\n {{#if selected}}{{sql-quote name ../connectionInfo.dbInfo}}{{/if}}\n{{/comma-separated}}",t.TemplateHelpers=r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(92),n(379),n(1695),n(253),n(1841),n(262),n(90),n(91),n(1284),n(199)],r=function(e,t,n,i,r,o,a,s,l,u,c){var d={};var f=false;function p(e){var t=e.error;var n;if(t.dpsError&&!t.dpsHandled){t instanceof Object&&t.message&&(n=t.parameters?l.get(t.name,t.parameters):l.get(t.name));if(!f){f=true;a.show({title:l.get("DataManager.Error.Title"),message:n}).closed.then(function(){f=false})}}throw e}var h=t.extend("DataSpaceInterface",{dps:null,waitForOpen:null,init:function t(o){var a=this;this.errorHandler=o;this.dataPrepProcessor=new i;this.waitForOpen=new e;u.Translator.loadLanguageBundle(l.localeDetected,function(){n.get().then(function(e){a.dps=e;r.getLoadModel().then(function(e){a.loadModel=e;a.waitForOpen.resolve(a)})},function(e){a.errorHandler(e);a.waitForOpen.reject(e)})})},subscribe:function e(t,n){this.waitForOpen.promise.then(function(){this.dps.subscribe(t,n)}.bind(this))},unsubscribe:function e(t,n){this.waitForOpen.promise.then(function(){this.dps.unsubscribe(t,n)}.bind(this))},analyzeModel:function e(t){var n=this;return o.extend(t||n.loadModel).then(function(e){return n.dps.analyzeModel(e).then(function(e){return e.result})}).catch(n.errorHandler)},getAndApplyClassificationData:function e(t,n){var i=this;var a=t||i.loadModel;return o.extend(a).then(function(e){var t={};t.detectAssociations=false;return i.dps.getRecommendations(e,t).then(function(e){e.result&&e.result.classificationResult&&i.dataPrepProcessor.applyLoadModelClassification(a,e.result.classificationResult,n)}).then(function(){return r.updateProperties(a.serialize())})}).catch(i.errorHandler)},updateSources:function e(t,n){var i=this;n=n||[];return o.extend(t||i.loadModel).then(function(e){return i.dps.updateSources(e,n,{}).then(function(e){return e.result})}).catch(i.errorHandler)},getTargetTables:function e(t,n){n=void 0!==n&&n;var i=this;t||(t=false);return o.extend(i.loadModel).then(function(e){return i.dps.getTargetTables(e,{forceReload:t,noData:n}).then(function(e){return i.dataPrepProcessor.processTargetTablesResponse(e.result,i.loadModel)})}).catch(i.errorHandler)},warmUpDPS:function e(t){t=void 0!==t&&t;var n=this;return o.extend(n.loadModel).then(function(e){return n.dps.warmUpDPS(e,{forceReload:false,noData:t}).then(function(e){return n.dataPrepProcessor.processTargetTablesResponse(e.result)})}).catch(n.errorHandler)},getTableFields:function e(t){var n=this;return o.extend(n.loadModel).then(function(e){return n.dps.getTableFields(e,t,{}).then(function(e){return e.result})}).catch(n.errorHandler)},getTargetTablePreview:function e(t,n){n=void 0!==n&&n;var i=this;return o.extend(i.loadModel).then(function(e){return i.dps.getTablePreview(e,t,{noData:n}).then(function(e){e.result.fields||e.result.sourceQueries&&(e.result.fields=e.result.res.result.sourceQueries[0].fields);return e.result})}).catch(i.errorHandler)},getLoadScript:function e(t,n,i){n=void 0!==n&&n;var r=this;var a={noData:n};a.useCache=!!i;return o.extend(t||r.loadModel).then(function(e){return r.dps.getLoadScript(e,a).then(function(e){return e.result})}).catch(r.errorHandler)},getVisRecommendations:function e(t,n){var i=this;return o.extend(n||i.loadModel).then(function(e){return i.dps.getVisRecommendations(t,e).then(function(e){return e.result})}).catch(i.errorHandler)},syncLoadModel:function e(t){var n=this;return o.extend(t||n.loadModel).then(function(e){return n.dps.syncLoadModel(e).then(function(e){return e.result})}).catch(n.errorHandler)},adaptVisualization:function e(t,n){var i=this;return o.extend(n||i.loadModel).then(function(e){return i.dps.adaptVisualization(t,e).then(function(e){return e.result})}).catch(i.errorHandler)},getRecommendations:function e(t,n){var i=this;var r={detectAssociations:!!n};t&&(r.customAssociationsTable=t);c.ASSOCIATE&&(r["topics"]=["report"]);r.version=2;return o.extend(i.loadModel).then(function(e){return i.dps.getRecommendations(e,r).then(function(e){var n=t?0:.5;return i.dataPrepProcessor.processGetRecommendationsResponse(e,n)})}).catch(i.errorHandler)},getDataPreview:function e(t){var n=this;return o.extend(n.loadModel).then(function(e){return n.dps.getDataPreview({tableName:t,numberOfRows:20,syntheticMode:false,dataPrepModel:e}).then(function(e){return e})}).catch(n.errorHandler)},getRestService:function e(){return n.get().then(function(e){return e.getRestService()})}});h.get=function(e,t){var n=void 0!==t?t:p;e=e||s.getParameterByName("app");var i=d[e.toLowerCase()]||new h(n);return i.waitForOpen.promise};h.GetSerializedLoadModel=function(){return n.isRunning().then(function(){return n.get().then(function(e){return e.getRestService().getSerializedLoadModel()})})};return h}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(93),n(89),n(135)],r=function(e,t,n,i){e.service("qvDataManagerAppSessionService",[function(){var e;var r=i.isSuffixInUse("noData");var o=false;var a=r;function s(){t.getApp().then(function(e){e.getLayout().then(function(t){if(!o&&!t.qIsOpenedWithoutData){o=true;a=false;e.Invalidated.unbind(s)}})})}r&&t.getApp().then(function(e){e.Invalidated.bind(s)});var l={getDefaultTimeFormat:function i(){if(e)return e;e=t.getApp().then(function(e){return e.getScript().then(function(t){var i=/DateFormat='(.*)';/g;var r=/TimestampFormat='(.*)';/g;var o=i.exec(t.qScript);var a;var s;o&&(a=o[1]);o=r.exec(t.qScript);o&&(s=o[1]);return a&&s?n.resolve({dateFormat:a,timestampFormat:s}):e.getEmptyScript().then(function(e){a||(a=i.exec(e)[1]);s||(s=r.exec(e)[1]);return{dateFormat:s,timestampFormat:s}})})});return e},isNoData:function e(){return a}};return l}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{EQUAL:{value:"="},GREATER_THAN:{value:">"},LESS_THAN:{value:"<"},GREATER_THAN_EQUAL:{value:">="},LESS_THAN_EQUAL:{value:"<="},AND:{value:"and"},OR:{value:"or"},CONTAINS:{value:"contains"}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(48),n(1868),n(264)],r=function(e,t,n,i){t.directive("dsGridInput",["luiTooltip",function(t){return{restrict:"E",template:n,scope:{validate:"=",model:"=",context:"=",inputId:"@",errorState:"=",editable:"=",modifiedCallback:"=",inputClass:"@",focusCallback:"=",fieldType:"=",autoExpand:"=?"},link:function n(r,o){var a,s,l,u={template:i.template,controller:i.controller,input:{item:"",style:{}},alignTo:o.find(".ds-input")[0],dock:"bottom"};r.hasFocus=false;r.realErrors=false;r.isCalculated="QueryExpressionField"===r.fieldType;r.$watch("model",p);var c=r.$on("straight-table-virtual-scroll",function(e,t){if(r.hasFocus&&t&&"data-manager-editor-straight-table"===t.id){o.find(".ds-input").blur();r.hasFocus=false}});r.$on("$destroy",function(){c()});function d(){l&&l.close()}function f(e){u.input.item=e[0].msg;l=t.show(u)}function p(){r.autoExpand&&r.$evalAsync(function(){var e=o.find("input");var t=parseInt(e.attr("size"));var n=e.val().length;n>0&&(n>=t?e.attr("size",n+1):e.attr("size",n))})}r.onChange=function(){r.field&&(r.field.isDirtyLocally=true);d();a=r.model===s?[]:r.validate(r.model,r.context);r.errorState=false;if(a.then)a.then(function(e){if(e.length){r.errorState=e.some(function(e){return"error"===e.type});f(e)}});else if(a.length){r.errorState=a.some(function(e){return"error"===e.type});f(a)}};r.onFocus=function(){r.hasFocus=true;r.focusCallback&&r.focusCallback(s,r.model,r.inputId);s=e.copy(r.model)};r.onBlur=function(t,n){d();if(r.errorState){r.model=e.copy(s);r.onChange()}else{r.modifiedCallback&&s!==r.model&&r.modifiedCallback(s,r.model);s=e.copy(r.model)}n&&r.focusCallback?r.focusCallback(null):t&&void 0!==t.relatedTarget&&r.focusCallback&&r.focusCallback(null)};r.onKeyDown=function(t){t.stopPropagation();switch(t.which){case 27:r.model=e.copy(s);r.onChange();case 9:case 13:setTimeout(function(){o.find("input").blur()},0);break;default:}}}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(54),n(91)],r=function(e,t,n){function i(i){var r="fixedwidthguicontainer";var a="fixedwidthguicanvas";var s=10;var l=20;var u=20;var c=0;var d=325;var f="#000000";var p="#009900";var h="#9B9B9B";var v="#FF0000";var m;var g;var b=[];var y=[];var x;var w=i;function S(t){var n=e("#"+a);if(0===b.length){n.hide();return}var i=25*(b.length+1);var o=0;for(var s in b){var l=b[s];o=Math.max(o,l.length)}o=10*o+50;o=Math.max(d,o);var u='<canvas id="'+a+'" width="'+o+'" height="'+i+'"></canvas>';e("#"+r).html(u).ready(function(){setTimeout(function(){m=document.getElementById(a);if(!m)return;g=m.getContext("2d");g.font="12px monospace";m.addEventListener("mousemove",C);m.addEventListener("click",E);m.addEventListener("mouseout",q);n.show();t&&t()},0)})}S();function C(e){T(e)}function E(e){var t=I(m,e);var n=k(t.x);_(n);if(1===n)return;w&&w(y);x=e;T(x)}function q(){x=void 0;T()}function _(e){var t=[],n=false;for(var i in y)y[i]===e?n=true:t.push(y[i]);n||t.push(e);if(0===t.length)y=[1];else{t.sort(function(e,t){return e-t});y=t}}function T(e){if(!g)return;g.clearRect(0,0,m.width,m.height);D();for(var n in y){var i=y[n];var r=O(i);L(r,h)}if(e){var o=I(m,e);var a=k(o.x);var s=!t.contains(y,a);A(s,a,o.x,o.y,m.width);var l=O(a);L(l,s?p:v)}}function k(e){return Math.round(e/s)+1}function O(e){var t=(e-1)*s;t=Math.min(t,m.width);return t}function D(){g.fillStyle=f;for(var e in b){var t=b[e];for(var n=0;n<t.length;n++){var i=t.charAt(n);g.fillText(i,2+10*n,l+25*e)}}}function A(e,t,i,r,o){var a=330;var s=o-i;if(s<a){i-=a;i<0&&(i=-5)}var l=n.get("scripteditor.fixedwidth.delimiter."+(e?"add":"remove"),t);g.beginPath();g.rect(u+i,c+r,20+7*l.length,30);g.fillStyle="white";g.fill();g.lineWidth=1;g.strokeStyle=e?p:v;g.stroke();g.fillStyle=e?p:v;g.fillText(l,u+10+i,c+20+r)}function I(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}function L(e,t){g.setLineDash&&g.setLineDash([6,3]);g.beginPath();g.moveTo(e+.5,0);g.lineTo(e+.5,m.height);g.strokeStyle=t;g.lineWidth=1;g.stroke()}this.setText=function(e){if(e.length>0){b=e;S(function(){T(x)})}};this.setDelimiters=function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error('Delimiters is not an array, but a "'+o(e)+'":'+e);for(var n in e){var i=e[n];if(!t.isNumber(i))throw new Error(i+" is not a Number.")}y=e;T(x)}}function r(e){return new i(e)}return{invoke:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n=u(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function u(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;return v(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=function(e){m(t,e);function t(e){var n;c(this,t);n=p(this,h(t).call(this,e));n.focus=n.focus.bind(v(n));return n}f(t,[{key:"focus",value:function e(){this.element.focus()}},{key:"render",value:function e(){var t=this;var n=this.props,o=n.children,a=n.className,u=n.variant,c=n.size,d=n.block,f=n.rounded,p=n.active,h=l(n,["children","className","variant","size","block","rounded","active"]);var v=(0,r.luiClassName)("button",{className:a,modifiers:{variant:u,size:c,block:d,rounded:f},states:{active:p}});return i.default.createElement("button",s({ref:function e(n){t.element=n},className:v},h),o)}}]);return t}(i.Component);var y=b;t.default=y;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=o(n(1089));function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}var s=function e(t){return i.default.createElement(r.default,a({className:"lui-button__icon"},t))};var l=s;t.default=l;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n=s(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function s(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var l=function e(t){var n=t.children,r=a(t,["children"]);return i.default.createElement("span",o({className:"lui-button__text"},r),n)};var u=l;t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return o.apply(this,arguments)}var a=function e(t){return i.default.createElement("span",o({className:"lui-button__caret  lui-caret"},t))};var s=a;t.default=s;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(1366));var r=o(n(1367));function o(e){return e&&e.__esModule?e:{default:e}}i.default.Button=r.default;var a=i.default;t.default=a;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=s(t,["className","children"]);var u=(0,r.luiClassName)("buttongroup",{className:n,props:l});return i.default.createElement("div",a({},l,{className:u}),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=o(n(1009));function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=void 0===n?"":n,l=t.children,u=s(t,["className","children"]);var c="lui-buttongroup__button  ".concat(o).trim();return i.default.createElement(r.default,a({},u,{className:c}),l)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(1369));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.children,o=t.className,l=t.title,u=t.htmlFor,c=t.active,d=t.variant,f=s(t,["children","className","title","htmlFor","active","variant"]);var p=(0,r.luiClassName)("checkbox",{className:o,states:{active:c},modifiers:{variant:d}});return i.default.createElement("label",{htmlFor:u,title:l,className:p},i.default.createElement("input",a({className:"lui-checkbox__input",type:"checkbox"},f)),i.default.createElement("div",{className:"lui-checkbox__check-wrap"},i.default.createElement("span",{className:"lui-checkbox__check"}),i.default.createElement("span",{className:"lui-checkbox__check-text"},n)))};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=l(n(1371));var r=l(n(1372));var o=l(n(1373));var a=l(n(1374));var s=l(n(1375));function l(e){return e&&e.__esModule?e:{default:e}}i.default.Header=a.default;i.default.Title=s.default;i.default.Body=r.default;i.default.Footer=o.default;var u=i.default;t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=l(n(98));var r=n(412);var o=s(n(1010));var a=n(129);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return u(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return c.apply(this,arguments)}function d(e,t){if(null==e)return{};var n=f(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function f(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function v(e,t,n){t&&h(e.prototype,t);n&&h(e,n);return e}function m(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;return b(e)}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&x(e,t)}function x(e,t){x=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return x(e,t)}var w=200;var S=0;var C=function(e){y(t,e);function t(e){var n;p(this,t);n=m(this,g(t).call(this,e));n.portalId="rlui-dialog-".concat(S);n.state={dialogState:o.default.closed};S+=1;n.keyUpListener=n.keyUpListener.bind(b(n));n.openDialog=n.openDialog.bind(b(n));n.closeDialog=n.closeDialog.bind(b(n));if("undefined"!==typeof document){n.parentElement=e.parentElement||document.getElementById("show-service-overlay")||document.body;n.containerElement=document.createElement("div");n.containerElement.id=n.portalId}return n}v(t,[{key:"componentDidMount",value:function e(){this.props.show&&this.openDialog()}},{key:"componentWillReceiveProps",value:function e(t){!this.props.show&&t.show?this.openDialog():this.props.show&&!t.show&&this.closeDialog()}},{key:"componentDidUpdate",value:function e(){var t=this;var n=this.state.dialogState;var i=this.props,r=i.onEscape,a=i.onOpen,s=i.onClose;if(n===o.default.opening)this.openingTimeout=this.openingTimeout||setTimeout(function(){t.openingTimeout=null;t.setState(function(){return{dialogState:o.default.open}});"function"===typeof r&&window.addEventListener("keyup",t.keyUpListener);"function"===typeof a&&a()});else if(n===o.default.closing){"function"===typeof r&&window.removeEventListener("keyup",this.keyUpListener);this.closingTimeout=this.closingTimeout||setTimeout(function(){t.closingTimeout=null;t.setState(function(){return{dialogState:o.default.closed}});"function"===typeof s&&s();t.parentElement.removeChild(t.containerElement)},w)}}},{key:"componentWillUnmount",value:function e(){clearTimeout(this.openingTimeout);this.openingTimeout=null;clearTimeout(this.closingTimeout);this.closingTimeout=null}},{key:"keyUpListener",value:function e(t){27===t.keyCode&&this.props.onEscape()}},{key:"openDialog",value:function e(){this.parentElement.appendChild(this.containerElement);this.setState(function(){return{dialogState:o.default.opening}})}},{key:"closeDialog",value:function e(){this.setState(function(){return{dialogState:o.default.closing}})}},{key:"render",value:function e(){var t=this.props,n=t.className,s=t.children,l=t.variant,u=t.show,f=t.onEscape,p=t.onOpen,h=t.onClose,v=t.parentElement,m=d(t,["className","children","variant","show","onEscape","onOpen","onClose","parentElement"]);var g=this.state.dialogState;if(g===o.default.closed)return null;var b=(0,a.luiClassName)("dialog",{className:n,modifiers:{variant:l}});var y="lui-modal-background";if(g===o.default.opening||g===o.default.closing){b+=" lui-fade";y+=" lui-fade"}return(0,r.createPortal)(i.default.createElement("div",{className:"lui-dialog-container"},i.default.createElement("div",{className:y}),i.default.createElement("div",c({className:b,tabIndex:"-1"},m),s)),this.containerElement)}}]);return t}(i.Component);var E=C;t.default=E;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=t.nopad,u=s(t,["className","children","nopad"]);var c=(0,r.luiClassName)("dialog__body",{className:n,states:{nopad:l}});return i.default.createElement("div",a({className:c},u),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=t.nopad,u=s(t,["className","children","nopad"]);var c=(0,r.luiClassName)("dialog__footer",{className:n,states:{nopad:l}});return i.default.createElement("div",a({className:c},u),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=t.nopad,u=s(t,["className","children","nopad"]);var c=(0,r.luiClassName)("dialog__header",{className:n,states:{nopad:l}});return i.default.createElement("div",a({className:c},u),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=s(t,["className","children"]);var u=(0,r.luiClassName)("dialog__title",{className:n});return i.default.createElement("div",a({className:u},l),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(n(1377));var r=s(n(1378));var o=s(n(1379));var a=s(n(1380));function s(e){return e&&e.__esModule?e:{default:e}}i.default.Icon=r.default;i.default.Text=o.default;i.default.Caret=a.default;var l=i.default;t.default=l;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=t.variant,u=t.size,c=t.block,d=t.rounded,f=t.active,p=s(t,["className","children","variant","size","block","rounded","active"]);var h=(0,r.luiClassName)("fade-button",{className:n,modifiers:{variant:l,size:u,block:c,rounded:d},states:{active:f}});return i.default.createElement("button",a({className:h},p),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=o(n(1089));function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}var s=function e(t){return i.default.createElement(r.default,a({className:"lui-fade-button__icon"},t))};var l=s;t.default=l;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n=s(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function s(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var l=function e(t){var n=t.children,r=a(t,["children"]);return i.default.createElement("span",o({className:"lui-fade-button__text"},r),n)};var u=l;t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return o.apply(this,arguments)}var a=function e(t){return i.default.createElement("span",o({className:"lui-fade-button__caret  lui-caret"},t))};var s=a;t.default=s;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(1089));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n=u(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function u(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;return v(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=function(e){m(t,e);function t(e){var n;c(this,t);n=p(this,h(t).call(this,e));n.focus=n.focus.bind(v(n));return n}f(t,[{key:"focus",value:function e(){this.element.focus()}},{key:"render",value:function e(){var t=this;var n=this.props,o=n.className,a=n.variant,u=n.size,c=n.invalid,d=l(n,["className","variant","size","invalid"]);var f=(0,r.luiClassName)("input",{className:o,modifiers:{variant:a,size:u},states:{invalid:c}});return i.default.createElement("input",s({ref:function e(n){t.element=n},className:f},d))}}]);return t}(i.Component);var y=b;t.default=y;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(n(1384));var r=a(n(1385));var o=a(n(1386));function a(e){return e&&e.__esModule?e:{default:e}}i.default.Button=r.default;i.default.Input=o.default;var s=i.default;t.default=s;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=t.variant,u=s(t,["className","children","variant"]);var c=(0,r.luiClassName)("input-group",{className:n,modifiers:{variant:l}});return i.default.createElement("div",a({className:c},u),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=o(n(1009));function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=void 0===n?"":n,l=t.children,u=s(t,["className","children"]);var c="lui-input-group__item  lui-input-group__button  ".concat(o).trim();return i.default.createElement(r.default,a({className:c},u),l)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=o(n(1218));function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=void 0===n?"":n,l=s(t,["className"]);var u="lui-input-group__item  lui-input-group__input  ".concat(o).trim();return i.default.createElement(r.default,a({className:u},l))};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=l(n(1388));var r=l(n(1389));var o=l(n(1390));var a=l(n(1391));var s=l(n(1392));function l(e){return e&&e.__esModule?e:{default:e}}i.default.Item=r.default;i.default.Header=o.default;i.default.Text=a.default;i.default.Aside=s.default;var u=i.default;t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=t.variant,u=s(t,["className","children","variant"]);var c=(0,r.luiClassName)("list",{className:n,modifiers:{variant:l}});return i.default.createElement("ul",a({className:c},u),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=void 0===n?"":n,l=t.children,u=t.active,c=t.disabled,d=s(t,["className","children","active","disabled"]);var f=(0,r.luiClassName)("list__item",{className:o,states:{active:u,disabled:c}});return i.default.createElement("li",a({className:f},d),l)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n=s(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function s(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var l=function e(t){var n=t.className,r=void 0===n?"":n,s=t.children,l=a(t,["className","children"]);var u="lui-list__header  ".concat(r).trim();return i.default.createElement("li",o({className:u},l),s)};var u=l;t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n=s(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function s(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var l=function e(t){var n=t.className,r=void 0===n?"":n,s=t.children,l=a(t,["className","children"]);var u="lui-list__text  ".concat(r).trim();return i.default.createElement("div",o({className:u},l),s)};var u=l;t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n=s(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function s(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var l=function e(t){var n=t.className,r=void 0===n?"":n,s=t.children,l=a(t,["className","children"]);var u="lui-list__aside  ".concat(r).trim();return i.default.createElement("div",o({className:u},l),s)};var u=l;t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=u(n(1394));var r=u(n(1396));var o=u(n(1397));var a=u(n(1398));var s=u(n(1399));var l=u(n(1400));function u(e){return e&&e.__esModule?e:{default:e}}i.default.Header=s.default;i.default.Title=l.default;i.default.Body=r.default;i.default.Button=o.default;i.default.Footer=a.default;var c=i.default;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=u(n(98));var r=n(412);var o=l(n(1010));var a=l(n(1395));var s=n(129);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function c(e){c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return c(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n=p(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function p(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function m(e,t,n){t&&v(e.prototype,t);n&&v(e,n);return e}function g(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;return y(e)}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return w(e,t)}var S=100;var C=0;var E=function(e){x(t,e);function t(e){var n;h(this,t);n=g(this,b(t).call(this,e));n.portalId="rlui-popover-".concat(C);n.state={popoverState:o.default.closed};C+=1;n.outsideListener=n.outsideListener.bind(y(n));n.keyUpListener=n.keyUpListener.bind(y(n));n.openPopover=n.openPopover.bind(y(n));n.closePopover=n.closePopover.bind(y(n));n.ref=(0,i.createRef)();if(!e.inline&&"undefined"!==typeof document){n.parentElement=e.parentElement||document.getElementById("show-service-overlay")||document.body;n.containerElement=document.createElement("div");n.containerElement.id=n.props.portalId}return n}m(t,[{key:"componentDidMount",value:function e(){this.props.show&&this.openPopover()}},{key:"componentWillReceiveProps",value:function e(t){!this.props.show&&t.show?this.openPopover():this.props.show&&!t.show&&this.closePopover()}},{key:"componentDidUpdate",value:function e(){var t=this;var n=this.state.popoverState;var i=this.props,r=i.inline,a=i.onEscape,s=i.onOpen,l=i.onClose,u=i.onOutside;var c="ontouchend"in window?"touchend":"click";if(n!==o.default.opening||this.openingTimeout){if(n===o.default.closing&&!this.closingTimeout){"function"===typeof a&&window.removeEventListener("keyup",this.keyUpListener);"function"===typeof u&&document.removeEventListener(c,this.outsideListener);this.closingTimeout=setTimeout(function(){t.closingTimeout=null;t.setState(function(){return{popoverState:o.default.closed}});"function"===typeof l&&l();r||t.parentElement.removeChild(t.containerElement)},S)}}else this.openingTimeout=setTimeout(function(){t.openingTimeout=null;t.setState(function(){return{popoverState:o.default.open}});"function"===typeof a&&window.addEventListener("keyup",t.keyUpListener);"function"===typeof u&&document.addEventListener(c,t.outsideListener);"function"===typeof s&&s()})}},{key:"componentWillUnmount",value:function e(){var t=this.state.popoverState;var n=this.props,i=n.inline,r=n.onClose;clearTimeout(this.openingTimeout);this.openingTimeout=null;clearTimeout(this.closingTimeout);this.closingTimeout=null;if(t===o.default.closing){"function"===typeof r&&r();i||this.parentElement.removeChild(this.containerElement)}}},{key:"keyUpListener",value:function e(t){27===t.keyCode&&this.props.onEscape()}},{key:"outsideListener",value:function e(t){var n=this.ref.current;n&&!n.contains(t.target)&&this.props.onOutside(t)}},{key:"openPopover",value:function e(){this.props.inline||this.parentElement.appendChild(this.containerElement);this.setState(function(){return{popoverState:o.default.opening}})}},{key:"closePopover",value:function e(){this.setState(function(){return{popoverState:o.default.closing}})}},{key:"render",value:function e(){var t=this.state.popoverState;if(t===o.default.closed)return null;var n=this.props,l=n.className,u=n.children,c=n.inline,p=n.variant,h=f(n,["className","children","inline","variant"]);var v=(0,s.luiClassName)("popover",{className:l,modifiers:{variant:p}});t!==o.default.opening&&t!==o.default.closing||(v+=" lui-fade");if(c)return i.default.createElement("div",{ref:this.ref},i.default.createElement(a.default,d({className:v,inline:true},h),u));return(0,r.createPortal)(i.default.createElement("div",{ref:this.ref},i.default.createElement(a.default,d({className:v},h),u)),this.containerElement)}}]);return t}(i.Component);var q=E;t.default=q;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(1219);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function u(e,t,n){t&&l(e.prototype,t);n&&l(e,n);return e}function c(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;return f(e)}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return d(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return h(e,t)}var v="bottom";var m=10;var g=0;function b(){g+=1;return"rlui-popover-".concat(g)}var y=function(e){p(t,e);function t(e){var n;s(this,t);n=c(this,d(t).call(this,e));n.state={positionResult:null,id:b()};n.reposition=n.reposition.bind(f(n));return n}u(t,[{key:"componentDidMount",value:function e(){var t=this.props,n=t.alignTo,i=t.dock;n.setAttribute("aria-describedby",this.state.id);this.reposition(i,n)}},{key:"componentWillUnmount",value:function e(){this.props.alignTo.removeAttribute("aria-describedby",this.state.id)}},{key:"reposition",value:function e(t,n){var i=(0,r.positionToElement)(this.popoverElem,n,t,{containerElement:this.props.inline?this.popoverElem:null,dock:this.props.dock||v,offset:"undefined"===typeof this.props.offset?m:this.props.offset,minWindowOffset:10,minEdgeOffset:5});this.setState({positionResult:i})}},{key:"render",value:function e(){var t=this;var n=this.state.positionResult;var o={visibility:"hidden",position:"absolute",maxWidth:"500px",top:n?"".concat(n.position.top,"px"):"-99999px",left:n?"".concat(n.position.left,"px"):"-99999px"};var a;n&&(o.visibility="visible");if(this.props.noArrow)a=null;else{var s={dock:"",style:{}};if(n){s.dock=(0,r.oppositeDock)(n.dock);"top"===s.dock||"bottom"===s.dock?s.style.left="".concat(n.toPosition.left-n.position.left,"px"):s.style.top="".concat(n.toPosition.top-n.position.top,"px")}a=i.default.createElement("div",{className:"lui-popover__arrow  lui-popover__arrow--".concat(s.dock),style:s.style})}return i.default.createElement("div",{ref:function e(n){t.popoverElem=n},role:"dialog",className:this.props.className,style:o,id:this.state.id},this.props.children,a)}}]);return t}(i.Component);var x=y;t.default=x;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=t.nopad,u=s(t,["className","children","nopad"]);var c=(0,r.luiClassName)("popover__body",{className:n,states:{nopad:l}});return i.default.createElement("div",a({className:c},u),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=o(n(1009));function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=s(t,["className","children"]);var u="lui-popover__button ".concat(n).trim();return i.default.createElement(r.default,a({className:u},l),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=t.nopad,u=s(t,["className","children","nopad"]);var c=(0,r.luiClassName)("popover__footer",{className:n,states:{nopad:l}});return i.default.createElement("div",a({className:c},u),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=t.nopad,u=s(t,["className","children","nopad"]);var c=(0,r.luiClassName)("popover__header",{className:n,states:{nopad:l}});return i.default.createElement("div",a({className:c},u),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=s(t,["className","children"]);var u=(0,r.luiClassName)("popover__title",{className:n});return i.default.createElement("div",a({className:u},l),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(1402));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.children,o=t.className,l=t.title,u=t.htmlFor,c=t.active,d=t.variant,f=s(t,["children","className","title","htmlFor","active","variant"]);var p=(0,r.luiClassName)("radiobutton",{className:o,states:{active:c},modifiers:{variant:d}});return i.default.createElement("label",{htmlFor:u,className:p},i.default.createElement("input",a({className:"lui-radiobutton__input"},f,{type:"radio"})),i.default.createElement("div",{className:"lui-radiobutton__radio-wrap"},i.default.createElement("span",{className:"lui-radiobutton__radio"}),i.default.createElement("span",{className:"lui-radiobutton__radio-text"},n)))};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(1404));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n=u(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function u(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;return v(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=function(e){m(t,e);function t(e){var n;c(this,t);n=p(this,h(t).call(this,e));n.focus=n.focus.bind(v(n));return n}f(t,[{key:"focus",value:function e(){this.element.focus()}},{key:"render",value:function e(){var t=this;var n=this.props,o=n.children,a=n.className,u=n.active,c=n.variant,d=l(n,["children","className","active","variant"]);var f=(0,r.luiClassName)("select",{className:a,modifiers:{variant:c},states:{active:u}});return i.default.createElement("select",s({ref:function e(n){t.element=n},className:f},d),o)}}]);return t}(i.Component);var y=b;t.default=y;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(1406));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n=u(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function u(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;return v(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=function(e){m(t,e);function t(e){var n;c(this,t);n=p(this,h(t).call(this,e));n.focus=n.focus.bind(v(n));n.onClearClick=n.onClearClick.bind(v(n));return n}f(t,[{key:"onClearClick",value:function e(t){t.preventDefault();"function"===typeof this.props.onClear&&this.props.onClear()}},{key:"focus",value:function e(){this.element.focus()}},{key:"render",value:function e(){var t=this;var n=this.props,o=n.className,a=n.children,u=n.variant,c=n.value,d=n.onClear,f=l(n,["className","children","variant","value","onClear"]);var p=(0,r.luiClassName)("search",{className:o,modifiers:{variant:u}});return i.default.createElement("div",{className:p},i.default.createElement("span",{className:"lui-icon  lui-icon--search  lui-search__search-icon"}),i.default.createElement("input",s({ref:function e(n){t.element=n},className:"lui-search__input",value:c},f,{type:"text"})),c?i.default.createElement("button",{className:"lui-search__clear-button",onClick:this.onClearClick},i.default.createElement("span",{className:"lui-icon  lui-icon--small  lui-icon--close"})):null)}}]);return t}(i.Component);var y=b;t.default=y;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(1408));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n=u(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function u(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;return v(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=function(e){m(t,e);function t(e){var n;c(this,t);n=p(this,h(t).call(this,e));n.focus=n.focus.bind(v(n));return n}f(t,[{key:"focus",value:function e(){this.element.focus()}},{key:"render",value:function e(){var t=this;var n=this.props,o=n.children,a=n.className,u=n.title,c=n.htmlFor,d=n.active,f=n.variant,p=l(n,["children","className","title","htmlFor","active","variant"]);var h=(0,r.luiClassName)("switch",{className:a,modifiers:{variant:f},states:{active:d}});return i.default.createElement("div",{className:h,title:u},i.default.createElement("label",{htmlFor:c,className:"lui-switch__label"},i.default.createElement("input",s({ref:function e(n){t.element=n},className:"lui-switch__checkbox"},p,{type:"checkbox"})),i.default.createElement("span",{className:"lui-switch__wrap"},i.default.createElement("div",{className:"lui-switch__inner"}),i.default.createElement("div",{className:"lui-switch__switch"}))))}}]);return t}(i.Component);var y=b;t.default=y;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(n(1410));var r=a(n(1411));var o=a(n(1412));function a(e){return e&&e.__esModule?e:{default:e}}i.default.Text=o.default;i.default.Aside=r.default;var s=i.default;t.default=s;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=t.variant,u=t.active,c=t.disabled,d=s(t,["className","children","variant","active","disabled"]);var f=(0,r.luiClassName)("tab",{className:n,modifiers:{variant:l},states:{active:u,disabled:c}});return i.default.createElement("li",a({className:f},d),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){return i.default.createElement("div",{className:"lui-tab__aside"},t.children)};var a=o;t.default=a;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){return i.default.createElement("div",{className:"lui-tab__text"},t.children)};var a=o;t.default=a;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(1414));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){return e&&e.__esModule?e:{default:e}}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n=l(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function l(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var u=function e(t){var n=t.className,o=t.children,l=t.variant,u=t.fill,c=s(t,["className","children","variant","fill"]);var d=(0,r.luiClassName)("tabset",{className:n,modifiers:{variant:l,fill:u}});return i.default.createElement("ul",a({className:d},c),o)};var c=u;t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(1416));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(129);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n=u(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function u(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;return v(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=function(e){m(t,e);function t(e){var n;c(this,t);n=p(this,h(t).call(this,e));n.focus=n.focus.bind(v(n));return n}f(t,[{key:"focus",value:function e(){this.element.focus()}},{key:"render",value:function e(){var t=this;var n=this.props,o=n.className,a=n.children,u=n.variant,c=n.invalid,d=l(n,["className","children","variant","invalid"]);var f=(0,r.luiClassName)("textarea",{className:o,modifiers:{variant:u},states:{invalid:c}});return i.default.createElement("textarea",s({ref:function e(n){t.element=n},className:f},d))}}]);return t}(i.Component);var y=b;t.default=y;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(n(1418));var r=a(n(1419));var o=a(n(1420));function a(e){return e&&e.__esModule?e:{default:e}}i.default.Action=r.default;i.default.Text=o.default;var s=i.default;t.default=s;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=l(n(98));var r=n(412);var o=s(n(1010));var a=n(129);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return u(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return c.apply(this,arguments)}function d(e,t){if(null==e)return{};var n=f(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function f(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function v(e,t,n){t&&h(e.prototype,t);n&&h(e,n);return e}function m(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;return b(e)}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&x(e,t)}function x(e,t){x=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return x(e,t)}var w=200;var S=0;var C=function e(t){var n=document.getElementById("lui-toast-container");if(!n){n=document.createElement("div");n.classList.add("lui-toast-container");n.id="lui-toast-container";t.appendChild(n)}return n};var E=function(e){y(t,e);function t(e){var n;p(this,t);n=m(this,g(t).call(this,e));S+=1;n.portalId="rlui-toast-".concat(S);n.state={toastState:o.default.closed};n.openToast=n.openToast.bind(b(n));n.closeToast=n.closeToast.bind(b(n));"undefined"!==typeof document&&(n.parentElement=e.parentElement||document.getElementById("show-service-overlay")||document.body);return n}v(t,[{key:"componentDidMount",value:function e(){this.props.show&&this.openToast()}},{key:"componentWillReceiveProps",value:function e(t){!this.props.show&&t.show?this.openToast():this.props.show&&!t.show&&this.closeToast()}},{key:"componentDidUpdate",value:function e(){var t=this;if(this.state.toastState===o.default.opening)setTimeout(function(){t.setState(function(){return{toastState:o.default.open}});"function"===typeof t.props.onOutside&&document.addEventListener("click",t.outsideListener);"function"===typeof t.props.onOpen&&t.props.onOpen()});else if(this.state.toastState===o.default.closing){"function"===typeof this.props.onOutside&&document.removeEventListener("click",this.outsideListener);setTimeout(function(){t.setState(function(){return{toastState:o.default.closed}});"function"===typeof t.props.onClose&&t.props.onClose()},w)}}},{key:"openToast",value:function e(){this.setState(function(){return{toastState:o.default.opening}})}},{key:"closeToast",value:function e(){this.setState(function(){return{toastState:o.default.closing}})}},{key:"render",value:function e(){var t=this;var n=this.state.toastState;if(n===o.default.closed)return null;var s=this.props,l=s.className,u=s.children,f=s.dock,p=s.alignTo,h=s.inline,v=s.variant,m=s.show,g=s.onOpen,b=s.onClose,y=s.parentElement,x=d(s,["className","children","dock","alignTo","inline","variant","show","onOpen","onClose","parentElement"]);var w=(0,a.luiClassName)("toast",{className:l,modifiers:{variant:v}});var S={bottom:"-50px"};n===o.default.opening||n===o.default.closing?w+=" lui-fade":S.bottom="10px";var E=C(this.parentElement);return(0,r.createPortal)(i.default.createElement("div",c({ref:function e(n){t.toast=n},className:w,style:S},x),u),E)}}]);return t}(i.Component);var q=E;t.default=q;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n=s(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function s(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var l=function e(t){var n=t.className,r=t.children,s=a(t,["className","children"]);var l="lui-toast__aside ".concat(n).trim();return i.default.createElement("div",o({className:l},s),r)};var u=l;t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n=s(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function s(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var l=function e(t){var n=t.className,r=void 0===n?"":n,s=t.children,l=a(t,["className","children"]);var u="lui-toast__text ".concat(r).trim();return i.default.createElement("div",o({className:u},l),s)};var u=l;t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(1422));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=u(n(98));var r=n(412);var o=l(n(1010));var a=l(n(1423));var s=n(129);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function c(e){c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return c(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n=p(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function p(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function m(e,t,n){t&&v(e.prototype,t);n&&v(e,n);return e}function g(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;return y(e)}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return w(e,t)}var S=50;var C=0;var E=function(e){x(t,e);function t(e){var n;h(this,t);n=g(this,b(t).call(this,e));n.state={tooltipState:e.show?o.default.opening:o.default.closed};n.portalId="rlui-tooltip-".concat(C);C+=1;n.openTooltip=n.openTooltip.bind(y(n));n.closeTooltip=n.closeTooltip.bind(y(n));if(!e.inline&&"undefined"!==typeof document){n.parentElement=e.parentElement||document.getElementById("show-service-overlay")||document.body;n.containerElement=document.createElement("div");n.containerElement.id=n.portalId}return n}m(t,[{key:"componentDidMount",value:function e(){this.props.inline||this.parentElement.appendChild(this.containerElement);this.state.tooltipState===o.default.opening&&this.openTooltip()}},{key:"componentWillReceiveProps",value:function e(t){!this.props.show&&t.show?this.openTooltip():this.props.show&&!t.show&&this.closeTooltip()}},{key:"componentDidUpdate",value:function e(){var t=this;var n=this.state.tooltipState;var i=this.props,r=i.inline,a=i.onOpen,s=i.onClose;n===o.default.opening?setTimeout(function(){t.setState(function(){return{tooltipState:o.default.open}});"function"===typeof a&&a()}):n===o.default.closing&&setTimeout(function(){t.setState(function(){return{tooltipState:o.default.closed}});"function"===typeof s&&s();r||t.parentElement.removeChild(t.containerElement)},S)}},{key:"openTooltip",value:function e(){this.setState(function(){return{tooltipState:o.default.opening}})}},{key:"closeTooltip",value:function e(){this.setState(function(){return{tooltipState:o.default.closing}})}},{key:"render",value:function e(){var t=this.state.tooltipState;if(t===o.default.closed)return null;var n=this.props,l=n.className,u=n.children,c=n.inline,p=n.variant,h=f(n,["className","children","inline","variant"]);var v=(0,s.luiClassName)("tooltip",{className:l,modifiers:{variant:p}});t!==o.default.opening&&t!==o.default.closing||(v+=" lui-fade");if(c)return i.default.createElement(a.default,d({inline:true,className:v},h),u);return(0,r.createPortal)(i.default.createElement(a.default,d({className:v},h),u),this.containerElement)}}]);return t}(i.Component);var q=E;t.default=q;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=n(1219);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function u(e,t,n){t&&l(e.prototype,t);n&&l(e,n);return e}function c(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;return f(e)}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return d(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return h(e,t)}var v="top";var m=10;var g=0;function b(){g+=1;return"rlui-tooltip-".concat(g)}var y=function(e){p(t,e);function t(e){var n;s(this,t);n=c(this,d(t).call(this,e));n.state={positionResult:null,id:b()};n.reposition=n.reposition.bind(f(n));return n}u(t,[{key:"componentDidMount",value:function e(){var t=this.props,n=t.alignTo,i=t.dock;n.setAttribute("aria-describedby",this.state.id);this.reposition(i,n)}},{key:"componentWillReceiveProps",value:function e(t){t.dock===this.props.dock&&t.alignTo===this.props.alignTo||this.reposition(t.dock,t.alignTo)}},{key:"componentWillUnmount",value:function e(){this.props.alignTo.removeAttribute("aria-describedby",this.state.id)}},{key:"reposition",value:function e(t,n){var i=(0,r.positionToElement)(this.element,n,t,{containerElement:this.props.inline?this.element:null,dock:t||v,offset:m,minWindowOffset:10,minEdgeOffset:5});this.setState({positionResult:i})}},{key:"render",value:function e(){var t=this;var n=this.state.positionResult;var o={position:"absolute",top:n?"".concat(n.position.top,"px"):"-99999px",left:n?"".concat(n.position.left,"px"):"-99999px"};var a={dock:"",style:{}};if(n){a.style.position="absolute";a.dock=(0,r.oppositeDock)(n.dock);"top"===a.dock||"bottom"===a.dock?a.style.left="".concat(n.toPosition.left-n.position.left,"px"):a.style.top="".concat(n.toPosition.top-n.position.top,"px")}return i.default.createElement("div",{ref:function e(n){t.element=n},role:"tooltip",className:this.props.className,style:o,id:this.state.id},this.props.children,i.default.createElement("div",{className:"lui-tooltip__arrow  lui-tooltip__arrow--".concat(a.dock),style:a.style}))}}]);return t}(i.Component);var x=y;t.default=x;e.exports=t.default},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(95),n(48),n(97),n(1927),n(106),n(91),n(1713),n(316),n(94),n(138),n(296),n(298),n(1928),n(1714),n(1932),n(1934)],r=function(e,t,n,i,r,o,a,s,l,u,c){var d=["$scope","$timeout",function(e,t){var n={onChanged:function t(n){o(e,"model",function(t){n(t,e)})}},r,u,d,f=s.model(n,a);e.exp={};e.dynamicBg={};e.exp.ignoreOutsideClicks=false;e.reloadDate=a.get("AppDetails.NoData");f.init(e);e.views=f.views;e.currentView=f.views.overview;e.toggleEditMode=function(){if(r){r();r=null}else r=e.$watch("appModel.qTitle",function(t){l.allowedChars(t)?e.errors="":e.errors="chars"});f.toggleEditMode(e)};e.setProperties=function(t,n,i,r){f.setProperties(t,n,i,e.errors.length,r)};e.toggleOptionsMode=function(){f.toggleOptionsMode(e);t(function(){i.force("end")})};d=e.$watch("appModel.dynamicColor",function(t){e.dynamicBg=t?{background:t}:{}});u=e.$watchCollection("[appModel.qHasData, appModel.qLastReloadTime]",function(){e.appModel.qHasData?e.reloadDate=c.format.date(e.appModel.qLastReloadTime,{skeleton:"yMMMdjm"}):e.reloadDate=a.get("AppDetails.NoData")});e.$on("$destroy",function(){u();d();r&&r()});e.errors=""}];function f(n){n?e("body").addClass("qv-app-details-enabled"):e("body").removeClass("qv-app-details-enabled");t.publish("/datamanager/appdetailsviewchange",n)}function p(e){var t=true;if(e.isSmallDevice)t=false;else if("undefined"===typeof e.forcedValue){t=!e.showAppDetails;u.inAppOverView()&&sessionStorage.setItem("ShowAppDetailsInAppOverview",t)}else t=e.forcedValue;f(t);return t}function h(){var t=false;t=!!u.inAppOverView()&&("undefined"===typeof sessionStorage.ShowAppDetailsInAppOverview||"true"===sessionStorage.ShowAppDetailsInAppOverview);t||e("body").removeClass("qv-app-details-options-enabled");return t}function v(e){return e?"Toolbar.HideAppInformation":"Toolbar.ShowAppInformation"}n.directive("qvAppDetails",function(){return{replace:true,restrict:"E",scope:"=",template:r,controller:d}});return{controller:d,toggle:p,findStoredAppOverviewState:h,getAppDetailsTooltip:v,toggleClasses:f}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(13),n(11),n(48),n(1220),n(49),n(93),n(1221),n(304),n(1426),n(1427),n(295),n(127),n(1428),n(1429),n(111)],r=function(e,t,i,r,o,a,s,l,u,c,d,f){var p={isShown:false};var h=function e(){return o.getFlag("MLREST")};i.directive("qveMediaList",function(){return{replace:true,restrict:"E",template:c}});var v={template:u,controller:["$scope","qvLoader","qvContextMenu","$http",function(i,u,c,v){var m=n.p+"img/medialibrary/thumb.png",g=false,b,y={notReady:0,isLoading:1,isEmpty:2,hasFiles:3};var x=t("#media-library-modal");i.inZoom=false;i.firstTimeRenderCheck=true;i.lists=[];i.selectedFile=null;i.contentState=y;i.state=y.notReady;i.view=null;m=l.stripBasePath(m);m=l.addBasePath(m);i.staticSrc=m;i.updateExp={};function w(e){clearTimeout(b);u.close(e)}function S(e,t){e=e||null;t=t||null;i.selectedFile=e;i.selectedFileDef=t;setTimeout(function(){x.find(".q-media-insbtn").focus()})}function C(e,t){var n=s.createTree(e,i.input.filter,true);i.rootEntry=n;if(t===i.view)if(u.isOpen())u.close().then(function(){i.state=n.children.length>0?y.hasFiles:y.isEmpty});else{clearTimeout(b);i.state=n.children.length>0?y.hasFiles:y.isEmpty}q()}function E(t){var n=e.apiPath+"v1/apps/"+t+"/media/list";return v.get(n,{params:{show:"recursive"}}).then(function(e){return e.data.data.filter(function(e){return"image"===e.type}).map(function(e){var t=r.encodeString(e.name);return{qId:e.id,qUrl:e.link.replace(e.name,t),qUrlDef:e.link,qName:e.name}})})}function q(){i.disableNav=false}function _(e,t,n,r){i.updateExp.deleteFile(e,t,n).then(function(){O(r)})}function T(){i.disableNav=true;a.getApp().then(function(e){var t=e.id;var n=i.view;i.appId=t;h()?E(t).then(function(e){C(e,n)}):e.getLibraryContent(i.view).then(function(e){C(e,n)})})}a.getApp().then(function(e){e.getLayout().then(function(t){e.getContentLibraries().then(function(e){i.lists=s.filterList(e);if(!i.view&&i.lists.length){i.view=i.lists[0].qName;T()}var n=h();var r=o.getFlag("HAS_QRS")&&!!s.canUpdate&&!n;var a=n&&t.permissions.update;i.canUpdate=r||a})})});function k(e){return e.split("/").slice(3).join("\\")}function O(e){T();i.input.selectedFile&&e===i.input.selectedFile&&(g=true)}function D(e,t,n){i.updateExp.deleteInAppFile&&i.updateExp.deleteInAppFile(e,t,i.appId).then(function(){O(n)})}i.getSrc=function e(t){t=l.stripBasePath(t);t=l.addBasePath(t);return t};i.zoomImage=function e(t,n){t.preventDefault();t.stopPropagation();i.zoomSrc=n.path;i.inZoom=true};i.closeZoom=function(){i.inZoom=false;i.zoomSrc=null};i.goTo=function(e,t){var n;c.close();if(i.view===e||i.disableNav)return;S(null,null);w(true);i.state=y.notReady;i.isUpload=t;i.view=e;if(!i.isUpload){b=setTimeout(function(){i.state=y.isLoading;u.show({template:d,messageObj:{task:"MediaLibrary.LoadingFiles"},appendTo:x.find(".medialib")[0],bigLoader:true})},1e3);n=x.find(".q-images-cont");n.length&&(n[0].scrollTop=0);T();i.firstTimeRenderCheck=true;n=null}};i.isSelectedImg=function(e,t,n){t&&i.firstTimeRenderCheck&&n&&setTimeout(function(){var e=x.find(n);i.firstTimeRenderCheck=false;e.length&&f.scrollElmentIntoView(e,".q-images-cont",true);e=null},250);return i.selectedFile===e.path};i.selectFile=function(e,n,r){var o=t(e.target).closest(".q-media-grid, .media-list-cont-item");e.preventDefault();e.stopPropagation();c.close();f.scrollElmentIntoView(o,".q-images-cont",false);if(i.selectedFile===n){n=null;r=null}o=null;S(n,r)};i.confirm=function(){if(i.selectedFile&&!i.updateExp.isUploading){i.input.onConfirm(i.selectedFile,i.selectedFileDef);i.destroyComponent()}};i.inInAppView=function(){return i.view===i.lists[0].qName};i.canDeleteInView=function(){return i.inInAppView()&&i.canUpdate};i.onDelete=function(e){var t=i.selectedFile;if(h()){var n=i.rootEntry.children.filter(function(e){return e.path===t})[0]||{};n.id&&D(e,n,t)}else{var r=k(i.selectedFileDef);e.preventDefault();e.stopPropagation();_(e,r,i.selectedFile,t)}};i.onContextMenu=function(e){e.preventDefault();e.stopPropagation();var n=c.menu();i.updateExp.isUploading||n.addItem({translation:"MediaLibrary.Insert",tid:"insert",select:function n(){var r=t(e.target).closest(".media-list-cont-item").scope().entry;S(r.path,r.pathDef);i.confirm()}});i.canDeleteInView()&&n.addItem({translation:"Common.Delete",tid:"delete",select:function n(){var i=t(e.target).closest(".media-list-cont-item").scope().entry;var r=i.path;if(h())D(e,i,r);else{var o=k(i.pathDef);_(e,o,i.path,r)}}});c.close();c.show(n,{position:{x:e.pageX,y:e.pageY},docking:"BottomRight"})};i.cancel=function(e,t){if(e){e.preventDefault();e.stopPropagation()}if(!t){if(i.inZoom){i.closeZoom();return}if(i.updateExp.deleteDialogShown){i.updateExp.deleteDialogShown=false;return}}if(t||!i.updateExp.isUploading){i.input.onCancel(g);i.destroyComponent()}};i.$watch("updateExp.isUploading",function(e){false===e&&i.inInAppView()&&T()});i.$on("$destroy",function(){p.isShown=false;i.closeZoom();c.close();w(true)})}]};function m(e){var t={onCancel:e.onCancel,onConfirm:e.onConfirm,selectedFile:e.selectedFile,filter:["png","gif","jpg","jpeg"]};var n=i.getService("luiDialog");n.show({template:u,controller:v.controller,input:t});p.isShown=true}function g(){if(p.isShown){var e=t("#media-library-modal");e.length&&e.scope().cancel(null,true)}}function b(){return p.isShown}return{show:m,hide:g,isShown:b}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog id="media-library-modal" tid="media-library" qv-cancel="cancel($event)" qv-confirm="confirm()" qva-outside-ignore-for="allOutside" qva-stop-prop>\n\t<lui-dialog-header>\n\t\t<lui-dialog-title q-translation="MediaLibrary.Header"></lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="dialog-body  medialib  lui-nopad">\n\t\t<div class="q-section-list" ng-if="lists.length">\n\t\t\t<ul class="side-menu lui-list" tid="menu-list">\n\t\t\t\t<li ng-repeat="list in lists track by list.qName"\n\t\t\t\t\tclass="side-menu-item  lui-list__item"\n\t\t\t\t\tng-class="{\'selected\': !isUpload && view === list.qName}"\n\t\t\t\t\tng-click="goTo(list.qName, false)">\n\t\t\t\t\t<span class="lui-list__text  lui-list__text--ellipsis" ng-if="list.qAppSpecific" q-translation="MediaLibrary.InApp" tid="goto-inapp"></span>\n\t\t\t\t\t<span class="lui-list__text  lui-list__text--ellipsis" ng-if="!list.qAppSpecific" tid="goto-library">{{ list.qName }}</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<ul ng-if="canUpdate" class="q-section-upload  upload-menu lui-list">\n\t\t\t\t<li class="upload-menu-item  lui-list__item"\n\t\t\t\t\tng-class="{\'selected\': isUpload}"\n\t\t\t\t\ttid="goto-upload"\n\t\t\t\t\tng-click="goTo(\'\', true)">\n\t\t\t\t\t<div class="q-section-upload-text  lui-list__text  lui-list__text--ellipsis" q-translation="MediaLibrary.UploadMedia"></div>\n\t\t\t\t\t<div class="qv-loader  lui-list__text" ng-if="updateExp.isUploading"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="q-empty" ng-if="state === contentState.isEmpty && !isUpload">\n\t\t\t<p q-translation="MediaLibrary.NoFilesFound" class="nff"></p>\n\t\t</div>\n\t\t<qve-media-list ng-if="state === contentState.hasFiles && !isUpload" ng-class="{\'q-image-library\': !isUpload}" class="q-images-cont" tid="media-lib-items-list"></qve-media-list>\n\t\t<div class="q-media-preview" ng-if="selectedFile && !isUpload">\n\t\t\t<div class="q-media-preview-toolbar" ng-if="canDeleteInView()">\n\t\t\t\t<button\n\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\ttid="delete"\n\t\t\t\t\tdata-name="delete"\n\t\t\t\t\tq-title-translation="Common.Delete"\n\t\t\t\t\tng-click="onDelete($event)">\n\t\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--bin"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="q-media-preview-img-wrapper">\n\t\t\t\t<img ng-src="{{ getSrc(selectedFile) }}" class="q-media-img-list"/>\n\t\t\t</div>\n\t\t\t<div class="q-media-preview-bottom-toolbar">\n\t\t\t\t<button class="lui-button q-media-insbtn"\n\t\t\t\t\t\ttid="insert"\n\t\t\t\t\t\tdata-name="insert"\n\t\t\t\t\t\tq-translation="MediaLibrary.Insert"\n\t\t\t\t\t\tq-title-translation="MediaLibrary.Insert"\n\t\t\t\t\t\tng-click="confirm()">\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="q-images-cont" ng-if="canUpdate" ng-show="isUpload">\n\t\t\t<qv-media-update update-exp="updateExp" select-file="selectFile" selected-file="selectedFile" image-list="rootEntry.children" confirm="confirm"></qv-media-update>\n\t\t</div>\n\t</lui-dialog-body>\n\t<div class="q-media-zoomed" ng-if="inZoom">\n\t\t<div class="q-media-z-wrapper">\n\t\t\t<div class="q-media-z-cont">\n\t\t\t\t<img class="q-media-z-img" ng-src="{{ getSrc(zoomSrc) }}">\n\t\t\t</div>\n\n\t\t\t<div class="q-media-zoom-footer">\n\t\t\t\t<qv-confirm-cancel-footer light qv-confirm="confirm()" qv-cancel="closeZoom()" qv-confirm-label="Common.Apply" qv-confirm-disabled="updateExp.isUploading"></qv-confirm-cancel-footer>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<lui-dialog-footer data-tid="media-library-footer">\n\t\t<lui-button ng-click="cancel($event)" q-translation="Common.Close" tid="cancel" ng-disabled="updateExp.isUploading"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t){e.exports='<div>\n\t\x3c!--\n\t\t<img ng-src="{{staticSrc}}" class="q-media-img" width="100%" height="100%"/>\n\t--\x3e\n\t<ul class="q-media-list-cont  lui-list" qva-context-menu="onContextMenu($event)">\n\t\t<li ng-repeat="entry in rootEntry.children"\n\t\t\t\tclass="media-list-cont-item  lui-list__item"\n\t\t\t ng-class="{\'selected\': isSelectedImg(entry, $last, \'.selected\')}"\n\t\t\t tid="media-item" title="{{entry.name}}"\n\t\t\t ng-click="selectFile($event, entry.path, entry.pathDef)">\n\t\t\t<span class="list-name  lui-list__text  lui-list__text--ellipsis">{{entry.name}}</span>\n\t\t</li>\n\t</ul>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(97)],r=function(e,t,n){function i(e){return parseInt(e||0,10)}t.directive("qvBouncyGrid",[function(){return{restrict:"E",template:'<div class="qv-bouncy" ng-transclude></div>',transclude:true,replace:true,scope:{minWidth:"@",maxWidth:"@",padding:"@",selector:"@",listLen:"="},controller:["$scope","$element",function(t,r){var o=e("<style></style>").appendTo("body"),a=0,s,l=i(t.minWidth),u=i(t.maxWidth);function c(e){clearTimeout(s);s=setTimeout(d,e||50)}function d(){var e=i(t.padding),n,s,d,f;if(u){n=u;s=Math.ceil(r.width()/n);d=Math.floor(r.width()/s);f=(s>t.listLen?n:d)-e+"px!important;"}else{n=l;s=Math.floor(r.width()/n);d=Math.ceil(r.width()/s);f=(s>t.listLen?n:d)-e+"px!important;"}if(Number.isNaN(+d-e)&&a<20){a++;c()}else o&&o.length&&o.text(t.selector+" { width: "+f+"height: "+f+"}")}n.on("end",c);c(0);t.$watch("listLen",c);t.$on("$destroy",function(){clearTimeout(s);o&&o.remove();s=null;o=null;n.off("end",c)})}]}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(49),n(13),n(48),n(91),n(1220),n(1430),n(1431),n(1221),n(93),n(127),n(227),n(1432),n(89),n(90),n(111)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h){var v=h.getRandomString(16);var m=function e(){return t.getFlag("MLREST")};function g(e){return n.apiPath+"v1/apps/"+e+"/media/files/"}function b(e){return n.apiPath+"v1/apps/"+e+"/media/list/"}function y(e,t,n){if(m()){var i=b(t.id);n.get(i,{}).then(function(t){var n=t.data;if(void 0!==n.quota&&void 0!==n.totsize){var i=Math.floor((parseInt(n.quota,10)-parseInt(n.totsize,10))/1024/1024);e.quotaInfo=r.get("MediaLibrary.QuotaInfo",[i])}else e.showQuotaText=false});return}t.getContentLibraries().then(function(t){var n=l.getRemainingSpace(t)/1024/1024;n=n.toString().split("e");n=Math.floor(+(n[0]+"e"+(n[1]?+n[1]+1:1)));n=n.toString().split("e");n=+(n[0]+"e"+(n[1]?+n[1]-1:-1));e.quotaInfo=r.get("MediaLibrary.QuotaInfo",[n])})}function x(e,t,n){return u.getApp().then(function(i){var r={params:{externalpath:n,xrfkey:v},headers:{"X-Qlik-XrfKey":v}};var o=h.basePath+"qrs/appcontent/"+i.id+"/deletecontent";return t.delete(o,r).then(function(){y(e,i,t)}).catch(function(e,t){var n=t;0===t&&(n=500);d.showDialog({code:n})})})}function w(e,t,n){var i=t;if(!i){var r=e.getFilesWithStatus(f.SUCCESS);for(var o=0;o<r.length;o++)if(n===r[o].name){i=r[o];break}}return i}i.directive("qvMediaUpdate",function(){return{restrict:"E",replace:true,scope:{updateExp:"=",selectedFile:"=",selectFile:"&",confirm:"&",imageList:"="},template:a,controller:["$scope","$compile","$timeout","$http","qvContextMenu",function(t,n,a,l,d){var b,S;t.isEmpty=true;t.previewCounter=0;t.showQuotaText=true;f.autoDiscover=false;f.confirm=function(e,t,n){if(null!=n)return n()};function C(i,r){var o=t.$new();o.file=r;n(e(i))(o)}function E(e,n,o,a){var s=new p,u=o.split("\\").splice(-1)[0];t.updateExp.deleteDialogShown=true;S=i.getService("qvConfirmDialog").show({closeOnEscape:true,title:r.get("MediaLibrary.Confirm.Delete.Title"),message:r.get("MediaLibrary.Confirm.Delete.Description",[u]),okLabel:r.get("Common.Delete"),cancelLabel:r.get("Common.Cancel")});S.closed.then(function i(r){r&&x(t,l,o).then(function(){t.selectedFile===a&&t.selectFile()(e,null,null);n&&b.removeFile(n);s.resolve()},function(){s.reject()});t.updateExp.deleteDialogShown=false});return s.promise}function q(e,n,a,s){var u=new p;var c=w(b,s,n.name);t.updateExp.deleteDialogShown=true;S=i.getService("qvConfirmDialog").show({closeOnEscape:true,title:r.get("MediaLibrary.Confirm.Delete.Title"),message:r.get("MediaLibrary.Confirm.Delete.Description",[n.name]),okLabel:r.get("Common.Delete"),cancelLabel:r.get("Common.Cancel")});S.closed.then(function i(r){if(r){var s=g(a)+o.encodeString(n.id);l.delete(s,{}).then(function(){t.selectedFile===n.path&&t.selectFile()(e,null,null);c&&b.removeFile(c);u.resolve()},function(){u.reject()})}t.updateExp.deleteDialogShown=false});return u.promise}t.updateExp.deleteFile=function(e,t,n){var i=w(b,null,t);return E(e,i,t,n)};t.updateExp.deleteInAppFile=q;t.onCancelUpload=function(e,t){e.preventDefault();e.stopPropagation();b.cancelUpload(t)};t.onDelete=function(e,t,n,i){e.preventDefault();e.stopPropagation();m()?u.getApp().then(function(i){var r={id:n,name:n,path:g(i.id)+o.encodeString(n)};q(e,r,i.id,t)}):E(e,t,n,i)};t.onInsert=function(e){e.preventDefault();e.stopPropagation();t.confirm()()};t.onSelectImage=function(n,i){c.scrollElmentIntoView(e(i.previewElement),".media-library-preview-container",false,true);if(i.status!==f.SUCCESS){n.preventDefault();n.stopPropagation();return}t.selectFile()(n,i.qUrl,i.qUrlDef)};t.onContextMenu=function(e,n,i,r){e.preventDefault();e.stopPropagation();if(n.status!==f.SUCCESS)return;var o=d.menu();t.updateExp.isUploading||o.addItem({translation:"MediaLibrary.Insert",tid:"insert",select:function i(){t.selectedFile!==n.qUrl&&t.selectFile()(e,n.qUrl,n.qUrlDef);t.onInsert(e)}});o.addItem({translation:"Common.Delete",tid:"delete",select:function o(){t.onDelete(e,n,i,r)}});d.show(o,{position:{x:e.pageX,y:e.pageY},docking:"BottomRight"})};u.getApp().then(function(n){var i;var u;if(m()){var d=g(n.id);i=d;u=d}else{i=h.basePath+"qrs/appcontent/"+n.id+"/uploadfile?";u="/appcontent/"+n.id+"/"}y(t,n,l);var p={url:i,acceptedFiles:".png,.gif,.jpg,.jpeg",maxFilesize:5,parallelUploads:4,filesizeBase:1024,thumbnailWidth:200,thumbnailHeight:200,previewTemplate:s,previewsContainer:".media-library-preview-container",dictInvalidFileType:r.get("ErrorCode.3004"),dictFileTooBig:r.get("MediaLibrary.Error.MaxFileSizeExceeded"),dictResponseError:r.get("ErrorCode.500")};var x={headers:{"X-Qlik-XrfKey":v}};var w={method:"PUT",sending:function e(t,n){var i=n.send;n.send=function(){i.call(n,t)}}};b=new f("#media-library-dropzone",Object.assign({},p,m()?w:x));b.on("processing",function(e){m()?this.options.url=i+o.encodeString(e.name):this.options.url=i+"externalpath="+encodeURIComponent(e.name)+"&overwrite=false&xrfkey="+v});b.on("addedfile",function(n){C(n.previewElement,n);a(function(){t.isEmpty=false;t.previewCounter++;t.updateExp.isUploading=true;c.scrollElmentIntoView(e(n.previewElement),".media-library-preview-container",false,true);if(o.containsIllegalChars(n.name)){n.qErrorMsg="MediaLibrary.Error.IllegalCharsInFilename";b.cancelUpload(n)}if(m()){var i=(b.files||[]).concat(t.imageList||[]);for(var r=0;r<i.length;r++){var a=i[r];var s=n===a;var l=n.name===a.name;var u="canceled"!==a.status;if(!s&&l&&u){n.qErrorMsg="MediaLibrary.Error.FileAlreadyExists";b.cancelUpload(n);break}}}})});b.on("removedfile",function(){a(function(){t.previewCounter--;0===t.previewCounter&&(t.isEmpty=true)})});b.on("success",function(e){e.qUrl=u+o.encodeString(e.name);e.qUrlDef=u+e.name;y(t,n,l)});b.on("queuecomplete",function(){a(function(){t.updateExp.isUploading=false})});b.on("error",function(t,n,i){var o=e(t.previewElement).scope();o.showError=true;i&&i.status?409===i.status?o.errorMsg=r.get("MediaLibrary.Error.FileAlreadyExists"):413===i.status?o.errorMsg=r.get("MediaLibrary.Error.MaxFileSizeExceeded"):o.errorMsg=r.get("ErrorCode."+i.status):o.errorMsg=r.get(t.qErrorMsg?t.qErrorMsg:n)})});t.$on("$destroy",function(){b.destroy();t.updateExp.deleteDialogShown&&S.close()})}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div id="media-library-upload">\n\t<div class="bouncy-wrap" ng-class="{\'empty\' : isEmpty}">\n\t\t<qv-bouncy-grid min-width="140" padding="15" selector=".preview-media-grid" list-len="previewCounter">\n\t\t\t<div class="media-library-preview-container" ng-hide="isEmpty"></div>\n\t\t</qv-bouncy-grid>\n\t</div>\n\t<div id="media-library-dropzone" class="dropzone" ng-class="{\'empty\' : isEmpty}">\n\t\t<div class="dz-message">\n\t\t\t<div class="upload-drop-text" q-translation="MediaLibrary.ClickOrDropHere"></div>\n\t\t\t<div class="upload-drop-icon-wrap">\n\t\t\t\t<i class="lui-icon lui-icon--upload"></i>\n\t\t\t</div>\n\t\t\t<div ng-if="showQuotaText" class="upload-drop-quota">{{quotaInfo}}</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t){e.exports='<div tid="preview-item"\n\t class="q-media-grid preview-media-grid"\n\t ng-class="{\'selected-img\': selectedFile === file.qUrl}"\n\t ng-click="onSelectImage( $event, file )"\n\t qva-context-menu="onContextMenu( $event, file, file.name, file.qUrl )">\n\t<div class="q-media-wrap-img">\n\t\t<img class="q-media-img" width="100%" height="100%" data-dz-thumbnail />\n\t\t<div class="overlay"></div>\n\t\t<div class="preview-area">\n\t\t\t<div class="touch-area cancel-upload-area" q-title-translation="Common.Cancel" data-dz-remove ng-click="onCancelUpload( $event, file )">\n\t\t\t\t<button class="lui-overlay-button lui-overlay-button--small cancel-upload">\n\t\t\t\t\t<span class="lui-overlay-button__icon lui-icon lui-icon--small lui-icon--close"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div ng-if="selectedFile === file.qUrl" class="preview-area-edit">\n\t\t\t\t<div class="touch-area delete-image-area" q-title-translation="Common.Delete" ng-click="onDelete( $event, file, file.name, file.qUrl )">\n\t\t\t\t\t<button class="lui-overlay-button lui-overlay-button--small delete-image">\n\t\t\t\t\t\t<span class="lui-overlay-button__icon lui-icon lui-icon--small lui-icon--bin"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\ttid="insert"\n\t\t\t\t\tclass="insert-button lui-overlay-button"\n\t\t\t\t\tdata-name="insert"\n\t\t\t\t\tq-title-translation="MediaLibrary.Insert"\n\t\t\t\t\tng-click="onInsert( $event )">\n\t\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--add"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="error-wrapper" ng-if="showError">\n\t\t\t<div class="error-icon">\n\t\t\t\t<i class="lui-icon lui-icon--warning-triangle"></i>\n\t\t\t</div>\n\t\t\t<div class="error-text">{{errorMsg}}</div>\n\t\t</div>\n\t\t<div class="preview-progress">\n\t\t\t<div class="preview-progressbar-wrapper">\n\t\t\t\t<span class="preview-progressbar" data-dz-uploadprogress></span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="q-media-name" q-title-translation="{{file.name}}">{{file.name}}</div>\n</div>\n'},function(e,t,n){"use strict";(function(e,t){var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){o(this,e)}n(e,[{key:"on",value:function e(t,n){this._callbacks=this._callbacks||{};this._callbacks[t]||(this._callbacks[t]=[]);this._callbacks[t].push(n);return this}},{key:"emit",value:function e(t){this._callbacks=this._callbacks||{};var n=this._callbacks[t];if(n){for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];for(var a=n,s=true,l=0,a=s?a:a[Symbol.iterator]();;){var u;if(s){if(l>=a.length)break;u=a[l++]}else{l=a.next();if(l.done)break;u=l.value}var c=u;c.apply(this,r)}}return this}},{key:"off",value:function e(t,n){if(!this._callbacks||0===arguments.length){this._callbacks={};return this}var i=this._callbacks[t];if(!i)return this;if(1===arguments.length){delete this._callbacks[t];return this}for(var r=0;r<i.length;r++){var o=i[r];if(o===n){i.splice(r,1);break}}return this}}]);return e}();var s=function(e){r(t,e);n(t,null,[{key:"initClass",value:function e(){this.prototype.Emitter=a;this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];this.prototype.defaultOptions={url:null,method:"post",withCredentials:false,timeout:3e4,parallelUploads:2,uploadMultiple:false,chunking:false,forceChunking:false,chunkSize:2e6,parallelChunkUploads:false,retryChunks:false,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:false,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function e(){},params:function e(t,n,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept:function e(t,n){return n()},chunksUploaded:function e(t,n){n()},fallback:function e(){var n=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var i=this.element.getElementsByTagName("div"),r=true,o=0,i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{o=i.next();if(o.done)break;a=o.value}var s=a;if(/(^| )dz-message($| )/.test(s.className)){n=s;s.className="dz-message";break}}if(!n){n=t.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(n)}var l=n.getElementsByTagName("span")[0];l&&(null!=l.textContent?l.textContent=this.options.dictFallbackMessage:null!=l.innerText&&(l.innerText=this.options.dictFallbackMessage));return this.element.appendChild(this.getFallbackForm())},resize:function e(t,n,i,r){var o={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height};var a=t.width/t.height;if(null==n&&null==i){n=o.srcWidth;i=o.srcHeight}else null==n?n=i*a:null==i&&(i=n/a);n=Math.min(n,o.srcWidth);i=Math.min(i,o.srcHeight);var s=n/i;if(o.srcWidth>n||o.srcHeight>i)if("crop"===r)if(a>s){o.srcHeight=t.height;o.srcWidth=o.srcHeight*s}else{o.srcWidth=t.width;o.srcHeight=o.srcWidth/s}else{if("contain"!==r)throw new Error("Unknown resizeMethod '"+r+"'");a>s?i=n/a:n=i*a}o.srcX=(t.width-o.srcWidth)/2;o.srcY=(t.height-o.srcHeight)/2;o.trgWidth=n;o.trgHeight=i;return o},transformFile:function e(t,n){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,n):n(t)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function e(t){return this.element.classList.remove("dz-drag-hover")},dragstart:function e(t){},dragend:function e(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function e(t){return this.element.classList.add("dz-drag-hover")},dragover:function e(t){return this.element.classList.add("dz-drag-hover")},dragleave:function e(t){return this.element.classList.remove("dz-drag-hover")},paste:function e(t){},reset:function e(){return this.element.classList.remove("dz-started")},addedfile:function e(n){var i=this;this.element===this.previewsContainer&&this.element.classList.add("dz-started");if(this.previewsContainer){n.previewElement=t.createElement(this.options.previewTemplate.trim());n.previewTemplate=n.previewElement;this.previewsContainer.appendChild(n.previewElement);for(var r=n.previewElement.querySelectorAll("[data-dz-name]"),o=true,a=0,r=o?r:r[Symbol.iterator]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{a=r.next();if(a.done)break;s=a.value}var l=s;l.textContent=n.name}for(var u=n.previewElement.querySelectorAll("[data-dz-size]"),c=true,d=0,u=c?u:u[Symbol.iterator]();;){if(c){if(d>=u.length)break;l=u[d++]}else{d=u.next();if(d.done)break;l=d.value}l.innerHTML=this.filesize(n.size)}if(this.options.addRemoveLinks){n._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");n.previewElement.appendChild(n._removeLink)}var f=function e(r){r.preventDefault();r.stopPropagation();return n.status===t.UPLOADING?t.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(n)}):i.options.dictRemoveFileConfirmation?t.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(n)}):i.removeFile(n)};for(var p=n.previewElement.querySelectorAll("[data-dz-remove]"),h=true,v=0,p=h?p:p[Symbol.iterator]();;){var m;if(h){if(v>=p.length)break;m=p[v++]}else{v=p.next();if(v.done)break;m=v.value}var g=m;g.addEventListener("click",f)}}},removedfile:function e(t){null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement);return this._updateMaxFilesReachedClass()},thumbnail:function e(t,n){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");for(var i=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),r=true,o=0,i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{o=i.next();if(o.done)break;a=o.value}var s=a;s.alt=t.name;s.src=n}return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function e(t,n){if(t.previewElement){t.previewElement.classList.add("dz-error");"String"!==typeof n&&n.error&&(n=n.error);for(var i=t.previewElement.querySelectorAll("[data-dz-errormessage]"),r=true,o=0,i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{o=i.next();if(o.done)break;a=o.value}var s=a;s.textContent=n}}},errormultiple:function e(){},processing:function e(t){if(t.previewElement){t.previewElement.classList.add("dz-processing");if(t._removeLink)return t._removeLink.innerHTML=this.options.dictCancelUpload}},processingmultiple:function e(){},uploadprogress:function e(t,n,i){if(t.previewElement)for(var r=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),o=true,a=0,r=o?r:r[Symbol.iterator]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{a=r.next();if(a.done)break;s=a.value}var l=s;"PROGRESS"===l.nodeName?l.value=n:l.style.width=n+"%"}},totaluploadprogress:function e(){},sending:function e(){},sendingmultiple:function e(){},success:function e(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:function e(){},canceled:function e(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple:function e(){},complete:function e(t){t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile);if(t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:function e(){},maxfilesexceeded:function e(){},maxfilesreached:function e(){},queuecomplete:function e(){},addedfiles:function e(){}};this.prototype._thumbnailQueue=[];this.prototype._processingThumbnail=false}},{key:"extend",value:function e(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var o=i,a=true,s=0,o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{s=o.next();if(s.done)break;l=s.value}var u=l;for(var c in u){var d=u[c];t[c]=d}}return t}}]);function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));var a=void 0,s=void 0;r.element=e;r.version=t.version;r.defaultOptions.previewTemplate=r.defaultOptions.previewTemplate.replace(/\n*/g,"");r.clickableElements=[];r.listeners=[];r.files=[];"string"===typeof r.element&&(r.element=document.querySelector(r.element));if(!r.element||null==r.element.nodeType)throw new Error("Invalid dropzone element.");if(r.element.dropzone)throw new Error("Dropzone already attached.");t.instances.push(r);r.element.dropzone=r;var l=null!=(s=t.optionsForElement(r.element))?s:{};r.options=t.extend({},r.defaultOptions,l,null!=n?n:{});if(r.options.forceFallback||!t.isBrowserSupported()){var u;return u=r.options.fallback.call(r),i(r,u)}null==r.options.url&&(r.options.url=r.element.getAttribute("action"));if(!r.options.url)throw new Error("No URL provided.");if(r.options.acceptedFiles&&r.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(r.options.uploadMultiple&&r.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(r.options.acceptedMimeTypes){r.options.acceptedFiles=r.options.acceptedMimeTypes;delete r.options.acceptedMimeTypes}null!=r.options.renameFilename&&(r.options.renameFile=function(e){return r.options.renameFilename.call(r,e.name,e)});r.options.method=r.options.method.toUpperCase();(a=r.getExistingFallback())&&a.parentNode&&a.parentNode.removeChild(a);false!==r.options.previewsContainer&&(r.options.previewsContainer?r.previewsContainer=t.getElement(r.options.previewsContainer,"previewsContainer"):r.previewsContainer=r.element);r.options.clickable&&(true===r.options.clickable?r.clickableElements=[r.element]:r.clickableElements=t.getElements(r.options.clickable,"clickable"));r.init();return r}n(t,[{key:"getAcceptedFiles",value:function e(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function e(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function e(t){return this.files.filter(function(e){return e.status===t}).map(function(e){return e})}},{key:"getQueuedFiles",value:function e(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function e(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function e(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function e(){return this.files.filter(function(e){return e.status===t.UPLOADING||e.status===t.QUEUED}).map(function(e){return e})}},{key:"init",value:function e(){var n=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data");this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"));if(this.clickableElements.length){var i=function e(){n.hiddenFileInput&&n.hiddenFileInput.parentNode.removeChild(n.hiddenFileInput);n.hiddenFileInput=document.createElement("input");n.hiddenFileInput.setAttribute("type","file");(null===n.options.maxFiles||n.options.maxFiles>1)&&n.hiddenFileInput.setAttribute("multiple","multiple");n.hiddenFileInput.className="dz-hidden-input";null!==n.options.acceptedFiles&&n.hiddenFileInput.setAttribute("accept",n.options.acceptedFiles);null!==n.options.capture&&n.hiddenFileInput.setAttribute("capture",n.options.capture);n.hiddenFileInput.style.visibility="hidden";n.hiddenFileInput.style.position="absolute";n.hiddenFileInput.style.top="0";n.hiddenFileInput.style.left="0";n.hiddenFileInput.style.height="0";n.hiddenFileInput.style.width="0";t.getElement(n.options.hiddenInputContainer,"hiddenInputContainer").appendChild(n.hiddenFileInput);return n.hiddenFileInput.addEventListener("change",function(){var t=n.hiddenFileInput.files;if(t.length)for(var i=t,r=true,o=0,i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{o=i.next();if(o.done)break;a=o.value}var s=a;n.addFile(s)}n.emit("addedfiles",t);return e()})};i()}this.URL=null!==window.URL?window.URL:window.webkitURL;for(var r=this.events,o=true,a=0,r=o?r:r[Symbol.iterator]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{a=r.next();if(a.done)break;s=a.value}var l=s;this.on(l,this.options[l])}this.on("uploadprogress",function(){return n.updateTotalUploadProgress()});this.on("removedfile",function(){return n.updateTotalUploadProgress()});this.on("canceled",function(e){return n.emit("complete",e)});this.on("complete",function(e){if(0===n.getAddedFiles().length&&0===n.getUploadingFiles().length&&0===n.getQueuedFiles().length)return setTimeout(function(){return n.emit("queuecomplete")},0)});var u=function e(t){t.stopPropagation();return t.preventDefault?t.preventDefault():t.returnValue=false};this.listeners=[{element:this.element,events:{dragstart:function e(t){return n.emit("dragstart",t)},dragenter:function e(t){u(t);return n.emit("dragenter",t)},dragover:function e(t){var i=void 0;try{i=t.dataTransfer.effectAllowed}catch(e){}t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy";u(t);return n.emit("dragover",t)},dragleave:function e(t){return n.emit("dragleave",t)},drop:function e(t){u(t);return n.drop(t)},dragend:function e(t){return n.emit("dragend",t)}}}];this.clickableElements.forEach(function(e){return n.listeners.push({element:e,events:{click:function i(r){(e!==n.element||r.target===n.element||t.elementInside(r.target,n.element.querySelector(".dz-message")))&&n.hiddenFileInput.click();return true}}})});this.enable();return this.options.init.call(this)}},{key:"destroy",value:function e(){this.disable();this.removeAllFiles(true);if(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function e(){var t=void 0;var n=0;var i=0;var r=this.getActiveFiles();if(r.length){for(var o=this.getActiveFiles(),a=true,s=0,o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{s=o.next();if(s.done)break;l=s.value}var u=l;n+=u.upload.bytesSent;i+=u.upload.total}t=100*n/i}else t=100;return this.emit("totaluploadprogress",t,i,n)}},{key:"_getParamName",value:function e(t){return"function"===typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")}},{key:"_renameFile",value:function e(t){if("function"!==typeof this.options.renameFile)return t.name;return this.options.renameFile(t)}},{key:"getFallbackForm",value:function e(){var n=void 0,i=void 0;if(n=this.getExistingFallback())return n;var r='<div class="dz-fallback">';this.options.dictFallbackText&&(r+="<p>"+this.options.dictFallbackText+"</p>");r+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var o=t.createElement(r);if("FORM"!==this.element.tagName){i=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');i.appendChild(o)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return null!=i?i:o}},{key:"getExistingFallback",value:function e(){var t=function e(t){for(var n=t,i=true,r=0,n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{r=n.next();if(r.done)break;o=r.value}var a=o;if(/(^| )fallback($| )/.test(a.className))return a}};var n=["div","form"];for(var i=0;i<n.length;i++){var r=n[i];var o;if(o=t(this.element.getElementsByTagName(r)))return o}}},{key:"setupEventListeners",value:function e(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.addEventListener(n,i,false))}return t}()})}},{key:"removeEventListeners",value:function e(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.removeEventListener(n,i,false))}return t}()})}},{key:"disable",value:function e(){var t=this;this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")});this.removeEventListeners();this.disabled=true;return this.files.map(function(e){return t.cancelUpload(e)})}},{key:"enable",value:function e(){delete this.disabled;this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")});return this.setupEventListeners()}},{key:"filesize",value:function e(t){var n=0;var i="b";if(t>0){var r=["tb","gb","mb","kb","b"];for(var o=0;o<r.length;o++){var a=r[o];var s=Math.pow(this.options.filesizeBase,4-o)/10;if(t>=s){n=t/Math.pow(this.options.filesizeBase,4-o);i=a;break}}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+this.options.dictFileSizeUnits[i]}},{key:"_updateMaxFilesReachedClass",value:function e(){if(null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles){this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files);return this.element.classList.add("dz-max-files-reached")}return this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function e(t){if(!t.dataTransfer)return;this.emit("drop",t);var n=[];for(var i=0;i<t.dataTransfer.files.length;i++)n[i]=t.dataTransfer.files[i];this.emit("addedfiles",n);if(n.length){var r=t.dataTransfer.items;r&&r.length&&null!=r[0].webkitGetAsEntry?this._addFilesFromItems(r):this.handleFiles(n)}}},{key:"paste",value:function e(t){if(null==h(null!=t?t.clipboardData:void 0,function(e){return e.items}))return;this.emit("paste",t);var n=t.clipboardData.items;if(n.length)return this._addFilesFromItems(n)}},{key:"handleFiles",value:function e(t){for(var n=t,i=true,r=0,n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{r=n.next();if(r.done)break;o=r.value}var a=o;this.addFile(a)}}},{key:"_addFilesFromItems",value:function e(t){var n=this;return function(){var e=[];for(var i=t,r=true,o=0,i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{o=i.next();if(o.done)break;a=o.value}var s=a;var l;null!=s.webkitGetAsEntry&&(l=s.webkitGetAsEntry())?l.isFile?e.push(n.addFile(s.getAsFile())):l.isDirectory?e.push(n._addFilesFromDirectory(l,l.name)):e.push(void 0):null!=s.getAsFile&&(null==s.kind||"file"===s.kind)?e.push(n.addFile(s.getAsFile())):e.push(void 0)}return e}()}},{key:"_addFilesFromDirectory",value:function e(t,n){var i=this;var r=t.createReader();var o=function e(t){return v(console,"log",function(e){return e.log(t)})};var a=function e(){return r.readEntries(function(t){if(t.length>0){for(var r=t,o=true,a=0,r=o?r:r[Symbol.iterator]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{a=r.next();if(a.done)break;s=a.value}var l=s;l.isFile?l.file(function(e){if(i.options.ignoreHiddenFiles&&"."===e.name.substring(0,1))return;e.fullPath=n+"/"+e.name;return i.addFile(e)}):l.isDirectory&&i._addFilesFromDirectory(l,n+"/"+l.name)}e()}return null},o)};return a()}},{key:"accept",value:function e(n,i){if(this.options.maxFilesize&&n.size>1024*this.options.maxFilesize*1024)return i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(n.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize));if(t.isValidFile(n,this.options.acceptedFiles)){if(null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles){i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",n)}return this.options.accept.call(this,n,i)}return i(this.options.dictInvalidFileType)}},{key:"addFile",value:function e(n){var i=this;n.upload={uuid:t.uuidv4(),progress:0,total:n.size,bytesSent:0,filename:this._renameFile(n),chunked:this.options.chunking&&(this.options.forceChunking||n.size>this.options.chunkSize),totalChunkCount:Math.ceil(n.size/this.options.chunkSize)};this.files.push(n);n.status=t.ADDED;this.emit("addedfile",n);this._enqueueThumbnail(n);return this.accept(n,function(e){if(e){n.accepted=false;i._errorProcessing([n],e)}else{n.accepted=true;i.options.autoQueue&&i.enqueueFile(n)}return i._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function e(t){for(var n=t,i=true,r=0,n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{r=n.next();if(r.done)break;o=r.value}var a=o;this.enqueueFile(a)}return null}},{key:"enqueueFile",value:function e(n){var i=this;if(n.status!==t.ADDED||true!==n.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");n.status=t.QUEUED;if(this.options.autoProcessQueue)return setTimeout(function(){return i.processQueue()},0)}},{key:"_enqueueThumbnail",value:function e(t){var n=this;if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024){this._thumbnailQueue.push(t);return setTimeout(function(){return n._processThumbnailQueue()},0)}}},{key:"_processThumbnailQueue",value:function e(){var t=this;if(this._processingThumbnail||0===this._thumbnailQueue.length)return;this._processingThumbnail=true;var n=this._thumbnailQueue.shift();return this.createThumbnail(n,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,true,function(e){t.emit("thumbnail",n,e);t._processingThumbnail=false;return t._processThumbnailQueue()})}},{key:"removeFile",value:function e(n){n.status===t.UPLOADING&&this.cancelUpload(n);this.files=l(this.files,n);this.emit("removedfile",n);if(0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function e(n){null==n&&(n=false);for(var i=this.files.slice(),r=true,o=0,i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{o=i.next();if(o.done)break;a=o.value}var s=a;(s.status!==t.UPLOADING||n)&&this.removeFile(s)}return null}},{key:"resizeImage",value:function e(n,i,r,o,a){var s=this;return this.createThumbnail(n,i,r,o,true,function(e,i){if(null==i)return a(n);var r=s.options.resizeMimeType;null==r&&(r=n.type);var o=i.toDataURL(r,s.options.resizeQuality);"image/jpeg"!==r&&"image/jpg"!==r||(o=f.restore(n.dataURL,o));return a(t.dataURItoBlob(o))})}},{key:"createThumbnail",value:function e(t,n,i,r,o,a){var s=this;var l=new FileReader;l.onload=function(){t.dataURL=l.result;if("image/svg+xml"===t.type){null!=a&&a(l.result);return}return s.createThumbnailFromUrl(t,n,i,r,o,a)};return l.readAsDataURL(t)}},{key:"createThumbnailFromUrl",value:function e(t,n,i,r,o,a,s){var l=this;var u=document.createElement("img");s&&(u.crossOrigin=s);u.onload=function(){var e=function e(t){return t(1)};"undefined"!==typeof EXIF&&null!==EXIF&&o&&(e=function e(t){return EXIF.getData(u,function(){return t(EXIF.getTag(this,"Orientation"))})});return e(function(e){t.width=u.width;t.height=u.height;var o=l.options.resize.call(l,t,n,i,r);var s=document.createElement("canvas");var c=s.getContext("2d");s.width=o.trgWidth;s.height=o.trgHeight;if(e>4){s.width=o.trgHeight;s.height=o.trgWidth}switch(e){case 2:c.translate(s.width,0);c.scale(-1,1);break;case 3:c.translate(s.width,s.height);c.rotate(Math.PI);break;case 4:c.translate(0,s.height);c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI);c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI);c.translate(0,-s.width);break;case 7:c.rotate(.5*Math.PI);c.translate(s.height,-s.width);c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI);c.translate(-s.height,0);break}d(c,u,null!=o.srcX?o.srcX:0,null!=o.srcY?o.srcY:0,o.srcWidth,o.srcHeight,null!=o.trgX?o.trgX:0,null!=o.trgY?o.trgY:0,o.trgWidth,o.trgHeight);var f=s.toDataURL("image/png");if(null!=a)return a(f,s)})};null!=a&&(u.onerror=a);return u.src=t.dataURL}},{key:"processQueue",value:function e(){var t=this.options.parallelUploads;var n=this.getUploadingFiles().length;var i=n;if(n>=t)return;var r=this.getQueuedFiles();if(!(r.length>0))return;if(this.options.uploadMultiple)return this.processFiles(r.slice(0,t-n));while(i<t){if(!r.length)return;this.processFile(r.shift());i++}}},{key:"processFile",value:function e(t){return this.processFiles([t])}},{key:"processFiles",value:function e(n){for(var i=n,r=true,o=0,i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{o=i.next();if(o.done)break;a=o.value}var s=a;s.processing=true;s.status=t.UPLOADING;this.emit("processing",s)}this.options.uploadMultiple&&this.emit("processingmultiple",n);return this.uploadFiles(n)}},{key:"_getFilesWithXhr",value:function e(t){var n=void 0;return this.files.filter(function(e){return e.xhr===t}).map(function(e){return e})}},{key:"cancelUpload",value:function e(n){if(n.status===t.UPLOADING){var i=this._getFilesWithXhr(n.xhr);for(var r=i,o=true,a=0,r=o?r:r[Symbol.iterator]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{a=r.next();if(a.done)break;s=a.value}var l=s;l.status=t.CANCELED}"undefined"!==typeof n.xhr&&n.xhr.abort();for(var u=i,c=true,d=0,u=c?u:u[Symbol.iterator]();;){var f;if(c){if(d>=u.length)break;f=u[d++]}else{d=u.next();if(d.done)break;f=d.value}var p=f;this.emit("canceled",p)}this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else if(n.status===t.ADDED||n.status===t.QUEUED){n.status=t.CANCELED;this.emit("canceled",n);this.options.uploadMultiple&&this.emit("canceledmultiple",[n])}if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function e(t){if("function"===typeof t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.apply(this,i)}return t}},{key:"uploadFile",value:function e(t){return this.uploadFiles([t])}},{key:"uploadFiles",value:function e(n){var i=this;this._transformFiles(n,function(e){if(n[0].upload.chunked){var r=n[0];var o=e[0];var a=0;r.upload.chunks=[];var s=function e(){var s=0;while(void 0!==r.upload.chunks[s])s++;if(s>=r.upload.totalChunkCount)return;a++;var l=s*i.options.chunkSize;var u=Math.min(l+i.options.chunkSize,r.size);var c={name:i._getParamName(0),data:o.webkitSlice?o.webkitSlice(l,u):o.slice(l,u),filename:r.upload.filename,chunkIndex:s};r.upload.chunks[s]={file:r,index:s,dataBlock:c,status:t.UPLOADING,progress:0,retries:0};i._uploadData(n,[c])};r.upload.finishedChunkUpload=function(e){var o=true;e.status=t.SUCCESS;e.dataBlock=null;e.xhr=null;for(var a=0;a<r.upload.totalChunkCount;a++){if(void 0===r.upload.chunks[a])return s();r.upload.chunks[a].status!==t.SUCCESS&&(o=false)}o&&i.options.chunksUploaded(r,function(){i._finished(n,"",null)})};if(i.options.parallelChunkUploads)for(var l=0;l<r.upload.totalChunkCount;l++)s();else s()}else{var u=[];for(var c=0;c<n.length;c++)u[c]={name:i._getParamName(c),data:e[c],filename:n[c].upload.filename};i._uploadData(n,u)}})}},{key:"_getChunk",value:function e(t,n){for(var i=0;i<t.upload.totalChunkCount;i++)if(void 0!==t.upload.chunks[i]&&t.upload.chunks[i].xhr===n)return t.upload.chunks[i]}},{key:"_uploadData",value:function e(n,i){var r=this;var o=new XMLHttpRequest;for(var a=n,s=true,l=0,a=s?a:a[Symbol.iterator]();;){var u;if(s){if(l>=a.length)break;u=a[l++]}else{l=a.next();if(l.done)break;u=l.value}var c=u;c.xhr=o}n[0].upload.chunked&&(n[0].upload.chunks[i[0].chunkIndex].xhr=o);var d=this.resolveOption(this.options.method,n);var f=this.resolveOption(this.options.url,n);o.open(d,f,true);o.timeout=this.resolveOption(this.options.timeout,n);o.withCredentials=!!this.options.withCredentials;o.onload=function(e){r._finishedUploading(n,o,e)};o.onerror=function(){r._handleUploadError(n,o)};var p=null!=o.upload?o.upload:o;p.onprogress=function(e){return r._updateFilesUploadProgress(n,o,e)};var h={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&t.extend(h,this.options.headers);for(var v in h){var m=h[v];m&&o.setRequestHeader(v,m)}var g=new FormData;if(this.options.params){var b=this.options.params;"function"===typeof b&&(b=b.call(this,n,o,n[0].upload.chunked?this._getChunk(n[0],o):null));for(var y in b){var x=b[y];g.append(y,x)}}for(var w=n,S=true,C=0,w=S?w:w[Symbol.iterator]();;){var E;if(S){if(C>=w.length)break;E=w[C++]}else{C=w.next();if(C.done)break;E=C.value}var q=E;this.emit("sending",q,o,g)}this.options.uploadMultiple&&this.emit("sendingmultiple",n,o,g);this._addFormElementData(g);for(var _=0;_<i.length;_++){var T=i[_];g.append(T.name,T.data,T.filename)}this.submitRequest(o,g,n)}},{key:"_transformFiles",value:function e(t,n){var i=this;var r=[];var o=0;var a=function e(a){i.options.transformFile.call(i,t[a],function(e){r[a]=e;++o===t.length&&n(r)})};for(var s=0;s<t.length;s++)a(s)}},{key:"_addFormElementData",value:function e(t){if("FORM"===this.element.tagName)for(var n=this.element.querySelectorAll("input, textarea, select, button"),i=true,r=0,n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{r=n.next();if(r.done)break;o=r.value}var a=o;var s=a.getAttribute("name");var l=a.getAttribute("type");l&&(l=l.toLowerCase());if("undefined"===typeof s||null===s)continue;if("SELECT"===a.tagName&&a.hasAttribute("multiple"))for(var u=a.options,c=true,d=0,u=c?u:u[Symbol.iterator]();;){var f;if(c){if(d>=u.length)break;f=u[d++]}else{d=u.next();if(d.done)break;f=d.value}var p=f;p.selected&&t.append(s,p.value)}else(!l||"checkbox"!==l&&"radio"!==l||a.checked)&&t.append(s,a.value)}}},{key:"_updateFilesUploadProgress",value:function e(t,n,i){var r=void 0;if("undefined"!==typeof i){r=100*i.loaded/i.total;if(t[0].upload.chunked){var o=t[0];var a=this._getChunk(o,n);a.progress=r;a.total=i.total;a.bytesSent=i.loaded;var s=0,l=void 0,u=void 0;o.upload.progress=0;o.upload.total=0;o.upload.bytesSent=0;for(var c=0;c<o.upload.totalChunkCount;c++)if(void 0!==o.upload.chunks[c]&&void 0!==o.upload.chunks[c].progress){o.upload.progress+=o.upload.chunks[c].progress;o.upload.total+=o.upload.chunks[c].total;o.upload.bytesSent+=o.upload.chunks[c].bytesSent}o.upload.progress=o.upload.progress/o.upload.totalChunkCount}else for(var d=t,f=true,p=0,d=f?d:d[Symbol.iterator]();;){var h;if(f){if(p>=d.length)break;h=d[p++]}else{p=d.next();if(p.done)break;h=p.value}var v=h;v.upload.progress=r;v.upload.total=i.total;v.upload.bytesSent=i.loaded}for(var m=t,g=true,b=0,m=g?m:m[Symbol.iterator]();;){var y;if(g){if(b>=m.length)break;y=m[b++]}else{b=m.next();if(b.done)break;y=b.value}var x=y;this.emit("uploadprogress",x,x.upload.progress,x.upload.bytesSent)}}else{var w=true;r=100;for(var S=t,C=true,E=0,S=C?S:S[Symbol.iterator]();;){var q;if(C){if(E>=S.length)break;q=S[E++]}else{E=S.next();if(E.done)break;q=E.value}var _=q;100===_.upload.progress&&_.upload.bytesSent===_.upload.total||(w=false);_.upload.progress=r;_.upload.bytesSent=_.upload.total}if(w)return;for(var T=t,k=true,O=0,T=k?T:T[Symbol.iterator]();;){var D;if(k){if(O>=T.length)break;D=T[O++]}else{O=T.next();if(O.done)break;D=O.value}var A=D;this.emit("uploadprogress",A,r,A.upload.bytesSent)}}}},{key:"_finishedUploading",value:function e(n,i,r){var o=void 0;if(n[0].status===t.CANCELED)return;if(4!==i.readyState)return;if("arraybuffer"!==i.responseType&&"blob"!==i.responseType){o=i.responseText;if(i.getResponseHeader("content-type")&&~i.getResponseHeader("content-type").indexOf("application/json"))try{o=JSON.parse(o)}catch(e){r=e;o="Invalid JSON response from server."}}this._updateFilesUploadProgress(n);200<=i.status&&i.status<300?n[0].upload.chunked?n[0].upload.finishedChunkUpload(this._getChunk(n[0],i)):this._finished(n,o,r):this._handleUploadError(n,i,o)}},{key:"_handleUploadError",value:function e(n,i,r){if(n[0].status===t.CANCELED)return;if(n[0].upload.chunked&&this.options.retryChunks){var o=this._getChunk(n[0],i);if(o.retries++<this.options.retryChunksLimit){this._uploadData(n,[o.dataBlock]);return}console.warn("Retried this chunk too often. Giving up.")}for(var a=n,s=true,l=0,a=s?a:a[Symbol.iterator]();;){var u;if(s){if(l>=a.length)break;u=a[l++]}else{l=a.next();if(l.done)break;u=l.value}var c=u;this._errorProcessing(n,r||this.options.dictResponseError.replace("{{statusCode}}",i.status),i)}}},{key:"submitRequest",value:function e(t,n,i){t.send(n)}},{key:"_finished",value:function e(n,i,r){for(var o=n,a=true,s=0,o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{s=o.next();if(s.done)break;l=s.value}var u=l;u.status=t.SUCCESS;this.emit("success",u,i,r);this.emit("complete",u)}if(this.options.uploadMultiple){this.emit("successmultiple",n,i,r);this.emit("completemultiple",n)}if(this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function e(n,i,r){for(var o=n,a=true,s=0,o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{s=o.next();if(s.done)break;l=s.value}var u=l;u.status=t.ERROR;this.emit("error",u,i,r);this.emit("complete",u)}if(this.options.uploadMultiple){this.emit("errormultiple",n,i,r);this.emit("completemultiple",n)}if(this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}}]);return t}(a);s.initClass();s.version="5.5.1";s.options={};s.optionsForElement=function(e){return e.getAttribute("id")?s.options[u(e.getAttribute("id"))]:void 0};s.instances=[];s.forElement=function(e){"string"===typeof e&&(e=document.querySelector(e));if(null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone};s.autoDiscover=true;s.discover=function(){var e=void 0;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function t(n){return function(){var t=[];for(var i=n,r=true,o=0,i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{o=i.next();if(o.done)break;a=o.value}var s=a;/(^| )dropzone($| )/.test(s.className)?t.push(e.push(s)):t.push(void 0)}return t}()};t(document.getElementsByTagName("div"));t(document.getElementsByTagName("form"))}return function(){var t=[];for(var n=e,i=true,r=0,n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{r=n.next();if(r.done)break;o=r.value}var a=o;false!==s.optionsForElement(a)?t.push(new s(a)):t.push(void 0)}return t}()};s.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];s.isBrowserSupported=function(){var e=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var t=s.blacklistedBrowsers,n=true,i=0,t=n?t:t[Symbol.iterator]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{i=t.next();if(i.done)break;r=i.value}var o=r;if(o.test(navigator.userAgent)){e=false;continue}}else e=false;else e=false;return e};s.dataURItoBlob=function(e){var t=atob(e.split(",")[1]);var n=e.split(",")[0].split(":")[1].split(";")[0];var i=new ArrayBuffer(t.length);var r=new Uint8Array(i);for(var o=0,a=t.length,s=0<=a;s?o<=a:o>=a;s?o++:o--)r[o]=t.charCodeAt(o);return new Blob([i],{type:n})};var l=function e(t,n){return t.filter(function(e){return e!==n}).map(function(e){return e})};var u=function e(t){return t.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};s.createElement=function(e){var t=document.createElement("div");t.innerHTML=e;return t.childNodes[0]};s.elementInside=function(e,t){if(e===t)return true;while(e=e.parentNode)if(e===t)return true;return false};s.getElement=function(e,t){var n=void 0;"string"===typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e);if(null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n};s.getElements=function(e,t){var n=void 0,i=void 0;if(e instanceof Array){i=[];try{for(var r=e,o=true,a=0,r=o?r:r[Symbol.iterator]();;){if(o){if(a>=r.length)break;n=r[a++]}else{a=r.next();if(a.done)break;n=a.value}i.push(this.getElement(n,t))}}catch(e){i=null}}else if("string"===typeof e){i=[];for(var s=document.querySelectorAll(e),l=true,u=0,s=l?s:s[Symbol.iterator]();;){if(l){if(u>=s.length)break;n=s[u++]}else{u=s.next();if(u.done)break;n=u.value}i.push(n)}}else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i};s.confirm=function(e,t,n){if(window.confirm(e))return t();if(null!=n)return n()};s.isValidFile=function(e,t){if(!t)return true;t=t.split(",");var n=e.type;var i=n.replace(/\/.*$/,"");for(var r=t,o=true,a=0,r=o?r:r[Symbol.iterator]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{a=r.next();if(a.done)break;s=a.value}var l=s;l=l.trim();if("."===l.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(l.toLowerCase(),e.name.length-l.length))return true}else if(/\/\*$/.test(l)){if(i===l.replace(/\/.*$/,""))return true}else if(n===l)return true}return false};"undefined"!==typeof e&&null!==e&&(e.fn.dropzone=function(e){return this.each(function(){return new s(this,e)})});true,null!==t?t.exports=s:window.Dropzone=s;s.ADDED="added";s.QUEUED="queued";s.ACCEPTED=s.QUEUED;s.UPLOADING="uploading";s.PROCESSING=s.UPLOADING;s.CANCELED="canceled";s.ERROR="error";s.SUCCESS="success";var c=function e(t){var n=t.naturalWidth;var i=t.naturalHeight;var r=document.createElement("canvas");r.width=1;r.height=i;var o=r.getContext("2d");o.drawImage(t,0,0);var a=o.getImageData(1,0,1,i),s=a.data;var l=0;var u=i;var c=i;while(c>l){var d=s[4*(c-1)+3];0===d?u=c:l=c;c=u+l>>1}var f=c/i;return 0===f?1:f};var d=function e(t,n,i,r,o,a,s,l,u,d){var f=c(n);return t.drawImage(n,i,r,o,a,s,l,u,d/f)};var f=function(){function e(){o(this,e)}n(e,null,[{key:"initClass",value:function e(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function e(t){var n="";var i=void 0;var r=void 0;var o="";var a=void 0;var s=void 0;var l=void 0;var u="";var c=0;while(true){i=t[c++];r=t[c++];o=t[c++];a=i>>2;s=(3&i)<<4|r>>4;l=(15&r)<<2|o>>6;u=63&o;isNaN(r)?l=u=64:isNaN(o)&&(u=64);n=n+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(u);i=r=o="";a=s=l=u="";if(!(c<t.length))break}return n}},{key:"restore",value:function e(t,n){if(!t.match("data:image/jpeg;base64,"))return n;var i=this.decode64(t.replace("data:image/jpeg;base64,",""));var r=this.slice2Segments(i);var o=this.exifManipulation(n,r);return"data:image/jpeg;base64,"+this.encode64(o)}},{key:"exifManipulation",value:function e(t,n){var i=this.getExifArray(n);var r=this.insertExif(t,i);var o=new Uint8Array(r);return o}},{key:"getExifArray",value:function e(t){var n=void 0;var i=0;while(i<t.length){n=t[i];if(255===n[0]&225===n[1])return n;i++}return[]}},{key:"insertExif",value:function e(t,n){var i=t.replace("data:image/jpeg;base64,","");var r=this.decode64(i);var o=r.indexOf(255,3);var a=r.slice(0,o);var s=r.slice(o);var l=a;l=l.concat(n);l=l.concat(s);return l}},{key:"slice2Segments",value:function e(t){var n=0;var i=[];while(true){var r;if(255===t[n]&218===t[n+1])break;if(255===t[n]&216===t[n+1])n+=2;else{r=256*t[n+2]+t[n+3];var o=n+r+2;var a=t.slice(n,o);i.push(a);n=o}if(n>t.length)break}return i}},{key:"decode64",value:function e(t){var n="";var i=void 0;var r=void 0;var o="";var a=void 0;var s=void 0;var l=void 0;var u="";var c=0;var d=[];var f=/[^A-Za-z0-9\+\/\=]/g;f.exec(t)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(true){a=this.KEY_STR.indexOf(t.charAt(c++));s=this.KEY_STR.indexOf(t.charAt(c++));l=this.KEY_STR.indexOf(t.charAt(c++));u=this.KEY_STR.indexOf(t.charAt(c++));i=a<<2|s>>4;r=(15&s)<<4|l>>2;o=(3&l)<<6|u;d.push(i);64!==l&&d.push(r);64!==u&&d.push(o);i=r=o="";a=s=l=u="";if(!(c<t.length))break}return d}}]);return e}();f.initClass();var p=function e(t,n){var i=false;var r=true;var o=t.document;var a=o.documentElement;var s=o.addEventListener?"addEventListener":"attachEvent";var l=o.addEventListener?"removeEventListener":"detachEvent";var u=o.addEventListener?"":"on";var c=function e(r){if("readystatechange"===r.type&&"complete"!==o.readyState)return;("load"===r.type?t:o)[l](u+r.type,e,false);if(!i&&(i=true))return n.call(t,r.type||r)};var d=function e(){try{a.doScroll("left")}catch(t){setTimeout(e,50);return}return c("poll")};if("complete"!==o.readyState){if(o.createEventObject&&a.doScroll){try{r=!t.frameElement}catch(e){}r&&d()}o[s](u+"DOMContentLoaded",c,false);o[s](u+"readystatechange",c,false);return t[s](u+"load",c,false)}};s._autoDiscoverFunction=function(){if(s.autoDiscover)return s.discover()};p(window,s._autoDiscoverFunction);function h(e,t){return"undefined"!==typeof e&&null!==e?t(e):void 0}function v(e,t,n){return"undefined"!==typeof e&&null!==e&&"function"===typeof e[t]?n(e,t):void 0}}).call(this,n(11),n(55)(e))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1294),n(91),n(94),n(49),n(394)],r=function(e,t,n,i,r){function o(){return r.getFlag("AOSHARE")}function a(e,t){return e&&e.title?e.title:t.model.layout.labelExpression||t.model.layout.qMeta.title}function s(e,t){if(e&&e.genericType)return e&&"sheet"===e.genericType;return t.view===t.Views.sheet||t.view===t.Views.masterObject||t.view===t.Views.object}function l(r,l,u,c){var d=r.view===r.Views.overview&&!c,f=a(c,r),p=s(c,r),h;function v(){var t=c||i.model;var n="sheet"===t.type;e.getService("qvAppViewSectionService").setSectionVisible("myPublished",n);if(h){h.close();h=null}function r(n){e.$rootScope.$emit("ao-publish",{model:t,canModify:n})}t.publish().then(function(){o()?t.getLayout().then(function(e){r(e&&e.permissions&&e.permissions.update)}):r(false)})}o()?v():h=t.show({tid:"PublishDialog",title:d?n.get("Publishing.PublishAppTitle"):p?n.get("Publishing.PublishSheetTitle"):n.get("Publishing.PublishStoryTitle"),content:n.get(p?"Publishing.PublishSheetText":"Publishing.PublishStoryText",[f,u.layout.qTitle]),action:{name:n.get("Publishing.Dialog.Confirm"),focus:true,tid:"Publish",callback:v}})}function u(i,r,l){var u=s(l,i),c=l||i.model,d;function f(){e.getService("qvAppViewSectionService").setSectionVisible("myPrivate",u);if(d){d.close();d=null}c.unPublish().then(function(){e.$rootScope.$emit("unpublished",c)})}o()?f():d=t.show({tid:"UnpublishDialog",title:n.get(u?"Publishing.UnpublishSheetTitle":"Publishing.UnpublishStoryTitle"),content:n.get(u?"Publishing.UnpublishSheetText":"Publishing.UnpublishStoryText",a(l,i)),action:{name:n.get("Unpublishing.Dialog.Confirm"),focus:true,tid:"Unpublish",callback:f}})}return{openPublishDialog:l,openUnpublishDialog:u}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(301),n(143),n(207),n(99),n(93),n(120),n(215),n(96),n(311)],r=function(e,t,n,i,r,o,a,s,l,u,c){var d,f,p={sheets:null,stories:null},h,v,m,g,b,y,x,w,S,C=false,E={itemKey:"item",itemSelector:".can-sort",scrollSelector:".av-content-container",gesture:{name:o.treatAsDesktop()?"swipe":"longtapswipe",options:{radiusThreshold:2}}},q={placeholder:null,placeholderIx:-1};function _(e,t){for(var n=0;n<e.length;n++)if(e[n].qInfo.qId===t.qInfo.qId)return n;return-1}function T(){q.placeholder=null;q.placeholderIx=-1}function k(e){e.classList.push("qv-dragging");t.getService("$$expandable").forceClose()}function O(e){return{qInfo:{qId:e},qMeta:{published:false},qData:{cells:[]},addButton:true,readOnly:true,classList:[]}}function D(){delete arguments[0].expandableOptions;var e=this._super.apply(this,arguments);e.qInfo={qId:-10};e.qMeta={published:true};e.qData={cells:[],thumbnail:{qStaticContentUrl:{qUrl:""}}};e.isPhSort=true;e.readOnly=true;e.style={visibility:"hidden"};C=true;q.placeholder=e;q.placeholderIx=_(this.getList(e).items,e)}function A(){this._super.apply(this,arguments);C=false;this.lists.forEach(function(e){for(var t=0;t<e.items.length;t++)e.items[t].classList&&e.items[t].classList.length&&(e.items[t].classList.length=0)});T()}function I(){return h.is.grid?"":"vertical"}function L(t){if(u.utils.isMouse(t)){if(e(t.target).closest(".qv-expandable").length)return false;return!!e(t.target).closest(this.options.itemSelector).length}return!!e(t.target).closest(this.options.itemDragSelector).length}function P(){return true}function M(e){this._super.apply(this,arguments);k(e)}function N(e,t,n){e.classList.length=0;var i=W(t.items,t.getIndexByItem(e),e);i.oldRank!==i.newRank&&(n?h.commitNewDetails(i.item,i.newRank):h.commitNewSharedItemDetails({id:i.item.qMeta.id,rank:i.newRank}))}function R(e,t){var n=this.getList(e),i=this.getList(t),r,o;if(!n||!i)return;o=_(i.items,t);r=_(n.items,e);n.items.splice(r,1);i.items.splice(o,0,e);q.placeholderIx=o}function F(e){return this.lists.filter(function(t){for(var n=0;n<t.items.length;n++)if(t.items[n].qInfo.qId===e.qInfo.qId)return true})[0]}v=r.create({options:E,addPlaceholder:D,onBegin:M,enable:A,onMove:function e(t){this._super.apply(this,arguments);N(t,m,true)},moveItem:R,getList:F,allowDrag:L,allowScroll:P,getDirection:I});m=v.createList();g=r.create({options:E,addPlaceholder:D,onBegin:M,enable:A,onMove:function e(t){this._super.apply(this,arguments);N(t,b,false)},moveItem:R,getList:F,allowDrag:L,allowScroll:P,getDirection:I});b=g.createList(),y=r.create({options:E,addPlaceholder:D,onBegin:M,enable:A,onMove:function e(t){this._super.apply(this,arguments);N(t,x)},moveItem:R,getList:F,allowDrag:L,allowScroll:P,getDirection:I});x=y.createList();w=r.create({options:E,addPlaceholder:D,onBegin:M,enable:A,onMove:function e(t){this._super.apply(this,arguments);N(t,S)},moveItem:R,getList:F,allowDrag:L,allowScroll:P,getDirection:I});S=w.createList();function j(e){f=e}function B(e){e&&(d=e)}function V(){if(f.duplicatingItem)return;a.getApp().then(function(e){return e.getLayout()}).then(function(e){var t=!!e.qReadOnly,r=!!e.permissions.createSheet;p.sheets&&p.sheets.getLayout().then(function(e){v.reset();g.reset();var o=e.filter(n.filterApproved).sort(d);var a=e.filter(n.filterPrivate).sort(d);a.forEach(function(e,n){var i={};Object.keys(e).forEach(function(t){i[t]=e[t]});i.id=n;i.readOnly=t;i.permissions=e.permissions;i.classList=[];m.addSortableItem(i)});o.forEach(function(e,n){var i={};Object.keys(e).forEach(function(t){i[t]=e[t]});i.id=n;i.readOnly=t;i.permissions=e.permissions;i.classList=[];b.addSortableItem(i)});!t&&r&&m.addSortableItem(O(-100),32);q.placeholder&&m.items.splice(q.placeholderIx,0,q.placeholder);h.sheetSortableItemLists=v;h.baseSheetSortableItemLists=g;h.approvedSheets=b.items;h.privateSheets=m.items;h.communitySheets=e.filter(n.filterCommunity(i));h.myPublishedSheets=e.filter(n.filterMyPublishedCommunity(i));h.sortMyPublished(h.myPublishedSheets);h.sortFilter();h.addingItem=false})})}function H(){if(f.duplicatingItem)return;a.getApp().then(function(e){return e.getLayout()}).then(function(e){var t=!!e.qReadOnly,r=!!e.permissions.createStory;p.stories&&p.stories.getLayout().then(function(e){y.reset();w.reset();var o=e.filter(n.filterApproved).sort(d);var a=e.filter(n.filterPrivate).sort(d);a.forEach(function(e){var n={};Object.keys(e).forEach(function(t){n[t]=e[t]});n.readOnly=t;n.permissions=e.permissions;n.classList=[];x.addSortableItem(n)});o.forEach(function(e){var n={};Object.keys(e).forEach(function(t){n[t]=e[t]});n.readOnly=t;n.permissions=e.permissions;n.classList=[];S.addSortableItem(n)});!t&&r&&x.addSortableItem(O(-100),32);q.placeholder&&x.items.splice(q.placeholderIx,0,q.placeholder);h.storySortableItemLists=y;h.baseStorySortableItemLists=w;h.privateStories=x.items;h.approvedStories=S.items;h.communityStories=e.filter(n.filterCommunity(i));h.myPublishedStories=e.filter(n.filterMyPublishedCommunity(i));h.sortMyPublished(h.myPublishedStories);h.sortFilter();h.addingItem=false})})}function U(e,t){B(t);h=e;s.getList().then(function(e){p.sheets=e;p.sheets.Invalidated.bind(V);V()})}function z(e,t){B(t);h=e;l.getList().then(function(e){p.stories=e;p.stories.Invalidated.bind(H);H()})}function $(e,t,n,i){if(e.is.appReadOnly)return;var r="story"===i?l:s;if(!r)return;return r.get(t.qInfo.qId).then(function(i){if(i.isClosing||i.isClosed)return;return i.getProperties().then(function(r){r.rank="number"===typeof n?n:t.qData.rank;r.qMetaDef.title.trim()||(r.qMetaDef.title=i._properties.qMetaDef.title);if(c.getPreferredGridSize()&&"sheet"===i.genericType&&0===i.properties.cells.length){var o=c.getPreferredGridSize();var a=c.getResolutionFor(o);r.rows=a;r.columns=2*a;r.gridResolution=o;r.layoutOptions={mobileLayout:c.getPreferredMobileLayout()}}return i.setProperties(r).then(function(){e.$root&&e.$root.$emit("clearUndo")})})})}function G(e){return e.qData.rank}function W(e,t,n){var i=e[t-1],r=e[t+1],o=G(n),a="undefined"!==typeof i,s="undefined"!==typeof r,l;l=s&&!r.addButton&&a?(G(r)+G(i))/2:a||!s||r.addButton?a&&s&&r.addButton||a&&!s?G(i)+1:o:G(r)-1;return{item:n,newRank:l,oldRank:o}}function Q(e,t){return t.get(e).then(function(e){return e.getProperties().then(function(e){return e})})}function K(e){return Q(e,l)}function Y(e){return Q(e,s)}function X(e,t){return t.get(e).then(function(e){return e.getLayout().then(function(e){return e})})}function Z(e){return X(e,l)}function J(e){return X(e,s)}function ee(){C=false;if(p.sheets){p.sheets.Invalidated.unbind(V);p.sheets=null}if(p.stories){p.stories.Invalidated.unbind(H);p.stories=null}T()}return{init:j,initSheet:U,initStories:z,setSort:B,destroy:ee,setNewDetails:$,getNewIndex:W,getSheetProperties:Y,getStoryProperties:K,getSheetLayout:J,getStoryLayout:Z,preventScroll:function e(){return C},filters:{approved:n.filterApproved,myPrivate:n.filterPrivate,community:n.filterCommunity(i),myPublished:n.filterMyPublishedCommunity(i)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(91)],r=function(e,t){return{isNameValid:n,generateUniqueName:i,hasAnyMatches:r,isClickOnScrollbar:o,getSelections:a};function n(e,t){return"string"===typeof e&&e.length>0&&!t.contains(e)}function i(e,n){if(!e||!e.length)return e;var i=t.get(e).replace(/\(\{0\}\)/,"").trim();var r=0;while(n.indexOf(i)>-1){r+=1;i=t.get(e,r)}return i}function r(e,t){var n=false;for(var i in t)if(t[i].showItem){n=true;break}e.hasSearchMatch=n}function o(t){var n=e(t.target).offset().left+e(t.target).width(),i=t.pageX;if(i>n-17&&e(t.target).hasClass("bm-desc")&&e(t.target).hasClass("bm-margin"))return true;return false}function a(e){var t,n=e.qSelectionObject?e.qSelectionObject.qSelections:null,i={};i.currentSelectFields=[];i.currentSelectCount=0;i.currentSelectValuesCount=[];i.currentSelectedValues=[];if(n&&n.length>0){i.currentSelectCount=n.length;for(t=0;t<n.length;t++){i.currentSelectFields.push(n[t].qReadableName||n[t].qField);i.currentSelectValuesCount.push(n[t].qStateCounts.qSelected+n[t].qStateCounts.qLocked+n[t].qStateCounts.qSelectedExcluded);i.currentSelectedValues[t]=n[t].qSelected}}return i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1295),n(1722)],r=function(e,t){e.service("$$expandable",["$timeout",function(e){var n,i={id:null};function r(){i.id=null}var o={open:function e(t){var n=this.close.bind(this);if(i.id===t){n();return}i.id=t},close:function o(){if(!i.id)return;n=e(function(){t.event.isSwipeing||r()},150)},forceClose:function e(){if(!i.id)return;o.stopCloseTimer();r()},stopCloseTimer:function t(){if(n){e.cancel(n);n=null}},getExpandObject:function e(){return i}};Object.defineProperty(o,"isOpened",{get:function e(){return null!==i.id}});return o}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(54),n(90),n(127),n(48),n(152),n(1438),n(1028),n(1439),n(1446),n(1029),n(107),n(304),n(99),n(1225),n(114),n(159),n(1447)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m){var g;var b={bold:false,italic:false,underline:false,justifyLeft:false,justifyCenter:false,justifyRight:false,link:false,fontSize:false};g={controller:["$scope","$element","$timeout","$sce","luiPopover",function(a,g,y,x,w){var S=x.getTrustedHtml(o.toHTML(a.options.markdown));a.data=JSON.stringify({data:[{type:"paragraph",data:{text:o.toMarkdown(S)}}]});a.states=b;a.cmdQueue=new u;var C;function E(){q();if("inline"===a.options.toolbar.style)C=a.options.target.showComponent(l,{textTool:a,options:a.options.toolbar||{}});else{C=w.show({template:l.template,controller:l.controller,input:{textTool:a,options:a.options.toolbar||{}},alignTo:a.options.target||g[0],dock:"top",variant:"inverse",closeOnOutside:true,outsideIgnore:"media-toolbar",showArrow:false,autoFocus:false});C.closed.then(function(){C=null})}}function q(){if(C){a.editor.formatBar.$el.remove();C=null}}this.scope=function(){return a};this.closing=function(){var e=this.scope().options;C&&("inline"===e.toolbar.style?e.target.empty():C.close())};a.getParagraph=function(){return a.editor.blocks[0]};a.getEditorElement=function(){return a.getParagraph().getTextBlock()};a.destroy=function(){q();a.destroyComponent()};a.calculateUsage=function(){var e=a.getEditorElement()[0];a.usage=Math.min(100,(e.textContent.length/d.textImage*100).toFixed(0));a.showUsage=a.usage>=90};function _(){var e=i.getAncestorsUntil(a.currentRange.startContainer,n),t=i.getAncestorsUntil(a.currentRange.endContainer,n);function n(e){return a.getEditorElement()[0]===e}function r(e,t){return Array.isArray(e)?e.some(function(e){return r(e,t)}):t.some(function(t){return t.nodeName.toLowerCase()===e})}function o(){var e=a.currentRange.startContainer;while(e.parentNode&&"DIV"!==e.tagName&&"P"!==e.tagName)e=e.parentNode;return e}return{rangeCollapsed:a.currentRange.collapsed,hasStartAncestorTag:function t(n){return r(n,e)},hasEndAncestorTag:function e(n){return r(n,t)},getParentParagraph:o}}a.refreshState=function(){if(!a.currentRange)return;r.$apply(a,function(){a.calculateUsage();var e=_();Object.keys(a.states).forEach(function(t){a.states[t]=o.Formatters[t].isActive(e)});var t;if(a.currentRange){t=document.queryCommandValue("foreColor");"undefined"!==typeof t&&(t=n.normalizeToHex(t))}a.color=t||"#545352";var r,l;if(a.currentRange){l=i.getParentElementWithAttribute(a.currentRange.endContainer,"font","size");if(l){r=l.getAttribute("size");r=s.htmlSizeToMarkdownSize[r];r=s.markdownSizeToHtmlSize[r]}"undefined"===r&&(r=null);l||r||"<br>"!==a.currentRange.endContainer.innerHTML&&!a.currentRange.endContainer.textContent||(a.fontSize=3)}r?a.fontSize=r:r||a.fontSize||(a.fontSize=3)})};a.saveRange=function(){var e=c.getRange();a.currentRange=e?e.cloneRange():null};a.restoreRange=function(){if(!a.currentRange)return;var e=c.getRange();e?e&&(c.rangeEquals(e,a.currentRange)||c.addRange(a.currentRange,true)):c.addRange(a.currentRange,true)};a.saveScroll=function(){a.currentScrollTop=a.getEditorElement()[0].scrollTop};a.restoreScroll=function(){a.currentScrollTop&&(a.getEditorElement()[0].scrollTop=a.currentScrollTop)};a.setJustify=function(e){a.focus();a.restoreScroll();a.restoreRange();a.execCustom({cmd:e});a.saveRange();a.refreshState()};a.setBIU=function(e){a.focus();a.restoreScroll();a.restoreRange();a.states[e]=!a.states[e];if(a.currentRange.collapsed){var t=a.cmdQueue.remove(e);t||a.cmdQueue.push({cmd:e})}else a.execCustom({cmd:e});a.saveRange()};a.setFontSize=function(e){a.focus();a.restoreScroll();a.restoreRange();if(a.currentRange.collapsed){a.cmdQueue.remove("fontSize");a.cmdQueue.push({param:e,cmd:"fontSize"})}else a.execCustom({param:e,cmd:"fontSize"});a.saveRange();a.fontSize=e};a.setColor=function(e){a.focus();a.restoreScroll();a.restoreRange();if(a.currentRange.collapsed){a.cmdQueue.remove("foreColor");a.cmdQueue.push({param:e,cmd:"foreColor"})}else a.execCustom({param:e,cmd:"foreColor"});a.saveRange();a.color=e};a.insertImage=function(e,t){e=f.addBasePath(e);t=f.addBasePath(t);a.focus();a.restoreRange();a.execCustom({param:e,cmd:"insertImage"});a.options.insertedImages.push({url:e,urlDef:t});a.saveRange();a.focus()};a.insertLink=function(e,t,n){t?c.addRange(t,true):a.restoreRange();a.focus();a.execCustom({url:e,cmd:n.cmd,formatter:n.formatter});a.saveRange();a.refreshState()};a.removeLink=function(e){c.addRange(e,true);a.execCustom({cmd:"unlink",range:e});a.saveRange();a.refreshState();a.focus()};a.execCustom=function(e){var n=o.Formatters[e.formatter||e.cmd];if(t.isUndefined(n))return;!t.isUndefined(n.onClick)&&t.isFunction(n.onClick)?n.onClick(e):document.execCommand(e.cmd,false,e.param)};a.focus=function(){a.getEditorElement().focus()};function T(t){var n=!p.treatAsDesktop();function r(e){a.saveRange();a.cmdQueue.clear();e&&a.refreshState()}e("body").on("mouseup.texttool",function(t){var o=e(t.target);if(o.closest(".qv-texttool-toolbar, .qui-immidiateContextual, .qv-modal-container-centered, .lui-popover").length){if(!i.isInput(document.activeElement)){a.focus();a.restoreRange()}}else n||document.activeElement===a.getEditorElement()[0]&&y(function(){r(true);a.$apply()})});n&&e(document).on("selectionchange.texttool",function(){if(document.activeElement===a.getEditorElement()[0]){var e=c.getRange();e&&!c.rangeEquals(e,a.currentRange)&&r(true)}});t.on("qv-activate","img",function(e){var t=c.createRangeForElement(e.target);a.focus();c.addRange(t,true);a.saveRange();a.refreshState()});t.on("scroll",function(){a.saveScroll()});t.on("keydown input",function(e){if(13!==e.which){a.cmdQueue.execAll(function(e){a.execCustom(e)});a.cmdQueue.clear()}y(function(){a.$apply()})});n||t.on("keyup",function(){y(r.bind(this,true),0)});t.on("DOMNodeInserted.autoDirection",function(n){var i=e(n.target);if("x-auto-direction-for-paragraphs"in t[0].attributes&&i.is("div,p")&&i[0]!==t[0]){m.supportDirAuto()&&i.attr("dir","auto");if(!i.is("[align],[style]")){h.usesAlign?i.attr("align","inherit"):i.css("text-align","inherit");""===i[0].textContent&&i.css("direction",v.direction)}}})}y(function(){a.editor=new o.Editor({el:g.find("textarea"),defaultType:"paragraph",onEditorRender:function e(){var t=g.find(".st-text-block");T(t);"function"===typeof a.options.onOpen&&a.options.onOpen(a);a.options.toolbar&&E(t);y(function(){a.refreshState()})}})});a.$on("$destroy",function(){q();e(g.find(".st-text-block")).off("DOMNodeInserted.autoDirection");e("body").off(".texttool");e(document).off(".texttool")})}],template:a};return g}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-st-container">\n\t<form class="qv-st-form">\n\t\t<textarea class="qv-st-instance">{{data}}</textarea>\n\t</form>\n</div>'},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(96),n(1440),n(1028),n(1029),n(1441),n(832),n(1443),n(100),n(113),n(1444)],r=function(e,t,n,i,r,a,s,l,u,c){var d=i.palette;var f=i.fontSizes;var p={fontSizes:false,link:false,mediaLibrary:false,colorpicker:false};var h;var v={color:true,fontSize:true,bold:true,italic:true,underline:true,justifyLeft:true,justifyCenter:true,justifyRight:true,link:true,image:true};var m={template:n,scope:{textTool:"=",options:"=",alignTo:"="},controller:["$scope","$timeout","luiPopover",function(n,i,m){n.palette=d;n.fontSizes=Object.keys(f);n.foldouts=p;if("all"===n.options.buttons){n.buttons=v;n.buttonGroup1=true;n.buttonGroup2=true}else if("object"===o(n.options.buttons)){n.buttons=n.options.buttons;n.buttonGroup1=n.buttons.bold||n.buttons.italic||n.buttons.underline;n.buttonGroup2=n.buttons.justifyLeft||n.buttons.justifyCenter||n.buttons.justifyRight}n.exec=function(e,i){e.preventDefault();e.stopPropagation();t.preventGestures();0===i.indexOf("justify")?n.textTool.setJustify(i):n.haveSelection()&&n.textTool.setBIU(i)};n.setActiveFoldout=function(e){Object.keys(n.foldouts).forEach(function(t){t===e&&n.foldouts[t]?n.foldouts[t]=false:n.foldouts[t]=t===e})};n.shortFontSize=function(e){return f[e]||e};n.openMediaLibrary=function(){n.textTool.saveRange();n.setActiveFoldout("mediaLibrary");s.show({onCancel:function e(){n.setActiveFoldout();n.textTool.restoreRange();n.textTool.focus()},onConfirm:function e(t,r){n.setActiveFoldout();i(function(){if(r)n.textTool.insertImage(t,r);else{n.textTool.restoreRange();n.textTool.focus()}},100)},selectedFile:null})};n.closeColorpickerFoldout=function(i){e(i.target).closest("#qv-toolbar-colorpicker").length&&t.preventGestures();n.setActiveFoldout()};n.openFontsizeFoldout=function(){if(n.foldouts["fontSizes"]&&h){h.close();h=null;return}h=m.show({template:l,input:{foldouts:n.foldouts,fontSizes:n.fontSizes,textTool:n.textTool,shortFontSize:n.shortFontSize,setFontSize:n.setFontSize,closeFontsizeFoldout:n.closeFontsizeFoldout},alignTo:e("#qv-toolbar-fontsize")[0],variant:"inverse",closeOnEscape:true,autoFocus:false});n.setActiveFoldout("fontSizes");h.closing.then(function(i){i&&e(i.target).closest("#qv-toolbar-fontsize").length&&t.preventGestures();n.setActiveFoldout()});h.closed.then(function(){h=null})};var g=null;n.openLinkFoldout=function(){var t=n.textTool.currentRange,o,s={};if(t){o=e(t.commonAncestorContainer).closest("a");if(o.length){s.url=o.attr("href");s.bookmark=o.attr("data-bookmark-id");s.$node=o}n.textTool.saveRange();g=m.show({template:a.template,controller:a.controller,alignTo:e("#qv-toolbar-link")[0],input:{options:{toolbarScope:n,link:s,onSave:function e(t,r,o,a){var s;if(o){s=document.createRange();s.setStartBefore(o[0]);s.setEndAfter(o[0]);n.textTool.insertLink(r,s,a)}else i(function(){n.textTool.insertLink(r,null,a)});n.closeLinkFoldout(t)},onCancel:function e(t){n.closeLinkFoldout(t)},onRemove:function e(t,i){if(i){var o=r.createRangeForElement(i[0]);n.textTool.removeLink(o)}n.closeLinkFoldout(t)}}}});n.setActiveFoldout("link")}};n.setFontSize=function(e,t){e.preventDefault();n.setActiveFoldout();n.textTool.setFontSize(t);if(h){h.close();h=null}};n.closeLinkFoldout=function(i){i&&e(i.target).closest("#qv-toolbar-link").length&&t.preventGestures();n.setActiveFoldout();if(g){g.close();g=null}};n.linkDisabled=function(){var e=n.textTool.currentRange,t=!!n.textTool.states.link;return!t&&(!e||e.collapsed)};n.haveSelection=function(){var e=n.textTool.currentRange;return!(!e||e.collapsed)};var b={index:-1,color:"#ffffff"};var y={};n.themeService=u;n.paletteName=c.TI_IMPCP?"currentPalette":"smallPalette";n.allowCustomColors=c.TI_IMPCP;Object.defineProperty(n,"color",{get:function e(){var t=c.TI_IMPCP?u.currentPalette:u.smallPalette;if(!n.haveSelection()){b.index=t.indexOf("#ffffff");return b}y.index=t.indexOf(n.textTool.color);y.color=n.textTool.color;return y},set:function e(t){if(c.TI_IMPCP)n.textTool.setColor(u.resolveColor(t));else{t.index--;n.textTool.setColor(u.resolveColor(t,u.smallPalette))}}});n.$on("$destroy",function(){n.setActiveFoldout();if(g){g.close();g=null}});i(function(){n.textTool.refreshState()})}]};return m}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover ng-if="options.style === \'popover\'" style="height: 44px;" align-to="alignTo" position="\'top\'" collision="\'collision\'" width="options.width" class="lui-popover qv-texttool-toolbar"\n\t\t\t\t\t  on-close-view="closeToolbar(event)" ondragstart="return false">\n\t<div qv-media-tool-buttons class="qv-texttool-toolbar"></div>\n</lui-popover>\n\n<div ng-if="options.style === \'inline\'" qv-media-tool-buttons class="qv-texttool-toolbar"></div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(1442),n(94),n(173)],r=function(e,t,n,i){var r={template:t,scope:{alignTo:"=",options:"="},controller:["$scope","$timeout","$element",function(t,r,o){t.link=t.options.link;t.link.url&&"#"!==t.link.url||(t.link.url="");t.link.url=decodeURIComponent(t.link.url);var a=t.link.url;t.alignTo=t.options.alignTo;t.linkActive=true;t.closeFoldout=function(e){var n=encodeURI(t.link.url),i=t.link.$node;t.closed=true;if(n===a){t.options.onCancel(e);return}if(n&&n.length>0&&-1===n.indexOf("javascript:")){0!==n.search("[a-zA-Z0-9]+:")&&(n="http://"+n);t.options.onSave(e,n,i,{cmd:"createLink",formatter:"link"})}else t.options.onCancel(e)};t.onEnter=function(e){t.closeFoldout(e)};t.showRemove=!!a;t.removeLink=function(e){t.options.onRemove(e,t.link.$node)};t.inStorytelling=function(){return n.state===n.States.editstory};t.insertBookmark=function(e,n){t.options.onSave(e,n,t.link.$node,{cmd:"createLink",formatter:"bookmark"})};t.toggleLink=function(n){t.linkActive=n;n&&setTimeout(function(){e(".link-input").focus()})};t.exposedApi.closing=function(){t.closed||t.closeFoldout()};t.$on("$destroy",function(){t.closed||t.closeFoldout()});function s(){if(!t.link.url&&t.link.bookmark){t.toggleLink(false);l()}else t.toggleLink(true)}function l(){i.getList().then(function(e){e.getLayout().then(function(e){t.bookmarks=e;u()})})}function u(){t.bookmarks.forEach(function(e){e.qInfo.qId===t.link.bookmark?e.active=true:e.active=false})}s();t.$watch("linkActive",function(){t.linkActive&&l()});r(function(){o.find(".link-input").focus()})}]};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover style="width: 400px" on-close-view="closeFoldout(event)"\n\t\t\t\t\t  class="qv-link-foldout" tid="link-foldout">\n\t<div qva-outside-ignore-for="media-toolbar">\n\t\t<div class="link-header">\n\t\t\t<h1 class="link-header-text" ng-if="linkActive" q-translation="MediaTool.Toolbar.InsertUrlLink.Title"></h1>\n\t\t\t<h1 class="link-header-text" ng-if="!linkActive" q-translation="Common.Bookmarks"></h1>\n\t\t\t<div class="link-submenu" ng-if="inStorytelling()">\n\t\t\t\t<ul>\n\t\t\t\t\t<li class="lui-button" ng-if="!linkActive" qva-activate="toggleLink(true)" q-translation="Common.URL" data-tid="url-link" ></li>\n\t\t\t\t\t<li class="lui-button" ng-if="linkActive" qva-activate="toggleLink(false)" q-translation="Common.Bookmarks" data-tid="bookmark-link" ></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="link-content" ng-if="linkActive">\n\t\t\t<span class="link-label" q-translation="MediaTool.Toolbar.InsertUrlLink.Label"></span>\n\t\t\t<input class="link-input lui-input" maxlength="2000" ng-model="link.url" style="margin-bottom: 10px" qv-enter="onEnter($event)"/>\n\t\t\t<div class="link-remove-container" ng-if="showRemove">\n\t\t\t\t<button class="lui-button" qva-activate="removeLink($event)" q-title-translation="MediaTool.Toolbar.RemoveLink" tid="remove-link-btn">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--bin"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="bookmark-content" ng-if="!linkActive">\n\t\t\t<ul>\n\t\t\t\t<li ng-if="bookmarks.length < 1" class="bookmark-link-row">\n\t\t\t\t\t<span class="bookmark-link-row-content no-bookmarks" q-translation="Bookmarks.NoBookmarks"></span>\n\t\t\t\t</li>\n\t\t\t\t<li class="bookmark-link-row" ng-repeat="bookmark in bookmarks" ng-class="{ active: bookmark.active}">\n\t\t\t\t\t<span class="bookmark-link-row-content" qva-activate="insertBookmark($event, bookmark.qInfo.qId)" data-bookmark-id="{{bookmark.qInfo.qId}}">{{bookmark.qData.title}}</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\x3c!--</div>--\x3e\n</lui-popover>\n'},function(e,t){e.exports='<lui-popover class="qv-toolbar-fontsize-foldout" ng-if="input.foldouts.fontSizes" qva-activate="openFontsizeFoldout" style="min-width: 40px; width: 44px;" qva-outside-ignore-for="media-toolbar">\n\t<lui-popover-body class="lui-nopad" collision="\'flipfit\'">\n\t\t<ul class="lui-list lui-list--inverse qv-media-tool-fontsize">\n\t\t\t<button class="lui-fade-button lui-fade-button--inverse lui-fade-button--large" style="border-bottom: 1px solid rgba(0, 0, 0, 0.3);" ng-repeat="size in input.fontSizes" qva-activate="input.setFontSize($event, size)" ng-class="{\'lui-active\':input.textTool.fontSize == size}">\n\t\t\t\t<span class="lui-list__text lui-list__action" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">{{input.shortFontSize(size)}}</span>\n\t\t\t</button>\n\t\t</ul>\n\t</lui-popover-body>\n</lui-popover>\n\n\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1445)],r=function(e,t){e.directive("qvMediaToolButtons",function(){return{restrict:"A",replace:true,template:t}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div>\n\t<div ng-if="textTool.showUsage" class="usage"><span q-translation="MediaTool.YouHaveUsed"></span> <span>{{textTool.usage}}%</span></div>\n\n\t<div class="lui-buttongroup" ng-show="buttons.color">\n\t\t<div id="qv-toolbar-colorpicker" tid="colorpicker" q-title-translation="MediaTool.Toolbar.FontColor">\n\t\t\t<button qv-color-picker-button-new palette="themeService[paletteName]" style="width: 66px;" class="lui-fade-button lui-fade-button--large lui-fade-button--inverse no-border-radius" ng-click="onClick($event, \'inverse\')" x-variant="inverse" on-close="closecolorpickerfoldout" ng-model="color" ng-disabled="!haveSelection()" disable-none="true" extended="{{allowCustomColors}}"></button>\n\t\t</div>\n\t</div><div class="lui-buttongroup" ng-show="buttons.fontSize">\n\n\t\t<button id="qv-toolbar-fontsize" style="width: 66px" qva-activate="openFontsizeFoldout()" tid="fontSize" ng-disabled="!haveSelection()"\n\t\t\t\tng-class="{\'lui-active\':foldouts.fontSizes}" q-title-translation="MediaTool.Toolbar.FontSize" class="lui-fade-button lui-fade-button--large lui-fade-button--inverse">\n\t\t\t<span class="lui_button__text">{{shortFontSize(textTool.fontSize)}}</span><span class="lui-button__caret  lui-caret"></span>\n\t\t</button>\n\t</div><div class="lui-buttongroup" ng-show="buttonGroup1">\n\t\t<button ng-class="{\'lui-active\':textTool.states.bold}" style="border-right: 1px solid rgba(0, 0, 0, 0.3);" ng-show="buttons.bold" tid="bold" ng-disabled="!haveSelection()"\n\t\t\t q-title-translation="MediaTool.Toolbar.Bold" class="lui-fade-button lui-fade-button--large lui-fade-button--inverse no-border-radius" qva-press="exec($event,\'bold\')">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--bold"></span>\n\t\t</button>\n\t\t<button ng-class="{\'lui-active\':textTool.states.italic}" style="border-right: 1px solid rgba(0, 0, 0, 0.3);"  ng-show="buttons.italic" tid="italic" ng-disabled="!haveSelection()"\n\t\t\t q-title-translation="MediaTool.Toolbar.Italic" class="lui-fade-button lui-fade-button--large lui-fade-button--inverse no-border-radius" qva-press="exec($event,\'italic\')">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--italic"></span>\n\t\t</button>\n\t\t<button ng-class="{\'lui-active\':textTool.states.underline}" ng-show="buttons.underline" tid="underline" ng-disabled="!haveSelection()"\n\t\t\t q-title-translation="MediaTool.Toolbar.Underline" class="lui-fade-button lui-fade-button--large lui-fade-button--inverse no-border-radius" qva-press="exec($event,\'underline\')">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--underline"></span>\n\t\t</button>\n\t</div><div class="lui-buttongroup" ng-show="buttonGroup2">\n\t\t<button ng-class="{\'lui-active\':textTool.states.justifyLeft}" ng-show="buttons.justifyLeft" tid="justifyLeft"\n\t\t\t\tclass="lui-fade-button lui-fade-button--large lui-fade-button--inverse no-border-radius" q-title-translation="Common.Text.AlignLeft" qva-activate="exec($event,\'justifyLeft\')">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--align-left"></span>\n\t\t</button>\n\t\t<button ng-class="{\'lui-active\':textTool.states.justifyCenter}" ng-show="buttons.justifyCenter" tid="justifyCenter"\n\t\t\t\tclass="lui-fade-button lui-fade-button--large lui-fade-button--inverse no-border-radius" q-title-translation="Common.Text.AlignCenter" qva-activate="exec($event,\'justifyCenter\')">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--align-center"></span>\n\t\t</button>\n\t\t<button ng-class="{\'lui-active\':textTool.states.justifyRight}" ng-show="buttons.justifyRight" tid="justifyRight"\n\t\t\t\tclass="lui-fade-button lui-fade-button--large lui-fade-button--inverse no-border-radius" q-title-translation="Common.Text.AlignRight" qva-activate="exec($event,\'justifyRight\')">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--align-right"></span>\n\t\t</button>\n\t</div><div class="lui-buttongroup" ng-show="buttons.link">\n\t\t<button id="qv-toolbar-link" qva-activate="openLinkFoldout($event)" style="width: 66px;" tid="link"\n\t\t\t\tclass="lui-fade-button lui-fade-button--large lui-fade-button--inverse no-border-radius" ng-class="{\'lui-active\':foldouts.link}" q-title-translation="{{ textTool.states.link ? \'MediaTool.Toolbar.EditURLLink\' : \'MediaTool.Toolbar.CreateURLLink\' }}"\n\t\t\t\tng-disabled="linkDisabled()">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--link" ng-class="{\'lui-active\':textTool.states.link}"></span><span class="lui-button__caret  lui-caret"></span>\n\t\t</button>\n\t</div><div class="lui-buttongroup" ng-show="buttons.image">\n\t\t<button id="qv-toolbar-image" qva-activate="openMediaLibrary($event)" ng-class="{\'lui-active\':foldouts.mediaLibrary}" tid="image"\n\t\t\t\tclass="lui-fade-button lui-fade-button--large lui-fade-button--inverse no-border-radius" q-title-translation="MediaTool.Toolbar.InsertImage">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--image"></span>\n\t\t</button>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=function e(){this.queue=[]};e.prototype.push=function(e){this.queue.push(e)};e.prototype.execAll=function(e){this.queue.forEach(e)};e.prototype.remove=function(e){var t,n,i=false;for(t=this.queue.length-1;t>=0;t--){n=this.queue[t];if(n.cmd===e){i=true;this.queue.splice(t,1)}}return i};e.prototype.clear=function(){this.queue=[]};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(152),n(54),n(1029),n(1448),n(1449),n(1450),n(1451),n(1452),n(1453),n(1454),n(1455),n(1456),n(1457),n(1458),n(107),n(1459)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h){delete e.Formatters.Bold;delete e.Formatters.Italic;delete e.Formatters.Link;delete e.Formatters.Unlink;e.Formatters.bold=new a;e.Formatters.italic=new s;e.Formatters.underline=new l;e.Formatters.justifyLeft=new o.Left;e.Formatters.justifyCenter=new o.Center;e.Formatters.justifyRight=new o.Right;e.Formatters.fontSize=new r;e.Formatters.foreColor=new i;e.Formatters.bookmark=new u;e.Formatters.link=new c;e.Formatters.unlink=new d;e.Formatters.measure=new f;e.Formatters.insertImage=new p;function v(e){var t=[];for(var n=0;n<e.childNodes.length;n++)3===e.childNodes[n].nodeType?t.push(e.childNodes[n]):t.push.apply(t,v(e.childNodes[n]));return t}function m(){var e=this;var t=e.textContent.length-h.textImage;if(t>0){var i=n.getRange();var r=i.commonAncestorContainer;if(3===r.nodeType){var o=v(document.activeElement);var a=o.indexOf(r);o=o.splice(0,a+1);o.reverse().forEach(function(e){if(t<=0)return false;if(e.nodeValue.length>t){e.splitText(e.nodeValue.length-t);e.parentNode.removeChild(e.nextSibling);n.addRange(i,true)}else e.parentNode.removeChild(e);t-=e.nodeValue.length})}}}e.Blocks.Paragraph=function(){return e.Block.extend({type:"paragraph",className:"st-block",icon_name:"paragraph",editorHTML:'<div class="st-required st-text-block" contenteditable="true" autocomplete="off" autocorrect="off"></div>',attributes:function n(){return t.extend(e.SimpleBlock.fn.attributes.call(this),{})},title:function e(){return"Paragraph"},loadData:function t(n){this.getTextBlock().html(e.toHTML(n.text,this.type))},focus:function e(){var t=this.getTextBlock();t.focus()},_initTextBlocks:function e(){var t=this.getTextBlock();t.bind("input",m).bind("paste",this._handleContentPaste).bind("keyup",this.getSelectionForFormatter).bind("mouseup",this.getSelectionForFormatter)},_initUIComponents:function e(){this.onFocus();this.onBlur()},_blockPrepare:function e(){this._initUI();this._initMessages();this.checkAndLoadData();this.$el.addClass("st-item-ready")},toData:function t(){e.log("toData for "+this.blockID);var n=this.getTextBlock().html();this.setData({text:e.toMarkdown(n,this.type)})}})}();e.FloatingBlockControls=function(){return e.FloatingBlockControls.extend({className:"",bound:[],initialize:function e(){},attributes:function e(){}})}();e.BlockControls=function(){return e.FloatingBlockControls.extend({className:"",bound:[],html:"",initialize:function e(){},hide:function e(){},show:function e(){},handleControlButtonClick:function e(){}})}();e.FormatBar=function(){return e.FormatBar.extend({className:"",initialize:function e(){}})}()}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(152),n(1028),n(250),n(100),n(113)],r=function(e,t,n,i,r){var o=r.TI_IMPCP?i.currentPalette:i.smallPalette;n.register({name:"font-color",character:"#",toHTML:{callback:function e(t,n){var o=i.resolveColor(JSON.parse(n),r.TI_IMPCP?null:i.smallPalette);return'<font color="'+o+'">'+t+"</font>"}},toMarkdown:{priority:2,regex:/^<font(?: size="([0-7]|undefined)")? color="(#[a-f0-9]{3,6})"(?: size="([0-7]|undefined)")?.*?>([\s\S]+)<\/font>$/,callback:function e(n,i,a,s){if(""===s)return"";var l=n||a;if(null!==l&&void 0!==l){l=t.htmlSizeToMarkdownSize[l];s="%["+s+"]("+l+")"}var u=o.indexOf(i);if(-1===u){if(i)return"#["+s+']({"index":'+u+',"color":"'+i+'"})';return s}if(r.TI_IMPCP)return"#["+s+']({"index":'+u+',"color":"'+i+'"})';return"#["+s+"]("+u+")"},tags:[{name:"font",attr:["color"]}]}});return e.Formatter.extend({title:"color",cmd:"foreColor",text:"color",onClick:function e(t){document.execCommand(t.cmd,false,t.param)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(152),n(1028),n(250)],r=function(e,t,n){n.register({name:"font-size",character:"%",toHTML:{callback:function e(n,i){return"<font size='"+t.markdownSizeToHtmlSize[i]+"'>"+n+"</font>"}},toMarkdown:{regex:/^<font size="([0-7])".*?>([\s\S]+)<\/font>$/,callback:function e(n,i){if(""===i)return"";n>7&&(n=t.fontSizesPx[n]);if(null!==n&&void 0!==n){n=t.htmlSizeToMarkdownSize[n];return"%["+i+"]("+n+")"}return i},tags:[{name:"font",attr:["size"]}]}});return e.Formatter.extend({title:"fontsize",cmd:"fontSize",text:"fontsize"})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(152),n(48),n(208),n(250),n(1225),n(159)],r=function(e,t,n,i,r,o){var a=r.usesAlign;i.register({name:"justify",character:"^",toHTML:{callback:function e(t,i){var r=o.supportDirAuto()?"auto":o.detectTextDirection(t.replace(/<\/?[^>]+(>|$)/g,""));t||(t="&nbsp;");return a?'<div dir="'+r+'" align="'+n.encodeForAttr2(i)+'">'+t+"</div>":'<div dir="'+r+'" style="text-align: '+n.encodeForAttr2(i)+';">'+t+"</div>"}},toMarkdown:{regex:/^<(?:div|p).*?(?:style="text(?:\\)?-)?align(?:="|: )(left|center|right|justified|inherit)(?:"|;).*?>([\s\S]+)<\/(?:div|p)>$/,callback:function e(t,n){return"^["+n+"]("+t+")"},tags:[{name:"div",attr:["align","style"]},{name:"p",attr:["align"]}]}});var s=e.Formatter.extend({title:"align left",cmd:"justifyLeft",text:"left",isActive:function e(t){var n=t.getParentParagraph(),i=window.getComputedStyle(n);return!!/left/.test(i.textAlign)||!(!i||"ltr"!==i.direction||/right/.test(i.textAlign)||/center/.test(i.textAlign))},onClick:function e(){var n=t.getService("qvMediaTool").getParagraph().el.style;var i=n.direction;if("ltr"===i||!i){i="ltr";n.direction="rtl"}document.execCommand("justifyLeft",false);"ltr"===i&&(n.direction="ltr")}});var l=e.Formatter.extend({title:"align center",cmd:"justifyCenter",text:"center",onClick:function e(){document.execCommand("justifyCenter",false)}});var u=e.Formatter.extend({title:"align right",cmd:"justifyRight",text:"right",isActive:function e(t){var n=t.getParentParagraph(),i=window.getComputedStyle(n);return!!/right/.test(i.textAlign)||!(!i||"rtl"!==i.direction||/left/.test(i.textAlign)||/center/.test(i.textAlign))},toMarkdown:function e(t){return i.toMarkdown(t)},toHTML:function e(t){return i.toHTML(t)},onClick:function e(){var n=t.getService("qvMediaTool").getParagraph().el.style;var i=n.direction;"rtl"===i&&(n.direction="ltr");document.execCommand("justifyRight",false);"rtl"===i&&(n.direction="rtl")}});return{Left:s,Right:u,Center:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(152),n(250)],r=function(e,t){t.register({name:"bold",character:"**",toHTML:{priority:5,regex:/\*\*(?!\\)([\s\S]+?(?!\*\\))\*\*/g,callback:function e(t){return">b/<"+t+">b<"},reverse:true},toMarkdown:{priority:-5,regex:/^<(?:b|strong)>([\s\S]+)<\/(?:b|strong)>$/,callback:function e(t){if(""===t)return"";return"**"+t+"**"},tags:[{name:"b",attr:[]},{name:"strong",attr:[]}]}});return e.Formatter.extend({title:"bold",cmd:"bold",text:"B",isActive:function e(t){return t.rangeCollapsed?t.hasStartAncestorTag(["b","strong"])||t.hasEndAncestorTag(["b","strong"]):t.hasStartAncestorTag(["b","strong"])&&t.hasEndAncestorTag(["b","strong"])},toMarkdown:function e(t){return t},toHTML:function e(t){return t}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(152),n(250)],r=function(e,t){t.register({name:"italic",character:"_",toHTML:{priority:5,regex:/_(?!\\)([\s\S]+?(?!_\\))_/g,callback:function e(t){return">i/<"+t+">i<"},reverse:true},toMarkdown:{priority:-5,regex:/^<(?:i|em)>([\s\S]+)<\/(?:i|em)>$/,callback:function e(t){if(""===t)return"";return"_"+t+"_"},tags:[{name:"i",attr:[]},{name:"em",attr:[]}]}});return e.Formatter.extend({title:"italic",cmd:"italic",text:"I",isActive:function e(t){return t.rangeCollapsed?t.hasStartAncestorTag(["i","em"])||t.hasEndAncestorTag(["i","em"]):t.hasStartAncestorTag(["i","em"])&&t.hasEndAncestorTag(["i","em"])},toMarkdown:function e(t){return t},toHTML:function e(t){return t}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(152),n(250)],r=function(e,t){t.register({name:"underline",character:"~",toHTML:{priority:5,regex:/~(?!\\)([\s\S]+?(?!~\\))~/g,callback:function e(t){return">u/<"+t+">u<"},reverse:true},toMarkdown:{priority:-5,regex:/^<u>([\s\S]+)<\/u>$/,callback:function e(t){if(""===t)return"";return"~"+t+"~"},tags:[{name:"u",attr:[]}]}});return e.Formatter.extend({title:"underline",cmd:"underline",text:"U",isActive:function e(t){return t.rangeCollapsed?t.hasStartAncestorTag("u")||t.hasEndAncestorTag("u"):t.hasStartAncestorTag("u")&&t.hasEndAncestorTag("u")},toMarkdown:function e(t){return t},toHTML:function e(t){return t}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(152),n(208),n(250)],r=function(e,t,n,i,r){function o(n,i){var r=t.getService("qvMediaTool"),o=r.getRange().commonAncestorContainer,a=e(o).find("a[href="+i+"]");"#text"===o.nodeName&&(a="A"!==n.nodeName?e(n).find("a[href="+i+"]"):e(n));0===a.length&&(a=e(o).find("a:not([href])"));0===a.length&&(a=e(o));return a}r.register({name:"bookmark",character:"$",toHTML:{callback:function e(t,n){return'<a href="#" class="bookmark-link" data-bookmark-id="'+i.encodeForAttr2(n.replace(/\\/g,""))+'">'+t+"</a>"}},toMarkdown:{regex:/^<a (?=.*data\\-bookmark\\-id="([^"]+)").*?>([\s\S]+?)<\/a>$/,callback:function e(t,n){return"$["+n+"]("+t+")"},tags:[{name:"a",attr:["data\\-bookmark\\-id"]}]}});return n.Formatter.extend({title:"bookmark",cmd:"createLink",text:"Bookmark",isActive:function e(t){return t.rangeCollapsed?t.hasStartAncestorTag("a")||t.hasEndAncestorTag("a"):t.hasStartAncestorTag("a")&&t.hasEndAncestorTag("a")},onClick:function t(n){var i=n.url;e(document).on("DOMNodeInserted.bookmark",function(t){var n=o(t.target,i);e.each(n,function(t,n){e(n).hasClass("bookmark-link")||setTimeout(function(){n.setAttribute("href","#");n.removeAttribute("_moz_dirty");n.className+="bookmark-link";n.setAttribute("data-bookmark-id",i)})});setTimeout(function(){e(document).off("DOMNodeInserted.bookmark")},250)});document.execCommand("unlink",false,false);document.execCommand(this.cmd,false,i)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(152),n(250)],r=function(e,t){t.register({name:"link",character:"@",toHTML:{callback:function e(t,n){0===n.indexOf("javascript:")&&(n="");0!==n.search("[a-zA-Z0-9]+:")&&(n="http://"+n);n=n.replace(/\\(["'])/g,"%5C$1").replace(/'/g,"%27").replace(/"/g,"%22").replace(/\$/g,"%24");n=decodeURI(n).replace(/'/g,"%27");var i="<a href='"+n+"' target='\\_blank' title='"+n+"'>"+t+"</a>";return i}},toMarkdown:{regex:/^<a.*?href="(?!#)([^"]+)".*?>([\s\S]+?)<\/a>$/,callback:function e(t,n){return"@["+n+"]("+t+")"},tags:[{name:"a",attr:["href"]}]}});return e.Formatter.extend({title:"link",cmd:"createLink",text:"Link",isActive:function e(t){return t.rangeCollapsed?t.hasStartAncestorTag("a")||t.hasEndAncestorTag("a"):t.hasStartAncestorTag("a")&&t.hasEndAncestorTag("a")},onClick:function e(t){var n=t.url;document.execCommand(this.cmd,false,n)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(152)],r=function(e){return e.Formatter.extend({title:"unlink",cmd:"unlink",text:"Unlink",onClick:function e(t){var n=t.url;document.execCommand(this.cmd,false,n)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(152),n(90),n(91),n(381),n(125),n(203),n(250),n(107)],r=function(e,t,n,i,r,o,a,s,l){var u="M8.52173913,6.7974547 L7.2173913,6.7974547 C6.63768116,8.94989566 6.34782609,10.0261161 6.34782609,10.0261161 C6.34782609,10.0261161 5.47826087,12.5566886 4.69565217,13.4292998 C3.91304348,14.301911 2.86956522,15 1.73913043,15 C0.608695652,15 0,14.4764333 0,13.6038221 C0,12.9057331 0.347826087,12.2949053 1.13043478,12.2949053 C1.82608696,12.2949053 2.08695652,12.6439498 2.08695652,13.0802554 C2.08695652,13.6038221 1.82608696,13.8656054 1.82608696,14.0401277 C1.82608696,14.2146499 1.91304348,14.301911 2,14.301911 C2.26086957,14.301911 2.52173913,13.7783443 2.7826087,12.9057331 C3.04347826,12.0331219 3.02736159,12.1999953 3.56521739,10.3751606 C3.92378792,9.15860415 4.27161401,7.93694847 4.60869565,6.71019358 C3.97231956,6.71019358 3.57818933,6.71019358 3.42630497,6.71019358 C3.19728707,6.62505435 3.39757261,5.92484349 3.73913043,5.92484349 L4.86956522,5.92484349 C5.13043478,4.87771005 6,2.69618204 6.86956522,1.91083196 C7.73913043,1.12548188 8.35843467,0.899791884 9.30434783,1.03822076 C10.250261,1.17664964 11.0434783,1.56178748 11.0434783,2.5216598 C11.0434783,3.13248765 10.6956522,3.65605437 10.0869565,3.65605437 C9.47826087,3.65605437 9.2173913,3.30700989 9.13043478,2.78344316 C9.13043478,2.43439868 9.30434783,1.91083196 9.13043478,1.82357084 C8.95652174,1.73630972 8.69565217,2.17261532 8.52173913,2.5216598 C8.4057971,2.75435612 8.02898551,3.88875069 7.39130435,5.92484349 L8.52173913,5.92484349 C8.85454756,5.92484349 8.82013881,6.71019358 8.52173913,6.7974547 Z M15.0434783,5.57579901 C15.7391304,5.57579901 16,5.92484349 16,6.53567134 C16,7.14649918 15.730061,7.6600281 15.0434783,7.75732702 C14.4347826,7.84358819 14.3156572,7.27944592 14.0869565,7.14649918 C13.9424037,7.06246867 13.826087,7.2337603 13.6521739,7.40828254 C13.3913043,7.75732702 13.1304348,8.28089374 13.0434783,8.36815486 C13.0434783,8.5426771 13.2173913,8.89172158 13.3913043,9.58981054 C13.6521739,10.3751606 13.6521739,10.5496829 13.826087,10.5496829 C14.0869565,10.5496829 14.2608696,10.2878995 14.4347826,9.85159391 C14.5217391,9.50254942 14.6086957,9.4152883 14.7826087,9.4152883 C14.8695652,9.4152883 14.9565217,9.50254942 14.9565217,9.76433278 C14.9565217,10.5496829 13.826087,12.7312109 12.4347826,12.7312109 C12,12.7312109 11.7391304,12.3821664 11.4782609,11.9458608 C11.3043478,11.5095552 11.1304348,10.8987273 10.9565217,10.2878995 C10.8695652,10.5496829 10.3478261,11.5095552 9.65217391,12.120383 C9.30434783,12.4694275 8.95652174,12.6439498 8.52173913,12.6439498 C7.82608696,12.6439498 7.56521739,12.2076442 7.56521739,11.5968163 C7.56521739,11.0732496 7.82608696,10.2006384 8.52173913,10.2006384 C8.86956522,10.2006384 9.04347826,10.2878995 9.13043478,10.5496829 C9.30434783,10.9569014 9.44927536,11.1605107 9.56521739,11.1605107 C9.91304348,11.1605107 10.2608696,10.636944 10.8695652,9.67707166 C10.6956522,8.9789827 10.5217391,8.36815486 10.4347826,7.93184926 C10.2608696,7.40828254 10.173913,7.14649918 9.91304348,7.14649918 C9.65217391,7.14649918 9.47826087,7.49554366 9.39130435,7.75732702 C9.2173913,8.1063715 9.2173913,8.45541598 8.95652174,8.45541598 C8.7826087,8.45541598 8.69565217,8.28089374 8.69565217,8.1063715 C8.69565217,7.32102142 9.73913043,5.40127677 11.2173913,5.40127677 C12,5.40127677 12.2314776,5.67252615 12.4347826,6.20012531 L12.8695652,7.58280478 C13.9130435,6.18662685 14.173913,5.57579901 15.0434783,5.57579901 Z";var c=document.createElement("canvas");function d(e,t){var n=e.qHyperCube.qMeasureInfo,i;for(i=0;i<n.length;++i)if(n[i].cId===t)return n[i];return null}function f(e,t){var n=e.qHyperCube.qMeasureInfo,i,r;for(i=0;i<n.length;++i)if(n[i].cId===t){r=e.qHyperCube.qGrandTotalRow[i];if(!r||!r.qText||"NaN"===r.qNum&&"-"===r.qText)return"";return s.escapeMarkdown(r.qText)}return""}function p(e){var t=30,n,i=a.getDevicePixelToBackingStoreRatio(),r=150,o=.35,s="13px 'QlikView Sans'",l=c.getContext("2d"),d=a.measureTextObject({shape:{text:e,width:112,font:s}});n=Math.ceil(Math.min(d.width+50,r));c.height=t*i;c.width=n*i;c.style.height=t+"px";c.style.width=n+"px";l.clearRect(0,0,c.width,c.height);l.save();l.scale(i,i);l.globalAlpha=o;l.translate(6,8);l.fill(new Path2D(u));l.restore();l.globalAlpha=1;l.font="13px 'QlikView Sans'";l.fillText(d.lines[0],32,t/2+5);l.restore();var f=c.toDataURL("image/png");var p=document.createElement("img");p.setAttribute("src",f);p.setAttribute("class","tokenized-measure");p.setAttribute("width",n+"px");p.setAttribute("height",t+"px");return p}s.register({name:"measure",character:"=",toHTML:{callback:function t(n,o){var a=e.getService("qvMediaTool"),s,u;if(a.isActive()){var c=a.getOptions();if(!c.useMeasures)return"";var h=c.propertyHandler.getMeasure(o);var v;var m=false;if(h){var g=d(c.layout,o);if(!g||g.qError){m=true;v=i.get("Object.ErrorMessage.MissingMeasure")}else v=g.qFallbackTitle||""}else v=c.copiedMeasures[o];var b=JSON.stringify(h);u=p(v);u.setAttribute("data-measure-id",o);u.setAttribute("data-measure-name",r.compressToBase64(v));u.setAttribute("data-measure",r.compressToBase64(b));u.setAttribute("data-tid","ti-measure");m&&u.classList.add("invalid-measure")}else{s=a.getCurrentLayout();var y=f(s,o);if(null===y)return"";y.length>l.textImage&&(y=y.substr(0,l.textImage-1)+"â¦");u=document.createElement("span");u.setAttribute("data-tid","ti-measure");u.appendChild(document.createTextNode(y))}return u.outerHTML}},toMarkdown:{callback:function t(){var i="";var a=this.getAttribute("data\\-measure\\-id");var s=e.getService("qvMediaTool").getOptions();if(!d(s.layout,a)&&!s.copiedMeasures[a]){var l=r.decompressFromBase64(this.getAttribute("data\\-measure"));var u=JSON.parse(l);a=n.generateId();u.qDef.cId=a;var c=s.properties;c.qHyperCubeDef.qMeasures.push(u);o.indexAdded(c.qHyperCubeDef.qInterColumnSortOrder,c.qHyperCubeDef.qDimensions.length+c.qHyperCubeDef.qMeasures.length-1);var f=r.decompressFromBase64(this.getAttribute("data\\-measure\\-name"));s.copiedMeasures[a]=f}return"=["+i+"]("+a+")"},tags:[{name:"img",attr:["data\\-measure\\-id"]}]}});return t.Formatter.extend({title:"measure",cmd:"",text:"measure",toMarkdown:function e(t){return t},toHTML:function e(t){return t}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(152),n(250),n(304)],r=function(e,t,n,i){function r(e,t,n){var i=n?"qStaticContentUrl":"qStaticContentUrlDef";for(var r=0;r<t.length;r++)if(t[r].id===e)return t[r].url[i].qUrl;return""}function o(e){return e.replace(/\\(["'])/g,"%5C$1").replace(/'/g,"%27").replace(/"/g,"%22").replace(/\$/g,"%24")}n.register({name:"image",character:"!",toHTML:{callback:function t(a,s){var l=e.getService("qvMediaTool");if(l.useImageArray()){var u=s;var c;c=l.isActive()?l.getOptions().layout:l.getCurrentLayout();s=r(a,c.images,true);s=s?n.escapeMarkdown(s):u}s=i.stripBasePath(s);s=o(s);s=i.addBasePath(s);a||(a="image");a=o(a);return"<img src='"+s+"' data-image-id='"+a+"'>"}},toMarkdown:{priority:1,regex:/^<img.*?src="([^"]+)".*?>$/,callback:function e(t){var r=this.getAttribute("data\\-image\\-id")||"";r||(r="");t=n.unescapeMarkdown(t);t=i.stripBasePath(t);t=n.escapeMarkdown(t);return"!["+r+"]("+t+")"},tags:[{name:"img",attr:["src"],dontMatchAttr:["data\\-measure\\-id"]}]}});return t.Formatter.extend({title:"image",cmd:"insertImage",text:"image",onClick:function e(t){document.execCommand(t.cmd,false,t.param)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(250),n(90)],r=function(e,t){var n=/color: rgb\\\((\d{1,3}), (\d{1,3}), (\d{1,3})/i;var i=/font\\-size: (\d+)px/i;var r=/text\\-decoration: underline/i;var o=/font\\-weight: bold/i;e.register({name:"paste",character:"`",toMarkdown:{regex:/^<(span|font|i|b|u) style="(.+?)">(.+?)<\/(?:span|font|i|b|u)>$/,callback:function a(s,l,u){var c;if(n.test(l)){l=l.replace(/rgb\\\(/g,"rgb(").replace(/\\\);/g,");");u=e.getFormatter("#").toMarkdown.callback(null,t.normalizeToHex(l),null,u)}c=i.exec(l);c&&(u=e.getFormatter("%").toMarkdown.callback(c[1],u));c=r.exec(l);c&&(u=e.getFormatter("~").toMarkdown.callback(u));c=o.exec(l);c&&(u=e.getFormatter("**").toMarkdown.callback(u));this.innerHTML=u;this.removeAttribute("style");return e.toMarkdown(this.outerHTML.trim())},tags:[{name:"span",attr:["style"]},{name:"font",attr:["style"]},{name:"b",attr:["style"]},{name:"i",attr:["style"]},{name:"u",attr:["style"]}]}});e.register({name:"word",character:"``",toMarkdown:{regex:/^.+$/i,callback:function e(){return" "},tags:[{name:"style",attr:[]},{name:"w:WordDocument",attr:[]}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48)],r=function(e,t){var n='<div class="stage-dimmer"></div>';var i=false;return{open:function r(){if(i)return;var o=e(".stage-dimmer");if(!o.length){e("body").append(n);o=e(".stage-dimmer")}i=true;var a=t.getService("$timeout");a(function(){o.addClass("open")})},close:function n(){if(!i)return;var r=e(".stage-dimmer");r.removeClass("open");var o=t.getService("$timeout");o(function(){r.first().remove();i=false},200)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(n(98));var r=a(n(116));var o=n(171);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function l(e){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return l(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function d(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e}function f(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;return h(e)}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return m(e,t)}var g=function(e){v(t,e);function t(e){var n;u(this,t);n=f(this,p(t).call(this,e));n.menuRef=i.default.createRef();n.blurCheck=n.blurCheck.bind(h(n));return n}d(t,[{key:"blurCheck",value:function e(t){var n=this.props.closeMenu;if(this.menuRef){var i=this.menuRef.current;i.contains(t.target)&&setTimeout(function(){i.contains(document.activeElement)||n()},0)}}},{key:"render",value:function e(){var t=this;var n=this.props.children;return i.default.createElement("div",{ref:this.menuRef,onBlur:function e(n){return t.blurCheck(n)}},i.default.createElement(o.List,{className:"qs-toolbar__menu",role:"menu"},n))}}]);return t}(i.Component);g.propTypes={closeMenu:r.default.func.isRequired,children:r.default.oneOfType([r.default.array.isRequired,r.default.element.isRequired]).isRequired};var b=g;t.default=b;e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getModel=_;t.default=void 0;var i=g(n(48));var r=g(n(91));var o=g(n(90));var a=g(n(93));var s=g(n(117));var l=g(n(108));var u=g(n(51));var c=g(n(491));var d=g(n(1339));var f=g(n(1005));var p=g(n(1151));var h=g(n(214));var v=g(n(97));var m=g(n(1690));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function y(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){b(o,i,r,a,s,"next",e)}function s(e){b(o,i,r,a,s,"throw",e)}a(void 0)})}}var x=null;var w=false;var S=function e(t){var n=s.default.bootstrap(t);n.name=t.id;t.engineApp=n;s.default.setCurrentApp(n)};var C=function(){var e=y(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return a.default.getApp();case 2:t=i.sent;S(t);l.default.setup();i.next=7;return t.getLayout();case 7:n=i.sent;w=n.published;return i.abrupt("return",t);case 10:case"end":return i.stop()}},e)}));return function t(){return e.apply(this,arguments)}}();var E=function e(t){var n=i.default.getService("$delayedModal");document.addEventListener("onAppStateChanged",function(e){if(e.detail&&e.detail.inForegroundNow){n.close();t.enigmaModel.session.resume(true)}else e.detail&&!e.detail.inForegroundNow&&t.enigmaModel.session.suspend()});document.addEventListener("onBackAndStatusBarFlagChanged",function(){v.default.force()});d.default.onBeforeLogout(function(){f.default.unsetBeforeUnloadFunctions()})};var q=function e(t){t.Invalidated.bind(function(){t.getLayout().then(function(e){if(false===w&&e.published){var t=i.default.getService("qvAlertDialog").show({title:r.default.get("ErrorDialog.AppPublished.Title"),message:r.default.get("ErrorDialog.AppPublished"),closeLabel:r.default.get("Common.Refresh")});t.closing.then(function(){return window.location.reload(true)})}w=e.published},function(e){11e3===e.code&&(e.isHandled=true)})});t.Closing.bind(function(){u.default.closeAll();i.default.getService("$navigationService").suspendNavigation(true)})};function _(){return x}var T=y(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:if(!x){n.next=2;break}return n.abrupt("return",x);case 2:n.next=4;return C();case 4:x=n.sent;m.default.init();E(x);q(x);c.default.configureTouchSupport();h.default.init();t=o.default.getParameterByName("app");p.default.init(t);return n.abrupt("return",x);case 13:case"end":return n.stop()}},e)}));t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(48));var r=o(n(1691));function o(e){return e&&e.__esModule?e:{default:e}}var a=function e(){};var s={init:function e(){a();a=i.default.$rootScope.$on("errorHandlerClosed",function(e,t,n){i.default.getService("qvLoader").close(true);"function"===typeof CustomEvent&&document.dispatchEvent(new CustomEvent("onQvfLoadFailed"));r.default.show({mode:"error",message:t,button:n})})},destroy:function e(){a()}};t.default=s;e.exports=t.default},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1822)],r=function(e,t){function n(n){e.getService("qvLoader").show({template:t,message:n.message,button:n.button,mode:n.mode})}function i(t){e.getService("qvLoader").close(t)}return{show:n,close:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(95)],r=function(e,t){var n="///$tab ";var i=e.get("scripteditor.vtabs.newtabname");t.subscribe("/language/dataSet",function(){i=e.get("scripteditor.vtabs.newtabname")});function r(e){var t,i="";for(t=0;t<e.length;t++){t>0&&(i+="\r\n");i+=n;i+=e[t].name;i+="\r\n";if(e[t].autogenerated){i+="///$autogenerated";i+="\r\n"}i+=e[t].content}return i.replace(/\n/g,"\r\n").replace(/\r\r\n/g,"\r\n")}function o(e){var t=false;var n=e;var i=0;var r=10;var o=0;var a=10;var s=/\s+and\s+|\)and\s+|\)and\(/g;var l=/\s+or\s+|\)or\s+|\)or\(/g;var u=/\s+xor\s+|\)xor\s+|\)xor\(/g;var c=e.split("\n");var d=[];for(var f=0;f<c.length;f++){var p=c[f].trim();0!==p.indexOf("//")&&d.push(p)}e=d.join("\n");e=e.replace(/(\r\n|\n|\r\t|\s+)/gm,"");e=e.toLowerCase();var h=n.replace(/if\s+\(/gm,"if(");function v(e,t){var n=e.indexOf("if(");if(-1===n||0===e.length)return;e=e.slice(n+2);var i=1;var r=1;while(r>0){void 0===e[i]&&(r=0);"("===e[i]&&r++;")"===e[i]&&r--;0===r&&t(e,i);i++}}function m(e){v(e,function(e,t){var n=/if[(]/gi,r,o=[];var a=e.slice(0,t);while(r=n.exec(a))o.push(r.index+2);var s=o.length+1;i=i<s?s:i;m(e.slice(t))})}function g(e,t){v(e,function(e,n){var i=n;var r=e.substring(t,i).match(s)||[];var a=e.substring(t,i).match(l)||[];var c=e.substring(t,i).match(u)||[];var d=r.length+a.length+c.length;o=Math.max(o,d);g(e,i)})}m(e);t=i>r;if(!t){g(h,0);t=o>=a}return t}function a(e){e=e.replace(/\r\n/g,"\n");function t(e,t){var n,i="///$tab ",r=0;if(10===e.charCodeAt(t)){r+=1;t+=1}for(n=0;n<i.length;n++){if(i.charCodeAt(n)!==e.charCodeAt(t+n))return 0;r++}return r}function n(e,t){var n,i="";while(t<e.length){n=e.charCodeAt(t);if(10===n){t++;break}i+=e.charAt(t);t++}return{name:i,pos:t}}function r(e,t){var n="///$autogenerated";var i=0;10===e.charCodeAt(t)&&(t+=1);while(i<n.length){if(e.charCodeAt(t+i)!==n.charCodeAt(i))return{autogenerated:false,pos:t};i++}return{autogenerated:true,pos:t+i+1}}function a(e,t,n){e[e.length]={name:t,content:"",isHidden:false,matches:0,autogenerated:n}}e=e.replace(/\r\n/g,"\n");e=e.replace(/\r/g,"\n");var s,l,u,c=0,d=[];while(c<e.length){u=t(e,c);if(u>0){c+=u;s=n(e,c);c=s.pos;l=r(e,c);c=l.pos;a(d,s.name,l.autogenerated)}else{0===d.length&&a(d,i);d[d.length-1].content+=e.charAt(c);c++}}0===d.length&&a(d,i);d.forEach(function(e){e.isComplex=o(e.content)});return d}return{stringify:r,parse:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){function e(e,t,n){var i=null,r;if(n)for(r=0;r<n.length;r++)if(n[r][e]===t){i=n[r];break}return i}function t(t,i){var r=[];t&&(r=t.map(function(t){var n=e("key",t.qTag,i),r={key:t.qTag,current:t.qDisplayString,refSeq:t.qRefSeqNo,setSeq:t.qSetSeqNo,type:t.qIsSystem&&true===t.qIsSystem?"system":t.qIsReserved&&true===t.qIsReserved?"reserved":"user",previous:n&&n.current!==t.qDisplayString?n.current:n?n.previous:null};return r}));return n(r)}function n(e){e.sort(function(e,t){if(e.setSeq<t.setSeq)return 1;if(e.setSeq>t.setSeq)return-1;if(e.refSeq<t.refSeq)return 1;if(e.refSeq>t.refSeq)return-1;return 0});return e}return{processVariables:t,updateVariableSorting:n}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=0;var t=e;var n=false;function i(){t=(Date.now()-e)/1e3}function r(e){e=Math.floor(e);e<10&&(e="0"+e);return e}function o(){return r(t/3600)}function a(){return r(t%3600/60)}function s(){return r(t%60)}function l(){n&&i();return o()+":"+a()+":"+s()}function u(){n=true;d()}function c(){i();n=false}function d(){e=Date.now();i()}return{getElapsedTime:l,start:u,stop:c,reset:d}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(92),n(151),n(1283),n(91)],r=function(e,t,n,i,r){var o=t.extend("DataPrepProcessor",{init:function e(){},processTargetTablesResponse:function t(i,r){var o=this;var a=[];i.tables.forEach(function(t){if(o.isKnownQueryType(t.sourceType)){var i=r.getTargetTableModelById(t.id);if(i){var s=e.extend(i,{noOfRows:t.noOfRows,sourceType:t.sourceType,qvdFileInfo:t.qvdFileInfo});t.sourceType===n.DSMTypes.Query.name||t.sourceType===n.DSMTypes.CrossTableQuery.name?s.sourceName=t.sourceTables[0].sourceName:s.sourceName||(s.sourceName="");a.push(s)}}else{t.status=n.DSMTypes.QueryStatus.inSynchWithMaster;var l=r.createTargetTableModel(t);var u=e.extend(l,{noOfRows:t.noOfRows,sourceType:t.sourceType,qvdFileInfo:t.qvdFileInfo});a.push(u)}});i.tables=a;return i},isKnownQueryType:function e(t){var i=false;switch(t){case n.DSMTypes.Query.name:case n.DSMTypes.ConcatenationQuery.name:case n.DSMTypes.ForcedConcatenationQuery.name:case n.DSMTypes.CrossTableQuery.name:i=true;break}return i},processGetRecommendationsResponse:function e(t,n){t.result.associationPairs&&!t.result.associatedFields&&(t.result.associatedFields=this.convertAssociationPairs(t.result.associationPairs,n));return t},convertAssociationPairs:function e(t,n){var i=[];t.forEach(function(e){e.assocCandidates.filter(function(e){return e.overallScore>=n}).forEach(function(t){var n={};n.associationInfo={score:t.overallScore};n.associationScore=t.overallScore;n.associationStatus=2;n.fieldL={fieldName:t.fieldOne.name,tableName:e.tableOne.name};n.fieldR={fieldName:t.fieldTwo.name,tableName:e.tableTwo.name};i.push(n)})});return i},applyLoadModelClassification:function e(t,o,a){o.forEach(function(e){var o=t.getTargetTableModelById(e.id);e.fields.forEach(function(e){var s=o.getField(e.id);if(!s.classifications){s.classifications=e.classifications;s.originalClassification=s.classifications}if(!s.transformations||0===s.transformations.length){s.transformations=e.transformations;s.originalTransformations=s.transformations;if(!a){var l=new i.TransformationRecommendationUtil(o,t,r.localeDetected);var u=[];u.push(n.DSMTypes.Transformations.geoPoint);u.push(n.DSMTypes.Transformations.lookupGeoInfo);s.transformations.forEach(function(e){l.handleRecommendation(e,u)})}}})})}});return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(151),n(1156)],r=function(e,t,n){function i(e){return e.map(function(){return-1})}function r(e){return e.map(function(e,t){return t})}function o(e){return e.map(function(e,t){return t})}function a(i,r){var o=n.filterTransformationFieldsWithType(i,[t.DSMTypes.Transformations.lookupGeoInfo]);var a=e.map(o,function(e){var t=r[e.name];return{name:t.expression?t.expression:"["+t.internalName+"]",label:e.name}});function s(e,t){return{qDef:{autoSort:true,othersLabel:"Others",textAlign:{auto:true,align:"left"},qFieldDefs:[e],qFieldLabels:[t],qSortCriterias:[{qSortByLoadOrder:1,qSortByAscii:1}]},qNullSuppression:false,qOtherTotalSpec:{qOtherMode:"OTHER_OFF",qOtherSortMode:"OTHER_SORT_DESCENDING",qOtherCounted:{qv:"10"},qOtherLimitMode:"OTHER_GE_LIMIT",qOtherLimit:{qv:"0"},qSuppressOther:false}}}var l=[];a.forEach(function(e){l.push(s(e.name,e.label))});return l}return{getDimensions:a,getDimensionWidths:i,getDimensionSortOrder:r,getDimensionColumnOrder:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(279)],r=function(e){function t(t,i,r){if(void 0===t)throw new Error("Internal view is undefined.");if(!i)throw new Error("Table name is empty.");if(void 0===r)throw new Error("Fields are undefined.");return e.getTableData(t,i).then(function(e){var t=[];var i=e.qData;var o=0;for(var a in r){var s=r[a];var l=n(s,i);if(-1===l)continue;for(var u=0;u<i.length;u++){void 0===t[u]&&(t[u]=[]);var c=i[u].qValue[l].qText;var d=i[u].qValue[l].qIsNumeric;t[u][o]={label:c,isNumeric:d}}o++}return t})}function n(e,t){for(var n in t[0].qValue){var i=t[0].qValue[n].qText;if(i===e)return n}return-1}return{getDataPreviewForTable:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(91),n(496),n(996),n(379),n(1157),n(49)],r=function(e,t,n,i,r,o,a){function s(t,r){var o=a.getFlag("ELASTIC_DND")?i.isMyDataFilesConnection:n.isUploadFolderConnection;var s=t.dataconnectorsModel.connections.map(function(e){return e.connectorInstance}).filter(o)[0];var l={connection:s,fileName:r};return e.resolve(l)}function l(n,i){var r={loadModelEditor:n.newLoadModel.getDataconnectorSelectionEditor(i.connection),fileConnection:i};return o.createNativeFileProvider(i.connection,r.loadModelEditor,{connectionName:i.name,singleFileName:i.fileName,usingExisting:true}).then(function(t){r.nativeFileProvider=t;return e.all({connectionInfo:t.getConnectionInfo(),owners:t.getOwners(),databases:t.getDatabases()})}).then(function(n){r.connectionInfo=n.connectionInfo;r.owner=n.owners.filter(function(e){return e.qIsDefault})[0];r.database=n.databases[0];if(!r.owner||!r.database)return e.reject(new Error(t.get("LoadTablesFromFiles.Error.UnsupportedFile",[i.fileName])));return r.nativeFileProvider.getTables(r.database.qName,r.owner.qName)}).then(function(t){r.tables=t.filter(function(e){return e.qName.indexOf("_FilterDatabase")<0});var n=r.tables.map(function(e){var t={};return r.nativeFileProvider.getFields(r.database.qName,r.owner.qName,e.qName,t).then(function(n){e.qFormatSpec=t.qFormatSpec;e.fileFormatSettings=t.fileFormatSettings;return{table:e,fields:n}})});return e.all(n)}).then(function(e){r.tablesAndFields=e;return r})}function u(e){this.files=e}u.prototype.run=function(t){var n=[];var i=this.files.map(function(n){var i="ATTACHED"===n.connection?s(t,n.fileName):e.resolve(n);return i.then(function(e){return l(t,e)})});return e.all(i).then(function(e){return c(e).then(function(e){n=n.concat(e.info.newOrModified.map(function(e){return e.alias||e.name}));return{loadedTableNames:n,loadModel:t.existingLoadModel,addTableResults:e}})})};function c(e){var t=[];for(var n=0;n<e.length;n++){var i=e[n];t.push({tablesAndFields:i.tablesAndFields,dbInfo:i.connectionInfo,connectionInfo:i.fileConnection.connection,databaseName:i.database.qName,ownerName:i.owner.qName})}return r.get().then(function(e){return e.getRestService().addTables(t).then(function(e){return e})})}return{createLoadDataFilesFlowForServer:function e(t){return new u(t)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i;var r={get:function e(){return i},set:function e(t){i=t}};t.default=r;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.ScriptPermissionProvider=void 0;var i=a(n(98));var r=o(n(116));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function s(e){s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return s(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function c(e,t,n){t&&u(e.prototype,t);n&&u(e,n);return e}function d(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;return p(e)}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&v(e,t)}function v(e,t){v=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return v(e,t)}var m=i.default.createContext(false);var g=m.Consumer;var b=function(e){h(t,e);function t(e){var n;l(this,t);n=d(this,f(t).call(this,e));n.state={scriptPrivileges:true};n.getScriptPermission=n.getScriptPermission.bind(p(n));return n}c(t,[{key:"componentDidMount",value:function e(){this.getScriptPermission()}},{key:"getScriptPermission",value:function e(){var t=this;var n=this.props,i=n.app,r=n.isPersonalMode;if(r){this.setState({scriptPrivileges:true});return}i.getScriptEx().then(function(e){t.setState({scriptPrivileges:e.qMeta.privileges&&-1!==e.qMeta.privileges.indexOf("update")})}).catch(function(){t.setState({scriptPrivileges:false})})}},{key:"render",value:function e(){var t=this.props.children;var n=this.state.scriptPrivileges;return i.default.createElement(m.Provider,{value:n},t)}}]);return t}(i.PureComponent);t.ScriptPermissionProvider=b;b.propTypes={app:r.default.object.isRequired,isPersonalMode:r.default.bool.isRequired,children:r.default.oneOfType([r.default.array.isRequired,r.default.element.isRequired]).isRequired};var y=g;t.default=y},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(48),n(1862)],r=function(e,t){e.service("qvGenericLoadingDialog",["luiDialog",function(e){var n={};n.show=function(n){if("object"!==o(n))throw new Error("options must be an object");var i=e.show({controller:["$scope",function(e){e.loadingTitle=e.input.title;e.loadingMessage=e.input.message}],template:t,input:{message:n.message,title:n.title}});i.opened.catch(function(e){false});i.closed.catch(function(e){false});i.closing.catch(function(e){false});return i};return n}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(1865),n(90),n(91),n(97),n(184),n(1866),n(1867),n(264),n(1359),n(264)],r=function(e,t,n,i,r,o,a,s,l,u){var c={template:n,bindings:{tableModel:"<"},controller:["$scope","$element","$timeout","luiTooltip",function(e,n,c,d){var f=this;var p=null;var h=n.find(".ds-edit-grid");var v=n.find(".ds-edit-grid .table");var m=n.find(".ds-edit-grid .copy-area .text-area");var g=2;var b=1;var y=180;var x;var w;var S=a.createGroup("dsEditGrid",9);f.$onInit=function(){w={table:this.tableModel,selection:new s(this.tableModel),rootElement:h,tableElement:v,MIN_COLUMN_WIDTH:y,MIN_ROWS:b,MIN_COLUMNS:g};f.model=w;x=new l(w);w.rowWidth=0;w.baseWidth=0;w.offsetWidth=0;S.registerKeys("tab",N(w.selection.selectNextRowCell),{delay:0});S.registerKeys("right",N(w.selection.selectNextRowCell),{delay:0});S.registerKeys("enter",N(w.selection.editSelectedCell),{delay:0});S.registerKeys("down",N(w.selection.selectNextColumnCell),{delay:0});S.registerKeys("up",N(w.selection.selectPrevColumnCell),{delay:0});S.registerKeys("left",N(w.selection.selectPrevRowCell),{delay:0});S.registerKeys("shift+tab",N(w.selection.selectPrevRowCell),{delay:0});S.registerKeys("del",N(w.selection.deleteSelection),{delay:0});S.registerKeys("backspace",N(w.selection.deleteSelection),{delay:0});S.registerKeys("cmd+c",P);S.registerKeys("ctrl+c",P);S.registerKeys("cmd+x",M);S.registerKeys("ctrl+x",M);S.on();w.selection.on("editStart",function(){c(function(){var e=h.find(".editor");e.focus();var t=x.getTotalColumnWidth();t!==w.rowWidth&&(w.rowWidth=t+x.lineNumberColumnWidth)})});w.selection.on("editEnd",function(e,t,n,i){if(i){w.table.isDirty=true;x.checkForNewColumnOrRow(t,n)}C();w.rowWidth=w.baseWidth+w.offsetWidth});w.selection.on("delete",function(e,t){w.table.isDirty=true;if("row"===t){x.initRows();C()}else if("column"===t){x.initColumns();x.setColumnWidths();C()}});o.on("end",R);v.on("scroll",function(){c(function(){w.offsetWidth=v.scrollLeft();w.rowWidth=w.baseWidth+w.offsetWidth})});E()};function C(){var e=w.table.columns.filter(function(e){return e.name}).length;var t=w.table.rows.length-1;f.columnCount=r.get("EditGrid.MetaData.Columns",[e]);f.rowCount=r.get("EditGrid.MetaData.Rows",[t])}function E(){x.initTable();C();c(function(){x.setColumnWidths()})}var q=i.isIos();var _=i.isMSIE()||i.isEdge();var T=q||_;var k=void 0,O=void 0;this.mouseDownHandler=function(e,t,n){k={columnIndex:t,rowIndex:n};w.selection.selectStart(e,t,n)};this.mouseEnterHandler=function(e,t){w.selection.selectExpand(e,t)};this.mouseUpHandler=function(e,t){w.selection.selectEnd();if(T)if(k.columnIndex===e&&k.rowIndex===t)if(O){e>=0&&O.columnIndex===e&&O.rowIndex===t&&(t>=0?w.selection.editCell(e,t):w.selection.editColumnHeader(e));O=void 0}else{O=k;c(function(){O=void 0},300)}else O=void 0;k=void 0};this.doubleClickHandler=function(e,t){if(!T)if(t>=0)w.selection.editCell(e,t);else{w.selection.editColumnHeader(e);w.selection.isEditingHeader()&&D(this.currentHeader())}};this.onBlur=function(){if(w.selection.isEditingHeader()){var e=this.currentHeader();e.invalidInput&&this.rollbackCurrentHeaderInput(e)}w.selection.clearEditing();I()};this.rollbackCurrentHeaderInput=function(e){e.name=w.selection.editingHeader.name};this.onHeaderTextPaste=function(){c(function(){w.selection.isEditingHeader()&&D(f.currentHeader())})};this.currentHeader=function(){var e=w.selection.editingHeader.columnIndex;return w.table.columns[e]};this.editorKeydown=function(e){var t,n,i,r;if(w.selection.isEditingHeader()){r=this.currentHeader();D(r)}switch(e.keyCode){case 27:if(w.selection.isEditingCell()){t=w.selection.editingCell.columnIndex;n=w.selection.editingCell.rowIndex;i=w.table.rows[n][t];i.value=w.selection.editingCell.value;w.selection.clearSelection();w.selection.selectCell(t,n)}else w.selection.isEditingHeader()&&this.rollbackCurrentHeaderInput(r);w.selection.clearEditing();I();break;case 13:w.selection.isEditingHeader()&&r.invalidInput&&this.rollbackCurrentHeaderInput(r);e.shiftKey?w.selection.editPrevColumnCell():w.selection.editNextColumnCell();I();break;case 9:w.selection.isEditingHeader()&&r.invalidInput&&this.rollbackCurrentHeaderInput(r);if(e.shiftKey){e.preventDefault();w.selection.editPrevRowCell()}else w.selection.editNextRowCell();I();break;default:break}};t(document).on("paste.ds-edit-grid",function(t){if(w.selection.isSelecting()&&!w.selection.isEditingCell()&&!w.selection.isEditingHeader()){var n=t.originalEvent.clipboardData.getData("text");e.$apply(function(){m.val("").select();c(function(){w.table.isDirty=true;var e=m.val();var t=e||n;x.pasteRawText(t);C()})})}});function D(e){var t,n=256;if(e.name||e.value){e.numberOfCharacters=e.name?e.name.length:e.value.length;if(e.numberOfCharacters>=n&&!p){t=r.get("DataManager.GridEditor.Validator.FieldName.MaxLength",n);e.invalidInput=true;A(t)}if(e.numberOfCharacters<n){I();e.invalidInput=false}}}function A(e){c(function(){var t=n.find(".editor");t&&t[0]&&(p=d.show({template:u.template,controller:u.controller,input:{item:e,style:{width:"350px"}},alignTo:t[0],dock:"bottom"}))},0,false)}function I(){if(p){p.close();p=null}}function L(e){m.val(e).select();document.execCommand("copy")}function P(){if(w.selection.isSelecting()){var e=x.getSelectedCellRangeText();L(e)}}function M(){if(w.selection.isSelecting()){var e=x.getSelectedCellRangeText();L(e);c(function(){w.selection.isDeleteDisabled()||w.selection.deleteSelection()})}}function N(e){return function(){c(function(){e.bind(w.selection)()})}}function R(){e.$apply(x.setColumnWidths.bind(x))}e.$on("$destroy",function(){t(document).off("paste.ds-edit-grid");S.delete();o.off("end",R);I()})}]};e.nativeComponent("dsEditGrid",c)}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(105)],r=function(e,t){e.service("qvManualAddDataService",[function(){return{uniqueFieldNames:e,getActiveConnector:n};function e(e,t){t||(t=[]);for(var n=e.length-1;n>=0;n--){var i=e[n];var r=e.filter(function(e,t){return t!==n}).map(function(e){return e.name}).concat(t);var o=i.name,a=1;while(r.indexOf(o)>=0)o=i.name+"_"+a++;i.name=o}return e}function n(){var e={name:t.AddData.InlineData,typeName:t.AddData.InlineData,id:t.AddData.InlineData};return e}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1875),n(1006)],r=function(e,t,n){e.componentDirective("qvSelectDataInclude",{});e.nativeComponent("addDataSelection",{bindings:{connector:"<",connectorInput:"<"},controller:[function(){var e=this;e.$onChanges=function(t){t.connector&&(t.connector.currentValue?e.connector.getConnectorType()&&e.connector.isIframeCompatible?n.loadFromDatasource(e.connector,"selectStep").then(function(t){e.initialSelectStep=t}):e.connector.loadConnectorMain().then(function(){e.initialSelectStep=e.connector.getSelectStep()}):e.initialSelectStep=null)}}],template:t})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1886),n(1159)],r=function(e,t){e.nativeComponent("addDataTabsMenu",{bindings:{databaseName:"<"},controller:["addDataFilterManagementService","$element","$scope",function(t,n,i){var r=this;r.filterManagementService=t;r.filterCount=0;r.$onChanges=function(){t.getFilterCount(r.databaseName).then(function(e){r.filterCount=e})};e.$rootScope.$on("filterCountUpdated",function(){t.getFilterCount(r.databaseName).then(function(e){r.filterCount=e;i.$evalAsync(function(){n.hide().show(0)})})});r.showFilters=function(){t.showFilterPage()};r.showTables=function(){t.hideFilterPage()};r.showTables()}],template:t})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(1895),n(1360),n(197),n(117),n(495),n(140),n(135),n(91),n(113),n(103),n(1707)],r=function(e,t,n,i,r,o,a,s,l,u,c){var d=100;var f=50;var p=10;return{template:t,scope:{dataSelectionModel:"=",associationsModel:"=",scriptGenerator:"=",scriptEditorProxy:"=",options:"=",dataconnectorInstance:"=",inlineMode:"=",qvDialogContext:"="},controller:["$scope","$timeout","dataSelectionModel","scriptGenerator","scriptEditorProxy","input","$element",function(t,h,v,m,g,b,y){var x=[],w=[],S,C,E,q=0;t.enableProfiling=false;t.inEditMode=t.qvDialogContext&&t.qvDialogContext.editMode;t.options.selectFromTitleNameTranslated=l.get("scripteditor.dataconnectors.dialog.titlewithname",t.options.selectFromTitleName);a.get().then(function(e){e.getLayout().then(function(e){t.enableProfiling=!(e.qIsOpenedWithoutData||s.isSuffixInUse("noData"))})});var _;t.isSmallMode=function(){_||(_=y.find(".genericSelectDialog"));return _.innerWidth()<=980};function T(){D("quickdataload.EditSelections.DatabaseNoLongerExistsHeader","quickdataload.EditSelections.DatabaseNoLongerExistsContent",t.options.tableModelToEdit.data.databaseName)}function k(){D("quickdataload.EditSelections.OwnerNoLongerExistsHeader","quickdataload.EditSelections.OwnerNoLongerExistsContent",t.options.tableModelToEdit.data.ownerName)}function O(){D("quickdataload.EditSelections.TableNoLongerExistsHeader","quickdataload.EditSelections.TableNoLongerExistsContent",t.options.tableModelToEdit.data.tableName)}function D(e,n,i){o.confirmAction({header:e,headerParameter:i,content:n,showDeclineButton:false,confirmButtonTitle:"Common.Close"}).resultPromise.then(function(){t.qvDialogContext.close()})}t.initializeGUI=function(){var e;C=n.invoke(function(e){E&&E(e)});t.options={};t.options.databaseTitle="scripteditor.dataconnectors.database";t.options.databasePlaceholder="scripteditor.dataconnectors.selectdatabase";t.options.ownerPlaceholder="scripteditor.dataconnectors.selectowner";t.options.ownerTitle="scripteditor.dataconnectors.owner";t.options.tablesTitle="scripteditor.dataconnectors.tables";t.options.fieldsTitle="Common.Fields";t.options.disableOwnerIfOnlyOneChoice=false;t.options.tablesLocation="lower-left";t.options.specialTableSettingsLocation="none";t.options.databaseVisible=true;t.options.showfixedwidthguicanvas=false;t.options.ownerVisible=true;t.options.precedingLoadVisible=true;t.options.fieldsAreSelectable=true;t.options.allowFieldRename=true;t.options.showSelectionsSummary=!t.inlineMode;t.options.metadataVisible=true;t.options.selectFromTitleName="";t.options.forceSelectTables=false;t.options.quickLoadContext=false;t.options.showTablePanel=false;for(e in b.options)b.options.hasOwnProperty(e)&&(t.options[e]=b.options[e]);t.specialTableSettingsOk=true;t.databases=[];t.owners=[];t.tables=[];t.fields=[];t.preview=[];t.options.metadataVisible?t.dataview=K("dataview",true):t.dataview=true;t.options.tablesVisible=!t.inEditMode;t.selectedDatabase=void 0;t.selectedDatabaseName=void 0;t.selectedOwner=void 0;t.selectedOwnerName=void 0;t.selectedTable=void 0;t.selectedTableName=void 0;t.tableFilter="";t.fieldFilter="";t.showScriptPreview=!t.options.quickLoadContext&&!t.inlineMode&&K("showScriptPreview",true);t.showTables=K("showTables",false);t.showViews=K("showViews",false);t.precedingLoad=K("precedingLoad",true);t.loadingFields=0;t.loadingPreview=0;t.gettingDatabases=true;t.gettingOwners=false;t.gettingDatasourceInfo=false;t.gettingTables=false;v.getDatabases().then(function(e){t.databases=e;t.gettingDatabases=false;if(!t.selectedDatabase)if(t.options.tableModelToEdit){var n=t.databases.filter(function(e){return e.name===t.options.tableModelToEdit.data.databaseName});n.length>0?t.selectedDatabase=n[0]:T()}else t.selectedDatabase=v.getDefaultDatabase();t.gettingDatasourceInfo=true;v.getDatasourceInfo().then(function(e){t.gettingDatasourceInfo=false;t.datasourceInfo=e})},function(e){e.isHandled=true;T()})};t.onFixedWidthDelimitersInputChange=function(e){if(!e)return;if("number"===typeof e)e=[e];else if("string"===typeof e){e=e.split(",");for(var t in e)e[t]=Number(e[t])}C.setDelimiters(e)};t.setFixedWidthGUIControllerOnChangeListener=function(e){E=e};t.onSpecialTableSettingsUpdated=function(){t.selectedTableName&&M(true)};t.$watch("selectedDatabase",function(){var e=t.selectedOwner,n=t.selectedDatabase;t.selectedOwner=void 0;t.selectedTableName=void 0;x=[];w=[];S=[];t.owners=[];t.tables=[];t.fields=[];t.preview=[];t.tableFilter="";t.fieldFilter="";if(t.selectedDatabase){t.selectedDatabaseName=t.selectedDatabase.name;t.gettingOwners=true;t.selectedDatabase.getOwners().then(function(i){t.gettingOwners=false;if(n===t.selectedDatabase){for(var r=0;r<i.length;r++)void 0===i[r].label&&(i[r].label=l.get("scripteditor.dataconnectors.undefinedOwnerLabel"));t.owners=i;if(t.options.tableModelToEdit){var o=t.owners.filter(function(e){return e.name===t.options.tableModelToEdit.data.ownerName});o.length>0?t.selectedOwner=o[0]:k()}else t.selectedOwner=t.selectedDatabase.getDefaultOwner(e)}},function(e){e.isHandled=true;k()})}else t.selectedDatabaseName=void 0});t.$watch("selectedOwner",function(e,n){n&&n.name&&0===n.name.indexOf("TYPE9_")&&n.setAllTablesSelected(false);!t.inEditMode&&e&&e.name&&0===e.name.indexOf("TYPE9_")&&(t.options.tablesVisible=b.options.fileTypesWithTables.indexOf(e.name)>-1);var i=t.selectedOwner;x=[];w=[];S=[];t.tables=[];t.fields=[];t.preview=[];t.selectedTable=void 0;t.selectedTableName=void 0;t.tableFilter="";t.fieldFilter="";if(t.selectedOwner){t.selectedOwnerName=t.selectedOwner.name;h(function(){t.gettingTables=true},0).then(function(){t.selectedOwner.getTables().then(function(e){t.gettingTables=false;if(i===t.selectedOwner){x=e;F();if(t.options.tableModelToEdit){var n=e.filter(function(e){return e.name===t.options.tableModelToEdit.data.tableName});if(n.length>0){X(e.indexOf(n[0]));t.onTableShow(n[0])}else O()}else{t.options.forceSelectTables&&t.selectedOwner.setAllTablesSelected(true);t.options.forceSelectFirstTable&&e.length>0&&!$(e)&&e[0].setAllSelected(true);t.selectedOwner.getDefaultTable()&&t.onTableShow(t.selectedOwner.getDefaultTable());X(P());var r,o;for(r in t.selectedOwner.tables){o=t.selectedOwner.tables[r];if(o.checked||o.fieldsChecked){t.onTableShow(o);break}}}}},function(e){e.isHandled=true;O()})})}else t.selectedOwnerName=void 0});t.$watch("showTables",function(e){"undefined"!==typeof e&&Y("showTables",e)});t.$watch("showViews",function(e){"undefined"!==typeof e&&Y("showViews",e)});t.$watch("precedingLoad",function(e){"undefined"!==typeof e&&Y("precedingLoad",e)});t.$watch("fieldFilter",function(){U()});t.$watch("tableFilter",function(){F()});t.$watch("selectedTable.loadProperties.filterInfo.filterClause",function(e,n){e&&e!==n&&(t.selectedTable.showTableProperties=true)});t.$watch("options.showTablePanel",function(e){if(!e)return;u.GENERIC_SELECT_FILTER_TABLE||(t.options.showTablePanel=false)});t.onTableShowClick=function(n){var i=e(n.target).scope().table;t.onTableShow(i)};t.onTableShow=function(e){if(e&&e!==t.selectedTable){t.selectedTable=e;t.selectedTableName=e.name;M()}};t.onDbOwnerEntryClick=function(e){t.selectedDatabase=e.database;t.selectedOwner=e.owner};t.onTableCheckboxClick=function(t){var n=e(t.target).scope().table;n.changeAllFieldsSelected()};t.onSelectAllFieldsCheckboxClick=function(){t.selectedTable.changeAllFieldsSelected()};function A(e){if(!t.isFieldListDisabled())return w.some(function(t){return e===t.name});return false}function I(){q++;return l.get("scripteditor.dataconnectors.dialog.headerwithoutname",[q])}function L(){var e=I();while(A(e))e=I();return e}t.onFieldClick=function(n){if(t.options.fieldsAreSelectable){var i=e(n.target).scope();var r=i.field?i.field:t.fields[i.$index];r.changeFieldSelection();r.name||r.alias||(r.alias=L())}};t.onDataPreviewClick=function(){t.dataview=true;Y("dataview",t.dataview);if(!t.preview||0===t.preview.length)if(w.length<=d){w.length>=f&&(t.capNumberOfRows=true);R()}else t.previewTooLarge=true};t.onMetaDataClick=function(){t.dataview=false;Y("dataview",t.dataview)};t.onToggleScriptPreview=function(){t.showScriptPreview=!t.showScriptPreview;Y("showScriptPreview",t.showScriptPreview)};t.onPreviewDataWithFilter=function(){M()};t.isTableFilterDirty=function(e){if(!e||!e.loadProperties||!e.loadProperties.filterInfo)return false;return e.loadProperties&&e.loadProperties.filterInfo.filterClause!==e.previewFilterClause};t.hasTableRowCount=function(e){if(!e)return false;return e.filteredSourceRowCount&&-1!=e.filteredSourceRowCount};t.hasTableRowsFiltered=function(e){if(!e)return false;return e.sourceRowCount&&-1!=e.sourceRowCount&&e.sourceRowCount!==e.filteredSourceRowCount};t.onOK=function(){c.trackEvent(c.customEvents.ADD_DATA_BY_CONNECTOR_SCRIPT_EDITOR,{connector_typename:t.dataconnectorInstance.typeName,connector_id:t.dataconnectorInstance.id,connector_name:t.dataconnectorInstance.name});if(t.qvDialogContext&&t.qvDialogContext.finish)t.qvDialogContext.finish();else{var e=t.precedingLoad&&t.options.precedingLoadVisible;g.insertCode(m.generateScriptForSelections(v,t.datasourceInfo,e,!t.options.fieldsAreSelectable),t.dataconnectorInstance||t.options.dataconnectorInstance,t.options.selectFromTitleName);t.destroyComponent()}};t.onCancel=function(){if(t.qvDialogContext&&t.qvDialogContext.cancel)t.qvDialogContext.cancel();else{t.cancelIsInProgress=true;r.global.abortAll().then(function(){t.destroyComponent()})}};if(t.qvDialogContext){t.qvDialogContext.nextDisabled=function(){return!t.enableProfiling||t.isAddScriptButtonDisabled()};t.qvDialogContext.finishDisabled=function(){return t.isAddScriptButtonDisabled()}}t.onContinue=function(){t.next()};t.onBack=function(){r.global.abortAll().then(function(){t.back()})};t.getScriptPreview=function(){var e=t.precedingLoad&&t.options.precedingLoadVisible;var n=m.generateScriptForSelections(v,t.datasourceInfo,e,!t.options.fieldsAreSelectable);return n};t.isTableSelected=function(e){return e===t.selectedTable};function P(){for(var e=0;e<t.tables.length;e++)if(t.tables[e].checked)return e;return-1}t.showFieldDataLoader=function(){return t.isLoadingFields()||t.loadingPreview>0};t.toggleTableListExpansion=function(){t.tableListExpanded=!t.tableListExpanded};t.isLoadingFields=function(){return t.gettingDatabases||t.gettingOwners||t.gettingDatasourceInfo||t.gettingTables||t.loadingFields>0};t.isDatabaseDisabled=function(){return!t.databases||0===t.databases.length||t.inEditMode||1===t.databases.length&&!t.databases[0].name};t.isOwnerDisabled=function(){return!t.owners||0===t.owners.length||t.inEditMode||1===t.owners.length&&(!t.owners[0].name||t.options.disableOwnerIfOnlyOneChoice)};t.isTableListDisabled=function(){return!x||0===x.length||t.inEditMode};t.isTableListExpanded=function(){return t.tableListExpanded};t.isFieldListDisabled=function(){return!w||0===w.length};t.isAddScriptButtonDisabled=function(){return!(v.isAtLeastOneFieldSelected()||t.options.tableModelToEdit)||t.showFieldDataLoader()||!t.datasourceInfo||!t.specialTableSettingsOk};t.isSelectionsListShown=function(){return t.options.showSelectionsSummary&&v.isAtLeastOneFieldSelected()};t.getExistingDatabaseSelections=function(){return v.getFlatListOfSelectedDatabaseOwnerCombinations()};function M(e){var n=t.selectedTable;w=[];S=[];t.fields=[];t.preview=[];t.fieldFilter="";t.previewTooLarge=false;t.capNumberOfRows=false;t.loadingFields++;h(function(){t.selectedTable.getFields(e).then(function(e){if(n===t.selectedTable){t.loadingFields=0;w=e.map(function(e){if(!e.name&&e.checked){e.changeFieldSelection();t.selectedTable.checked=false}return e});j();true===t.selectedTable.checked&&t.selectedTable.setAllSelected(true);t.previewTooLarge=e.length>d;if(t.dataview&&!t.previewTooLarge){e.length>=f&&(t.capNumberOfRows=true);R()}}else t.loadingFields>0&&t.loadingFields--})})}function N(e,n){t.inline&&e.getAssociationsPreview(n).then(function(e){t.associationsPreview=e})}function R(){var e=t.selectedTable;function n(n){if(t.dataview&&e===t.selectedTable){S=n;V();t.loadingPreview=0}else t.loadingPreview>0&&t.loadingPreview--}t.loadingPreview++;t.selectedTable.getDataPreview().then(function(e){n(e);N(t.selectedTable,e)},function(){n([])})}function F(){t.selectedDatabase&&t.selectedOwner?t.tables=z(x,t.tableFilter):t.tables=[]}function j(){t.selectedDatabase&&t.selectedOwner&&t.selectedTable?t.fields=G(w,t.fieldFilter):t.fields=[]}function B(e){var n=[];var i=0;for(var r in e){if(t.capNumberOfRows&&++i>=p)break;n[r]=[];n[r].rowNbr=r;for(var o in e[r].qValues)n[r][o]={v:e[r].qValues[o],cellNbr:o}}return n}function V(){var e;e=S&&t.fieldFilter&&t.fields?W(t.fields,S):S;t.preview=B(e);H(S)}function H(e){var t=[];var n=[];for(var i in e){var r="";var o=e[i].qValues;for(var a=0;a<o.length;a++){var s=o[a];var l=s;r+=l;n.push(r.length)}t.push(r)}C.setText(t)}function U(){j();V()}function z(e,t){if(e&&e.length>0){if(t){if(t.indexOf(":")>0){var n=t.split(":"),i=n[0].toLowerCase(),r=n[1].toLowerCase();return e.filter(function(e){return Q(e.name,r)&&0===(e.type||"").toLowerCase().indexOf(i)})}return e.filter(function(e){return Q(e.name,t)||e.alias&&Q(e.alias,t)})}return e}return[]}function $(e){for(var t=0;t<e.length;t++)if(e[t].fieldsChecked)return true;return false}function G(e,t){return e&&t?e.filter(function(e){return Q(e.name,t)||e.aliasRealValue&&Q(e.aliasRealValue,t)}):e}function W(e,t){var n=[];for(var i=0;i<t.length;i++){var r=[];for(var o in e){var a=e[o].index;r.push(t[i].qValues[a])}n.push({qValues:r})}return n}function Q(e,t){return e.toLowerCase().indexOf(t.toLowerCase())>=0}function K(e,t){var n=i.get("scripteditor.genericselectdialog."+e,{value:t});if("true"===n.value)return true;if("false"===n.value)return false;return n.value}function Y(e,t,n){i.set("scripteditor.genericselectdialog."+e,{value:t},n)}function X(e){t.$$postDigest(function(){var t=y.find(".table-list");var n=t.find("li");n.length>0&&e>=0&&(t[0].scrollTop=n[0].offsetHeight*e)})}t.initializeGUI()}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(208)],r=function(e,t){e.componentDirective("gsdIncludeAddonContent",{onRefresh:"&",databaseName:"=",ownerName:"=",tableName:"="});e.directive("gsdHighlightTerm",[function(){return{scope:{gsdHighlightTerm:"=",gsdHighlightContent:"="},link:function e(n,i){function r(){if(n.gsdHighlightContent){var e=n.gsdHighlightContent;var r=n.gsdHighlightTerm;i.text(n.gsdHighlightContent);if(r){r.indexOf(":")>0&&(r=r.substring(r.indexOf(":")+1));var o=e.toLowerCase().indexOf(r.toLowerCase()),a=o+r.length;if(o>=0){var s="<span>"+t.encodeForHTML(e.substring(0,o))+"</span><span class='searchhighlight'>"+t.encodeForHTML(e.substring(o,a))+"</span><span>"+t.encodeForHTML(e.substring(a))+"</span>";i.html(s)}}}}n.$watch("gsdHighlightTerm",r);n.$watch("gsdHighlightContent",r)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(89)],r=function(e,t){var n=e.when;function i(i,r){var o=this,a=[];this.recalculate=function(){a=this.computeFlatListOfSelectedDatabaseOwnerCombinations()};this.getDatasourceInfo=function(){var e=this;e.infoPromise=e.infoPromise||n(i.getConnectionInfo()).then(function(t){e.datasourceInfo=t;r&&r.setMetadataModelForConnection(t);return t});return e.infoPromise};this.getDatabases=function(){var e=this;e.databasesPromise=e.databasesPromise||n(i.getDatabases()).then(function(t){t&&0!==t.length?e.databases=t.map(function(e){return new s(e.qName,e.qIsDefault,e.qOwners)}):e.databases=[new s("",true,void 0)];return e.databases});return e.databasesPromise};this.getDefaultDatabase=function(){var e;if(1===this.databases.length)return this.databases[0];if(!this.selectedDatabase)for(e=0;e<this.databases.length;e++)if(this.databases[e].isDefault)return this.databases[e];return};function s(t,n,i){this.name=t;this.isDefault=n;if(i&&i.length){this.populateOwners(i);this.ownersPromise=e.promise(this.owners)}}s.prototype.populateOwners=function(e){var t=this;e&&0!==e.length?t.owners=e.map(function(e){return new l(t.name,e.qName,e.qIsDefault,e.qTables)}):t.owners=[new l(t.name,"",true,void 0)];return t.owners};s.prototype.getOwners=function(){var e=this;this.ownersPromise=this.ownersPromise||n(i.getOwners(this.name)).then(function(t){return e.populateOwners(t)});return e.ownersPromise};s.prototype.getDefaultOwner=function(e){var t;if(e)for(t=0;t<this.owners.length;t++)if(this.owners[t].name===e.name)return this.owners[t];if(1===this.owners.length)return this.owners[0];for(t=0;t<this.owners.length;t++)if(this.owners[t].isDefault)return this.owners[t];return};function l(n,i,r,o){this.databaseName=n;this.name=i;this.label=i&&0===i.indexOf("TYPE9_")?t.get(("scripteditor.dataconnectors.selection.owner."+i).toLowerCase()):i;this.isDefault=r;if(o&&o.length){this.populateTables(o);this.tablesPromise=e.promise(this.tables)}}l.prototype.populateTables=function(e){var t=this;t.tables=e?e.map(function(e){return new u(t.databaseName,t.name,e.qName,e.qIsDefault,e.qFields,e.loadProperties)}):[];return t.tables};l.prototype.getTables=function(){var e=this;this.tablesPromise=this.tablesPromise||n(i.getTables(this.databaseName,this.name)).then(function(t){return e.populateTables(t)});return this.tablesPromise};l.prototype.setAllTablesSelected=function(e){this.getTables().then(function(t){var n;if(t)for(n=0;n<t.length;n++)t[n].setAllSelected(e)})};l.prototype.getDefaultTable=function(){if(1===this.tables.length)return this.tables[0];for(var e=0;e<this.tables.length;e++)if(this.tables[e].isDefault)return this.tables[e]};function u(t,n,i,r,o,a){this.databaseName=t;this.ownerName=n;this.name=i;this.fields=[];this.loadProperties=a||{};this.checked=false;this.isDefault=r;this.indeterminate=false;this.fieldsChecked=false;this.nbrOfCheckedFields=0;this.sourceRowCount=-1;this.filteredSourceRowCount=-1;var s=this.getLoadModelTableModelIfExists();if(s){var l=s.fieldsCount();this.nbrOfCheckedFields=s.selectedFieldsCount();this.indeterminate=l>this.nbrOfCheckedFields&&this.nbrOfCheckedFields>0;this.checked=l>0&&l===this.nbrOfCheckedFields;this.fieldsChecked=this.nbrOfCheckedFields>0;this.loadProperties=s.data.loadProperties?s.data.loadProperties:void 0}if(o&&o.length){this.populateFieldList(o);this.fieldsPromise=e.promise(this.fields)}}u.prototype.getLoadModelTableModelIfExists=function(){if(this._loadModelTableEditor)return this._loadModelTableEditor;this._loadModelTableEditor=r?r.getTableModelByDatabasePath(this.databaseName,this.ownerName,this.name):void 0;return this._loadModelTableEditor};u.prototype.getOrCreateLoadModelTableModel=function(){if(this._loadModelTableEditor)return this._loadModelTableEditor;this._loadModelTableEditor=r?r.getOrCreateTableModelByDatabasePath(this.databaseName,this.ownerName,this.name,this.loadProperties):void 0;return this._loadModelTableEditor};u.prototype.populateFieldList=function(e){var t=this.getLoadModelTableModelIfExists();var n=this,i;if(n.fields&&n.fields.length===e.length)for(i in n.fields){var r=n.fields[i].name;n.fields[i].name=e[i].qName||"";n.fields[i].originalFieldName=e[i].qOriginalFieldName;n.fields[i].key=!!e[i].qIsKey;t&&r!==n.fields[i].name&&t.registerFieldSourceRename(r,n.fields[i].name,n.fields[i].checked)}else{n.fields=e.map(function(e){return new c(n,e.qName||"",!!e.qIsKey,e.qOriginalFieldName)});for(i in n.fields)n.fields[i].index=i;if(t){for(i in n.fields){n.fields[i].checked=t.isFieldSelected(n.fields[i].name);var o=t.getFieldByName(n.fields[i].name);o&&(n.fields[i].alias=o.alias)}t.pruneOtherFields(n.fields.map(function(e){return e.name}))}}if(t){var a=n.fields.length;this.nbrOfCheckedFields=t.selectedFieldsCount();this.indeterminate=a>this.nbrOfCheckedFields&&this.nbrOfCheckedFields>0;this.checked=a>0&&a===this.nbrOfCheckedFields;this.fieldsChecked=this.nbrOfCheckedFields>0}return n.fields};u.prototype.getFields=function(e){var t=this;e&&(this.fieldsPromise=void 0);this.fieldsPromise=this.fieldsPromise||n(i.getFields(this.databaseName,this.ownerName,this.name)).then(function(e){return t.populateFieldList(e)});return this.fieldsPromise};u.prototype.getDataPreview=function(){var e=this;function t(e,t){for(var n=0;n<e.length;n++)if(e[n].name!==t.qValues[n])return false;return true}function r(e,t){return e.length===t.qValues.length}function o(e,t){var n=[];for(var i=0;i<e.length;i++){var r=e[i].name;var o=a(r,t);-1===o&&(o=i);for(var s=0;s<t.length;s++){var l=t[s].qValues[o];n[s]||(n[s]={qValues:[]});n[s].qValues.push(l)}}return n}function a(e,t){var n=t[0].qValues;return n.indexOf(e)}function s(e){var t=500;for(var n in e)for(var i in e[n].qValues)e[n].qValues[i]&&e[n].qValues[i].length>t&&(e[n].qValues[i]=e[n].qValues[i].substring(0,t)+"...")}return n(i.getPreview(this.databaseName,this.ownerName,this.name,this.loadProperties)).then(function(n){var i=e.fields;var a=n.slice(0,1)[0];e.filteredSourceRowCount=n.sourceRowCount;var l="";e.loadProperties&&e.loadProperties.filterInfo&&e.loadProperties.filterInfo.filterClause&&""!==e.loadProperties.filterInfo.filterClause?l=e.loadProperties.filterInfo.filterClause:e.sourceRowCount=n.sourceRowCount;e.previewFilterClause=l;if(n&&n.length>1&&r(i,a)){t(i,a)||(n=o(i,n));s(n);var u=n.slice(1);return u}return[]},function(e){throw e})};u.prototype.getAssociationsPreview=function(){return e.promise({tables:[{name:"fakeTable"}]})};u.prototype.changeAllFieldsSelected=function(){this.setAllSelected(!this.checked)};u.prototype.setAllSelected=function(e){var t=this,n=false;this.checked=e;this.getFields().then(function(){var i;for(i=0;i<t.fields.length;i++)if(t.fields[i].checked!==e){t.fields[i].checked=e;var r=t.getOrCreateLoadModelTableModel();r&&r.setFieldSelected(t.fields[i].name,t.fields[i].checked);n=true}if(n){t.recalculate();o.computeFlatListOfSelectedDatabaseOwnerCombinations()}})};u.prototype.recalculate=function(){var e=true,t=false,n=false,i=0,r;for(r=0;r<this.fields.length;r++)if(this.fields[r].checked){t=true;i++}else{e=false;n=true}this.checked=t&&e;this.indeterminate=t&&n;this.fieldsChecked=t;this.nbrOfCheckedFields=i;o.recalculate()};function c(e,t,n,i){this.table=e;this.name=t;this.checked=false;this.key=n;this.originalFieldName=i}Object.defineProperty(c.prototype,"alias",{set:function e(t){t||(t="");this.aliasRealValue=t.trim();this.name===this.aliasRealValue&&(this.aliasRealValue="");var n=this.table.getOrCreateLoadModelTableModel();n&&n.setFieldAlias(this.name,this.alias)},get:function e(){return this.aliasRealValue?this.aliasRealValue:this.name}});c.prototype.changeFieldSelection=function(){this.checked=!this.checked;var e=this.table.getOrCreateLoadModelTableModel();e&&e.setFieldSelected(this.name,this.checked);this.table.recalculate()};this.getFlatListOfSelectedDatabaseOwnerCombinations=function(){return a};this.computeFlatListOfSelectedDatabaseOwnerCombinations=function(){var e,t=[];for(var n=0;this.databases&&n<this.databases.length;n++){e=this.databases[n].owners;if(e)for(var i=0;i<e.length;i++){var r=d(e[i]);r&&t.push({database:this.databases[n],owner:e[i],selectionStats:r})}}return t};function d(e){var t=e.tables,n,i=0,r=0,o;if(t)for(var a=0;a<t.length;a++){o=false;n=t[a].fields;if(n)for(var s=0;s<n.length;s++)if(n[s].checked){o=true;r++}o&&i++}return i>0?{tableCount:i,fieldCount:r}:void 0}this.isAtLeastOneFieldSelected=function(){var e,t,n;for(var i=0;this.databases&&i<this.databases.length;i++){e=this.databases[i].owners;if(e)for(var r=0;r<e.length;r++){t=e[r].tables;if(t)for(var o=0;o<t.length;o++){n=t[o].fields;var a=t[o].getLoadModelTableModelIfExists();if(a&&a.selectedFieldsCount()>0)return true;if(n)for(var s=0;s<n.length;s++)if(n[s].checked)return true}}}return false}}return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(48),n(1897),n(1088),n(1159),n(1898)],r=function(e,t,n){var i=["addDataFilterManagementService",function(t){var n=this;n.filterManagementService=t;n.populateFilters=function(){n.sessionTables={};n.isReady&&t.isFilterPageVisible&&t.getSelections().then(function(i){n.loadModel=i.loadModel;n.activeTable&&null===t.activeTable&&(t.activeTable=n.activeTable);null!==t.activeTable&&(i.tables=e.filter(i.tables,function(e){return e.data.id===t.activeTable}));e.each(i.tables,function(e,t){i.tables.splice(t,1,e.data)});n.databaseName&&(i.tables=i.tables.filter(function(e){return e.databaseName===n.databaseName}));n.newSelections=i.tables;if(null!==t.sessionTables){n.sessionTables.tables=t.synchronizeTables(i.tables);t.sessionTables=n.sessionTables}else{t.sessionTables={advanced:false,tables:[]};i.tables.forEach(function(e){var n=e;n.fields.length&&t.sessionTables.tables.push(n)});n.sessionTables=t.sessionTables}})};n.$onChanges=function(){n.populateFilters()}}];t.nativeComponent("dmFilterPane",{bindings:{isReady:"<",activeTable:"<",databaseName:"<"},template:n,controller:i})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=o(n(116));n(1292);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function u(e,t,n){t&&l(e.prototype,t);n&&l(e,n);return e}function c(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return h(e,t)}var v=function(e){p(t,e);function t(){s(this,t);return c(this,f(t).apply(this,arguments))}u(t,[{key:"render",value:function e(){var t=this.props,n=t.percentage,r=t.label,o=t.size;var a=n>50?"green":"orange";var s=null===n?"N/A":"".concat(n,"%");return i.default.createElement("div",{className:"add-data-catalog__kpi"},i.default.createElement("div",{className:"css-circle__c100 ".concat(o," p").concat(n," ").concat(a)},i.default.createElement("span",null,s),i.default.createElement("div",{className:"css-circle__c100__slice"},i.default.createElement("div",{className:"css-circle__c100__bar"}),i.default.createElement("div",{className:"css-circle__c100__fill"}))),i.default.createElement("div",null,r))}}]);return t}(i.default.PureComponent);v.propTypes={percentage:r.default.number,label:r.default.string,size:r.default.string};v.defaultProps={percentage:null,label:"",size:"small"};var m=v;t.default=m;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(n(2));var r=a(n(13));var o=a(n(1914));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){s(o,i,r,a,l,"next",e)}function l(e){s(o,i,r,a,l,"throw",e)}a(void 0)})}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function d(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e}var f="".concat(r.default.rootPath,"api/qdc/v1/qdc");var p=function(){function e(){u(this,e)}d(e,null,[{key:"getCatalog",value:function(){var e=l(regeneratorRuntime.mark(function e(t,n,r,a,s,l,u){var c,d,p;return regeneratorRuntime.wrap(function e(h){while(1)switch(h.prev=h.next){case 0:c="".concat(f,"/catalog/pagedQVDs");d={page:t,size:n,searchText:s,sort:r,sortDirection:a,sourceIds:u,tags:l};h.prev=2;h.next=5;return i.default.get(c,{params:d,withCredentials:true});case 5:p=h.sent;return h.abrupt("return",new o.default(p.data));case 9:h.prev=9;h.t0=h["catch"](2);return h.abrupt("return",new o.default({},h.t0));case 12:case"end":return h.stop()}},e,null,[[2,9]])}));function t(t,n,i,r,o,a,s){return e.apply(this,arguments)}return t}()},{key:"getSampleData",value:function(){var e=l(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function e(s){while(1)switch(s.prev=s.next){case 0:r="".concat(f,"/entity/sampleDataForEntity/").concat(t);o={sampleCount:n};s.prev=2;s.next=5;return i.default.put(r,{params:o,withCredentials:true});case 5:a=s.sent;return s.abrupt("return",a);case 9:s.prev=9;s.t0=s["catch"](2);return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},e,null,[[2,9]])}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAllTags",value:function(){var e=l(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t="".concat(f,"/entity/getAllTags");r.prev=1;r.next=4;return i.default.get(t,{withCredentials:true});case 4:n=r.sent;return r.abrupt("return",n.data.map?n.data.map(function(e){return{key:e.tag,name:e.tag}}):[]);case 8:r.prev=8;r.t0=r["catch"](1);return r.abrupt("return",[]);case 11:case"end":return r.stop()}},e,null,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"getAllSources",value:function(){var e=l(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t="".concat(f,"/source/internal");r.prev=1;r.next=4;return i.default.get(t,{withCredentials:true});case 4:n=r.sent;return r.abrupt("return",n.data.subList?n.data.subList.map(function(e){return{key:e.id,name:e.name}}):[]);case 8:r.prev=8;r.t0=r["catch"](1);return r.abrupt("return",[]);case 11:case"end":return r.stop()}},e,null,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}()}]);return e}();var h=p;t.default=h;e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(93),n(108)],r=function(e,t,n){function i(i,r){var o={};var a={overview:0,options:2};function s(e){o.title=e.qTitle;o.description=e.description||"";o.thumbnailUrlProp=e.thumbnailUrlProp;o.dynamicColor=e.dynamicColor}function l(e){var t=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/gi;return t.test(e)}function u(e,t){var n=e.stream&&e.stream.name?e.stream.name:"";t.appModel={qTitle:e.qTitle,qReadOnly:e.qReadOnly,permissions:e.permissions,description:e.description||"",qLastReloadTime:e.qLastReloadTime,qHasData:!!e.qHasData,stream:n,published:e.published,publishedString:e.published?r.get("Toolbar.AppStatusPublished",[n]):"Toolbar.AppStatusNotPublished",isPub:e.published,publishTime:e.publishTime,thumbnailLayout:e.qThumbnail,qFileName:e.qFileName,dynamicColor:e.dynamicColor,showFileName:!l(e.qFileName)};t.model.getProperties().then(function(e){t.appModel.thumbnailUrlProp=e.qThumbnail.qUrl;t.appModel.dynamicColor=e.dynamicColor;s(t.appModel)}).catch(function(e){var t=11e3;e.code===t&&(e.isHandled=true)})}var c=function e(r){r.viewDetails=true;r.appModel={};r.isPersonalEnv=n.isPersonalModeSync();i.onChanged(function(e,t){u(e,t)});t.getApp().then(function(e){r.model=e})};var d=function e(t){t.editDetails&&t.setProperties(t.appModel.qTitle,t.appModel.description,t.appModel.thumbnailUrlProp,t.appModel.dynamicColor);t.viewDetails=!t.viewDetails;t.editDetails=!t.editDetails};var f=function t(n){n.currentView=n.currentView===a.options?a.overview:a.options;n.viewDetails=!n.viewDetails;n.currentView!==a.options&&e("body").removeClass("qv-app-details-options-enabled")};var p=function e(n,i,r,a,l){o.description===i&&o.title===n&&o.thumbnailUrlProp===r&&o.dynamicColor===l||t.getApp().then(function(e){e.getProperties().then(function(t){n=n.replace(/\s/g,"")&&!a?n:o.title;t.qTitle=n;t.description=i;t.qThumbnail.qUrl=r;t.dynamicColor=l;e.setProperties(t);s(t)})})};return{init:c,toggleEditMode:d,toggleOptionsMode:f,setProperties:p,views:a}}return{model:i,hide:function e(t){sessionStorage.setItem("AppDetailsHidden","true");t.$emit("showAppDetails",false)},show:function e(t){sessionStorage.setItem("AppDetailsHidden","false");t.$emit("showAppDetails",true)},isVisible:function e(){if("undefined"===typeof sessionStorage.AppDetailsHidden)return true;return"false"===sessionStorage.AppDetailsHidden}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(97),n(48),n(1931)],r=function(e,t,n){t.directive("qvDimmerOnScroll",function(){return{restrict:"A",replace:true,scope:{content:"="},template:n,controller:["$scope",function(e){e.dimmer={top:false,bottom:false}}]}});t.directive("dimmerScroll",["$timeout",function(t){return{restrict:"C",link:function n(i,r){function o(){var e=r.scrollTop();var t=r[0].getBoundingClientRect().height;var n=r[0].scrollHeight;i.dimmer.top=0!==e;i.dimmer.bottom=e+t<n}function a(){t(o)}var s=i.$watch("content",function(e){"undefined"!==typeof e&&a()});r.on("scroll",function(){a()});e.on("end.dimmerscroll",a);i.$on("$destroy",function(){e.off("end.dimmerscroll",a);r.off();s()})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(1222),n(1460),n(228)],r=function(e,t,n,i,r){var o;function a(a,s,l){var u=r.NavigationMode.bookmark;o=e.getService("luiPopover").show({controller:n.controller,template:n.template,dock:"bottom",alignTo:s,outsideIgnore:"nav-"+u,container:t(s).parents(".popover-container,.qs-popover-container")[0],autoFocus:false,input:{showToolbar:true,showNavigation:false,navigationmode:u,isNavigator:true,canCreateBookmark:l,isOpenedByClick:a.isOpenedByClick,tid:"bookmarkNavigator"}});i.open();o.closing.then(function e(n){o=null;a.pressed=false;a.close&&a.close();var r=n&&t(n.target).closest("[data-toolbar-navigator]");r&&r.length||i.close()})}function s(e,t,n){if(e.pressed)if(n.small){if(n.smallService.isOpen())return;n.smallService.open(n.scope,{navigationmode:r.NavigationMode.bookmark,translations:{toolbarTitle:"Common.Bookmarks",toolbarButton:"Common.Done"},canCreateBookmark:n.create});e.pressed=false;n=null}else a(e,t,n.create);else{o.close();o=null;i.close()}}return{toggle:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(95),n(11),n(48),n(91),n(1940),n(1294),n(93),n(120),n(215),n(1941),n(1944),n(328),n(94),n(228),n(301),n(1434),n(1295),n(1713),n(99),n(1719),n(1945),n(1946),n(1949),n(1951),n(319),n(1958),n(1960),n(1722),n(1436),n(1424),n(394),n(138),n(1962),n(1964),n(1966),n(1968),n(1970),n(249)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g,b){var y,x=function e(){};function w(e,t){var i=false;if("undefined"!==typeof e.showNavigation){t.shownav=e.showNavigation;i=true}if("undefined"!==typeof e.canCreateBookmark){t.exp.canCreateBookmark=e.canCreateBookmark;i=true}if("undefined"!==typeof e.isOpenedByClick){t.exp.isOpenedByClick=e.isOpenedByClick;i=true}if("undefined"!==typeof e.isNavigator){t.is.navigator=e.isNavigator;t.is.navigator&&(t.showAppDetails=false);i=true}if("undefined"!==typeof e.navigationmode){t.navigationmode=e.navigationmode;i=true}if("undefined"!==typeof e.smallAppView){t.is.smallAppView=e.smallAppView;i=true}i&&n.$apply(t)}function S(e,t,n,r,a){var u=e.is.sheet?s:l,c=e.is.sheet?"AppOverView.Confirm.Description.Sheet":"AppOverView.Confirm.Description.Story";var d=o.show({tid:"DeleteSheetStory",title:e.is.sheet?i.get("AppOverView.Confirm.Title.Sheet"):i.get("AppOverView.Confirm.Title.Story"),content:i.get(c,[r]),action:{name:i.get("Common.Delete"),focus:true,tid:"DeleteSheetStory",callback:function n(){u.remove(t);d.close();d=null;a.close();e.$root.$emit("clearUndo")}}})}function C(e,t){return{value:e,text:t}}y={models:null,AppOverviewState:p,commonFunctions:h,aoItems:v,template:r};y.controller=["$scope","$element","$$expandable","$rootScope","$navigationService","qvAppViewService","qvAppViewSectionService",function(r,p,h,E,q,_,T){var k=this,O=x,D=x,A=x,I=x;r.sections=T.sections;r.isTouchDevice=!b.treatAsDesktop();y.AppOverviewState.setAddingItem(false);m.setup(p,".av-content-container > div > div");a.getApp().then(function(e){e.getLayout().then(function(e){r.canUpdateApp=e.privileges.contains("update");r.appPublishes=e.published}).catch(function(){})});r.sheetNotInSection=function(e){if(r.is.sheet){if(f.view!==f.Views.sheet&&f.view!==f.Views.object)return true}else if(r.is.story&&f.view!==f.Views.story)return true;if("approved"===e)return!v.filters.approved(f.model.layout);if("myPublished"===e)return!v.filters.myPublished(f.model.layout);if("private"===e)return!v.filters.myPrivate(f.model.layout);return!v.filters.community(f.model.layout)};r.toggleCollapse=T.toggleCollapse;r.sortFilter=function(){if(r.is.sheet){if(r.communitySheets&&r.exp.sheetsFilter===y.commonFunctions.SortFilterOptions.alphabetical){r.exp.sheetsFilter=y.commonFunctions.SortFilterOptions.alphabetical;y.commonFunctions.sortSheetsAlphabetically(r.communitySheets,!r.exp.isAscending)}else if(r.communitySheets&&r.exp.sheetsFilter===y.commonFunctions.SortFilterOptions.publishedDate){r.exp.sheetsFilter=y.commonFunctions.SortFilterOptions.publishedDate;y.commonFunctions.sortByPublishedDate(r.communitySheets,"publishTime",!r.exp.isAscending)}}else if(r.is.story)if(r.communityStories&&r.exp.storiesFilter===y.commonFunctions.SortFilterOptions.alphabetical){r.exp.storiesFilter=y.commonFunctions.SortFilterOptions.alphabetical;y.commonFunctions.sortAlphabetically(r.communityStories,"title",!r.exp.isAscending)}else if(r.communityStories&&r.exp.storiesFilter===y.commonFunctions.SortFilterOptions.publishedDate){r.exp.storiesFilter=y.commonFunctions.SortFilterOptions.publishedDate;y.commonFunctions.sortByPublishedDate(r.communityStories,"publishTime",!r.exp.isAscending)}};r.sortMyPublished=function(e){y.commonFunctions.sortByPublishedDate(e,"publishTime",false)};r.$watch("exp.sheetsFilter",function(e){if(null!==e&&r.communitySheets){r.sortFilter();q.Sheets.communitySort(e,r.exp.isAscending)}});r.$watch("exp.storiesFilter",function(e){null!==e&&r.communityStories&&r.sortFilter()});f.model&&f.model.getLayout().then(function(e){_.activeId=e.qInfo.qId;f.inStorytelling()||(_.lastActiveId=e.qInfo.qId)});_.activeId=null;y.commonFunctions.setDefaultScopeVar(r,y.AppOverviewState);c.setup({scope:r});r.exp.sections.push(C(0,"Common.SortByAlphabetical"));r.exp.sections.push(C(1,"Common.SortByPublishedDate"));r.exp.sheetsFilter=y.commonFunctions.SortFilterOptions.publishedDate;r.exp.storiesFilter=y.commonFunctions.SortFilterOptions.publishedDate;r.exp.toggleAscDesc=function(){r.is.sheet?r.communitySheets.reverse():r.is.story&&r.communityStories.reverse();r.exp.isAscending=!r.exp.isAscending;var e=r.exp.sheetsFilter===y.commonFunctions.SortFilterOptions.publishedDate?1:0;q.Sheets.communitySort(e,r.exp.isAscending)};function L(){r.is.navigator||n.$apply(r)}function P(e){r.$broadcast("addingItemChanged",e);e&&r.is.grid&&r.currentItem&&r.commitNewDetails(r.currentItem)}function M(){y.AppOverviewState.setAddingItem(false);y.AppOverviewState.setDuplicatingItem(false);h.close();r.is.grid=y.AppOverviewState.viewMode===y.AppOverviewState.ViewMode.grid;m.removeUlHeights();L()}function N(e){r.navigationmode=e;L()}y.AppOverviewState.AddingItemChanged.bind(P);y.AppOverviewState.ViewModeChanged.bind(M);y.AppOverviewState.NavigationModeChanged.bind(N);function R(e){if(e.qReadOnly)return true;if(e.privileges&&1===e.privileges.length&&"read"===e.privileges[0])return true;return false}r.$watch("navigationmode",function(e){y.commonFunctions.setNewScopeValOnNavigationChange(r,y,e);y.commonFunctions.setNewAppOverViewMode(r,y,y.commonFunctions.hasToGet);a.getApp().then(function(e){e.getLayout().then(function(e){var t="create"+r.navigationmode[0].toUpperCase()+r.navigationmode.substring(1);r.is.appReadOnly=R(e);r.exp.canCreateThisType=!!e.permissions[t]})});r.$broadcast("navigationmodeChanged",e);h.close()});r.funcs.addItem=function(e){if(y.AppOverviewState.addingItem)return;T.setSectionVisible("myPrivate",r.is.sheet);y.AppOverviewState.setAddingItem(true);var t=r.is.sheet?r.privateSheets[r.privateSheets.length-2]:r.privateStories[r.privateStories.length-2],n=t?t.qData.rank+1:0;y.AppOverviewState.newRank=n;r.is.sheet?d.addSheet(n).then(function(){E.$emit("clearUndo")}):r.is.story&&d.addStory(n).then(function(){E.$emit("clearUndo")});e&&e.preventDefault()};r.commitNewSharedItemDetails=function(e){return a.getApp().then(function(t){return t.setAppObjectSortingRank(e.id,e.rank).catch(function(e){var t=o.show({noDefaultButton:true,tid:"ao-sort-denied",title:i.get("ErrorDialog.Title"),content:i.get("ErrorCode."+e.code),action:{name:i.get("Common.Close"),focus:true,tid:"ao-sort-denied-close",callback:function e(){t.close();t=null}}})})})};r.commitNewDetails=function(e,t){var n={sheet:r.is.sheet,story:r.is.story,bookmark:r.isBookmark};return y.aoItems.setNewDetails(r,e,t,n)};r.onContextMenu=function(e){if(r.is.smalldevice)return;var n=t(e.target).is("li")?null:t(e.target).closest("li:not('.qv-add')");n&&n.length>0&&a.getApp().then(function(n){_.setIsContextOpen(true);var i=t(e.target).closest("li").scope().item;i||(i=t(e.target).closest("li").scope().currentItem);u.show({event:e,clickedItem:i,model:r.is.sheet?s:l,AppOverviewState:y.AppOverviewState,closeNavigator:function e(){r.$emit("closeNavigator")},currentApp:n,expandable:h,isActive:_.getActive()===i.qInfo.qId,lock:function e(){i.menuLock=true},unlock:function e(){i.menuLock=void 0}})});n=null};r.$on("app-overview-keyboard-shortcut-add-item",r.funcs.addItem);e.subscribe("/ao/create-item.appoverview",r.funcs.addItem);A=r.$root.$on("ao-publish",function(e,n){var i=n.model;var o=n.canModify;var a=r.is.sheet?r.approvedSheets:r.approvedStories,s=a[a.length-1],l={},u;r.$root.$emit("clearUndo");if(o&&s&&i.layout.qInfo.qId!==s.qInfo.qId){l.rank=s.qData.rank+1;i.getProperties().then(function(e){u=t.extend(true,e,l);i.setProperties(u)})}});D=r.$root.$on("unpublished",function(e,n){var i=r.is.sheet?r.privateSheets:r.privateStories,o=i[i.length-2],a={},s;r.$root.$emit("clearUndo");if(o&&n.layout.qInfo.qId!==o.qInfo.qId||i.length>2&&i[i.length-3].qData.rank===n.layout.rank){a.rank=o.qData.rank+1;n.getProperties().then(function(e){s=t.extend(true,e,a);n.setProperties(s)})}});r.showAppDetails=g.isVisible();O=r.$root.$on("showAppDetails",function(e,t){r.showAppDetails=t});r.$on("removeItem",function(e){var t=e.targetScope.item,n=t.qInfo.qId,i=t.qMeta?t.qMeta.sourceObject:"",o=t.qData.labelExpression||t.qData.title;S(r,n,i,o,h)});r.$on("newDetails",function(e,t,n){r.commitNewDetails(t,n)});k.showInternalComponents=function(e,t){w(e,t||r)};p.addClass("qv-appview");I=r.$watchCollection("[is.grid, is.story, is.sheet, is.smalldevice, exp.canCreateThisType, privateSheets, communitySheets, myPublishedSheets, privateStories, communityStories, myPublishedStories]",function(){r.sections.myPrivate.show=r.is.sheet?r.privateSheets.length&&!r.privateSheets[0].addButton:r.privateStories.length&&!r.privateStories[0].addButton;r.exp.readonly=false;if(r.is.smalldevice||r.is.appReadOnly||!r.exp.canCreateThisType)r.exp.readonly=true;else{var e=r.is.sheet?r.privateSheets.length:r.privateStories.length;e&&(r.sections.myPrivate.show=1===e?r.is.sheet?r.privateSheets.length&&r.privateSheets[0].addButton:r.privateStories.length&&r.privateStories[0].addButton:r.is.sheet?r.privateSheets.length&&r.privateSheets[e-1].addButton:r.privateStories.length&&r.privateStories[e-1].addButton)}r.sections.approved.show=!!(r.is.sheet?r.approvedSheets.length:r.approvedStories.length);r.sections.myPublished.show=!!(r.is.sheet?r.myPublishedSheets.length:r.myPublishedStories.length);r.sections.community.show=!!(r.is.sheet?r.communitySheets.length:r.communityStories.length);r.sections.community.showHeaderLine=r.sections.approved.show&&r.sections.myPrivate.show;r.sections.myPublished.showHeaderLine=r.sections.approved.show&&r.sections.myPublished.show;r.sections.myPrivate.showHeaderLine=r.sections.approved.show||r.sections.myPublished.show;r.is.bookmark||(r.sections.showError=!(r.sections.approved.show||r.sections.myPublished.show||r.sections.myPrivate.show||r.sections.community.show));if(!r.is.bookmark&&r.sections.showError){r.translations.emptySectionMessage=r.is.sheet?"AppOverview.Error.NoSheets":"AppOverview.Error.NoStories";r.sections.showErrorHint=false}else r.is.bookmark&&r.is.navigator&&(r.sections.showError=false)});var F=r.$watchCollection("[exp.hasBookmarks, is.bookmark, is.smalldevice]",function(e){if(r.is.bookmark&&!r.is.navigator){r.sections.showError=!e[0];r.sections.showErrorHint=r.sections.showError&&r.exp.canCreateThisType;r.translations.emptySectionMessage="Bookmarks.NoBookmarks";r.translations.emptySectionHintMessage="Bookmarks.NoBookmarks.Hint"}});k.destroy=function(){e.unsubscribe(".appoverview");p.removeClass("qv-appview");I();F();O();A();D();c.destroy();y.AppOverviewState.AddingItemChanged.unbind(P);y.AppOverviewState.ViewModeChanged.unbind(M);y.AppOverviewState.NavigationModeChanged.unbind(N);y.aoItems.destroy();m.destroy();r.destroyComponent();r.$destroy();_.destroy();p.empty()}}];return y}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog tid="{{::tid}}" class="lui-dialog ao-dialog">\n  <lui-dialog-header>\n    <lui-dialog-title>{{::title}}</lui-dialog-title>\n  </lui-dialog-header>\n  <lui-dialog-body class="ao-dialog--body">\n    {{::content}}\n  </lui-dialog-body>\n  <lui-dialog-footer class="ao-dialog--footer">\n    <lui-button ng-repeat="button in buttons" ng-click="button.callback($event);" qva-focus="{{::button.focus}}" tid="{{::button.tid}}">{{::button.name}}</lui-button>\n  </lui-dialog-footer>\n</lui-dialog>\n'},function(e,t){e.exports='<lui-popover class="ao-contextmenu" qva-outside="closeView()">\n\t<lui-popover-body class="ao-contextmenu--body" qva-outside-ignore-for="{{navigationMode}}">\n\t\t<ul class="lui-list">\n\t\t\t<li class="lui-list__item" ng-repeat="menuItem in menuItems track by $index " ng-click="menuItem.disabled || menuItem.action( $event )" ng-disabled="menuItem.disabled">\n\t\t\t\t<span class="lui-list__text" tid="{{menuItem.tid}}" q-translation="{{menuItem.text}}">{{$index}}</span>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover-body>\n</lui-popover>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(127),n(228)],r=function(e,t,n,i){e.service("qvAppViewService",function(){var t=this,n,r=false;t.setIsReady=function(){clearTimeout(n);n=setTimeout(function(){t.ready=true;n=null},50)};t.isGrid=function(){return i.viewMode===i.ViewMode.grid};t.isReady=function(){return t.ready};t.getActive=function(){return t.activeId};t.getItemInEdit=function(){return t.itemInEdit};t.isOpeningContext=function(){return r};t.setIsContextOpen=function(e){r=e};t.addItem=function(){e.$rootScope.$broadcast("app-overview-keyboard-shortcut-add-item")};t.destroy=function(){clearTimeout(n);n=null;t.activeId=null;t.itemInRemove=null;t.ready=null;t.blockScrollIntoView=null;t.itemInEdit=null}});e.service("qvAppViewSectionService",function(){var e=this;e.sections={approved:{show:true,showHeaderLine:true,sheets:{expand:true},stories:{expand:true}},myPublished:{show:true,showHeaderLine:true,sheets:{expand:true},stories:{expand:true}},myPrivate:{show:true,showHeaderLine:true,sheets:{expand:true},stories:{expand:true}},community:{show:true,showHeaderLine:true,sheets:{expand:true},stories:{expand:true}}};function i(e){return e?"sheets":"stories"}e.isExpanded=function(t,n){return e.sections[t][n].expand};e.setSectionVisible=function(t,n){var r=i(n);e.sections[t][r].expand=true};e.toggleCollapse=function(r,o,a){var s=i(a);r&&r.preventDefault&&r.preventDefault();e.sections[o][s].expand=!e.sections[o][s].expand;r&&e.isExpanded(o,s)&&setTimeout(function(){n.scrollElmentIntoView(t(r.currentTarget).closest("div:not(.qs-tb)").find("ul li").first(),".av-content-container")})}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(173),n(120),n(94),n(122),n(128),n(91),n(1717),n(202),n(394)],r=function(e,t,n,i,r,o,a,s,l){function u(){d("Bookmarks.BookmarkMissingDialogTitle","Bookmarks.BookmarkMissingDialogText1","Bookmarks.BookmarkMissingDialogText2")}function c(e){var t,n;if("bookmark"===e){t="Bookmarks.SheetMissingDialogText1";n="Bookmarks.SheetMissingDialogText2"}else{t="Snapshot.SheetMissingDialogText1";n="Snapshot.SheetMissingDialogText2"}d("Bookmarks.SheetMissingDialogTitle",t,n)}function d(t,n,i){var r=e.getService("luiDialog");var o=r.show({template:s,input:{title:a.get(t),content:a.get(n)+" "+a.get(i),buttons:[{name:a.get("Common.OK"),focus:true,callback:function e(){o.close();o=null}}]}})}function f(e,n){return t.apply(e).then(function(){if(n)return t.get(e).then(function(e){return v(e)},function(){u();return false})})}function p(e,n){return t.apply(e).then(function(){return v(n)})}function h(e){return e.apply().then(function(){return v(e)})}function v(e){return e.getLayout().then(function(e){if(e.sheetId)return n.get(e.sheetId).then(function(t){var n=t.layout.qMeta&&t.layout.qMeta.published;var a=i.view===i.Views.overview;return l.getCurrentSheetViewState(n,a).then(function(t){r.goToSheet(e.sheetId,t);o.zoomOut();return true})},function(){c(e.qInfo.qType);return false})})}return{applyBookmark:f,applySnapshot:p,applyEmbeddedSnapshot:h}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.service("qvAccessibilityKeyService",[function(){var e={},t={ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40};function n(t){e[t]||(e[t]={items:[],activeIndex:0});return e[t].items}function i(t){if(e[t])return e[t].activeIndex}function r(t,n){e[t]&&(e[t].activeIndex=n)}function o(t){e[t]&&delete e[t]}function a(e,t){r(e,0);n(e).forEach(function(e){e.callback(0,t)})}var s={addItem:function e(t,i,r){var o=n(r);if(o.every(function(e){return e.id!==t})){o.push({id:t,callback:i});a(r,true)}},removeItem:function e(t,i){var r,s=n(t);for(r=0;r<s.length;r++)if(s[r].id===i){s.splice(r,1);break}s.length?a(t):o(t)},deleteList:function e(t){o(t)},key:function e(o,a,s,l){if(l.altKey||l.shiftKey||"text"===l.target.type||"textarea"===l.target.type)return;var u=i(a),c=n(a);l.ctrlKey||l.metaKey?o===t.ARROW_DOWN?u=c.length-1:o===t.ARROW_UP&&(u=0):o===t.ARROW_DOWN&&s||o===t.ARROW_RIGHT&&!s?u<c.length-1&&u++:(o===t.ARROW_UP&&s||o===t.ARROW_LEFT&&!s)&&u>0&&u--;c.forEach(function(e){e.callback(u)});r(a,u);l.preventDefault();l.stopPropagation()},softReset:function e(t){a(t,true)},RIGHT_KEY:t.ARROW_RIGHT,LEFT_KEY:t.ARROW_LEFT,UP_KEY:t.ARROW_UP,DOWN_KEY:t.ARROW_DOWN};return s}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(50),n(1295),n(832),n(127),n(150),n(1714),n(211),n(241)],r=function(e,t,n,i,r,o,a){function s(e){if(!t(e.target).closest(".arrow-wrapper").length){var n=t(e.target).offset().left+t(e.target).width(),i=e.pageX;return i>n-17}return false}function l(n,o){var s={ignore:false,save:true};if(e.getService("$delayedModal").isOpened||i.isClickOnScrollbar(o)||r.isShown()||a.isOpen()){s.ignore=true;s.save=false}else(t(n.target).closest('[qva-outside-ignore-for="expandable"]').length||t(n.target).closest("li").hasClass("qv-add"))&&(s.ignore=true);return s}function u(e){e.saveDataCallback&&e.currentItem.permissions.update&&e.saveDataCallback(e.currentItem,e.currentItem.qData.rank)}function c(e,t,n){e(function(){o.scrollElmentIntoView(t,n)},100)}e.directive("qvExpandable",function(){return{restrict:"E",replace:true,scope:{options:"="},controller:["$scope","$compile","$element","$timeout","$$expandable",function(e,i,r,o,a){e.focusEditBtn=true;for(var d in e.options)e[d]=e.options[d];e.showEdit=e.showEditBtn;function f(t){if(t){p(true);e.isEditMode=false}}r.html(e.template);i(r.contents())(e);c(o,r.find(".qv-item-expandable"),e.scrollSelector);n.ViewChanged.bind(f);function p(t){e.isEditMode&&e.thatScope.$emit("newDetails",e.currentItem,e.currentItem.qData.rank);if(t){a.close();n.ViewChanged.unbind(f)}}e.onOutsideEvent=function(t){var n=l(t,e.scrollSelector);n.save&&u(e);n.ignore||a.close()};e.goToItemExpandable=function(n){e.isEditMode||n.stopPropagation();if(e.isEditMode||s(n)||t(n.target).is("button"))return;e.thatScope.performAction(n)};e.toggleEditMode=function(){p(false);e.isEditMode=!e.isEditMode;e.showEdit=true};e.removeItemExpandable=function(t){t.target.blur();e.thatScope.$emit("removeItem")};e.$on("$destroy",function(){for(var t in e.options){e[t]=null;delete e[t]}n.ViewChanged.unbind(f)})}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(49),n(1979),n(215),n(172),n(124),n(460),n(304),n(832),n(1980),n(319),n(1724)],r=function(e,t,n,i,r,o,a,s,l){var u=function e(){return t.getFlag("AOSHARE")};function c(e){var t="";var n=!!(e.qData.cells||[]).length;var i=u();t=!n||!i&&e.qMeta.published?a.getSrc(e.qMeta.published,true):a.paintCanvas(e);return t}e.directive("qvItemThumbGenerate",function(){return{restrict:"A",scope:"=",link:function e(t){t.ngImgSrc="";t.hasStorySvg=false;o.load().then(function(){t.issheet?t.$watch("item",function(e){t.ngImgSrc=c(e)}):t.$watch("item",function(e){e.qMeta.published?t.ngImgSrc=a.getSrc(true,false):a.generateImageForStory(t,i).then(function(){t.ngImgSrc="";t.hasStorySvg=true;t.extraClass={hasStorySvg:true}},function(){t.ngImgSrc=a.getSrc(false,false);t.hasStorySvg=false;t.extraClass={}})})})}}});e.directive("qvAoThumb",function(){return{restrict:"A",scope:{item:"=",issheet:"=",thumbprop:"=",thumblayout:"=",editmode:"=",emitchanges:"=",islist:"@"},template:n,link:function t(n){var i,o,u=false,c=n.item.qMeta&&n.item.qMeta.sourceObject&&n.item.qMeta.sourceObject.length>0,d=n.item.qMeta&&n.item.qMeta.draftObject&&n.item.qMeta.draftObject.length>0;n.statusIndicator=c||d;n.showBorder="1"===n.islist&&!n.issheet;n.thumblayout&&n.thumblayout.qStaticContentUrl&&(n.thumbUrl=n.thumblayout.qStaticContentUrl.qUrl);n.statusIndicator&&(n.indicatorType=c?"draft":"updating");n.setThumbStyle={"z-index":r.maxNumberOfSlideItems+4};function f(){n.thumbprop.qStaticContentUrlDef&&delete n.thumbprop.qStaticContentUrlDef.qUrl;n.thumbUrl="";n.emitchanges&&n.$emit("thumbnailchanged")}n.modifyThumb=function(e){if("change"===e){u=true;l.show({onCancel:function e(t){u=false;t&&f()},onConfirm:function e(t,i){if(i){n.thumbprop.qStaticContentUrlDef?n.thumbprop.qStaticContentUrlDef.qUrl=s.stripBasePath(i):n.thumbprop.qStaticContentUrlDef={qUrl:s.stripBasePath(i)};""===n.thumbprop.qStaticContentUrlDef.qUrl&&delete n.thumbprop.qStaticContentUrlDef.qUrl;n.emitchanges&&n.$emit("thumbnailchanged")}n.thumbUrl=t?s.stripBasePath(t):"";u=false},selectedFile:n.thumbUrl?s.stripBasePath(n.thumbUrl):""})}"remove"===e&&f()};o=n.$watch("thumblayout.qStaticContentUrl.qUrl",function(e){n.thumbUrl=e});i=n.$watch("thumbUrl",function(t){if(t&&t.length>1){var i=new Image;t=s.stripBasePath(t);t=s.addBasePath(t);i.src=t;i.onerror=function(){n.imgSrc=a.staticSrc().brokenImage();e.$apply(n)};i.onload=function(){n.imgSrc=t;e.$apply(n)}}else e.$apply(n)});n.$on("$destroy",function(){i();o();u&&l.hide()})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(1982),n(115),n(1224),n(452),n(124),n(1725),n(159),n(100),n(93),n(106)],r=function(e,t,n,i,r,o,a,s,l,u,c,d){e.directive("storytellingThumbnail",[function(){return{restrict:"A",template:n,link:function e(t){var n;c.getApp().then(function(e){e.getObject(t.slide.qInfo.qId).then(function(e){t.slideModel=e}).catch(function(e){false})}).catch(function(e){false});n=d(t,"slideModel",function(e){t.items=e.qChildList.qItems;t.items.forEach(function(e){e.thumbnailClass="lui-icon lui-icon--"+i.getIconName(e.qData.visualizationType)})});a.load();t.$on("$destroy",function(){n&&n()})}}}]);e.directive("storytellingThumbnailObj",function(){function e(e,t,n){if("paragraph"===t)return e.parents("[storytelling-thumbnail]").hasClass("qv-story-timeline-slide-area")?"2px":"3.5px";if("title"===t){var i;i=n.split("<div").length>=n.split("<br").length?o.getRows(n,"<div"):o.getRows(n,"<br");return e.parents(".qv-slide-thumb-obj").height()/1.32/i+"px"}}return{restrict:"A",link:function n(i,o){var a,c;i.theme=u;function d(){i.theme=u;"shape"===i.item.qData.visualization&&i.svgElement&&(i.item.qData.style.colorPaletteIndex&&-1!==i.item.qData.style.colorPaletteIndex?i.svgElement.attr("fill",u.resolveColor({index:i.item.qData.style.colorPaletteIndex})):i.svgElement.attr("fill",i.item.qData.style.color))}u.ThemeChanged.bind(d);i.$watch("item.qData.position.height",function(){"text"===i.item.qData.visualization?p():f()});i.$watch("item.qData.style.text",function(){"text"===i.item.qData.visualization&&p()});i.$watch("item.qData.style.color",function(){"shape"===i.item.qData.visualization&&i.svgElement&&(i.item.qData.style.colorPaletteIndex&&-1!==i.item.qData.style.colorPaletteIndex?i.svgElement.attr("fill",u.resolveColor({index:i.item.qData.style.colorPaletteIndex})):i.svgElement.attr("fill",i.item.qData.style.color))});if("shape"===i.item.qData.visualization){c=i.item.qData;a=c.style.colorPaletteIndex&&-1!==c.style.colorPaletteIndex?u.resolveColor({index:c.style.colorPaletteIndex}):c.style.color;s.convertToSVG(c.dataPath,o,a).then(function(e){i.svgElement=e})}function f(){var e=o.parent().height(),t=o.parent().width(),n,i;if(e<t){n=e;i="0"}else{n=t;i="0"}o.css({"text-align":"center","line-height":16*n/26*1.5+"px","font-size":16*n/26+"px","margin-left":i,width:"100%"})}function p(){var n=i.item.qData,a=t.get("Storytelling.Paragraph.EmptyText"),s=n.style.text?r.toHTML(n.style.text):a;o.html(s);o.css({"font-size":e(o,n.visualizationType,s),"text-align":n.style.text?"inherit":a});o.parent().css({overflow:"title"===n.visualizationType?"normal":"hidden","text-align":"inherit"});o.attr("dir",l.getAutoOrAlternativeDirection(n.style.text))}i.$on("$destroy",function(){u.ThemeChanged.unbind(d)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96),n(48),n(89),n(1983),n(100)],r=function(e,t,i,r,o,a){function s(i,o,a){var s,l=new r;o.hide();e.get(n.p+i,function(t){s=e(t).find("svg");s.removeAttr("xmlns:a");o.replaceWith(s)}).done(function(){o.show();s.attr("fill",a);t.utils.touch&&s.css("pointer-events","none");l.resolve(s)});return l.promise}function l(t,n,i){t.slideItemModel.getProperties().then(function(r){e.extend(true,r,{style:{color:n,colorPaletteIndex:i}});t.slideItemModel.setProperties(r)})}i.directive("storytellingSlideItemShape",function(){return{restrict:"A",template:o,link:function e(t,n){var i=null;t.theme=a;function r(){t.theme=a;"undefined"!==typeof t.color.index&&-1!==t.color.index?t.shapeColor=a.resolveColor({index:t.color.index}):"undefined"!==typeof t.color.color&&(t.shapeColor=t.color.color);i=null}a.ThemeChanged.bind(r);t.slideItemId=n.attr("id");t.$watch("shapeColor",function(e){n.find("svg").attr("fill",e);i=null});t.$watch("colorPaletteIndex",function(){i=null});"undefined"!==typeof t.slideItem.qData.style.colorPaletteIndex&&-1!==t.slideItem.qData.style.colorPaletteIndex&&(t.slideItem.qData.style.color=a.resolveColor({index:t.slideItem.qData.style.colorPaletteIndex}));s(t.slideItem.qData.dataPath,n.find("img"),t.slideItem.qData.style.color);Object.defineProperty(t,"color",{get:function e(){null===i&&(i="undefined"!==typeof t.colorPaletteIndex&&-1!==t.colorPaletteIndex?{color:a.resolveColor({index:t.colorPaletteIndex}),index:t.colorPaletteIndex}:"#000000"===t.shapeColor?{color:t.shapeColor,index:a.currentPalette.indexOf(t.shapeColor)}:{color:t.shapeColor,index:-1});return i},set:function e(n){if(void 0!==n.index){t.colorPaletteIndex=n.index;t.shapeColor=n.color}else{t.colorPaletteIndex=a.currentPalette.indexOf(n);t.shapeColor=n}i={color:t.shapeColor,index:t.colorPaletteIndex};l(t,t.shapeColor,t.colorPaletteIndex)}});t.$on("$destroy",function(){a.ThemeChanged.unbind(r)})}}});return{convertToSVG:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91)],r=function(e,t){e.service("qvAboutDialog",["qvAboutFactory","qvAboutRestConnect",function(e,i){return{show:function r(){i.thirdParty();var o=n.p+"img/core/about-logo.svg";var a={logo:o,text:{close:t.get("Common.Close"),about:t.get("Common.About"),copyright:t.get("About.Copyright",[(new Date).getFullYear()]),thirdPartyIntro:t.get("About.3rdPartySoftwareIntro"),thirdParty:t.get("About.3rdPartySoftware"),features:t.get("About.Features"),licenceAgreement:t.get("About.LicenceAgreement"),downloadPdf:t.get("About.Download.PDF")}};return e.show(a)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(n(98));var r=a(n(116));var o=n(1728);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function l(e){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return l(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function d(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e}function f(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&m(e,t)}function m(e,t){m=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return m(e,t)}var g=function(e){v(t,e);function t(){var e;u(this,t);e=f(this,h(t).call(this));e.state={ready:false};e.ref=i.default.createRef();return e}d(t,[{key:"componentDidMount",value:function e(){var t=this;var n=(0,o.createReactOverlay)({ref:this.ref}),i=n.overlay,r=n.destroy;this.overlay=i;this.destroy=r;var a=0;this.interval=setInterval(function(){if(a++>50||null!==t.ref.current){clearInterval(t.interval);t.setState({ready:true})}},50)}},{key:"componentWillUnmount",value:function e(){clearInterval(this.interval);this.destroy()}},{key:"render",value:function e(){var e=this.props.render;var t=this.state.ready;return t&&i.default.createElement(i.Fragment,null,e(this.overlay.ref.current))}}]);return t}(i.Component);g.propTypes={render:r.default.func.isRequired};var b=g;t.default=b;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createReactOverlay=q;t.createAngularOverlay=_;t.default=void 0;var i=d(n(98));var r=n(412);var o=n(1995);var a=c(n(89));var s=c(n(51));var l=c(n(1996));var u=c(n(1997));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function f(e){f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return f(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function v(e,t,n){t&&h(e.prototype,t);n&&h(e,n);return e}function m(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;return b(e)}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&x(e,t)}function x(e,t){x=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return x(e,t)}var w;var S=0;var C=0;var E=function(e){y(t,e);function t(e){var n;p(this,t);n=m(this,g(t).call(this,e));n.state={overlays:[]};n.createAngularOverlay=n.createAngularOverlay.bind(b(n));n.createReactOverlay=n.createReactOverlay.bind(b(n));n.removeOverlay=n.removeOverlay.bind(b(n));var i=document.createElement("div");i.id="show-service-overlay";n.element=i;w=b(n);return n}v(t,[{key:"componentDidMount",value:function e(){document.body.appendChild(this.element)}},{key:"componentWillUnmount",value:function e(){document.body.removeChild(this.element)}},{key:"createReactOverlay",value:function e(t){var n=this;var r=t.ref;var a=this.state.overlays;var s="react-overlay-".concat(C++);var l=i.default.createElement(u.default,{key:s,ref:r});var c=function e(){return n.removeOverlay(s,r)};this.setState({overlays:(0,o.push)(a,l)});return{overlay:l,destroy:c}}},{key:"createAngularOverlay",value:function e(){var t=this;var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r=this.state.overlays;var s="angular-overlay-".concat(S++);var u=i.default.createRef();var c=function e(){return t.removeOverlay(s,u)};var d=new a.default;var f={destroy:c,resultPromise:d.promise};var p=i.default.createElement(l.default,{ref:u,key:s,component:n.component,input:n.input,destroy:c,deferredResult:d,exposedApi:f});this.setState({overlays:(0,o.push)(r,p)});return f}},{key:"removeOverlay",value:function e(t,n){var i=this.state.overlays;var r=-1;for(var a=0;a<i.length;a++)if(i[a].key===t){r=a;break}var s=i;if(r>-1){n.current.close&&n.current.close();s=(0,o.splice)(i,r,1)}this.setState({overlays:s})}},{key:"render",value:function e(){var t=this.state.overlays;var n=i.default.createElement(i.Fragment,null,t);return(0,r.createPortal)(n,this.element)}}]);return t}(i.Component);function q(e){return w.createReactOverlay(e)}function _(e){return w.createAngularOverlay(e)}s.default.setShowFn&&s.default.setShowFn(function(e,t){return _({component:e,input:t})});var T=E;t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(2006));var r=o(n(103));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return n.e(82).then(n.t.bind(null,2211,7))}function s(){return n.e(83).then(n.t.bind(null,2213,7))}function l(e){switch(e){case"no-data":return n.e(88).then(n.t.bind(null,2215,7));case"app-overview":return n.e(81).then(n.t.bind(null,2225,7));case"analysis":return Promise.all([Promise.all([n.e(6),n.e(5),n.e(13),n.e(21),n.e(80)]).then(n.t.bind(null,2233,7)),s(),a()]).then(function(e){return e[0]});case"default":case"home":return Promise.all([n.e(87).then(n.t.bind(null,2318,7)),s(),a()]).then(function(e){return e[0]});case"dataloadeditor":return Promise.all([n.e(84).then(n.t.bind(null,2321,7)),s()]).then(function(e){return e[0]});case"datamodelviewer":return Promise.all([n.e(86).then(n.t.bind(null,2361,7)),s()]).then(function(e){return e[0]});case"datamanager":return Promise.all([Promise.all([n.e(6),n.e(79),n.e(15),n.e(85)]).then(n.t.bind(null,2388,7)),s(),a()]).then(function(e){return e[0]});case"storytelling":return Promise.all([Promise.all([n.e(2),n.e(21),n.e(89)]).then(n.t.bind(null,2578,7)),s(),a()]).then(function(e){return e[0]});default:throw new Error('No view with name "'.concat(e,'"'))}}var u=function e(t){return new Promise(function(e){l(t).then(e,function(t){console.error(t);r.default.trackEvent(r.default.customEvents.VIEW_LOAD_ERROR,{message:t&&t.message});var n={default:i.default};e(n)})})};t.default=u;e.exports=t.default},function(e,t,n){!function(t,i){e.exports=i(n(11),n(190))}(this,function(e,t){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n=window.webpackJsonpsensei_codearea;window.webpackJsonpsensei_codearea=function(i,o){for(var a,s,l=0,u=[];l<i.length;l++)s=i[l],r[s]&&u.push.apply(u,r[s]),r[s]=0;for(a in o)e[a]=o[a];for(n&&n(i,o);u.length;)u.shift().call(null,t)};var i={},r={0:0};return t.e=function(e,n){if(0===r[e])return n.call(null,t);if(void 0!==r[e])r[e].push(n);else{r[e]=[n];var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=t.p+""+({1:"help-zh-CN",2:"help-sv-SE",3:"help-ru-RU",4:"help-pt-BR",5:"help-nl-NL",6:"help-ja-JP",7:"help-it-IT",8:"help-fr-FR",9:"help-es-ES",10:"help-en-US",11:"help-de-DE"}[e]||e)+"-"+{1:"e02fa8bd0b6dd2f6fd0d",2:"069a0a0262914ce3085f",3:"a850ba6be050a3c75085",4:"94fdf5327c23d91bc5f2",5:"a6c20b1a53514d57104f",6:"e11f65de9758dfbaa440",7:"fd864a582a72ac912d59",8:"985e7f64738188c3d641",9:"784425ec072814ebffe4",10:"ad11c60b94f4e0cef66b",11:"43cb77338b3afc918a19"}[e]+".js",i.appendChild(o)}},t.m=e,t.c=i,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return s||(t||(t=y["default"]),s=g.createModeForBnf(t,C["default"],"script",e)),s}function o(e){return l||(e||(e=w["default"]),l=g.createModeForBnf(e,C["default"],"chart","sense-expression")),l}function a(e){n.p=e&&e.publicPath||"./",e.angularModule&&(m.initialize(e.angularModule),u.initialize(e.angularModule),c.initialize(e.angularModule),d.initialize(e.angularModule),f.initialize(e.angularModule),p.initialize(e.angularModule),h.initialize(e.angularModule),v.initialize(e.angularModule))}Object.defineProperty(t,"__esModule",{value:!0}),t.initializeScriptCodemirrorMode=r,t.initializeExpressionCodemirrorMode=o,t.initializeCodearea=a;var s,l,u=n(27),c=n(23),d=n(26),f=n(25),p=n(24),h=n(9),v=n(11),m=n(10),g=n(15),b=n(55),y=i(b),x=n(54),w=i(x),S=n(13),C=i(S)},function(e,t,n){var i,r=function(){function e(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var t=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={},o={compressToBase64:function(e){if(null==e)return"";var t=o._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:o._decompress(t.length,32,function(i){return e(n,t.charAt(i))})},compressToUTF16:function(e){return null==e?"":o._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),i=0,r=t.length;r>i;i++){var a=t.charCodeAt(i);n[2*i]=a>>>8,n[2*i+1]=a%256}return n},decompressFromUint8Array:function(e){if(null===e||void 0===e)return o.decompress(e);for(var n=new Array(e.length/2),i=0,r=n.length;r>i;i++)n[i]=256*e[2*i]+e[2*i+1];var a=[];return n.forEach(function(e){a.push(t(e))}),o.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,function(e){return i.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),o._decompress(t.length,32,function(n){return e(i,t.charAt(n))}))},compress:function(e){return o._compress(e,16,function(e){return t(e)})},_compress:function(e,t,n){if(null==e)return"";var i,r,o,a={},s={},l="",u="",c="",d=2,f=3,p=2,h=[],v=0,m=0;for(o=0;o<e.length;o+=1)if(l=e.charAt(o),Object.prototype.hasOwnProperty.call(a,l)||(a[l]=f++,s[l]=!0),u=c+l,Object.prototype.hasOwnProperty.call(a,u))c=u;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(i=0;p>i;i++)v<<=1,m==t-1?(m=0,h.push(n(v)),v=0):m++;for(r=c.charCodeAt(0),i=0;8>i;i++)v=v<<1|1&r,m==t-1?(m=0,h.push(n(v)),v=0):m++,r>>=1}else{for(r=1,i=0;p>i;i++)v=v<<1|r,m==t-1?(m=0,h.push(n(v)),v=0):m++,r=0;for(r=c.charCodeAt(0),i=0;16>i;i++)v=v<<1|1&r,m==t-1?(m=0,h.push(n(v)),v=0):m++,r>>=1}d--,0==d&&(d=Math.pow(2,p),p++),delete s[c]}else for(r=a[c],i=0;p>i;i++)v=v<<1|1&r,m==t-1?(m=0,h.push(n(v)),v=0):m++,r>>=1;d--,0==d&&(d=Math.pow(2,p),p++),a[u]=f++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(i=0;p>i;i++)v<<=1,m==t-1?(m=0,h.push(n(v)),v=0):m++;for(r=c.charCodeAt(0),i=0;8>i;i++)v=v<<1|1&r,m==t-1?(m=0,h.push(n(v)),v=0):m++,r>>=1}else{for(r=1,i=0;p>i;i++)v=v<<1|r,m==t-1?(m=0,h.push(n(v)),v=0):m++,r=0;for(r=c.charCodeAt(0),i=0;16>i;i++)v=v<<1|1&r,m==t-1?(m=0,h.push(n(v)),v=0):m++,r>>=1}d--,0==d&&(d=Math.pow(2,p),p++),delete s[c]}else for(r=a[c],i=0;p>i;i++)v=v<<1|1&r,m==t-1?(m=0,h.push(n(v)),v=0):m++,r>>=1;d--,0==d&&(d=Math.pow(2,p),p++)}for(r=2,i=0;p>i;i++)v=v<<1|1&r,m==t-1?(m=0,h.push(n(v)),v=0):m++,r>>=1;for(;;){if(v<<=1,m==t-1){h.push(n(v));break}m++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,n,i){var r,o,a,s,l,u,c,d,f=[],p=4,h=4,v=3,m="",g=[],b={val:i(0),position:n,index:1};for(o=0;3>o;o+=1)f[o]=o;for(s=0,u=Math.pow(2,2),c=1;c!=u;)l=b.val&b.position,b.position>>=1,0==b.position&&(b.position=n,b.val=i(b.index++)),s|=(l>0?1:0)*c,c<<=1;switch(r=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)l=b.val&b.position,b.position>>=1,0==b.position&&(b.position=n,b.val=i(b.index++)),s|=(l>0?1:0)*c,c<<=1;d=t(s);break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)l=b.val&b.position,b.position>>=1,0==b.position&&(b.position=n,b.val=i(b.index++)),s|=(l>0?1:0)*c,c<<=1;d=t(s);break;case 2:return""}for(f[3]=d,a=d,g.push(d);;){if(b.index>e)return"";for(s=0,u=Math.pow(2,v),c=1;c!=u;)l=b.val&b.position,b.position>>=1,0==b.position&&(b.position=n,b.val=i(b.index++)),s|=(l>0?1:0)*c,c<<=1;switch(d=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)l=b.val&b.position,b.position>>=1,0==b.position&&(b.position=n,b.val=i(b.index++)),s|=(l>0?1:0)*c,c<<=1;f[h++]=t(s),d=h-1,p--;break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)l=b.val&b.position,b.position>>=1,0==b.position&&(b.position=n,b.val=i(b.index++)),s|=(l>0?1:0)*c,c<<=1;f[h++]=t(s),d=h-1,p--;break;case 2:return g.join("")}if(0==p&&(p=Math.pow(2,v),v++),f[d])m=f[d];else{if(d!==h)return null;m=a+a.charAt(0)}g.push(m),f[h++]=a+m.charAt(0),p--,a=m,0==p&&(p=Math.pow(2,v),v++)}}};return o}();i=function(){return r}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t){"use strict";function n(e){return new RegExp(e)}function i(e,t,n){return e.replace(new RegExp(t,"g"),n)}function r(e){return Object.keys(e).map(function(t){return e[t]})}function o(e){return e.replace(/[0-9]+/g,function(e){var t=e.length,n=""+t,i="000",r=i.substring(0,i.length-n.length)+n;return r+""+e})}function a(e,t){var n=o(e).toLowerCase(),i=o(t).toLowerCase();return n.localeCompare(i)}function s(e,t){e.sort(function(e,n){return a(e[t],n[t])})}function l(e,t){return-1!==e.indexOf(t,e.length-t.length)}function u(e){return"["===e[0]?(e=e.substring(1),e="]"===e[e.length-1]?e.substring(0,e.length-1):e):'"'===e[0]&&(e=e.substring(1),e='"'===e[e.length-1]?e.substring(0,e.length-1):e),e}function c(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})}function d(e){return e&&"]"!==e?/^[A-Za-z][A-Za-z0-9_]*$/.test(e)?e:"["+e.replace(/\]/g,"]]")+"]":e}function f(e){return e&&e.replace(/([a-z\d])([A-Z])/g,"$1 $2")}Object.defineProperty(t,"__esModule",{value:!0}),t.matcher=n,t.replaceAll=i,t.valuesOfObject=r,t._expandNumbersForNaturalSorting=o,t._sortSlightlyMoreNaturallySingle=a,t.sortSlightlyMoreNaturallyArray=s,t.endsWith=l,t.unquote=u,t.uniqEs6=c,t.escapeFieldIfNeeded=d,t.decamelize=f;var p=n("[\\w#]+");t.STRING=p;var h=n("[\\w#.]+");t.STRING_OR_DOT=h;var v=n("[^\\?]+");t.QUESTIONMARK=v;var m=n(";");t.SEMICOLON=m;var g=n("[^;]*");t.UNTIL_SEMICOLON=g;var b=n("[^']*");t.UNTIL_SINGLEQUOTE=b;var y=n("[|\\)]");t.PIPE_OR_ENDBRACKET=y;var x=n("s+");t.WHITESPACE=x},function(e,t,n){"use strict";function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n,i={};for(n in e)i[n]=e[n];for(n in t)i[n]=t[n];return i}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(2),u=n(8),c=0,d=0,f=function(){function e(){r(this,e),this.nbr=c++,this.expressionParamCounter=0,this.tableNameParamCounter=0,this.fieldNameParamCounter=0,this.tags={}}return s(e,[{key:"appendThisContextName",value:function(e){return this.contextName?e+"/"+this.contextName:e}},{key:"appendThisContextTags",value:function(e){if(this.tags&&Object.keys(this.tags).length>0){var t=o(e,this.tags);return this.contextName&&l.endsWith(this.contextName,"_Func")&&(t.functionName=this.contextName.replace(/_Func/,"")),t}return e}},{key:"canonicalRuleName",value:function(){return"Anonymous"+this.nbr}}]),e}();t.Rule=f;var p=function(e){function t(e){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.name=e.name,this.text=e.text,this.suggestedText=e.suggestedText}return i(t,e),s(t,[{key:"addAdvancements",value:function(e,t,n){n=this.appendThisContextName(n),t=this.appendThisContextTags(t);var i=n,r=this.text,o=this.suggestedText,a=e.getOrCreateAdvanceTokenWithOutgoingList(r,o,n,i,this,t);return a}},{key:"canonicalRuleName",value:function(){return this.name}}]),t}(f);t.AtomicTokenRule=p;var h=function(e){function t(e){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{name:"SCANNER_TOKEN_MATCH_ANYTHING",text:"<*>"})}return i(t,e),t}(p);t.SCANNER_TOKEN_MATCH_ANYTHING=h;var v=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{name:"NEWLINE",text:"<NEWLINE>"})}return i(t,e),t}(p);t.NEWLINE=v;var m=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{name:"IDENTIFIER",text:"<IDENTIFIER>"})}return i(t,e),t}(p);t.IDENTIFIER=m;var g=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{name:"LITERAL_STRING",text:"<LITERAL_STRING>"})}return i(t,e),t}(p);t.LITERAL_STRING=g;var b=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{name:"LITERAL_FIELD",text:"<LITERAL_FIELD>"})}return i(t,e),t}(p);t.LITERAL_FIELD=b;var y=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{name:"LITERAL_NUMBER",text:"<LITERAL_NUMBER>"})}return i(t,e),t}(p);t.LITERAL_NUMBER=y;var x=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,{name:"WHITESPACE",text:"<WHITESPACE>"})}return i(t,e),t}(p);t.WHITESPACE=x;var w=function(e){function t(e){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.text=e.text}return i(t,e),t}(p);t.Operator=w;var S=function(e){function t(e){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.text=e.text.toUpperCase(),this.suggestedText=e.text}return i(t,e),s(t,[{key:"canonicalRuleName",value:function(){return this.name||this.text}}]),t}(p);t.Text=S;var C=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.items=[]}return i(t,e),s(t,[{key:"addItem",value:function(e){this.items.push(e)}},{key:"canonicalRuleName",value:function(){return this.__canonicalRuleName,this.name?this.name:(this.__canonicalRuleName||(this.__canonicalRuleName=this.constructor.name+"Of"+this.items.map(function(e){return e.canonicalRuleName()}).filter(function(e){return!!e}).join("And")),this.__canonicalRuleName)}}]),t}(f);t.Combinator=C;var E=function(e){function t(e){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return i(t,e),s(t,[{key:"addAdvancements",value:function(e,t,n){n=this.appendThisContextName(n),t=this.appendThisContextTags(t);var i,r=[];for(var o in this.items){var a=this.items[o],s=a.addAdvancements(e,t,n);r.push(s),s.nextStates.exitList&&(i?i!==s.nextStates.exitList&&console.warning("WARNING lists are differing"):i=s.nextStates.exitList)}i||(i=new u.PossibleAdvanceList(this));for(var l in r){var c=r[l];c.nextStates.afterOr=i}return i.contextNames[n]=!0,i}}]),t}(C);t.Or=E;var q=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return i(t,e),s(t,[{key:"_addAdvancements",value:function(e,t,n,i){var r=this;if(1===this.items.length)return this.items[0].addAdvancements(e,t,n);var o=new u.PossibleAdvanceList(this),a=this.items[0].addAdvancements(e,t,n);return a.prepareFns.push(function(){for(var e=1;e<r.items.length;e++)a=r.items[e].addAdvancements(a,t,n),e<r.items.length-1&&(a.stoppingHereNotAllowed=!0);a.setNextState("endSeq"+d++,o,r)}),o}},{key:"addAdvancements",value:function(e,t,n){return n=this.appendThisContextName(n),t=this.appendThisContextTags(t),this._addAdvancements(e,t,n)}}]),t}(C);t.Sequence=q;var _=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return i(t,e),s(t,[{key:"addAdvancements",value:function(e,n,i){return i=this.appendThisContextName(i),n=this.appendThisContextTags(n),a(Object.getPrototypeOf(t.prototype),"_addAdvancements",this).call(this,e,n,i,!0)}}]),t}(q);t.MandatorySequence=_;var T=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return i(t,e),s(t,[{key:"addAdvancements",value:function(e,n,i){var r=this;i=this.appendThisContextName(i),n=this.appendThisContextTags(n);var o=e.getOrCreateNextState("begin"+this.canonicalRuleName(),this),s=new u.PossibleAdvanceList(this);return o.setNextState("skip"+this.canonicalRuleName()+d++,s,this),o.prepareFns.push(function(){var e=a(Object.getPrototypeOf(t.prototype),"_addAdvancements",r).call(r,o,n,i);e.setNextState("endListAfterLazyLoadingPart",s)}),s}}]),t}(q);t.OptionalSequence=T;var k=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return i(t,e),s(t,[{key:"addAdvancements",value:function(e,n,i){i=this.appendThisContextName(i),n=this.appendThisContextTags(n);var r=e.getOrCreateNextState("begin"+this.canonicalRuleName(),this);r.contextNames[i]=!0;var o=a(Object.getPrototypeOf(t.prototype),"_addAdvancements",this).call(this,r,n,i);o.setNextState("reloop"+this.canonicalRuleName(),r,this);var s=o.getOrCreateNextState("end"+this.canonicalRuleName(),this);return s.contextNames[i]=!0,e.setNextState("skip"+this.canonicalRuleName()+d++,s,this),s}}]),t}(q);t.Repeat=k;var O=function(e){function t(e){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.ref=e.ref,this.target=void 0}return i(t,e),s(t,[{key:"addAdvancements",value:function(e,t,n){if(n=this.appendThisContextName(n),t=this.appendThisContextTags(t),Object.keys(this.tags).length){var i=e.getOrCreateNextState("beginParam"+this.canonicalRuleName(),this);return this.target.addAdvancements(i,t,n)}return this.target.addAdvancements(e,t,n)}}]),t}(f);t.RuleRef=O;var D=function(e){function t(e){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.text=e.text}return i(t,e),t}(f);t.Unknown=D;var A={IDENTIFIER:new m,LITERAL_STRING:new g,LITERAL_FIELD:new b,LITERAL_NUMBER:new y,SCANNER_TOKEN_MATCH_ANYTHING:new h,WHITESPACE:new x,NEWLINE:new v};t.SPECIAL_RULES=A;var I=[new w({name:"ModuleFunctionCall",text:"%%%%%%6458972365729385698732456"}),new w({name:"OPERATOR_COLON_COLON",text:"::"}),new w({name:"OPERATOR_DIV_EQUAL",text:"/="}),new w({name:"OPERATOR_DIVISION",text:"/"}),new w({name:"OPERATOR_EQUAL",text:"="}),new w({name:"OPERATOR_EQUAL_EQUAL",text:"=="}),new w({name:"OPERATOR_GREATER",text:">"}),new w({name:"OPERATOR_GREATER_EQUAL",text:">="}),new w({name:"OPERATOR_LEFT_SHIFT",text:"<<"}),new w({name:"OPERATOR_LESS",text:"<"}),new w({name:"OPERATOR_LESS_EQUAL",text:"<="}),new w({name:"OPERATOR_MINUS",text:"-"}),new w({name:"OPERATOR_MINUS_EQUAL",text:"-="}),new w({name:"OPERATOR_MULT_EQUAL",text:"*="}),new w({name:"OPERATOR_MULTIPLICATION",text:"*"}),new w({name:"OPERATOR_NOT_EQUAL",text:"<>"}),new w({name:"OPERATOR_PLUS",text:"+"}),new w({name:"OPERATOR_PLUS_EQUAL",text:"+="}),new w({name:"OPERATOR_RIGHT_SHIFT",text:">>"}),new w({name:"OPERATOR_STRING_CONCAT",text:"&"}),new w({name:"SYNTAX_COLON",text:":"}),new w({name:"SYNTAX_SEMICOLON",text:";"}),new w({name:"SYNTAX_COMMA",text:","}),new w({name:"SYNTAX_EXCLAMATION",text:"!"}),new w({name:"SYNTAX_LEFT_PAREN",text:"("}),new w({name:"SYNTAX_RIGHT_PAREN",text:")"}),new w({name:"SYNTAX_TILDE",text:"~"}),new w({name:"SYNTAX_DOLLAR",text:"$"})];t.OPERATORS=I;var L=[A.IDENTIFIER,A.LITERAL_STRING,A.LITERAL_FIELD,A.LITERAL_NUMBER,A.SCANNER_TOKEN_MATCH_ANYTHING,A.WHITESPACE].concat(I);t.ATOMIC_RULES=L;var P={};t.OPERATOR_MAP=P;for(var M in I)P[I[M].text]=I[M]},function(t,n){t.exports=e},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e,t=[];for(e=0;256>=e;e++)t[e]=u|c|d;for(e="0".charCodeAt(0);e<="9".charCodeAt(0);e++)t[e]=l|c|d;var n=[9,10,11,12,13,32,160];for(var e in n){var i=n[e];t[i]=s}for(e=0;32>=e;e++)t[e]=s;var r=[",","(",")","+","-","*",">","<","=","&","/","!","{","}","~"];for(e in r){var o=r[e];t[o.charCodeAt(0)]=f}t[";".charCodeAt(0)]=f,t[".".charCodeAt(0)]=l|c|d,t[":".charCodeAt(0)]=f,t["@".charCodeAt(0)]=u|c|d,t["$".charCodeAt(0)]=0;var a=['"'.charCodeAt(0),"'".charCodeAt(0),96,180,"[".charCodeAt(0)];for(e in a){var h=a[e];t[h]=f|p|c|d}return t}function r(e,t){return"HTTP:"===e.substring(t-5,t).toUpperCase()||"HTTPS:"===e.substring(t-6,t).toUpperCase()||"LIB:"===e.substring(t-4,t).toUpperCase()}function o(e,t){return"<"===e&&"="===t?"<=":">"===e&&"="===t?">=":">"===e&&">"===t?">>":"<"===e&&"<"===t?"<<":"<"===e&&">"===t?"<>":":"===e&&":"===t?"::":"+"===e&&"="===t?"+=":"-"===e&&"="===t?"-=":"*"===e&&"="===t?"*=":"="===e&&"="===t?"==":"/"===e&&"="===t?"/=":"+"===e?"+":"-"===e?"-":"*"===e?"*":"/"===e?"/":"<"===e?"<":">"===e?">":"&"===e?"&":"="===e?"=":":"===e?":":","===e?",":"("===e?"(":")"===e?")":"{"===e?"{":"}"===e?"}":";"===e?";":"!"===e?"!":"~"===e?"~":"$"===e?"$":void 0}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=1,l=2,u=4,c=8,d=16,f=32,p=64,h="â¹";t.TEMPLATE_START_CHAR=h;var v="âº";t.TEMPLATE_END_CHAR=v;var m=i(),g=function(){function e(t,i,r,o){n(this,e),this.possibleTokenTypes=t,this.text=i,this.tokenStream=r,this.pos=o,this.isMultiLine=!1,this.startLineNbr=-1,this.endLineNbr=-1,this.competition=[],this.isSof=!1,"<EOF>"===t[0]?(this.isEof=!0,this.isInteresting=!0):"<WHITESPACE>"===t[0]?this.isWhitespace=!0:"<COMMENT>"===t[0]?this.isComment=!0:"<LITERAL_STRING>"===t[0]?(this.isLiteralString=!0,this.isInteresting=!0):"<LITERAL_NUMBER>"===t[0]?(this.isLiteralNumber=!0,this.isInteresting=!0):this.isInteresting=!0}return a(e,[{key:"computeInteresting",value:function(){for(var e=this;!e.isInteresting;)e=e.next();return e}},{key:"getQuotedToken",value:function(t,n){var i,r,o,a=this.pos,s=this.tokenStream,l="",u=s.string.substring(this.pos);"'"===t&&"'"===n&&"'"===s.string.charAt(a+2)?(i="'",a=this.pos+3,r="''",o="<LITERAL_STRING>"):"'"===t?(i="'","'"!==n&&(r="''"),o="<LITERAL_STRING>"):"["===t?(i="]",r="]]",o="<LITERAL_FIELD>"):'"'===t?(i='"',o="<LITERAL_FIELD>"):"`"===t?(i="`",o="<LITERAL_FIELD>"):"Â´"===t&&(i="Â´",o="<LITERAL_FIELD>");do{a=s.string.indexOf(i,a+1)}while(this.shouldKeepSearchingString(a,s.string,r,i));if(-1===a){for(var c=!1;-1===a&&!c;){l+=u;var d=s.getNextLineStream();if(d){s=d,u="\n"+s.string;do{a=u.indexOf(i,a+1)}while(this.shouldKeepSearchingString(a,u,r,i))}else c=!0}var f;c?f=s.string.length:(l+=u.substring(0,a+1),f=a);var p=new e([o],l,s,f);return p.isMultiLine=!0,p.startLineNbr=this.tokenStream.lineNbr,p.endLineNbr=s.lineNbr,p}var h=this.tokenStream.string.substring(this.pos,a+1),p=new e([o],h,this.tokenStream,a+1);return p}},{key:"shouldKeepSearchingString",value:function(e,t,n,i){if(0>e)return!1;if(t[e+1]===i)return!0;if(!n)return!1;for(var r=e+1;r>=0;)t=t.substring(0,r),r=t.substring(t.length-n.length,t.length)===n?t.length-n.length:-1;return 0===t.length||t[t.length-1]!==i}},{key:"scanAlpha",value:function(e,t){for(var n=t||this.tokenStream,i=n.string.charCodeAt(e),r=m[i];r&c||i>=256||"$"===n.string.charAt(e)&&"("!==n.string.charAt(e+1);)e++,i=n.string.charCodeAt(e),r=m[i];return e}},{key:"getMultilineComment",value:function(t){var n=this.tokenStream,i=n.string.indexOf("*/",t+2);if(-1==i){for(var r="",o=n.string.substring(t),a=!1;-1===i&&!a;){r+=o;var s=n.getNextLineStream();s?(n=n.getNextLineStream(),o="\n"+n.string,i=o.indexOf("*/")):a=!0}var l;a?l=n.string.length:(r+=o.substring(0,i+2),l=i+1);var u=new e(["<COMMENT>"],r,n,l);return u.isMultiLine=!0,u.startLineNbr=this.tokenStream.lineNbr,u.endLineNbr=n.lineNbr,u}var c=this.tokenStream.string.substring(t,i+2),u=new e(["<COMMENT>"],c,this.tokenStream,i+2);return u}},{key:"getExpansion",value:function(t,n){var i,r,o,a=this.tokenStream,s=a.string,l=!1;r=n?this.scanAlpha(t):t;for(var u;"$("===s.substring(r,r+2);){l=!0;for(var c=1,u=r+2;c>0;){var d=s.indexOf("(",u),f=s.indexOf(")",u);if(d>=0&&(f>d||-1===f))u=d+1,c++;else if(f>=0&&(d>f||-1===d))u=f+1,c--;else{u=s.length;var p=a.getNextLineStream();i=s.length,p?(o=!0,a=p,s=s+"\n"+a.string):c=0}}r=this.scanAlpha(u,a)}var h=s.substring(t,r);if(l){if(o){var v=new e(["<IDENTIFIER>","<$>"],h,a,r-i);return v.isMultiLine=!0,v.startLineNbr=this.tokenStream.lineNbr,v.endLineNbr=a.lineNbr,v}return new e(["<IDENTIFIER>","<$>"],h,this.tokenStream,r)}return new e([h.toUpperCase(),"<IDENTIFIER>"],h,this.tokenStream,r)}},{key:"getTemplateToken",value:function(t){var n=this.tokenStream.string.indexOf(v,this.pos);if(n>=0)var i=this.tokenStream.string.substring(t,n+1),r=new e(["<IDENTIFIER>"],i,this.tokenStream,n+1);else var r=new e(["<IDENTIFIER>"],i,this.tokenStream,this.pos+1);return r.isTemplate=!0,r}},{key:"computeNext",value:function(){var t;if(this.pos>=this.tokenStream.string.length){var n=this.tokenStream.getNextLineStream();n?t=n.startToken().next():(t=new e(["<EOF>"],"<EOF>",this.tokenStream,this.tokenStream.string.length),t.specialFinalContext="WHITESPACE",t.startPos=t.endPos={line:this.tokenStream.lineNbr,ch:this.tokenStream.string.length})}else{var i=this.pos,a=this.tokenStream.string.charCodeAt(i),c=this.tokenStream.string.charAt(i),d=this.tokenStream.string.charAt(i+1),v=m[a],g={line:this.tokenStream.lineNbr,ch:i};if(v&p)t=this.getQuotedToken(c,d);else if("/"!==c||"/"!==d||r(this.tokenStream.string,i))if("/"===c&&"*"===d)t=this.getMultilineComment(i);else if(v&f){var b=o(c,d);t=new e([b],b,this.tokenStream,i+b.length),t.isOperator=!0}else if(v&s){do{i++,a=this.tokenStream.string.charCodeAt(i),v=m[a]}while(v&s);t=new e(["<WHITESPACE>"],this.tokenStream.string.substring(this.pos,i),this.tokenStream,i),t.specialFinalContext="WHITESPACE"}else if("$"===c&&"("===d)t=this.getExpansion(i,!1);else if("$"===c&&"("!==d)t=this.getExpansion(i,!0);else if(v&u||a>=256&&c!==h)t=this.getExpansion(i,!0);else if(v&l){do{i++,a=this.tokenStream.string.charCodeAt(i),v=m[a]}while(v&l);var y=this.tokenStream.string.substring(this.pos,i);t=new e([y,"<LITERAL_NUMBER>"],y,this.tokenStream,i)}else c===h?t=this.getTemplateToken(i):(t=new e(["<EOF>"],"<EOF>",this.tokenStream,this.tokenStream.string.length),t.specialFinalContext="WHITESPACE");else{var y=this.tokenStream.string.substring(this.pos,this.tokenStream.string.length);t=new e(["<COMMENT>"],y,this.tokenStream,this.tokenStream.string.length)}t.startPos=g,t.endPos={line:t.tokenStream.lineNbr,ch:t.pos}}return t._prev=this,t}},{key:"overrideNextLineStream",value:function(e){this._next&&(this._next._prev=void 0,this._next=void 0),this.__interesting=void 0,this._nextLineStream=void 0,this.tokenStream.overrideNextLineStream(e)}},{key:"setTokenStream",value:function(e){this.tokenStream=e}},{key:"clearNexts",value:function(){for(var e=this;e;){var t=e._next;e.__interesting=void 0,e.__next=void 0,e._nextLineStream=void 0,this.overrideNextLineStream(void 0),e=t}}},{key:"clearNextInteresting",value:function(){for(var e=this;e;)e.__interesting=void 0,e=e._next}},{key:"interesting",value:function(){return this.__interesting||(this.__interesting=this.computeInteresting()),this.__interesting}},{key:"nextNonTemplateInteresting",value:function(){var e=this;do{e=e.next().interesting()}while(e.isTemplate);return e}},{key:"next",value:function(){return this._next||(this._next=this.computeNext()),this._next}},{key:"backwards",value:function(e,t){for(var n=this,i=0;n&&e>i;)n=n._prev,i++;for(;n&&!t(n);)n=n._prev;return n}},{key:"forward",value:function(e,t){for(var n=this,i=0;n&&e>i;)n=n.next(),i++;for(;n&&!n.isEof&&!t(n);)n=n.next();return n}},{key:"spansIntoLineNbr",value:function(e){return this.isMultiLine&&this.endLineNbr>=e}}]),e}();t.QToken=g;var b=function(){function e(t,i,r,o){n(this,e),this.string=t,this.lineNbr=i,this.getEditorLine=r,this._nextLineStream=void 0,this.lastTokenFromLastStream=o}return a(e,[{key:"getNextLineStream",value:function(){if(!this._nextLineStream){var t=this.lineNbr+1,n=this.getEditorLine(t);this._nextLineStream="undefined"!=typeof n?new e(n,t,this.getEditorLine):void 0}return this._nextLineStream}},{key:"overrideNextLineStream",value:function(e){this._nextLineStream=e}},{key:"startToken",value:function(){if(!this._next){var e=0;this._next=new g([],"",this,e),this._next.endPos=this._next.startPos={line:0,ch:0}}return this._next}}]),e}();t.QTokenLineStream=b},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=p[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(u(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(u(i.parts[o],t));p[i.id]={id:i.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],a=r[1],s=r[2],l=r[3],u={css:a,media:s,sourceMap:l};n[o]?n[o].parts.push(u):t.push(n[o]={id:o,parts:[u]})}return t}function o(e,t){var n=m(),i=y[y.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function u(e,t){var n,i,r;if(t.singleton){var o=b++;n=g||(g=s(t)),i=c.bind(null,n,o,!1),r=c.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),i=f.bind(null,n),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=d.bind(null,n),r=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function c(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,i=t.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var p={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},v=h(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),m=h(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,b=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=v()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return i(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=p[s.id];l.refs--,o.push(l)}if(e){var u=r(e);i(u,t)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){if(n=n||{},!n[e.nbr]){n[e.nbr]=!0,t(e);for(var i in e.nextStates)r(e.nextStates[i],t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),s=(n(3),0),l=function(){function e(t,n){i(this,e),this.item=t,this.parent=n}return o(e,[{key:"find",value:function(e){for(var t=this;t&&!e(t.item);)t=t.parent;return t&&t.item}}]),e}();t.LinkedListEntry=l;var u=function(){function e(t){i(this,e),this.depth=t.depth,this.lastToken=t.lastToken,this.parent=t.parent,this.meaning=t.meaning,this.advanceList=t.advanceList,this.contextNames=t.contextNames,this.significantLinebreaks=t.significantLinebreaks,this.tokenType=t.tokenType,this.isError=t.isError}return o(e,[{key:"filterOutContext",value:function(){var e=this;return this.contextNames.filter(function(t){return a.endsWith(t,e.meaning)})}}]),e}();t.Advance=u;var c=function(){function e(t,n){i(this,e),this.tokenId=t,this.suggestedText=n,this.meanings={}}return o(e,[{key:"getAdvancementListForAdvanceMeaning",value:function(e,t,n,i){var r;return this.meanings[e]?r=this.meanings[e]:(this.meanings[e]=new d(n),r=this.meanings[e]),r.contextNames[t]=!0,r.contextTags=i,r}},{key:"getMeaningsArray",value:function(){var e,t=[];for(e in this.meanings)t.push(this.meanings[e]);return t}}]),e}();t.PossibleAdvance=c;var d=function(){function e(t){i(this,e),this.bnf=t,this.nbr=s++,this.possibleAdvances={},this.contextNames={},this.prepareFns=[],this.nextStates={},this.combinedNexts=void 0}return o(e,[{key:"getId",value:function(){return"L-"+this.nbr}},{key:"_addAllContextNamesToMap",value:function(e,t){if(!t[this.nbr]){t[this.nbr]=!0;var n;for(n in this.contextNames)e[n]=this.contextNames[n];for(n in this.nextStates)this.nextStates[n]._addAllContextNamesToMap(e,t)}}},{key:"getContextNamesArray",value:function(){var e={};if(!this.__cache__getContextNamesArray){var t={};this._addAllContextNamesToMap(t,e),this.__cache__getContextNamesArray=Object.keys(t)}return this.__cache__getContextNamesArray}},{key:"getContextNamesArrayFlat",value:function(){if(!this.__cache__getContextNamesArrayFlat){var e,t={};for(e in this.contextNames)t[e]=this.contextNames[e];this.__cache__getContextNamesArrayFlat=Object.keys(t)}return this.__cache__getContextNamesArrayFlat}},{key:"getAllAdvances",value:function(e){if(e=e||{},!e[this.nbr]){e[this.nbr]=!0,this.prepareLazyParts();var t,n=[];for(t in this.possibleAdvances)n.push(this.possibleAdvances[t]);for(t in this.nextStates){var i=this.nextStates[t].getAllAdvances(e);n.push.apply(n,i)}return n}}},{key:"getAllTags",value:function(e){e||(e={}),this.prepareLazyParts();var t;for(t in this.contextTags)e[t]=this.contextTags[t];if(this.bnf)for(t in this.bnf.tags)e[t]=this.bnf.tags[t];for(t in this.nextStates)this.nextStates[t].getAllTags(e);return e}},{key:"getOrCreatePossibleAdvancement",value:function(e,t){return this.possibleAdvances[e]||(this.possibleAdvances[e]=new c(e,t)),this.possibleAdvances[e]}},{key:"getOrCreateAdvanceTokenWithOutgoingList",value:function(e,t,n,i,r,o){return this.getOrCreatePossibleAdvancement(e,t).getAdvancementListForAdvanceMeaning(i,n,r,o)}},{key:"getOrCreateNextState",value:function(t,n){return this.nextStates[t]||(this.nextStates[t]=new e(n)),this.nextStates[t]}},{key:"setNextState",value:function(e,t,n){this.nextStates[e]&&this.nextStates[e]!==t&&console.log("WARNING  overwriting next state list",e,this.nextStates[e],t,n),this.nextStates[e]=t}},{key:"canonicalRuleName",value:function(){return this.bnf&&this.bnf.canonicalRuleName()||"Unknown"}},{key:"addWildcardStuff",value:function(e){return this.possibleAdvances["<*>"]&&";"!==e.possibleTokenTypes[0]?["<*>"].concat(e.possibleTokenTypes):e.possibleTokenTypes}},{key:"prepareLazyParts",value:function(){for(;this.prepareFns.length>0;){var e=this.prepareFns.shift();e()}}},{key:"addAllMatchingAdvances",value:function(e,t,n,i,r){if(!r[this.nbr]){r[this.nbr]=!0,i=i||this.isError,this.prepareLazyParts(),this.addAllMatchingAdvancesForThis(e,t,n,i);for(var o in this.nextStates)this.nextStates[o].addAllMatchingAdvances(e,t,n,i,r)}}},{key:"addAllMatchingAdvancesForThis",value:function(e,t,n,i){var r=this.addWildcardStuff(t);for(var o in r){var a=r[o],s=this.possibleAdvances[a];if(s)for(var l in s.meanings){var c=s.meanings[l],d="i"+c.nbr;e[d]||(e[d]=new u({tokenType:a,lastToken:t,parent:n,meaning:l,advanceList:c,contextNames:c.getContextNamesArray(),isError:i,depth:n.depth+1}))}}}},{key:"__old_stragegy_advance",value:function(e,t){var n={},i={};this.addAllMatchingAdvances(n,e,t,!1,i);var r=a.valuesOfObject(n);return r}},{key:"advance",value:function(e,t){var n=[],i={};this.combinedNexts||(this.combinedNexts={},this.gatherAllAdvances(this.combinedNexts,!1,i));var r=this.addWildcardStuff(e);for(var o in e.possibleTokenTypes){var a=r[o],s=this.combinedNexts[a];for(var l in s){var c=s[l];n.push(new u({tokenType:a,lastToken:e,parent:t,meaning:c.meaning,advanceList:c.advanceList,contextNames:c.advanceList.getContextNamesArray(),isError:c.isError,depth:t.depth+1}))}}var d=this.combinedNexts["<*>"];if(d&&";"!==e.text)for(var l in d){var c=d[l];n.push(new u({tokenType:a,lastToken:e,parent:t,meaning:c.meaning,advanceList:c.advanceList,contextNames:c.advanceList.getContextNamesArray(),isError:c.isError,depth:t.depth+1}))}return n}},{key:"skipNewLine",value:function(){var e={};if(this.combinedNexts||(this.combinedNexts={},this.gatherAllAdvances(this.combinedNexts,!1,e)),this.combinedNexts["<NEWLINE>"]){var t=this.combinedNexts["<NEWLINE>"][Object.keys(this.combinedNexts["<NEWLINE>"])[0]];return t.advanceList}return}},{key:"gatherAllAdvances",value:function(e,t,n){if(!n[this.nbr]){n[this.nbr]=!0,t=t||this.isError,this.prepareLazyParts(),this.gatherAllAdvancesForThis(e,t);for(var i in this.nextStates)this.nextStates[i].gatherAllAdvances(e,t,n)}}},{key:"gatherAllAdvancesForThis",value:function(e,t){for(var n in this.possibleAdvances){var i=this.possibleAdvances[n];if(i)for(var r in i.meanings){var o=i.meanings[r];e[n]=e[n]||{},e[n][o.nbr]||(e[n][o.nbr]={meaning:r,advanceList:o,isError:t})}}}},{key:"getFutureParamContext",value:function(){var e=[];return r(this,function(t){t.prepareLazyParts();var n=t.possibleAdvances["<IDENTIFIER>"];n&&e.push(n)}),e}}]),e}();t.PossibleAdvanceList=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var i=n.bottom+e.height<=t.height,r=i?n.bottom:n.top-e.height,o=Math.max(0,n.left+e.width-t.width),a=n.left-o;return{top:r,left:a}}function o(e,t){e.$$postDigest(function(){e.$$postDigest(t)})}function a(e){e.directive("codeareaAutocompleteDropdown",function(){return{scope:{state:"="},template:l["default"],replace:!0,controller:["$scope","$element",function(e,t){function n(){var t={width:a.width(),height:a.height()},n=i[0].getBoundingClientRect(),o=e.state.cursorPos,s=r(n,t,o);i.css({left:s.left+"px",top:s.top+"px"}),s.left+n.width+200+20>t.width?i.addClass("hint-help-left"):i.removeClass("hint-help-left")}var i=c["default"](".qv-bnf-autocomplete-container",t[0]),a=c["default"](window);e.$watch("state.hints.length",function(){o(e,n)}),e.$watch("state.selectedHint",function(t){e.state.selectedHintHelp=e.state.helpProvider.getHelpFromTokenTooltip(e.state.hints[t].tooltip)})}]}})}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=a;var s=n(56),l=i(s);n(58);var u=n(4),c=i(u)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){e.service("codeareaPopupper",["$compile","$rootScope",function(e,t){function n(n,r){var o="codearea-popupper-container"+i++,s=t.$new();s.popupInput=r;var l="<"+n+" ";for(var u in r)l+=" data-"+u.replace(/([A-Z])/g,"-$1").toLowerCase()+"='popupInput."+u+"'";l+=">";var c=e("<div style='position:absolute;top:0;left:0;pointer-events: none' id='"+o+"'>"+l+"</div>"),d=c(s);return a["default"]("body").append(d),{destroy:function(){s.$destroy(),a["default"]("#"+o).remove()}}}var i=0;return{popup:n}}])}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=r;var o=n(4),a=i(o)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var i=3,r=10,o=n.top-e.height>=0,a=o?n.top-e.height-i:n.bottom+i,s=Math.max(r,n.left+e.width-t.width),l=n.left-s;return{top:a,left:l}}function o(e,t){e.$$postDigest(function(){e.$$postDigest(t)})}function a(e){e.directive("functionTipView",function(){return{scope:{offset:"=",modeInfo:"=",content:"=",helpBaseUrl:"="},template:l["default"],controller:["$scope","$element",function(e,t){function n(){var t={width:a.width(),height:a.height()},n=i[0].getBoundingClientRect(),o=e.offset,s=r(n,t,o);i.css({left:s.left+"px",top:s.top+"px"})}var i=c["default"](".qv-bnf-function-tip-view",t[0]),a=c["default"](window);e.$watch("state.hints.length",function(){o(e,n)})}]}})}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=a;var s=n(57),l=i(s);n(60);var u=n(4),c=i(u)},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(10,function(e){i=n(44);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)})},function(e,t,n){var i=n(1);e.exports=i.decompressFromBase64("N4KABGBEA2CGB2BzArrRBTAzpAXGA2iAJCQAm6AtACICikANMZOvBQKoDKDTWFNXjEgDMAThQBiAJW4kAlgBcKASQAqMyACtYFAFIAFdfGgUAcgBl1AB0UAhaYMgjkFSW3WYAbhQ50HALwALCgBhE0hwMABdRghIS1gRWABbdHl0EUlkaHQTZKxcMFASAEEAY1KsTCV4IQB7AsgyiswqmvqHYuhZWExxWXRoUlyUhs7u3v7B4fR1Yvhm+VqRJVJR+axF5dWO9cxN6bWFpYOd2vgATyTa5ExJWAB3FXQAD3k1s8vr24en19mLjjyESyJBrc6A4GgnbgoEgxAAeREc3BlwARrVoGCIXDEciOGiMbN5LDUcg0n0Bqs8I1icDSeTJtsmMFaklLLVMAp0H1sgdqTycnl1Cz4PB0KV5NjQdSRWKJVLEMKboskrLxZLYdKoMFlay1fLNYqHFRYPJYBTBg0TWaLUySFQqAB9W1mWR7Bout1vY1OvlQE5MB2OkzIFLA0qutKJTHUkNh2QRrnR9RBgCKqC6Qn6QyF1PTsEz2YD9qd6dqaVIKxY8lkWfSDTLFar8BrdZEKdLyHL6FICobXYrfZ9joAagXkOgaM9LCJKrIzg0x9AJ1OZ3OF8PcjWPJPp7OWvP4A0t7Id6v95yN4GnTpaiDgnAbjNqbf74/MDNhyzl0l4A/YE+2AyhioZ/u++TDuIIh6uBHrQaqsHDgA6gE6ToP+T4NChaEYR+KboFm8AKIetrnuuR7UlQBEgsRZykXu5H4YRtHwLafqQFRzE1nRjLFhx1FEdx8AAOLQcglhsXkQFQJxNFCaJ1wSbxUlMXJh4KeJ7GyYJ6liZYfHaSxWkCUZQrGiZQl6AkeRRsZXGHlZiQpLZZmBhZDnWc56RLhOVruWcjk2d546fm51gBFQtZCH54WRUI0XmcCO6eu6lHpKe3KMq67oOGRB4LtSeWXkeDi2h6jLqClbz8llXqVbVey2oigIJOVlLZfITUiC17alcpIw1ZSfGSSkzVmu2g1THkY2tX1Q2hqi9aTUMC31n12Q8lGShpEkkjoJYcAVN+oHlRtsjQFtO17QdsBHSBv71RtSxJKaHCWOK23oEkp3cs9r3vaUn3fet6B7aUSykDY5xpNJkACmDENQzDj2g+KEMcHC2SumKP0IyIvaY+g2OhSQAAS/SJCIpQBOcVHhQ05PpAk1O0/t8gBOoSi0CYKhKOISg0NI1JczQPN8wL9hMEoL0YKT6CyIgATVVA0toOgcsK0rnMy+gSGyKQ7MNKrGB6wbHMONUXRitasANPgAA68CO5E6gANLoOcZXUu7nsVQ4ZiqILxRmM6AtmFQbVTSM/uB5IwfBmwACyNiC8eq29UwAcqEHIccCokhKCYwkNJGTPQGAQ5MInsCWGwnJINX+m5lAjd13Cjd8dX8jU17Lemj3ftMCYtTkCsx4j+gY8OMP5DsTPgrR0wjnVmP1LLy2U9Lwk1bsev8h8VZ7NUV0SRJg0h8RQMsin1G6gX7vpoBAfj8cNcVPPlAF+v8g7/qPmhbpFtLDf+tYKZAPUHcR4LxlaQEgb8b0TA9qcnIC2FQsBURY3QQMBoSD9bVjQRgomWDMQOAxmybICoOoNDIQddAlC6qkM2L9EQL1JQA2oUw8Qf02HinUBwZAqJApJHYvwwRnk+KAiWJlSke1orLQkZwxksixg9EjqQFR2AHAEN5M3SA2iF4kz0WgKh1I0GICoQ4Ng8AEjnCKoeBoVibF2KvCQMcwJ0E6IGlANx3RCEHAiAAXxiFAUgbpZyIASOQSs8AnjkNNHCAoRRIBmFqLAUguF8jUiBL5EGiJyAiChg0bJhiOADHVHoWcWZniIjMMQopThDGcQAhdCp1Fnj1JyZnVJpBWlVJqXUrJDS+GpGcRRKAxTwgQCCRESASQsg1h9vcCGjdLAJLwIQIgRRYikFqKUahpRgTWHxC2WAzxHQpLSTIWIABrD2Sz8bSSKCQC5vYzQ7WrAAOjMPCYoEdqSOkdOQTAByZAkFtB84oXBqR1kGF0HKxBnndJau8lsHyqBKDzoXYIahqShL2CCCUoK4bnV1qhWcHykKk0FnQak9wyUk0RWk3BKD5AfMkPwEWPMGj7jwS2IlLzihklqMJFgTM0gQrYCoeEwlRZB2zg0ACiwMBikSGkflSK3lfWrA0AFQKQWCEZdEq26APmFwDiYGlUAQTGvVWkqCrIPlSHhInBoohWS2tIPapI4KnWJ1DjQcOrr4KOhhXaMFJK8npChh84Skh4RsD0AAHxsAATQaIgPSYBUTnCJQKDSlho3wkkLQSQya03UghukLNObiBTMELEeITlHkIuJdkbC5LRkNDpWhD1yKtWoqqq6xkcKEFEENYKxYIqVWmhNZ26kirajKrFQy5J3SvUfJZGyDkXIBTsTdcDFtLyvXgv0Xu4NoaPXHsZI6/qH9ID7pDYPMdq6mVYF5ay5l+CPFEMWjGKAPKWXhCIHW2tUAAXIHgE+HpnlWhUF2QUDZJA6UkqAxASIxBpmbNA2QeD1IOAHNkEc84JyzmbpSHy+tUBbnnHuaQZtz6yPVj7eR1lwRnWJ1FjisDgKsD6pbYxlsbckAfM4IXYu/yePAozgx1kLG9bswpaoUmOrJN8Zk0kFjzHPn8wDX87jerpMkAExqGdLHHVhyoFC/TvH2ygcww2mDiT+OyerEJxAHzT26JepYaxi91NyYUAEDz3692Ml8yu4z8mgt4kNA0cGGntV2co5AcDkGPzQabdUODez1ktoAFShpHahqIGHBBbJCbhqA+HDmSmI2aUjLmWyOn0VcqjdyIb0aM41kzKLWPsc4ypgzRLjNadRSoYoNgzCWpS6pwzkARuarM+Nyb/BBs2eK/ZqAjbkidfm91tzwW/FeZruF4b3WouHc8Xes0hDTsGr2wllsF2YuQkVNSeLLGNvJdS1BoRsHKuIcgDd7IRXQPoaIJh8rOGctVYI0RkjjoNGtcgNR2ju2NGjdZcHJQkK1tSaJRjxb1Y9rhYhVZmbQ2kvYe20kdHXQeiY5J3kG9Q1dGhruy2wnpnicsGZxokad6CzjFO3Z0rxAoc7Jh5AarhHasI51Hsd1yXUcdacwx3Uqozhyh6/21jnApWJ0TWxkwFrsWJqlXjtTzzZCon1DrszAcbBG/hCbmgZuLcSaG/du3mON0u9Nyoc38JLdzbt702QzwPnwioDYYIib4RTZjyHs7op1QAGYABMvvjcB8z0H5P3utfqgAGwABZs/+7dyoMv+fPfrfu00SoQM67pC5iJnwBcqCJoxQXzn5Qm87QABot+WFQD5w+O9c27+T3V9e+/NCqDtKyLRaMfL0JCjgSEi1d573X/HDf+8tCBoP5fmBV8n431v4t0/e/Psb0fnaicJ4fMTtHmg0/E1IQLvKvfVvGiH8Xy+gnVqDIwUAlSlTY0TkTlUHj3EHEGTyp2Ay20czwCeWSRtx9yJ1RUwNeziyLwlHsUL1TwlDL2z3wI1FwPe3IIoD2FwKIO10zzIOIIoLWSgHBmYJoNi3oPVCYO1z7CoI4NoISW9w10wO52wNEPIP4LYOoKENBFFwhzK2w0l32Rq2OXq0dHBnIHiAwEdDdGRxVweTVxKAAKBhZHICsgwETQFGCEsCnXSlKD91oHXxlRvyoO0LVjAH0IPwXzMInksPQGsJJVsOmAhRMA4CUAVXgE5AJ1MJ2nMPQACKCOyBCOZ3hBoBdQrS+lzWCKbhSBf2KGCAaBej2XuxsLyJNUlXEAAA4GgyQhBaifCB8voEikjyjQi2ATAlA2NaA6iiItCV12jmcqiAB2BApAzbOIFAwoAJMXLDJA6HVQ2XdQ05Z0JYCoAw9rIw1AltLhd+X3cQItYId/YIYoPQVQbHAALWKF5hdyN0hXf2gMHxoD0wp3W0QIcybUSVmMUPF2UMq2lzhzlw0NKWyEJWVy2Lo2MOlzKQNHENZR8Cm2xXGJAwWJp121BJ4KwKx3gA+CuBuDgWgQaC+2wx+3Sz+yywBxbTxRrHmFHRIBpIJSBFqHuCJUKwYRbX3SJW7VnCJQzUUmrSJQCFgA8GEJbUrREEFPuw0DvCPDBzmIlwBJl3hxBPVEIOw0MKhJ2OfVKQILOF9x8GxSUBd1vxIF1KEhUHOHeghWCGOI4A4ETTOL0ADlONuLCF/1swmOS3RO+IVP+Kl2VOBNWMkV5IhJo1V21LNKYQNKlXZW7x5mDw9JJLROmLQJDLoWxMuwMSKW/SJXTLIK3U5AZCuyHWyBFy9NJMdAg1+xg0pJh0B3ZL2BwBwAAF4wAAAKMAPLMAR2MARNMAUNMAAASkKDAHoAHMZDAACWHLZO4RoIBjAGbJbM7M7PkFeD7LAAAEcPBSBhyZz5Tfj5jtklSgSVizkzFNjwztjCgW0zFfdxtxNrN99by0BdSzgMtWUHzrCLMHSdNA0kyPjkCvjIyjFEA3N9Esz2JvMOdn0zFbQLsBch1KQYKSA4LGRnsARYssk0ByzUTYgySewKT4BssENOTh06oDzId/SliVTVirEzQjQNTITdt6LXzMzOiHzTTIBWLEA3z4APzzNdNvzdMZ9ZtkzPidtoSzFwLv1ILjsfNXJYK0B4LAsWco4712dFLULlL0LVKXtWCgccKhRAKZtqzyTaziKqTn1Gy3hKKlCFiVC8NTy6tVibBkB4o1omKrytSbzn03KPKRBw9I8bA2A4DU4kz7t/KhB0ggr4RrBDxqgDldcCxTUTBgh2UOMeZg4GgCVZwWMCwiUoqYrKkI84qhIWpsgPk85g538qBigU0HTSZ41JAHTihxBs4hYoA9gCx0ACBYAhAoxIgwBkhrgWwCB2zSBYBzhMANyAg35MAhyXYTKfTUCfiqKHKTy1CXKzk4NLy0doS4MRRmToA0VEyny/8pwFBDqzhjrTqGgXgFAwAdkiVrqWxoITrKUlApsu0AgSUwAAB6MACDGsEhFtV626jir6n6v6wG4G86dVWoSwI696r5eEeEAwACislM4C3y+0EAm6lGudKAZDbIAGoGlseGhQ9a48gM5yhHPYvaiM3GuGJYZGjER1ItLiy6zqVmgm9mmgQfGAw4zqt45859PYlQfGt69mvOGgDG86z0vCoCySkCvYmgW6AINm6AawpYSWrWj5HxELXRcGYGzy8W3WqW26om5gPcAARlzQtv1tGQz3ur3BdrKMdr5pOtGTT1dpnF9pMoIoyx2zrNIufXYNCSEiJW6t62wDsr+I2tpq2oR3VupkZuvLQLVo1qdsKNJnjK4qzoHkqv5imwDjzgLqWFToilkBEDRSUEkDLq41Fr/0LoCFtB8hNT/KoBHGDjYADQxSbtn3x2WtTN2Mro1silruto8FmjHpECroFA+WntnvNvno1tGSXoYnyjGUgBnrm1bvbpCk3rXG3oaD3o2z9MTpoqDLOSUASi8v2pArvq1sTRoH4ufq9tNXgIipbQ/ulu1poGgA/D/tupUCpXdIVqJUAeAaECdrMB8D5i5qAfQk/oDR8C5vftgdQZMC71FnRW/sgZHpxrQJAcJq3uKjwP4pYigeQdIf5vIfsQEMjvsUDqrLS0IospIty2fRjt1zjqQPB2poqyTuWO2sdFEXTp8rTIERfrft7Bka9tfueAUFEX1o4DYBsAwfkdt2wcsw0dfpwcTXUc0Z/ufW5vBveqUZUaBNkeUZ5pEFsZUYUf/qXsFsHrEvu25tUc/uMZRKnO9NHp1Ocdus5V5h0xFpQul2CZRtESEXYhp1ByxvwrYZrMy0svrJbV4ZY34bQ0vppuvrPPEfuAUDTrDMfuZo4GKe7k1sUcqZKYCDkbUaQlUGCGU1MbNKqepkad0c3xabzrwaMeaZUFaa4rqeqaaXmX1toHEGKDYDMHccpySeVtp2hLGepidoYYKigBeBPoodYbMo4bSa4YIBbRnuXCvnhR4exJyZK0PMVJEdop2ugksGdCfRuWYoOuedtF9yoDjSTS7uEvDlEsWaVqmOIbBq+cZAONvS4qoEhcpHvKNq8WbsVqnLyeEYKbEbhcRua1zLKaZrQOxcsH0R+b+fNwmym3JZW2BfeKWbBZVuZqJZJczM82RaHpBSpvsvyacuTo0KZxSFxcIUkd235fQGZfhLZVFmKA4ypcpeWymwdNEyLi4tFf0VFY8zOpRfEuWZFd5xSHFd6zkuRegq0tgT1bFe/XVdZbvQxFIEidVctfNaNfQBdupDFHuFwrRbueop5dEYR1FdecpE0QfoJZbVFe+czPZRMGlffy7t/Is0TSVcfK1fu3DaUSdY90IbpZWuZrTYRZZaRbvRNb8xIDzcGHVcQorUGHtfNdtArdvVdagHdc9bWq5Yxd9cecdDXNHXee8t2wFEtPeiMcUWyEHZNRUEHwWbn3FpJTHfM0HwLtnatJNXwcXdHeXY+RsD5gIZTd2KXetNJhUETgsHadbTFeXeHakQHY3dTBHFePZf3v3cCPTOvetNvYXdPdfZNTRsH2PbXfPetJ0A4BNMxtBZzeAFbYTu5dh15dWPIBPjPnxYzr3eyGPmviTDRX7ugI6rcMgbKJJTQ5vnSCqvXztLi2FNRcmPA5Q/QEI4w9CfFkFkTSzhzgTmTiY5Y7jlznzjEyMZTSysH0dDY2+QgcgGplak5ag/bZg79Y0PQFqHvoWM1P7ZJWHhoAU4+RMHhFfvhB3Yfe1fpZWdWvRcWI7ZvsdFxMdDgF/WDaU4+dVpJVqV/U0+04FudO6JgIyJTgdBeOY4mzQb8ao9TMg6POk8BNg7OVQjSTNt7fKczpJTlmi+WEwA+SpV+SY93yzbA+C5M8cpk87dnHBnxmFehPhjRnxiUBS/ZTY2v0y61aIYZYg++xSfMqOaspIBKhbRtXu3gDAGNRucEbbdM/y/M8s83IHAghDeQ5neyEbBNS04aFxK3Im9s/DVm4m4+VTDYHhGznJyW/G+7FW7Pbm5fw4FTGKMwE3IM/A5C/ucxYR2B3QD0Ns9i9DZm4tcIUq48wpffzq/0/u2JkWQhi+ULnf3NVW0/eCO60q+SI+6+7+48Zo6c4GFh7m9h7U404W9A/8epxy+9avrM8Ka4WgGgBZJe7az7ehL2jgCEgLDivSE2GJ9J/uBS8OLMG+SQhpbFtLYGHiTODp/ehEE2FaQqCBTX2q5eIh6y5x+xsa9u59ZG8KdRAUFxJ7Yp7i5bRsAUHp9VWOHLE3dUC06ne58gC1/kB19NCWDmFIAN/Gxwa4rN4t82ERFt85tPcd8F8t5EEHyWFt8Hzd+l6C+Ifl4J8V7EeeCSFBrs8p4c/XetN/ZPbw5o7nYT4iMTmdOm3++T43dT+KA/cD4CeD9y82tk9WJ2a6FKAUBK5AqoiSl3AOgTAUAyVcfc+CFUFhfSmSihczJLSUBHEz8R+fVr4ymlgb8r/kGb6UHT5dPb9PeH7PGnAr6b/AkTXn8nnIUb4n/Am++EnJeEi545ezeC+a4OeDtp1Du4YZP8k6+ssZCs45OfQYvv/dHjtC+G/C9L7ORFVqBsFGtCSQF/7tIkOUjFtN/1/4QZ/+iAQAc6AgyOEZU8IGwPGhwZiZEB+fXds+m/4ip5A4AqhgANqBnJxAsAmNDQGlQ0AVAiAzouiiLioCuKmA1IHoAxDnBEAZwYINWHSAwD5gxA0gSoD0AJ4U0wkF3McR5jhUk+GA+TtUA8AVJagGgdUN/2cgiBzgHAuASQMLgjg9AcaHQFXngEcZ845aUQSQG/7VxbkDAkEPICUFcDE4xQV2HLXhCFxjef+b/lIJkEShzB8A9QfCE0HIlT2jg6CM4PkByDUgCg1wSQPcGeCVA2gsgZID0HoCDB8nPaKQGQAVAAhQIRQYQM4HwD2UVANgMcQiG6DaB8nYoIgAzTJCghaQ5QT8mEixpchUQ/IfjWBojgGeLwYIfCDYwcV++kgbOGgP04NcjOMxYvg83M6lJmY5sKbiAJ1LoBhhBpGgMUEkAjNT2QwqmAEF9xYozAbAXovMImGLDfcAtYIKsPWEF9ce4LcYZMMzIC4ZoE0KAAVnIov8Ji/Q+7hoUnrqhq+jLJ0I8IlDph0gMICVuimq6B4tugsaIVnyH5OgfYSEDrKvydDHRfwc7dFJlQiJ3EOMkKNgHGVoDjYoa2PIPnLxP7sMz+/2DJrf0pBFZ7sj3IkS2h5JPdSgsEV/nd0J5YtxQcAUMqMN2yGRyqPfN3GYBmGxsE2cbVfjQH5hdE3SXFIKj2DMQdQd+Mqe9oP3tDX8hEqQdICl3XxxwdBgsA/nNhZG6RFIKXWNPGj0Cqjrux/SsqfyIrHNAcT/Ukc+hpxyiRAz/ekvejv7mir+9kM4BZ1NYPV8USAHjE6Jv4kBLRUYR0D0E5CIB4An2akQrw/6dtggBYKPq92vKA5IxJPfWqcXZ7FZoghwxrvxijFCIOoQMY+heEYbLNEmUyEzspzDokBsI8AREFYmyAtAgqFKcBom3MD8AuAYOQvumOfTljKxRgSoLWOtodiRAVY7sSVUjydpJOb/PLuGPM5mBUgzwwHFOPtyfIpsagFsWmN6FoE5xvuQ2kdi8RCACwH4AHqkG2GbMxkO45BqOJpFh8EcWvaxAoJnGa9C4MwtNMuNl6rjNeIIGxL7kJJ/BqQV498ZGx+BEkzxYYwMoUzeGbAc0wA6SIDh+FV4i0j4gRq2JfFD8a66oJYF8MNafiYEoE1CR+P/F/BAJofCcSBLdDsFtct4ofhihzxV4UxCEx5CH2g6ESxGU4cUGSBJgxifKgOAWm7klR0AnxElRCSQCYmlAWJvuOYHiS+AYS8CGmBAKQBtT4T6JwEsRikg5AsAWsEE0saumUkxJv0vub5PCB8AmBZWPE+CSuN2xKSPwWkwhIiy3EfwTxH4OSeryZqA5W49cXipmUsFJok21EkydCWclwgqoalHMKNG6jjQkKsKB/iQF8lIBfckUxAB3Hkots7htIhHCGBJ7FBMAHdMiSQBSnQA0pHdTHDgBMBzMORHAHuqsKMloYaJ0JbKblJCjQtWcQUnqA0CuGEiKKtw/HvJLpoaFqpmAbKZlMgDdTsp+Uwqez0hTDSLAvEnVlVKyA5Sep00uqepXOFNSbKF9dqWFwUkI4QEQgcCUyPUmbS0JuuTbmwGxziA4JFU7ySBT2nzTAp6ARadSGalhSbhRY1ae/3WkaErE43IXFtL6nvSMwtYfaWZk6Jbdjpp0qIJVJAo/TPp/07TLelumXDlp9kl6Z1NWJ7QD00fcpoDhRkfiMiXk58bqySA4SoEX4rqrFgRnjjXpwZacWpMv4wl5xqKHwEuOMm4zVmB4zMpuJLJ4BbJ6Ae7KUlpkfpcJysTmaTJL6dsOA2QfaH1NFnoB9oBpKbHLRxl8SMSYsywIeN2b5jpcSslWXmIXAIySx1MjgJuWgAGlUw40xmQrNWYGyRJuJC4PiW+CEyYEl3aAJoVkzSSVpQjRGRF3EbGyoR0RCWQbO9mYAjZZgYTknHCLyzJpxnZ6WTKRlnIzu8zb9OTxRz2cTmOpA2fogDmZlY58rVbBNMM60TEpF4kEsbLHYJzdZycs0qnOXbpyJWmclNHoGzmmzw5fQyOcLMGEhSqZZc6XONBjIzCb8Oc6jjqS7mZl9KSAXEACAJB/pIAchRUELIGGFMVAiQDYu3MBzzzboGZCVvnEKLlTQZ505mivIqAEz4EBQQWW1LdlRyPZVibzN9ODE1xfcnRdyWHNznQkL5N804TCzunwyT5EQVMbEG8yrItQSSD7Fsyhyxz7hwZY2cjkKJ6TQFZyW6ByAgUOhX8PMUmOTnJlnJigpAUgE/hbABAE5xQGVNAv9EYAIF8zAhQWDV6NA9AzpFND0Tlp4LpsqCxHJYAOjnAEiOhViVACdJmAU098pKRoWKBMLoA5wRuBAoiKicGFPQEEBArt6kKzQN/WIDcWKAmBG2DEhHKaAQDu1sMW7YZkgKboMLle3cUauQtOLnFxsAcS4vQujlCca4CgIXH4HYXzYaA6IguasVYHw1ksrTJQBnl24qBHQ8tFRRoWCC/UvFGwR0JYGRweKvF/AHxVQB3YMLAlsgYJXsEBSKdYgES7xUJ1JieKCF8SxJWYOpgJLwlmS9FOXV4WrF8lNJQpUoFUEEL8lIIDwIUpFoMLqY0mVJcVJQWWLKRAY8JQHE4zOkbiwtTIs4tIxdBqwegGnnUBYThLnUW7MRZYs3TK85F2oZ1HoG4mSBo2HGbJayEsAsSRAxYWIHVX45JwU4caE6dMMaWWKTQ5wOMItBEDwghAKaTYcjhoD99ZlHsmgDuEWVwwLMpUvuq0K5SlKCBjIDuiyGBrI5+RVAF3CQNiWWK+g/FeEGKDuXI5SYkKUmLbWLwAAGAhaTB6ABA0VmK5LIXEQVgN2lHs6oFgvZgJy7BgsUqQQuqBRgzmyOAegLV0WWLKuh85LKsOjaSAkINAGgNYPt4ArzkEGBIEhClnXI5GyOSwcMzaZDLHQXcUpthiJUyr/FqxclSMIWIrLJAMqVpjMIIV6Af4GAQJSvVSUu52hKgKVN8iTG8wNlgqkUDuCF6S0UkpQAsCoGvj2K2MJKz/k7ITkerlVTSjkOqv2U3ELFHs60PYrqrZwAAxAQrDXRrksBymNVNWRwHK8Gia2xPxWTX1UA4wkQ9hwGKAjgxMaaroIrElAikxSCxA5espDVerLleymSPVUKnscTlQMjoSIJVU7Upq1y9IHcvzBC8Yu9ahquNg6Fpqeo5C9FCOBjWnhk1LQpOJxirUxrdkoYHeIpX2UzrMqPAm4n6ouWLqWMF8adcEFnU8xeYKgb6oKuyxLrUECgbIMmqOmJ921joKgBmCeUEL7FbnF9dODBUTZPVnbHcaiATkzMvBsq8QLdHIUzN4G1aztmBvQbJZxAxSllR7Ng0D0wVFmQuLQDQEMLbQ1QcgEAOwxd0flEG8zofXObIaTAE6wVfyInUwb66ecK/K7AjUEaieNdPYGCJEDXIw1YK3SecoQ2k8lgYK1/K8QYVCArgdoWIFIEKIEKoIt0MFWRqA2UbsMMqKVDYDCFd0CFWA+EKiD8FlRkswkROPBq9U6a1AyWZFRwFRUZ5aigq7FZgFxVmakVKKjPAAFZi8WKnFQ5qc1GbmqWKt+Iypwb1VaVxFJNQSp80popU1qhjWIyyxTVJarqvzLEFQ0C0/N2G7zZypmE8q+VfmswMKpECir0A1yJLZ0RS28rXYUqejelsy3ZbrkktdjYFqVV+a1V3mpVXnGjzBratN1HBZVpnT1aXcYDYrc1sFVkrWt7WtVIFpbUdU/Nva2+MNqOmtqOhTWn/LKuqDjb0gg2+xVSskClTo1fWlsOkDOZxrsMhcVLa7D83lbvNB2nrXNvvXVByty27zSmjOV+aHlxqlWCYFu0zCztYWhHNUAe0iBrtBKjgGNNpWzSSejKv7UnAB1xhkc1guWjqq41er3Y+0I1S0qgDFSVAtGkrYKtqTMalgbGjrRytFgEKpxnyy1cHFC347dkLqt1cjm+TJsGFpPRigsSp221MVgq2nYzsp3wgeVMOztiknuD9rkkPHQZfevmbAhUZsQZLdysK3zr0dZWsVXWuST5bxdfK6qsOql3Xjyto6yVVYJeK9bZVRg2jjjsVWa6Sdgq3XdFvsWWDrBB2tHTrtgC3JytVWg3bqI0Z5wC4yrY3TfIESVwFi0BATZYsTj6xJVhcbiQQr92QYhtiqpQL+xuJzCddEeeVYGpbjR5g9I8SVZCuiEMKsFHsFPRahTQbaddZwD2Ltq91dbwGPuj2WqolXJYlVkuvPdgtl0NbU1xu1rZgAr2Kri9f2mNknuwU9SV1CepBfaSHV6bO2aqquULyz3EqB9ne9mOruSwWoUdRaOjfVW/XmcTAqQFjdjumrI4tOkgROHBoIVb6d9SGmfUWmgKka99x+6pUfqQh76WSm+uuZztG56Bed/2wVb1Jn2g6X9oYTfUnFz33q4whe2INHlL1er4QGC5HNvgIV5IwD6jDvBAfUYfhEdkAO/YnElR6r0gcychecT1WyBkc5xYIIdsFV6AEwuW5LHoF016qkgGB9nQQvZCskSDMm+9XoDk0LERt1KAVbKsW3z0M1yWFg2so72CqODsung0rsH3mcOD0+7DHHDYP3q7gXBiQ4oplT5rqdlimQxgGKAeA6dsQSQ9qqLTso71DClQygxECzhoxUALQ27h0UEKDDIKijHIaLh8i44RpU9bKoMOSaCC165LGYfrr37CmBhrw8jjMOuxkRUqCIkvp8MIAMArsH+IsE5AJyzDlg9DcofCPoBq4OGhYnEbz7O7C1gqgwykc92aH5DGRQuJYaSMh7/DBRk/Zkdd3OGSjIIPI6YfKMYpRFwkP5SIbCNIBkjboFydYfIVxG38xR9o0/nIBlG7DJgRg/0YwCjGmD+RkY0VJaPjGcg007o8MZlSNrBY3ROY9kaSNxgHCSxjwwUZdxcL5j8KwRcsf4AW75jHAW5LQdsMyo84tAeg/oaSOAhyA9SvY3YfUYC7Hj7R/hCLvqN2HOh2ijivMfgS7GbjAtPw5sfaOC1JAksNIwUcHyTH5jCJsYx4eEgmNnDaJiBVqvRP3qZhmJozRwD0OWLkFFgPY+dseNh60jAaH5FQCN3OGBg3SU3f4blrTDWjYja6BMJ6NICgDnbSQH/38P87LD886+MjkNIu4eTgwtGLIYWL0z6NL27w2Ix5lhqvtopsgXKbOU1bBVSpmdF9rq3JYIiwkV5V6oxhBjRTRRwVfXDNMmAt1Hs+uPHulypgFTCOS7ggbO7K7ZVLp8hcYxU1amBEWm7DMY0qPNGLDvp1EAqFBMLFpFgq2Rcjjt42mvVsi+0yoF32Crkzh+7DACYIXsqMzzKlOCjt5VGnO28CGwKkB50sBYzU/d7RoSZPJZQtP+hhabv/1QBQt1VdPlmbdXdU2QFZjjK2b0D1nLFpuzs5YCbN6JKzlxSFe2ZSCXF89FZ0/amYv0ZmmtaegcyPAC0ZmC4nxgc8LtjOuAqzqxfOH3VjPpLjc0Kj2eapCXsEUlzZ9JTEqzNPAklpAK83ohvOINUz95swaEifPmqol5ydnW2obPvmrOLJXnd+bzjiMlAShs84BcDFHmfzstGE3eZCV7B0gCB0Cz4rZMI5zzSS8hWhcdAJo79iFpJeJEF6wW84ttITi7lPNeqsL8gci5edIsqByLt5t8xsHIuPmGLTF187KpotsXawHF38xzsIu0WgLPO1C94vIsGmhL5FmC7WfEviMOqTp6s++ektRgxLUS8ixhaUusWu2/F/C/+YHPKWqyTCkC+JaQgUWTAVFos8pfuBOyagHFsy8xe4vWXkl9lh9VxfvU8WbLn51yxz30tQXWLNl5niZfUtmXJLLFvYLbRssyWMzpl+S4LEUv7nnLyFow65c0uJWArOl2SyFbwuUK/L1F5y8ReCs0bzLll8zjRZsv0WsrxVxyx5ffNeWvz3ihy+5YAsbAvLfFqqyjoEt5WrLrVkS0Vc6thWnLvV6K5GcatxWEL4V+QFFdUsMWzLaV88nVcysxWolZlvSwlYWu9XCrCBtawQrYDGXtrwzXa4deSwHaCFx2k64VoTWCq7da5hYgdob2yrytLeu6xLr4OPWZdPeyAAduENnWxV4hl63yvlO/WctKpk619SoBSro996vWIMDj3I4gbgq0G9hnlMPX71X2567EHlPV60bmw2XfKZ+uI3Nh/1zG2cre0EKvtP27DJcWPOUWCF1Ni82cCfPU2fzq7QVfTYfPtWqb6S3y+tcdDs2zBQVhA8zbAuDX71/Nx0CNdiDC2fF8F3m+LeStC30lO1tm4Ba2vI5pbfNum4Bb8Dq2xrJ5rW71cqtc2Vrbl0q4U35ttWmbY1nmwbb2CBXgLitk26LYYUW2JbCsXW07YUu22prEtma8lmlurXcrctxa2rf9tjXLi3tmyzreSy/IqA+NghegtIBfbcFkqJqrzYnRzUEDCm9lMJAHpRCgzqm1IHtEQBegFBdRyAO5YR3mc76QGTDJPKBJq55FDoBO6Acr19HG9Qx9xYIODXRtyTcys4M6rSDWJKTqSuNP3p+7ZLoILQVSbhuo3zXXmIgS5rEBWNrGiigq+wuGCRUSwZhrTZcx7MZiUwWYW9oOLMNJgpoU4Inffpm3vUH3hh5wEs6TyQCYBJa3mi1LzeqAqpkcOgWwYWfM6vhPlkOvxQwrh1hLAtHVUqZDfjOds6V22gsHDdx3tVnQnRNe9qAo6TiCI5CqbO1XUF8iI9+OjBxrsoVZHrdTC8tbEC07G5XSUrPux7OHgihB7vOEe1AHjSjbBV8IHZcyb6XHFLD+0Q6PYoLg5qeB7KfmAkY9mSBNYPRiC4eyQdpUGgVdnwxI9FPSsM+BCjgMkFoSqnLBYsFB/etKQvQKapRbDJSjx3XXUInyzogq1CNiMBxLQKRTxxCo0OvVpoEkCxIgWSoXcRy7q+Z2AJdqEDszKVI2uOXGbTN5m2VT4/TiWbrNjRbDP448dNrgnrmhO0Kl8eRPEnMdkcJBacfqHkck2Qoq7EUWWZWmCePc2chsCHRrk1vfDHNXcPYYNjsqiM6LtB4i3sZ6OppzLexncG726VVk2QMrMELUwO5YILOBnQ1nan3d+e/Q9NBTLXc2KAu7aqkJcExnMJgNJsqMPYJkszy3utrvvXvLxw+uhYuCbzhWOU6yjPYP+oszY2MNMLKjbpkCdePGN80JIDcuQ1TYbADxS5zCpJQ2Aeg2ZKjYnnroSaCONdF57ysnaix4Rv9xjdkCnBD2KGfzqVjaqA2qdPrJdWhWA0BfZA918LiIuYoxd0JZAdikF3SfvUDsKdVGlqioGA6tru6vdEpwvb2Cvw+1pADKeS7zj4bAXi9+QCy9w0OHeYThklwvJBr2KFNbPEtOvnRfr3UgxPfJFi720TX5tCFglR1Sx7zbbI7QbDIEZm0hGCFkRoXtugTnI72X6OnoFy5CiU62njoHEwwvB5gXNGHKi1zVetcOv4C9ri1GBbNuKSLXLr7DDa58WbmPZvruVea7dc+LJAyip1yG8dBhvg3cFmgFa8sWBufAdrn1xa58B72vVibmgGmlddwWOAOd/Ham7zc0Bi4ObkW0W4iISnCmib8t1zDZ3whAjQDhN7UFqDXJxIGu0R16pSPtu5n1u54OXY4zopFFwensN0E+Un7g9kiyvYXB7f3qQ9/bxo2JjqezvOjcIBp/6DRpwEfy1+u5eAiP26c40nPbd0ID5Ms9N9G7rOcc66m1A7lac2/Q8csWIm397PJdwwuylrv+ps6guLaRDOyrtj4Yd9wcfTedtjj20jVYVtQM5acD7KAtfGkverFWkopL4MjlvYxKLnb1+9QM89TXPsMKHrTrpzjb9Odyw8Hd4yATm4eN31XbfHB7OSYfiPx78rlCU6e0mfuHzj2Zh+tbMnQgmrfQ+KGHj+H2dKr6QyyT4/6nzjWpq46KeTPPLVH8gF45J/isyeUL8nlNB25FnZwVPop9/bKp+OxmWP6Hhs4W108rY7nvN09OnFjPMqX3A56BO++hO827PyOZE/e49lOeIFUhhhdbzPfz3h45CgPvesRCOe/PDCn3ggYDjWD8dsgW5BDr/aCrrkkfZHApuE4ci3SRO/lwwqwHfgaeh4J1T1VrsOBxOo+7UrEHiNyO0HhTLt1O9E7yOxGpRtu/sPmxleavE8MA+YGiHVeEcIHzTwLva8glP9rLyl0Wmzg0uyppXhIIRqY2SglgFYblwsSXc9eXFhir/Rxi/dzfGvyUpdf+8W+1nLPP7hr2N7nk2etv4e+0ou92/zezkfug8EgHfdjTVv+3sRm+6O8LEFNxOwWL3b77mGgTMoNbxoSwGdAoww9jKO+8S/Iio2lLgNFXmNKhzvv93hHBl5/izgWwmJPUj7O01kCdhewl4nd6F6FMsBU4SkcgCiTA+yBcbCH0aRdzk5zvjoLAd81hJCQE5Cm3gSd5WzY/zOWAhgQeEITE/wfSJIb6z9x8Hi6fPYd9xCdQew+NCfhmfWMZh84+HvKJ7DA55l/mcHPyWVz0r8KaueY7iA/vqN9l8I5ig6IHcDk+pNX71fYjB+zfuSyIDzVzqXX+Z1/7EglcYz1YYnCq8/eFvP4T5bCPBdQ/scKgNr+752puroih4IXPIFA+xApUfiqn5LVAe2H8DYvvX3ywQDEGYnGTu34UxFIaGllyzu9VT5ZBrOTDcMXl19WmxU/XDQriHUEb0l1cqfur6I94RTeRucTVPwN8m/p3OuM/nryN7edLc+Kd2rfr1zG7AvdfA/5yC1y6j79RvlFg/yN9G6n9Juu/COTN+38aeRufAo/8X6sUzeT+m/sbgP1v7OSZvs3e/st/m7N/L/C3+bhfzW9eKz/c37KCt5KpeI443fh/uVSO4QCimxPifwYRJ/1NSe9BlT7PG6AK8YBmXthf4gkftuAFZuaAsAHqeC7F3ZpUNxEv4BKA9lM6V6GRjxxVGe3kn6qqpyPO7hE2AcmxU+c7os4LE+Go3SoBqxB3QWI2GJQFo00fmP60BzbnH4LEeCrGjUBaCkUKhefIk3St+BDh4Zy0HItw6QByMrw6ry/hlI78BY/uI4lqCXmQJG8iJFXhY+Z3mP5YCPnsj4Vg77tVTZw2NsAGaosuqTCSGCfrgHmcxgSn4QK7VG2pU+xQANS86KcMLRl+Y/iWYTK9ivzAUuXAfS6YOkKDIHv+GOl6bmGPmlELe+4RL75ZwB/ngExyUppNQKCkUORjFQYfhH7NmO3NlRiB55OWAFUcxJPIAw3QNABV2vpCBixAQgLAKWQnkFaIrIrBEki5OeBgU4cARTk4ZQ4lAoLBcKxDpAAQC6QIIpwgoSuGDuqwcCHBFoviigZZIy7Hl6IIBRjVy6GjdlACCc+GuTjPAFAGcwTg45OcCLBZrslgpoo4LS7zBawecwrBuwb5DZBAdl1adUUODyrSB6aCIBsBsQEa5QASwfYoGmlgvdSbkjoOfT6mEFg0AwWRwWNbK2vlLEDnBgjpcHXB3iLS5n06wQGYQWTwdSDoALwW8EQhybF8GHkiBt0QJ+UOEz6qAUPotxjBqFLmZkCqWhAxQ4S7nKRIhlur5pFezZpWa9mDQJNRqo2Qebpa6c2lDjymbHMcoNAKaOyEn+RekgoshbalASZqmwSZ5WgEcHSGa6pIYyFGOhWsyGCh1IByGch/wYVo8hItEhBX6F1nyoHKioVaDYhkAJA7TBeiMyqfBQIBrocArsI6BuckgPbTQhdtFqGx2DWrqFW6k8uNCye+zuQ7wgjoLpxyqbeliHZBsdvHbkhHENs7dUQvDSH2KWnG6HiAjoL6FNsWofSF0mUOE1TIiDQAED2mJ+kHrUgGmKqbG4rxLY7ehlClwo8KfwS3BnEjoLW5phNcC6IxaUAGaF+0WssSF127koGbEBuoe5LFhrxN5jlh9ipmaWhqstrJIh8pmTZ+hzIfh70yDQOcCbCCnEIAfgXpgPoehSCkOicuVwNgrMm4YS2bjYbZlkirm5wMGFahhcDwa6hK4co5FIHZmaBsg/DHXZmo8uqdqzalqGiFrG0eMGCasgvHeCkAFnOq4LEHgWBYHaD6mSHE0Yqr7ZjeWoal6xh2GFw7TYNYCkB+AM5gSqGmRaDQAPqJSlahBiUiJZgMyddih7dOwakBHMGd7KHBTYwYOh5ZgZZMZRIh5Hvu7mGxaFZhQ4KHjhGwR2NgRHmsWoSRGbuIlLqFURqLnhGIudooREjA2QSh5d01epRHYRbEbREkoMFKJoWY94aFJ2s9QDxF3sWcvxE4egkaX7sR02HRHlkddqi6YRYkbhHCRXETMDZBqLji7Xhs9tpH4RIkURF12NxPY6phBYV8omRHEapGfWlkQXAOONEeh7OOdICxJqRDgCK4J4Yrpuq6horm2p1AgwOkBeRVcOaY2RVYV2GSknaG8amBiQPADXIYACOJIhJXn6FRR2zHuDJRR4sMbxRKftlHdhtYdPDH6KZjZG3Bu9OCFe60wqJwpAX/gAEFOMwq8LSe1IN1T8UkSDxhgBs3knBzMNxB95Hyu4ugD6R1Sn6HuCOJjOC1AqIMmrFu7KPwDOgM0RCqJwFoSEjoAGaFLKYAIaLOA9gTvhWrTRvKhwBzRvKgtGNsx8nXYa2Ntn6HlR9wWaY6axQECHXRnwe7bfBP5r8FQ4l0ZVGxAjwbdHUgGaMCHS4HwS1GPRSIWko/m8tISEJ4eBNADjk0ENcZpGVBlQSQxYANDEQK2KLepbBI3vOgSgGYK8HvRlYSfgqBToOVE7M6oD2DYxxGtkHAxYFo5Zgxd6uDAIxSMR4ZwxMhHTGW+MTijHxw5USBpYxV0Rs54x2KC8Roxh5l2HExz4VdHkxmSpEpgWESrqHCcEMVDEsxsMab5MxcsTDHyKbMSHAcxmMQWCkxnSAc68xQ3gLHTYRMRKAkxosUDFtKuoWgI7MNYd0ob4joM0y0myqqYKwORfgMppBUANZzrOmijjjk444ZOFah2JrqGSABsdyjjkiAOOSTR2msHHUgIgKHHhxOTlHH/oscVmjWhAcX6HBwegMioJxkAAWCWAwpP4ZZxMcWABhxycZHHlRhccXERxmigXFJxk0dkEkmuoaTCCxUAAEDLBYAJgCmgP8HzzwA45D+Agg26OH5KOKgMiK9RIHM3Gtx7cfICdxQkD3GhgfcUWTJBcuifo1+/vomHjxHcaqiHgM8afC4k88f7EFGqxit4/unMg4BmGHxv1HIMJ8QUaKG58XuLjB7xoAE3xXMnfG3GP/sfHPxfKtX7auHMgNGXxMxs+5HxP8e/EAmdTm/GlsDRid5FwICYAlgJdhlAkXx78YB6Pxv8TKgVGjYd/HwJMCSglYBLuo+SgJsCOUbt2A5NAn4JdhmJqOGlqHgmxO0oZFEn4ItFbGMQBKq8TAEY8N6HuOJnsE620NmulG0J1YYxCsJATp46SACTo5q6hGUTbSFR24SYBKq/YTZH7ha4eMhHh6jjk4PEX4edqogPzoCjOhn8LeG+gD4elAjwL4choUuM4WAxhhEYXdroJdkkiFnx3CeoKuoloNkEHx6xj+5Q4YiVbEFR1sY4mzGLidhhuJWUSlF12wCT4m6xdidFEeJfCUDHBJsQH4kzg4SafR0hC7pAlRJuMaEmZRsSQEkOAlDigF+hVLj4oAhh7J8FTeFADzqKOQ0RS65JLxLcGvRoIdSD3BcSXC4Bmg3nbGOKgIS1FFJJSSWr1J6pHCYmAeUYlFdJPYXXaTBKzhdG0uS0RVHnMttOOT3BGihQG0uyivcFTJYADMkARFruiZMhWcYoLcxCvlnFnI2yQsQpo6KuZbwRkAOcDtk6KkOTjkzwOclDkjnkcnG4JyWckXJVyTcmrJPfgQwbJ5UVsk4xkALME1JUAHsk/JhycclN0TyZclgA1yRcl3JIKSOE3JLyVCnZBgbh8nI2mydrH2KfyejEApaKfDb3JFPqClwpEKa8mq+uKUQGwpzyYSkIpSIYG6DKnyf8mnJ2Kar67JDKcjYkpjyQSmQptycSkwp1IGCnwptyYikWu0bgOGop+ybEAYpTcZACApxGhsGsp+KeSkcp0KQ8lyp4KQqkCp6/nG66hmwV8nMpCxOKnTYUqTrGY2sqWSkqpRKQr7GpPKeymvJaqbG40pKKdqmipMwUymOpkAMClKpJqXymKpeKR6kUp/KVSmpuWbpqkipPyXqkNABqfYpup3qZanypZqbqkWpUALym+pbyQ/7FuQaQ6khpzqUCnxppyValQpXKe6nRppqZSl121bo/4lhNkVql0p3ydKk7J5UeGk4p3KQmm5pnKeamNpOaTGnFpFsMimze4phiGjxYnO+TUMtZuAymhPCVkhmOTyuBqjpqScwDIMWoVdayJlIauF+K9CfElIh8YacEZmS6QeHRRESbMRFBy0WuAMOVIL5T12NWGHSpKkhMwTw2mwhnj26CxARFRgCcjDaYK/cAED2ajKvMCfpamKkrOy0prEAQY9wIkC/RQIAgCYA7IHhDJYiwL9G0EpQP+nEy/4clhWaU3rzrQxcGSJr/o8sbEDQQmqMjh5UtQEb7ekcCsliQY8YM6pF+j9hgAIGZZIgCGwyWE7FXBs4OQqmCCQIkALxOzC7LJYoAZ8LI4MIU+rJY7BGaCTu2GPFjsgEAsji0xrwAga0x4GV0DkKtMawgKqCxLTESZAwNAAup6II76/GkANuRPgCBqRlZ+yOKRkm0NhgsSkZL0KkaxA5mcJlmZoYJgCf6xAKmIkABXsrAbINwTIap+zBl0DXII4P0D3ADQovbdJsQKmDeZTwNTBlOhqVAAhZkXmFkBAokLdb/B50K+nVMH6SRmhghmWllJAJmeQrmZpyEZmhg28flm04fXthi6Z8BkBjoYB6ZACq8/CEwooZJ6UkhSYsuBelQAePq8AsAUSFIKC8A8dwbeZvmegD+Z8oiwxEATmWJxoOLWZADw+azi2D+mz3iMjtZ/FIRTPMDPDWgjZgSMEjtB/FDupsC6SBiBLAZQvT5q4Z6c1ncMsQBFnuqe2QgbfgSwI3CkwkWXtik8IgI3A6AlMrU6XZfus8D207iu9kR4syakrnAdUdhgmgrGvFkLxokFLKE6EjudmU6EjsEAA5kOSWqg5MOYjmbRCOUrDVwyqGaDI5SsPEKSqasCcjIeoWeKABA0Ob1kxZxOUjkeGPYKKbTU12QgYPKJPFhlQAKEFyDI4GCLdCeZsQKiDQxxIaNkuZE2aTlvZj2eErvZNcHdkXZj2c9mvZs3j9mfZIuZLm/Z4SvDnJqCQNciU58mqjnY52AjWn06sOcrkcqEjurm65KORDla5GOdWC2wBuSWq45levjlY5VORhnS4tOZdk3pjOSrHM5v1Ew6QA7OaUCc5UANzkskvOYEggAsxEAA=")},function(e,n){e.exports=t},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,i){var r=new u.BnfLang(e,n),o=new f.Help(JSON.parse(t),r,n),a=new c.TemplateBuilder(r,o),s=new d.HintBuilder(r,a,o);return"sense-script"===i?(l["default"].defineMode(i,function(e){return new h(r,o,s,e)}),new p(r,o,a,s)):void 0}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.createModeForBnf=o;var s=n(14),l=i(s),u=n(17),c=n(21),d=n(19),f=n(16),p=function(){function e(t,n,i,o){r(this,e),this.bnfLang=t,this.bnfHelp=n,this.templateBuilder=i,this.hintBuilder=o}return a(e,[{key:"getIdentifiers",value:function(e){return this.bnfLang.getIdentifiers(e)}},{key:"parseIntoTokens",value:function(e){return this.bnfLang.parseIntoTokens(e)}},{key:"parseTextIntoColorStructure",value:function(e){return this.bnfLang.parseTextIntoColorStructure(e)}},{key:"getTokenHelp",value:function(e){return this.bnfHelp.getParameterHelpFromToken(e)}},{key:"getTokenTemplates",value:function(e){return this.templateBuilder.build(e)}}]),e}();t.ModeApi=p;var h=function(){function e(t,n,i,o){r(this,e),this.bnfHelp=n,this.bnfLang=t,this.hintBuilder=i,this.options=o,this.preciseStartState=!0,this.noUpdateFrontier=!0,this.lineComment="//",this.helpBootstrapped=!1}return a(e,[{key:"updateFrontierFoReflectChangeOnLine",value:function(e){}},{key:"getExternalIdentiferList",value:function(){return this.options.service&&this.options.service.getAutocompleteList?this.options.service.getAutocompleteList().filter(function(e){return!0}):[]}},{key:"getLine",value:function(e){return this.options.exposeCodemirrorToMode?this.options.exposeCodemirrorToMode().getDoc().getLine(e):void 0}},{key:"startState",value:function(){var e=this;this.helpBootstrapped||(this.helpBootstrapped=!0,this.bnfHelp.loadHelpBundle(this.options.mode.language)),this.codemirror||setTimeout(function(){e.codemirror||(e.codemirror=e.options.exposeCodemirrorToMode(),e.codemirror.getDoc().on("beforeChange",function(t,n){var i=n.from.line;if(i>0){var r=e.options.exposeCodemirrorToMode().getTokenAt({line:i,ch:0});if(r.state.lastToken){var o=function(e){for(var n=e-1;n>=0;n--)if(t.getLineHandle(n).stateAfter)return t.getLineHandle(n).stateAfter},a=r.state.lastToken.backwards(0,function(e){return";"===e.text}),s=a&&a.forward(1,function(e){return!e.isWhitespace}),l=s?s.startPos.line:0;l>i&&(l=i);for(var u=l;u<=n.to.line;u++)t.getLineHandle(u).stateAfter=null;var c=o(l);c&&(c.lastToken&&c.lastToken.clearNexts(),c.lastInteresting&&c.lastInteresting.clearNextInteresting()),t.frontier=l}}}))});var t=this.bnfLang.createStartToken(function(t){return e.getLine(t)});return{initialState:!0,rootAdvanceList:this.startAdvanceList,lastToken:t,lastInteresting:t,lineNbr:-1}}},{key:"copyState",value:function(e){return{lastToken:e.lastToken,lastInteresting:e.lastInteresting,rootAdvanceList:e.rootAdvanceList,identifierList:e.identifierList,bnfLang:e.bnfLang,tokenHistory:e.tokenHistory,lineNbr:e.lineNbr}}},{key:"blankLine",value:function(e){e.lineNbr++}},{key:"token",value:function(e,t){var n=this;0===e.pos&&t.lineNbr++;var i=t.lineNbr,r=this.bnfLang.getNextToken_Line(t.lastToken,t.lastInteresting,e.string,e.pos,i,t.identifierList,t.tokenHistory,function(e){return n.getLine(e)});return t.lastToken=r.lastToken,t.lastInteresting=r.lastInteresting,t.tokenForSuggestions=r.tokenForSuggestions,t.identifierList=r.identifierList,t.bnfLang=this.bnfLang,t.tokenHistory=r.tokenHistory,e.pos=r.newStreamPos,r.tokenColor}},{key:"buildHintData",value:function(e){var t=e.getCursor(),n=e.getTokenAt(t,!0),i=n.state.lastToken,r=n.state.identifierList,o=this.options.mode.service?this.options.mode.service.getAutocompleteList():[];return this.hintBuilder.buildHintData(t,i,r,o)}}]),e}();t.LangMode=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(-1===e.indexOf("|"))return[e];var t=e.split("."),n=t[0].split("|"),i=t[1].split("|"),r=[];for(var o in n)for(var a in i)r.push(n[o]+"."+i[a]);return r}function o(e,t){var n,i;for(var r in t)for(var o=!1,a=t[r].split("/"),s=a.length-1;s>=0;s--){var l=a[s];if(e[l])n=l,o=!0;else if(u.endsWith(l,"_Param"))n=l.substring(0,l.length-"_Param".length),o=!0;else if(o)return i=l,{fn:i,param:n}}return}function a(e,t){if(t&&t.params){if(!isNaN(e)){var n=t.params[e];return n}var i=t.params.filter(function(t){return t.name===e});if(1===i.length){var n=i[0];return n}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(3),u=n(2),c=function(){function e(t,n,r){i(this,e),this.helpData={},this.helpConfig=t,this.bnfLang=n,this.modeName=r,this.helpNodeEntryByParameterName={},this.helpNodeEntryByKeyword={},window.helpNodeEntryByParameterName=this.helpNodeEntryByParameterName,window.helpNodeEntryByKeyword=this.helpNodeEntryByKeyword}return s(e,[{key:"setHelpData",value:function(e){this.helpData=e,this.buildMultiKeywordHelpTopics()}},{key:"buildMultiKeywordHelpTopics",value:function(){var e=this;for(var t in this.helpConfig.multiKeywordMapping){var n=this.helpConfig.multiKeywordMapping[t];if(n.doc){var i=this.helpData[n.doc];if(i){for(var o in n.params){var s=n.params[o];if(s){var l=a(s,i);this.helpNodeEntryByParameterName[o]={doc:n.doc,topicNode:i,paramNode:l}}}for(var u in n.keywords){var s=n.keywords[u];r(u).forEach(function(t){if("__descr"===n.keywords[u])e.helpNodeEntryByKeyword[t]={doc:n.doc,topicNode:i,paramNode:void 0};else{var r=a(s,i);e.helpNodeEntryByKeyword[t]={doc:n.doc,topicNode:i,paramNode:r}}})}}}}}},{key:"lookupHelp",value:function(e){var t,n=e.fn+"."+e.param,i=this.helpNodeEntryByParameterName[n],r=this.helpNodeEntryByKeyword[n];return i?t=i.paramNode?{doc:i.doc,title:i.topicNode.title||e.param,summary:i.topicNode.summary,paramName:i.paramNode.name,paramSummary:i.paramNode.summary,syntax:i.topicNode.syntax,highlightedSyntax:this.highlightSyntax(i.topicNode.syntax,i.paramNode.name)}:{doc:i.doc,title:i.topicNode.title||e.param,summary:i.topicNode.summary,paramName:"",paramSummary:"",syntax:i.topicNode.syntax,highlightedSyntax:i.topicNode.syntax}:r&&(t=r.paramNode?{doc:r.doc,title:r.paramNode.name||e.param,summary:r.paramNode.summary,paramName:"",paramSummary:"",syntax:r.topicNode.syntax,highlightedSyntax:this.highlightSyntax(r.topicNode.syntax,r.paramNode.name)}:{doc:r.doc,title:r.topicNode.title||e.param,summary:r.topicNode.summary,paramName:"",paramSummary:"",syntax:r.topicNode.syntax,highlightedSyntax:r.topicNode.syntax}),t}},{key:"ruleToParameterName",value:function(e){return u.decamelize(this.helpConfig.parameterRuleNames[e.name]||this.helpConfig.parameterRuleNames[e.ref])}},{key:"_extractContextInfo",value:function(e){var t={},n=e.advanceList&&e.advanceList.getAllAdvances()||[];for(var i in n){var r=n[i],o=Object.keys(r.meanings);for(var a in o)t[o[a]]=!0}return e.finalContext+JSON.stringify(Object.keys(t))}},{key:"getFnAndParam",value:function(e){var t=e.backwards(0,function(e){return e.isInteresting});if(t&&t.metaInfo&&t.metaInfo.advanceList){var n;if(e.isWhitespace||"("===t.text||","===t.text){var i=t.metaInfo.advanceList.getFutureParamContext();n=[].concat.apply([],i.map(function(e){return Object.keys(e.meanings)}))}else n=t.metaInfo.finalContext?[t.metaInfo.finalContext]:[];return o(this.helpConfig.parameterRuleNames,n)}return}},{key:"isTypicalParameterRule",value:function(e){var t=this.ruleToParameterName(e);return t||(e instanceof l.Or?this.ruleToParameterName(e.items[0]):void 0)}},{key:"isAlwaysDisregarded",value:function(e){return!(!this.helpConfig.disregardedInTemplating[e.ref]&&!this.helpConfig.disregardedInTemplating[e.name])||(!!(e instanceof l.Repeat&&(this.helpConfig.disregardedInTemplating[e.items[0].ref]||this.helpConfig.disregardedInTemplating[e.items[0].name]))||void 0)}},{key:"findFirstKeyword",value:function(e){if(!e)return;if(e instanceof l.Text)return e.suggestedText||e.tokenId;if(this.isAlwaysDisregarded(e));else if(this.isTypicalParameterRule(e));else if(e instanceof l.Or&&e.items.length>1);else{if(e instanceof l.RuleRef)return this.findFirstKeyword(e.target);if(!(e instanceof l.MandatorySequence))return;for(var t in e.items){var n=this.findFirstKeyword(e.items[t]);if(n)return n}}}},{key:"expandHelpLookupPathsToUsingKeywords",value:function(e){if(e){var t=this.bnfLang.getRuleByName(e.fn),n=this.findFirstKeyword(t);return n?[e,{fn:n,param:e.param}]:e}return}},{key:"buildFunctionPrototypeFromHelp",value:function(e,t,n){console.log(e)}},{key:"getParamList",value:function(e){var t=this.helpData[e];if(t){var n=t.params;if(n)return n.map(function(e){var t=e.name.indexOf("::");return t>=0?e.name.substring(0,t).trim():e.name})}}},{key:"highlightSyntax",value:function(e,t){return t=t.replace(/\sExpression$/i,""),"<span>"+e.replace(new RegExp("(([\\(,\\]\\[\\s])\\s*('*"+t.replace("-","\\-").replace("(","\\(").replace(")","\\)")+"'*))"),"$2<span class='highlighted-tooltip-param'>$3</span>")+"</span>"}},{key:"findFunctionHelpEntry",value:function(e){var t=this.getFunctionDoc(e);return t?this.helpData[t]:void 0}},{key:"getFunctionDoc",value:function(e){var t=e.toUpperCase(),n=this.helpConfig.mapping[this.modeName][t]||this.helpConfig.mapping.common[t];return n}},{key:"mapParamName",value:function(e,t){var n=e.replace("_Func",""),i=this.helpConfig.functionParameterMapping[n.toUpperCase()];return i&&i[t.toUpperCase()]||t}},{key:"getParamNode",value:function(e,t){var n=e.params&&e.params.filter(function(e){return e.name.toUpperCase()===t.toUpperCase()||e.name.toUpperCase()===t.toUpperCase()+" EXPRESSION"})[0];return n}},{key:"getKeyword",value:function(e){var t=this.bnfLang.getRuleByName(e.fn),n=this.findFirstKeyword(t);return n}},{key:"lookupFunctionKeywordHelp",value:function(e){var t=this.getKeyword(e),n=this.expandHelpLookupPathsToUsingKeywords(e);if(n&&n.length>0)for(var i in n){var r=this.findFunctionHelpEntry(n[i].fn);if(r){var o={doc:this.getFunctionDoc(n[i].fn),title:r.title||t,summary:r.summary,paramSummary:"",paramName:"",syntax:r.syntax,highlightedSyntax:r.syntax};return o}}}},{key:"lookupFunctionParamHelp",value:function(e){var t=this.expandHelpLookupPathsToUsingKeywords(e);if(t&&t.length>0)for(var n in t){var i=this.findFunctionHelpEntry(t[n].fn);if(i){var r=this.mapParamName(t[n].fn,t[n].param),o=this.getParamNode(i,r);if(o)var a={doc:this.getFunctionDoc(t[n].fn),title:i.title||t[n].fn,summary:i.summary,paramName:o.name,paramSummary:o.summary,syntax:i.syntax,highlightedSyntax:this.highlightSyntax(i.syntax,o.name)};else var a={doc:this.getFunctionDoc(t[n].fn),title:i.title||t[n].fn,summary:i.summary,paramSummary:"",paramName:r,syntax:i.syntax,highlightedSyntax:this.highlightSyntax(i.syntax,r)};return a}}}},{key:"getHelpFromTokenTooltip",value:function(e){return e&&(this.lookupHelp(e)||this.lookupFunctionKeywordHelp(e))}},{key:"getParameterHelpFromToken",value:function(e){if(e.metaInfo&&e.metaInfo.isKeyword){var t={fn:e.metaInfo.rulesTrail[0],param:e.text.toUpperCase()};return this.lookupHelp(t)||this.lookupFunctionKeywordHelp(t)}var t=this.getFnAndParam(e);return t?this.lookupHelp(t)||this.lookupFunctionParamHelp(t):void 0}},{key:"getHelpFromTokenText",value:function(e){var t={name:"",summary:""};if(e){var n=e.replace(/[\(\)\s]+/,"").toUpperCase(),i=this.findFunctionHelpEntry(n);i&&(t.syntax=i.syntax,t.summary=i.summary,t.name=i.functionName)}return t}},{key:"loadHelpBundle",value:function(e){var t=this;if(e){if(-1===this.helpConfig.languages.indexOf(e)){var i=e.split("-")[0],r=this.helpConfig.languages.filter(function(e){return 0===e.indexOf(i+"-")});e=r.length>0?r[0]:"en-US"}}else e="en-US";try{n(61)("./help-"+e+".json")(function(e){t.setHelpData(JSON.parse(e))})}catch(e){n(12)(function(e){t.setHelpData(JSON.parse(e))})}}}]),e}();t.Help=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){var i;return e.isMultiLine?e.endLineNbr===n?e.pos:t.length:e.pos}function o(e,t){for(var n=t,i=0;i>=0;){i=n.lastIndexOf("/"),n=n.substring(0,i);for(var r in e){var o=e[r];if(0===o.indexOf(n))return o}}return}function a(e){var t;for(var n in e)if(e[n].advanceList.bnf instanceof d.Text){t=e[n];break}return t||(t=e[0]),t}function s(e){for(var t=0,n=0;n<e.length;n++)e[t].length<e[n].length&&(t=n);return e[t]}function l(e,t){var n,i=e.filterOutContext();if(e.lastToken.specialFinalContext)n=e.lastToken.specialFinalContext;else if(1===i.length)n=i[0],t=i[0];else if(t)n=o(i,t);else{var r=s(i);n=i.filter(function(e){return 0===r.indexOf(e)}).length===i.length?r:"unknown"}return n||(n="error"),n}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(18),d=n(3),f=n(5),p=n(8),h=n(2),v=function(){function e(t,n){i(this,e),this.bnf=c.loadBnfFromText(t,n),this.modeName=n;var r=new d.Rule;r.name="root",this.startAdvanceList=new p.PossibleAdvanceList(r),this.bnf.tree.addAdvancements(this.startAdvanceList,void 0,"root",0)}return u(e,[{key:"getRuleByName",value:function(e){return this.bnf.namedRules[e]}},{key:"_markAsError",value:function(e,t,n,i){if(";"===e.text)e.metaInfo={advanceList:t},e.advanceList=t;else if(n){var r=h.uniqEs6(this.getPossibleAdvancesAfterToken(i).map(function(e){return e.suggestedText||e.tokenId})).join(", ");e.metaInfo={isError:!0,expectedTokens:r,unexpectedToken:e.text,errorMessage:"Unexpected token:"+e.text+". Expected any of the following: "+r,expected:this.getPossibleAdvancesAfterToken(i)}}else e.metaInfo={isAfterError:!0}}},{key:"getPossibleAdvancesAfterToken",value:function(e){var t=[];if(e.advanceList){var n=(e.competition||[e.advanceList]).map(function(e){return e.getAllAdvances().map(function(e){return e})});for(var i in n)for(var r in n[i]){var o=n[i][r];t.push(o)}}return t}},{key:"getTokenIdentifierSuggestionEntry",value:function(e){if(e.isTemplate)return;if(e.metaInfo&&e.metaInfo.rulesTrail){if("FieldName"===e.metaInfo.rulesTrail[0]||"FieldRef"===e.metaInfo.rulesTrail[0]||"FieldRefAlias"===e.metaInfo.rulesTrail[0]||"ExpressionFieldRef"===e.metaInfo.rulesTrail[0])return"["===e.text.charAt(0)?{text:h.unquote(e.text),type:"field",foundQuoted:!0}:'"'===e.text.charAt(0)?{text:h.unquote(e.text),type:"field",foundDoubleQuoted:!0}:{text:e.text,type:"field",foundNotQuoted:!0};if("TableName"===e.metaInfo.rulesTrail[0])return{text:e.text,type:"table"};if("VariableName"===e.metaInfo.rulesTrail[0])return{text:"$("+e.text+")",type:"variable"}}}},{key:"analyzeNextTokenAfter",value:function(e){var t=[],n=e.interesting().next().interesting();if(!e.advanceList&&!e.isEof)return void this._markAsError(n,this.startAdvanceList,!1);if(!e.isEof){var i,r,o=0,s=new p.Advance({parent:void 0,lastToken:e.interesting(),meaning:e.meaning||"",advanceList:e.advanceList,contextNames:e.advanceList.getContextNamesArray(),depth:0,significantLinebreaks:!1}),l=[],u=0,c=1;t.push(s);do{if(o++,r=t.shift(),c<r.depth){if(l[c]&&1===l[c].length)break;c=r.depth}-1===r.lastToken.competition.indexOf(r.advanceList)&&r.lastToken.competition.push(r.advanceList);var d;for(var f in l[r.depth]){var h=l[r.depth][f];if(h.advanceList===r.advanceList){d=!0,"<*>"===h.parent.advanceList.bnf.text&&(l[r.depth][f]=r);break}}d||(l[r.depth]=l[r.depth]||[],l[r.depth].push(r)),i=r.lastToken.next().interesting();var v=i.startPos.line>r.lastToken.endPos.line,m=0===r.meaning.indexOf("root/control"),g=v&&m;if(g)r.importantNewLine=!0;else if(!i.isEof){var b=r.advanceList.advance(i,r);if(b.sort(function(e,t){return e.tokenType>t.tokenType}),b&&b.length>0)for(var y in b){var x=b[y];t.push(x)}else if(0===t.length){t.push(r);break}}}while(t.length>0&&u++<500);var w=l[l.length-1],S=a(w);return this.populateTokenFindings(S,e),n.metaInfo||this._markAsError(n,this.startAdvanceList,!0,e),S.lastToken}}},{key:"populateTokenFindings",value:function(e,t){var n,i=t.interesting().startLineNbr>=0?t.interesting().startLineNbr:t.interesting().tokenStream.lineNbr;if(e.importantNewLine){var r=e.advanceList.skipNewLine();r&&(e.overridenAdvanceList=r)}var o=e;do{o.lastToken.isError=o.isError,o.lastToken.tokenType=o.tokenType,o.lastToken.advanceList=e.overridenAdvanceList||o.advanceList,o.lastToken.affectedLineNbr=i;var a=l(o,n);o.lastToken.metaInfo={rulesTrail:a.split("/").reverse(),isFunction:!!o.advanceList.bnf.tags.FuncGroup,isKeyword:!!o.advanceList.bnf.tags.helpid,isOperator:!!(o.advanceList.bnf instanceof d.Operator),isText:!!(o.advanceList.bnf instanceof d.Text),isError:o.isError,tokenType:o.tokenType,advanceList:o.overridenAdvanceList||o.advanceList,finalContext:a},o=o.parent}while(o&&!o.lastToken.metaInfo);return e}},{key:"createStartToken",value:function(e){var t=new f.QToken([],"",new f.QTokenLineStream("",-1,e),0);return t.endPos=t.startPos={line:-1,ch:0},t.advanceList=this.startAdvanceList,t.isSof=!0,t.meta={advanceList:this.startAdvanceList},t}},{key:"getNextToken_Line",value:function(t,n,i,o,a,s,l,u){if(t)!t.tokenStream&&a>t.endPos.line&&t.setTokenStream(new f.QTokenLineStream("",a-1,u));else{var c=new f.QTokenLineStream(i,a,u);t=c.startToken(),t.advanceList=this.startAdvanceList,t.meta={advanceList:this.startAdvanceList}}var d;t.isMultiLine&&t.endLineNbr>=a&&0===o?d=t:(d=t.next(),d.isMultiLine&&d.endLineNbr!==a||d.tokenStream.string===i||(n&&n.clearNextInteresting(),t.overrideNextLineStream(new f.QTokenLineStream(i,a,u)),d=t.next())),t.isInteresting&&(n=t),d.isInteresting&&!d.metaInfo&&this.analyzeNextTokenAfter(n);var h=e.getColorForToken(d),v=this.getTokenIdentifierSuggestionEntry(t);s=v?new p.LinkedListEntry(v,s):s;var m=n;return t=d,t.isInteresting&&(n=t),{lastToken:t,lastInteresting:n,tokenForSuggestions:m,newStreamPos:r(d,i,a),tokenColor:h,identifierList:s}}},{key:"getFakeStartToken",value:function(){var e=new f.QTokenLineStream("",0,function(){return}),t=e.startToken();return t.advanceList=this.startAdvanceList,t.competition=[this.startAdvanceList],t.metaInfo={advanceList:this.startAdvanceList,competition:[this.startAdvanceList]},t}},{key:"parseIntoTokens",value:function(e){var t=e.split("\n"),n=new f.QTokenLineStream(t[0],0,function(e){return t[e]},void 0),i=n.startToken(),r=i;i.advanceList=this.startAdvanceList,i.metaInfo={advanceList:this.startAdvanceList};for(var o=[];!i.isEof;)i.isInteresting&&!i.metaInfo&&this.analyzeNextTokenAfter(r),i.isInteresting&&(r=i),i=i.next(),i.isEof||o.push(i);return o}},{key:"parseTextIntoColorStructure",value:function(t){var n=this.parseIntoTokens(t),i=[];for(var r in n){var o=n[r];i.push([o.text,e.getColorForToken(o)])}return i}},{key:"getIdentifiers",value:function(e){var t="string"==typeof e?this.parseIntoTokens(e):e,n=[];for(var i in t){var r=t[i],o=this.getTokenIdentifierSuggestionEntry(r);o&&n.push(o)}return n}}],[{key:"getColorForToken",value:function(e){return e.isWhitespace?"":e.isComment||e.metaInfo&&"root/RemStatement/RawText"===e.metaInfo.finalContext?"comment":!e.metaInfo||e.metaInfo.isAfterError?"posterror":e.metaInfo&&e.metaInfo.isError?"error":e.isOperator?"operator":e.isLiteralString?"string":e.isLiteralNumber?"number":e.isTemplate?"template":e.metaInfo.isFunction?"function":e.metaInfo.isKeyword?"keyword":"FieldName"===e.metaInfo.rulesTrail[0]?"field":"FieldRef"===e.metaInfo.rulesTrail[0]?"field":"FieldRefAlias"===e.metaInfo.rulesTrail[0]?"field":"StoreFieldRef"===e.metaInfo.rulesTrail[0]?"field":"StoreFieldRefAlias"===e.metaInfo.rulesTrail[0]?"field":"ExpressionFieldRef"===e.metaInfo.rulesTrail[0]?"field":"TableName"===e.metaInfo.rulesTrail[0]?"table":"VariableName"===e.metaInfo.rulesTrail[0]?"variable":"FieldName"===e.metaInfo.rulesTrail[0]?"field":"QualifierFields"===e.metaInfo.rulesTrail[0]?"field":"ExpressionConstant"===e.metaInfo.rulesTrail[0]?"string":"normalText"}}]),e}();t.BnfLang=v},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return"script"===t?(new c).loadScriptBnf(e):(new c).loadExpressionBnf(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.loadBnfFromText=r;var a=n(20),s=n(3),l=n(2),u=function(){function e(t,n){i(this,e),this.t=t,this.allCombinators=[],this.rulesWithExceptions=[],this.ruleMap=n,this.allRuleTags={},this.currentRuleName=void 0}return o(e,[{key:"parseTagList",value:function(){for(var e={};this.t.eat("?");){var t=this.t.eat(l.QUESTIONMARK),n=t.indexOf("=");if(n>0){var i=t.substring(0,n),r=t.substring(n+1);e[i]=r,this.allRuleTags[i]=r}else e[t]=!0,this.allRuleTags[t]=!0;this.t.eat("?")}return e}},{key:"parseSequence",value:function(e,t){var n=new s.MandatorySequence;return t&&(this.currentNamedRule=n),this.parseSequenceUntilEndToken(n,e),n.items.length>1?(this.allCombinators.push(n),n):n.items[0]}},{key:"parseSingle",value:function(){var e=this.parseTagList(),t=this.parseOr()||this.parseMandatorySequence()||this.parseOptionalSequence()||this.parseRepeat()||this.parseLiteralString()||this.parseRuleRef()||this.parseUnknown();return t.tags=e,this.t.eat("-")&&(t.except=this.parseSingle(),this.rulesWithExceptions.push(t)),t}},{key:"parseRuleRef",value:function(){var e=this.t.eat(l.STRING_OR_DOT);if(e){var t=new s.RuleRef({ref:e});return t}}},{key:"parseLiteralString",value:function(){if(this.t.eat("'")){var e=this.t.eat(l.UNTIL_SINGLEQUOTE);return this.t.eat("'"),s.OPERATOR_MAP[e]?s.OPERATOR_MAP[e]:new s.Text({text:e})}}},{key:"parseOr",value:function(){if(this.t.eat("(")){var e=new s.Or;do{e.addItem(this.parseSequence(l.PIPE_OR_ENDBRACKET))}while(this.t.eat("|"));return this.t.eat(")"),this.allCombinators.push(e),e}}},{key:"parseSequenceUntilEndToken",value:function(e,t){for(var n=0;this.t.not(t);){n++;var i=this.parseSingle();if("Expression"!==i.ref||i.tags.Name||(this.currentNamedRule.expressionParamCounter++,this.currentNamedRule.expressionParamCounter>1&&(i.tags.Name="Expression"+this.currentNamedRule.expressionParamCounter)),"TableName"!==i.ref||i.tags.Name||(this.currentNamedRule.tableNameParamCounter++,this.currentNamedRule.tableNameParamCounter>1&&(i.tags.Name="TableName"+this.currentNamedRule.tableNameParamCounter)),"FieldName"!==i.ref||i.tags.Name||(this.currentNamedRule.fieldNameParamCounter++,this.currentNamedRule.fieldNameParamCounter>1&&(i.tags.Name="FieldName"+this.currentNamedRule.fieldNameParamCounter)),e.addItem(i),!i||n>100)throw this.t.debug("Don't know where to go from here"),"error"}}},{key:"parseMandatorySequence",value:function(){if(this.t.eat("<")){var e=new s.MandatorySequence;return this.parseSequenceUntilEndToken(e,">"),this.t.eat(">"),this.allCombinators.push(e),e}}},{key:"parseOptionalSequence",value:function(){if(this.t.eat("[")){var e=new s.OptionalSequence;return this.parseSequenceUntilEndToken(e,"]"),this.t.eat("]"),this.allCombinators.push(e),e}}},{key:"parseRepeat",value:function(){if(this.t.eat("{")){var e=new s.Repeat;return this.parseSequenceUntilEndToken(e,"}"),this.t.eat("}"),this.allCombinators.push(e),e}}},{key:"parseUnknown",value:function(){var e=this.t.eat(l.UNTIL_SEMICOLON);return console.log(e),new s.Unknown({text:e})}},{key:"evaluteCrossReferences",value:function(){for(var e in this.ruleMap)if(this.ruleMap[e]instanceof s.RuleRef){var t=this.ruleMap[e],n=this.ruleMap[e].tags.Name;t&&n&&(this.ruleMap[e].contextName=n+"_Param"),this.ruleMap[e].target=this.ruleMap[t.ref]}for(var i in this.allCombinators){var r=this.allCombinators[i];for(var o in r.items)if(r.items[o]instanceof s.RuleRef){var t=r.items[o],a=this.ruleMap[t.ref];r.items[o].target=a;var n=r.items[o].tags.Name;t&&n&&(r.items[o].contextName=n+"_Param"),a||console.log("Undefined rule",t.ref)}}for(var l in this.rulesWithExceptions){var u=this.rulesWithExceptions[l];u.except=this.ruleMap[u.except.ref]}}},{key:"parseNamedRules",value:function(){for(var e=0;!this.t.eol()&&5e3>e;){var t=this.t.eat(l.STRING_OR_DOT);if(this.allRuleTags={},this.parseTagList(),this.t.eat("="),this.currentContextName=t,this.ruleMap[t]=this.parseSequence(l.SEMICOLON,!0),!(this.ruleMap[t]instanceof s.Operator)){if(this.ruleMap[t].name=t,l.endsWith(t,"_Func")&&(this.ruleMap[t].tags.functionName=t.replace(/_Func/,""),this.ruleMap[t].tags.functionParams=[]),t)var n=["Statement","Control","ControlBegin","ControlMiddle","ControlEnd"];for(var i in n){var r=n[i];this.allRuleTags[r]&&(this.ruleMap[t].tags[r]=this.allRuleTags[r])}}this.ruleMap[t].tags=this.ruleMap[t].tags||{},this.ruleMap[t].contextName=this.ruleMap[t].name,this.t.eat(l.SEMICOLON),this.t.eatSpace(),e++}this.evaluteCrossReferences()}}]),e}();t.BnfRuleParser=u;var c=function(){function e(){i(this,e)}return o(e,[{key:"removeCommentsAndLineBreaks",value:function(e){return e=l.replaceAll(e,"\\(\\*.*?\\*\\)",""),l.replaceAll(e,"\\n"," ")}},{key:"parseBnf",value:function(e){try{var t={};for(var n in s.ATOMIC_RULES)t[s.ATOMIC_RULES[n].name]=s.ATOMIC_RULES[n];var i=new a.StringEater(this.removeCommentsAndLineBreaks(e)),r=new u(i,t);r.parseNamedRules()}catch(e){console.log(e)}return t}},{key:"extractStatementRulesArray",value:function(e){var t=[];for(var n in e){var i=e[n];i.tags&&i.tags.Statement&&(t.push(i),window.statementRules=window.statementRules||[],window.statementRules.push(i))}return t}},{key:"extractControlRulesArray",value:function(e){var t=[];for(var n in e){var i=e[n];i.tags&&(i.tags.Control||i.tags.ControlBegin||i.tags.ControlMiddle||i.tags.ControlEnd)&&(t.push(i),window.controlRules=window.controlRules||[],window.controlRules.push(i))}return t}},{key:"loadScriptBnf",value:function(e){var t=this.parseBnf(e),n=this.extractStatementRulesArray(t),i=this.extractControlRulesArray(t),r=new s.Or;r.name="statementOr",r.items=n;var o=new s.Sequence;o.addItem(r),o.addItem(t.SYNTAX_SEMICOLON);var a=new s.Or;a.name="controlOr",a.items=i;var l=new s.Or;l.name="controlEnder",l.addItem(t.SYNTAX_SEMICOLON),l.addItem(s.SPECIAL_RULES.NEWLINE);var u=new s.Sequence;u.contextName="control",u.addItem(a),u.addItem(l);var c=new s.Text({name:"TOP_LEVEL_EXPANSION",text:"<$>"}),d=new s.Or;d.name="TopLevelOr",d.items.push(o),d.items.push(u),d.items.push(c);var f=new s.Repeat;return f.name="StatementRepeat",f.addItem(d),{tree:f,namedRules:t,statementRules:n,controlRules:i}}},{key:"loadExpressionBnf",value:function(e){var t=this.parseBnf(e);return{tree:t.Expression,namedRules:t}}}]),e}();t.BnfTreeBuilder=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return'"'===t?'"'+e.replace(/\]/g,'""')+'"':"["+e.replace(/\]/g,"]]")+"]"}function a(e,t){function n(e){for(var t=e.concat().sort(),n=t[0],i=t[t.length-1],r=n.length,o=0;r>o&&n.charAt(o)===i.charAt(o);)o++;return n.substring(0,o)}return e?0===t.indexOf(e)?t.substring(e.length):t.substring(n([t,e]).length):t}function s(e,t){for(var n in t)if(m.endsWith(e,"/"+t[n])||e.indexOf("/"+t[n]+"/")>=0)return t[n];return}function l(e){var t=[];if(e.advanceList){var n=e.competition&&e.competition.length>0?e.competition:[e.advanceList],i=n.map(function(e){return e.getAllAdvances().map(function(e){return e})});for(var r in i)for(var o in i[r]){var a=i[r][o];t.push(a)}}return t}function u(e){var t=!e||e.isEof||e.isInteresting&&!e.metaInfo||e.metaInfo.finalContext&&(0===e.metaInfo.finalContext.indexOf("root/LoadStatement/LoadSource")||"root/SqlStatement"===e.metaInfo.finalContext||"root/SelectStatement"===e.metaInfo.finalContext);return t}function c(e){return e.metaInfo&&e.metaInfo.isFunction}function d(e,t){return e.line===t.endPos.line&&e.ch===t.endPos.ch}function f(e,t){return e.line>t.endPos.line||e.line===t.endPos.line&&e.ch>t.endPos.ch}function p(e){var t=(e.bnf.suggestedText||e.bnf.text).toUpperCase(),n=Object.keys(e.contextNames)[0];if(n){var i=n.split("/"),r=i[i.length-1];return{fn:r,param:t}}}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v=n(3),m=n(2),g=n(4),b=i(g),y=["Expression","FieldName","FieldNumber","AliasFieldName","ExpressionFieldRef","ExpressionFieldRefFixFormat","ExpressionFunctionCall","FieldRefAlias","ExpressionConstant","StoreFieldRef"],x=["TableName","ResidentTableLabel"],w=["Expression","VariableName","TableName","FieldName","AnyString","AnyStringOrAnySymbol","AnyStringOrNumber","FieldNumber","AliasFieldName","FileName","ExpressionFieldRef","ExpressionFieldRefFixFormat","DefinitionName","ExpressionFunctionCall","FieldRefAlias","ExpressionConstant"],S=["VariableName","TableName","FieldName","AnyString","AnyStringOrAnySymbol","AnyStringOrNumber","FieldNumber","AliasFieldName","FileName","ExpressionFieldRef","ExpressionFieldRefFixFormat","DefinitionName","FieldRefAlias","ExpressionConstant","CompositeFileNamePart","StoreFieldRef"],C=function(){function e(t){r(this,e),this.userQuoted="["===t[0]||'"'===t[0],this.userQuoteToken=this.userQuoted?t[0]:void 0,this.startWithoutQuotes=m.unquote(t).toLowerCase(),this.isStartOfVariable=0===this.startWithoutQuotes.indexOf("$("),this.list=[],this.condensesFound={},this.condenses=[],this.found={},this.result=[],this.typeInfo={keyword:{translation:"Common.Keyword",allowQuote:!1},variable:{translation:"Common.Variable",allowQuote:!1},field:{translation:"Common.Field",allowQuote:!0},table:{translation:"Common.Table",allowQuote:!0},function:{translation:"Common.Function",allowQuote:!1},template:{translation:"Codearea.ScriptTemplate",allowQuote:!1},operator:{translation:"Codearea.ScriptOperator",allowQuote:!1}}}return h(e,[{key:"maybeAddCondensedType",value:function(e){this.condensesFound[e]||(this.condensesFound[e]=!0,this.condenses.push({text:e}))}},{key:"maybeAdd",value:function(e){"<NEWLINE>"===e.text,"string"==typeof e&&(e={text:e});var t=0===e.text.toLowerCase().indexOf(this.startWithoutQuotes),n=this.typeInfo[e.type]&&this.typeInfo[e.type].allowQuote,i=!this.userQuoted||n,r="variable"===e.type;if(t&&i&&(!r||r&&this.isStartOfVariable)){var a=this.found[e.text];a?(a.foundNotQuoted=a.foundNotQuoted||e.foundNotQuoted,a.foundQuoted=a.foundQuoted||e.foundQuoted,a.foundDoubleQuoted=a.foundDoubleQuoted||e.foundDoubleQuoted,a.putOnTopOfTheList=a.putOnTopOfTheList||e.putOnTopOfTheList):(a={text:e.text,types:[],value:"",putOnTopOfTheList:e.putOnTopOfTheList,foundQuoted:e.foundQuoted,foundDoubleQuoted:e.foundDoubleQuoted,foundNotQuoted:e.foundNotQuoted,replaceStartToken:e.replaceStartToken,replaceEndToken:e.replaceEndToken,tooltip:e.tooltip},this.found[e.text]=a,this.result.push(a)),"field"===e.type?this.userQuoted?a.value=o(e.text,this.userQuoteToken):a.foundNotQuoted?a.value=m.escapeFieldIfNeeded(e.text):a.foundQuoted?a.value=o(e.text,"["):a.foundDoubleQuoted?a.value=o(e.text,'"'):a.value=m.escapeFieldIfNeeded(e.text):("function"===e.type,a.value=e.text),this.typeInfo[e.type]&&!a.types.filter(function(t){return t.id===e.type}).length>0&&a.types.push({id:e.type,key:this.typeInfo[e.type].translation})}}},{key:"getFinalList",value:function(){m.sortSlightlyMoreNaturallyArray(this.result,"text");var e=this.result.filter(function(e){return e.putOnTopOfTheList}),t=this.result.filter(function(e){return"operator"===e.types[0].id&&!e.putOnTopOfTheList}),n=this.result.filter(function(e){return"template"===e.types[0].id&&!e.putOnTopOfTheList}),i=this.result.filter(function(e){return"keyword"===e.types[0].id&&!e.putOnTopOfTheList}),r=this.result.filter(function(e){return"function"===e.types[0].id&&!e.putOnTopOfTheList}),o=this.result.filter(function(e){return"variable"===e.types[0].id&&!e.putOnTopOfTheList}),a=this.result.filter(function(e){return"field"===e.types[0].id&&!e.putOnTopOfTheList}),s=this.result.filter(function(e){return"table"===e.types[0].id&&!e.putOnTopOfTheList});return[].concat(e).concat(n).concat(s).concat(a).concat(o).concat(t).concat(i).concat(r)}},{key:"getCondenses",value:function(){return this.condenses}}]),e}(),E=function(){function e(t,n,i){r(this,e),this.bnfLang=t,this.bnfTemplateBuilder=n,this.bnfHelp=i}return h(e,[{key:"addIdentifiers",value:function(e,t,n,i,r,o,a,s,l){function c(e){e&&(a&&"field"===e.type?i.maybeAdd(b["default"].extend({},e,d)):l&&"table"===e.type?i.maybeAdd(b["default"].extend({},e,d)):s&&"variable"===e.type&&i.maybeAdd(b["default"].extend({},e,d)))}for(var d={replaceStartToken:r,replaceEndToken:o},f=t;f;)c(f.item),f=f.parent;if(n)for(var p in n)c(n[p]);if(e.metaInfo&&e.metaInfo.finalContext&&0===e.metaInfo.finalContext.indexOf("root/LoadStatement"))for(var h=0,v=e.forward(3,function(e){return e.isInteresting});!u(v)&&!h++<1e3;)v.metaInfo&&v.metaInfo.rulesTrail&&("ExpressionFieldRef"===v.metaInfo.rulesTrail[0]||"FieldRefAlias"===v.metaInfo.rulesTrail[0])&&c(this.bnfLang.getTokenIdentifierSuggestionEntry(v)),v=v.next().interesting()}},{key:"addBnfStuff",value:function(e,t,n,i,r,o){var u,c,d,f=l(t);for(var h in f){var m=f[h],g=m.getMeaningsArray();for(var b in g){var C=g[b],E=g[b].getContextNamesArrayFlat();for(var q in E){var _=E[q],T=a(t.finalContext,_),k=s(T,S);y.indexOf(k)>=0&&(u=!0),x.indexOf(k)>=0&&-1===T.indexOf("SelectPrefixOrLabel/TableLabel")&&-1===T.indexOf("MisplacedTableLabel/TableLabel")&&-1===T.indexOf("LoadPrefixOrLabel/TableLabel")&&-1===T.indexOf("DD_DirectQueryStatement/TableLabel")&&(d=!0),w.indexOf(k)>=0&&(c=!0),k?e.maybeAddCondensedType(k):"<IDENTIFIER>"===m.tokenId||"<$>"===m.tokenId||"<LITERAL_STRING>"==m.tokenId||"<LITERAL_FIELD>"===m.tokenId||"<LITERAL_NUMBER>"===m.tokenId||"<NEWLINE>"===m.tokenId||(C.bnf.tags&&C.bnf.tags.FuncGroup?e.maybeAdd({text:(m.suggestedText||m.tokenId)+"()",type:"function",replaceStartToken:r,replaceEndToken:o,tooltip:p(C)}):C.bnf instanceof v.Operator?e.maybeAdd({text:m.suggestedText||m.tokenId,type:"operator",replaceStartToken:r,replaceEndToken:o}):(!C||!C.bnf||"MisplacedTableLabel"!==C.bnf.name&&"TableLabel"!==C.bnf.name)&&e.maybeAdd({text:m.suggestedText||m.tokenId,type:"keyword",replaceStartToken:r,replaceEndToken:o,tooltip:p(C)}))}}}this.addIdentifiers(t,n,i,e,r,o,u,c,d)}},{key:"buildHintData",value:function(e,t,n,i){var r,o=t&&t.backwards(1,function(e){return e.isInteresting}),a=o,s=!1,l=!1,u=!1,p=!1,h=!1;t?t.isInteresting&&t.metaInfo?t.isTemplate?(r=a,s=!1,h=!1):d(e,t)?t.metaInfo.isKeyword?(u=!0,r=t,s=!1,h=!0):t.isOperator?"("===t.text&&c(a)&&")"===t.nextNonTemplateInteresting().text?(p=!0,r=a,s=!1,h=!0):(r=t,l=!1,s=!1,h=!1):(r=a,s=!0,h=!0):f(e,t)?(r=t,s=!1,h=!1):(r=a,s=!0,h=!0):t.isWhitespace||t.isComment?o&&o.advanceList?(r=o,s=!1,h=!1):(t={advanceList:this.bnfLang.startAdvanceList,text:"",metaInfo:{advanceList:this.bnfLang.startAdvanceList},endPos:t.endPos,startPos:t.startPos},r=t,s=!1,h=!1):t.isSof&&(r=t,s=!1,h=!1):(t=this.bnfLang.getFakeStartToken(),r=t,s=!1);var v;if(r){if(u){var m=t,g=t.next(),b=new C("");if("NEWLINE"!==r.metaInfo.advanceList.bnf.name){var y=(r.metaInfo.advanceList.bnf.suggestedText||r.metaInfo.advanceList.bnf.text)+(r.metaInfo.isFunction?"()":"");b.maybeAdd({text:y,type:r.metaInfo.isFunction?"function":"keyword",replaceStartToken:m,replaceEndToken:g,putOnTopOfTheList:!0,tooltip:{fn:r.metaInfo.rulesTrail[0],param:r.metaInfo.advanceList.bnf.text.toUpperCase()}}),this.bnfTemplateBuilder.build(r).forEach(function(e){y!==e&&b.maybeAdd({text:e,type:"template",replaceStartToken:m,replaceEndToken:g})})}}else if(p){var m=a,g=t.nextNonTemplateInteresting().next(),b=new C("");this.bnfTemplateBuilder.build(r).forEach(function(e){b.maybeAdd({text:e,type:"template",replaceStartToken:m,replaceEndToken:g})}),this.addBnfStuff(b,r,n,i,t.next(),t.next())}else{var x;x=t.startPos.line>e.line?t.text:t.text.substring(0,e.ch-t.startPos.ch);var b=new C(s?x:"");if(s){var w=h?t:t.next();this.addBnfStuff(b,r,n,i,w,void 0)}else this.addBnfStuff(b,r,n,i,void 0,void 0)}var S=t.endPos;v={list:b.getFinalList(),condenses:b.getCondenses(),from:e,to:e,cursor:e,noClueMode:!0,tokenEndPos:S,replaceCurrentToken:h,selectFirstItem:!0}}else v={list:[],condenses:[]};return v}}]),e}();t.HintBuilder=E},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){n(this,e),this.pos=this.start=0,this.string=t,this.tabSize=8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0}return i(e,[{key:"_match",value:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return r(o)==r(e)?(!1!==t&&(this.pos+=e.length),!0):void 0}},{key:"eatSpace",value:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}},{key:"eat",value:function(e){this.eatSpace();var t=this.pos;if(this._match(e,!0)){this.start=t;var n=this.string.slice(this.start,this.pos);return n}}},{key:"not",value:function(e){return this.eatSpace(),!this._match(e,!1)}},{key:"eol",value:function(){return this.pos>=this.string.length}}]),e}();t.StringEater=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return""===e||"("===e.charAt(e.length-1)?e+t:","===t||"("===t||")"===t?e+t:e+" "+t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),s=n(5),l=function(){function e(t,n){i(this,e),this.bnfLang=t,this.help=n}return o(e,[{key:"_buildParamPrototype",value:function(e,t){var n,i=t.arrayRepeaterFollows?" List":"";return n=e.tags.Name?""+this.help.mapParamName(t.functionName,e.tags.Name):e.name||e.ref?""+this.help.ruleToParameterName(e):"Param",-1===n.indexOf("\n")?s.TEMPLATE_START_CHAR+n+i+s.TEMPLATE_END_CHAR:n}},{key:"_isSimilar",value:function(e,t){if(e&&!t||!e&&t)return!1;if(e.items&&t.items){for(var n in e.items){var i=this._isSimilar(e.items[n],t.items[n]);if(!i)return!1}return!0}return!!(e.name&&e.name===t.name||e.ref&&e.ref===t.ref)}},{key:"_isArrayRepeater",value:function(e,t){return t instanceof a.Repeat&&","===t.items[0].text}},{key:"_visitBnfNode",value:function(e,t,n,i,o){var s=this;if(e===t.firstTokenRule&&(n=!0),this.help.isAlwaysDisregarded(e))o(n,i);else if(this.help.isTypicalParameterRule(e)){var l=this._buildParamPrototype(e,t);n&&(i=r(i,l)),o(n,i)}else if(e instanceof a.RuleRef)this._visitBnfNode(e.target,t,n,i,o);else if(e instanceof a.Text||e instanceof a.Operator){if(n){var u=e.suggestedText||e.text;i=r(i,u)}o(n,i)}else if(e instanceof a.Repeat)","===e.items[0].text?o(n,i):this._visitBnfNode(e.items[0],t,n,i,o);else if(e instanceof a.MandatorySequence||e instanceof a.OptionalSequence){e instanceof a.OptionalSequence&&o(n,i);var c=function n(i){return function(r,a){i<e.items.length?(t.arrayRepeaterFollows=s._isArrayRepeater(e.items[i],e.items[i+1]),s._visitBnfNode(e.items[i],t,r,a,n(i+1))):o(r,a)}};c(0)(n,i)}else if(e instanceof a.Or)for(var d in e.items)this._visitBnfNode(e.items[d],t,n,i,o);else o(n,i)}},{key:"_buildFunctionPrototypes",value:function(e,t,n){var i=[],r={functionName:e.name,paramNames:t,counter:0,firstTokenRule:n};return this._visitBnfNode(e,r,!1,"",function(e,t){i.push(t)}),i}},{key:"build",value:function(e){if(e.metaInfo.isKeyword){var t=e.text,n=this.bnfLang.getRuleByName(e.metaInfo.rulesTrail[0]),i=n.tags.functionName?this.help.getParamList(t):[],r=this._buildFunctionPrototypes(n,i,e.metaInfo.advanceList.bnf);return r.map(function(e){return e+(n.tags.Statement?";":"")}).filter(function(t){return t.length>e.text.length})}return[]}}]),e}();t.TemplateBuilder=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t=e.getTokenAt(e.getCursor(),!0),n=t.state.lastToken;return!(!n||!(n.possibleTokenTypes.indexOf("<IDENTIFIER>")>=0||0==n.text.indexOf("$(")))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(n(2),n(5));n(10);var s=50,l=function(){function e(t,n,r,o,a){function s(){return 8}var l=this;i(this,e),this.help=t.doc.mode.bnfHelp,this.dialogHandle=null,this.dialogOptions={},this.state=null,this.options=n,this.cm=t,this.currentOptions=null,this.once=null,this.closingOnBlur=null,this.$scope=r,this.$timeout=o,this.codeareaPopupper=a,this.bound={cursorActivity:this.cursorActivity.bind(this),pickFinish:this.pickFinish.bind(this),pickContinue:this.pickContinue.bind(this),close:this.close.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),choose:this.choose.bind(this),showHint:this.showHint.bind(this)};var u=this;this.ourMap={Up:function(){u.changeActive(u.state.selectedHint-1),l.$scope.$apply()},Down:function(){u.changeActive(u.state.selectedHint+1),l.$scope.$apply()},PageUp:function(){u.changeActive(u.state.selectedHint-s()),l.$scope.$apply()},PageDown:function(){u.changeActive(u.state.selectedHint+s()),l.$scope.$apply()},Enter:this.bound.pickFinish,Tab:this.bound.pickContinue,Esc:this.bound.close}}return o(e,[{key:"_createNewAutocompleteState",value:function(e,t,n){var i=t.getHints(e),r=i.list;if(0===r.length)return;r.length>s&&(r=r.slice(0,s));var o=e.cursorCoords(!1!==t.alignWithWord?i.from:null),a=n&&n.hints[n.selectedHint],l=i.selectFirstItem?0:-1;if(a)for(var u=0;u<r.length;u++)r[u].text===a.text&&(l=u);return{condenses:i.condenses,from:i.from,to:i.to,cursor:i.cursor,hints:r,tokenEndPos:i.tokenEndPos,help:i.help,selectedHint:l,helpProvider:this.help,cursorPos:o}}},{key:"cursorActivity",value:function(){if(this.state){this.$timeout.cancel(this.once),this.once=null;var e=this.cm.getCursor();e.line!==this.startLine||this.cm.somethingSelected()?this.close():this.once=this.$timeout(this.bound.showHint,100)}}},{key:"choose",value:function(e){this.changeActive(e),this.pickFinish()}},{key:"placeCursor",value:function(e,t){var n=t.indexOf(a.TEMPLATE_START_CHAR);if(n>=0)return this.cm.setCursor({line:e.line,ch:e.ch+n}),!0;var i=t.indexOf("(");i>=0&&-1===t.indexOf("$(")&&this.cm.setCursor({line:e.line,ch:e.ch+i+1})}},{key:"paste",value:function(e){if(e){var t=e.replaceStartToken?e.replaceStartToken.startPos:this.state.from,n=e.replaceEndToken?e.replaceEndToken.startPos:this.state.to;return n.line>t.line&&(n={line:t.line,ch:this.cm.doc.getLine(t.line).length}),this.cm.replaceRange(e.value,t,n),this.placeCursor(t,e.value)}}},{key:"pickContinue",value:function(){var e=this.paste(this.state.hints[this.state.selectedHint]);e&&this.close(!0),this.$scope.$root.$$phase||this.$scope.$apply()}},{key:"pickFinish",value:function(){this.paste(this.state.hints[this.state.selectedHint]),this.close(!0),this.$scope.$root.$$phase||this.$scope.$apply()}},{key:"onBlur",value:function(){this.closingOnBlur=this.$timeout(this.bound.close,300)}},{key:"onFocus",value:function(){this.$timeout.cancel(this.closingOnBlur),this.closingOnBlur=null}},{key:"changeActive",value:function(e){this.state&&(e=Math.max(0,Math.min(e,this.state.hints.length-1)),this.state.selectedHint!==e&&(this.state.selectedHint=e))}},{key:"close",value:function(e){this.debugLocked||(this.$timeout.cancel(this.once),this.$timeout.cancel(this.startTimeout),this.dialogHandle&&(this.dialogHandle.destroy(),this.dialogHandle=null,this.cm.removeKeyMap(this.ourMap),this.cm.off("cursorActivity",this.bound.cursorActivity),this.cm.off("blur",this.bound.onBlur),this.cm.off("focus",this.bound.onFocus),this.cm.off("scroll",this.bound.close),this.state=null,this.$scope.$root.$$phase||this.$scope.$apply(),e&&this.cm.focus()))}},{key:"open",value:function(){this.dialogHandle=this.codeareaPopupper.popup("codearea-autocomplete-dropdown",this.dialogOptions),this.startLine=this.cm.getCursor().line,this.cm.addKeyMap(this.ourMap),this.cm.on("cursorActivity",this.bound.cursorActivity),this.cm.on("blur",this.bound.onBlur),this.cm.on("focus",this.bound.onFocus),this.cm.on("scroll",this.bound.close)}},{key:"showHint",value:function(){var e=this.state;return this.state=this._createNewAutocompleteState(this.cm,this.options,e),this.state?(this.state.hints[this.state.selectedHint]&&(this.state.selectedHintHelp=this.help.getHelpFromTokenTooltip(this.state.hints[this.state.selectedHint].tooltip)),this.state.choose=this.bound.choose,this.dialogOptions.state=this.state,void(e||this.open())):void(e&&this.close())}},{key:"manualStart",value:function(){this.state||(this.startTimeout&&this.$timeout.cancel(this.startTimeout),this.startTimeout=this.$timeout(this.bound.showHint,0))}},{key:"autoStart",value:function(){this.state||(this.startTimeout&&this.$timeout.cancel(this.startTimeout),r(this.cm)&&(this.startTimeout=this.$timeout(this.bound.showHint,250)))}}]),e}();t.AutocompleteViewManager=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){e.directive("qvCodeareaBnfAutocomplete",["$timeout","codeareaPopupper",function(e,t){function n(e,t){var n=e.substring(0,t.ch),i=e.substring(0,t.ch).match(/\s*/)[0],r=n===i;return r}return{restrict:"A",require:"qvCodearea",link:function(i,r,o,u){var c=[37,38,39,40,33,34,27,8,9,13,35,36,46,16,17,18],d=function(r){function o(e,t){if(!v.state&&9===t.keyCode){var i=e.getCursor(),r=e.doc.getLine(i.line);if(r.indexOf(s.TEMPLATE_START_CHAR)>=0&&!n(r,i)){if(t.shiftKey){var o=r.lastIndexOf(s.TEMPLATE_START_CHAR,i.ch-1);o>=0&&e.setCursor({line:i.line,ch:o})}else{var o=r.indexOf(s.TEMPLATE_START_CHAR,i.ch+1);o>=0&&e.setCursor({line:i.line,ch:o})}t.preventDefault()}}32===t.keyCode&&t.ctrlKey&&!t.shiftKey&&t.preventDefault()}function d(e,t){t.ctrlKey||-1!==a["default"].inArray(t.which,c)?32===t.which&&t.ctrlKey&&!t.shiftKey&&v.manualStart():v.autoStart()}function p(e,t){for(var n=t.from.line;n<=t.to.line;n++)if(e.doc.getLine(n).indexOf(s.TEMPLATE_START_CHAR)>=0)return!0}function h(e,t){if("undo"!==t.origin&&"setValue"!==t.origin&&p(e,t)){var n=e.getTokenAt(t.from,!0).state,i=e.getTokenAt(t.to,!0).state,r=n.lastToken,o=r.next(),a=i.lastToken;if(a){var s,l,u=r?r.backwards(0,function(e){return e.isInteresting}):void 0;o.isInteresting&&!o.isOperator&&!o.isEof&&!o.startPos.line>u.startPos.line||!u||!u.isTemplate||(s=u.startPos);var c=a.next().interesting();a.isInteresting&&!a.isOperator||!c.isTemplate?a.isTemplate&&(l=a.endPos):l=c.endPos,(s||l)&&t.update(s||t.from,l||t.to,t.text)}}}if(r){i.autocompleteOptions=r,r.getHints||(r.getHints=function(e){return u.codemirror.doc.mode.buildHintData(e)});var v;i.$evalAsync(function(){v=new l.AutocompleteViewManager(u.codemirror,r,i,e,t)}),u.codemirror.on("keydown",o),u.codemirror.on("beforeChange",h),u.codemirror.on("keyup",d),i.$on("$destroy",function(){u.codemirror.off("keyup",d),u.codemirror.off("beforeChange",h),u.codemirror.off("keydown",o),v.close()}),f()}},f=i.$watch(o.qvCodeareaBnfAutocomplete,d,!0);i.$watch(o.mode,function(e,t){e!==t&&"sense-script"===e&&d(i.autocompleteOptions)})}}}])}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=r;var o=n(4),a=i(o);n(9);var s=n(5),l=n(22)},function(e,t){"use strict";function n(e){e.directive("qvCodeareaCodeContainer",function(){return{require:"qvCodearea",priority:-1,link:function(e,t,n,i){function r(e){i.supressChangeEvent=!0,i.codemirror.setValue(e),i.supressChangeEvent=!1,setTimeout(function(){i.codemirror.refresh(i.codemirror)},0)}function o(){return i.codemirror.getValue()}function a(){i.supressChangeEvent||(s.content=o(),clearTimeout(l),l=setTimeout(function(){e.$apply()},250))}var s;e.$watch(n.qvCodeareaCodeContainer,function(e,t){t&&t!==e&&(t.editorState={history:JSON.stringify(i.codemirror.getHistory()),selectionFrom:i.codemirror.getCursor(!0),selectionTo:i.codemirror.getCursor(!1),scrollInfo:i.codemirror.getScrollInfo()},t.content=o()),e&&(e.mode&&i.codemirror.mode!==e.mode?(i.codemirror.setOption("mode","none"),r(e.content||""),i.codemirror.setOption("mode",e.mode)):r(e.content||""),e.editorState?(i.codemirror.setHistory(JSON.parse(e.editorState.history)),i.codemirror.setSelection(e.editorState.selectionFrom,e.editorState.selectionTo),i.codemirror.scrollTo(e.editorState.scrollInfo.left,e.editorState.scrollInfo.top)):i.codemirror.clearHistory()),s=e});var l=null;i.codemirror.on("change",a),e.$on("qvCodearea-refresh-current-tab",function(){s&&r(s.content||"")}),e.$on("$destroy",function(){i.codemirror.off("change",a)})}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=n},function(e,t){"use strict";function n(e){e.directive("qvCodeareaExposedContext",["$parse",function(e){return{restrict:"A",require:"qvCodearea",link:function(t,n,i,r){function o(){var e=r.codemirror.getTokenAt(r.codemirror.getCursor()).state,t=e.lastToken;return t&&t.metaInfo&&t.metaInfo.advanceList?t.metaInfo.isKeyword?"keyword:"+t.metaInfo.finalContext+":"+t.metaInfo.advanceList.bnf.text:t.metaInfo.isText?"text:"+t.metaInfo.finalContext+":"+t.metaInfo.advanceList.bnf.text:t.metaInfo.isOperator?"operator:"+t.metaInfo.finalContext+":"+t.metaInfo.advanceList.bnf.text:"variable:"+t.metaInfo.finalContext:"not-interesting"}function a(e,n){s&&clearTimeout(s),s=setTimeout(function(){var e=o();t.$apply(function(){return l.assign(t,e)})},200)}var s,l=e(i.qvCodeareaExposedContext),u=r.codemirror;u.doc.mode.bnfLang,r.codemirror.on("cursorActivity",a),t.$on("$destroy",function(){r.codemirror.off("cursorActivity",onKeyup)})}}}])}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=n},function(e,t,n){"use strict";function i(e){e.directive("qvCodeareaBnfFunctionTip",["codeareaPopupper",function(e){return{restrict:"A",require:"qvCodearea",link:function(t,n,i,r){function o(e){t.$root.$$phase?e():t.$apply(e())}var a,s,l=t.$watch(i.qvCodeareaBnfFunctionTip,function(n){function i(e,t){clearTimeout(s),s=setTimeout(function(){return u(e)},t)}function u(t){var n=t.getCursor(),i=t.getTokenAt(n,!1),r=i.state.lastInteresting,s=(i.state.lastToken,t.doc.mode.bnfHelp.getParameterHelpFromToken(i.state.lastToken));o(function(){if(a&&(a.destroy(),a=void 0),s&&s.highlightedSyntax){g.showParameters=!0;var n=t.charCoords(r.startPos);a=e.popup("function-tip-view",{content:s,helpBaseUrl:t.doc.mode.options.mode.helpBaseUrl,offset:n,modeInfo:g})}else m=!1})}function c(e){var t=e.getTokenAt(e.getCursor(),!0),n=t&&t.state&&t.state.lastToken;return n&&(n.isTemplate||n.next()&&n.next().isTemplate)}function d(e){}function f(e){m?i(e,250):c(e)&&(m=!0,g.showParameters=!0,i(e,250))}function p(){if(a){var e=a;setTimeout(function(){return o(function(){return e.destroy()})},500)}}function h(e,t){if("("===t.text[0]||","===t.text[0]){var n=e.getTokenAt(e.getCursor(),!0),r=n&&n.state&&n.state.lastToken;r.meta&&r.finalContext&&"root/LoadStatement/FieldList"===!r.finalContext&&(m=!0,g.showParameters=!0,i(e,0))}}function v(e){m=!1,o(function(){clearTimeout(s),a&&(a.destroy(),a=void 0)})}var m=!1,g={showParameters:!0},b={"Shift-Ctrl-Space":function(e){m?o(function(){g.showParameters=!g.showParameters}):(m=!0,g.showParameters=!0,i(e,0))},Esc:function(){m=!1,o(function(){clearTimeout(s),a&&(a.destroy(),a=void 0)})}};r.codemirror.on("blur",p),r.codemirror.on("cursorActivity",f),r.codemirror.on("renderLine",d),r.codemirror.on("change",h),r.codemirror.on("scroll",v),r.codemirror.addKeyMap(b),t.$on("$destroy",function(){r.codemirror.off("blur",p),r.codemirror.off("cursorActivity",f),r.codemirror.off("renderLine",d),r.codemirror.off("change",h),r.codemirror.off("scroll",v),r.codemirror.removeKeyMap(b),a&&a.destroy()}),l()},!0)}}}])}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=i,n(11)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){e.directive("qvCodearea",function(){return{replace:!0,restrict:"EA",priority:2,scope:{mode:"=",showBreakpointGutter:"=",resizeTrigger:"=",options:"=",showLineNumbers:"@",useLineWrapping:"@",disabled:"="},template:"<div class='qv-codearea' ng-class='cssClasses'></div>",controller:["$scope","$element","$timeout",function(e,t,n){function i(){return o.codemirror}function r(e){o.codemirror=e}var o=this;e.cssClasses={},"undefined"==typeof e.showLineNumbers&&(e.showLineNumbers=!0),t.on("keydown",function(e){e.isDefaultPrevented()&&e.stopPropagation()});var s=[],u="true"===e.showLineNumbers||!0===e.showLineNumbers,c="true"===e.useLineWrapping||!0===e.useLineWrapping;u&&s.push("CodeMirror-linenumbers"),e.showBreakpointGutter&&s.push("qv-codearea-breakpoint");var d={lineWrapping:c,lineNumbers:u,mode:e.mode,exposeCodemirrorToMode:i,matchBrackets:!0,gutters:s,finishInit:r};return e.options&&(d=a["default"].extend({},d,e.options)),l["default"](t[0],d),o.cssClasses=e.cssClasses,o.setCustomFocusFn=function(e){o.customfocusFn=e},o.focus=function(){o.customfocusFn?o.customfocusFn():o.codemirror.hasFocus()||o.codemirror.focus()},e.codemirror=o.codemirror,e.codemirror.on("drop",function(e,t){t.dataTransfer.files.length>0&&t.preventDefault()}),e.$watch("mode",function(e,t){e!==t&&(o.codemirror.setOption("mode",e),n(function(){o.codemirror.refresh()}))}),e.$watch("disabled",function(e){o.disabled=e,o.cssClasses["qv-codearea-disabled"]=e,e&&"nocursor"!==o.codemirror.getOption("readOnly")?o.codemirror.setOption("readOnly","nocursor"):e||"nocursor"!==o.codemirror.getOption("readOnly")||(o.codemirror.setSelection({line:0,ch:0},{line:0,ch:0}),o.codemirror.setOption("readOnly",!1))}),e.$watch("resizeTrigger",function(e){e&&n(function(){o.codemirror.refresh()})}),e.$on("$destroy",function(){e.codemirror=void 0,setTimeout(function(){o.codemirror=void 0,o.overrideCustomFocus=void 0},1e3)}),n(function(){a["default"](".qv-codearea .CodeMirror textarea").css("font-size","13px")}),o}]}})}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=r;var o=n(4),a=i(o);n(59);var s=n(14),l=i(s),u=l["default"].commands.singleSelection;l["default"].commands.singleSelection=function(e){var t=1===e.listSelections().length;return u(e),t?l["default"].Pass:void 0}},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},!function(e){i=n(13);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)}(n)},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(11,function(e){i=n(43);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)})},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(9,function(e){i=n(45);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)})},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(8,function(e){i=n(46);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)})},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(7,function(e){i=n(47);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)})},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(6,function(e){i=n(48);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)})},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(5,function(e){i=n(49);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)})},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(4,function(e){i=n(50);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)})},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(3,function(e){i=n(51);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)})},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(2,function(e){i=n(52);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)})},function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(1,function(e){i=n(53);var t=r;r=null;for(var o=0,a=t.length;a>o;o++)t[o](i)})},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".qv-codearea .cm-s-default span.cm-normaltext{color:#000}.qv-codearea .cm-s-default span.cm-string{color:#44751d}.qv-codearea .cm-s-default span.cm-number{color:#3a7391}.qv-codearea .cm-s-default span.cm-operator{color:#000}.qv-codearea .cm-s-default span.cm-function,.qv-codearea .cm-s-default span.cm-keyword{color:#6a8fde;font-weight:700}.qv-codearea .cm-s-default span.cm-comment{color:gray;font-style:italic}.qv-codearea .cm-s-default span.cm-field{color:#c96;font-weight:700}.qv-codearea .cm-s-default span.cm-table{color:#8e477d;font-weight:700}.qv-codearea .cm-s-default span.cm-variable{color:#c9c;font-weight:700}.qv-codearea .cm-s-default span.cm-template{color:#ffb0b0;font-style:italic}.cm-codearea-expression-missing{border-bottom:2px solid #f05555}.cm-servererror{text-shadow:2px 2px 10px #f05555}.cm-error{color:#522121;font-weight:700;border-bottom:1px dashed #f05555}.cm-error,.cm-posterror{text-shadow:2px 2px 5px #f05555}.qv-codearea .cm-s-default span.CodeMirror-matchingbracket{color:#ffce26;font-weight:700}.qv-bnf-autocomplete-container{pointer-events:auto;z-index:1022;padding:1px;position:absolute;border-radius:3px;border:1px solid gray;background:#fff;font-size:12px;height:auto}.qv-bnf-autocomplete-container .title{font-weight:700;margin-top:5px;margin-bottom:3px}.qv-bnf-autocomplete-container .complete-container,.qv-bnf-autocomplete-container .help-container{position:relative;display:inline-block}.qv-bnf-autocomplete-container.hint-help-left .hint-help-container{right:auto;left:0}.qv-bnf-autocomplete-container.hint-help-left .hint-help-container .hint-help-content{left:auto;right:5px}.qv-bnf-autocomplete-container .hint-help-container{position:absolute;right:0;top:0;overflow:visible}.qv-bnf-autocomplete-container .hint-help-container .hint-help-content{position:absolute;left:5px;width:200px;line-height:normal;padding:2px 5px;border-radius:3px;background:#ffb;font-size:12px;box-shadow:1px 1px 5px rgba(0,0,0,.2);transition:opacity .25s;pointer-events:none}.qv-bnf-autocomplete-container .hint-help-container .hint-help-content .syntax{margin-top:3px;font-style:italic;color:#303030}.codearea-bnf-autocomplete-hints{list-style:none;width:400px;overflow:hidden;overflow-y:auto;max-height:20em;padding:0;margin:0}.codearea-bnf-autocomplete-hint{display:-ms-flexbox;display:flex;padding:0 4px;overflow:hidden;color:#000;cursor:pointer;border-bottom:1px solid #d9d9d9;height:24px;line-height:24px}.codearea-bnf-autocomplete-hint:last-child{border-bottom:none}.codearea-bnf-autocomplete-hint-active{background-color:#f2f2f2}.codearea-bnf-autocomplete-hint-text{-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.codearea-bnf-autocomplete-hint-type{padding-left:5px;-ms-flex:0 0 auto;flex:0 0 auto;font-size:10px}.codearea-bnf-autocomplete-hint-type.function{color:#6a8fde}.codearea-bnf-autocomplete-hint-type.field{color:#c96}.codearea-bnf-autocomplete-hint-type.variable{color:#c9c}.codearea-bnf-autocomplete-hint-type.keyword{color:#6a8fde}.codearea-bnf-autocomplete-hint-type.operator{color:#000}.codearea-bnf-autocomplete-hint-type.template{color:#ffb0b0}.codearea-bnf-autocomplete-tips{color:#a9a9a9;font-style:italic}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".qv-bnf-function-tip-container{pointer-events:none}.qv-bnf-function-tip-view{pointer-events:auto;z-index:1021;max-width:50%;position:relative;padding:2px 5px;border-radius:3px;background:#ffb;box-shadow:1px 1px 5px rgba(0,0,0,.2)}.qv-bnf-function-tip-view .title{font-size:13px;font-weight:700;margin:5px}.qv-bnf-function-tip-view .syntax{font-family:monospace;font-size:13px;margin:5px}.qv-bnf-function-tip-view .description{font-style:italic;font-size:13px;margin-top:5px;margin:5px}.qv-bnf-function-tip-view .highlighted-tooltip-param{font-weight:700;font-style:italic;text-decoration:underline;text-decoration-color:#3a7391;margin:5px}",""])},,,,,,,,,,,,,function(e,t,n){var i=n(1);e.exports=i.decompressFromBase64("FACgVBldO38MUglKMACAigGwJYGsA1XAUwHd0BRADwAcAnEgZydwHsA7dAZQE8OALgENq6MeImSp0mbIlhU4JMpWq1sRRgCCXEtQEkOAExJH0TAK4AjJiQHo2AM3QCAFiXMBjerlr2m/MKijrjYHnIRsgpokbFx8QlS0eDoACquuBwA5kzoePgejhYcngLsHAA06CEk2EZVALZC3mzoQsboVmxs+E30+OgcQg3MbYxtRiZmQvb0xWUj6MkYiatr60ua6ts7u5CowABC3b1C/QBywx4AvOgg6ACSACKU56kPAGIPlABK6AA+6AAMg9Ur8tECAPrcVI/B7nADiAOBoPBUK+lCBT3QyAA3EcTn18A8zLd7s9Xu8MX9ASCwT8IdDYfCkbTUQz0d8sTj8U8SCEOKZCGdcEIrGFLosyY8Xm9Pt8aSj6YyYXDEci6WjIRjuXjgB9SHVJTc7jLKfLfhr2Srmeq2crOZjsXqaAxmKxOECxbV0NKKXLqVaHUy1aylVqdc78cAY8AfkIyKk9PZbgBvbgAYS053Ov0hqQA8gBpV6QgCyWlSGYAEpDswBNVLVlkAX3xOl43AEPmyvtN/qpCqDWtVLOHHO1XKjwA7XZ7WQL9HOFgaVhI9D75Nlg8t9pHtrDmonkfHjPOAFUy4dfnqY3PMgvaOuZmx6ECCCb0AB+dzYWi4IxrgAFgANgADiAsCv3QAByfISBg6MgTYLJcE8IRsALJ96BfJc2BTMQf1qf9ANAiCAE5oJgjh8MQ4BkNQ9DMOw3CdFJQjfxI4DwIAVgABio9ojDohi0IwrDnwEV9Fz7b9OIA7iwJ4gBGKjXxElCxOYyTXwADVfWSiL/BSyJ4gAmKjqHU6MflqGZynE7CpPoD42GwbA2DIXJbjk4iTN4gBmKjHDcjyvLo2zsHszhHPXZyAAVGE8UxRh8oyuNMoCqLdZKTCYOijlwAQJJw5zznwwz5NI3ieKoqwipogQ6MOIqStYjo0qqxSeJAuqiqE5rWpY5yZJ83zjOqpSAHY+ucwbiuGvSDM6vzJp4qDYPqgQrPoArgFdRgWHKDNOCYYRBE3cMJwvK9dyum1Qx5fa6EOj0OANWojFs5xbg+o0rnxA73XKP6vv5A1qFc+gmgIgAeM0AyHcaMt4yjYIALhg9AAD47gHC0fn+I8z0va8fmQdAAG17nS/ywJAgTYNSLHAWRumQNU2DzhZjjVsUkCLNgn4ebZyaQKC2CHhF2mxay2Dz2lrqyJA2rYMOLHkAAXWjIGjs4c8hnoXg2ucy6C3i8FCx+SF4qBc9uGRc3LYLa2y3he2NU0piTdfcr7EBFqFp0vD7BdF7gc4FrDeNxaNzJJ2GStm27YdwEE8rF3y3d1P0HTpOy3PIF3lth4s3eAtzkdi3E8zp4HkIB5uAeCuAWADZpDzzPR0RSEMwrsvkXvbIfbfD9W/bqRRO92O2M9xjYtK6SN1pL2F9w/Tl7bieJE762gUobgc93yF98PyFKEwc8ISr53rYRH5KErO7j/vx/6XPy/r7T6uM+ti+r6BDfGu1tzgFlSB/AB49t7SEitFIY2l6DOVcu5TyuRWawLKDFBBCUkopTQVvaB6BA4j1ngHIawcZJkKDovegG8gG/0hHCBE1ZwHcGbB8VI9Ck77w4dCdhnDbzAANmcXgus3qXSoOHPW71iilGOhhbAUC4jgDLGwIwFgwgfFkZgjgGYFHImiAkWGYjyjCKNiPSRbppG43+AQ2IJjOAnQ4Gddo/s7GRAce9Q0YNnC2ISJ40G30IZQxhko2IMEQBY08bBZALN3ERE8V6Ncii/HxD5AKIUIoxQSiuPEuQgjnpWPET5MxoipHiMpp4qOIiLGeO1nebsFhSgWEYEYeKZwrgGDjncaJgIIlYznE0gQLTTDtJwiMLp6BUwwQqAMxpzTWljM6euFsMSYKCO4HYaJK0Jr816rBaZmyBCUEEEVMpRTyjiBlvzGasEWx0QkEck5ZQBDnNepc24pSnmnNedEymRyLHfJeW8iOHB6kyC+Vsn5ILpGXSBWc5E/SeBQuBdE9ZWMxC3gkCkeFry+z/LsCSQwZQaj0E1lTI5qijC4FJdrTYdjcW8DhYSkwpzSUUrsFSmlpAyWD05Wo7l64noyCOUStlPLLrXOVhtGCfFFZ82VmjGCykeZPBQsiPR9hkRqqyBjTG6BNXCoiIa6UUrwJTTljBAAJDzUVrKBCksOM0AYgI7XEtJecZMyJjg9CJCSb1hIzj4GNEauQbrBCOudZKpW5rVbWpVWIVmZqwJTX2dasyGKk0xpTbc61AVM2812WRKaMqrVAQLaLRSU0lVWp4hivUkRw0Op5Z6/Q0aFXgTAoza1kIE1Zo7WBMCnMe0ZuRJWsiYFBY9vzWO5NYEJY9vLbO7NEEqJWshHWp6DK7AWOlOOztcaADU8qi2drTQAWhPSjQduawBXrpoOqiAB6DW+JHn8upeynZ16wJKthljUGmywhyM4FMmZAHvFAZICBjgqz92/u7djB50hAO1GgzovsoMQ2UzuDBa497JrkWHYe/Dy6B3kSnee0j/bT2/oXWAajhbr3kUtU+/DWsqaUDCCMQQTzynlHBeILjJAeMCD4xc0DtxhOiaOVM5F1DcJUG48S2Tqy33SGkypuwcLhAGEwBYDCgqjBYauGR2j5E43TM48pwQ74zrkvg+RNN9zkSacEFokoGGG0JJswIOzBE3P2GmbMpTIniVtjyZIQLHmYMSOTeRXN8UYKAnizKyg6zYKRLuAS45/HODkspiZkY5LXW6ZIPpwzNRjPeONBTdF6m4iBbENKaL3jhTYAsB4QEgXNlnE8K4MsQgmADG86sVrn12udb7LObsD5FzLlXOuBriQeskD6wNobAxbgzfnMtxtZWKt4Cq0Vk0IAdWJoNTMC752YLo31ZqimJ3owxk8c8o2+K8MwXJZ4/ESZ9AFg4NgURgh3u3HjImZMz3YxdhmCQENfptwE1PFCbuh5rSOl1LydVZJrW2rK7VqHsYicBO0fI9ym4tBdAAG4kG1LIsJUhmhsCYHTkoDPJBaEmKowQrgWcxfZxITnRh6xrfoHz+nqSZBaEcF01nngBfiC0FkWn/PJfSCV1kegcuFdiC0NgAQ2u1dSC0LQWgQOTomFoEIZXhvIu65+AiQ4tu5BDcyM72QMx2ju5kJ7jgZlvfq4sG4V8AfjdU6yKHyQhx+SvhVxLu3RDaieUjxIQOJ15gp/EIcKKnh8CZ7ENn51bFuD9bcnHtnRuo8dfL/Lyvqf8JSQaPnoh9BPIcGb3o/8wg8AAC8a864NSQUIHeMhmSTGdSE/XcD+9VwnjMo/x8G6MI4Ef0/F+QloB35sdcYRb4ePCQgI+tez7kBmKKLAO94GJfFKKDrXxN5P7IE6Hlj/x9P25V8g3aDVk6x3j/9Av8AApOwP/F/MsXAagZSUAz/CAmfN/J/NyFcdvR/GQZ/JA8qP/VcN3FA6QE6BoWgIPdcY0P/EoGYEgmnRBVINgZCJiVIXAEYP/egRgbAZvTwZnVg5nVwP/DPHAqQDMXgL3XgyQJ4INBEHCXgZvEQgwSQ2HAAYhkIkKEIkBEOByMAULwCyFcDEyECpwfAUOIKUPEBUIWzXHoALEcAq0QXXH0JXFMPMJFzOAUJh0QUkPoMMDekM1eVcKp0kLYE8BXGJQMPgJkDVX8NE3aTcF8LCOJToIEDCEkIMxYMMLEH7zryExp2QOCOkD0E32SOqDFHFwrwTw+GaANzyJKOwFsGbw+B33AXKO8QeGMD0GqLawwl/3qImzaJIHT0EBaOMABxIHMOqIPxaLFzKKyKkANDGO4FfAMCMEm1SOKNwDGIAHVXx8ApDFi5APgPIQ88jHAGg1FqicJPBjjSjQgtjZAPhD88iEQSA2ANd6A7i2AJkjZm9njjhihqVshjhqB3j7ieiBBCA4pmjbj7i7iBBPjjAHxfj/i2AIT4o3JeAshHFiVrCwS2BGiqdEo2AAArdDZ414xQiYyQZ4wbAoREzIcYoouQZ4nE/E0oOE+kgk+4okuE2ydRZKQkuwN4sEgQPXLpIYMoGnQE/4gQZ/W/coGgjCS4mQCEjMFpRgXjNDGDQo2vBPCEmgTwDrKYUUvk1DYDHRNUgfCEv2KDUoUwPUkkiQCEgsKwBkgQUGMUxEo6cUbotgHg608QCE2yVCM6I2IeCPPk80uYq0mk2QBEMsOor0sQMQkgQwZvasIbVwZSMyMCRM5M5SBmDMpgVwMyHqRMj01/cMmQaseMDgPPPI6sbgdEGMx4FfPIxolQ5vJsoQXgKgughgxspov47skKFsjgIEYoM4FY+Mysusxoocw2UckgfAKgzYgc7nSI7spc3nRczgNwJgec2Hdcnnbc6Q7syw2XQ8gzKw+gfc2U6QRorpKnDCAcm8jCeQ7smc8cksq8jgF8i8gchw4s9UuQRon8r8xsn4a2RspgZcdyFs8ClcKCv7akv82QIseM2gefRwvIosFpKSVgY0tIsQL0CfPI/CgQNY/oBcwi/keCgfIEBMwi3ATQyE6vZvd8ei/gwQus5irQsQtspiuizixgGi9i3igQQbZXQQIQHi+ijkpi+EA+cBJ3QimS3fJ4D4aS3MXfFShStS8BMsVS2SxhOAt8yeRS1hSgeS9i4y6ESgHSzSvS7gSgesXS3fQ+B+BERy1hbgB+JuJ4JivwjCTsy8qQDyIMusoK5SPiHysgdE9i1IHwB/di4c+gF8k5NQwihKl8oIwyyQKckcsc5wyi3C9AES4lcSvI8kkgMiussq/y5vMql8iqzKiQQbAQfrGqkQVq6gQMmq0wUUTIhq8QcAlKyq7AoajgTq0qzIQgmq3AI6bIMMhCmQcA6gJqlq0qo41akwGqzgEgYkvqsQbnbap8yqjcrg1annZKzannDK+a6QVcpgc606zcq6gfW6vKi6twV6vI84SseuSgZvT1Yi9YlQnChPcqcwtAhoZxP6tgcwn4VBP6l2MsWo+Gn4N2c4G4us8qMgZvDgeKKK3a9Ac4eKdG/GiCpIjGjRbAOagfBbP6lcQ6kmlcLQcPWmhoKmgqhbdcNCNmkGlcQbXs8mhocA3q66qQBbbgGCvIgsSYZvAHIHGW+gQa/Ggsbgc8WwX8gfXG6GIPZveKXAHWtCV8kWyQeKBofKhPWgZPPInEzkoE9cN6HWlpZXVC9Wgqom5vHAAgJMfrbPdousj2uc6DVwLinao2iQf24gcgYEsXcod208rpe6v2uOogq4WOs4LpD6v2wgVWvG0O8QcsxW3OsQcs5XJm4K/G4u90pg2oZvCu7muQCuj4E4soeIvIiuh4ECmu9oZXDCxBZnaazu7IEgPmge5XPmsausiuoWkeoezIce8urumemarIOu2QSetRAKyQCuwm4mwu9ALeimlemQfekYHwTwQ+mBBe2WkOgfCu7gAoLG1uhersEwHwx+we8WuK+eweuC8+qQCu3Sdu0Ciehe3Sbegew2m+nc1u0wGupPIQIwaq6Bp8MgpBnPDeiQB3My8uoSmuj04wXBsgDA1umK+g5vTZNg/BvI8hzgIwERJ4Nw5xByPALwqhuwTYn8shth2HH81cshui4WgfVgARgqoRk6usu+8gZvJgAARxdoTxkZcKofxxTqUZfrIa6TkbDTBHrF0jIesCdKoesEDN/skA/rId4CYGfz2LrPOmb3OjEfxtSCRryLgubzgujwEEioEsceTBMYkEQbrP8vpt3v8pcXwLcbcLCdoGCYH38oAC0tq3GRiXG1FuKUncjAnYq3G5h0HxBUhF8oCKGGzAmCnIRl83HSnP0KnmABAoCwoc7YnSnWAy6QmmmNHqmzooCza5B8mamoCLBTcGmCrenOmsaimOnamsbymXGCmpmaUJnlIsb6nNHZARnJnIRmmFmsazp1wVmZA1nFnIRunVnZnIQBnsIJnJ9OBinHH19pmSmamyn5mZnHnlnLnNmXmJ8dmmDLnjn9n19zmhmE81mxnrmJmpmbnWmam5nIXGnoXIQ3nPnPGNm6LwWNn2mkWsa/npAQWznBm9npBzx8Xm9zwqxm8Fj/NyWujkI2AMn8bCByyIGCqXzm86q0m6ykrKGOWxynrmXcrhBFHuXZyOG8iViMgDyOXQgjBlqHHd6VipWZWeJm8AGO68jQG3a8iRW6yfyzJ6rd6fyE78afzeWE8fyM6jXRcgLtXagwpm84n19xm8j7XHmqmnX19EW6znWvnUW3XHnvmCWpAvWDdAWA3JAg3IQe87XF9QWOBYWCqg2YWo34WPX8aE2UWWmB803/Wk2zosaQ2c3kXI2YtgACkvr3hCBfqYtbgvxbIBBUheAnxrh1EMJoIvwigShoJ4YvwYsxCPTaBrhQFcxoJx1+IeoqIy2fqMUkVcYvxjRrgXEDBRNoI0VYl8Rda5dq3a363G2OAVxW323PBO3vwe3W8BnrgKwmxh2pVR2ZVdap2stcY1l8RSaN3vwt2G2SAm3Ej93ZEj3u3ZFe2z2L3qwr2lZ+IGZx2Kb72sZH36tgAa9N27Bt3P3d2Ggf2O30Au2T2+3z3KwQOmMTJwOp0EIxBp3SPV3gAYrfaShEO62P3rhUP0PD3MPj2APT3+3gPQOFVwPLUqOSPMsYPyO6IKiqiq232kP6PGPvwD2/3sOgO8OuOi1wO00RP+OyOn3gAVCNCtDuAdC9CxOa2JOd293pPf2WP/2ShAP+2ngn5FOMpwOZUtOhLdPdDshoOcYhPfs3CEnBRX3DO6PG3m3sAmPZO2OcObOwQ7PCO+Ippu14mtr3PYOKP86/P33jO0PTOMOsOwv5PL2CPSJ+Ipop187EvPPgALaH7ZFaPkOGOTO22zPsvLP2PrhmQEQouCuYvLUKvSvZ2rhrhqBl28suBwNvw53eBBuJNhuKPfcDLPBqvJO6uZPzO5P+3Wv2vgJCu00ZueuxuJv3lQMRveuRh+u9vQUNODi1qqvxOAuUPFuGvWOmucObp1ugJCuZULvhJSOH3Ru+uhBTvYVDu52rB/vxE4Omc1T5v0uQvlucvVumEXv+Iu1BI2D8ovvBOjvP2BvLF9upu6JXdhbIfbuMv6usuHvPArOWv4f8uNu+JJ1BIhGdu+useV28fbGDO0uifofGvyfmu1vqfXvafLVfdGfjvmehuNOUfUujPOfMvmPueKe+eR3ae00UeRfMeQfLk4OUfZXCfavielv5feeqelfH1YJte1eTvsezu4Ocipebu9eueyeKfKBdJ4oEe+JyJu0ciLexfJvzuCi7eaupOSe5enfmvnv+f+IKNgoCifeNeDuKOdjuhfzdfg+Dew+nvLx3eWMqIk/1I0ePOMfLfPEcNAe+udnaB4+OBS+Qsi+nBHBbABAq/NZyU4OMwh8yaaPrug+7vSeLOefM+yxs+012/Qg4+rfpEa+sYi+K+q+p+fvjv6/G/m/W/ku8GC7U/e/Q/++KeI+lfyIZVYavjx+S/YJa+53Z+J+3p5+6/HAG+7AV+NONWrv/Oe/9f7ud/muvhzgEewru0iaLepUEgFXzP7T852HAbCCALL7HdaAptOfqAIX6ftHAVOVtuknazXBGYp/aAZ+1eRPhUB/IdAZgKG4t8NO1xQPgt3f598Vu1wb/r/z4hTprigA2HFAPP59cIB64FgWAL66wCm+V/coDfzna0AUB34NARhAwHwDsB1wXAcAJEEECxBRAybiQLg4m14Km/Sgdv2oG0DI+YVS1CoKYEGBOBiAhjpAL4EHdWBMA4QVgPMFIDhBX4UQdgHEGmDq+CAovtIPwGOBCBj/ODjjRzpqDHen/HDloJHZhU00Pg3aAXxnZzsgBhgovjwJiGCDLBQ3AQX12QHuDPBTg5IcdzcGyCPB8grwclygYv8OeDvWXqF0e5nsgh17MKof1hwW92B9AeIdwLgFOCXBCQiQdYOuCpCch6QqwVwKyEfs0heQpwUoIo5BVyBUPUoTD3KH9sXebvbQWFSohBUT+4vODqFXCrs9peJQkPmUIH5ntZhv/VMosJQhhVlhfvODkI3GEy9thUw3YXDweBtd5hlqBnhEKMG+8ceGnURpcK2Hp8AhZ7RXlUKzJURRGpw94ecNkaqDu+FA/wdQP2HzCZUCjJqC8KL5vDreFHBRl8LT4f8YRrvX/mZG7QKMQRqIuiGzyKGbDMRVA2HpT3uG4ip050QkQDwo72MMRW/HYQr2N5VCzIlqexvSNB4UduA/DZkeoNZHh8s+2gsyGmn5FZAOAPIzXon1KKCjoRlIvfhyJlQlFSgMohPnRE1oNBtaGw+3lSUVHTCB2oo4IQFH/7rgdRiIgToX0EGNDju0jKARRzwL1QCekIxtgaMmGG9B+v/AKFOmdGZALelfFoZIIdHBiKOheXPF8I9HXCvRZ7DMECB+A+jLUEY/AKV0phF8MItAVwH926FiD8yqsOpBpx9oIc3Rn7aMT8OoHxjEx2ggKGmmLFpiMxf4bMYMIcH5jm+GnOMt4zm6ljrg5YrEZSKrE+iZUnY6US8PTFztMxzY3Ma2J4gFjiBGnViq6Nf70c+xFIo0YOO0FARu0i4hsROKbE5i7BcgmcXOMUEacpKeomrquI0EDiExv/ICMV1MC7jfu+4lsdcDbHDCNORVMSlGMECGjbh1wDccEKAiWovxwgJ8cd0nEHj7Bb42ce2Lg6HBW8ZAJccUKvHCicOgEqoaBCogIS284Ez9pBNfHvjCxcHDigIGDo/jeBMYjPnGNvGbiZUpE4OnhOuAETpxMEk8Tj1X50QRC/QciReJXG/jPR1E/thhLA7KR+IVEbifgEYljjGxWYqCUeLYlwSKOpE4sRRL/EU8RJ3HMSVOhUnV4mJLEw8bkOPFKSRIQlEcWpMEm/DhJtE4ITxEtQMT+Ko460bjHHHPi5JhE2CR+JIlCVFxFkqiVZIAk2SqhY7WCKRJ3EyS9x7k1iURPnHeTJKMDPie6IEn+TKxQU0SetCoikSOS+kl8dFM8nETlJQlUCSVVJH6jkpFYm8dWOCEQdQpRU63MVRylRTDJ6AmKaeLg4i4UElXLvsuKSmUSKp64tKVpIFhUQOpYURqVOOal5j8psUijmKyKgliepZY8qf2IGlVSqhIES1HNIMDjT5JRkxSV5Io7+0vargVSYlKWl9SVp/4zSUpyzL7IvwluJKLDiMBUQjpgdesRFLckTToJrUjiRp1en9ZeJpUy8ctLXFXTBpN08CK2wenQYnpL0/IMdOknOSqYskr6QpJ+mgpOJ+ILes/26nFDyR14o0ZUNEmxcqI2MwgBb2pRMA2CGeaIcGI6G3lq8VfYLFEiG6rI4ObdVVkDKhGWTNB8IX/kV1JkL1AGFvBmZ1jtGftRZMgzxMzKcFsyChg9dVjvT8E8zKRRMrSRakFkKzt6FM6atTN6K0y0U9MrokwHFlNtYcJspwTLM8RyyIoIDQBgqJVmEy+Z2g1NJrOVwqthYSIudpLItmGy+hn7WhgYF9lDcrZrMosTnnwDF5S8LdLmRMJSmqznZwQktNhIjlRzXAZeC3v6Q/CmyFgtOMIDLlNlfF1wQOB8KbKpxuRTZPgYbJCEcD8VIQBslYR0KYgsEQ8BBXgSzyxkL0ToVdTvt2MWnfDLpu/E0VUKR5Cwu5r4Zgj70hA+zTZEhGeZbJG7WyFx2+RuNGVxlkiWRNwoeUP20F09YINYZ4KvJFldFTZJgTXPGRZy1z4yRgF4o6LogHzkmscq4f1P/HKjRJq6fec2APyBjW8wPOmf7KbYkBz5zAGufxRvkZcO5wAUBCjWcZPyB5oM7eb/3pjjsEatRY+YzIyGtC+uIwdoK+L4gAA6BQTj0yGfsXExgM4GoRfqvjlIhC9oQArCIaJ7INOahSv0xlQKEaj89efb3xloSz2b8rSabxgjQLUa5Mr2dwN/mmycFHAU2WQtoYK0ymJARIWcIo5ONV5Ds+OUaP4U3TPeVEVRTCHQViz/5Rgs+fxUvlgLb5Ri1wUIFCDBzlFdEd4GjXUUvzEF2g6PkzG/liKYBEiyxXOxMUXzQF18ixZApqJqKzp8Cgma/OHmiSc+sEEJfos8USyT5Pivrn4pAVXzTALxTmH7OMVALTFASjJQ0EFjBLOFfcvGZvNjH9stF9nZSE5lz4eKkZsQ7xdkqL6pKzFgShoFksbkALWl+S8BUUpWEUcPi6/GEmwH5pcKau/pdSV/3PDnAMwkIe+AWHPDxRIQMyosKAhWI/9XFw4+4lCW+JZBfiFvGoHUEhBDARgd8/EM8Q5JNISA3JbsCHV16TLHZ/4j4DMrmULKllKy84GsoLAbKEeeI7tJctMDXLblRsQ5d4hOVXA6FRgyWSZIuX3FmSpQEFfcp7GPKNFzy15fMp+CLLllqy9ZZspHZ4ip0dJVvA6SRUW9shzSudkcrUKnKpZAyuiM8SxIIqyJrJHksiv7mornF0y2ZZiuxWfLvlvyyPniMtSMqOA2JElSyReJsryVAw5Jcd2pUQqzlYYhlfColWMkwlnKwedyreVYqPluKn5fiuvZ4i00xKvEuhhlV4C5VSA8FbSvOXABniEJXZSMrGWlLNhmqhBdqt5V6qvleKv5bTyogOq7ATqn4qMrBWfRFVdKuxXCvhJ2BESQOFErojRIp8UV3YKZYEIxXvKcVPqg1X8oWGwRA1AgONciVRKCB1wYa45bauVXRqyqlJXohqtTVPKKeLynlZmv5W+qhVhw/NfcRrVsAqSFvW/DXJtWQqrV1wDyO3gVWVrIFzxR4kiq+HuqIlTajNbqqzUCrDVYHMyMpBFX3EZ1rKu5eWppXDqp1AJPBrbSsIuqHlDatFYupbXLq21OajtSauPXzAo6BgagPuojV2q1mRzJxVqu9EdqZUX6q0WRyL6a4gxlKvrjCswWSCSA0jaeWcBYUHT7F0bb9WEp4VbyRRO8glXiN0XIagN33IvpFSEqmzQNZcpJb0KMEwa4NDQ1iZ0rakqK7mkLZWVeow1/KzIU6L9cvgt4kaR1kG8jUX0o23lqNk0hwbRt+lwdcW9zcZdzOY1/qsNvHZDZxoSXXBCN9FYjfQDA1dLoVZGpIVguO4Cb4NNG2FZR3XwfM4FaGipcaMw1GrxROGv1nRS43qbSNGCvjXO301CboJomjGRp1xamapNccrlbJus0AbkNzTC3ipq0JqaNNZwo2c5p03QbYNgmhDQVKQ0utnmZm8pUJMs1/KzRtmifJ+gc1RbQRMWwxZAok1pa/Nz839XwqiXcczIvo3Lci3y1Kbwt7czTSBsc08btNUa4zX6wxbpahR6GwLeuoCjybetuzArU5pK1xaOhbmpLTNJS25t0WuzH9R6qG21baxDW7ZhozC1D5VNI67jeBuO68bptAC2bYZsQ2/YHWYLVDRloClVLCOdW4LY8yKYTbOtsWybiQvnZ0U8FhC/MlCv40JaDNwm64J5ukQjCFtyLR1v1rTXVarN66rcZtquaxsdtRG/bR1sO2JL3txC3TaQu+2sSCF9A9iaCk+1nbgdoOt6ODsu2vNPIvgnseZsy33aCunI9je6xp3hCGlc7A7W1u9ldbsdkg5pj9sJ3/bXNgO9zQpPJ0CY2FuLFNq6u4W3bqBjOjbpyNG2LblmKOvbRjuuBc7otAC47R9px1fasgguv7VBpm2i65tigqXQC2JY3aBtFmxXa905Fpov1IbV7Zrr1186OhAu/Hb9qJ2T8DdpOjzfkIh15sbd0OxtSxqFWQREdru5rbtoi1o7Ct1vYrZGs90ALvdwOgnSbpc19dA94u4PVTs6Yobw9Mm2HX8vElMxSmeG9Hjzqx1EjC96zCEf3Pp13aatSnfMizr6ZYt1dCe93bzvr09ai9km2XW/xh2VK299nfMirtqZlNHABi1PQPoOYQsVtC6yPQSpCkwQl9s+nva1p11aa69DIiHVAV80j7pNAWsvUKoymV6+m6befZ+tOYn6mN5+8fXDtq01TN9D++zXHtR196D9vIo/U80Y1075dSoifQ9uGnX6h9NKO/VWsH3rNXWJe5/VlqFUbSGthzJrRzr64tbJtC+w/Q3uP19aKt4S3hS/r+UgRndbTcbUpo92L6H9hB0/f5qq2kGUDT20ZktqYI76cD9+m/VDqIMt6FdYBpnSTMgMz6Xt1B/vf7v5147M9vuozVvt4MMHKtq2i/QSoFkiHDmYhzA8d2wNvapt+uqQ0bp91C6LtcBupmzpX0kHkDqh6fWYcirs7gNtevQ2nqMEZ7oJWev3RTu82nMZdT+pg1YaNWuz1DSzNnZwd0O4Hr+Bu1wwpPcNyHSm+bW3WPv8Prrk56hvFthBgM57juURvaTEZMNb74jiBvww7vMijyP9XetI2Wu/0a7udEGiQxEYMPG6PDAmDTuGyLaFHlDzBglXvJgitGMjJ2lw3RSaBGa02bRvgyAc0WCGldH8no8hp7yhHf9Th4nZEcGM5jkt+IcNo/uAN26Gdkxx3cgtggbGv9WhzHYsckNe6VjwxkLT63aOr61t7ewRVmyOMOGsD8e3fUVt111H+ByxrIEMZMPhsEDYx7Y63tf3t6dFBxu5tAfEN/6vjBh342seABpsATih4g4NpUNGq3FMx+FhgeePaHXjXB03enouN/GTN9B3wx0aSO1aYlmJr5ttqhOnH6j5xn46sfm3rGQtpJrY4keKNmRal4J+Fv63mM1GjtnxzgJ9uaZwmWTCJq7bGwsOonOj6JmVOG00M4mTj4RmE4yfFP6HGTjRgvZKfhYKGyTtxtE2BzNHdo02Sp/DXOx0MLHVTIp74xqecMz9pDbh2Q8MLYXhsfDHJiPXcfs5mip07pkI3SZtPODYTzJzU4ScMMyHjDdSN08ho9PN7xjkSkEz6b4iWo02auqo73sFMqnhd5fIk5kdx0RnnTUZ4gTGceYFHATnJ3YzxDNFppw2se449cBoNnHwz9ppYw0aMPZ6SzLR5DeWeRP8HQDSZwjmaIVM9n8WApvfUXybMMmWzoZh0xfydPRGXT0ZhcQvkeZ0s+zCZlxSOwCh5qYI8+NfGuYt5sFguI6xCabNKKJE4N0J209BroDoYYGU55o231XN5agD8ZoEwIcHMFcdzfol80vjn1KbjzlczyOeeaR3lHzN5mbXeYtJqEILYKFcweYnxT5ZuBpyw8UZ3OWp9zY+Z7aPiPMVzTzIFkdRefAvCngzUFp8DBavP0mnzFHB4G+eKFBdEjGYc4E8AR47m00dFvC9CR0Q5z3A7eHItRvzPXBagVRAS0Zt1qRiwljFr03GJYtsXlIt7A2oGL7o8WF5IWJeXBxlZ+SkDzF1i5H19HdoZW5K5MJIs2yQgBLEuzgKHMm42z8Qi1LS2EtQmymAJcl/S2xqoj2WZg/WYy/oFMvVyLLTMxeWHLg7ys6gDluBU5Ys26W2LnIqiKFelZeXXAPlt48noAVNB/LL0SyxwGss49bLwAeK4q20t+Horblu6dDPQhzE4rCrRK5ugbOvqUrAPDoelbzwBW1LLMmyxpwFJfDpLpe4Sa5e3NpkqIApC3q1ellBWOr4mrJvWqE1IHVQbFnLUzFirJW7VRcKa3AvnWWG5r+l+raFJIYNBlrsBn4HtbnWXrZrsIea5aiOtLWlN9Vu1fFEdrdFsxyajladb8NbXtzG22CPdfoBO0nrB1zXYwEOI05J8T12xaCIo5IUSAKFJ6ydZmtvXzr21mVJDehtnB/rWZ64AUChsg2zgYNgfdRRlyw3Ej7169iNu7T43q9NovrrdZHV6yGr/+rGTg2mtE2Eb25+8aTKEpo2Jzc7Wm3aoGqE2ZL/bYm8aeAkeWAInN94y4YFZ021T9Ck9UZvFpWADG6116+SaFvccRtEo/Rt4nFupWcleABoPNMEv9Gi+E6tgBbrE0qLkwHjLxshLdUq3DTgtlmyTej1MwrbdgG2zrcavdLag9BQ21lYN0mB9bht/pWGaME83zt8J2yMgyb3FCNrzltW0pwCgV6YIUdtbBTciFU2TLp5qG2naubzA7V8+Z67HftubWnbxp8yFRELsW8PRkCs/ENgh4pq4b5Jkq9ubsmV3z8qPBsyiK9th2O7kIMgABDcA5n5V9+FtgSaMH1QhseCnU40RMDnqexkVzLQnZ9Mb7Z7egT26Dy93WAs52QYe5+3DvwmDQ/RQUEMUcsgyHb1wZe0Oav0wQj7RgAYuYQ3ua8m5MN5fuPaL4H2JT1FW22VIumq2y76t9/d/afuai7Ll3Ig4veBNsWIDMEKlNXdLXK4tcqHUwv7ckFUkgF1hZB+uBDvg26IUtDfj2K6D4XerFJxO6gdgj4P4HBgRByctsIcDYDlADIl8KIcnmSH6F8g1REYeGAqHGDpB3Q6NvdbSWcyhIwLeuARdKA0DmVEI6YmMAMIuc8215rg6Rk15G5j85SPEdsXhDMEZRzI7Wz643CCjsHRp0xoymLNGj/S2oaEWeQmJucrXIcRMCGPPD4m1JuyrKVqOjR5j7cxrKZguObHbhOx+vUIlGbqwRZIq+Sc8ck3AjMEEJy0nJWRNhA+BXmxNQlYQPz7lhiJ8aZSOwPknanC01TfifDAk9eB4ANQy5apO/7F9jJ+rdKOlPPudVgp4k9gON1mgpjnY1+Y24BRujzTzwHE5GBRM7V9DV+hFbSfOX0L0xwZzw5odYP6AqDjoeg6mf8OcHA+p4JeakvftRHHwFGqkDYv7GYIKzjCCA+G4dDpndqtPCerCcX2xnMqM5/MEmeYP+HdqxcAQ/7mQPqBV9782CZghPOjzT1u1USwuZM3RH7zjpxif+eVG6rWdyBSbjNy8ALcUN+qfzZIfAvXuAUKk9C/Nzr0rcyuQ5wbrYKW56pK18w4C6RcAPE7PJmCMhDsM4u2+QgLvIZj7yIuzra040wf0ru0v+oveXJzXszu+XDrjuC55Yeun2ctx3aTBoAKotBmDdEeOCwbqsASu7VWgTBgK+ctCvCOW4qdIq8dwW9IJ8r087q813SvSLsr/V/SvxDVlay5Tpi+DOFcpmqI5ri3q4GotmD09MwFpHAlNkdYDbNEVgK8gLv/5lXUV612q74gj9/8gYmUgIGkKZA57dqvgJY39dn2KngroNwVy3Eyo43Vjew3k6yMWNIQ0bvQH67AIQEoCibq18y+45ARdzmbxagmgbMLFrb8ZDgHE3XAPFj7kryQZm+bet5TZmbgYoW5gLUAULC9kZ4G/LdKdK3fo//ItVHR1uuiDbwwELQsBMABibEPtyOurcTVl3goHt//jXdCXO3LbozdW9pfAEY7mw155VIR6VvMLU7k93YAt71v3bjbrt62/vvbvYDx77/NR2RMXvVpV7wEfvNvdfuuXlN47o+88bPuW3q7995AoeDQVIKYSlh5WaBBAh/3MqOD6TRGsvQ7VGHiWnAqQ+iOgQBYB4SO3vHdpcP+1pTWJdgNwfXGiH7oKw6QNEeSP17e8VOlo/JgsPDAO1bDUIZsAA3mWvuDMu2eR8gIC1lO55HKhpjN9YCCEF9mMfQ1HAvHhuy85HeZafgGYH4HpdI87nx2in5T9J8LCpA5PbC8GhwCIbDOk3zljT1p6vc7W9ziBCGlJ7HEyfjPQIeT3B1BqOAzPKnlCWp4Ck2ftPrHgKAui88+fDPsn9z6Z8c8/2auPVpA4F7s83vPXTk5UwBJi/lQBnDDDwsw1cfnv/P1AxL6J6TsSTsvTDM5KVw061O6GZXrBGcgE8BfNPQXsDmJ4lHQYaGNXnjDl4q8vDvNDT9c7r3i9+HNnUZOzwBv691CHn79qlaPelv5YNOerQb+s5IcjeRPpHhHbBE2KTfFsAjucykNm9yG3C3V5b0gdW9Xu2bTMNwtt9MJ73OhB3kw9eXXAMzjvY9lb1s/O+WpHv9ABmdd/odCWQo0MGYEZppprPXvp3976J6wlcwVwv33b22Y6EA+YYt3kwKcVsBFPpzRg4PBYA2ZQ3WFn4ranl/t5DfyTZ3yHzKn2q8BYft3xH0D+m8pLoMOP9HzLcx/pzsfaPvH+JuTAvfGPRRy8A8CvfJ24KXHuH8U9CYJPom3Pys27AF/sb+vshQ559pp9zf4LcHTYsEyW9g/ef0v0T23c29yEFfBupX4d5GDq+exxPy53z4F/O63C8vm65C+NszfAfyvthV94Zmm/+55vtC5b51/ofS133x8gb8kFG+TDC2d3wxZO9a/+fon9/aH8D8I/7vQllH4z9u9Y/k/rpthRT7D+bDPfoz736R5geZ+4/AC4P4n4Z/s+6fWQ1n2n+jMZ/jqDX6gVU/HfkPYHx1XpzU0KcDP2Wlr0R43+FccO9flPm6/17tUstS3Pf2ztH5lQvk2//Tiv9arGL92xyZTNstPbn/XArAreAoO3i8b4ALZme274wEcDrhDAyUZf+N1Ylywa/GnNloT+BlWezHE/0j1o5v8z/xf1P5YhPh39n/V/8Jl8lq278kOvfmq6WOf/qLiv+HfrAb/+P7gV7qOj/qx7eOMED+TgBjTlC424Y/oAFwBLXlE5K4IHhnZZCw/iOqBytOE4CQg9UIgiuAdqv9QkUGxG2S+e+Xvf6ZaQAam5ZOVAYDS0BmclLbL+BgiOqGAlCswJr+6cngC0M5/mNbqWrMmwpEU1AYt7DuDAQFJMBG3JBBk2Q2ADSkUtQkpouILhEQGmyNEJCAkBZAOsTCBuNs2ZGCggQBAr+bVrLJsKUxGdBSBhQgAFIG8ga9yQQDAh/4qBNAdtJUe+DFoEjqOgXoEGBtAbd6mBwgYFZiBNlhn5CABQNIEe+EfuE6YBFbtMZlUW3kpq8AouLQ47et3ocQ84aQTd4R2DvikrcUJzrkGW6n4hEEkAbLCk7ImOfg/6Rconrs61UY5EkENmO/ikGOEhQZrpf+bQXkG4ms5MIHZB9Dvv4mGQuLdSS+4/jUGkegikMHHUndml7eBmur4Er4mQZuQZBgTkUEW2dEELg/kdAUT4xBlTnEHjunzhsGi40wdm4By/AXMH8eJAS0Fi4vNqUEBMRBlUGMBewcK4YmVVFd5KarPiL4Y+RfF66EEP/l0GkK7XsYB/BxQZ54rgZjCI5sOVZkBAxK90lDaPSlVtD4NAH9GCoL+1HqIHtWuVsY680w1BWaiOxRtCFlWcITDIIhQitiGpeJwZ0KuB5lth4WBGlhRwLYw9BCFIG+Iay7fg5VrDKIhfNCiET4aISHLjWmIaCENApdK05QOkfPxCMwsITlAchpIUKHh43IQbi8hk3DlagoeVgthzUuvL+6JmCPPxCCwkofCGmAkHKzQnq8odSHcetIcFbyyyuBzSn06oTIGJGPwIiDahtrmPKD01oVzTGhSmiECohNIeiGyyZ4k/R4euISQ4OhLHmBzgcbsiQDIhnoVSGKhOPMqHSIeVpPQ4hqjvaGOhYof6ouho9AGLRh3oWaG+hdIbbKD0jITcaWGIYdqG7mk9CIAmhsYaCjxhb0ImEL0woUyF+GZYWKGdqKdo2FyhOYTyE+hfIaEEChloZGECAajM2HkmrYSOwqQl1k/TDhiitWG9hSofyEqh/oe/T30IoYV5phE4QB4dhK4eQBzheYX2EYhS4ezIL0PdFhT90o4Rfbjh17CpA1Cg9KeF90xwdy7yqMYfOFxhi4QmHLhVoQfTnO6AQl4bh14dhqZhcON+G3O3YQqGvhtYe+H1hn4SQA/0P4ZZ6phoYdxzmQxXAvRwRoEQ2ZehPYfuELh/YUeGDh4BEvS2hqnrIHrhSEUpzmQU4UWHTUQjMvQehmES+E4Rb4XhEfhx4YPTERfnqRGUiV4WGE2aQEYCR7hnweUB1h5QA2GD0V9CMHBh/4bxG3hyuFfSCRIQYeGsRBEbPSzY2QIy4th0kchHieSYaNRqRWQApHmhE1gREiAc9MiZx2FmjxHaRqEUWGmR+kYZH5hFoYWGj069GuHcRWkRREjaEYVSi4BRglhHgRTEZBEsR0EWxHK43Ts3QLSbjohHahn1tuFhRTdBcSHKCUWECmy/kaaFCRVllBGiRy4YbQa+PPmOFfK2oRt7bhqYi55GeJnvxoQRxgd8ErBAwf97NCdUV2ZwcDLO0C5RZvjsGlhhUWKGVuUMkSEVWBobBAtRFZBF5ueX2JVGBR1UXOz2OMgo1Gh2Jtg1FuGOpmWStRkkX+FFgRUVOjLRw0WVGReY0a5pVRXwVNG1Ri0Wv4HElEidHLmzjgN7tRmvmOFNeRUQuhUEtACNEVR+0RNGHRfXEvwP8qwfD6y2+dj9Fg6bCscCRuLxKtEth90d1HJiDeC8QvRUXuNEZRZFgApfR50fnpr+4dmTo6mlOGwDA2oPvlGXhEMROGvcQ1tTi+RlMK56vRuegdHM+t/Pfwoxe0llafa6MUHqumRYknhdSlQR1HWeBMdeFQ+MENHhjSO0aNGaw8Mbd7IxjjtTHc2ctgDEU6VgVSG4x9odzFhhQELmjWB6dlTDkxcMW9EIxn2mLHSxEsX1xMxqMZdHhiMeIwBgxd0bZ7dR1zqbGkxGsXtGUx70frGL8d/G/YYxaMVLFuxxsesEy4tOtEG3R+MZbGExSqNLhdIsMfbF6aVMZBZIxLsd9Gex/wdcCGx9MTqZEU5sQHHNeyEcnZEUYccLFaxosTHF0x6AgzG4uHsczFex+II0T9kxLky7ahFdpLCxsbAO+qTqprvqCtEjFPLGiORXhOG6+t9q3GdYjcYero2aGE3g0QdqqDALEHEfQEKxgcdeEb6Y8V0QCR0YeGpNx3WqDBr289iRFTx6cRRE32q8T2T9xSqtaZ2qCJMzisAbpBPG/2RNvWDcANcUqjHxrpGEALxDEUvEDx3WhCQhklpPBH2Bb1lfHah7+m/EqkoZPRFpeE6i/F7ex3JkDakFgBtR6AkCVMCvijgBhC2At3guy04y8RxJsKppPhDvxRgOfF3+l8dfFihHMAGp2AZpAAkfxGEcAlDqB8fHEQJOpLTgwJdCc9KsSCCZURBmGCVsjUAsCeQl1qCEUC4/xhCUSocJXCTglAJFISAnUJr8XYACk64EKS4AIpJ/HQBXEUaLcA/CROHiwxCfyT64MiUwrukFCWIlUJ7boMp2ABpOhjlAWwRMol28dqonXhzfhCQmJqpPvFBmn2pLLV+8cU0B/E88sDr7IQligkfq6fh2J2ACpFXTKkhpGYkaRqttYlhhKsBolBJSpGJgAJZibo5sE8iuX5CWwgBHipJ8cS4mZJc0VNFtUnidBLeJ8cb4loJGMi3yU6JTsoxdkytk3YX2KiQQlqJEolUm+RGnEmS5kqZOmRVx8NmO72cPEFNDDobSSmRpkwvopF+hcHIMlZk6wjUnM2PSYRx9JC6BMkMwIyUZEDhdEIMn5kIEOEl1JpLr0lTQcaOsk9QyyY5HGREUFDZoMWyaXazJBXH0lKoUdmgzUuCPq3hN4jyprpSQ6LAjFVeRjPpG4JZ+t0nahQ6FRAK2xjKIlPhOAvb5c25fNYDvJpcrAbK02dEXZ22tSZtaRJyEdMZwpatJV6q+fhAESCAERDryN2+Cf8lpooRDimFqMwEla9eWKdESCAV1BepIpViQ0nXhgiiSmiYxoJikUcLKTERFQMckQYWRS9iikURnzpymCAsRGEDspKquKShQcCNKQ8p5kZYkWa9SdqEWYMSVKk6IMqS0lwc4dKQBkAUdPbRdJESYylhhCWL1FShJIVqmR0dtOUDipa7K3g20uqTHT6pdSQKm9J5EEqjW0QyPamcA1qcACYAWdGrQXJDKQjwMwnMHqHEhA0TBC+p8Kd6k+kQCtNR3KZkXSmEpkfAzALoMaX6Txp9kUppW4Q9iOoFAIgc3F4EbcsnTVJvKfKn8phqdxwMwcaIWmEES4FcDepWgEHjpyCKfbx8pAUoqnJpMXENZNp+fEjJnicDAgxHe7cUi7OphHAzC3JA6f5TRpO6PaToYStqWn0pCqaOkFcHMMOi2ks6aUCgwTEvm7d2H0YvwbpZQEwllxwAGfikAuKbfiI+AaUukVpSnBzALop6dfgXp9+N6nGE/DvYSpBv4X4aOBPUGJISSbZCYTrg76ajZD+fTm/5r+GgQbiLBFAXrHzeqvv+lvpFhEnQtpeCaMESOyacpC5or6Tt7mER5OC5peucrP4+JnAVBnixsGRRw6sUQcUIEeGAWMHXsHMGjChp/UUwmIBouLqxqB9TqBkQBQllcG6B+ccCFgJpCsRnHUpGYjFGCh/kcwEBV/u1KWsbAJRmbC1GQ4FPBY6RuojSMmY0H4ZkmfHE8ZusbNECZ87EJk84ImZ9riZBGWBlSZtFhwBQBuvAplfpSmSul1aVEABRgBIGe34oB6NlYBDYtOLMHo22EOwA0qZtqdFUhUGbxmQgVwSJku+lmWpl2ByJjZmxBtGWBwCwcaE5lnAF5MgFM+zrhPaeZXAe24dCvmUcQjxgWQv7BZlwaLjhZGnI0S4ZyGfRyxZuwfFmVpZkLmgVZSGWlmmyHmVUTeZEKTAKc0+WQFn/eQWXX4lZQOqXESmTWWnTrgVrEQY1Z6TnZkbcAsEqijZZ5KlkuZhGe5lZZHWRLaxC3Wf5nv+RWQNkr4YWTBkq+Fmbwz0exDopl1Zt6bp51xq5C1kjqbWV5lnBPmVtknKvWfHFpRxWftmlZh2RFmrkE2TFkMeiRt+niwC6I0S/ZsmexkaZnGW5mdZn7PdnZZpsnlnbZhWRPgfZoWV9lxxdGnRCg5Uwcw4A5qGUGkle12VMF1CkIFBlGBm9gAqmZXGatntZj2TDnXAiOS9k7ZKOXtlo5Q2UbEjZHALdR/Z1mXjk0ZaGSOziwjWVzlTBS2Q2bt4ZOTnKaZ9OXDnrZutptk+APWczmQZrOQdkY5aweXEfkS/qdl4x02Rdn2c4sPNla5s5Ldma6suXTkbZggs9kFZfWQv5f+wQfjpGajRJ+Tg5FQbzlnZtmfrljpPUXXEu56mRSFU50OZbl9c5udwGa6jOTblvZVIfbnmBumYo4WZ2VIlTa5+HnznnZAuXRliejmYORpUY5Kbk05D2WHlPZiuUjm25n/kv4O5ceUY5wck5DnmzkPOYQ6p5nuenkJZRMXXGJ5fuRDkB50ucHnHcoeTlkAKEea9m5JKQtHnl5seRdGc5zZDrmA5M2a9wbSwuSoR55MuVlmB56WUc4D51uUPl6ZvQRBlO5HACoQdkQ6Snke5cWc3mVp0IVnkH5bAFOnLZZmfnkSZUOWvkG6g+cj7cUu+SYZmsnAcOlp5QaSpCqZZwHlQUyFub9FGCL+Y7nI5KuVkGDZYuknEsxmqUhnmsHMf7F65Z+benVmL0ggVS2QBYXnD5XWcXlM54BaXmQFkRNAXhZtfjziIFeUTPle5K6Z5It+FBVgVKacuZNHcCm+fxnx5dEC9Rf5cCg8FyBs+T1B9JHllMGAFSmhLlTBp8sAUsFeBX5kEFleXunz+LOVAWfZ7ObAXHpL5JQU3Ruuc5ZA5PEEqjqFjBQ2bMF8hQzlsFhBVHl25Y+ef5yFkuhpzt5/LGnSpxKBUGlEJoUrXn4AIhYYWSFxhWAXWFUcX5Gj5s5N/5mFIIRyltkGhX7FaF1QagUG56iQP4eFkOU4nP5phb4WiZLSm/lS2OpgaxlOSBZEWPBNBbNnRJsEFkV1OMwV4VOxn7D4UT5uBQoXEFXBKQXfZbCpVmGsORdQXRFY6SBC5oTRcYDYFiRZIKVF0Rsrmk5quejnDZIRZwXHUzRVQX45yaSBBKoq5MlQ9Ft3v0U5GRmrdSTFmha0VBp/SUIU84d1N0WiFQxbsUSFOBXpnLFPQuYWKFJBcoUwFhcTqacszzuH7IF2hfwUdFC6PcWLFa/mcVDCRBYv6BFFeVUXoJthW4XrFERZsXJpeyZlLAl+xZ4UnFIBQrkyFBWSkWK+ARXnj/FAxXAWhFqhI4XPF+RXPlTQmGW2QLFLmUsXJFAJXCW+K6RWnSZFouLSkbF0xYLnVo/+XWkjAHxUJZfFDgkQrklI+btlKFbOTcViCWVhUmVZtJaCX0ldGQCmwQwpfWlMFZRX4XwlSucEV6Z72cMUqFtxRiXjFl1Cow8FnMVEVBp86DsVuAbKTKWwlUhRUWkl6JfCa3UIpY8W5FfBbiU9QSkAaW84RpeLmHFSwYQGylqRVbn4FiJWSWmllITyVXFfJWQXX+PLFqX3BOpXkVtFK6SmhxWYZSyXGlvRblnmlKxRAW/FqJePkWlTUcpJuF1pdn6RldpdGWzZv6JCXTk8Zb5FpFJpd4Upl5xdUUBlZeX8WZlqZcenGE4ZS0VilCWURh/pvAC6UJFJJT6UBZSJQHaUliCDqZHI7DB+nalTxbqXJp5EAujjl3DM5kcZrmU/mSCB2ZAoLlBgDwx1+3+U3lBpyqbBCblJANuU84S+T3mfs65ejYkZsBjKl3B7Zfzn7luaLeVvBSMq5IwCaDLd78MseGUxnQ8CYglsJ0XmKpxQVBM+Ulp95T/mzlSqE4gUEdbNQS+U2ADfnLlK2XWVm4zQEmUAKX5WbFGAv5cwn/lmMVkCa42JfboVwRZa9z9JaaI8SVeqYOrG1E8IBmDMwmsGTGgItFbMoMV6AKsgixRioMgLIoyB0gTI64DLLcVwyIsh8VdgCsgacFLHGlEVDOiRUI8/SbmiSVZ0CLJZWIkZwB5WFLN0DXRopWw6yVkfP0kyoGlbSxJRQSvHFSQyCQYBr5FSeCEl61uJriWGWgAiD3wclYBEwQUYX2nUVOWHUhkxLFfRVfYZMRCBReZMeVHue6sf+h+RdQFXyBI/IGBgI+EVU4JRVjgGzJIY5KOSgcVucbAZT0EIbZXUaFmg5VOVele5awQQtFRUcouWIoL+VKHn5V2xoVcX5xVASN4jfQMVbVVHpQ3AlVJV8nqlUUakcV6V9cOEBWSrFbVFlUEVOVZlp5VVyRtxFcIElWG9eHleJgcSFVYFXVVZMWFUm2dVa1UNV0VTLKrVLVZNxtVsEMlXoAnVZxVCWfVfgBGaTYTZXDV9lY5XjVZFXxEwQpdCVWeVxAt5WrydFQxULVVVcFVYwy1c1WRVG1c4BbVVKmtW7VANe1UpV7FV1WOxoDpUkjhl1XZXOWY1c5XpuM4VThPVc1RjKvVMIO9VVVAVV9W7RNVeFU7VOPAlVNVRNf9WfQ30ODWHVkNcdXNxEjOzFMa2VddX5VI7FNDieDNejUcJ5VXs5vVrFbjWVVjFUtUwQK1cDXE1oKKTVA1KQiDUk1YNftUdVtNelWQK94dhTqKzNYjU3VclfZ4q101FzVlV81bzXY1/NULV41Qtd9WE121RTV1AjVVLXyqMtRLVy1MEAdVHVStc3FuhZ9AokahyUurW5VmtXpVeRiIZzQe1eiYJxyYz1TzU+VH1Q9WC1QVQTW/V5NfFUA1ZNZbWJ1lNfyDU1LtQ7EfJoIe5A/JvUq2w+1o1X7Vs1sUaTSPx6nLNXc1BtZHUC1i1ebXx1KdfVVp1gNUH7210iHtVO1CtWlVZ1n6r4ye1dod+CF1AUkjX+1AGn3Uh1HnGHUY1YOljUOKvlSbUx1wtaLXS14te3VJ1ttUgJt1b0B3XO1itT3Ufu/dRvGD1V1RrWs117BajbiIKZPWV1+tZjWG1c9VHWm1sdaNEW1YtVbU+IydW/Wp11tenXy1ENd3URx0Nbjx2WNEQ+B5150gXUn1vtWfVgcFqFOiERtEeXXfcU9VXV31NdQvV11cdSLV/V39R/Ub1nQlvUgwjtbvUANn7DWHFOQtAml0lX4EPXUCI9WzUi2RVapHzgetV5VL1ODU3U/1LdbFWr129cQ1d1UNdnUUcY9PpGSRtDZSL0N59bzEiNLDTNWlVbDfXXYNCdZw14Nrdbw1ENzdRnV71gDUI14OgOLf70cPVuI1GikjbA0u2Xzvo2sNL1ew3KN61c3Wf1K9e/VU1f9TTWkNwlt1X4+G1MOnGN/4qY3cceyYZbr0VjTzWKNy9XbXqNnAJLVqNTjb/Wd1/9YI2jxyUZFEbyxPD40U8fjUpx7JDAkk3BNBtaE0cNdjVw0ON4TTE2JVLjRg1VV6Ddo1kNHjUH4JRnALzbdUbFEGFpNzXBk32ceySBJNN5IaHU31CjVg1hNm9RE1eI9jfg2OAhDZE38NKVZ9VC1VTW43kN9NpUnLaQ1QjXQNt1X0k32XYFQbuV8jdY3oNz9XJ6v1jjbg0210TSc2xNJDQk0H1pBGe6tpl6q004c7TYRypol9Tc25NaDXzXz1BzSFUN1X9So2nNPDaU1aNbjTvaGGpfkHZdIyCbMSL+P+tmXCcrgTMRWE8xF0RiNUDUXUwN/jTA6qxiLXMQLE7zTPX31ONRU1m1AzQU2g1ozWc3/NFzQI2TmRrvzrQtVpvHGnVwPjjIphGzonLn1zftrKCxFMcdyUytNvXKelBujK7V5nMkGGneHLbA39+MEMLI8tmsbUbXmwDcACKybkU7JrqmLTKiKy2cS0q6y5zg3L05cQh6VVlsonRAeyqrc8qSt/jVo4ey2rYILNCmukYUmt+IN3LMEatWi3D1xdefWWOLrbUD4tFOt80/VSjY3WFNqjYC3nNZTXE2uN++p1izOHxtXhLOxTjCD2UujCs0jVHrRi2ZNCAUm06MfrQJgBtRzSU3htxTUM1At5TdU3XAc8nS0dCHiXS3KSFlFgxstNDe610NnrbA1ROIIFpSQg6sHI3h1eTaS22N5LUU1jNEzSM1cNwLUYKVtirQbo1tirZ9q8A4VBQw4VQltQALtp0AXHfFcLfiAdtelMpRutqzei3rN+JfRIWUylLm35Y+bb83HNVLdw1ktstZo1ltbjZO1Ou6+a8ImudZfO1I6S7fHErtn7eu0clycRZQaU8NWm0ttGbR02lG27epRntYKBe1BtfzSG0Att7Q7X3tkbZnXHcT7f3mvtcFnO2rtziMr6faP7Yu1/tjgsemQd2lHu0gdEja23+N3RmR3lg0HSS0v1l7YW3XtxbQQ3DNO9TS1jcb7eeX9cPHVyXoduHV+11lhHWu3sFgMbYUWUPwEO7vmkDfu3pth7dMZ0d0nQx2wdgzex2lNbHeM0cdUzVG1F8GHabIztz7Th2/tt3qJ14d4nTLGSdnbXZQNtTNc21UdYHc827OdHbZ2qdNjcG2DtobUh1r1KHZc36d/HT3bIigXcYUftRHWZ1CdxHZyUSdJEhZR2U1lMB0s1ince02dVlO535NA7Xe1DtlLQh3Ut8TQF0it1bSF3lFFbZF0RdpnYqVlJ1nbZT2UFHUl1yVnzq532U6Xf22edWXd52ZdyHWO0PtE7cV0ZZwXdh0G6YXWJ1r+5nThUpFFSa50eUlAK5Spt9XXpUYmU3S5QtdTHXB1XtuXTe2ddvnd12od5bQZ0jqRnehUTtZXaN0ndE3RIFxd03V5R1dp9Ye1UmS3QfDPAK3Yc3MdJbUW3DtOnX51cdfXPt2a6h3bd7DdFnad0Vd53RpxE4QAA==")},function(e,t,n){var i=n(1);e.exports=i.decompressFromBase64("FACgVBldO38MUglKMACAigGwJYGsA1XAUwHd0BlAYwCdcAHAFyoE8A7JgQwA91+BgocJGixosKnBIZsufNhSMAMVzYS6ADJdWAewCuTAFzjTZ8xYGS06AApdaLAIwmAsrgDO1Eti7tcBh7oABI+DCS06ABK+upBlgni1uB2DiwATCYAojwMtCQeHgHsIWER0bEFidViyRj2jugAzCaU3EwkALYknBVx6ACC7AAmVO1dPSyU4dS4AGa41KXY4ZEx/ZZ1qY0ALCYAIrj51CyHXroAbhGsNbdmWw0sAKwmtvkLfOtVdz+mD2noABsJgAwrpOLRdNgxlwOt1el94r8av9GgB2A4RXBXUZtWETBGVJHIxJbEnk5FkinUlFKdBZK60VhMAAWuHYAHN0J5uSVsLoOYsuNDdJEBisWVwAEYkJhCkW0YblMi4Vns9AkLjUFnoBgAv50mlGhJbACSJVF6A843hTAANLrDOhWRp+ZyCixqFwPFUFrRrVbdM7JSwXbqHEVOehhuCWNbdAx0FtYcGNH6A1KnR4WaKOgHOrDtQA6Y33Q2liu1OkAIQAcso2JxeJXjVTBthoWRRcMgg4NLQiS3qm2AOQCMdaVURYVWpj0TlBHrUfk+0bqyMc9ToACO+l0ecp5fQIHQAB90Mh+A1JiyCjyC7R8KnZwC/KMeqNdHN0H50AB5KIXzhSYyxsAQAG0BAAXX4P9mGKGch1uNsAG8BAAX34AAtCIg0tTpRX7EgGFVYpiSQ/g2wAHgEAA+fhxQVdB2H3NlOQdMNqFjECeTmWJsBuAsmG1EhP0iFiWBTYVoWENsRAGdA+PYE5imYrhunQTp9AzNMoX5MhRPQKUbi4dARxAMdLVVIIJJ/RSAFp2HUjQrCPdAAA17IATQEJhdHwHpNMLHV3KMp1az/AAVdAfIo1ywLils5MS1s3JSo02wAfjxYDOEygRItvPoNB5UyvHoZggIJFgKSysEIShfLBEKjQvm5Xt0C4hroWtfFbVqo9MvqucoXcYZhnUABedz8uGyFoU0dkNG9cNGi/Dz0AHLdfjq2N5qyEZpqa/g5qhSd2A0B98HZLkP3QdbQq2lzh0GpTqGOoQWs2yp2rst65XBIcsq4DkOVoD7mqKp7ft/EGwZIDlYVU/7VJ+LKFh8YYIf4L7odKxTSGwUYnI0isstrZzsfSl6EvQTKollSLWHCKnqfMLKlTyEgvQ6LGcahn7LQ8DhuD4HlOeOfFRjfTTcA5FkWBlTaukuQzBGSsx1TDPimH0fISwAVR9ZjyB/bAOloJy5SuXlrU1UZNkGn06FlbGvq6jpei1gWtx5Z38kkkZNO0lhbKVhgnXVJM0rMfkOQWfoZbyAV8kKaNcGFAVyMPWnMuT4Z9BOCG88hAuTkmn12B9fLLRL3Qy6YSbtzwfALlIMhWfZmPTGrG4lTmLhYkk77fd7C4uDUaUtz8s3oXzwumGz2Tu/EP92AEn8GAYPAvSlaegyeoIQBlOZCOjEgFn8JHAYsyaR0vEQNbZkkn+fnaV7fu4tkoXQNMPh0W5pn0MpAGJQSZVD7D+cahkUwDk4LgUmX8P6f1pLTFBOcUiRXrkGEwAxxrny5jzQycxfAciCDPAi+QCGS15opYB1Al4mmQegphaCWFILApFfYf59joEijwv87CLBbAAOJRAGLWXhPJ8jby1IZFUrJBiaE0HZN0XI5QaRBroB0mZJLUG8MwYhlp1CI2oDcR+dJ8jenBB4EsLVjaQJILubEwoQIKJ1GGSgsp7IkFyKnIogMUJOEwh4IMplQIpEoFkSKPi/EFACSUL0vQlZcU6FKJaox3FKJUSAS0YiJH7GQCWNGzChERIwGUkpaAFA1NqXUyAqBgBNOkPU1pbSEBKHaV07pEA6SPHQC4dA7gvA+D8AEbSyxVjFUYZWOoPT5mtM6Qs5ZChGlRC4GQSKviWCTXQChSgIIJG1iyFEAA+vwgA0lkWspzXADEiiCYIpyJFeUisEU0tYRHoQANzACGOCVgBFtLrM2ds9Auz9mHNrMcs5lzrm3PuY855tZXnvM+T8ppQxWBtHnFyXZJ5TT7GuZFU0yhTQnLPFoU0kUTkDE0KcygkUogfJEZSzQ1LaX0rJVkTQvDkC/KxTim6f5aCCsBVKM6+L0CEuJaS8lgFzzsppeI+ljLmWfLZRylVpzuW8spQco5Jzzl/iuTcu5DynkvLeSy/lfz2DYrnMK2gtZ9BpPKFKmVtYSXcoVVS5VdKGVMpZZq/1XLyV6sVVqgNtYDauGrCc21kUp4kAphpD1RKvVyopZG0Ngb1WspzZynV4beGFu1TGuNCbfmqExqmjQ6bZU+pDUWtVway0Bt1Xy6thNhgurdZEXZSqi0VvjVEX5ghxQZw8DWomdbwXHmlRm718rm3atbRq9tYaeVdqaTO3tzkRV4gHQuz1y7s1+pbUGjdF7tWdspXTW8KxcDDEmjsQEAAGAAHO+/KI4wBjltX8jse6j3zofWEZ9r6P2fqcL+/9vzgCqHUHO3ZJ6l1Zt9UOtdV6C03o7SWi8CGwSdAYLoIoHQkMpucvO4jpHyMkEo3W/paFaNkanIx5y/SMWsfoxx7o/T8XAESCkBmwobgXUMjPbSy1mKLHKP3dkpFAbWESAAdXeTSygtgBggiyKu6NsbR2UtPRh/TqqcNmeLdus8QmEh/lsLS/hZzbCaANpQSl9nHMAVuR8tzHmHPiKc7cg2mgSUudNIcklf5az+a82c/YppCCmkoKaaLNnEiecC959dIjTkgmi5F9LdmAv3O85oLIlB3Pnky6Vs55XKunKyJgA2dLYtZbOWIrI9zz01aC517rZymstZUdVkrQWhutdG3F05EVIqNea5N2zlheveeZSI4Ic3KDvOUNFKb7XTnlZ2wy7bu3/xje8/lzQ0W8t/iuzF08S2LCUC8l6gY7lTlrY26c7TURrn6pe5FN7N3XB3P+6997l20vnme+Dxr7kQSaAGOa1L92qAA6ByS3lemHsZfO851zlB5vDba7VnzMbCcTZG2d6brgQtzcpyT8bC36UM726ThLhAid0se+YW1wmMAMmuGqKMui0ew6ia4U0N27v8Bh4D97h25s/b++gfLIPiXRx52YFIWQpIdmdP5HoQRgFymhOZEcDppNrhKAWe1upfDeCCOqTAhArR0EYCwawTTCAOAznvKjaa0ONpXZuvNba8Nbr1YB4AXiXZMEFY6qMmV/au3nQS9DTbQ85cs3e6PLSVkF5QNUwvJf4B9IBJkekcTCiqVCCscoiI2ZzNLy36ASzW8d8aU0oVnI4LTj8rQRaAUwOZUfSRF9b6v3pF/YAkcCHNACnlH32gsJRS1n3CPsfkHJ+fqaL+iSc/gAL8FF6bAy/V+iqDqh0fEGJ/QZ2L+t8h/j9L9WBfkVm/b9Qa/U8X9opn+L6n7n4D7uSWjX5b535fqAi/o8D/4IYMy+CgLCjL4D7KB6S6BkBBDgFf475oi/qnwdgYEeCH4IHXxORn6rAD5vDcyiRVDYFPqQGfqfq/qEK0HEEIbViqjAFr4b70Hj7f6foACcv66STAB+vynBTA3Bl+owfB2+H6ghP6ZkohT+EhXBb+A+H+qG4GDB3+ghsGyhqocBwAkh0hoBx6Oh/Bk+gh0+hhTAsBtAh+TSOQXMNe4I9UvUvQUqWGBmlamGUa5m+ahGwALh/ixQe6DM343hARVmEai6weFKtqoR8S4RPakRqgPAaBtAQk86NEJmTalh8h76ghe+ZkRgY49EIA+R8qp4Ph9KI6Ca6A4EJ4N+uh1hD+ZkkUY454hRkBghv+ZktY3R/ArRVhCh0BZkUQwxvReheBZkpo0xoxRRghzBZkBsixEBehwhZk1YAGUECGyRbh7ABsTkTI0hae1O+2LmfmbOQWku5ObKgByBGhPBLA54phLxzqG+SR1eCSnBpxrA5x+KK2+ONxlxpO9xYJIJwWoWpo4WkWKOjO3mHOyWiJOOFI0JOWN2tYhW0OieHI0hQ+Gg6J5IL+QBnxQwowiqTxFB/eooH+1JJ+zxdJtA5hRW5I0J9WVW4JQWXJXOVO0J/WyqSJHWv2A2/JIpEptx3ms2UpWu5IpBSBtJjgooaBhBmB96ipCEypVBxwbB7JJIHxLJlJlKRpK+mhkQ7x6hLJbJ0pZyn2m2J2kpiux2pK0U0eJxDgrAhxCSFxVerhCSyg9CoCII0kBp2uYArg9clQQZICxQoZ+u549Cv8tohkxk6AHIBkKmlgVEPpxQnpZxnx/pYR4I9EJJ5geZ7hNi3AvQ5ZZglZ7AERF84ZpgDZTZcwGRWRORdZpg5uxZKRgM98I48pYg0eDZYGBZ3pvxqk4EDZ/xXp5xDZ+xTSK5+eHeLe7e65pe5ejQLQMIuULAjeJpOU1UVAMw8wiwkyDeg4jsxeW525d595heXek63oJ5/UEK+wF8g85s1BHwmE2UNokw+USxd+Tg76ShI4r5xB7YU675kwDM4CeyFuY40F8FnAiFzkGKE6eAb5QFGFPQ1Guye6c6Mxb64FBhI43oqFuF06PadaHB7IXp6FOyeyX5A8Q8f5uAPAAFLFTUoFUG4FthI485TIY4IKWyPATARGKZkwLF86KE7FP5TAXFPFdMfFIxmx5F76pRI4xGtoY4zRZFgI4FHRI4Sa/uMFPRAl2lAx5lyaGxOBJl76ExI4e6VlmlTl4FcxblPaexC6+lkwRsN0lKgVnAqmqoOofOAgYVTAwVUYchYFX6v68VHIY4FlyGzk46MVsl4VkV86GVAeLkNlzl2xI4EVrIqF9qPeHICGNgQwswIE+W0KWQII0UvUB56cxMG++QziVC5lf4E4wiNYkcJQrIKYXoxsBkXVzEG+Hg+gW8uYP4+i8SvIp8xS5SfCIYJsjI6AXYj48i+V1AIcv8nU4IF0JwMyt5wAIIJ1nQ9UF1TA8ln535nF7w3FmELRGlmUEs3MUs/FWlJl4Fv6t18Y91513MTAjlbRQNlFIIbm/CrgE4gFfUwFnlMNTgTgwlD1kN98AgJVmNulWCY4oNfk4N7Aj1NV2V/AKQpNv8ONJwNV86BqLVsKJq8K5qSKVqaKrKaELNMKxqpqCKFqyKqKwaPymuggdN5NlN+JzN3MAcCeuK8+uAUoDNT1+FrFilr1v571alxlmNZl7Kux6lmtANXlTgdl6tyNgNmNrlxNquENjN+JMlFNkNqlfpBNTgPlPC1YII0NYxmNqxI4t2WQ+wJt/Kx4GAod4dv0/cyl3I34LoVCPILEjtbtJwHt1g6tgIOwz1bFOtKletmE4E6tqlMEKNB55tGNTgZVOdOwNtXl6QkFDt6tTN4EAwK1hQ5op8y56tTQ6Q+d2tHFutF8H1TRZdetFdGlBt6QcNTtTAA9jdGN6QwlrdC97dndjuHgPdugfdG9mtYGBdI9RdY9alpdC95dptqNeU6Ngd6Qul1td98hWNZl69GdGtuKTRW98Su9y5ggKQ6dstX9yeCtqeDamameEeYe16dRsRXaktAgtNB9IDKeTA+UuyPG7GagRVzGjtJGbGFGODTGAIEt2ZJ0KDIVuyseit1VLtK5E6XdO97Ap886fZP93dcIeyZkdoqFTDpocImEQ51NQgHDO9XD+KYjAjXQAwhgug+lqolKUjcIYISo9gHIxJgw/DcIUZSoSj2jXQ9ghQ+1VJI5FgyjXQRsEQhK+j290jnQ7kRjHgJjtjv9cI7kVjtANjwRZgFjnQnjNjiVgl6QdlAT+wy999rlngY4NDsoStN0IjogfjHjPoXjvCQT5F6QPlKT1j4Tz9YF6Qwd0TVAYD8edDytZjAgfjTjLjGTJl6QZVNT3YETL9TQkFxTsTZTDqFTvjBjDjTTion+GNTQlFjj3ozjzT+TglA9v6HTpT8TnIiT8kfTuj9aUz5FTQulBESoLTYFTQZlxTBtTQdlZA9AHQh+vTdjcIsjfkCjrFRzrlNz8jKZqoY4J4RzPl76AdrTwdX4cw983yUd9068NwTzdze1K0qwbcZGG80kGBokOikcHILE+Qow5DYgfjqjJA6jazRzdd9c2LIMJAuzglOw7TMFLRttOwlFfz3zYFOwwlfgRQdLpLulwCiwBLLL5FOwZlugXQwxcDDRUQ0ehwxwA+DqN9WtSlb1Z9vFZt6zJlOwdlorkNoorA4lGykl0lTSZwbdh9L1J9qlcrkr1dgdb6v6urC9Th+wkIDAIG+rx9ylRr19VdCrTgOwPlNrCYbzBtOwwde6I454BNOwZV7leNJF1GKEKF6AEb3QJdBtTwkFygkInQ6Vyac6UbvDfC6bWF6Ay5wAXrDAhVQ90ro9/5Lr1UprL9TwlFhbPrBNTwa9DlQbttTwRNyaxBl4hVGb0b3bWFBxPA3MhgJAJbhdzrldlbbrTwZlOQQ75zgwLE9qQKHgEl2yCGyg2A2kLIx+o7hrxdFbtox0DbdlG7W7x+ThWR3gu7Tr+7E7h7U7rlp8tA3gPrCbPlXoJE3AeAAAXmQVyyZU8MHZNcSwugm2VQtasP+04B+jPvC44fegTSZb+p0NxaJABsEcAOaBHEwPa5K3TPPOXM3AQG3OQBg46zK+W3e2jQbYCMJVh4YAGzG/RZG9G7GyQBLSkLoFKKEuoB0LyFaEbhoF7poLKNexR+PVR7fTR7pSJ1DegD7vQDmxpCOHfE0UuXVSuUfroFwMMEPQvjp6pSKtoDKNgMa66zR0bdp8MIZTR8q54HKCAiODBHuotAGOBPp7pwYM+yQP/QIC5/Z/Ov59aHuoetwJEJm2OEFzhz2qFw4OgNhSIFFyF7QKBqhu84h65f+pSnuj44lz2hceOZeJBDRz5dRUx5jJEdBfsVHa4DwlmrwtWD5CIqplkA6L9rV4QGHeV0TJEYg+IO2RcdUeenA7nks8IO2dBYNxniHtA3eqHkK5ZtntFfwB5z/HrN4Bcat1594PpYDNSTp2t95wzEUEqLWVoFZ2qfpCFct0IFt+tyQLtyUPih508yIj0P3pox58m6dft8MN950Dl79+aHgBdBeE0ZRl2bCNMNzDBE0R5yCL4NJh4L58IF9+gSqAlXD1Zwj4PD6Mj2N+dwd9tyQMd8+iBIOlZ6T6dywO59j4j3jzBOBJRiKkqLQL3Cj2IF9ym0M4HYCP6ymyTb/HRtg5ld0AT4IB58D0tDzy/YCGVVLxdGOAryQPsLCFwOLyIMr6r9wGnnA9nqHp2jd6IB51T+T262iJBab5wOJXeNT4VcZz4Br8IFb0wPb9KD4AVUpyQE74T39ymzl3U97ZRf9zqn5WZBZH28p1m2x2ZMgBc6YC93I29xdOabiwTWiMJa9+96n2OA2QhoIBD6KEJND0sLsn2YX9kVDzMPY8hdHzg5D09dX1w0I3HwTxX8X0310BcZRkzOENlzgyCImOeJRg79CMPzg5gHuHx+P+oF+XgChxbP38hroFkOtDPyQIVaaEED2SSJRqEDp9Y9v0x+oAzFxIqFv0vw97lUwBf+vxZbf8fwxmoIv4BmYD38zGs+l7bWiLpeknMP8wh2/5mVhg8wKDmiDsofAwBrlBWJ0GwBgCfKAAK1CTsAwBwdfALALAFlVdAugHgBgMAFeVv0v6bcBcGs74CMaMGIgRcB4BQdP0wlewnJ2sq21d8MBPAYwIIFmVcB2AZPliGoA0C7KnAygLwBoGuUBBCCbeCByN55d1Ag/bvgPwYBzp1+g/bgfQGoCSD+ucglDAugJqfpSuVcXADQN+b8syBgdIQshy1BQdFCv6QwHME/QWDKK1gtEBYOErCw0kUICwWy38BcQdmagsQJRiUHZ9LygfQQmZS8HEQiWJLciv0VmYwVBWhmE5D7xH7u9oQUqA2oIVcpdAZQ0CUgWwIxqCEfKvibeIsFebGCX6KxffLoHQ6pCyqvgEzuwUqb8BKMk/fcJ/wVbN1IKnQDwNuH/bN1KKLECIbR3fTCVdwzQmCj4IL44M5+CCKcBYRKrN1dKSoeftMP6HN0DmFLVoe+jsoeA9QjuYYkN38K5oFuWeCzNDnRwQ5bsaWMYSIBSBWMdwU/QyHgAtjCgggT7c+IsItglgwQboK0OeQWCn5YWWQoyH9WkzchF4Z1ToARBKDosIy6ASYQv3KD4wNwW4b0LMFwCdRJQK+E4BEAdCWhfwBQD9hoB9C7glwroAgCQBMAAAdckQ6HJH2h0A5I2gNSKlDUj2A1I99LoBODChqRPAUIHwE1z1DH+6+VflEXWGuU+h6w/IV+Hj7qD1Am/LAusODqFVlhxRaIWm39wMV+Re/e2Ifxl53456kFffqz2WGY0VRC6SjKf27CUAbo6gRaKD3X7mjFQvcA8HaO5jdhXAfgVgDaKqCXCGhODe0cMAv51M56wlP0UaN0rFMTwZol0YqEtGchrR0vZ0Wf2GCOiqgCY10e6M9FBBvRQgSMYmJjGbgSAno+dJ6IuQkBWAJjH3uMJP5RikxzIOgtAyFYVi/Ovo6sW6PtQZiixMRBbsWNLHlj+RxvJaCWLLHdhPagNOemZRB4gcchYxOenZQnGjD8+pgPwdfwDGtDoOINa/kaJ8rFMFmtVDUTg3v5yjjKc9YOtwClBGiyqxTWIX4QXHSin+5sd1HTF+pEI+YR45uvgWf4RAYK5fevh+K8ZcMIuj/JDBbHsYt8xwjYn0eoCAnWMJGpon8feL/FdBPh0wB4S2RpAQ9fx9jT4a6nYA5A5wWoN4n2J+DoT4J9jFwjLB37UhiJwEuEOaAthcwCJLYKidBK6AMwCINsCiRSCYkITOgDMWRBtw4nkguJ9jKIPuHxCoTKJcE6iV0ANERBMKGkASbv0knMTOgkUFfFXDozElCJdwISXCBOKnMuAiYV/jUB0ksTiIDuNPqOLnq/peJ5kscN+MgkYS4QNkuRFhM6AlBWOSk7ic5O8D/cVWKkQcnXwcnwSaq9UUYMIy0m+DPJwksyS5KhDYSOxBwuIWOgimiATJPEmKT5JTZ+TQEFxWYavV/R+QGA3Qh+iIX3Bk1ipZlegPLAYGtCQmM+C+HJyzGpSopTklWDbEDHpBXKrE1WHZIshaDLJPlESWQEDavjg6nwvGtGxABcShpoUy/lBNoCb8RgviS8OFNuBpSZJtAOSRZKcqr0yqWCIqeHzHBXijM0bHcbHylGJA0ptEiIPRJ1FQYH6kFa6bQHom9SjpnYpKTwwnBnTPpC7bpiFWjb1iPp/AVacZJamWN2A+kxMIGJGYpUIZK+A6X2UpY7SZmkxDAiNNmGbN1xcAlaVm2PBcTFpSoPgKeGmkYFQpK01vilKbFBSpJPE0SXx2hlmURJ4wV6f1ORmziGp6M0cU0FcpVSFYeNYGRTLWlgzwam7NybhIxH3MMZPlT4e5DnAszjpFKDydTNkmkzwQYUrNgrMAjnTwJ2Y4WapKZYaS7pb6B+gqLUlbCyMIHPsiDOqBpSyJV+VoU0DKp2zSBfZTWT9LOnRs3Z4EJWXeItgzS1ZebAWWBMpkQTfZykpCYUMlmjiyWWM5CcUNdnvS/CP0wCRhM4ADBaAK+G4OFJDmXTPJIUgOYGOpa/ocUIIEYCzKRkw10gDLffPxG6I5yykswnYLpScT6BhQdkrNmdIUmVJRAjckIbGAngoD3Z5TEKl3O7nCBG5mwsLnJ1OnDyowo8seYIEbnpCy5Q8v6XPPrlCJG5PldQJyEqo/S3Z88hea0L9a/pswuYCIO3LemJS/C54FIJ3VbkdhBImoKuLOFxRBA1E5QcaiUD4AABCEsCJX0Cgx1WakDSD/MoioAj5lgRudUPBAaN4OnsxOUZlvkYB750kJ+Uy1fk3QggZ8xwJ/MlDfz0AYCgBUArHBIUwFUIyBWIFmGJsa53QFQW3KK5cT85IwOCKAlc5MAYIQ5dADrORBML8SoU1hcUHYUKUfZ805hcMEEWAwEu6UPhbigEXwRAYKQ6hb0P3DdDG2v6YDgBhvEVh8Zyac0ITKNm0c22v6WwGRnLlHjp2v6faZzJ2lPA7K1YMqb/Amm4y3Z1snRXnJ8Du1YQFsJ7q0KeCuUvE6gE4PLMQWKyNZoSwCNnKHAkyyAs0/FDEtCmsZgEVJFOfBP9kjBLRJGLcE1M4meT0lwwJJfbIsWDTSZK8vshYrGlC8DAZSwKWHM2mqyMlYgrcABISVqzMl4g0CTwt+CtLGlWSloT0oKU+BsAPuTdpowGVPTx4Y/VJX7IaUFLRowUOab+PyWC4mQuXGRXktmUgghlIy/QNtMrlPAyqM0spX1KPEwczIWyjsDsstnhLr5J02pWIv4UBy3FiUcZZwAiCTLDFnUyikcpdknLTldHN5bQEmWXzplEQAmb4h+m6L/c+iiFaIt/GBKvFTAHxdrI3lESNlsStWZ8LdHCQdQgYwELpR+UszWhudLGdiu1B2TBZ1MAZSspuB4q7KhKw6fjVHGAhXKNKilU4WiVRS05GcnQJ8sBA+VaJ6czOSzMghuyAJmszCJwopmPZ4e9POsc0UoyqZbwVCdfkqpwbIBGelGERJCAWrs8RGiq5VXsunF89f0SqiICBzz6PYDVODPlWVTVXqBc+05cEPqpwbaqDADAXuJ8ot6/o3VC1ZYWiEoq9xHVAZVSABIbLSLH+LPCIJ6sDEZ9f0Ua+DkeJ/6/og1kaxUNGtYB7oBgXgL8l4Fr6RccGCa3uFmpzV4j4ubfQtemrZ6Zqe02a6gLmtL54zmO3QYmfRVdQyhaARXCudOLRBmVkRNiyueAN/RKgvA98fNk0gXwWz2AxbB1sPRvaysD21HWYWiFcqTrK49bUcWiB8qKiW2O0tEAqI7Z41I+GgACceoxTAA3RDAVKkPUvWpVx2M9ZdWVUvVjhb1G4KLq0MIFmRtIN0F9QZNSqXr1RggV9TdHfXxLm1JAWLuFw8m1oD0KXMLphBu7AbOQAGoir9KppNIXUHYbNVcrE5lsJOD60cRQMGL8RsNwoXZQWpg3dBIN+a7rvuio1waHA56zDdgGzXMbcNp9SjgRp2m0Df0zG1jbXNo11pqNLS8DZBvPWT9hQ8wCVp1QNbzrON8rI8cwLMgSa8AcwYBWx2E3QbZ0sGo9BihOK7hJNam9jfeoU2zDP0ZlfTQ/Kk0UbtN9G0DCJso0QaGNtAc9axPzqSd0GdMNBlW11Gfp6VRg1dlJXgKEVuguHGTeRzw1qUPNPm+6Z+i6khaQO3a+QoUx8oBtd1lcpgr+jDaXgktvm8DhuFVGi9NGW0pskhQAkla0iCW9CDdwq0VcEtgXcDa0MsFmQ/INmujd7yaRbSZ1eHWTeJyi1cbK5+hayQlo3U7SbCVi5tkeJKITbLKeNXLfdOCFWCCt2bNUdRnPBdbk0W0mjRtv9xbTqtIjHbVWKQq7Jj1TWuyq1pW1Fa6qseUBO5oG3Ti0hxcyGsUBibPbwQvfDrYIBu3FAPtI4sbT5TEbdCyhZkAYFvB3h/sMOCK52j1r2RQ6ON3FIzkkLM6TsptZVOHVVQBTLtAt2rGPKJ1nWlt4d/W0zYDTaaQUvEcnBTn7iK1mRVO4EbHfm0oDqBiIxm29vdvkJtNKKjOkgMRGDUll2ACGSgM3CHpw7DOg+JHYuqk4lU2mwlSgJgE0AY6l2gQbHQLubiuSq4LOhddFoVZtNdKsuzQGrrqGC7sAhVDwBrvk0mttd76MynrpN2H4jdH203fjrHas7idTlNpnZRt0f86hMeMLmbvw2u6YabTAJWF36FtMtxMFDurPIJKX5sU4qKEAzoHwjsnde7TXWzrvxtNg6bQQiIZSohZ78g764ym0zKpzABetEGCKdsL3A0zI7IC7VgyIbU7wIeehjEXyr4w8RGTehviXzYZ9SO9LexvtzBr4ATe9lffvdQBr6dKRyw+jvgPpgkngO9+4j/pf1hHTD+AWY+fTKMX1SopdxosyMQOyHa6saBUqSv+xGa6ViB1AoybLkT2gaxgqpHtOwuS72bo2eepLjF2c3lrJ9qBe/fZ0f1hcwMX/N3e6zgzDF59mMNZUIFANExma1+yrd+GK7b67KZXSA8MEq60UOeogZA71wgZnp9hRaObtAyW4+9MDF8SbtgdMwG8CM83D6UcKCLR4k0HIP3UTot2V77aIMNNgwZdEjBHgvyE4twAYPJ65N/u5g9vp8q8G2D2bDg11GGDcHHs9B2PGrIEz8AjK2+/1j2g8qV7Q2YfDVQunoOpVCqlKeg3ugqpRUCeuhjcPobqYD1IKqVQrUVVMMgwjD+VYio1oc22b2O2uqyWZGMNVU15XIACTuPPXAB9ZV7AQ31uR33tC9+UzohiJA7K6mkJxAsAwEYPhGl1JOkqWsXYCJG3mjEXDpaUE0sc6+jmhDRpy8QOBtQyRiXZ5siPW7NQz7FkKNsD11T5iykTdjsxKHp7Opv6HIMuH0BtHLwGm9/a4fa1iaEMa5J8isk3LjHlkO5FgHsBhFHBIa8x84IyHMToJm8UxiY4+Q2PzIu8NgbKUsa4grH0A6QIsO+j5H7B9gpyQcapm7ByiADjR3QfvsiPB0yuU49nQ0w0WQhCgJ+tpsOtlBah6j7RqDJs0opKhuAagH48JRAHwgEkPx+YfZ3ZDBKgTb6TZmZW2QRByCdcxIFLuOb4Enhk47XdzPwIC9kT+KpoD5T4gdgfjRTQeW8fT2OzZmbteDnSeBMxzq96hqXUXLMgIDdA7IE/dXLMjqA5gNUwvU3Jnykj+TZlboN6D1iTiUpnJuylbGxAEnRToo2EHrDbmkn9mPlA/FqZPlmR2AAmlkyiZDZ/5aT2umhWZH/xama2v6XmSKal3qKWtA4FU46bZbLbjT+KyxWZDICGqtFOrS4+0vUCmhqeF5B8XsPQD2QYRlx647cd+QXHTkTQ3mCGcmBhnj0I3EtPGcuOaCTwCZoMyQBTPwIMYeRhM0mdEiFm5QxZ4IgmegqaCaIuZ7M0jCuDjlzwCZq5YVwtOIGYKCZudLRAQylmrNGMdrRcQTORQ5YCsFTWGeHOtnLjybbnW0FYDqBJzQ5udDd1HPjmmAy50gMOd2TrnqpGbdADREL3+Lf0RYMcHuYVi9mP9ogC80wE0EZnt0IjBM3OaT2LmSAW50SJoJ7ORtDzTRY8z5TPMwRnz+QV89TvogRrBAwF+c0wDfM5nozM2NbYDKTmR0UgI4IsFkDHDqg0LWQLJboFYDc6YKMoVJBAmYiuoeB6AB4dOGhAABqMyLhfwsFAxwXuAc80N05y1B0MRHLFmZmxkWVBi0R4ckKQujpuLJfDONgH4tUW/tgewDniewA+gT9BymuVSa1NnKRwc4cjdWcuMSWV8wysjS0J7O8XFg2lmcDOcTN3C2LX9Uy6JeFDGXoQtqNs77mTSUB9A3HOULrBymWGkOZkKNvBfzMVm0z2u2jr+nQjWtLj2UyftcCHpu8TOKRyXSTvxUWtTQv2NqqHpJXKaDYJyLyOecuNq6ceSPeC/9zyvGw0ICZgAFK8n2ARVjQCXQTNmr8gVV8dcBfppyrDF3Mk9lED/BI14LH59rf2ZytxS3JVVuUQmdystXFK/V0WZVblURqRrA1qa7jzWazXJrv2589/utAE8lr2E37UoviuuUwTAJk/fyr+Pgm4BKl4OtCaNwvaVLZVdE5bE1OenyT7QzUPNXyD+mbzs5ta6xQTNfl6AOINXdw2jbfWsQf1ua9edMBA3frokf61KhrO0UFB3Vwc9udXN9XTk5V9kFVZHOXHTQWSooUwDRvzXgRplkEF8Y8D42Mbpl80CnzJstXTLWQZxNTYWuUpvzusHSwzcJvwW/ww7WgGzeNhrmsbON2YHjYqsY3dkNEQG5cZ6u9mnzOVkmzzbWZHmpdAakGh1cqyh641ZkUq3+A+TZWzLhmpG9Rj7OPYEzlNiIHLdyJ/nC9ya+YqzTHCw9FbZlTW9rYRt63Pz1GS23ZWiw632zTqkoIbcguXG6b+gXAGbdFva6V1v6R20MWduqb9bpMRW6IZSyfIdbdaYRX7ZEDfnugwisvn1Izsnqfpud+Liiv9sIWWbwoEO7+ctvB1aw9yA2CqjVtlVI7OtyWwbelunJObFscu/We12fq3KIWeXVqaI0jhFcJ+njZMVNDrYuiYPSCFLqU0h0DYyqJzt3Ydta2o7A5l28OcL1+b41q9y497ZDWAxDbBbS43VYe4tXLDcW01cEBOQYWF0Dl0ZS2fgsUxrYJAQrijafvKnxy59nytXZJSdcWZLF3mEzXCl33dln9+C1cq2TZE/zIDl+z7aTRqA82rdiBxEE6CY2dUwZeMmGUPnCA17Md12/JPrkJnJyLZwh1pemHCgrl4k8wAmevCcBbwRQb9qJBId3AHLinf3M5dcuqhDAqkQDM+YwfuFpI6cjkGRc4DDXd7el8cgBJgfjkMUfDuMgI/1yh28zTSgs6GarN9l6IkEEAHI/8mVXBHtAYR7aFAymXYyujhMixoMciPQRl4KVRdJ0chl9HhjuSn/vPvB14MAZxrD7azuMr7HmDrDZY9tBBAolAgIhwCTAehOFyiYaRz7dbu0OXQDDphz7e71e2JHSTtxRE8LJSWxiTQUwWZGosn7mtI4eyAU8oqzZ/TRt8R/fbgcTxBLDZ05KJUBIMAMbTNrG+wDggY2fBCZhp+07Pv8AunTFTJ9E/3v86Ryxttp0096djO4I8Fhsuwu0VTOoZ2u8bdXpQGt3uniz+49k+m1mQAApAU7MpZcHrUQvJwU9crFP70hevIb+gAD0BT4OlRAKdlUqIqnT02S0gpURaIwxFTv+zJaUVPnpJslsJVogvOFWZLXSqeFPBYnbgJVMln2pXmvONhJogFy5XFMBQRpxlMlj5WtOAYxj2x7pJMbxddIZj6AF4HYD1rTJu56xwl/i62PUu2kux3FzUilpVLklZLs+hS6sD0ugjyaUfrkQr0wvkqZREcIfZSB/goDxA9AIyASS9h1SkmIqKeK3A1CPeM8JWApgujSx7Uvp81Q6DhYUBRcWwGML0CXBeciWJYARkEC0jagNQ3oUgJEBnh+AxMjD58OVA9yJ1nwSr6EPjHigpAuYHwA3M+HwkPytAf4AYLwktBRJysbVKqP1C9zDI+JokaKx712Q/ViINCUSPlETfYB58VnUXby6lSZvHiBncl8EQ84e0UheCaQ+S/eL6B/+EQD2ueHqhEIrY2LKt6rhJuFV63THf0ITqociBlBiwTt8EFtdlGWQrAQd8O7qOsBqwPgWBR4CwSdvd69biKSbdoALvAVkyslSyE7f43O3JY4iJ25E7Cml3CQS9SRE5Cdv18jb/EM287ft3TbFVzt95Jbfsv1tG5495YEEF9LO3XiW3HKGoCduzVbT2gCcTiAeBVKgGEXXrUR0mcLiBb6HJ4szrkvbUkH9l1KgredvqwNbuYHW9bdXvPY+ITt8TbIxzvk0Htfvt2/feWB+3/71t0O+nCTvx39H7UFO5ncLh53rbxd1W5Skru13FsDd8FG3cPvW3e7hgAe4amUeLAp7m6Be+ebKRr3BH1t3e+5tCeX30QDKc+79fYPogb71t5+/EHfuugfgP9wB9vBAeQP8ScD3VSQ0cgy3C6dD626fcmeegIqcz4UA9q8PndqHhdIB5c/rwLPrbuN+ZOGAFu88XSQQPouxDPog3HtRvJy8WSYpxotnjF8qJB3jQbOMLqvSHRBZOcOCWHnD154xc76AFtb+DpBD7KYeSvhnBRewDK9ZsKv2H1d1B+q+w8uFHPer/l4+CSLfFJ4dr417PpdfzQLsW0CZfQC9eqvt2r9hoB8FjemvE31xIYupYy7Jv6XwGtS10oDBhTF8mCF7NZkw1qWwAnQAOrGLUs7KwwHQMQXS3He1xZkHMHrCO/yFqWPlW7/6DxroGBAM3/r9V8G/5BhvtT0F04GDrffqo91x8am7+q8wYtb6alvL2UjDEU3hCf6qC7fHNG6A5Tm6uCCbcKeCvMLzw3pQx/yf523svqadqHL5siPhQDt+S7qYMtsa7bhyoyoGBIr6AuiJ/mAcBtq8cu3srNh+doDuVA5bixn46hZ8B98jYvI2xz/y7OHHNIjHn3z44u3L4hu6I4NaCS84/dKqgbt7zoHIjPqPqv1b1XJ9UBDeBCGOjyvgY9U+kfdlU3yO+AV9l18SoEMz9LieO/o29voqqitMBc/DKcTutFBA9/iAvfTRewKyEO7eA/flYQP+BGD8shff/vsQJH+j/L6LY4fisJH+t+TuvyzAFkCn9LAwQ8/gc2HkHJEZu/HfUvtwyI2d+yFRfn2gQG780FscK/fYTgPX/A2N+Q/xPBrdL8ezR/NBO4tvyyCT8Pi+/j2dP8x8z+KJdkw/4AKP9HfTu1Ec73QHr6coMtXKM/lj/P4dp2+CWLvrNpX5+l1/qMM8x3APh39VVj/a+ajIH/H8D/5gcwWxyIwaoehRQpftDfQwnTKQn/zqVDcP8gvERWQhwf/nnQp/Tjy895tKHyyYU1ZJQdU/zHH0B8WGCoRghXnD42aNT4dDnAhMPEYGDMCwDRhL42vKAILNsAkdhmAFvX43mJCAhlFwBGHFmWxsiWCKmGBFEaNhoCNGUIA3Mi7TXkIC6AifyEtFfUQCYCSAFgOqkEpYdCSkEMfGxFQRPLJwe8YZDWwqsfnFGRHARPcpx48LfDF0xlmjFPjHAxA2gAkCifeylW1ugUnwQwJlYUE3cl/Pb32Zf0YwOwBN3FmU3ccuACUHEcuCfSA1goEXwb9HsRwMl9q/UQJU8/Xan1xMZAvkyaI+yY9UMDgAETzMDjvIkzMhFA4IOJ8veMIMPce3fwJ8okgzQIqtxA7nUTBdAy7SKowgi9QMkz3GzxUCYXHJ1/QpPTkEPxL3fH3w8OgSIKkCyqaoLk9ag4ll+QlPHdxKDVvNkxDoubfoR5ZKKfG0MoQgr3nOllyRz06Dl/AUxHAn3Fb0mDdKNeAEgcvYACiAdPbHy6DGZDc3SD2QTIOIg4g2wznR8gvT3UB6gu/B5YPddSHEEtfI4l+Qf3IzwHcJgvb3NYzIW4PgRjfJpB89gPPzzc8LfMANzoPWX9C1cUBS7we99TEcGARQPPGktVaXOl3qQCXGELqRiXYEHToRoaEHkpYvdKCpd4Q2EOhCsQ1ZBXIPg1zw8AwHX4J5YyqQEPu9Tgy0zBCvgztn7JrgppHMdToQSzpgmQyH1zpbTc5WkgleabgpRS6aSAaB1IdhQ55zHAUM6BvHPshFCHAQUPs5B9aNklCV8MUJlDm+IvxHJ5Q6UOtAa+KVAfszpXh1k8UQ+dCGg9oKEGndBQdgDZClWYSn2AKhP8xJDjFH0zZBoA1529NqQ03EhCfbDnhyBVQK0KZCDQpkLGgJoEgEmhvQo0OwBzQuxS6MeAYoQxcTzMyCtDDKAkJpD1OGVWwEmnEMN9CQwg6BfRgw7qDDDUglMJs5bQ4Ol9McGH50Usv1eBGxk6QhJHzZPQp6ndxmAH0OTdWQ0F1UtawvoK8sRwGgAqg5OcCATDQPJMMQxRQRsJZCQwk0PZBzQoKzMgsiH1iyIsEH0OH5RQXXG1AmQm7lnC9Q+aHnRKdEYO+cqw1GBhcErFrWtDxyae1W80rEcDtgDpJMIL5FwgE2HCMXQEDsolwwEy3D9A4qlPComQeSyInwuZxHIvwgE28cIxG8O1BRWbLiAiWQSjFAjaAJ8Ifs/w7UD3RKHcA1SkwIiCOp8jrKcJwZ2FFmXHIuFBITAiQI1CODpRWTCMZVsIuPm4UNRZCJ7RKHVCM0NMYK5WIi+yUiODk3+MCLAdJHaNhkdtFWsKyJhww0O6h/QqaB4iQw80O9UzINsNBclbKcOtNew0z189+w90P1U18bZF4imQzMMmghInMIkjhKWsG2RDKF8KK182U0DmAVI0cIRhxwiSN0ojIq4N9IMXXtQKlTPC6SyA5LAs2Mi0wpsJDCBIwMKMjmw2yMfDnIqyN3DAYWyNcoXQVZ0ewnIn0BMj+I59ADDJobyOEiJInygijWg8KJGB4o7qDTw+IlELUj0olEJEjg6TML6C0QeXgAEg2HyJhce7TMKsjAMWTh9Cso+aDI4qIfSKKoadYVzU4FI7vBcsoolELHCzQ0F0HsOHbkISJAIHII4dRQntizYxoqUM6A60UCQ9CMlLqLcjjweqKhA1Ijh2bCVo0MP6jhKQqP6jddFyzh9yo1b3M0ujBaLPFwDWsPWilokcOijxoKaCujNIjFy3sxIyMLk4nogJQOimiPsPiQrwkQCmiFQzQT2EBdBRGXClozaN6jzQnQWLkQYwE0tUvtGGNDJIosGL9CYo+6IRiEop6LGlvQC1SScw1H2wjVKAGGIJ1uo+aE8jJoQmNVBQYx6IqiyqAnQukKYnFUzDhwkAE2i1o9GOpjVvQp12iMXIbWeCYYw6IxiYXZZxHBMwhmPJUMOHENxC5AOEKljpYmwH6QMQGEWBtDINEJvIMQmWNliZADWM1jEARpHYpFMOb3C19Y/wDYUkhSo3NDtnEcC/JlwPsEMoSQxbXQjMYH52OdfKTGE7Y7bTmNcpjYpTEHltHMehNjigcnQWpybJWMvgfY1Kg6cnzf2J9i83Q829jQEUiiFifKcojTscHaOITjUNdPGGjFuY4Vm5KDbgOFZ5ndOMDjZQYON6co/PWgTcQYIUKaJ444oFFDZQT8SAti48ED59wIOuPBBfVBgHx4RyVSiriOQbxx5iD1UGDQ4JDH8LMB6DACM7ltgIzzvBHdXFHYUclK8ClC3lIoHnibocUL6kzpfwyj0J9UZxbj2ABuIthDxIWMaZpoxuJe9Q4g2Prjz4i2GzUigZFkCcfeDuMPjb4iIHvi5YTI0mBhrA+KPj34mvEfiQIKR1/i340VAASv4zgAgtwbEBIVCL4j+MASvCK+IDjwQP+K/9lOVThfjUEq5S6U+nGBOcgLYaiLs8o9EVD7QO1SlEnJUExCJqAKE0BPnRoSSEncxNZHBKQSfY1BN78o9bRV/8w40BDl8FWRNiTY1Dc8wPj7AwG2ESe0KBLTjuE1IjANdzMRMxhxyYykTZKKbNSESpE1uMa1IIPuOC9q4gLje9xAF+L3QwHFhNARiHJJ1nIfbdZxZJjE6RKJhfo6oBfjTE4Zz9I2yfhz0dEyOP3JBdGGMlcTzHXt3ShcyH20nJziAxJ7QGyMsg8SSQBsg8IayBiXYQX4tslgM/ElKEwTQEhQQiTkQBJLq1vwLTxbA+yEJPkS0nOPnSTfgJeLEB4kn2wG46mRNmEoAAEivlhA68Qil8ktwyADiE51HbUIgThJCcD4ruJPjAaRNl0pek1ROvjO4nVUTBgEtRPYAu4iRKEAX4ruPnQ5ksZLY54gEqkTY36D/mGTkEqZLGTftRRMRcQdbsx6SxkwDUsBFk91WWTmaFRxqpx4moHzNrkgLkn8o9GjQCMdZM5IWptrUDlWSUXMyGGB6ADsBjAyAc0z2T32PSDe1B5UpLeT5Bb/w4SmkLhJGTjiDcBFs+EwVxHAbDaxPBA50E8KcpE2O1UipNk1hNAT4EiBMXh82H62VMwtU8mvw09KDBrZIKMlKuA7YxRKK9GOT0xrZhKbLWbjIbQqxat6UkgAji5VKOK5SU2JFKZT1fEk1zNlYvdBDjeUlwh3hVQaVOVjsbQoUFtI4/eK5Se0JFOUN+koA0diiYf9hrYT2QRO0NeUqLmfjJUz60uS+le5PWs1Uj+1yA5UpgBFTVk67xFj7U3G0ZTnU7dXENWUgHwm0yEMdTHj7ODa0VSBbeVN6cmU+XlDSew34MbYW6b1L4Tcfeg3djBU5U35TGbKpKiNUU5bRfj1RTThCIKknxLDJ8ULUDIx0HZSF7cK3KMjocPAMtKWABJCty8hajGtNMcK0jRlrSK082HbT60sHVYAsWPUDbSW07tO3hWAS9S7TKmAYCiAREasDHTxAG13YAZ0sQDV550wdMqYl09IAXSkmJn1Vph2DdPkhDAHMFoBd04QCeZSEiICPTRGORlPTaAYIG9AWQLGk/Rz0idEvSOk69NvSQmQEEfSqmC4A5BP0/gEkIwQE3F/TRvB3HwAgM6sBAzKSGgBzB1AMDNGUwMyEEBSgM0Mk/ZJNRhyQySANQCQy2QdIC2RrQU5G1BcAddJXTxAEEGwzcMpgFORhgOYCwzCM8jNOQGAJDPeQEsRlEYzTQD5E5xiMsQFIzD0zjNEAceQoCQy8ASYFsBECJ9k6AkMqEFFAJM/kFoBL1YIF2VpM0UEvVSrWUEUzZM7iicA1M9wB4AiM+hF7diMdJGXS9MgSVowubOtAkzmgizOAYboCzMZBXeXQAXxT8Mc26AJMjOR8AgMriGbTjMypk8yWQCTMAzeMkQBBBWAPwCAzVeR8G1UdAMLPxBosjoAABiaLNYBEszMMSy8AaqUEE24TkESzzMwLJwcdAK9L/A5gCTVwUeM7zP0T8sl9MKzG0hwESyj0CjNyzZk7EDCz2RKxxyyysspJazbQaP2azjqW0DHMmAGDIazILB+SAySAIDIZAyNGLKGyBAQXCMzy0gSU9DrQLzPmzKmAoSAyB4bjiAzlAfCS2z8TLbOYy5sabJ9FMYGFR4Ats8DXOza0F9MuyiYK5RuzhgK5QAzOAc7PUBqwbGLayVs28VFYXs2B09gEkH7I+y60ypkoxuso7Mf5LRNDLBye+BBDGyoc9kAkULoQrK2z2M87O7cf4XBQey9LVHOtA7suHO7cbjR8G15Yc9rNSl+QKTLBy5gbZi2yMRanPwkcGLbI4yScvtxIBdAAYFBhaAN7l/hZQJkCAzOchxWSUboBxTOywcznKeymAQgAiAOgYXKZzhATnLe4mAfnJGBBcnAV5yWc+XNMUBIDkHcJJgM9JFyWc80AuA3gXQAQFIaTnO6A5wJLL1zdAN0QChTFGvVVzF/SEBNyTgB3KNzncpgDNzucy3JlyhATnIZgy4EgE9yLc1XMdS9IMgkczXEEPLVJWeUHJ9zBAeXL/ApQd3L3QQ8hmEFBrQJkBqpec1wEOy48gQG1VudObKBzxAG9OzB70oDNLy70j9Ary30/xQryvOCvMoAuUPPP4AjIoDPNBVeb3M+yxADvJ0AsEZzOJzu83gKWlpcofM152ATQGAQHAVTG51QMsHPNBJ804hnySAfACwQic9vPYAq01kA3yt8lkGWzi8nvM3zYwPfLXypslvOlQj8uh1PyOgDfOKyLYW/NbkSs6/MHyD84fL49hQDfPfzsABLPnz2AZfLnzz880H/zn8jfOqzSssfOEBzQMApAL58qIDOR58jwGY128xAtdRkCx4DEsECKzmQKtWdvIth18IDJE9SMmrLByLkPWD8g14oDO0AccrHLByqCpgAJz8AdfNoKGpSgp6BKCjc3AyFM2go3Ngs0LO4LqpSLK7zX8kQEWgBCkCyLze3UQoVg3RDRibB2C6qX9zKCj5Aqw5sadNoLlCljP2BlAJQuOQWM7QvULdCubFcAdClQo+xdMiAtu4NCzbCyA1C8/PZRDChlCyBjCgwtMKokLyBMKWMyrF+xcsFws8LKAX7BSxZzOwvZFhQAfKAy44cIoFBwKSguwF8ABahiKDIcAuELUeVSQQRKCqfNoB/8lLNoKMi//MBzJC3Itny6soDJkLJgLgBKKuAAKCYLz8m3I34YciooCh/86oosKXApIxcss8sHM3cKi0fOSKhAN0R4AOimotEgM4CQoEkxoEovZAJi9gEGKWigQHcBDTG/M6LPARFOqV6smou4ouizovrgSiglh2KLoIQt7cq00sR/yai4/L2LWQbItOK6HfIrGLj8okJGBzivfJuLKmXfMd00gR4uKKwcnSPoLRQRgvO8gM9fEKz3KAEt0BCsoaX3ze3QErmATdAEoAhXAA7NhKoge4kZzZi/gHXwyAIDMPjdc8/NrBbAFEt6LBAJAq+L+IMXIBLUC4ks6ATi1EvQA+0AYG/SyS8GgCycSwy2oBSSikv6KGS+YoZLnLcTLBy/wcaCAyFgg4oEkWeQUsoBPGIDNsBZ8yUpQdDASUtwB5S6gAALqS2wE6A1i6ktIwMSsHOoJoWbSElLS4BeAlz/QYoElK9YDRiIKki3tzxKgMnAAIAtkbUE4KX83t1tLV87mBZBBCm0pbhiAcgCNL/ssHLvyIgS4upKAytBKdKBJEMs+Lz8zABIFibTUA6Awi/0pIE2OG0pIEoS4EsTLe0UErmA/RCEvDKSBY9RtLCACUrBz1kB4pLK/ADRjpKf08svdAwQNzOwAgM0svNLVixsorKGMCWXpyayjRiSt4C8/KbKSAUgpVIKCrspIAOSkcv6KZigkoEB+yrkvHL2QSct7cZy5Ypug2SvsrbLVmVsvdBcS/EsXK2y5jVXLqS/sr7QeBA8qnL+AfsqFLNynAICgtStcvdA2gJUAuArykdnJK7yjRi1ZTy3cvdB3IHsufL3IbctbLFivsu5h8CkstEhGymdx04Ey4CvCBYQCCvjdGyqdMbKNzRsuqVhgVCrIBQKvstSLeS8/PkMyyvCtlAicsAqAzydYitqNd80is/igMyMBor2QPzLBzKAG8portwS0oElOhRwFIqmAR8q4qIgNisqZGULIC8h3sRipcsU80SqlB85JkupKeS0itYAPAT4XJzz8gsrBzu2a7LByayIDJrIGK5SoRLVK7ZCAytWadyYADINgv0qpKT8oEloK6koHyqSs8r4QYc3qBIxDKxyu4ASMOyt7cB8rCHBAwyyphJRawHcqsr64KLNUr6AXCpsqXTQyvIzNMrqGozVK6Ksoy4q5SoSqQBJKpsqEq/SGxL0qj0E0yH4qKpyrTkO2Azl8q60E0z1S+ysigEqiDiyqKq6KoxLYqkqqYAnADEqozGq5qsoz5gNqoxLMq/ivEBKqnKoxK8q+KoGrCqi2F6qxAfqtKqMS8qs8q6q05Gqrxq0QEmqKMhquGq8M1qrWqKM1KsarTkHqp2qhq5Ko9BRqvip2qZqqyroyFqxqvqrwQNKtqqPQFqturZq+6o6rHq86ueq9qzasGq5YK6uOriqz6tOQzqvyvIyMSy6rByDYLeBqre3eexBAgM//NhrZ8zvPhqV8oMvsq8i5yCRr8ASMupL/8kirBy1VICuxq1AYYE2Lz8iKiJhN3J4CAyfyuAqpqAKsHNxrz8sAvSBmi+yrAKUa3tzALni8QDAKsa1mtqMYCxmqGUMCIDKwg6M1avPzRao6u2qwcyWrwyPqiWroyDq6ktlqKMoqsWqRAFWvmqIa9WuEBNa79hFrga/DJuqDa56ulqFa96rg4Ta60C+rqy82utrfqnWqEAVakGu1qrakytOR9a0x2ABo8YAFsAFS0x2TcGYV3g/5JoQ006AQKN6HygaITKFMcu4yaHNRggSH0TYngHyj9qJwDRxVCiS+hEDrGYEOoLhhQCOvoQo6umFjqxk+OvuRE69ZmTrGggTUZV6IFFRfyc64OvCBQ611ELrlIYupjr6EOOoTqk6lykooQOOupVDVJLguzq6YIOo+1W68OrphI638y7rlIHuorq+6g8PMoXTdOr6l668KW2znI2tKbrJ6sOvbr3oOetLr3VcureRl6k9nxN16iohVDO8tLIVgMsmzIDrx63OpbqD6meqLrj67urLr9gbrGXrPWHQHvqnqLgEyy0qYGQ3rh6mHO8qLoXepfrm6wMPzqtozKFnro6k+oWogwv+qrqXKPaSgafK6+vQBN6imVLL0K5+vphX6wMPfrkGz+tQbv60+t7qsGySOmCn8cBpvqUVTUtgayG+BqnrD6zurQaGASaCDQREPuqtsRwTUvwb6ITKDrRJoHgHyhsIrNkkbnISaFYBZGwpMPw10jhonqQ6yhpQaS62hvQbBG4RsQMaydIHEa6YKRuUbAo9yXkapGmRssaUVSnO2LSGzRrfq26j+o7qv6herLqK0YRopNtmUxoUbugSaC4AVGpxOjYAmwMKlAQmvnRRUS0/fL3qtG1xqob3Gmhs8bT6gxoYayqWJv8abGqJu18Ym2iqcbyG7hrcaj6lJuoA469JrIpE2QeznTsmxRtsamI35CXSNGopu0bqG3RtSb9GtbD7rZ7JdLqbAmhptUbfkTzJaauGtpuSaOm8prLrKmmymqa7KTzP6bAwwZtCaKZXzNGb96xJp0b56qZrSbumrBqhizIXzMWbpG3JqOIG63IHWaEm6eqSbSmyZrjqsgRxh6abrXIGOblm6JvCkNsuJrgaNm65q2a+GyaG8asG3mJHBPm15tObfSLerJyki+Jpcbfm9pu2a46wFqqbiidXyhawWyxtq8xwcJorgOgBgHBbigTFrMbFGv5h9BPNJcnv8bqDDIbLCmsZs2b4W/5qRbZm4oitoqW9FobJCW7FovD8W8EA5apGkltTxyWlFRElklS5thaeGjxp2b0Gxlq0ocUkpWSU2Wn215bFGrloxafpbFv5ayW90IpbrSmlp+bxWsprjqyUWsD7rBCRpkIBjm1Pm5arGrFqkb2AVYCta1WqRoYA1Sq1qVbAmuYAuAQKdihGVJoJQnZbHWxRpgsWYOmG9bhQX1qtaoICluUB8SmFooa6WiZoRay6o1qTqKKLLXNaWGghqJbAmy1rsawm21vtbc26xsUbnWzVuGc3WwMIYBPWkNovgfWv1sVaA2wJqDaSAL1praw2utuGdI2lFVVLyq2NuKabm3hr0b+G5NqrrwKXSm7aLW/EAda82xRrtaIgKdqLbAmyttdaG2wMI9aW2uYFrbl26dsbaP+dds3bLGztvCksS6Fu+arm/Vruak2j5BTb9kkcGPaJ2joHnabW4tpdbC2p9sXaq2/1u3bV2qtsyhQ27AHDbVWr9smgm2vdrbaI2ilvWQCa6gF7bxm25sTbT64dqqbvKayXxBjm2dvBhX2rNoraX2uRrfaK2j9vragOtduraN2sDsA6F2wMJA6SO/dsFbwpCIt1az2kpoHbOm/hoebbAa9pgUwGoeuxa3mvJro6oi99FFa42uFoTb/mtjpTaivOOHAoFWlZsPwCmses4a9WpjolaKmvZqQ6nAXSkjAZO95oplIwHSuUgYO+Nrg7/mmZplbMaTYXortOvjt07WKnttPaxW5ToNay68TpHbvaU+Vs6rOs5vCkOKoTr7a/mwdsmgXO9TrKoOKzzohaKZTSoY6HO/tpU7pmtTtmasaSihrIwu1SHCltK3ztg7mOyVv4bTOnAjZTdKbSpS7ByCmUtFkWDLqM6suxFtjQU2po07DP4orvckKZbbJdyou4TvPb4OqVuq6R2iAKnD8JBrq7bZSuzsU6Q6mvXa6GWrrqQ7kAkcClLsiQwGOa8WzDuxbtwKdopkDMyYta7JoUbsc6L20+ula8ujTvno0kIIO46nWx9qw6m4FbsPxwMrUGVLoO+zsDCtumLqc7T6hHCiAU2tQJEoQM0xvAhsW4UAYBJQUDv/aQmAYiXIUVR0t87Hu/zpY7JoV7ve77FUZW+7fuiUGCbqOsNuB6I2lFQLyzKhTucaHu2+ie6du9Bth6R28kx9VxCxHqka/ugHtR6ge8MIPaUVXgqLze2yHvpaAu4nqQ6GTc5RCzB5Iep+7Ke5HsB7JodHvp7wpRQo26We0TrZ7NAN7pHauTaYNHjeepHv+6Ue39tbbaekHvdCUVUorkLxe/Hqh7sumHul6U2sUzMhte7gAp7FGqnpV6/2oXrp7Qe8KWrAEMpnvu7NuvXtZ7oe9noS6lWFNSd6LewJqt7Be4Xvt6KZKQo9zM5CHrd7Jej3qN7Ze1II3NBCv3sDCA+mntt6NejtpRVws/AA9LdezzQJ6Ou/hs96zO001jCHALPuFUM2zRyV7qe1XtI71ejHvClQ+8Hpz6xuqXpl6kOjkKHsOChHor6miKvut61e1Pvr6Q++PvEKI+3Pv1646wvv267QzvrELC8xPqCaBelPqD7Nehvp4Luesfpb7o+tvoS66e2foVhGehfuT6a+n1pX70+tfoULwK5vu278+w3p36zOlOt/RQ+/3KP6l+k/rR67e1fuH7qpM3vKLr+vPv+ap+togNSyqUPt/7X+5XsD7P+8/oplG09Uk36b+wAZj6kOjsLgH9ICAer6bes/r50KW/GsbqXeiXuM7W+lNpXq8BjAf77a+wfpF6KZF0vtKWQJvpx6imwgcq6y6oAasIa2B8JAonxRHxHBaBt0sdLyBqAbT6cBlFT4HtQbPsYGuG5gdi6Xu5AYS60I+HzTc+YXgZbg6BhPp76+ey3rf6sB6AZEHRevcp1bJBpToAGAuxDvkHDlAwfTaTuxRpAFzgQDJzbcO87smVdlK1rxjhnCfX7Lfyjbsy6ZB9BrMGzOxhs8G4C45ucHm2xbqkbQh1wY4j8YoVrbL/ywwYM6Xenwee6/Bq9pHaRG/sviGrBjOuxbbBriHsHJ28IcUbQhjwDO7ch/EFKHLGtwb50PBuIa8GjBxjpMHoe/wf26h1SYjqHghnvuxaShsoakazvPMCiGs2cNTB6IMjJW1AoQfAeG7ouifsvbjW9IZ8prupUsgzxh6AOsHAmjPNJFehwNvqKhTUtveaKOyaGSUIgASBugthwJouBGoIoezbPAUDJL1udU5AcG0nA4b+FTkKTOw5Lu35H7K6y/IGpaGh6Yfd6DevbuAHvaCwdrLRQH4debTkHoauHAwpLOhGGyaoe18J9R5EJRksXPMSGphtrsQGAuoEfYGAfOGiYy0RkIb0szhhBoRgQLGtLuHRIX+A+Gbqd5BRzvBirt8H+G3Ee3wa2WexRH2M+bshBImmEcmglQeGAKBTkKkZjBp6xpuAAIoJEr0q/hrEaaHARiboS7nokcElH4Soka6GIhkkfI68OyaGlM+o9/v/b30U4y3aDhzwjO9FQSjJIAf2m3qcAjRrUfO7es2ICbMwh/UcmgDCclopaVRhkZlG/OgEaq7XAFNoOblRuEq5H1R4tp5HSRnUefkIx00YcB0Kx8tpGuENEfK6ROogeh7WRifHZG9pA7OJHRlCMYFGKR4UZAtRRiMZOtKh8Uf8qY2pIaZGUhlkYVGzO4ForHuRrjjzHyRgi0LHudYsdzamu6UYxHcen0aj75R/0ZHbLY5QGzHQx84c1HHB3IdbGhRkUd/g3Rp4e1H8xtsbnHOgWwnFGjWyscxH+x1McHGU2l2M3Gmx3kanG+hmccpGix+cZbHBR88Y7Hf4dcaGbgAPnLQrlcnot7aM8rfoN7lAA2BxJTkMRD/ADYWwFORvxi5AihVMOYaQ6rnMyCfGBczkCFzjmjGCJhTkcBFpG/c0SELhA8lnPNyecjbvfHsR5oe/GYav8YAmgJ2sBAm/wMCf3GyqVCYDyg8sSnHHV2ntCQnKYO0e6HJxr/sPxOct3NNzMJr3N87cJuUcNaCJ38Y6tiJ4CdAnwJ2Zp6FDfR3ONzuJrnItzjmqjpPHFGhCfQrkJrsY4n9c9gENyncuSawmhCt8bnAPxwSZ/GiJwCbEnyJiSZla5haSYNyuJk4FongFNYco7d2vkdUmmJ7oBQmWc+yaG6+x/iZmGEOoSbMmSJsiYomq65ujspOJ3SaRNnJ4DtcnlJ91sYn1J8UblzZQRXJAFYJlXJwmjJvCc/GgpkSfMnSJ8SaTrm6HylSmFc58cynqBeicmh3J5KYfHypjXNYAtcyqx1yT27cf8nfRpNvyn/xwqdCmrJvLuboqJtXNlAmplqa2VAVeCaSnmJlKZZzaiu3OezspjDoEnup0yYKmQp4qfCmivTnPmmKrN6JyGpGxAmFHppzyb5G3QY6cxgPJsIdmnWc9nMcm+JnKZWnAptad6mNpyyZKmNO6SbZywYRyamnLp+qdk7fkUXNWKjSqXIenlpgKb8Gep0SaKn3pracimWcsXNBnfEP6cQmAZnTsPxlqgGuTHjJrxrrHBptzs6I6M/aYgbsWsGAW6EpwMMiGWJqRqcQoRhwEF6FxmAcxnDa3ydabqxwntrGhxqprno9pVmeOaDIDcwjHyZiMepnP2g4bpnx4ZaetGh+lmalrbqwzpTGWB3bvxngB1ekoosZqjOOaRZvkbFnCOiWe3B6Z6WYH6mZvQYpllqh6pxncpv0ZKn0jcykNqtZmqcFnqpYWeelRZtibLaV2yaElmGZlPtNntfClqxmlau7u3HkhzmYBbVZ9gdXo7KIOblhtZt2d1mPZvnXLbvZw2alnGZ2Wd+QLZwqu+rGRpWeZGI57mckmeu+2eeqH4gWYwyXZvkZ1nKZyaD1nPZoDp9njZygf9mjiQOboyza3sfZn85mscLnbZvmalrQBGqZrnFxpwaTnrOuWftrO5kOb7Gw52/vTHX0RtmkDS5qeaHnYp52YVhXZimdHnWJ3MY0ms5xWrGqrZp6c66i56yY+6g5savjnt50JoOH655Oa9mm5jOeoHJ592rVrj5yGa5mSpgIJXm35q+adnK5zeermE52ufvntfFOafm/ZzOaCMxa42rzncZlWbPnBp0nqJmjq2Kuvn3ZvefFntRh+MF7DRwYWEHwFx+bTnfZl0dbnqw9ueerxarudpae58OYXmLQznt/nrqlhgrmhZ4BZvn9h7UbAWjiFOdwWU+/BaaNsF87sgWyF8DpRUsZ+WpoXjBz+b7nwpuXskW4ODBcTmsF/WZwW5YPBdOMhFtRZEWSF5uZ9byF4oEPbzZw2qkWZ57uYQXT5kqZN7mF3aqUWAF9hdrmR52+e4Xx53ha9n+Fl0cEXCF9xcbm9F5+do6TFo6tBrvRuefG6kFtWe97UFvDIWrlF0BbcWEkPhY0WBFrRZ8XEl4haNmAlrVokXDakJekXGh2RYYXG2f4OiX3a2JYcWq5pxZAWd5jUdUWG5k0eSWvF1JeNHtR0RZlmD2yhdKrsZ+Betm8ZiJajni+3+bKqcxlwf3mYFkarZnaFyxa/nwpjvuWr2qkmZvrsWjeb2G+Ou+YSXUuoJa6WNq0JY5n55yObZGQmImhSqABWKZ4Xwu1+faqdl/Jf+GBxm2dmWY5uasdn15wBdWWvO9ZbqWMZg+YKrg5xWemW5Fnmcf7Sl3Krjmap85c2XLlm2o/mupxBZKmywoZZtq2FypZqXihjZeK7Lll6uhW7lvpZKmOw+ZZeqRl66YfH5llqs6qelk+ZmWeZlepJWCVipaAX4lz5YnnvlrpffnyVwpYOWMxzqUeWfl/+bOW0VxrshWHarFd3H7lqle3U5qtWqRX6VlFYnHGVrzq2Wmqo2pYZhV5WasXwpuXisUEq9BbBX+VpJY5BNFghegWaV6hfMWpl3pdhXwpxhuNWbqqVbeWIWj5dGXhFzlsaWbe7xaNWMqy2rZWYVtVZ5mRG/FZ6rCVlpfO7PF11eaWX55laaruqz1d2W6F/Zf6XDltoYRW7FxIttXMFx1Z0XnV/VZSXDV8NfGWulvJdNWZF71cpXJJrdU1WCq8pb5W5V9JaA6Q1gfrdXc1mlYLW/l81Z9XS1geamqtayDjpW7V1LodWiV+pfUWs1ppZzXg+w/D1qVVguaKXCmSij1rA1mmeVa5YAsGgXnaj2snXe56ddntV179lTWVF9NcHXg1pdZR6x135E1rflqsdjXwlkqaVGz10FarX91h+drWj1ldcNrz10Ob2Wr18KcDHV18uZ7W01gdcfWGljkGXXc1zWunmW1ilYBXJJ3JxHAwNteYOnUV6tYJaPF59dA2HZslZjX/l6deBbV11Kt3WGVh9aIWn14DePX2J09cPmTqr1exWLVnmctiz13lYQ3ZVwjd8WgNkDZPXgAH9aPmqNkVZxXwpl2M42+K/DZlWqZ3VZQ2SNl9bQW4FzDdbWS16ycgnYN2BdYWdVpDZ5axNtjYzWpGutcoGG1wJfHXDak1Yg32V+Nc5XTW39FXXtVl5ccXhNuudE3iN9TYPXM1g1e0WO2ils1qzFwzeLWoNmVo50zNujIDXlN5jZrXWN0jYc3NNl1frWw13TfI2LaxIvXX6FjlcXmddXzZi2L5P9b3WANojeC2g1xzezXnNnAdc2Lq12u43VV2Tby73dZLZiXta+dadWwt8TYXX1h8Le03It7JfClV15tYvWsNhLaVYw9CrbKWqttLYI2MtljaHX7NwDaHWnNtJaMWKW0jNoyjqhjOK2p1rrbbYUvPSjIy5t45q4gto2uYQyIxwNw/zwV1TcbncgSGnAqDt9gGm21t9aoVmOtmTa82ytorxm2cM+WY23Lh7bYwJdtk4BGyztiBeO3MRdCrO2Lt2bbwyCM8wsLWClzzaKXT9EGku2Vq7DJe2tt6zZ22+RvbYbLvtx+d+3eYemZU3ztlFTbyNuxBv+WQQSRCTqRmOygCjYpqQx9iSx0z1OQChDDpq3FGnwB9BadvxGgW/apUt86Cd27aJ39gEncJnpuxYHwB5uwhmKBBh6yOKAJ9EmpuW8e8fs82edvnafVgoRSe2QIxgsA8BQMuncMXwQREaOJJdjYuCgEByDfl2q6gekoptMmwJqmpc3tYCltRtXY12/ELXfYAddhJAn0ya4moN3/+2ReN2qmgel0o3di3dimrd1Xe9B7dvIEd3ndiXZRV/d4KEprPduXeJ2Tdpo0UHwfdNy8MiaimuV2pKYPfV2WdsPbF3LGifXFBJlyeq52jdhPZ92S5oveObNd/PeGHwpHCvBn/ltVBJ2punCsz3rdgVd+RQsMKsb3bt5vZN3l57vYQR292kaiAG9paab2mUEnY+6x9sKpH2xl2wDNKHudEV73IN/vZ92f5xfYMdl9hwHn3tttqTGztQCMFpHCClfYn2+9qfYH2fKU/d33LdlXb5GAoYiHwz0RMsYfGkg1fdkX192Zs2ZQBjmTv2s9vkfyHb6cUZWDqpD/c82v97zbl7QDvmX/2O9r2aAP4D8KXGLz9tfcv2fdmxbGg996zd6hHAbLakbED6BY4dxK70c6nqN9BsgOytqJc7CxKsPkD3792uYWEphC2HwOVJpKd0Asl5mazntkYytMrnejqcenP99A+/2Sl8yh4PZQPg+wOXF87qYO4RWgEd2vZ2Q+mF7x0LcUbCDqBdzXeJOMvAPyD/hsoPgB/ZkOViIOMqkOuF87pkRtD9Q/FHuMnQ543T6/Q/YHjmOGhZBE1RjZl3aR/jK+aBDiGfj3edk3Zn7PD/rqA6bYgTJVB6AlkFYP3WlvQR3VDwJvSRvQPBfEXwpU7MN2hD+/rK29+07NMO1lnBZcsNhzkEiPAwqw7I3EMeHLXgINa7e3HpB3uYcO2R45lS0yjxHNOW3D4DoYPrNo/cPTSWwo8mhijrg6Pxse6Xdd7Zd3Q/JjhD7zfhWROHnpaOg9sZd0ZUjiHaW3uZM3frhjmmvQRgz0sOo7UFDoDrWO4FJCZfSVDr5eAB+Skhu9GJUS4cg3IdlepOPVjt5T2PNjudrGXZs3zvOOkGozZJ3OBsSKuApj0makbdjjY5fTaR6Gri3b+3+ppQPj0QweQF+qxHNgYczg7NmOJnPJBP/msE6yAPjqiZzzoTzUFhPTpsRdzX0S5E4C7UTkncYb0Shfo0Qz07ZmdH2l9jawQzvAyZu3IN4k5N2/V4KqcmM6zQcbaYcw9KpPA+6BeCAG8uPZGPmTn3cTWBTu70t3XKi4NpH5indKFO7D9BpFPv9stdN72QYdkUmpTkjFpH8K048GPqj8OaVPvN4qKe0pDDU+6AnKzhaZXEMGnIW2N1xY8Htk2cwUlPzTtystP5Vw/EOAny+U5K27tgw9ntPT2446B7jl9O2ODh/48PSHj2gEOOrT/YBGz8dh+X+XlAJEsigSdpUdjPNTeg4APa5yM9pH/0lsu9PFt4zcS3AxvM5NxAz9Y4jPATsZdFKCzmo7GOytmDZZ4Nt9ESBOit0g8EOID+s4MPgW8Gu7XMzpA4plQdYdL7SiWWw59PajjMcdl1vHtJHONGbI/eXtR0IX7Shti5a73o1wY7IOFTvQ67PHDl2IXwU1uA48ODJVUFQzJhvyY7ORjic8S35N5DJPOf2QeumO2jwGeWCkK2s/Dm2Buo9M3JiKdItasdwLb7XtRn9LO2vZqUD/OVziFYFRJ02wr1PI+rc7v6k6351/QJ0n85qmresC4jHD04C6A6gL/lZAv0LsZeCAm8+Y5GOPzjMbBdf0Qi/7tYplkH/Obd4NfVNzSUXbOnXUdkEIYLG6w8kz2pvsf1Pb+0i8XmyWK2k4v5u1xCRUxs+HN8RtT+SsUquLpgdgufTvi6VZMXYuSkuhLmqeFga08S9473T35GkvtMzTLfPeLuQZlayWfFhky9L45quVeDwvJwhIQSknKOIx6S5suODvkekv7LsZd0vuKUHeZ65LguYUvp2B7c4vtMkxpqnLLiQ8LzZTjwHKO7Li6AcvArtU8iuYrly84u3LhncCbHL3CGgXdLgyRUzi9kbp8ve5vy7W8sZJTOyvZQCy70srLnoCcvor8C/RWdLwK4Ml5Ms89kvhjuC8KvLaYq9kzGrjS1inQrkyusvcIGq9pGt+LOsGPXjzreUQEL/nZGva6lo7p3hrlAvCqwdluvGvbtq7CEaq66H0sDFr6vdZ2xlrfhwKNu1a8g31rhC9x8Dr3SJqn5rsZdP4sKmC9av5L/8a9QzrglRArrQoetx28C3QGIu2rp65TPNrg33mIvr0xpRUoS8Ep+ufTyKGrBNAM67sowbogkUnk0K6dpG0ytQwhuC5qG5huAb1ylRu3YxG/9xkbsZeTLUD2Rcxuzrho8c1UZtSarPa5hVzGz0Zq05Ip1K70Z4uTO6G7OvVDK7P7Qqbwm9pukbhm+0vlgjAjuvlr9w+52/rs68OVhb9645OBqQHHl1A5zU/m3vR0vdkWkznPIQuUF8yiVu0Omm402VJvvWgWWa3ttVvPN9W/+uqmpuVpjUOmqZzP6t1dsNvG1+ovjOC627fNuELhRZhzdb/tG6OxM2EGgWrAznYTO3b5M49vLI9dwzOWju29SuHbkfWgW+0IO9dvIN9282vqDvtG9uO1X28duY7/ke5hCq4iG6PWQAwHzu3TihYpajihk+3HTbkY5TvLb0Q4ruM7x45zu/bjvZTmlQagBLvC72707uOlwOYMqXbt44WPJcD272lLr2KeuvyxpW7sqTb4O8uPY0U0AQu5lqe/nOgt7UZbujb/EGnuXe6u7guK0Be82uZ+onLiyV75DaI7s7ko9srE7we5GO97xe5jmYc4+8PP7b2qfPu+jqwK3uq72e6M397y26BWRwd+5PvDtg4fXv8T11A/u+xne59Pb7g+5rrKSwB5q8vZkB5zv27nu5zui7/QFQetW8u58rWAcB6KbIHws5/vZm8inKCcHx+/7Os7uO+fuUHn0FLvT7g4fQfMHlzewe6HdG97nDTvLpRNSHuhzNOPQaU7GXEagy5RPMGy28+OrYw72dO+HrU7GW4aoR6JORH4h7QjyqWfN4eLT32+V8KM0ytAz6TxI+fupQSEACh50rR8qGvF7o/eBzVD/0oydAQXo6J3RqPYRqQqlm/yuDThR+MuNVrwwcf2T34+2GXT/h+buNH05C0erHixtMfc1nGtqM2Hlx/BPNrxhvCfb9wPaVvaRhmvuv/ljh+AGPWXSjALVH109pG2c5q6kHnH0E9cfOHxNbyfsnvx+s3+hsbK/BTkdJEcAIjsZe+KGCzvK8PuLwp+Efony25VPlR2UGafzvY5twOtqwodrmPwKx4fbn76DOfRrHqoeiH3BilroK+nqDu8uHrgubSf2Bj1lAHvQH4sJybb2KcGexn2q+tbzuliFeHqM/anwB6T1/diPAwyZ50eZnoYfxio2jR8Wf8nyetZv5Hzp+IeHT559+Kic6vYeKqniMZOean858ufuj25+meER2Z5qHy7yopV4z8wY4If2H4p/SfZ7Wor+eap/Cxqzo7/W8CaIRbfLtu8T5B6izCXmk5a2KZWoqaKEX0W/5Gv7zzbWe2Rv1jspKXhx/nYXllfKxfKzn275GgnnF+ufJoLR/pP9j7l9Cf2NytLuKr71J5Rf1nwMfFfq045sBe+R4F+oz8XvfO6PeTjQ7FfxoMAtaf8Hul+FPpXxl5g2G0ptIVfhn6zeVfTkTl6uejj2ousqaXpF6ie0Tza+Ba7Xr25qnnvdV7VPxn0V9xfAw52DVldHqLYlHXUWSttP4tos8UvtnZPefFeNUN9dQpp7t1z36dn2wj3wQCfT7RZy6TbnvI36dmOcY3ngczfjulo/TAKMie9TfoXpEdBvXUMcuzf3jl17mIC3iH2I1OgfosTe8M8t+Gc039gAzfXUKssJO0xpbZDZtiJt9T3lRvt+/T23st72uoXh5/cHq3xksWmnHlZ7tPc3pRK4GwfWN5bexcqd+Tfa9mIf0GtylktPLln/5aiBPkJOoGSUOo97oVFgHd5qnS3vd/ufxd9N9iH7y18sGOwlgLvPeNrqpuTrr3nAITeH3gJ87e+dbt9qH3QLN8/eP1794veq6xNkGl1y4t+8fEppN9A/tfcD7feNGWt+g/L12D9/fZmnFIA/RyoQWA+0Pmd4re53moaw+SAft/Dfb+n98veivfsqrLd39D6OJMPw95wDuKy0YHeDexj/g/Pp9ofvKePi4DY+KPrt8rfddmj6YryAPj7jqBPv946vhP68vIBxPvIH3f53rj4HKyCtjF1ezVyDcU/CP/nf7LBy8gsOYS3kD4k+wPqT5d2aP/cvzPl3s97g+lP0EY0YHPss7I+O36z4w/bPyPe0+Pyxz5Sfbtoz5lbG2b5TbLAvzz9inH39j4SROPohqQ+a8TkBPeCB9p/w/L3u2aXLkvjkHveYvqz40/n3gvZo/Uvqo/S/oe0L7y7G2elTbK8vyz/I/Cv2d5fee3mj8vKB75z4I+wvkuYvLsvLz+nfGvyj+a+IP7D/nL8SMc4LnKv4AcbY3P0ctG/cUdT5TfJPqj6rftPicrG+Sbzzcm/2Bttgi/IP3gBqoFvzT+o/Vv3Yvo//mrb7ZG22AlXXLOWPr6femv4r+0/HTlSEGy63zb5c/CPn+f7Lnv03AfOUP1do7L1ACMdi+fPjj78/X38KR1LxkfT5L39XuC4u+MxttlTr8gXUpgpx70H9XPfa6Uva+QvkECiA/Dv97KCzIKUpXyebgW9XvzD4WpYhBe+yEd2U5um95vyXgAn8h4inH8M+8fgn8+/QB2Ir9VgP/6ZmnrNoSG1ALptGYF/pD7FqF+/M9ybR2gOhn/J+jFlFUWzF4F4+wFr7+H45/L3jvqV+0fyz/5/TpnO7i+FfreqoiaClW7h+fTqIA1/4Pmfvgi9LMn7F+zD7Fs8VxM6n6JuTf0ZVK+2nld/DnLf/H81/DUuiL0s6v/79qmTpw55RU90FI7keKvq37/e/7yP5Hz7f/X+s2sLwc+fT+0SJ94uJb+D6UeT0l9N2uBv/l+fRoFvP/7RK88vOj+De/LG/GLbwj5NUQddP47Vy/wpgL/Fvmz+W/pP8KVL+m/2vI/TK/yfuz+/39x6gpG/iIErz301v6O+VvimWb+H0jb8vOdzy79EiRwWf8n+ivuvZn/b06DkE75/uC6vOlWFOuEpy/j9DX+Hvjf8Pxx/uvN3/xzxf8R+7IsyEv/AQU/8G/Hvwc57TR0tn9kW7kWwHY74P8OxB13/gZJjmokZTkMX8+Rob8gHkuNC6KchEjEUFoFpeoOHJOVDJj4cRjt/9f/n+9unggD2iviRgAQZJQAXzBabk+cjjk+5xvnWd0jlN991MNp43PA9EHimxRqm38cjud0/IPQDtTtgC5FEF8aXl+9oevv87FD3ZEAY8povo+cszjgcXLPQDThk8dnBtS8Z7knc0jpe9R7CLFJAWy85rj7YAakQCrTn+BxSqkxSAeHNnsJQA5AfMFNAalsPrsA5OssJlYQPp0aXpudxzl5A9AfB80zqYDOANH4QbiYDespMBAcsgCm9jYC5AZ6wHAXeZnIM4CKZFaFXAZwB+sq98Nzhec9/l4C7AbTFfAaEC/vqw1wpFCUYSmd8AuroDL3sC0kgYeoe+hIsveNoDb+mkD4PsLFQgpbt+bnrdnzmpUM/ikDuAVEC/3pbEKgR2p8bjBl5fnVdHxrKBPhIgQhFCEUwgZYCIgdYDbAbUCzKPLl2geHkugfEDM2qIMvSu3BfSiaVr/gXMCgbUCJiKO9lBi6VvSmQBpgeCAAgYfgjcg3B1gfwdzzigDIgf0DCPsDppugaUTgLsDNgb8gXcMWV2zgcC+gUnUP0EoQlgb+hrgakxLga0CmAGnl7OJnl1vrcDPAUcCZWh+hhKPLkvgRnlfDMJdWQBGMAoOxcHxqZk8CujVZgTUcagbM0P0GZQ4QREA60O8CbmAek8gf815gSiDvkiP8i7q4cIGkK1IKsF5nbmb8ZARAdkQYCCUUpgUoKu69jARTIE8knlIaCQdwgXcC5gbSC8us5RDfFIQ2QScBGOIr0/jiPlujlxx3cmADg3gjxSAI4DRMkXxcQakCeQcAN6mCDQhMnKDYQGJl3gZ3kCsnMBknjS93ntD0GXhmNFWBawKsv2gqsrUZyntI8c7vs9VXvCcA5hn1zQR2pCsiGVM/h09nXlU0TKF7FnQREBXQY/kLYNaC6HpADg1lPIYAcfkHQW3MUVEzVjbi71jrrItjQYvMTKKsRngWZAYwbs9pjok9n7py9TnnMAujgItujnaCIwZq8/XpNB3gADUswXY9wpNAVdALGDtxvGD6Xoa8TQcj4RwDWCMXgk9fHjaDSwTmCNWkG9SwUWC6HJGCKfti1ywRSc1Hr3dcduwB9Qb20GwQa9PnoCDM0lAUrQZI9xwbXMpQNjEDnhGNVgAEA1Js5d/Hkm9VXqc8rXrUYhwUb8KZEuCHAALUxrqr8pXvODeQYDd/7lOD+arWCMwSH8xwTk8+RuuDmdoq9a5tuDtiq799wXhlDwTU9OXqeDwQBS1zQG6CjrjeDbtomClWLRxXKJBCAwUYDMwZ2DgwUc9sWl+Cxsj+DrNn+Ddweo8DwWcUQISeCSwW/d2ACGUrwTS9ZwXBc4If4pCmJYFyIchCFpC+ClAW+DKwdZssIZuC+RnhCkJnuDSwY+9gIdRlQIaRCETr8hzQJRVoIRccEwU2CkwaQFHwbvkgwRGNOIThDxfk60sQP+C+Ify8BIURChISRCiXiUdxIcflKITOCYIUycZIfBD5AoZCr8ixCxgRI0pGu+CKnqpDFGspDzXk5DF2upD8Ic/dtIaw9iIaQsyXmRDXiir8pIY2C7wSqCLAs0ZXimh1wwdWkSxuxC3IRE0NwSpDHfmpD6ABpCCIUBCdIceC/ISbMA7pflWQAv46wX2NqIT6daIfipEIXlCT8jZCooaq8bXowDsWg5CuwfFDJoC5Dxnr+CPIbxD0oRRlBIVlD9FmG1HdhBC/8tj8zjqZDpIaFD2Bvio4Av/lFIZ+DEoa5DkocW12oQBD+IQE8gnnc9fXmRDgCjZCgoWr8SoeZD/FN0EgCrPln8tNC1wbNDWobhDFoZpCxtud1H3qtDpnutDRIZhwJ8oUUV8ttDbwZ6CUQVMEF8i9ChdiuCPwadDvwXNC6oSlCdwR1CvIStDpSmtDXVrlDF8tPkjoVtDJITtDVnntC/ggxDYYZkV4Ye2DUIVI90ISBczoeH8gOjxCloVpCIYa9CoYfWtcoYI9hocFC5wR9DAQU8FHwZ3kToRxCNwQ1DcYYTDLod0chXoM9KYX3ldAPa8TITTCaISjDQQr3lWAP3kmQdjDVwSzDmdmzCtwZzDqHlFkeYbmseamGDP/iFC6YbyCqQqrC0gGa9zofy8iYc5cHoZls17gE9uocJD9IS5tRBkxDeatICkYci8xoWyMHwsJQIylPI9YYc8U5obC+wSTDCIT5DdIdlCW5kkcKXsflbYdvdzfsjDHYSaDnQrvk6su7Dujl7CCwbmtXiqHDP7tSDaYQ8CYwiOBk4W7DbbtFD8oXmMgYcNtzugnDjYUXDsWt5Dt8r5Deof+1+obgMiimrCqQfbCnXhnDg6P/lY4TVMkoSbDi4QrDS4cOCpGrdDIYfdDoYR0sUVOjC24Q3DEXuHCHYZrCVQapYx4fXDdYR3DC4X3CFoalDPIb3D6HqbCk3ndCQnsPDg3p3kU4RA8p4c3Cq6iypLQjoB24R2CPYV7MS4XvDSwdzCp5EHDD8GzUCKpPC04cLDI4UmCzwi/DSBLFNO4WXCQYWlDE4YBCuoZlCLYf5D8ttbC0gIGVX4Q69j4UU9P4fBCWVC8CmIdzEWjv/CV4e5C14WDCN4SGDy4WbCwEXpCIEQHMWHhcVYEXbD3oQ8D6/lnDj8mgiQ/hgjN4d3DsEa79cETjtkDncUUahQjYISjDl/q8U6EUstbWnnC1XnyMGEXgjAEevC74T7CMoX7CeoWBDztnXDkauQiw4e/DdoYgj/FOrZlHoojf4egjl4YwjsWrfCKYeDDt4YPDd4YYjg3vPCtEZK9uEWoj+VEbQfofwjM2uUN9YddD9ET3DJES4j+4aTDtHkPCzEUz94zDoBOEcoim4QgiZ4eND//uI9vSCvIr4fHC3Eb4j+Xg/C0gE/DfkJzUEQY3DKEafDKAWmDajJiCl4c4iu4a4jmEUbD3EfkjPEb7DK4f7Dq4a6MkkcAAQyu4CgkekivQT3Zakf4DckdfCOYYUjvYR4i2DmUi/MlXC5EcYtD8Lvk6kanDgkR6CHgfIChkS0i/4boixEavDQYSwjikVGD2EdWlhkUfCVERHDQkU7CToqb07ijkjYpvOkaoQXC8kQAi5kUAjWESnMK4b0iKkf0iFEfgBVkXq91kdPDxka5Q0agYFWkTEiOkcAjlocYiyYT4jtNtUiLEXcjUkW/DRkR89NkSaDMtGZBAUXsidEccjMERW1Ykf8ijEXhkd4Z0iSEU6DWAPciuGo68QkQ8DCnDqCpkdjCPkfMiikXEiukYE0EkXgcR4eFIyKviBpwfUjrEeCikwcLFaUR0Asnn9DHIfNDAmsJDxRqyiSAGAUJIWkjGUXiiajEwByKg4AFIRyjGoVyjYRiRDa5vaCxlhHljdJSCQUQ0iUQY9ooUV0CB8gv143N0dP4oRBKMtaBBegPBnItUj6oHZksEEqiBYQyizITYiTgeajJcpaitUZLC2IWhD44eZI9UciwDUT2Bc+jb0TUdXBqUTQMYylYh4yiqjOATB9mhqaBysEnULeJBRoygUoQ0XUU3kbFM99MdMmgQ78rTvGiwbtWIYfuDsa7lGimUUqwLeJRQs0VmUcysc1U0QnB6bhmjBbqWigSmjcqgZ+MC0TGjBhC8DUylmUw2DVNK0fTlmgZ3sakUmULsoiDw5mSho0VXULeLpR40WxwK0SQI00dWjk/k1C6pldDM0fmVcgUOjb+iOjC0SnUrdG2jtEq+Fp0ehUq0Yz9nztDkXMo2jDWs2ix0Te0T0bZDe+p4j00fOjHoZRgIcq888rt7910ReiqmhbxXKE+jKAjejOTgxN70Yc8KWoL5mfHKchUcncP0bM0LeADot0iz4ppoBjdtrBid0r2iI/jgxY8pyDEzpBiZWhbxVDMcFzAQv1D0b2innkVpFQZGjR0Z+iVtnxg/0fgiEMbmtKMN9k10f80N0TGjMvPRijgARie0TWjqwpj1ZQNHk63OYDSMU2jyMVBjtprxioQDHl8MRoNy4eJim7iUdKMG9kfQFijJ6lYCC5sxix0Yfp0Iq9l3soSiIGv+jQ/rRj2NpRhcJJdZwQIJjz0cJjsMUJ9fKOoBjMXoINgVJi70XOigMbjswPGkAMCuSC3oX3tlQewMA1GZQt+OgVhQAyDtEaSDwpHqxcUGZjL2hZi8ugGpBLh/QDvtkCaUR+9w0dc04YBh1e5gMAREGIgWMWjogPrz0rYmiMPkClYoIE78MfhBcL1Ot1s3qlifThlissWOjcfPMVn/vy81JPgB4AbwBj5lViC5jVjyAT5i7Zm28rrqVjZkdm0/AC1jc1nR9KsezlqsZljusWyMM+HZRWPhoN8sYyhCsV0RisbTMBsX2iHyrx9yVh1j0sVNiY0SXNNsWJ8FsQdllsU5wSsYX8jjrJ9byrh8QKDtjw5l1j9sWjobyt91Fsf5UisediGAYLczPnp92sRNjOsXtix0cvNvsWvEXsSdicSCtiPsSjdj3hwDT3nTA7sbf0HsYDjdKMeUVBMH8b6t7Iwce9i1sRdirTh58l3sF9MoPDj/mojjP0T/M8cYstM2hjiCseDizsdjjPsZj8ovvjiDQfj0icQF0ScVBitboziKcZo5XsadjVsYzt1sQz0YcWl9c+qzjoeuzjsMUws0cZTjecTTj+cYE0IAX2jhkCsVpKszjRcX9jdsbVjP0XL1lcSuVViqDjqcVjiBcTjjBbvMUkATaixcQb0JcdFjMDnN8f1P1iTcZj81vuFi2fpbi46tbjgBr2pmXvt8cAQ7j6cWVi2vuBi3cWXUPcT5jRDkKVGsba9TvkHiNcfdiAcdrin1Ld90fo7iysT99OyuNiwYJNitcVBiO+mnjVhrLd+EPLcnON7I6UArcqcUti5cZDi3Jh2VwQDKdhinwUM8Wli48dnjsMTP1XAPXifjuji5bnShi8VBRlEL3jMcRDi6cbSMNfNQU4Mq7jY8Qjj48TnjDUt24rlJHirTnQVccjHjM8f9iW8dFjM4Uvi7fn7jtTlxtG8VnjpsRmNwBD5Q2gIJtjsYbih8cbj/cS0C8PKvtg8afVQ8TNj4Vnh4DcRXiisd7JC8T3j5cf698SFzCfAMwdZMfy9QkJxUVltUjR8U9Rz5Jjlx8Svim8VPj18Z7iOwuAT0crzB58efi38StiS8f3ioIB/iooF/jd5rRcMIZptcwIE9XlmY9hsfHcEhsljMMQNMECcji8Si9jP8Qrdchp4BEDg8MZkYQTENgQTcdjTUz0bMMY0WI8eygwTcCUwTallwTwpFkN5PnwSx0Uo8shkISi8d/j+RiwSWyo8MmoSW0jkQTCKZNTVeyjdi3bmkNP0cP8tCXIS8CU60cOpU92CULj6yr9jV8ZrjD8YvMt1PPR6ykYSRCZwSSAKGdXFqMpozoLdBKsJUrCbATicdPjsMSI1vCe5AnCbTjFGnCNcLkB0zsqn9n8FYV6nL4SD8TGjE1vYVTCibQ8sYwSwidyj8LrXNoibZsDhqwBBOl1AjUc/ceAIUTqyGii25vM84iVoUEiWvjbCUWjunikTNCsoBQiQoSIidjsvZrkTsdinMCiUqtiiTndSiX0TfUWSj0UQ304ifoV98XUSkiaANxia0TsWu0SxCQcMuiQQSeiWUSq4K3dOiWsTiiawiBkV3s4ic4VJiTYSY0YPYmiUYU5ieY1sidZtliW0j8iVsSNiVES7iRUSKFqPC4iVEAvLoyd78eg1H8UfjZ7KcSzCucTwiZcSmodcTujr0SiifcSliY8SvkVbCxiQ4UokNBcqCXDjJ8f4T4CT5ilRn8T4SQCSsiVhcliUCTyUbCMoSQMSoSTsSqiXCSnCrUSjiWOjAxhiSnCliTYRniTgYfU0GSScjuUYSTSwYMTwSU8Spti8SySe4VtsciS2cQETosTBsaSVlYFsRkS2icyT7VtqMQSdmC2Sfy8OSeUToSZAjYSa4V/ClkAfCocTm8fUSU6sC0MSeqSREHSSlGlKSALud1ZSTncwSUqSiSUMSuSeBDSSWqSAioSgKSdqSY0ZbF9SY6S8mOkThCZkT6STiSZSSaTBsQSSbSSUTiSYsjnidnIVyEAA=")},function(e,t){e.exports='<div>\n\t<div ng-show="state.paramInfo" class="qv-param-info"></div>\n\t<div class="qv-bnf-autocomplete-container">\n\t\t<div class="bnf-complete-container">\n\t\t\t<ul class="codearea-bnf-autocomplete-hints">\n\t\t\t\t<li ng-repeat="item in state.hints track by item.text"\n\t\t\t\t    qva-scroll-into-view="{ scroll: state.selectedHint == $index, scrollSelector: \'.codearea-bnf-autocomplete-hints\' }"\n\t\t\t\t    class="codearea-bnf-autocomplete-hint"\n\t\t\t\t    ng-class="{ \'codearea-bnf-autocomplete-hint-active\': state.selectedHint == $index }"\n\t\t\t\t    ng-mouseover="state.selectedHint = $index;"\n\t\t\t\t    qva-activate="state.choose( $index )">\n\n\t\t\t\t\t<div class="codearea-bnf-autocomplete-hint-text">{{item.text}}</div>\n\t\t\t\t\t<div ng-repeat="type in item.types track by $index"\n\t\t\t\t\t     class="codearea-bnf-autocomplete-hint-type {{type.id}}"\n\t\t\t\t\t     q-translation="{{type.key}}"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div ng-if="state.selectedHintHelp.summary" class="hint-help-container">\n\t\t\t<div class="hint-help-content">\n\t\t\t\t<div>{{state.selectedHintHelp.summary}}</div>\n\t\t\t\t<div class="syntax">{{state.selectedHintHelp.syntax}}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</div>\n'},function(e,t){e.exports='<div class="qv-bnf-function-tip-container">\n\t<div class=\'qv-bnf-function-tip-view\' ng-show=\'content\'>\n\t\t<div ng-hide="content.paramName">\n\t\t\t<a class="title" target=\'_blank\' href="{{helpBaseUrl}}{{content.doc}}"> {{content.title}} </a>\n\t\t\t<div class="description" ng-hide="content.summary">{{content.title}}</div>\n\t\t\t<div class="description" xng-hide="modeInfo.showParameters">{{content.summary}}</div>\n\t\t\t<div class="title">Syntax</div>\n\t\t\t<div class="syntax" xng-show="modeInfo.showParameters" ng-bind-html="content.highlightedSyntax"></div>\n\t\t</div>\n\t\t<div ng-show="content.paramName">\n\t\t\t<a class="title" target=\'_blank\' href="{{helpBaseUrl}}{{content.doc}}"> {{content.title}} </a>\n\t\t\t<div class="description" xng-hide="modeInfo.showParameters">{{content.summary}}</div>\n\t\t\t<div class="title" xng-show="modeInfo.showParameters">{{content.paramName}}</div>\n\t\t\t<div class="description" xng-show="modeInfo.showParameters">{{content.paramSummary}}</div>\n\t\t\t<div class="title">Syntax</div>\n\t\t\t<div class="syntax" xng-show="modeInfo.showParameters" ng-bind-html="content.highlightedSyntax"></div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t,n){var i=n(39);"string"==typeof i&&(i=[[e.id,i,""]]),n(7)(i,{}),i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(40);"string"==typeof i&&(i=[[e.id,i,""]]),n(7)(i,{}),i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(41);"string"==typeof i&&(i=[[e.id,i,""]]),n(7)(i,{}),i.locals&&(e.exports=i.locals)},function(e,t,n){function i(e){return n(r(e))}function r(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./help-config.json":28,"./help-de-DE.json":29,"./help-en-US.json":12,"./help-es-ES.json":30,"./help-fr-FR.json":31,"./help-it-IT.json":32,"./help-ja-JP.json":33,"./help-nl-NL.json":34,"./help-pt-BR.json":35,"./help-ru-RU.json":36,"./help-sv-SE.json":37,"./help-zh-CN.json":38};i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=61}])})},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(2011)],r=function(e,t){var n,i,r=false;function o(o){if(r)return;r=true;i=o.scope.$new();i.mode=o.mode;i.message=o.message;i.button=o.button||false;n=e.getService("$compile")(t)(i).appendTo("body");e.$apply(i);i.$on("$destroy",a)}function a(){if(!r)return;n&&n.length&&n.remove();r=false;i.$destroy();i=null;n=null}e.service("qvSizeNotSupported",[function(){return{show:o,close:a,isOpen:function e(){return r}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(98);var r=n.n(i);var o=n(1293);var a=n.n(o);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function l(e,t){var n={};for(var i in e){if(t.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,i))continue;n[i]=e[i]}return n}var u={get:c,set:d,takeRight:f,last:p,orderBy:v,range:h,remove:m,clone:g,getFirstDefined:b,sum:y,makeTemplateComponent:x,groupBy:w,isArray:C,splitProps:_,compactObject:T,isSortingDesc:k,normalizeComponent:O,asPx:S};function c(e,t,n){if(!t)return e;var i=E(t);var r=void 0;try{r=i.reduce(function(e,t){return e[t]},e)}catch(e){}return"undefined"!==typeof r?r:n}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=arguments[1];var n=arguments[2];var i=E(t);var r=void 0;var o=e;while((r=i.shift())&&i.length){o[r]||(o[r]={});o=o[r]}o[r]=n;return e}function f(e,t){var n=t>e.length?0:e.length-t;return e.slice(n)}function p(e){return e[e.length-1]}function h(e){var t=[];for(var n=0;n<e;n+=1)t.push(e);return t}function v(e,t,n,i){return e.sort(function(e,r){for(var o=0;o<t.length;o+=1){var a=t[o];var s=false===n[o]||"desc"===n[o];var l=a(e,r);if(l)return s?-l:l}return n[0]?e[i]-r[i]:r[i]-e[i]})}function m(e,t){return e.filter(function(n,i){var r=t(n);if(r){e.splice(i,1);return true}return false})}function g(e){try{return JSON.parse(JSON.stringify(e,function(e,t){if("function"===typeof t)return t.toString();return t}))}catch(t){return e}}function b(){for(var e=0;e<arguments.length;e+=1)if("undefined"!==typeof(arguments.length<=e?void 0:arguments[e]))return arguments.length<=e?void 0:arguments[e]}function y(e){return e.reduce(function(e,t){return e+t},0)}function x(e,t){if(!t)throw new Error("No displayName found for template component:",e);var n=function t(n){var i=n.children,o=n.className,u=l(n,["children","className"]);return r.a.createElement("div",s({className:a()(e,o)},u),i)};n.displayName=t;return n}function w(e,t){return e.reduce(function(e,n,i){var r="function"===typeof t?t(n,i):n[t];e[r]=C(e[r])?e[r]:[];e[r].push(n);return e},{})}function S(e){e=Number(e);return Number.isNaN(e)?null:e+"px"}function C(e){return Array.isArray(e)}function E(e){return q(e).join(".").replace(/\[/g,".").replace(/\]/g,"").split(".")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(C(e))for(var n=0;n<e.length;n+=1)q(e[n],t);else t.push(e);return t}function _(e){var t=e.className,n=e.style,i=l(e,["className","style"]);return{className:t,style:n,rest:i||{}}}function T(e){var t={};e&&Object.keys(e).map(function(n){Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&"undefined"!==typeof e[n]&&(t[n]=e[n]);return true});return t}function k(e){return!!("desc"===e.sort||true===e.desc||false===e.asc)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return"function"===typeof e?r.a.createElement(e,t):n}var D=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function L(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=function(e){return function(e){L(t,e);function t(){A(this,t);return I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}D(t,[{key:"componentWillMount",value:function e(){this.setStateWithData(this.getDataModel(this.getResolvedState(),true))}},{key:"componentDidMount",value:function e(){this.fireFetchData()}},{key:"componentWillReceiveProps",value:function e(t,n){var i=this.getResolvedState();var r=this.getResolvedState(t,n);var o=["sorted","filtered","resized","expanded"];o.forEach(function(e){var t="default"+(e.charAt(0).toUpperCase()+e.slice(1));JSON.stringify(i[t])!==JSON.stringify(r[t])&&(r[e]=r[t])});var a=["sortable","filterable","resizable"];a.forEach(function(e){if(i[e]!==r[e]){var t=e.replace("able","");var n=t+"ed";var o="default"+(n.charAt(0).toUpperCase()+n.slice(1));r[n]=r[o]}});i.data===r.data&&i.columns===r.columns&&i.pivotBy===r.pivotBy&&i.sorted===r.sorted&&i.filtered===r.filtered||this.setStateWithData(this.getDataModel(r,i.data!==r.data))}},{key:"setStateWithData",value:function e(t,n){var i=this;var r=this.getResolvedState();var o=this.getResolvedState({},t);var a=o.freezeWhenExpanded;o.frozen=false;if(a){var s=Object.keys(o.expanded);for(var l=0;l<s.length;l+=1)if(o.expanded[s[l]]){o.frozen=true;break}}if(r.frozen&&!o.frozen||r.sorted!==o.sorted||r.filtered!==o.filtered||r.showFilters!==o.showFilters||!o.frozen&&r.resolvedData!==o.resolvedData){(r.sorted!==o.sorted&&this.props.collapseOnSortingChange||r.filtered!==o.filtered||r.showFilters!==o.showFilters||r.sortedData&&!o.frozen&&r.resolvedData!==o.resolvedData&&this.props.collapseOnDataChange)&&(o.expanded={});Object.assign(o,this.getSortedData(o))}r.filtered!==o.filtered&&(o.page=0);if(o.sortedData){o.pages=o.manual?o.pages:Math.ceil(o.sortedData.length/o.pageSize);o.page=o.manual?o.page:Math.max(o.page>=o.pages?o.pages-1:o.page,0)}return this.setState(o,function(){n&&n();r.page===o.page&&r.pageSize===o.pageSize&&r.sorted===o.sorted&&r.filtered===o.filtered||i.fireFetchData()})}}]);return t}(e)};var M=function(){function e(e,t){var n=[];var i=true;var r=false;var o=void 0;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;o=e}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var R=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();function F(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function j(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function H(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=function(e){return function(e){H(t,e);function t(){B(this,t);return V(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}R(t,[{key:"getResolvedState",value:function e(t,n){var i=N({},u.compactObject(this.state),u.compactObject(this.props),u.compactObject(n),u.compactObject(t));return i}},{key:"getDataModel",value:function e(t,n){var i=this;var o=t.columns,a=t.pivotBy,s=void 0===a?[]:a,l=t.data,c=t.resolveData,d=t.pivotIDKey,f=t.pivotValKey,p=t.subRowsKey,h=t.aggregatedKey,v=t.nestingLevelKey,m=t.originalKey,g=t.indexKey,b=t.groupedByPivotKey,y=t.SubComponent;var x=false;o.forEach(function(e){e.columns&&(x=true)});var w=[].concat(j(o));var S=o.find(function(e){return e.expander||e.columns&&e.columns.some(function(e){return e.expander})});S&&!S.expander&&(S=S.columns.find(function(e){return e.expander}));if(y&&!S){S={expander:true};w=[S].concat(j(w))}var C=function e(t,n){var r=void 0;r=t.expander?N({},i.props.column,i.props.expanderDefaults,t):N({},i.props.column,t);r.maxWidth<r.minWidth&&(r.minWidth=r.maxWidth);n&&(r.parentColumn=n);if("string"===typeof r.accessor){r.id=r.id||r.accessor;var o=r.accessor;r.accessor=function(e){return u.get(e,o)};return r}if(r.accessor&&!r.id){console.warn(r);throw new Error("A column id is required if using a non-string accessor for column above.")}r.accessor||(r.accessor=function(){return});return r};var E=[];var q=function e(t,n){var i=C(t,n);E.push(i);return i};var _=w.map(function(e){if(e.columns)return N({},e,{columns:e.columns.map(function(t){return q(t,e)})});return q(e)});var T=_.slice();var k=[];T=T.map(function(e){if(e.columns){var t=e.columns.filter(function(e){return!(s.indexOf(e.id)>-1)&&u.getFirstDefined(e.show,true)});return N({},e,{columns:t})}return e});T=T.filter(function(e){return e.columns?e.columns.length:!(s.indexOf(e.id)>-1)&&u.getFirstDefined(e.show,true)});var O=T.findIndex(function(e){return e.pivot});if(s.length){var D=[];s.forEach(function(e){var t=E.find(function(t){return t.id===e});t&&D.push(t)});var A=D.reduce(function(e,t){return e&&e===t.parentColumn&&t.parentColumn},D[0].parentColumn);var I=x&&A.Header;I=I||function(){return r.a.createElement("strong",null,"Pivoted")};var L={Header:I,columns:D.map(function(e){return N({},i.props.pivotDefaults,e,{pivoted:true})})};if(O>=0){L=N({},T[O],L);T.splice(O,1,L)}else T.unshift(L)}var P=[];var R=[];var B=function e(t,n){P.push(N({},i.props.column,n,{columns:t}));R=[]};T.forEach(function(e){if(e.columns){k=k.concat(e.columns);R.length>0&&B(R);B(e.columns,e);return}k.push(e);R.push(e)});x&&R.length>0&&B(R);var V=function e(t,n){var i;var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var o=(i={},F(i,m,t),F(i,g,n),F(i,p,t[p]),F(i,v,r),i);E.forEach(function(e){if(e.expander)return;o[e.id]=e.accessor(t)});o[p]&&(o[p]=o[p].map(function(t,n){return e(t,n,r+1)}));return o};var H=this.resolvedData;if(!this.resolvedData||n){H=c(l);this.resolvedData=H}H=H.map(function(e,t){return V(e,t)});var U=k.filter(function(e){return!e.expander&&e.aggregate});var z=function e(t){var n={};U.forEach(function(e){var i=t.map(function(t){return t[e.id]});n[e.id]=e.aggregate(i,t)});return n};if(s.length){var $=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(i===n.length)return t;var r=Object.entries(u.groupBy(t,n[i])).map(function(e){var t;var r=M(e,2),o=r[0],a=r[1];return t={},F(t,d,n[i]),F(t,f,o),F(t,n[i],o),F(t,p,a),F(t,v,i),F(t,b,true),t});r=r.map(function(t){var r;var o=e(t[p],n,i+1);return N({},t,(r={},F(r,p,o),F(r,h,true),r),z(o))});return r};H=$(H,s)}return N({},t,{resolvedData:H,allVisibleColumns:k,headerGroups:P,allDecoratedColumns:E,hasHeaderGroups:x})}},{key:"getSortedData",value:function e(t){var n=t.manual,i=t.sorted,r=t.filtered,o=t.defaultFilterMethod,a=t.resolvedData,s=t.allVisibleColumns,l=t.allDecoratedColumns;var u={};l.filter(function(e){return e.sortMethod}).forEach(function(e){u[e.id]=e.sortMethod});return{sortedData:n?a:this.sortData(this.filterData(a,r,o,s),i,u)}}},{key:"fireFetchData",value:function e(){var t=N({},this.getResolvedState(),{page:this.getStateOrProp("page"),pageSize:this.getStateOrProp("pageSize"),filter:this.getStateOrProp("filter")});this.props.onFetchData(t,this)}},{key:"getPropOrState",value:function e(t){return u.getFirstDefined(this.props[t],this.state[t])}},{key:"getStateOrProp",value:function e(t){return u.getFirstDefined(this.state[t],this.props[t])}},{key:"filterData",value:function e(t,n,i,r){var o=this;var a=t;if(n.length){a=n.reduce(function(e,t){var n=r.find(function(e){return e.id===t.id});if(!n||false===n.filterable)return e;var o=n.filterMethod||i;if(n.filterAll)return o(t,e,n);return e.filter(function(e){return o(t,e,n)})},a);a=a.map(function(e){if(!e[o.props.subRowsKey])return e;return N({},e,F({},o.props.subRowsKey,o.filterData(e[o.props.subRowsKey],n,i,r)))}).filter(function(e){if(!e[o.props.subRowsKey])return true;return e[o.props.subRowsKey].length>0})}return a}},{key:"sortData",value:function e(t,n){var i=this;var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n.length)return t;var o=(this.props.orderByMethod||u.orderBy)(t,n.map(function(e){if(r[e.id])return function(t,n){return r[e.id](t[e.id],n[e.id],e.desc)};return function(t,n){return i.props.defaultSortMethod(t[e.id],n[e.id],e.desc)}}),n.map(function(e){return!e.desc}),this.props.indexKey);o.forEach(function(e){if(!e[i.props.subRowsKey])return;e[i.props.subRowsKey]=i.sortData(e[i.props.subRowsKey],n,r)});return o}},{key:"getMinRows",value:function e(){return u.getFirstDefined(this.props.minRows,this.getStateOrProp("pageSize"))}},{key:"onPageChange",value:function e(t){var n=this.props,e=n.onPageChange,i=n.collapseOnPageChange;var r={page:t};i&&(r.expanded={});this.setStateWithData(r,function(){return e&&e(t)})}},{key:"onPageSizeChange",value:function e(t){var e=this.props.onPageSizeChange;var n=this.getResolvedState(),i=n.pageSize,r=n.page;var o=i*r;var a=Math.floor(o/t);this.setStateWithData({pageSize:t,page:a},function(){return e&&e(t,a)})}},{key:"sortColumn",value:function e(t,n){var i=this.getResolvedState(),r=i.sorted,o=i.skipNextSort,a=i.defaultSortDesc;var s=Object.prototype.hasOwnProperty.call(t,"defaultSortDesc")?t.defaultSortDesc:a;var l=!s;if(o){this.setStateWithData({skipNextSort:false});return}var c=this.props.onSortedChange;var d=u.clone(r||[]).map(function(e){e.desc=u.isSortingDesc(e);return e});if(u.isArray(t)){var f=d.findIndex(function(e){return e.id===t[0].id});if(f>-1){var p=d[f];p.desc===l?n?d.splice(f,t.length):t.forEach(function(e,t){d[f+t].desc=s}):t.forEach(function(e,t){d[f+t].desc=l});n||(d=d.slice(f,t.length))}else d=n?d.concat(t.map(function(e){return{id:e.id,desc:s}})):t.map(function(e){return{id:e.id,desc:s}})}else{var h=d.findIndex(function(e){return e.id===t.id});if(h>-1){var v=d[h];if(v.desc===l)if(n)d.splice(h,1);else{v.desc=s;d=[v]}else{v.desc=l;n||(d=[v])}}else n?d.push({id:t.id,desc:s}):d=[{id:t.id,desc:s}]}this.setStateWithData({page:!r.length&&d.length||!n?0:this.state.page,sorted:d},function(){return c&&c(d,t,n)})}},{key:"filterColumn",value:function e(t,n){var i=this.getResolvedState(),r=i.filtered;var o=this.props.onFilteredChange;var a=(r||[]).filter(function(e){return e.id!==t.id});""!==n&&a.push({id:t.id,value:n});this.setStateWithData({filtered:a},function(){return o&&o(a,t,n)})}},{key:"resizeColumnStart",value:function e(t,n,i){var r=this;t.stopPropagation();var o=t.target.parentElement.getBoundingClientRect().width;var a=void 0;a=i?t.changedTouches[0].pageX:t.pageX;this.trapEvents=true;this.setStateWithData({currentlyResizing:{id:n.id,startX:a,parentWidth:o}},function(){if(i){document.addEventListener("touchmove",r.resizeColumnMoving);document.addEventListener("touchcancel",r.resizeColumnEnd);document.addEventListener("touchend",r.resizeColumnEnd)}else{document.addEventListener("mousemove",r.resizeColumnMoving);document.addEventListener("mouseup",r.resizeColumnEnd);document.addEventListener("mouseleave",r.resizeColumnEnd)}})}},{key:"resizeColumnMoving",value:function e(t){t.stopPropagation();var n=this.props,i=n.onResizedChange,r=n.column;var o=this.getResolvedState(),a=o.resized,s=o.currentlyResizing,l=o.columns;var u=l.find(function(e){return e.accessor===s.id});var c=u?u.minResizeWidth:r.minResizeWidth;var d=a.filter(function(e){return e.id!==s.id});var f=void 0;"touchmove"===t.type?f=t.changedTouches[0].pageX:"mousemove"===t.type&&(f=t.pageX);var p=Math.max(s.parentWidth+f-s.startX,c);d.push({id:s.id,value:p});this.setStateWithData({resized:d},function(){return i&&i(d,t)})}},{key:"resizeColumnEnd",value:function e(t){t.stopPropagation();var n="touchend"===t.type||"touchcancel"===t.type;if(n){document.removeEventListener("touchmove",this.resizeColumnMoving);document.removeEventListener("touchcancel",this.resizeColumnEnd);document.removeEventListener("touchend",this.resizeColumnEnd)}document.removeEventListener("mousemove",this.resizeColumnMoving);document.removeEventListener("mouseup",this.resizeColumnEnd);document.removeEventListener("mouseleave",this.resizeColumnEnd);n||this.setStateWithData({skipNextSort:true,currentlyResizing:false})}}]);return t}(e)};var z=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();var $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Q(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var K=function e(t){return r.a.createElement("button",$({type:"button"},t,{className:"-btn"}),t.children)};var Y=function(e){Q(t,e);function t(e){G(this,t);var n=W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getSafePage=n.getSafePage.bind(n);n.changePage=n.changePage.bind(n);n.applyPage=n.applyPage.bind(n);n.state={page:e.page};return n}z(t,[{key:"componentWillReceiveProps",value:function e(t){this.props.page!==t.page&&this.setState({page:t.page})}},{key:"getSafePage",value:function e(t){Number.isNaN(t)&&(t=this.props.page);return Math.min(Math.max(t,0),this.props.pages-1)}},{key:"changePage",value:function e(t){t=this.getSafePage(t);this.setState({page:t});this.props.page!==t&&this.props.onPageChange(t)}},{key:"applyPage",value:function e(t){t&&t.preventDefault();var n=this.state.page;this.changePage(""===n?this.props.page:n)}},{key:"getPageJumpProperties",value:function e(){var t=this;return{onKeyPress:function e(n){13!==n.which&&13!==n.keyCode||t.applyPage()},onBlur:this.applyPage,value:""===this.state.page?"":this.state.page+1,onChange:function e(n){var i=n.target.value;var r=i-1;if(""===i)return t.setState({page:i});t.setState({page:t.getSafePage(r)})},inputType:""===this.state.page?"text":"number",pageJumpText:this.props.pageJumpText}}},{key:"render",value:function e(){var t=this;var n=this.props,i=n.pages,o=n.page,s=n.showPageSizeOptions,l=n.pageSizeOptions,u=n.pageSize,c=n.showPageJump,d=n.canPrevious,f=n.canNext,p=n.onPageSizeChange,h=n.className,v=n.PreviousComponent,m=n.NextComponent,g=n.renderPageJump,b=n.renderCurrentPage,y=n.renderTotalPagesCount,x=n.renderPageSizeOptions;return r.a.createElement("div",{className:a()(h,"-pagination"),style:this.props.style},r.a.createElement("div",{className:"-previous"},r.a.createElement(v,{onClick:function e(){if(!d)return;t.changePage(o-1)},disabled:!d},this.props.previousText)),r.a.createElement("div",{className:"-center"},r.a.createElement("span",{className:"-pageInfo"},this.props.pageText," ",c?g(this.getPageJumpProperties()):b(o)," ",this.props.ofText," ",y(i)),s&&x({pageSize:u,rowsSelectorText:this.props.rowsSelectorText,pageSizeOptions:l,onPageSizeChange:p,rowsText:this.props.rowsText})),r.a.createElement("div",{className:"-next"},r.a.createElement(m,{onClick:function e(){if(!f)return;t.changePage(o+1)},disabled:!f},this.props.nextText)))}}]);return t}(i["Component"]);Y.defaultProps={PreviousComponent:K,NextComponent:K,renderPageJump:function e(t){var n=t.onChange,i=t.value,o=t.onBlur,a=t.onKeyPress,s=t.inputType,l=t.pageJumpText;return r.a.createElement("div",{className:"-pageJump"},r.a.createElement("input",{"aria-label":l,type:s,onChange:n,value:i,onBlur:o,onKeyPress:a}))},renderCurrentPage:function e(t){return r.a.createElement("span",{className:"-currentPage"},t+1)},renderTotalPagesCount:function e(t){return r.a.createElement("span",{className:"-totalPages"},t||1)},renderPageSizeOptions:function e(t){var n=t.pageSize,i=t.pageSizeOptions,o=t.rowsSelectorText,a=t.onPageSizeChange,s=t.rowsText;return r.a.createElement("span",{className:"select-wrap -pageSizeOptions"},r.a.createElement("select",{"aria-label":o,onChange:function e(t){return a(Number(t.target.value))},value:n},i.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e+" "+s)})))}};var X=Y;var Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function J(e,t){var n={};for(var i in e){if(t.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,i))continue;n[i]=e[i]}return n}var ee=function e(){return{}};var te={data:[],resolveData:function e(t){return t},loading:false,showPagination:true,showPaginationTop:false,showPaginationBottom:true,showPageSizeOptions:true,pageSizeOptions:[5,10,20,25,50,100],defaultPage:0,defaultPageSize:20,showPageJump:true,collapseOnSortingChange:true,collapseOnPageChange:true,collapseOnDataChange:true,freezeWhenExpanded:false,sortable:true,multiSort:true,resizable:true,filterable:false,defaultSortDesc:false,defaultSorted:[],defaultFiltered:[],defaultResized:[],defaultExpanded:{},defaultFilterMethod:function e(t,n,i){var r=t.pivotId||t.id;return void 0===n[r]||String(n[r]).startsWith(t.value)},defaultSortMethod:function e(t,n,i){t=null===t||void 0===t?"":t;n=null===n||void 0===n?"":n;t="string"===typeof t?t.toLowerCase():t;n="string"===typeof n?n.toLowerCase():n;if(t>n)return 1;if(t<n)return-1;return 0},onPageChange:void 0,onPageSizeChange:void 0,onSortedChange:void 0,onFilteredChange:void 0,onResizedChange:void 0,onExpandedChange:void 0,pivotBy:void 0,pivotValKey:"_pivotVal",pivotIDKey:"_pivotID",subRowsKey:"_subRows",aggregatedKey:"_aggregated",nestingLevelKey:"_nestingLevel",originalKey:"_original",indexKey:"_index",groupedByPivotKey:"_groupedByPivot",onFetchData:function e(){return null},className:"",style:{},getProps:ee,getTableProps:ee,getTheadGroupProps:ee,getTheadGroupTrProps:ee,getTheadGroupThProps:ee,getTheadProps:ee,getTheadTrProps:ee,getTheadThProps:ee,getTheadFilterProps:ee,getTheadFilterTrProps:ee,getTheadFilterThProps:ee,getTbodyProps:ee,getTrGroupProps:ee,getTrProps:ee,getTdProps:ee,getTfootProps:ee,getTfootTrProps:ee,getTfootTdProps:ee,getPaginationProps:ee,getLoadingProps:ee,getNoDataProps:ee,getResizerProps:ee,column:{Cell:void 0,Header:void 0,Footer:void 0,Aggregated:void 0,Pivot:void 0,PivotValue:void 0,Expander:void 0,Filter:void 0,Placeholder:void 0,sortable:void 0,resizable:void 0,filterable:void 0,show:true,minWidth:100,minResizeWidth:11,className:"",style:{},getProps:ee,aggregate:void 0,headerClassName:"",headerStyle:{},getHeaderProps:ee,footerClassName:"",footerStyle:{},getFooterProps:ee,filterMethod:void 0,filterAll:false,sortMethod:void 0},expanderDefaults:{sortable:false,resizable:false,filterable:false,width:35},pivotDefaults:{},previousText:"Previous",nextText:"Next",loadingText:"Loading...",noDataText:"No rows found",pageText:"Page",ofText:"of",rowsText:"rows",pageJumpText:"jump to page",rowsSelectorText:"rows per page",TableComponent:function e(t){var n=t.children,i=t.className,o=J(t,["children","className"]);return r.a.createElement("div",Z({className:a()("rt-table",i),role:"grid"},o),n)},TheadComponent:u.makeTemplateComponent("rt-thead","Thead"),TbodyComponent:u.makeTemplateComponent("rt-tbody","Tbody"),TrGroupComponent:function e(t){var n=t.children,i=t.className,o=J(t,["children","className"]);return r.a.createElement("div",Z({className:a()("rt-tr-group",i),role:"rowgroup"},o),n)},TrComponent:function e(t){var n=t.children,i=t.className,o=J(t,["children","className"]);return r.a.createElement("div",Z({className:a()("rt-tr",i),role:"row"},o),n)},ThComponent:function e(t){var n=t.toggleSort,i=t.className,o=t.children,s=J(t,["toggleSort","className","children"]);return r.a.createElement("div",Z({className:a()("rt-th",i),onClick:function e(t){return n&&n(t)},role:"columnheader",tabIndex:"-1"},s),o)},TdComponent:function e(t){var n=t.toggleSort,i=t.className,o=t.children,s=J(t,["toggleSort","className","children"]);return r.a.createElement("div",Z({className:a()("rt-td",i),role:"gridcell"},s),o)},TfootComponent:u.makeTemplateComponent("rt-tfoot","Tfoot"),FilterComponent:function e(t){var n=t.filter,i=t.onChange,o=t.column;return r.a.createElement("input",{type:"text",style:{width:"100%"},placeholder:o.Placeholder,value:n?n.value:"",onChange:function e(t){return i(t.target.value)}})},ExpanderComponent:function e(t){var n=t.isExpanded;return r.a.createElement("div",{className:a()("rt-expander",n&&"-open")},"â¢")},PivotValueComponent:function e(t){var n=t.subRows,i=t.value;return r.a.createElement("span",null,i," ",n&&"("+n.length+")")},AggregatedComponent:function e(t){var n=t.subRows,i=t.column;var o=n.filter(function(e){return"undefined"!==typeof e[i.id]}).map(function(e,t){return r.a.createElement("span",{key:t},e[i.id],t<n.length-1?", ":"")});return r.a.createElement("span",null,o)},PivotComponent:void 0,PaginationComponent:X,PreviousComponent:void 0,NextComponent:void 0,LoadingComponent:function e(t){var n=t.className,i=t.loading,o=t.loadingText,s=J(t,["className","loading","loadingText"]);return r.a.createElement("div",Z({className:a()("-loading",{"-active":i},n)},s),r.a.createElement("div",{className:"-loading-inner"},o))},NoDataComponent:u.makeTemplateComponent("rt-noData","NoData"),ResizerComponent:u.makeTemplateComponent("rt-resizer","Resizer"),PadRowComponent:function e(){return r.a.createElement("span",null,"Â ")}};var ne=n(116);var ie=n.n(ne);var re={data:ie.a.any,loading:ie.a.bool,showPagination:ie.a.bool,showPaginationTop:ie.a.bool,showPaginationBottom:ie.a.bool,showPageSizeOptions:ie.a.bool,pageSizeOptions:ie.a.array,defaultPageSize:ie.a.number,showPageJump:ie.a.bool,collapseOnSortingChange:ie.a.bool,collapseOnPageChange:ie.a.bool,collapseOnDataChange:ie.a.bool,freezeWhenExpanded:ie.a.bool,sortable:ie.a.bool,resizable:ie.a.bool,filterable:ie.a.bool,defaultSortDesc:ie.a.bool,defaultSorted:ie.a.array,defaultFiltered:ie.a.array,defaultResized:ie.a.array,defaultExpanded:ie.a.object,defaultFilterMethod:ie.a.func,defaultSortMethod:ie.a.func,onPageChange:ie.a.func,onPageSizeChange:ie.a.func,onSortedChange:ie.a.func,onFilteredChange:ie.a.func,onResizedChange:ie.a.func,onExpandedChange:ie.a.func,pivotBy:ie.a.array,pivotValKey:ie.a.string,pivotIDKey:ie.a.string,subRowsKey:ie.a.string,aggregatedKey:ie.a.string,nestingLevelKey:ie.a.string,originalKey:ie.a.string,indexKey:ie.a.string,groupedByPivotKey:ie.a.string,onFetchData:ie.a.func,className:ie.a.string,style:ie.a.object,getProps:ie.a.func,getTableProps:ie.a.func,getTheadGroupProps:ie.a.func,getTheadGroupTrProps:ie.a.func,getTheadGroupThProps:ie.a.func,getTheadProps:ie.a.func,getTheadTrProps:ie.a.func,getTheadThProps:ie.a.func,getTheadFilterProps:ie.a.func,getTheadFilterTrProps:ie.a.func,getTheadFilterThProps:ie.a.func,getTbodyProps:ie.a.func,getTrGroupProps:ie.a.func,getTrProps:ie.a.func,getTdProps:ie.a.func,getTfootProps:ie.a.func,getTfootTrProps:ie.a.func,getTfootTdProps:ie.a.func,getPaginationProps:ie.a.func,getLoadingProps:ie.a.func,getNoDataProps:ie.a.func,getResizerProps:ie.a.func,columns:ie.a.arrayOf(ie.a.shape({Cell:ie.a.oneOfType([ie.a.element,ie.a.string,ie.a.func]),Header:ie.a.oneOfType([ie.a.element,ie.a.string,ie.a.func]),Footer:ie.a.oneOfType([ie.a.element,ie.a.string,ie.a.func]),Aggregated:ie.a.oneOfType([ie.a.element,ie.a.string,ie.a.func]),Pivot:ie.a.oneOfType([ie.a.element,ie.a.string,ie.a.func]),PivotValue:ie.a.oneOfType([ie.a.element,ie.a.string,ie.a.func]),Expander:ie.a.oneOfType([ie.a.element,ie.a.string,ie.a.func]),Filter:ie.a.oneOfType([ie.a.element,ie.a.func]),sortable:ie.a.bool,resizable:ie.a.bool,filterable:ie.a.bool,show:ie.a.bool,minWidth:ie.a.number,minResizeWidth:ie.a.number,className:ie.a.string,style:ie.a.object,getProps:ie.a.func,aggregate:ie.a.func,headerClassName:ie.a.string,headerStyle:ie.a.object,getHeaderProps:ie.a.func,footerClassName:ie.a.string,footerStyle:ie.a.object,getFooterProps:ie.a.func,filterMethod:ie.a.func,filterAll:ie.a.bool,sortMethod:ie.a.func})),expanderDefaults:ie.a.shape({sortable:ie.a.bool,resizable:ie.a.bool,filterable:ie.a.bool,width:ie.a.number}),pivotDefaults:ie.a.object,previousText:ie.a.node,nextText:ie.a.node,loadingText:ie.a.node,noDataText:ie.a.node,pageText:ie.a.node,ofText:ie.a.node,rowsText:ie.a.node,pageJumpText:ie.a.node,rowsSelectorText:ie.a.node,TableComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),TheadComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),TbodyComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),TrGroupComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),TrComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),ThComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),TdComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),TfootComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),FilterComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),ExpanderComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),PivotValueComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),AggregatedComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),PivotComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),PaginationComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),PreviousComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),NextComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),LoadingComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),NoDataComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),ResizerComponent:ie.a.oneOfType([ie.a.func,ie.a.element]),PadRowComponent:ie.a.oneOfType([ie.a.func,ie.a.element])};n.d(t,"ReactTableDefaults",function(){return de});var oe=function(){function e(e,t){var n=[];var i=true;var r=false;var o=void 0;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;o=e}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var se=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ce(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var de=te;var fe=function(e){ce(t,e);function t(e){le(this,t);var n=ue(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.getResolvedState=n.getResolvedState.bind(n);n.getDataModel=n.getDataModel.bind(n);n.getSortedData=n.getSortedData.bind(n);n.fireFetchData=n.fireFetchData.bind(n);n.getPropOrState=n.getPropOrState.bind(n);n.getStateOrProp=n.getStateOrProp.bind(n);n.filterData=n.filterData.bind(n);n.sortData=n.sortData.bind(n);n.getMinRows=n.getMinRows.bind(n);n.onPageChange=n.onPageChange.bind(n);n.onPageSizeChange=n.onPageSizeChange.bind(n);n.sortColumn=n.sortColumn.bind(n);n.filterColumn=n.filterColumn.bind(n);n.resizeColumnStart=n.resizeColumnStart.bind(n);n.resizeColumnEnd=n.resizeColumnEnd.bind(n);n.resizeColumnMoving=n.resizeColumnMoving.bind(n);n.state={page:e.defaultPage,pageSize:e.defaultPageSize,sorted:e.defaultSorted,expanded:e.defaultExpanded,filtered:e.defaultFiltered,resized:e.defaultResized,currentlyResizing:false,skipNextSort:false};return n}se(t,[{key:"render",value:function e(){var t=this;var n=this.getResolvedState();var i=n.children,o=n.className,s=n.style,l=n.getProps,c=n.getTableProps,d=n.getTheadGroupProps,f=n.getTheadGroupTrProps,p=n.getTheadGroupThProps,h=n.getTheadProps,v=n.getTheadTrProps,m=n.getTheadThProps,g=n.getTheadFilterProps,b=n.getTheadFilterTrProps,y=n.getTheadFilterThProps,x=n.getTbodyProps,w=n.getTrGroupProps,S=n.getTrProps,C=n.getTdProps,E=n.getTfootProps,q=n.getTfootTrProps,_=n.getTfootTdProps,T=n.getPaginationProps,k=n.getLoadingProps,O=n.getNoDataProps,D=n.getResizerProps,A=n.showPagination,I=n.showPaginationTop,L=n.showPaginationBottom,P=n.manual,M=n.loadingText,N=n.noDataText,R=n.sortable,F=n.multiSort,j=n.resizable,B=n.filterable,V=n.pivotIDKey,H=n.pivotValKey,U=n.pivotBy,z=n.subRowsKey,$=n.aggregatedKey,G=n.originalKey,W=n.indexKey,Q=n.groupedByPivotKey,K=n.loading,Y=n.pageSize,X=n.page,Z=n.sorted,J=n.filtered,ee=n.resized,ne=n.expanded,ie=n.pages,re=n.onExpandedChange,se=n.TableComponent,le=n.TheadComponent,ue=n.TbodyComponent,ce=n.TrGroupComponent,de=n.TrComponent,fe=n.ThComponent,pe=n.TdComponent,he=n.TfootComponent,ve=n.PaginationComponent,me=n.LoadingComponent,ge=n.SubComponent,be=n.NoDataComponent,ye=n.ResizerComponent,xe=n.ExpanderComponent,we=n.PivotValueComponent,Se=n.PivotComponent,Ce=n.AggregatedComponent,Ee=n.FilterComponent,qe=n.PadRowComponent,_e=n.resolvedData,Te=n.allVisibleColumns,ke=n.headerGroups,Oe=n.hasHeaderGroups,De=n.sortedData,Ae=n.currentlyResizing;var Ie=Y*X;var Le=Ie+Y;var Pe=P?_e:De.slice(Ie,Le);var Me=this.getMinRows();var Ne=u.range(Math.max(Me-Pe.length,0));var Re=Te.some(function(e){return e.Footer});var Fe=B||Te.some(function(e){return e.filterable});var je=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return[t.map(function(t,r){i+=1;var o=ae({},t,{_viewIndex:i});var a=n.concat([r]);if(o[z]&&u.get(ne,a)){var s=e(o[z],a,i);var l=oe(s,2);o[z]=l[0];i=l[1]}return o}),i]};var Be=je(Pe);var Ve=oe(Be,1);Pe=Ve[0];var He=X>0;var Ue=X+1<ie;var ze=u.sum(Te.map(function(e){var t=ee.find(function(t){return t.id===e.id})||{};return u.getFirstDefined(t.value,e.width,e.minWidth)}));var $e=-1;var Ge=ae({},n,{startRow:Ie,endRow:Le,pageRows:Pe,minRows:Me,padRows:Ne,hasColumnFooter:Re,canPrevious:He,canNext:Ue,rowMinWidth:ze});var We=u.splitProps(l(Ge,void 0,void 0,this));var Qe=u.splitProps(c(Ge,void 0,void 0,this));var Ke=u.splitProps(x(Ge,void 0,void 0,this));var Ye=k(Ge,void 0,void 0,this);var Xe=O(Ge,void 0,void 0,this);var Ze=function e(n,i){var o=function e(t){return(ee.find(function(e){return e.id===t.id})||{}).value};var s=u.sum(n.columns.map(function(e){return e.width||o(e)?0:e.minWidth}));var l=u.sum(n.columns.map(function(e){return u.getFirstDefined(o(e),e.width,e.minWidth)}));var c=u.sum(n.columns.map(function(e){return u.getFirstDefined(o(e),e.width,e.maxWidth)}));var d=u.splitProps(p(Ge,void 0,n,t));var f=u.splitProps(n.getHeaderProps(Ge,void 0,n,t));var h=[n.headerClassName,d.className,f.className];var v=ae({},n.headerStyle,d.style,f.style);var m=ae({},d.rest,f.rest);var g={flex:s+" 0 auto",width:u.asPx(l),maxWidth:u.asPx(c)};return r.a.createElement(fe,ae({key:i+"-"+n.id,className:a()(h),style:ae({},v,g)},m),u.normalizeComponent(n.Header,{data:De,column:n}))};var Je=function e(){var n=u.splitProps(d(Ge,void 0,void 0,t));var i=u.splitProps(f(Ge,void 0,void 0,t));return r.a.createElement(le,ae({className:a()("-headerGroups",n.className),style:ae({},n.style,{minWidth:ze+"px"})},n.rest),r.a.createElement(de,ae({className:i.className,style:i.style},i.rest),ke.map(Ze)))};var et=function e(n,i){var o=ee.find(function(e){return e.id===n.id})||{};var s=Z.find(function(e){return e.id===n.id});var l="function"===typeof n.show?n.show():n.show;var c=u.getFirstDefined(o.value,n.width,n.minWidth);var d=u.getFirstDefined(o.value,n.width,n.maxWidth);var f=u.splitProps(m(Ge,void 0,n,t));var p=u.splitProps(n.getHeaderProps(Ge,void 0,n,t));var h=[n.headerClassName,f.className,p.className];var v=ae({},n.headerStyle,f.style,p.style);var g=ae({},f.rest,p.rest);var b=u.getFirstDefined(n.resizable,j,false);var y=b?r.a.createElement(ye,ae({onMouseDown:function e(i){return t.resizeColumnStart(i,n,false)},onTouchStart:function e(i){return t.resizeColumnStart(i,n,true)}},D("finalState",void 0,n,t))):null;var x=u.getFirstDefined(n.sortable,R,false);return r.a.createElement(fe,ae({key:i+"-"+n.id,className:a()(h,b&&"rt-resizable-header",s?s.desc?"-sort-desc":"-sort-asc":"",x&&"-cursor-pointer",!l&&"-hidden",U&&U.slice(0,-1).includes(n.id)&&"rt-header-pivot"),style:ae({},v,{flex:c+" 0 auto",width:u.asPx(c),maxWidth:u.asPx(d)}),toggleSort:function e(i){x&&t.sortColumn(n,!!F&&i.shiftKey)}},g),r.a.createElement("div",{className:a()(b&&"rt-resizable-header-content")},u.normalizeComponent(n.Header,{data:De,column:n})),y)};var tt=function e(){var n=u.splitProps(h(Ge,void 0,void 0,t));var i=u.splitProps(v(Ge,void 0,void 0,t));return r.a.createElement(le,ae({className:a()("-header",n.className),style:ae({},n.style,{minWidth:ze+"px"})},n.rest),r.a.createElement(de,ae({className:i.className,style:i.style},i.rest),Te.map(et)))};var nt=function e(n,i){var o=ee.find(function(e){return e.id===n.id})||{};var s=u.getFirstDefined(o.value,n.width,n.minWidth);var l=u.getFirstDefined(o.value,n.width,n.maxWidth);var c=u.splitProps(y(Ge,void 0,n,t));var d=u.splitProps(n.getHeaderProps(Ge,void 0,n,t));var f=[n.headerClassName,c.className,d.className];var p=ae({},n.headerStyle,c.style,d.style);var h=ae({},c.rest,d.rest);var v=J.find(function(e){return e.id===n.id});var m=n.Filter||Ee;var g=u.getFirstDefined(n.filterable,B,false);return r.a.createElement(fe,ae({key:i+"-"+n.id,className:a()(f),style:ae({},p,{flex:s+" 0 auto",width:u.asPx(s),maxWidth:u.asPx(l)})},h),g?u.normalizeComponent(m,{column:n,filter:v,onChange:function e(i){return t.filterColumn(n,i)}},te.column.Filter):null)};var it=function e(){var n=u.splitProps(g(Ge,void 0,void 0,t));var i=u.splitProps(b(Ge,void 0,void 0,t));return r.a.createElement(le,ae({className:a()("-filters",n.className),style:ae({},n.style,{minWidth:ze+"px"})},n.rest),r.a.createElement(de,ae({className:i.className,style:i.style},i.rest),Te.map(nt)))};var rt=function e(n,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var s={original:n[G],row:n,index:n[W],viewIndex:$e+=1,pageSize:Y,page:X,level:o.length,nestingPath:o.concat([i]),aggregated:n[$],groupedByPivot:n[Q],subRows:n[z]};var l=u.get(ne,s.nestingPath);var c=w(Ge,s,void 0,t);var d=u.splitProps(S(Ge,s,void 0,t));return r.a.createElement(ce,ae({key:s.nestingPath.join("_")},c),r.a.createElement(de,ae({className:a()(d.className,n._viewIndex%2?"-even":"-odd"),style:d.style},d.rest),Te.map(function(e,i){var o=ee.find(function(t){return t.id===e.id})||{};var c="function"===typeof e.show?e.show():e.show;var d=u.getFirstDefined(o.value,e.width,e.minWidth);var f=u.getFirstDefined(o.value,e.width,e.maxWidth);var p=u.splitProps(C(Ge,s,e,t));var h=u.splitProps(e.getProps(Ge,s,e,t));var v=[p.className,e.className,h.className];var m=ae({},p.style,e.style,h.style);var g=ae({},s,{isExpanded:l,column:ae({},e),value:s.row[e.id],pivoted:e.pivoted,expander:e.expander,resized:ee,show:c,width:d,maxWidth:f,tdProps:p,columnProps:h,classes:v,styles:m});var b=g.value;var y=void 0;var x=void 0;var w=void 0;var S=function e(n){var i=u.clone(ne);i=l?u.set(i,g.nestingPath,false):u.set(i,g.nestingPath,{});return t.setStateWithData({expanded:i},function(){return re&&re(i,g.nestingPath,n)})};var E=u.normalizeComponent(e.Cell,g,b);var q=e.Aggregated||(e.aggregate?e.Cell:Ce);var _=e.Expander||xe;var T=e.PivotValue||we;var k=Se||function(e){return r.a.createElement("div",null,r.a.createElement(_,e),r.a.createElement(T,e))};var O=e.Pivot||k;if(g.pivoted||g.expander){g.expandable=true;y=true;!g.pivoted||g.subRows||ge||(g.expandable=false)}if(g.pivoted){x=s.row[V]===e.id&&g.subRows;w=U.indexOf(e.id)>U.indexOf(s.row[V])&&g.subRows;E=x?u.normalizeComponent(O,ae({},g,{value:n[H]}),n[H]):w?u.normalizeComponent(q,g,b):null}else g.aggregated&&(E=u.normalizeComponent(q,g,b));if(g.expander){E=u.normalizeComponent(_,g,n[H]);if(U){g.groupedByPivot&&(E=null);g.subRows||ge||(E=null)}}var D=y?S:function(){};var A={onClick:D};p.rest.onClick&&(A.onClick=function(e){p.rest.onClick(e,function(){return D(e)})});h.rest.onClick&&(A.onClick=function(e){h.rest.onClick(e,function(){return D(e)})});return r.a.createElement(pe,ae({key:i+"-"+e.id,className:a()(v,!g.expandable&&!c&&"hidden",g.expandable&&"rt-expandable",(x||w)&&"rt-pivot"),style:ae({},m,{flex:d+" 0 auto",width:u.asPx(d),maxWidth:u.asPx(f)})},p.rest,h.rest,A),E)})),s.subRows&&l&&s.subRows.map(function(t,n){return e(t,n,s.nestingPath)}),ge&&!s.subRows&&l&&ge(s,function(){var e=u.clone(ne);u.set(e,s.nestingPath,false)}))};var ot=function e(n,i){var o=ee.find(function(e){return e.id===n.id})||{};var s="function"===typeof n.show?n.show():n.show;var l=u.getFirstDefined(o.value,n.width,n.minWidth);var c=l;var d=u.getFirstDefined(o.value,n.width,n.maxWidth);var f=u.splitProps(C(Ge,void 0,n,t));var p=u.splitProps(n.getProps(Ge,void 0,n,t));var h=[f.className,n.className,p.className];var v=ae({},f.style,n.style,p.style);return r.a.createElement(pe,ae({key:i+"-"+n.id,className:a()(h,!s&&"hidden"),style:ae({},v,{flex:c+" 0 auto",width:u.asPx(l),maxWidth:u.asPx(d)})},f.rest),u.normalizeComponent(qe))};var at=function e(n,i){var o=w(Ge,void 0,void 0,t);var s=u.splitProps(S(Ge,void 0,void 0,t));return r.a.createElement(ce,ae({key:"pad-"+i},o),r.a.createElement(de,{className:a()("-padRow",(Pe.length+i)%2?"-even":"-odd",s.className),style:s.style||{}},Te.map(ot)))};var st=function e(n,i){var o=ee.find(function(e){return e.id===n.id})||{};var s="function"===typeof n.show?n.show():n.show;var l=u.getFirstDefined(o.value,n.width,n.minWidth);var c=u.getFirstDefined(o.value,n.width,n.maxWidth);var d=u.splitProps(_(Ge,void 0,void 0,t));var f=u.splitProps(n.getProps(Ge,void 0,n,t));var p=u.splitProps(n.getFooterProps(Ge,void 0,n,t));var h=[d.className,n.className,f.className,p.className];var v=ae({},d.style,n.style,f.style,p.style);return r.a.createElement(pe,ae({key:i+"-"+n.id,className:a()(h,!s&&"hidden"),style:ae({},v,{flex:l+" 0 auto",width:u.asPx(l),maxWidth:u.asPx(c)})},f.rest,d.rest,p.rest),u.normalizeComponent(n.Footer,{data:De,column:n}))};var lt=function e(){var n=u.splitProps(E(Ge,void 0,void 0,t));var i=u.splitProps(q(Ge,void 0,void 0,t));return r.a.createElement(he,ae({className:n.className,style:ae({},n.style,{minWidth:ze+"px"})},n.rest),r.a.createElement(de,ae({className:a()(i.className),style:i.style},i.rest),Te.map(st)))};var ut=function e(i){var o=u.splitProps(T(Ge,void 0,void 0,t));return r.a.createElement(ve,ae({},n,{pages:ie,canPrevious:He,canNext:Ue,onPageChange:t.onPageChange,onPageSizeChange:t.onPageSizeChange,className:o.className,style:o.style,isTop:i},o.rest))};var ct=function e(){return r.a.createElement("div",ae({className:a()("ReactTable",o,We.className),style:ae({},s,We.style)},We.rest),A&&I?r.a.createElement("div",{className:"pagination-top"},ut(true)):null,r.a.createElement(se,ae({className:a()(Qe.className,Ae?"rt-resizing":""),style:Qe.style},Qe.rest),Oe?Je():null,tt(),Fe?it():null,r.a.createElement(ue,ae({className:a()(Ke.className),style:ae({},Ke.style,{minWidth:ze+"px"})},Ke.rest),Pe.map(function(e,t){return rt(e,t)}),Ne.map(at)),Re?lt():null),A&&L?r.a.createElement("div",{className:"pagination-bottom"},ut(false)):null,!Pe.length&&r.a.createElement(be,Xe,u.normalizeComponent(N)),r.a.createElement(me,ae({loading:K,loadingText:M},Ye)))};return i?i(Ge,ct,this):ct()}}]);return t}(U(P(i["Component"])));fe.propTypes=re;fe.defaultProps=te;var pe=t["default"]=fe},,function(e,t,n){"use strict";var i,r;!(i=[n(102)],r=function(e){var t;t=function t(n){this.pattern=n.pattern;this.isPartial="undefined"===typeof n.isPartial||n.isPartial;e.create(this,"Route");e.create(this,"DeRoute")};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=b(n(98));var r=g(n(116));var o=b(n(988));var a=n(438);var s=n(1043);var l=n(1086);var u=n(997);var c=n(1850);var d=g(n(1852));var f=g(n(1925));var p=g(n(2003));var h=g(n(1728));var v=g(n(2004));var m=g(n(103));n(2005);function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function y(e){y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return y(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function S(e,t,n){t&&w(e.prototype,t);n&&w(e,n);return e}function C(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){q=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return q(e)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&T(e,t)}function T(e,t){T=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return T(e,t)}var k=function(e){_(t,e);function t(e){var n;x(this,t);n=C(this,q(t).call(this,e));var i=e.view,r=e.urlParameters;n.state={view:i,urlParameters:r,error:null};return n}S(t,[{key:"setUrlParameters",value:function e(t){this.setState({urlParameters:t})}},{key:"setView",value:function e(t,n){this.setState({view:t,urlParameters:n})}},{key:"componentDidCatch",value:function e(t){m.default.trackEvent(m.default.customEvents.PAGE_RENDER_ERROR,{message:t&&t.message});this.setState({error:t})}},{key:"render",value:function e(){var t=this.state,n=t.error,r=t.view,m=t.urlParameters;if(n)return i.default.createElement(p.default,null);return i.default.createElement(l.UrlParametersProvider,{value:m},i.default.createElement(o.AppProvider,null,i.default.createElement(o.default,null,function(e){return i.default.createElement(u.FeaturesProvider,{app:e},i.default.createElement(c.UserProvider,{app:e},i.default.createElement(a.AppLayoutProvider,{app:e},i.default.createElement(s.SmallDeviceProvider,null,i.default.createElement(f.default,{view:r}),i.default.createElement("div",{id:"qs-page-container"},r?i.default.createElement(v.default,{view:r}):null),i.default.createElement(d.default,null)))))})),i.default.createElement(h.default,null))}}]);return t}(i.Component);k.propTypes={urlParameters:r.default.array.isRequired,view:r.default.object};k.defaultProps={view:null};var O=k;t.default=O;e.exports=t.default},function(e,t,n){"use strict";var i=n(1821);function r(){}function o(){}o.resetWarningCache=r;e.exports=function(){function e(e,t,n,r,o,a){if(a===i)return;var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");s.name="Invariant Violation";throw s}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};n.PropTypes=n;return n}},function(e,t,n){"use strict";var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=i},function(e,t){e.exports='<div class="qv-block-ui fullscreen-message">\n\t<div>\n\t\t<div class="msg-text" ng-bind-html="message"></div>\n\t\t<button\n\t\t\tng-if="button"\n\t\t\tng-click="button.callback()"\n\t\t\tqv-enter="button.callback()"\n\t\t\tclass="lui-button"\n\t\t\tq-translation="{{button.name}}"\n\t\t\t></button>\n\t</div>\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.getAppProperties=void 0;var i=w(n(48));var r=w(n(91));var o=w(n(90));var a=w(n(1340));var s=w(n(1341));var l=w(n(89));var u=w(n(117));var c=w(n(114));var d=w(n(162));var f=w(n(1824));var p=w(n(1039));var h=w(n(1848));var v=w(n(1339));var m=w(n(135));var g=w(n(103));n(437);var b=w(n(1699));var y=w(n(1690));var x=w(n(1849));function w(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function C(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){S(o,i,r,a,s,"next",e)}function s(e){S(o,i,r,a,s,"throw",e)}a(void 0)})}}var E=o.default.getParameterByName("theme");var q=function(){var e=C(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",d.default.getProperties(t).then(function(e){c.default.setRtl(e.rtl);s.default.setTheme(E||e.theme);y.default.destroy();var n=b.default.get().titleTranslationKey?r.default.get(b.default.get().titleTranslationKey):"";a.default.init(t.layout,n,true);"function"===typeof CustomEvent&&document.dispatchEvent(new CustomEvent("onQvfLoaded"));return e}));case 1:case"end":return n.stop()}},e)}));return function t(n){return e.apply(this,arguments)}}();t.getAppProperties=q;var _=function e(t){var n=t.app,i=t.result;var r=i.layout.qIsOpenedWithoutData||m.default.isSuffixInUse("noData");p.default.init(n,i.layout,i.configuration,r,false);p.default.prepareLoadModel()};var T=function e(t){var n=t.app,i=t.result;return f.default.attach(n,i.layout)};var k=function e(){h.default.setDropCallback&&h.default.setDropCallback(function(e){var t=i.default.getService("$timeout");var n=i.default.getService("addDataStateService");t(function(){n.changeState(n.STATES.SELECTION,{fullPathToFile:e});n.showAddData()})})};var O=function e(t){t.permissions.update&&!t.qReadOnly&&u.default.global.configureReload(true,true,false).catch(function(e){e.isHandled=true})};var D;var A=function e(t){if(!D)return l.default.all({engineConfig:t.global.getConfiguration(),layout:t.getLayout(),clientSections:i.default.getService("clientSections").get(function(){}),logoutServiceInitialized:v.default.init()}).then(function(){var e=C(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:(0,x.default)(n.engineConfig.qFeatures.qAutoSave,n.layout.qModified);o.next=3;return q(t);case 3:r=o.sent;g.default.init(t.global,g.default.customEvents.SENSE_CLIENT,{appId:t.id,isRtl:r.rtl,theme:r.theme,published:n.layout.published});_({app:t,result:n});T({app:t,result:n});k();O(n.layout);i.default.getService("qvLoader").close();D=true;case 11:case"end":return o.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());return l.default.resolve()};t.default=A},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(91),n(89),n(93),n(135),n(94),n(227),n(1039),n(496),n(996),n(1007),n(1698),n(1081),n(49),n(295),n(1847),n(235),n(415)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m){var g=null;function b(){var b=e("body"),y=t.getService("$timeout"),x=false,w=false,S=null,C=null,E=null,q=null,_=false;function T(){var e=t.getService("qvLoader");if(e.isOpen())C=y(T,100);else{q={task:""};e.show({template:v,messageObj:q,appendTo:b})}}function k(){var e=t.getService("qvLoader");y.cancel(C);e.close(true);q=null}function O(e,n){t.$apply(t.$rootScope,function(){if(q){q.task=e;n&&(q.task+=","+n)}})}function D(){x=true;if(!S){var t=n.get("DragAndDrop.Files.DropToLoadAllTables");S=e("<div class='dnd-files-overlay'><span class='dnd-files-text'>"+t+"</span></div>");b.append(S)}}function A(){x=false;if(S){S.remove();S=null}}function I(){return e(".lui-dialog-container").length>0||e(".modal-container, .qv-modal-container").length>0||e(".add-data-panel-open").length>0}function L(){_=true}function P(){_=false}function M(e){var t=0;if(!x){if(w)return;if(a.inDataSpaceScriptEditor())return;if(I())return}if(_)return;e.stopPropagation();e.preventDefault();if(E){y.cancel(E);E=null}x||D(t)}function N(e){if(!x)return;e.stopPropagation();e.preventDefault();if(e.relatedTarget)return;E&&y.cancel(E);E=y(function(){A()},100)}function R(e){if(!e)return null;var t=[];for(var n=0;n<e.length;n++)t.push(e[n]);return t}function F(e){var t=e.dataTransfer||e.originalEvent&&e.originalEvent.dataTransfer;var n=e.target.files||t.files;return n||null}function j(e,t){var n=h.getFlag("ELASTIC_DND");return n?l.startPreparingForOpening().then(function(){return l.getDataSpaceInput().then(function(n){var i=n.dataconnectorsModel.connections.filter(function(e){return"MyDataFiles"===e.connectorInstance.name});var r=i[0].connectorInstance;var o=c;"qix-datafiles.exe"===r.type.provider&&(o=d);return o.preUploadValidateFile(e,{path:"",id:void 0},r).then(function(){O("DragAndDrop.Files.UploadingFile",e.name);if(t&&t.existingFile)return o.updateFile(t.fileId,e).then(function(){return e});return o.uploadFile(e,r).then(function(){return e})},function(e){s.showDialog(e)})})}):u.preUploadValidateFile(e).then(function(){O("DragAndDrop.Files.UploadingFile",e.name);return u.uploadFile(e)}).then(function(){return e})}function B(e,i,r){var o=t.defer();var a=c;"qix-datafiles.exe"===r.type.provider&&(a=d);a.listFolder("",i&&i.path||"",r).then(function(i){var r=i.files&&i.files.filter(function(t){return e.some(function(e){return t.name===e.name})});if(r&&r.length>0){var a=t.getService("$delayedModal");a.open({title:"DataFiles.Confirm.Overwrite.Title",content:n.get("DataFiles.Confirm.Overwrite.Description",r[0].name),buttons:[{name:"Common.Cancel",callback:function e(){o.reject()}},{name:"DataFiles.Button.Overwrite",defaultButton:true,callback:function e(){o.resolve({existingFile:true,fileId:r[0].id})}}]})}else o.resolve({existingFile:false})});return o.promise}function V(e){var i=t.defer();e=e.map(function(e){e.encodedName=escape(e.name);return e});u.getAppStoreContent().then(function(r){var o=e.filter(function(e){return r.some(function(t){return e.encodedName.toLowerCase()===t.fileName.toLowerCase()})});if(o.length>0){var a=t.getService("luiDialog");var s=1==o.length?"UploadedFilesFolder.Confirm.Overwrite.Title":"UploadedFilesFolder.Confirm.Overwrite.Plural.Title";var l=1==o.length?n.get("UploadedFilesFolder.Confirm.Overwrite.Description",[o[0].name]):n.get("UploadedFilesFolder.Confirm.Overwrite.Plural.Description",o.map(function(e){return e.name}).join("', '"));a.show({template:m,closeOnEscape:false,controller:["$scope",function(e){e.title=s;e.content=l;e.cancel=function(){i.reject();e.close()};e.replace=function(){i.resolve(true);e.close()}}]})}else i.resolve()},function(e){i.reject(e)});return i.promise}function H(e,t){if(null!=e&&e.length>0){var n=j(e[0],t);for(var r=1;r<e.length;++r)n=function(e){return n.then(function(){return j(e,t)})}(e[r]);return n.then(function(){return e},function(e){i.reject(e)})}return i.resolve(e)}function U(e){if(!x)return;e.stopPropagation();e.preventDefault();A();var n=R(F(e));var i=t.defer();var r=t.defer();var o=h.getFlag("ELASTIC_DND");if(o){T();O("uploadfile.elastic.draganddrop.initConnections");l.startPreparingForOpening().then(function(){return l.getDataSpaceInput().then(function(e){k();i.resolve(e)})})}else i.resolve();i.promise.then(function(e){var i;if(o){var a=e.dataconnectorsModel.connections.filter(function(e){return"MyDataFiles"===e.connectorInstance.name});if(0===a.length){r.reject({message:"uploadfile.elastic.draganddrop.missingconnection"});return}i=a[0].connectorInstance}if(null!==n&&n.length>0){var c;c=o?B(n,{path:"",id:void 0},i):V(n);c.then(function(e){T();return H(n,e)}).then(function(e){var t=e.map(function(e){return{fileName:e.name,connection:"ATTACHED"}});u.setAttachedFilesToReplace(t.map(function(e){return{fileName:e.fileName}}));O("DragAndDrop.Files.PreparingData");return l.runDataLoadFlow(f.createLoadDataFilesFlowForServer(t))}).then(function(e){var n=u.getAttachedFilesToReplace();var i=u.getTableIdsFromLoadModelWithFileNames(e.loadModel,n);if(i.length>0){u.setAttachedFilesToReplace([]);var r=t.getService("qvDataManagerDataService");return r.updateTablesFromSource(e.loadModel,i).then(function(t){if(t.success)return r.invalidate().then(function(){return $(e)});return $(e)})}return $(e)}).then(k,function(e){k();e&&s.showDialog(e)})}});r.promise.then(null,function(e){s.showDialog(e)})}function z(e,t){if(!e||!t)return null;return t.targetTableModels.filter(function(t){return e.indexOf(t.data.name)>=0})}function $(e){var t=null;e&&(t=z(e.loadedTableNames,e.loadModel));var n=a.inDataManager();var i=e.addTableResults.loadModel;var s=1===i.queries.length;var l=!n&&s;if(l)return p.reloadData();if(n){G(t);return}l||r.getApp().then(function(e){a.StateChanged.once(function(){G(t)});o.setUrl(o.buildUrl(true,"sense","app",e.id,"datamanager","datamanager"))})}function G(e){var n=t.getService("qvDataManagerViewService");var i=t.getService("qvDataManagerSelectionService");if(n&&i){e&&1==e.length?i.setSelectedTables(e):i.setSelectedTables([]);n.setSelectedView(n.views.BUBBLES)}}var W=t.getService("qvAppDetailsService");W.get().then(function(e){if(!e.isDataManagerHidden()){b.on("dragstart",L);b.on("dragend",P);b.on("dragover",M);b.on("dragleave",N);b.on("drop",U)}});g=function e(){b.off("dragend",P);b.off("dragstart",L);b.off("dragover",M);b.off("dragleave",N);b.off("drop",U);g=null}}function y(e,t){if(e&&t){if(t.qReadOnly||!t.permissions.update)return i.resolve(false);var n=h.getFlag("ELASTIC_DND");if(n)return i.resolve(true);return u.isFileUploadEnabled()}return i.resolve(false)}function x(){g&&g()}return{attach:function e(t,n){y(t,n).then(function(e){if(e){x();b()}})},detach:x}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(1826),n(54)],r=function(e,t){function n(e){var t={};if(e)for(var n=0;n<e.length;n++){var i=e[n].fields;if(i)for(var r=0;r<i.length;r++){var o=i[r].alias||i[r].name;t[o]?t[o].tables.push(e[n]):t[o]={fieldName:o,tables:[e[n]]}}}return t}function i(e){var t=n(e);var i=Object.keys(t);var r=[];for(var o=0;o<i.length;o++){var a=t[i[o]].tables;a.length>1&&r.push({key:i[o],category:"AssociationIntersection"})}return r}function r(e){var t=n(e);var i=Object.keys(t);var r=[];for(var o=0;o<i.length;o++){var a=t[i[o]].tables;if(a.length>1)for(var s=0;s<a.length;s++){var l={to:i[o],from:a[s].key,fromField:i[o]};r.push(l)}}return r}function o(o,a){function s(){}function l(e){o.qualifyTableField(e.from,e.fromField);h()}function u(e,t){var n=e.$watch(function(){return o.version},function(){t(d())});e.$on("$destroy",function(){n()});return n}function c(){return a.compiledTables(o)}function d(){var e=c();h();var t=r(e);var i=o.associationNodeModels;var a={nodes:e.concat(i),links:t,fieldNamesAssociations:n(e)};return a}function f(i,r){for(var a=0;a<i.length;a++){var s=i[a];var l=false;l=t.find(o.associationNodeModels,function(e){return e.data.key===s.key});if(!l){n(c());if(r){var u=Object.keys(r);for(var d=0;d<u.length;d++){var f=u[d];i[a][f]=r[f]}}o.associationNodeModels.push(e.create(i[a]))}}}function p(e){for(var n=o.associationNodeModels.length-1;n>=0;n--){var i=o.associationNodeModels[n];var r=false;r=t.find(e,function(e){return i.data.key===e.key});r||o.associationNodeModels.splice(n,1)}}function h(e){var t=i(c())||[];p(t);f(t,e)}function v(e){o.remove(e);h()}var m={addAssociation:s,removeAssociation:l,getLayout:d,bindLayout:u,remove:v,updateAssociationNodes:h};return m}return{createAssociationsModel:o,associatedLinks:r,associationIntersectionNodes:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){e.assocloc=e.assocloc||"0 0";function t(){return n.data}var n={serialize:t,data:e};Object.defineProperty(n,"assocloc",{set:function e(t){n.data.assocloc=t},get:function e(){return n.data.assocloc}});Object.defineProperty(n,"key",{set:function e(t){n.data.key=t},get:function e(){return n.data.key}});Object.defineProperty(n,"category",{set:function e(t){n.data.category=t},get:function e(){return n.data.category}});return n}return{create:e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(253),n(1828),n(993),n(1834),n(1835),n(1838),n(89),n(396),n(48),n(496),n(235)],r=function(e,t,n,i,r,o,a,s,l,u){function c(c,d,f){var p=t.createUpdater(c,d);function h(){return c.getConfiguration().then(function(e){return e.qConfig.qFeatures.qAutoSave})}function v(t,i){var r=new a;function o(){r.resolve(true);e.unregisterInvalidationFn(o)}i.updateQueriesStatus(t);n.LoadModelHelpers.areLoadModelsEqual(t,i)?r.resolve(false):e.registerInvalidationFn(o);var s=l.getService("qvDataManagerDataService");return s.getAndApplyClassificationData(i,false).then(function(){return e.updateProperties(i.serialize()).then(function(){d.clearUndoBuffer();return r.promise})})}function m(e,t,n){var r=[];var a=i.getNewlyAddedTablesFromLoadModel(e,t).map(function(e){return e.data.id});var s=i.getModifiedExcelFilesFromLoadModel(t);var f=u.getAttachedFilesToReplace();var p=u.getTableIdsFromLoadModelWithFileNames(t,f);var h=g(e,t);var m=function n(){u.setAttachedFilesToReplace([]);return v(e,t).then(function(e){if(!e&&r&&r.length>0){var t=l.getService("qvDataManagerDataService");t.invalidate()}})};a&&a.length>0&&a.forEach(function(e){r.push(e)});n&&r.push(n);p.length>0&&p.forEach(function(e){r.push(e)});r=r.concat(s);return l.getService("luiDialog").show({template:o.template,controller:o.controller,input:{executeBeforeRun:h,executeAfterSuccessfulRun:m,fullLoadActions:w(t,e,true),global:c,app:d,tables:r}})}function g(e,t){var n=new s;return n.get().then(function(n){i.getNewlyAddedTablesFromLoadModel(e,t).forEach(function(e){var t=n.enableQVDCaching;e.data.formatSpec&&"(qvd)"===e.data.formatSpec.toLowerCase()&&(t=false);t&&"inlinedata"!==e.data.dataconnectorName?e.data.caching={enabled:true,type:"qvd"}:e.data.caching={enabled:false}});return t})}function b(e,t){var n=i.getNewlyAddedTablesFromLoadModel(e,t).map(function(e){return e.data.id});if(n.length>0){var r=l.getService("qvDataManagerDataService");return r.updateTablesFromSource(t,n)}return a.resolve()}function y(e,t){var n=e.clone();n.removeAllTablesMarkedForDeletion();var i=q(n,f,t).then(function(e){return e.script});return i}function x(e,t){var n=i.getNewlyAddedTablesFromLoadModel(t,e).map(function(e){return e.data.id});if(n.length>0){var r=l.getService("qvDataManagerDataService");return r.getAndApplyClassificationData(e,true)}return a.resolve()}function w(t,n,i){var r=function e(){return g(n,t).then(function(){return b(n,t).then(function(){return y(t,i).then(function(e){return p.updateLoadModelScript(e).then(function(){return p.getScriptModelPromise()})})})})};var o=function r(o){var s=a.resolve();i&&(s=y(t,false).then(function(e){return p.updateLoadModelScript(e).then(function(){return p.persistScript()})}));o&&s.then(function(){t.removeAllTablesMarkedForDeletion();t.resetTargetTablesStatuses();return x(t,n).then(function(){return e.updateProperties(t.serialize()).then(function(){return h().then(function(e){return d.clearUndoBuffer().then(function(){return e?d.doSave():a.resolve(true)})})})})});return s};return{executeBeforeRun:r,executeAfterRun:o}}function S(e,t){var n=e.clone();n.removeAllTablesMarkedForDeletion();n.serialize();var i=E(n,f).then(function(e){return e.script});return i.then(function(e){e&&""!==e.trim()||(e="");return p.reconcileAutoGeneratedScriptInTab(t,e)})}function C(e,t){var n=e&&e.queries&&1===e.queries.length;var i=w(e,t,true);return l.getService("luiDialog").show({template:r.template,controller:r.controller,input:{actions:i,global:c,app:d,isSingleTable:n}})}function E(e,t){var n=l.getService("qvDataManagerDataService");return n.getLoadScript(e,t)}function q(e,t,n){var i=l.getService("qvDataManagerDataService");return i.generateLoadScript(e,t,n)}var _={runMainLoadModelGraphically:C,runLoadModelToDataManager:v,runLoadModelToDataManagerGraphically:m,setLoadModelDefaults:g,reconcileScriptAndLoadModel:S,getRunLoadModelGraphicallyActions:w};return _}return{createLoadModelRunner:c}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(1290),n(1692),n(91),n(1081)],r=function(e,t,n){function i(i,r){function o(){return r.getScript().then(function(t){return e.createQScriptModelFromRawText(i,r,t.qScript,[],[])})}function a(e){return o().then(function(t){l(t,e);return t.fastSave().then(function(){return true})})}function s(){return o().then(function(e){return e.setAndPersistScript().then(function(){return true})})}function l(e,t){var i=n.get("scripteditor.autogeneratedSection");function r(){for(var t in e.tabs)if(e.tabs[t].autogenerated)return e.tabs[t]}function o(){for(var t in e.tabs)if(e.tabs[t].autogenerated){e.tabs.splice(t,1);break}}var a=r();if(a&&""!==t)u(a.content,t)||(a.content=t);else if(a||""===t)a&&""===t&&o();else{e.addNewTab(e.tabs.length);e.tabs[e.tabs.length-1].name=i;e.tabs[e.tabs.length-1].autogenerated=true;a=e.tabs[e.tabs.length-1];a.content=t}return e}function u(e,n){var i={content:e};var r={content:n};var o=t.stringify([i]);var a=t.stringify([r]);return o===a}var c={getScriptModelPromise:o,updateLoadModelScript:a,persistScript:s,reconcileAutoGeneratedScriptInTab:l};return c}return{createUpdater:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(1830)],r=function(e){function t(t,n){function i(e){return e?2:1}var r;var o={name:t.name,content:t.content,autogenerated:t.autogenerated||false};o.headerSize=i(o.autogenerated);var a=e.createQScriptTabErrorModel();r=n?{name:t.name,content:t.content,autogenerated:t.autogenerated||false}:{name:void 0,content:void 0,autogenerated:void 0};function s(){return o}function l(){p.lineCount=p.content.split("\n").length}function u(e){p.debugLineNbr=e}function c(){if(o.autogenerated)return false;return o.content!==r.content||o.name!==r.name||o.autogenerated!==r.autogenerated}function d(){r={name:o.name,content:o.content,autogenerated:o.autogenerated||false}}function f(e){-1===p.includedFileTabs.indexOf(e)&&p.includedFileTabs.push(e)}var p={lineCount:void 0,errors:a,nbrOfSearchHits:0,headerSize:o.headerSize||i(t.autogenerated),type:"qscript",breakpoints:t.breakpoints||{},debugLineNbr:void 0,setCurrentlyRunningLocalLineNbr:u,isModified:c,resetModified:d,toData:s,calculateRowCount:l,readOnly:t.autogenerated,includedFileTabs:[],addIncludedFileTab:f,mode:t.isComplex?"reloadScriptMode":"sense-script"};Object.defineProperty(p,"modified",{get:function e(){return c()},enumerable:true});Object.defineProperty(p,"content",{set:function e(t){o.content=t},get:function e(){return o.content},enumerable:true});Object.defineProperty(p,"name",{set:function e(t){o.name=t},get:function e(){return o.name},enumerable:true});Object.defineProperty(p,"autogenerated",{set:function e(t){o.autogenerated=t;o.headerSize=i(o.autogenerated)},get:function e(){return o.autogenerated},enumerable:true});return p}function n(e){return t(e,true)}function i(){return t({name:"Main",content:""},false)}function r(e){return t({name:e,content:""},false)}return{createQScriptTabModelFromData:n,createNewQScriptTabModel:r,createTabForEmptyScript:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(){function e(){l.content=[]}function t(e){l.content.push(e)}function n(){l.currentErrorIndex>l.content.length&&(l.currentErrorIndex=l.content.length>0?l.content.length-1:0);i()}function i(){for(var e=0;e<l.content.length;e++)l.content[e].selected=e===l.currentErrorIndex}function r(e){if(l.currentErrorIndex<l.content.length-1){l.currentErrorIndex++;i()}else{l.currentErrorIndex=0;i();e()}}function o(e){if(l.currentErrorIndex>0){l.currentErrorIndex--;i()}else{l.currentErrorIndex=l.content.length>0?l.content.length-1:0;i();e()}}function a(){l.currentErrorIndex=0}function s(){l.currentErrorIndex=l.content.length-1;l.currentErrorIndex<0&&(l.currentErrorIndex=0)}var l={content:[],currentErrorIndex:0,_clearErrors:e,_addError:t,_errorsUpdated:n,selectFirstError:a,selectLastError:s,selectNextError:r,selectPreviousError:o};return l}return{createQScriptTabErrorModel:e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(89),n(1693),n(1211),n(380),n(91)],r=function(e,t,n,i,r,o,a){var s={qType:0,qTitle:"",qMsg:"",qButtons:0,qLine:"",qOldLineNr:0,qNewLineNr:0,qPath:"",qHidden:false,qInput:""};var l=e.extend({},s,{qResult:0});var u=e.extend({},s,{qResult:1});function c(e){return{content:e.qLine}}function d(e,s,d,f){var p;var h;function v(t){var i=new n;if(t.qPath){var r=e.getTabForIncludeFile(t.qPath);r?d.getIncludeFileContent(t.qPath).then(function(e){r.content=e.qContent;i.resolve(t)}):d.getIncludeFileContent(t.qPath).then(function(n){e.createIncludeTabForIncludeFile(t.qPath,n.qContent);i.resolve(t)},function(){e.createIncludeTabForIncludeFile(t.qPath,"")})}else i.resolve(t);return i.promise}function m(){D.idle=false;return S().then(T).then(x).then(v).then(function(t){if("IT_END"===t.qType){D.errorInLastStep=void 0;return S().then(function(){D.idle=true;e.distributeDebugRunInfo(void 0,void 0);e._removeDebugger();return t})}if("IT_MSGBOX"===t.qType){D.errorInLastStep=t.qMsg;D.idle=true;return t}D.pauseRequested=false;D.errorInLastStep=void 0;D.idle=true;e.distributeDebugRunInfo(t.qNewLineNr,t.qPath);D.nextLine=c(t);return t})}function g(){D.errorInLastStep=void 0;return S().then(x).then(function(){D.idle=true;e.distributeDebugRunInfo(void 0);e._removeDebugger()})}function b(){var t=new n;D.idle=false;function i(n){if("IT_END"===n.qType)return g();if("IT_MSGBOX"===n.qType){D.errorInLastStep=n.qMsg;x().then(function(){D.idle=true;t.resolve(n)})}else{D.errorInLastStep=void 0;e.distributeDebugRunInfo(n.qNewLineNr,n.qPath);if(e.isOnBreakpoint(n.qNewLineNr,n.qOldLineNr)||D.pauseRequested){D.pauseRequested=false;x().then(function(){D.idle=true;D.nextLine=c(n);t.resolve(n)})}else{D.nextLine=c(n);S().then(T).then(v).then(i)}}}S().then(T).then(v).then(i);return t.promise}function y(){D.pauseRequested=true}function x(t){return d.getTextMacros().then(function(n){var r=i.processVariables(n.qMacros,e.variables);e.distributeVariableList(r);return t})}function w(){D.cancelRequested=true;var t=new n;s.cancelReload().then(function(){function n(){D.cancelRequested=false;D.idle=true;e.distributeDebugRunInfo(void 0,void 0);e._removeDebugger();t.resolve()}p?p.then(n,n):n()},function e(){D.cancelRequested=false});return t.promise}function S(){return s.interactDone({qRequestId:h,qDef:D.errorInLastStep?u:l}).then(function(e){return e})}function C(e){var t=[];for(var n in e){var i=e[n];var r=o.translateMessage(i);r.trim()&&t.push(r)}return t}function E(e){return/\$Syn \d+ =/gi.test(e)?r.MESSAGE_TYPE.WARNING:r.MESSAGE_TYPE.DEFAULT}function q(e){var t=e.qErrorString+(e.qLine?": "+e.qLine:"");if("EDC_CIRCULAR_REFERENCE"===e.qErrorDataCode){r.addMessage(r.MESSAGE_TYPE.WARNING,a.get("scripteditor.progressindicator.edc_circular_referencesummary")+":");r.addMessage(r.MESSAGE_TYPE.WARNING,t)}else r.addMessage(r.MESSAGE_TYPE.ERROR,t)}function _(){var e;var i=new n;var o=200;function a(n){var l=n.qProgressData;if(l.qTransientProgress){e&&r.removeMessage(e);e=r.addMessage(r.MESSAGE_TYPE.DEFAULT,l.qTransientProgress)}else if(l.qPersistentProgress){e&&r.removeMessage(e);var u=C(l.qPersistentProgressMessages);for(var c in u){var d=u[c];var f=E(d);r.addMessage(f,d)}e=void 0}if(l.qErrorData&&l.qErrorData.length)for(var p in l.qErrorData){var v=l.qErrorData[p];q(v)}n.qProgressData.qUserInteractionWanted||n.qProgressData.qFinished?i.resolve(n.qProgressData):t.getService("$timeout")(function(){s.getProgress(h).then(a)},1.3*o)}s.getProgress(h).then(a);return i.promise}function T(){return _().then(function(){return s.enigmaGlobal.getInteract(h)})}function k(){e.distributeVariableList([]);return e.setScript().then(function(){return s.configureReload(false,true,true)}).then(function(){D.idle=false;D.errorInLastStep=void 0;p=d.doReload({qMode:0,qPartial:false,qDebug:true});h=p.__protocolRequestId;d.setFetchLimit({qLimit:e.debugLimitedLoadEnabled?Number(e.debugLimitedLoadValue):-1}).then(T).then(x).then(function(t){e.distributeDebugRunInfo(t.qNewLineNr,t.qPath);D.nextLine=c(t);"IT_END"===t.qType?g():f&&!e.isOnBreakpoint()?b():D.idle=true})})}function O(){alert("Not yet implemented: Go to highlighted row.")}var D={idle:false,step:m,runToBreakpoint:b,pause:y,cancel:w,onGotoHighligtedRow:O,errorInLastStep:false,lineContent:void 0,pauseRequested:false,cancelRequested:false};k();return D}return{createDebugDriver:d}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(197)],r=function(e){var t={};function n(t){function n(e){return{value:e}}function i(e){if(t)return t+e;return e}function r(t){try{return e.get(i(t)).value}catch(e){}}function o(t,r){e.set(i(t),n(r));return r}function a(t,n){e.contains(i(t))||o(t,n);return r(t)}function s(e,t,n){e.$watch(t,function(e){o(t,e)});return a(t,n)}var l={registerWatcher:s,register:a,get:r,set:o};return l}function i(e){t[e]||(t[e]=n(e));return t[e]}return{forAppName:i,global:i("globalSettings")}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(1151)],r=function(e){var t="save-done-by-data-load-editor";function n(){e.publish(t)}function i(n){e.subscribe(t,n)}return{saveDone:n,onSaveDone:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t){if(!e||!t)return[];var n=t.tableModels.filter(function(t){var n=e.getTableModelWithName(t.data.tableAlias||t.data.tableName);return!n});return n}function t(e){if(!e)return[];var t=e.tableModels.filter(function(e){return"folder"===e.data.connectionInfo.typeName&&"AttachedFiles"!==e.data.connectionInfo.name&&"modified"===e.data.state&&"TYPE9_EXCEL_OOXML"===e.data.ownerName})[0];if(t)return e.tableModels.filter(function(e){return e.data.databaseName===t.data.databaseName&&e.data.dataconnectorName===t.data.dataconnectorName}).map(function(e){return e.data.id});return[]}return{getNewlyAddedTablesFromLoadModel:e,getModifiedExcelFilesFromLoadModel:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(1836),n(91),n(117),n(94),n(380),n(1694),n(328),n(120),n(122),n(1837),n(163),n(214),n(103),n(49),n(94),n(202)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m){return{template:t,controller:["$scope","$timeout","$interval","$window","app","qvConfirmDialog","$navigationService",function(t,g,b,y,x,w,S){var C,E,q;function _(){var e="";var n="";if("appview"===c.toString()){n=".appview";R&&(e=".hasmultiplesheets")}if(O)return A?"":"quickdataimport.progressindicator.resulttext.aborted";if(t.succeded&&!t.warnings){if(R)return"quickdataimport.progressindicator.resulttext"+n+".succeded"+e;return""}return t.succeded&&t.warnings?"quickdataimport.progressindicator.resulttext"+n+".warnings"+e:"quickdataimport.progressindicator.resulttext.failed"}t.progressText=function(){return t.running?"quickdataimport.progressindicator.inprogress":_()};t.getHeading=function(){if(t.running)return A?"quickdataimport.progressindicator.headingdataimportinprogress.searchindex":"quickdataimport.progressindicator.headingdataimportinprogress";if(O)return A?"quickdataimport.progressindicator.headingdataimportcompletedsuccessfully":"quickdataimport.progressindicator.headingdataimportaborted";if(t.succeded&&!t.warnings&&!t.warningSearchIndex)return"quickdataimport.progressindicator.headingdataimportcompletedsuccessfully";if(t.succeded&&(t.warnings||t.warningSearchIndex))return"quickdataimport.progressindicator.headingdataimportcompletedwithwarnings";return"quickdataimport.progressindicator.headingdataimportfailed"};t.running=false;t.succeded=false;t.warnings=false;t.warningSearchIndex=false;t.warningInfo=[];var T=0;var k=false;var O=false;var D=null;var A=false;t.openHelpWindow=function(e){y.open(e)};function I(){t.running=false;t.succeded=false;t.warnings=false;t.warningSearchIndex=false;t.warningInfo=[];T=0;k=false;O=false;D=null}var L={title:"scripteditor.progressindicator.abortbutton",disabled:true,eventHandler:function e(){t.onAbortClicked()}};var P={title:"Common.Close",tid:"progressindicator.button.close",disabled:false,focus:false,eventHandler:function e(){t.onCloseClicked()}};var M={title:"Dialog.Button.OpenDataManager",tid:"progressindicator.button.open-data-manager",disabled:false,focus:false,eventHandler:function e(){t.onCloseClicked();u.goToDataManager(x.name)}};var N={title:"Dialog.Button.StartEditSheet",tid:"progressindicator.editsheet",disabled:true,focus:false,eventHandler:function e(n){n||t.onCloseClicked();var i=S.Sheets.getNumberOfSheets();if(0===i){s.addSheet(null).then(function(){l.getList().then(function(e){e.getLayout().then(function(e){x.clearUndoBuffer();var t=e[0];t&&(h.getFlag("CAO")?m.openAnalysisOverlay(t.qInfo.qId,x.name,v.States.insight):u.goToSheet(t.qInfo.qId,"edit"))})})});t.newSheetStr=""}else if(i>0){var r=S.Sheets.getFirst();r&&u.goToSheet(r.qInfo.qId,"edit")}}};t.newSheetStr="";var R=false;var F=[P];t.buttons=function(){return F};function j(){if(t.warnings||t.warningSearchIndex){t.warningInfo=[];k&&t.warningInfo.push({text:n.get("scripteditor.progressindicator.edc_circular_referencesummary"),url:d.path+"QuickDataLoad_CircularReference",helpTooltip:n.get("quickdataimport.progressindicator.readmoreaboutcircularreference")});if(T>0){var e=n.get("scripteditor.progressindicator.one_synthetic_keysummary");T>1&&(e=n.get("scripteditor.progressindicator.multiple_synthetic_keysummary",[T]));t.warningInfo.push({text:e,url:d.path+"QuickDataLoad_SyntheticKey",helpTooltip:n.get("quickdataimport.progressindicator.readmoreaboutsynthetickey")})}t.warningSearchIndex&&t.warningInfo.push({text:D,url:null,helpTooltip:null})}}t.onEnter=function(){P.disabled||t.onEscape()};function B(){if(t.running)t.abortDialogActive||t.onAbortClicked();else{t.destroyComponent();t.deferredResult.resolve()}}t.onCloseClicked=B;t.onEscape=B;t.onAbortClicked=function(){t.abortDialogActive=true;L.focus=false;var r="scripteditor.cancelscriptrundialog.title",o="scripteditor.cancelscriptrundialog.content";if(A){r="scripteditor.cancelscriptrundialog.searchindex.title";o="scripteditor.cancelscriptrundialog.searchindex.content"}t.dialogHandle=w.show({title:n.get(r),message:n.get(o),okLabel:n.get("Common.Yes"),cancelLabel:n.get("Common.No")});t.dialogHandle.closed.then(function(n){if(n){O=true;i.global.cancelReload();W()}else{t.abortDialogActive=false;e(".qv-quickimportprogressindicator .lui-dialog").focus();L.focus=true}})};function V(){t.elapsedTime=a.getElapsedTime()}function H(){V();C=g(H,500)}function U(){q=false;E=b(z,1e3)}function z(){if(!q){q=true;return i.global.getProgress(0).then(Q,function e(){$()})}}function $(){q=false;b.cancel(E)}function G(){I();A=false;t.running=true;a.start();L.focus=true;F=[L];P.disabled=true;L.disabled=false;H();U()}function W(){P.disabled=false;P.focus=true;L.disabled=true;F=[P];t.running=false;g.cancel(C);a.stop();V()}function Q(e){var n=e.qProgressData.qPersistentProgressMessages;var i=e.qProgressData.qErrorData;var r=[25,27,28,29];if(!!n&&n.length>0){var a=o.translateMessageArray(n);var s=/\$Syn \d+ =/gm.test(a);var l=s?a.match(/\$Syn \d+ =/gm).length:0;if(s){T+=l;t.warnings=true}if(-1!==r.indexOf(n[0].qMessageCode)){t.warningSearchIndex=true;D=a}n.forEach(function(e){22===e.qMessageCode&&(A=true)})}i&&i.forEach(function(e){if("EDC_CIRCULAR_REFERENCE"===e.qErrorDataCode){t.warnings=true;k=true}else t.succeded=false});q=false}function K(e){P.focus=true;F=[P];var n=S.Sheets.getNumberOfSheets();var i=c.toString();if("appview"===i||"sheetview"===i)r.inDataManager()||N.eventHandler(true);else if("storyview"===i.toString()||"datamanager"===i){F=r.inDataManager()?[P,N]:e?[P]:[P,M,N];if(0===n){s.addSheet(null).then(function(){x.clearUndoBuffer();Y()});t.newSheetStr="newSheet"}else{R=n>1;Y()}}"sheetview"===i&&(F=e?[P]:[P,M]);t.succeded=true;p.trackEvent(p.customEvents.DATA_LOAD_ELAPSED_TIME,{Time_elapsed:t.elapsedTime,is_single_table:t.input.isSingleTable,syntheticCount:T,hasCircularRef:k})}function Y(){N.disabled=false;N.focus=true}function X(){t.succeded=false;W()}function Z(){G();t.input.actions.executeBeforeRun().then(function(e){t.input.scriptModel=e;t.input.scriptModel.run().then(function(e){return i.global.getProgress(0).then(function(n){$();Q(n);if(t.dialogHandle){t.dialogHandle.close();L.disabled=true}j();return e?f.saveApp().then(function(){return t.input.actions.executeAfterRun(e).then(function(){W();K(t.input.isSingleTable)},X)},X):t.input.actions.executeAfterRun(e).then(function(){W()},X)},X)},X)},X)}return Z()}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-dialog qv-quickimportprogressindicator">\n\t<div class="lui-dialog__header">\n\t\t<div class="lui-dialog__title" q-translation="{{getHeading()}}"></div>\n\t</div>\n\t<div class="lui-dialog__body dm-main">\n\n\t\t<div class="section clearfix">\n\n\t\t\t<div class="elapsed">\n\t\t\t\t<span q-translation="scripteditor.progressindicator.elapsedtime"></span>\n\t\t\t\t<span class="time" ng-class="!succeded && !running ? \'error\' : \'\' ">{{elapsedTime}}</span>\n\t\t\t</div>\n\n      \t\t<div class="qv-loader" ng-if="running"></div>\n\n\t\t\t<div ng-if="!running">\n\t\t\t\t<div class="userguide" ng-if="warnings || warningSearchIndex">\n\t\t\t\t\t<span class="bold" q-translation="quickdataimport.progressindicator.followingwarning"></span>\n\n\t\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t\t<li ng-repeat="warning in warningInfo">\n\t\t\t\t\t\t\t{{warning.text}}\n\t\t\t\t\t\t\t<span class="lui-icon lui-icon--help" ng-if="warning.url" ng-click="openHelpWindow(warning.url)" q-title-translation="{{warning.helpTooltip}}"></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<br/>\n\t\t\t\t</div>\n\n\t\t\t\t<div ng-if="newSheetStr" ng-switch="newSheetStr">\n\t\t\t\t\t<div ng-switch-when="newSheet" q-translation="quickdataimport.progressindicator.newsheetcreated"></div>\n\t\t\t\t\t<br/>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="bold" q-translation="{{progressText()}}"></div>\n\t\t\t</div>\n\n\t\t</div>\n\n\t</div>\n\n\t<div class="lui-dialog__footer">\n\t\t<lui-button ng-repeat="button in buttons()" tid="{{ button.tid }}" ng-click="button.eventHandler()" ng-disabled="button.disabled" q-translation="{{ button.title }}" qva-focus="button.focus"></lui-button>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(94)],r=function(e,t){function n(){var n;n="sense"===e.project?t.view===t.Views.story?"storyview":t.view===t.Views.sheet||t.view===t.Views.masterObject||t.view===t.Views.object?t.isInEditMode()?"editsheetview":"sheetview":t.view===t.Views.dataManager?"datamanager":"appview":e.project;return n}return{toString:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(1839),n(94),n(1694),n(122),n(91),n(117),n(214),n(380),n(120),n(328),n(163),n(49),n(94),n(202),n(235)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v){return{template:n,controller:["$scope","$window","$timeout","app","qvDataManagerDataService","qvConfirmDialog",function(n,m,g,b,y,x){var w;var S=false;var C;var E=0;var q=false;var _=null;var T=false;function k(){return S?T?"":"quickdataimport.progressindicator.resulttext.aborted":n.succeeded?"":"quickdataimport.progressindicator.resulttext.failed"}n.running=false;n.succeeded=false;n.loadPhase="prepareData";n.openHelpWindow=function(e){m.open(e)};n.progressText=function(){if("loadData"===n.loadPhase)return n.running?"quickdataimport.progressindicator.inprogress":k();if("prepareData"===n.loadPhase){if(n.running)return"loadDataProgressIndicator.progressindicator.inprogress";if(n.succeeded)return"";return"loadDataProgressIndicator.progressindicator.resulttext.failed"}};n.getHeading=function(){if("loadData"===n.loadPhase){if(n.running)return T?"quickdataimport.progressindicator.headingdataimportinprogress.searchindex":"quickdataimport.progressindicator.headingdataimportinprogress";if(S)return T?"quickdataimport.progressindicator.headingdataimportcompletedsuccessfully":"quickdataimport.progressindicator.headingdataimportaborted";if(n.succeeded&&!n.warnings&&!n.warningSearchIndex)return"quickdataimport.progressindicator.headingdataimportcompletedsuccessfully";if(n.succeeded&&(n.warnings||n.warningSearchIndex))return"quickdataimport.progressindicator.headingdataimportcompletedwithwarnings";return"quickdataimport.progressindicator.headingdataimportfailed"}if("prepareData"===n.loadPhase)return n.running?"loadDataProgressIndicator.progressindicator.headingdataimportinprogress":n.succeeded?"loadDataProgressIndicator.progressindicator.headingdataimportcompletedsuccessfully":"loadDataProgressIndicator.progressindicator.headingdataimportfailed"};function O(){n.running=false;n.succeeded=false}var D={title:"Common.Close",disabled:false,focus:false,eventHandler:function e(){n.onCloseClicked()}};var A=[];n.buttons=function(){return A};n.onEnter=function(){D.disabled||n.onEscape()};function I(){n.destroyComponent();n.deferredResult.resolve()}n.onCloseClicked=I;n.onEscape=I;n.onOpenDataManagerClicked=function(){n.onCloseClicked();o.goToDataManager(b.name)};function L(){n.elapsedTime=r.getElapsedTime()}function P(){L();w=g(P,500)}function M(){O();n.running=true;r.start();D.disabled=true;P()}function N(){D.disabled=false;D.focus=true;A=[D];n.running=false;g.cancel(w);r.stop();L()}function R(e){D.focus=true;var t=i.inDataManager();t&&n.onCloseClicked();t||(e?c.getList().then(function(e){e.getLayout().then(function(e){0===e.length?d.addSheet(null).then(function(){b.clearUndoBuffer();c.getList().then(function(e){e.getLayout().then(function(e){p.getFlag("CAO")?v.openAnalysisOverlay(e[0].qInfo.qId,b.name,h.States.insight):o.goToSheet(e[0].qInfo.qId,"edit")})})}):e.length>0&&o.goToSheet(e[0].qInfo.qId,"edit")})}):n.onOpenDataManagerClicked());n.succeeded=true}function F(){n.succeeded=false;N()}function j(){var e=false;M();n.input.executeBeforeRun.then(function(t){e=1===t.queries.length;return y.updateTablesFromSource(t,n.input.tables)},F).then(function(r){if(r&&r.success)return n.input.executeAfterSuccessfulRun().then(function(){var r=i.inDataManager()||!e;if(r){N();R(!r)}else{var o=function e(){if(n.warnings||n.warningSearchIndex){n.warningInfo=[];q&&n.warningInfo.push({text:a.get("scripteditor.progressindicator.edc_circular_referencesummary"),url:f.path+"QuickDataLoad_CircularReference",helpTooltip:a.get("quickdataimport.progressindicator.readmoreaboutcircularreference")});if(E>0){var t=a.get("scripteditor.progressindicator.one_synthetic_keysummary");E>1&&(t=a.get("scripteditor.progressindicator.multiple_synthetic_keysummary",[E]));n.warningInfo.push({text:t,url:f.path+"QuickDataLoad_SyntheticKey",helpTooltip:a.get("quickdataimport.progressindicator.readmoreaboutsynthetickey")})}n.warningSearchIndex&&n.warningInfo.push({text:_,url:null,helpTooltip:null})}};var c=function e(){C=g(function e(){s.global.getProgress(0).then(p);C=g(e,1e3)},1e3)};var d=function e(){g.cancel(C)};var p=function e(t){var i=t.qProgressData.qPersistentProgressMessages;var r=t.qProgressData.qErrorData;var o=[25,27,28,29];if(!!i&&i.length>0){var a=u.translateMessageArray(i);var s=/\$Syn \d+ =/gm.test(a);var l=s?a.match(/\$Syn \d+ =/gm).length:0;if(s){E+=l;n.warnings=true}if(-1!==o.indexOf(i[0].qMessageCode)){n.warningSearchIndex=true;_=a}i.forEach(function(e){22===e.qMessageCode&&(T=true)})}r&&r.forEach(function(e){if("EDC_CIRCULAR_REFERENCE"===e.qErrorDataCode){n.warnings=true;q=true}else n.succeded=false})};n.onAbortClicked=function(){n.abortDialogActive=true;v.focus=false;var e="scripteditor.cancelscriptrundialog.title",i="scripteditor.cancelscriptrundialog.content";if(T){e="scripteditor.cancelscriptrundialog.searchindex.title";i="scripteditor.cancelscriptrundialog.searchindex.content"}n.dialogHandle=x.show({title:a.get(e),message:a.get(i),okLabel:a.get("Common.Yes"),cancelLabel:a.get("Common.No")});n.dialogHandle.closed.then(function(e){if(e){S=true;s.global.cancelReload();N()}else{n.abortDialogActive=false;t(".qv-quickimportprogressindicator .lui-dialog").focus();v.focus=true}})};var h=function e(){O();T=false;n.running=true;v.focus=true;A=[v];D.disabled=true;v.disabled=false;c()};var v={title:"scripteditor.progressindicator.abortbutton",disabled:true,eventHandler:function e(){n.onAbortClicked()}};var m=n.input.fullLoadActions;n.loadPhase="loadData";m.executeBeforeRun().then(function(e){h();n.input.scriptModel=e;n.input.scriptModel.run().then(function(e){return s.global.getProgress(0).then(function(t){d();p(t);if(n.dialogHandle){n.dialogHandle.close();v.disabled=true}o();return e?l.saveApp().then(function(){return m.executeAfterRun(e).then(function(){N();R(true)},F)},F):m.executeAfterRun(e).then(function(){N()},F)},F)},F)},F)}},F);N()},F)}function B(){n.running&&F()}e.$rootScope.$on("errorHandlerClosed",function(){B()});return j()}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-dialog qv-load-data-progress-indicator">\n\t<div class="lui-dialog__header">\n\t\t<div class="lui-dialog__title" q-translation="{{getHeading()}}"></div>\n\t</div>\n\t<div class="lui-dialog__body dm-main">\n\n\t\t<div class="section clearfix">\n\t\t\t<div class="elapsed">\n\t\t\t\t<span q-translation="scripteditor.progressindicator.elapsedtime"></span>\n\t\t\t\t<span class="time" ng-class="!succeeded && !running ? \'error\' : \'\' ">{{elapsedTime}}</span>\n\t\t\t</div>\n\n\t\t\t<div class="qv-loader" ng-if="running"></div>\n\n\t\t\t<div ng-if="!running">\n\t\t\t\t<div class="userguide" ng-if="loadPhase === \'loadData\' && (warnings || warningSearchIndex)">\n\t\t\t\t\t<b q-translation="quickdataimport.progressindicator.followingwarning"></b>\n\n\t\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t\t<li ng-repeat="warning in warningInfo">\n\t\t\t\t\t\t\t{{warning.text}}\n\t\t\t\t\t\t\t<span ng-if="warning.url" class="lui-icon lui-icon--help" ng-click="openHelpWindow(warning.url)" q-title-translation="{{warning.helpTooltip}}"></span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<br/>\n\t\t\t\t</div>\n\t\t\t\t<div class="bold" q-translation="{{progressText()}}"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\n\t<div class="lui-dialog__footer">\n\t\t<lui-button ng-repeat="button in buttons()" tid="{{ button.tid }}" ng-click="button.eventHandler()" ng-disabled="button.disabled" q-translation="{{ button.title }}" q-title-translation="{{ button.title }}" qva-focus="button.focus"></lui-button>\n\t</div>\n</div>\n\n\n\n'},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={PROGRESS_EVENT:"progress"};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(89),n(1290),n(117)],r=function(e,t,n,i){function r(r){r=r.clone();var o=i.global;var a=i.getCurrentApp();function s(){return a.getScript().then(function(e){return n.createQScriptModelFromRawText(o,a,e.qScript,[],[])})}function l(){return s().then(function(e){var t={prefix:[],suffix:[]};var n=t.prefix;e.tabs.forEach(function(e){e.autogenerated?n=t.suffix:n.push({type:"verbatimStatement",content:"///$tab "+e.name+"\n"+e.content})});return t})}function u(){var t=r.tableModels.map(function(t){var n=e.extend({},t.data,{dataconnectorName:t.data.dataconnectorName,connectionInfo:r.getConnectionMetaDataModel(t.data.dataconnectorName)});n.fields=n.fields.filter(function(e){return e.selected});return n}).filter(function(e){return e&&e.connectionInfo});return t}function c(e,t){var n=t.tableAlias||t.tableName,i=n,r=1;while(e.journal[i])i=n+"-"+r++;e.journal[i]=true;return t}function d(e){return t.all(u().map(function(t){return c(e,t)}))}var f={journal:{}};return t.all([l(f),d(f)]).then(function(e){var t={schemaVersion:2,prefix:e[0].prefix,suffix:e[0].suffix,tables:e[1]};t.queries=r.queries;t.associations=r.associations;t.locale=r.locale;t.defaultCalendar=r.defaultCalendar;return t})}return{extend:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(253)],r=function(e){function t(){var t;var n=false;var i=false;function r(n){if(!t){t=n;e.registerInvalidationFn(s)}}function o(){t&&e.unregisterInvalidationFn(s);t=null}function a(){n=false;if(i){i=false;s()}}function s(){if(t){if(n){i=true;return}n=true;t().then(a,a)}}return{register:r,unregister:o}}return{createLoadModelInvalidationQueue:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(1696)],r=function(e){function t(t,n,i,r){function o(e,t){var n=[];for(var i=0;i<e.length;i++)if(t&&t.col&&e[i].qDef.qFieldLabels[0]===t.col){n.unshift(i);e[i].qDef.qReverseSort=t.reversed}else n.push(i);var r={qInfo:{qType:"table"},qMetaDef:{},qHyperCubeDef:{qDimensions:e,qMeasures:[],columnWidths:e.map(function(){return-1}),qInterColumnSortOrder:n,qSuppressMissing:true,qInitialDataFetch:[],qReductionMode:"N",qMode:"S",qPseudoDimPos:-1,qNoOfLeftDims:-1,qMaxStackedCells:5e3,columnOrder:e.map(function(e,t){return t}),qLayoutExclude:{qHyperCubeDef:{qDimensions:[],qMeasures:[]}}},showTitles:false,title:"",subtitle:"",footnote:"",totals:{show:false,position:"noTotals",label:"Totals"},visualization:"table"};return r}var a=n.data.name;return i(a).then(function(i){return t.session.__enigmaSession.send({handle:-1,method:"createScratchAppSessionObject",params:[o(e.getDimensions(n,i.fieldNameMapping),r)]}).then(function(e){return{genObj:e,tableId:n.data.id}},function(e){console.log(e)})})}return{getPreview:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){window.addEventListener("dragover",function(e){-1!==[].indexOf.call(e.dataTransfer.types,"Files")&&e.preventDefault()},false);window.addEventListener("drop",function(e){-1!==[].indexOf.call(e.dataTransfer.types,"Files")&&e.preventDefault()},false)}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(118)],r=function(e){return{stringUtil:e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports="\x3c!-- translation strings for data market connector, to avoid that planemo fails on these strings\n datamarket.conndialog.getdataset\n datamarket.conndialog.source\n datamarket.conndialog.measures\n datamarket.notsupported\n datamarket.onlyqdlnotdle\n datamarket.selectdialog.selectdataload\n datamarket.selectdialog.scriptconfirmation\n datamarket.selectdialog.regenerate\n datamarket.selectdialog.mustselect\n datamarket.selectdialog.mustselectfrom\n datamarket.selectdialog.incompleteselection\n datamarket.selectdialog.measurelabel\n datamarket.selectdialog.createbtn\n datamarket.conndialog.premiumlabel\n datamarket.conndialog.licensedlabel\n datamarket.conndialog.freelabel\n datamarket.conndialog.lastupdated\n datamarket.conndialog.provider\n datamarket.conndialog.units\n datamarket.conndialog.metricsvalues\n datamarket.conndialog.timegranularity\n datamarket.conndialog.year\n datamarket.conndialog.quarter\n datamarket.conndialog.month\n datamarket.conndialog.week\n datamarket.conndialog.day\n datamarket.conndialog.date_and_time\n datamarket.conndialog.license\n datamarket.conndialog.license_summary\n datamarket.conndialog.termsnotaccepted\n datamarket.conndialog.licensedlabel\n datamarket.conndialog.previewlabel\n datamarket.selectdialog.nodataforselection\n datamarket.selectdialog.incompleteselection\n datamarket.selectdialog.loadsize.cells\n datamarket.selectdialog.loadsize.\n datamarket.selectdialog.loadsize.K\n datamarket.selectdialog.loadsize.M\n datamarket.selectdialog.loadsize.G\n datamarket.selectdialog.loadsize.T\n datamarket.selectdialog.loadsize.P\n datamarket.selectdialog.loadsize.E\n datamarket.selectdialog.loadsize.Z\n datamarket.selectdialog.loadsize.Y\n datamarket.selectdialog.loadsize.tooltip.tiny\n datamarket.selectdialog.loadsize.tooltip.small\n datamarket.selectdialog.loadsize.tooltip.medium\n datamarket.selectdialog.loadsize.tooltip.large\n datamarket.selectdialog.loadsize.tooltip.danger\n datamarket.selectdialog.leftcolumn.icon.unselected\n datamarket.selectdialog.leftcolumn.icon.selected\n datamarket.conndialog.nointernet\n datamarket.conndialog.purchase\n datamarket.conndialog.preview.empty\n datamarket.conndialog.search.input.tooltip\n datamarket.conndialog.search.result.context.prefix\n datamarket.conndialog.search.entrypoint.name\n datamarket.conndialog.search.entrypoint.description\n  --\x3e"},function(e,t){e.exports='<div class="lui-dialog file-already-exists-dialog">\n  <div class="lui-dialog__header">\n    <div class="lui-dialog__title" q-translation="{{title}}"></div>\n  </div>\n  \n  <div class="lui-dialog__body" q-translation="{{content}}"></div>\n \n  <div class="lui-dialog__footer">\n    <button class="lui-button lui-dialog__button" q-translation="Common.Cancel" ng-click="cancel()"></button>\n    <button class="lui-button lui-dialog__button" q-translation="UploadedFilesFolder.Button.Overwrite" ng-click="replace()"></button>\n  </div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(91),n(48),n(255)],r=function(e,t,n){var i={},r="QVBrowser.DragAndDropFileHere",o="quickdataload.dragndropfilehere",a="drag-and-drop-file-overlay",s="#"+a,l="drag-and-drop-file-text",u="#"+l;var c=function e(){n.getService("addDataStateService").showAddData()};function d(){e(s).remove();e(u).remove()}function f(e){if("qvf"===e.toLowerCase()||"qvw"===e.toLowerCase())return true;return false}window.showOverlay=function(n){var i=r;if(0===e(s).length){n||(i=o);e("body").append('<div id="'+l+'"><span>'+t.get(i)+'</span></div><div id="'+a+'"></div>')}};window.hideOverlay=function(){d()};window.onFileDragEnter=function(n){var i=o;if(e(".qv-hdlm-wizard").length>0)return false;if(0===e(s).length){f(n.split(".").pop())&&(i=r);e("body").append('<div id="'+l+'"><span>'+t.get(i)+'</span></div><div id="'+a+'"></div>');e(s).on("dragover",function(e){e.preventDefault();e.stopPropagation()});e(s).on("dragleave",function(e){e.preventDefault();e.stopPropagation();d()});e(s).on("drop",function(e){e.preventDefault();e.stopPropagation();d();var t=n.split(".").pop();if(f(t.toLowerCase()))"undefined"!==typeof window.SendMessageToQvBrowser&&window.SendMessageToQvBrowser("OpenApp:"+n);else{var i=n.replace(/\//g,"\\");c&&c(i)}});e(s).click(d)}};i.setOverlayText=function(e,t){r=e||r;o=t||o};i.setDropCallback=function(e){c=e};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var i=a(n(48));var r=a(n(214));var o=a(n(1340));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e){i.default.$rootScope.appIsDirty=!!t;r.default.onAppIsNowDirty(function(){i.default.$rootScope.appIsDirty=true;o.default.markAsDirty()});r.default.onAppIsNowClean(function(){i.default.$rootScope.appIsDirty=false;o.default.markAsClean()})}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.UserProvider=void 0;var i=s(n(98));var r=a(n(116));var o=a(n(1851));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function l(e){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return l(e)}function u(e){return f(e)||d(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function f(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function v(e,t,n){t&&h(e.prototype,t);n&&h(e,n);return e}function m(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&x(e,t)}function x(e,t){x=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return x(e,t)}var w={userDirectory:void 0,userId:void 0,anonymous:void 0};var S=i.default.createContext(w);var C=S.Consumer;var E=function(e){y(t,e);function t(e){var n;p(this,t);n=m(this,b(t).call(this,e));n.state=w;return n}v(t,[{key:"componentDidMount",value:function e(){var t=this;var n=this.props.app;n.global.getAuthenticatedUser().then(function(e){if("string"===typeof e&&e.toLowerCase().indexOf("userdirectory")>-1&&e.toLowerCase().indexOf("userid")>-1){var n=e.split(";").map(function(e){return e.split("=")}).reduce(function(e,t){return[].concat(u(e),[t[1].trim()])},[]);var i=n[0]?n[0]:void 0;var r=n[1]?n[1]:void 0;var o=void 0!==i&&void 0!==r&&"none"===i.toLowerCase()&&0===r.toLowerCase().indexOf("anonymous");t.setState(function(){return{userDirectory:i,userId:r,anonymous:o}})}})}},{key:"render",value:function e(){var t=this.props.children;var n=this.state,r=n.userDirectory,o=n.userId,a=n.anonymous;return i.default.createElement(S.Provider,{value:{userDirectory:r,userId:o,anonymous:a}},t)}}]);return t}(i.PureComponent);t.UserProvider=E;E.propTypes={app:r.default.object.isRequired,children:r.default.oneOfType([r.default.array.isRequired,r.default.element.isRequired]).isRequired};var q=(0,o.default)(C,"UserConsumer");t.default=q},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n=s(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function s(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function l(e){return e.displayName||e.name||"Component"}var u=function e(){return{}};var c={};var d=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,s=r.mapStateToProps,d=void 0===s?u:s,f=r.mapActionsToProps,p=void 0===f?u:f;var h=function n(r){return i.default.createElement(t,null,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;var n=t.actions,s=a(t,["actions"]);return i.default.createElement(e,o({},r,d(s||c),p(n||c)))})};h.displayName="ConsumerConnect".concat(n,"(").concat(l(e),")");return h}};t.default=d;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var i=a(n(98));var r=a(n(1853));var o=a(n(1921));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return i.default.createElement(i.default.Fragment,null,i.default.createElement(r.default,null),i.default.createElement(o.default,null))}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(n(98));var r=s(n(1854));var o=s(n(997));var a=s(n(438));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return i.default.createElement(o.default,null,function(e){var t=e.isPersonalMode;return i.default.createElement(a.default,null,function(e){var n=e.qTitle,o=e.published,a=void 0!==o&&o;return!a&&i.default.createElement(r.default,{appName:n,features:{isPersonalMode:t}})})})}var u=i.default.memo(l);t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=q;var i=f(n(98));var r=f(n(412));var o=f(n(116));var a=f(n(11));var s=f(n(1700));var l=f(n(438));var u=f(n(1855));var c=f(n(1909));var d=n(1920);function f(e){return e&&e.__esModule?e:{default:e}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return p.apply(this,arguments)}function h(e){h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return h(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function g(e,t,n){t&&m(e.prototype,t);n&&m(e,n);return e}function b(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){x=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return x(e)}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&S(e,t)}function S(e,t){S=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return S(e,t)}function C(){return r.default.createPortal(i.default.createElement(l.default,null,function(e){return i.default.createElement(s.default,null,function(t){return i.default.createElement(c.default,{appLayout:e,scriptContext:t})})}),document.getElementById("qs-add-data-portal"))}var E=function(e){w(t,e);function t(){v(this,t);return b(this,x(t).apply(this,arguments))}g(t,[{key:"componentDidMount",value:function e(){var t=this.props,n=t.appName,i=t.features;var r=(0,u.default)({appName:n,features:i});this.component=(0,a.default)(this.elem).showComponent(r)}},{key:"componentWillUnmount",value:function e(){if(this.component)try{this.component.destroy()}catch(e){console.error(e)}}},{key:"render",value:function e(){var t=this;var n=this.props.activeView;var r=(0,d.getReactViews)().indexOf(n)>-1;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{id:"qs-adl-wrapper",ref:function e(n){t.elem=n}}),r&&"catalog"===n&&i.default.createElement(C,null))}}]);return t}(i.default.Component);E.propTypes={appName:o.default.string.isRequired,features:o.default.object.isRequired,activeView:o.default.string.isRequired};function q(e){var t=(0,d.AddDataLaucherVisibility)();var n=(0,d.EditAddDataLaucherVisibility)();var r=(0,d.GetActiveView)();return(t||n)&&i.default.createElement(E,p({},e,{activeView:r}))}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;n(255);n(1856);n(1902);var i=function e(t){var n=t.appName,i=t.features;return{controller:["$scope","addDataStateService",function e(t,r){t.addDataStateService=r;t.appname=n;t.isPersonalMode=i.isPersonalMode;this.destroy=function(){return t.$destroy()}}],template:'<div id="qv-add-data-container">\n  <add-data-panel ng-style="{height: addDataStateService.panelOpen ? \'100%\' : \'0\'}" is-personal-mode="isPersonalMode" appname=\'appname\'></add-data-panel>\n  <add-data-edit-panel ng-show="addDataStateService.editPanelOpen"></add-data-edit-panel>\n</div>'}};t.default=i;e.exports=t.default},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(91),n(95),n(1857),n(89),n(50),n(416),n(118),n(94),n(97),n(105),n(263),n(1214),n(1858),n(1088),n(1357),n(1863),n(435),n(433),n(255),n(1869),n(1871),n(1873),n(1704),n(1876),n(1878),n(1880),n(1882),n(1887),n(1892),n(1894),n(1896),n(1701),n(611),n(1358),n(1709),n(1159)],r=function(e,t,i,r,o,a,s,l,u,c,d,f){e.nativeComponent("addDataPanel",{bindings:{appname:"<",isPersonalMode:"<"},controller:["$element","$timeout","$rootScope","addDataConnectionsService","addDataNewConnectionService","addDataStateService","qvSizeNotSupported","qvDataManagerAppSessionService","qvConfirmDialog","qvAlertDialog","qvDataManagerCapabilityService","addDataFilterManagementService",function(e,o,p,h,v,m,g,b,y,x,w,S){var C=this;var E="addDataPanelListener";var q;C.initialized=false;C.activeView="newconnection";m.setActiveView(C.activeView);C.existingConnections=void 0;C.attachedFilesConnection=void 0;C.connectors=void 0;C.existingStorageProviderConnections=void 0;C.dataLoadInput=void 0;C.nativeFileConnections=void 0;C.isOpen=false;C.titleModel={};C.networkFilesEnabled=false;C.leftPanelOpen=true;C.stateId=0;C.footerText="";C.noDataMode=false;C.firstOpen=true;C.shouldShowFilters=false;C.filterManagementService=S;C.ps_1245=w.get()["ps-1245"];C.isReady=function(){return!(("selection"!==C.activeView||!C.currentConnectorInput)&&"manualdata"!==C.activeView)};C.showReact=function(e){return m.getReactViews().indexOf(e)>-1};C.initialize=function(){C.titleString=i.get("AddData.TopBar.Title",C.appname);C.leftPanelToggleTooltip=C.leftPanelOpen?i.get("AppOverview.Collapse"):i.get("AppOverview.Expand");s.ViewChanged.bind(V);c.StateChanged.bind(B);h.getDataLoadInput().then(function(e){C.dataLoadInput=e;H().then(function(){h.getNativeFileModel().then(function(e){C.networkFilesEnabled=e.fileConnector||e.fileConnections.length>0;m.registerStateChangedListener(E,function(){o(function(){T(m.getCurrentState())})});C.initialized=true;T(m.getCurrentState())})})})};C.$onDestroy=function(){m.deregisterStateChangedListener(E);c.StateChanged.unbind(B);s.ViewChanged.unbind(V);d.off("end",_)};C.$doCheck=function(){C.isOpen||!m.isOpen()||C.firstOpen||H();C.isOpen=m.isOpen();if(C.isOpen){C.noDataMode=b.isNoData();C.footerText=C.noDataMode?i.get("AddData.BottomBar.NoDataModeText"):""}if(C.firstOpen&&C.isOpen){C.firstOpen=false;C.initialize();o(function(){q=t(".add-data-body-right-side");e.innerWidth()<=768&&C.toggleLeftPanel();d.on("end",_);_()})}};C.cancelAddData=function(){m.hideAddData();m.changeState(m.STATES.NEW_CONNECTION,{});S.reset()};C.isDisableFilterButton=function(){var e=true;if(w.get()["ps-1245"]&&C.currentConnectorInput){var t=C.currentConnectorInput.qvDialogContext;e=m.getPrepareLoadDataModel().isPrepOn?t.nextDisabled():t.finishDisabled()}return e};C.toggleLeftPanel=function(){C.leftPanelOpen=!C.leftPanelOpen;C.leftPanelToggleTooltip=C.leftPanelOpen?i.get("AppOverview.Collapse"):i.get("AppOverview.Expand");o(_)};function _(){C.isContentSmall=q.innerWidth()<=1024}function T(e){C.stateId++;C.activeView=e.page;m.setActiveView(C.activeView);C.currentConnectorInput=null;C.currentConnector=null;C.fileConnectionModel=null;C.fileToUpload=null;C.dataMarketStartLocation=null;C.showFilePicker=false;C.titleModel={};C.shouldShowFilters=false;m.turnOnDataProfiling();S.reset();(e.params.connection&&("AttachedFiles"===e.params.connection||"NativeFile"===e.params.connection)||e.params.fullPathToFile)&&(C.shouldShowFilters=true);switch(e.page){case m.STATES.SELECTION:o(function(){e.params["fullPathToFile"]?R(C.stateId,e.params["fullPathToFile"]):j(C.stateId,e.params["connection"],e.params["filename"],e.params["foldername"],e.params["existing"],e.params["isDataMarket"],e.params["additionalConnectionInput"])});break;case m.STATES.SELECTION_STORAGEPROVIDER:C.activeView=m.STATES.SELECTION;m.setActiveView(C.activeView);o(function(){F(C.stateId,e.params["connection"],e.params["filename"],e.params["existing"])});break;case m.STATES.IN_APP:k(e.params["name"],e.params["file"],e.params["showPicker"]);break;case m.STATES.FILE_CONNECTION:D(e.params["name"],e.params["file"],e.params["showPicker"]);break;case m.STATES.DATAMARKET:L(e.params["startLocation"]);break;case m.STATES.CATALOG:P();break;case m.STATES.STORAGE_PROVIDER:o(function(){M(e.params["name"],e.params["existing"])});break;case m.STATES.NEW_CONNECTION:C.titleModel=null;if(e.params["edit"]){C.modifyConnection(e.params["connectorid"],e.params["connectionid"],e.params["connectortype"]);return}e.params["connector"]&&N(e.params["connector"]);break}}function k(e,t,n){switch(e){case m.IN_APP_TYPES.ATTACHED_FILES:I(e,t,n);break;case m.IN_APP_TYPES.MANUAL_DATA:O();break}}function O(){h.getDataLoadInput(true).then(function(e){C.currentConnectorInput=e;C.currentConnectorInput.qvDialogContext={nextDisabled:function e(){},finishDisabled:function e(){}};C.titleModel={type:i.get("AddData.LeftNav.ManualData"),title:i.get("AddData.ManualData.Description"),icon:"edit"};C.activeView="manualdata";m.setActiveView(C.activeView)})}function D(e,t,n){switch(e){case m.FILE_CONNECTION_TYPES.NATIVE_FILES:A();break;case m.IN_APP_TYPES.ATTACHED_FILES:I(e,t,n);break}}function A(){C.titleModel={type:i.get("AddData.LeftNav.SharedFiles"),title:null,icon:"folder"};h.getNativeFileModel().then(function(e){C.fileConnectionModel=e})}function I(e,t,n){C.titleModel={type:i.get("AddData.LeftNav.UploadedFiles"),title:i.get("AddData.UploadedFiles.Description"),icon:"paperclip"};t&&(C.fileToUpload=t);n&&(C.showFilePicker=true);C.activeView="attachedfiles";m.setActiveView(C.activeView)}function L(e){C.dataMarketStartLocation=e;C.titleModel={type:i.get("quickdataload.datamarket"),imagepath:n.p+"img/connector-logos/DataMarket-Product-Icon.svg"}}function P(){C.titleModel={type:i.get("AddData.Catalog.Title"),icon:"grid"}}function M(e,t){h.getStorageProviderByName(e).then(function(n){h.getConnectorByName(n.id).then(function(i){h.getConnectionInputs(e,t).then(function(e){var t=[];t.push({label:"scripteditor.accordion.deleteconnection",icon:"bin",execute:function t(){C.deleteConnection(e.dataconnectorInstance.id,e.dataconnectorInstance.name)}});m.isModifyEnabled()&&t.push({label:"scripteditor.accordion.editdata",icon:"edit",execute:function t(){m.changeState(m.STATES.NEW_CONNECTION,{edit:true,connectorid:n.id,connectionid:e.dataconnectorInstance.id,connectortype:e.dataconnectorInstance.type})}});C.titleModel={type:n.name,imagepath:n.imagePath,menuActions:t};n.updateConnection(e.dataconnectorInstance,e.serverside);e.storageProvider=n;C.currentConnectorInput=e;C.currentConnector=i})})})}function N(e){v.showConnectionDialog(e,function e(t){return t.isStorageProvider?H().then(function(){m.changeState(m.STATES.STORAGE_PROVIDER,{name:t.connectionName,existing:false});r.publish(f.Events.PubSub.ConnectionCreated,t.connectionName)}):h.getConnectionInputs(t.connectionName).then(function(){return H().then(function(){m.changeState(m.STATES.SELECTION,{connection:t.connectionName});r.publish(f.Events.PubSub.ConnectionCreated,t.connectionName)})})},function e(){m.changeState(m.STATES.NEW_CONNECTION,{})})}function R(e,t){h.getNativeFileConnectionByPathName(t).then(function(n){j(e,m.FILE_CONNECTION_TYPES.NATIVE_FILES,u.fileNameFromPath(t),n.name,n.existedPreviously)})}function F(e,t,n,i){h.getConnectionInputs(t,i).then(function(i){if(e!==C.stateId)return;C.currentConnectorInput=i;C.currentConnectorInput.connectionInput={singleFileName:n,connectionName:t,usingExisting:true};h.getConnectorByName(i.dataconnectorInstance.sourceConnectorID).then(function(e){C.currentConnector=e;C.titleModel={type:n,imagepath:l.getIconForFile(n),canGoBack:true}})})}function j(e,t,n,r,o,a,s){if(a){h.getConnectionInputs(t,o).then(function(t){if(e!==C.stateId)return;t.connectionInput=s;C.currentConnectorInput=t;h.getDataMarketConnector().then(function(t){if(e!==C.stateId)return;C.currentConnectorInput.connectionInput.dataSetSelectionInfo.previousNode&&m.updateLastUsedDataMarketNode(C.currentConnectorInput.connectionInput.dataSetSelectionInfo.previousNode);C.currentConnector=t;C.titleModel={type:C.currentConnectorInput.connectionInput.dataSetSelectionInfo.dataMarketDataSet.name,title:C.currentConnectorInput.connectionInput.dataSetSelectionInfo.dataMarketDataSet.description,imagepath:"./img/connector-logos/DataMarket-DataSet.svg",canGoBack:true}})});return}if(t===m.IN_APP_TYPES.ATTACHED_FILES){h.getAttachedFilesConnector().then(function(i){if(e!==C.stateId)return;C.currentConnector=i.connector;h.getConnectionInputs(t,true).then(function(t){if(e!==C.stateId)return;C.currentConnectorInput=t;C.currentConnectorInput.connectionInput={singleFileName:n,connectionName:i.connection.connectorInstance.name,usingExisting:true};C.titleModel={type:n,imagepath:l.getIconForFile(n),canGoBack:true}})});return}if(t===m.FILE_CONNECTION_TYPES.NATIVE_FILES){h.getConnectionInputs(r,o).then(function(t){if(e!==C.stateId)return;C.currentConnectorInput=t;C.currentConnectorInput.connectionInput={singleFileName:n};h.getNativeFileModel().then(function(t){var i=t.fileConnector;i||(i=t.fileConnections[0]);if(e!==C.stateId)return;C.titleModel={type:n,imagepath:l.getIconForFile(n),canGoBack:true};C.currentConnector=i})});return}h.getConnectionInputs(t,o).then(function(n){if(n){if(e!==C.stateId)return;n.connectionInput=s;C.currentConnectorInput=n;h.getConnectorByName(n.dataconnectorInstance.sourceConnectorID).then(function(n){if(e!==C.stateId)return;C.currentConnector=n;var i=[];i.push({label:"scripteditor.accordion.deleteconnection",icon:"bin",execute:function e(){C.deleteConnection(C.currentConnectorInput.dataconnectorInstance.id,t)}});m.isModifyEnabled()&&i.push({label:"scripteditor.accordion.editdata",icon:"edit",execute:function e(){C.modifyConnection(C.currentConnector.getId(),C.currentConnectorInput.dataconnectorInstance.id,C.currentConnector.connectorType)}});C.titleModel={type:C.currentConnector.getDisplayName(),title:C.currentConnectorInput.dataconnectorInstance.name,imagepath:C.currentConnector.getImagePath(),menuActions:i}})}else x.show({title:i.get("AddData.ConnectionRemoved.Title"),message:i.get("AddData.ConnectionRemoved.DialogText"),closeLabel:i.get("AddData.ConnectionRemoved.CloseLabel")}).closed.then(function(){H().then(function(){m.changeState(m.STATES.NEW_CONNECTION,{})})})})}C.modifyConnection=function(e,t,n){v.showEditConnectionDialog(e,t,n,function e(){return H().then(function(){m.changeState(m.STATES.NEW_CONNECTION,{})})},function e(){m.changeState(m.STATES.NEW_CONNECTION,{})})};C.deleteConnection=function(e,t){h.getDataLoadInput(true).then(function(n){var o=h.isConnectionInUse(t,n.existingLoadModel.tableModels);var a=i.get("scripteditor.dataconnectors.deletequestion");o&&(a=i.get("AddData.DeleteConnection.ConnectionIsInUseWarning"));y.show({title:i.get("AddData.DeleteConnection.Title"),message:a,okLabel:i.get("Common.Delete")}).closed.then(function(t){if(t){C.initialized=false;h.deleteConnection(e).finally(function(){H().finally(function(){m.changeState(m.STATES.NEW_CONNECTION,{});C.initialized=true;o&&r.publish(f.Events.PubSub.ConnectionDeleted)})})}})})};function B(){C.isOpen&&m.hideAddData()}function V(e){C.isOpen&&(e?g.show({mode:"warning",message:"Fullscreen.SizeNotSupported",scope:p}):g.close())}function H(){h.clearCache();return a.all({existingConnections:h.getExistingConnections(),attachedFilesConnector:h.getAttachedFilesConnector(),storageProviderConnections:h.getExistingStorageProviderConnections(),connectors:h.getConnectors()}).then(function(e){C.attachedFilesConnection=e.attachedFilesConnector;C.existingStorageProviderConnections=e.storageProviderConnections;C.connectors=e.connectors;return h.decorateExistingConnectionsWithImages(e.existingConnections).then(function(){C.existingConnections=e.existingConnections;return})})}}],template:o})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="add-data" ng-if="!$ctrl.firstOpen" ng-class="{\'add-data-panel-open\': $ctrl.isOpen, \'add-data-ready\': $ctrl.initialized}">\n\n\t<div ng-if="!$ctrl.initialized" class="add-data-loading-screen">\n\t\t<qv-spinner class="spinner" show="true" show-delay="300" show-for-at-least="500" spinner-height="200px" spinner-width="200px" center-in-parent="true"></qv-spinner>\n\t\t<div class="loading-text" q-translation="quickdataload.initializeWizard"></div>\n\t</div>\n\n\t<div class="add-data-header">\n\t\t<div class="add-data-header-title" ng-bind="$ctrl.titleString"></div>\n\t\t<button tid="add-data-cancel-button" class="add-data-close-button lui-fade-button" ng-click="$ctrl.cancelAddData()" q-title-translation="Common.Cancel">\n\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--close"></span>\n\t\t</button>\n\t</div>\n\n\t<div class="add-data-body">\n\n\t\t<div class="add-data-body-left-side">\n\t\t\t<add-data-navigation-list ng-class="{\'collapsed\': !$ctrl.leftPanelOpen}" is-personal-mode="$ctrl.isPersonalMode" is-expanded="$ctrl.leftPanelOpen" connections="$ctrl.existingConnections" storage-providers="$ctrl.existingStorageProviderConnections" attached-files-enabled="$ctrl.attachedFilesConnection.enabled" current-state="$ctrl.currentState" network-files-enabled="$ctrl.networkFilesEnabled" delete-connection="$ctrl.deleteConnection"></add-data-navigation-list>\n\t\t</div>\n\n\t\t<div class="add-data-body-right-side">\n\n\t\t\t<add-data-title-bar ng-if="$ctrl.titleModel" show-filter-tab="$ctrl.isReady() && $ctrl.shouldShowFilters && $ctrl.ps_1245" the-title="$ctrl.titleModel.title" type="$ctrl.titleModel.type" icon="$ctrl.titleModel.icon" imagepath="$ctrl.titleModel.imagepath" can-go-back="$ctrl.titleModel.canGoBack" menu-actions="$ctrl.titleModel.menuActions"></add-data-title-bar>\n\n\t\t\t<div class="add-data-body-right-side-content" ng-class="{\'nomargin\': $ctrl.activeView === \'newconnection\' || $ctrl.activeView === \'catalog\' }">\n\t\t\t\t\t<add-data-new-connection ng-if="$ctrl.activeView === \'newconnection\'" connectors="$ctrl.connectors" is-small="$ctrl.isContentSmall" attached-files-enabled="$ctrl.attachedFilesConnection.enabled"></add-data-new-connection>\n\t\t\t\t\t<add-data-attach-files class="add-data-attach-files" ng-if="$ctrl.activeView === \'attachedfiles\'" attached-file-connection="$ctrl.attachedFilesConnection" file-to-upload="$ctrl.fileToUpload" show-file-picker="$ctrl.showFilePicker"></add-data-attach-files>\n\t\t\t\t\t<add-data-manual class="add-data-manual" ng-if="$ctrl.activeView === \'manualdata\'" connector-input="$ctrl.currentConnectorInput"></add-data-manual>\n\t\t\t\t\t<add-data-file-source ng-if="$ctrl.activeView === \'fileconnection\'" file-connection-model="$ctrl.fileConnectionModel"></add-data-file-source>\n\t\t\t\t\t<add-data-datamarket ng-if="$ctrl.activeView === \'datamarket\'" start-location="$ctrl.dataMarketStartLocation"></add-data-datamarket>\n\t\t\t\t\t<add-data-storage-provider ng-if="$ctrl.activeView === \'storageprovider\'" file-connection="$ctrl.currentConnector" connector-input="$ctrl.currentConnectorInput"></add-data-storage-provider>\n\t\t\t\t\t<add-data-selection ng-if="$ctrl.activeView === \'selection\'" connector="$ctrl.currentConnector" connector-input="$ctrl.currentConnectorInput"></add-data-selection>\n\t\t\t\t\t<dm-filter-pane is-ready="$ctrl.isReady()" database-name="$ctrl.titleModel.type" ng-if="$ctrl.ps_1245 && $ctrl.shouldShowFilters && $ctrl.isReady() && $ctrl.filterManagementService.isFilterPageVisible"></dm-filter-pane>\n\t\t\t\t\t<div class="add-data-body-react" id="qs-add-data-portal" ng-show="$ctrl.showReact($ctrl.activeView)"></div>\n\t\t\t\t</div>\n\n\t\t</div>\n\n\t</div>\n\n\t<div class="add-data-bottom">\n\t\t<button class="panel-toggle lui-fade-button"\n\t\t\t\ttid="add-data-toggle-panel-button"\n\t\t\t\tng-class="{ \'lui-active\': $ctrl.leftPanelOpen }"\n\t\t\t\tng-attr-title="{{$ctrl.leftPanelToggleTooltip}}"\n\t\t\t\tng-click="$ctrl.toggleLeftPanel()">\n\t\t\t<span class="lui-icon lui-icon--toggle-left"></span>\n\t\t</button>\n\t\t<div>\n\t\t\t<span ng-if="$ctrl.footerText" class="panel-footer-text">{{$ctrl.footerText}}</span>\n\n\t\t\t\x3c!--<lui-button class="cancel-button" ng-click="$ctrl.cancelAddData()">Cancel</lui-button>--\x3e\n\t\t\t<add-data-prepare-load-button ng-show="$ctrl.activeView !== \'catalog\'"  connector-context="$ctrl.currentConnectorInput.qvDialogContext"\n\t\t\t\t\t\t\t\t\t\t  is-disabled="($ctrl.activeView !== \'selection\' || !$ctrl.currentConnectorInput)\n\t\t\t\t\t\t\t\t\t\t  \t\t\t   && $ctrl.activeView !== \'manualdata\'">\n\t\t\t</add-data-prepare-load-button>\n\n\t\t\t<add-data-catalog-next-button ng-show="$ctrl.activeView === \'catalog\'"></add-data-catalog-next-button>\n\n\t\t</div>\n\t</div>\n\n</div>\n\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(10),n(11),n(91),n(89),n(1158),n(1155),n(1154),n(1859),n(1860),n(1214)],r=function(e,t,n,i,r,o,a,s,l,u){e.service("addDataNewConnectionService",["addDataConnectionsService","luiDialog",function(e,c){function d(){this.DIALOGSTATE={SUCCESS:"SUCCESS",CANCEL:"CANCEL"}}d.prototype.showEditConnectionDialog=function(t,n,a,s,d){var f=this;e.getConnectorByName(t).then(function(t){e.getServerSide(a).then(function(a){e.getConfiguration().then(function(e){var p={};p.connectorScope={};p.connectorScope.kind="connect";p.connectorScope.serverside=a;p.connectorScope.editMode=true;p.connectorScope.instanceId=n;p.connectorScope.qvDialogContext={};p.connectorScope.qvxSelectedEntrypoint=t.entrypoint;p.connectorScope.configuration=e;p.destroyComponent=function(){};p.initialConnectStep=t.entrypoint.initialConnectStep;var h=l;if(t.entrypoint.isStorageProvider){t.connectorMain.updateServerSideProxy(a);p.credentialsDialog=t.entrypoint.credentialsDialog;p.connectorScope.deferredResult=new r;h=u}c.show({template:h,controller:["$scope",function(e){e.status=f.DIALOGSTATE.CANCEL;e.createString=i.get("Common.Edit");t.entrypoint.isStorageProvider?e.onStorageProviderCreate=function(){e.close();p.connectorScope.deferredResult&&p.connectorScope.deferredResult.promise.then(function(n){o.modifyConnection(t.getConnectorMain(),p.connectorScope.instanceId,n,"").then(function(){s&&(n.isStorageProvider=true);s(n).then(function(){e.status=f.DIALOGSTATE.SUCCESS;e.close()})})})}:p.destroyComponent=function(){s().then(function(){e.status=f.DIALOGSTATE.SUCCESS;e.close()})};e.closingDeferred.promise.then(function(){e.status===f.DIALOGSTATE.CANCEL&&d&&d()});e.onCancelClicked=function(){e.status=f.DIALOGSTATE.CANCEL;e.close()}}],input:p})})})})};d.prototype.showConnectionDialog=function(d,f,p){var h=this;e.getConnectorByName(d).then(function(d){e.getServerSide(d.getProvider()).then(function(v){e.getConfiguration().then(function(e){d.loadConnectorMain().then(function(){var m=l;var g={};g.connectorScope={};g.connectorScope.serverside=v;g.connectorScope.qvDialogContext={};g.connectorScope.configuration=e;if(d.isIframeCompatible){g={kind:"connect",instanceId:d.getId(),datasource:d,connectorType:d.getConnectorType(),serverside:v,qvxSelectedEntrypoint:d.getEntrypoint(),qvDialogContext:{title:""},onCancel:p,onSuccess:f};c.show({template:s,controller:a,input:g,closeOnOutside:false,showArrow:false});return}g.connectorScope.qvxSelectedEntrypoint=d.getEntrypoint();g.initialConnectStep=d.getConnectStep();if(d.isStorageProvider()){d.getConnectorMain().updateServerSideProxy(v);g.credentialsDialog=d.getEntrypoint().credentialsDialog;g.connectorScope.deferredResult=new r;m=u}c.show({template:m,controller:["$scope","$timeout",function(e,r){e.status=h.DIALOGSTATE.CANCEL;var a=null;e.createString=i.get("Common.Create");if(!d.isStorageProvider()){e.connectorScope.continueWithNewConnection=function(t){r(function(){e.connectionFinished=true}).then(function(){f(t).then(function(){e.status=h.DIALOGSTATE.SUCCESS;e.close()})})};e.isConnectorLoading=function(){if(!a){var e=n("#connector-auth-include");if(e){var i=e.children().first();a=t.element(i).scope()}}if(a)return a.vm?a.vm.isLoading:a.isLoading;return false}}e.onStorageProviderCreate=function(){g.connectorScope.deferredResult&&r(function(){e.storageProviderCreating=true}).then(function(){g.connectorScope.deferredResult.promise.then(function(t){o.saveConnection(d.getConnectorMain(),t,"",true).then(function(){if(f){t.isStorageProvider=true;f(t).then(function(){e.status=h.DIALOGSTATE.SUCCESS;e.close();e.storageProviderCreating=false})}})})})};e.closingDeferred.promise.then(function(){e.status===h.DIALOGSTATE.CANCEL&&p&&p()});e.onCancelClicked=function(){e.status=h.DIALOGSTATE.CANCEL;e.close()}}],input:g})})})})})};return new d}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog id="auth-connection-dialog" ng-class="{\'sizeS\': input.connectorScope.qvDialogContext.size == \'S\',\n\t\t\t \'sizeM\': input.connectorScope.qvDialogContext.size == \'M\',\n\t\t\t \'sizeL\': input.connectorScope.qvDialogContext.size == \'L\',\n\t\t\t \'sizeT\': input.connectorScope.qvDialogContext.size == \'T\'}">\n\t<lui-dialog-header>\n\t\t<lui-dialog-title>{{input.connectorScope.qvDialogContext.title|translate}}</lui-dialog-title>\n\t</lui-dialog-header>\n\n\t<div class="qv-content">\n\t\t<div class="overlay" ng-if="connectionFinished"></div>\n\t\t<qv-auth-data-include id="connector-auth-include" ng-if="input" ng-class="{\'loading\': isConnectorLoading()}" data-destroy-component="input.destroyComponent" data-qv-dialog-context="" data-component="input.initialConnectStep" data-input="input.connectorScope"></qv-auth-data-include>\n\t</div>\n\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="onCancelClicked()" q-translation="Common.Cancel" ng-disabled="connectionFinished"></lui-button>\n\t\t<lui-button ng-click="input.connectorScope.qvDialogContext.next()"  ng-disabled="input.connectorScope.qvDialogContext.nextDisabled() || connectionFinished">{{createString}}</lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>'},function(e,t){e.exports='<lui-dialog id="auth-connection-dialog" ng-class="{\'sizeS\': input.connectorScope.qvDialogContext.size == \'S\',\n\t\t\t \'sizeM\': input.connectorScope.qvDialogContext.size == \'M\',\n\t\t\t \'sizeL\': input.connectorScope.qvDialogContext.size == \'L\',\n\t\t\t \'sizeT\': input.connectorScope.qvDialogContext.size == \'T\'}">\n\t<lui-dialog-header>\n\t\t<lui-dialog-title>{{input.connectorScope.qvDialogContext.title|translate}}</lui-dialog-title>\n\t</lui-dialog-header>\n\n\t<div class="qv-content">\n\t\t<div class="overlay" ng-if="connectionFinished"></div>\n\t\t<qv-auth-data-include data-qv-dialog-context="" ng-class="{\'loading\': isConnectorLoading()}" data-component="input.credentialsDialog" data-input="input.connectorScope"></qv-auth-data-include>\n\t</div>\n\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="onCancelClicked()" q-translation="Common.Cancel" ng-disabled="connectionFinished"></lui-button>\n\t\t<lui-button ng-click="onStorageProviderCreate()" ng-disabled="input.connectorScope.qvDialogContext.nextDisabled() || connectionFinished || storageProviderCreating">{{createString}}</lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>'},function(e,t,n){"use strict";var i,r;!(i=[n(91)],r=function(e){var t="good";var n="warn";var i="bad";function r(e,t){e.canLoadData=true===t.canLoad;e.canLoadData||e.warnings.push(new l("AnalyzeModel.warning.cannotAdd"))}function o(e,t){t.circularReferences&&t.circularReferences.length>0&&e.warnings.push(new l("AnalyzeModel.warning.circularReferences"))}function a(e,t){t.syntheticKeys&&t.syntheticKeys.length>0&&e.warnings.push(new l("AnalyzeModel.warning.syntheticKeys",[t.syntheticKeys.length]))}function s(e){e.status=e.canLoadData?0===e.warnings.length?t:n:i}function l(t,n){this.messageKey=t;this.args=n;this.message=e.get(t,n)}var u={get:function e(n){n=n||{};var i={status:t,canLoadData:false,warnings:[]};r(i,n);o(i,n);a(i,n);s(i);return i}};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog class="qv-generic-loading-dialog">\n\t<lui-dialog-header ng-if="input.title">\n\t\t<lui-dialog-title>{{loadingTitle}}</lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="dialog-body">\n\t\t<div class="qv-loader"></div>\n\t\t<div class="message">{{loadingMessage}}</div>\n\t</lui-dialog-body>\n</lui-dialog>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(1864),n(1008),n(1702),n(1703)],r=function(e,t,n,i){e.nativeComponent("addDataManual",{bindings:{connectorInput:"<"},template:n,controller:["qvManualAddDataService",function(e){var n=this;n.$onInit=function(){n.connectorInput.qvDialogContext.nextDisabled=s;n.connectorInput.qvDialogContext.finishDisabled=s;n.connectorInput.qvDialogContext.next=function(){l();n.connectorInput.qvDialogContext.connectorNextComplete()};n.connectorInput.qvDialogContext.finish=function(){l();n.connectorInput.qvDialogContext.connectorFinishComplete()};n.validateTableName=a;n.tableName=t.get("Object.Table");n.tableModel={columns:[],rows:[]}};function r(e){var t=[];e.columns.forEach(function(e){void 0!==e.name&&t.push(e.name)});return t}function o(e){var t=[];for(var n=0;n<e.rows.length-1;n++){var i=[];for(var r=0;r<e.rows[n].length-1;r++)i.push(e.rows[n][r].value);t.push(i)}return t}function a(e){var t=i.validateTableName(n.connectorInput.existingLoadModel,n.tableName,e);return t}function s(){var e;e=a(n.tableName);var t=r(n.tableModel);0===t.length&&(e=["no valid column!"]);return e.length>0}function l(){n.tableModel.columns=e.uniqueFieldNames(n.tableModel.columns);var t=o(n.tableModel);var i=n.tableModel.columns.filter(function(e){return!!e.name}).map(function(e){return e.name.trim()});n.connectorInput.newLoadModel.addInlineTableModel(n.tableName,i,t);n.connectorInput.qvInternals.activeConnector=e.getActiveConnector()}}]})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="add-data-manual">\n\t<label class="lui-label" q-translation="DataManager.ForcedConcat.TableNameLabel"></label>\n\t<ds-grid-input class="tableNameInput"\n\t\tmodel="$ctrl.tableName"\n\t\tvalidate="$ctrl.validateTableName"\n\t\terror-state="[]"\n\t\teditable="true">\n\t</ds-grid-input>\n\t<div class="grid-container">\n\t\t<ds-edit-grid table-model="$ctrl.tableModel"></ds-edit-grid>\n\t</div>\n</div>'},function(e,t){e.exports='<div class="ds-edit-grid">\n\t<div class="header-buttons">\n\t\t<div class="lui-buttongroup">\n\t\t\t<button class="lui-button lui-buttongroup__button delete-button" ng-disabled="$ctrl.model.selection.isDeleteDisabled()" ng-click="$ctrl.model.selection.deleteSelection()" q-translation="EditGrid.Delete.Label"></button>\n\t\t</div>\n\t</div>\n\n\t<div class="table" ng-mouseleave="$ctrl.model.selection.selectEnd()">\n\t\t<div class="header" ng-style="{ \'width\' : $ctrl.model.rowWidth }">\n\t\t\t<div class="line-number cell"></div>\n\t\t\t<div class="meta cell"\n\t\t\t\t ng-repeat="(columnIndex, column) in $ctrl.model.table.columns track by columnIndex"\n\t\t\t\t ng-dblclick="$ctrl.doubleClickHandler(columnIndex, -1)"\n\t\t\t\t ng-mousedown="$ctrl.mouseDownHandler($event, columnIndex, -1)"\n\t\t\t\t ng-mouseenter="$ctrl.mouseEnterHandler(columnIndex, -1)"\n\t\t\t\t ng-mouseup="$ctrl.mouseUpHandler(columnIndex, -1)"\n\t\t\t\t ng-class="{selected: $ctrl.model.selection.selectedHeaders.indexOf(columnIndex) >= 0, highlighted: $ctrl.model.selection.selectedColumns.indexOf(columnIndex) >= 0}"\n\t\t\t\t ng-style="{ \'min-width\' : column.width, \'width\' : column.width }">\n\n\t\t\t\t<div ng-if="!column.editing && column.name" class="text">{{column.name}}</div>\n\t\t\t\t<div ng-if="!column.editing && !column.name" class="text place-holder" q-translation="EditGrid.Column.Placeholder"></div>\n\t\t\t\t<input tid="column-currently-edited" ng-if="column.editing" ng-paste="$ctrl.onHeaderTextPaste()" ng-class="{\'warning\': column.invalidInput}" class="editor" ng-model="column.name" ng-blur="$ctrl.onBlur()" ng-keydown="$ctrl.editorKeydown($event)"/>\n\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="content" ng-style="{ \'width\' : $ctrl.model.rowWidth }">\n\t\t\t<div class="row" ng-repeat="(rowIndex, row) in $ctrl.model.table.rows track by rowIndex">\n\t\t\t\t<div class="line-number meta cell"\n\t\t\t\t\t ng-mousedown="$ctrl.mouseDownHandler($event, -1, rowIndex)"\n\t\t\t\t\t ng-mouseenter="$ctrl.mouseEnterHandler(-1, rowIndex)"\n\t\t\t\t\t ng-mouseup="$ctrl.mouseUpHandler(-1, rowIndex)"\n\t\t\t\t\t ng-class="{selected: $ctrl.model.selection.selectedRowHeaders.indexOf(rowIndex) >= 0, highlighted: $ctrl.model.selection.selectedRows.indexOf(rowIndex) >= 0}"></div>\n\n\t\t\t\t<div class="cell"\n\t\t\t\t\t ng-repeat="(columnIndex, cell) in row track by columnIndex" ng-class="{selected: cell.selected}"\n\t\t\t\t\t ng-style="{ \'min-width\' : $ctrl.model.table.columns[columnIndex].width, \'width\' : $ctrl.model.table.columns[columnIndex].width }">\n\n\t\t\t\t\t<div class="text"\n\t\t\t\t\t\t ng-if="!cell.editing"\n\t\t\t\t\t\t ng-bind="cell.value"\n\t\t\t\t\t\t ng-dblclick="$ctrl.doubleClickHandler(columnIndex, rowIndex)"\n\t\t\t\t\t\t ng-mousedown="$ctrl.mouseDownHandler($event, columnIndex, rowIndex)"\n\t\t\t\t\t\t ng-mouseenter="$ctrl.mouseEnterHandler(columnIndex, rowIndex)"\n\t\t\t\t\t\t ng-mouseup="$ctrl.mouseUpHandler(columnIndex, rowIndex)"></div>\n\t\t\t\t\t<input class="editor"\n\t\t\t\t\t\t   ng-class="{\'warning\': cell.invalidInput}"\n\t\t\t\t\t\t   ng-if="cell.editing"\n\t\t\t\t\t\t   ng-model="cell.value"\n\t\t\t\t\t\t   ng-blur="$ctrl.onBlur()"\n\t\t\t\t\t\t   ng-keydown="$ctrl.editorKeydown($event)"/>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="meta-data">\n\t\t<div class="columns">{{$ctrl.columnCount}}</div>\n\t\t<div class="rows">{{$ctrl.rowCount}}</div>\n\t</div>\n\n\t<div class="copy-area">\n\t\t<textarea class="text-area"></textarea>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(54)],r=function(e){function t(e){this.tableModel=e;this.selectedRows=[];this.selectedColumns=[];this.selectedCells=[];this.selectedHeaders=[];this.selectedRowHeaders=[];this.selectionRange={start:void 0,end:void 0,isStillSelecting:false};this.editingCell=void 0;this.editingHeader=void 0;this.disableDelete=false;this.eventHandlers={}}t.prototype.isSelecting=function(){return this.isSelectingCell()||this.isSelectingRange()||this.isSelectingHeader()};t.prototype.isSelectingCell=function(){return 1===this.selectedCells.length};t.prototype.isSelectingRange=function(){return this.selectedCells.length>1};t.prototype.isSelectingRow=function(){return 1===this.selectedRowHeaders.length};t.prototype.isSelectingRows=function(){return this.selectedRowHeaders.length>1};t.prototype.isSelectingHeader=function(){return 1===this.selectedHeaders.length};t.prototype.isSelectingHeaders=function(){return this.selectedHeaders.length>1};t.prototype.isStillSelecting=function(){return this.selectionRange.isStillSelecting};t.prototype.isStillSelectingRows=function(){return this.isStillSelecting()&&-1===this.selectionRange.start.columnIndex};t.prototype.isStillSelectingColumns=function(){return this.isStillSelecting()&&-1===this.selectionRange.start.rowIndex};t.prototype.isEditing=function(){return this.isEditingCell()||this.isEditingHeader()};t.prototype.isEditingCell=function(){return void 0!==this.editingCell};t.prototype.isEditingHeader=function(e){if(void 0!==e)return this.editingHeader&&this.editingHeader.columnIndex===e;return void 0!==this.editingHeader};t.prototype.isDeleteDisabled=function(){return this.disableDelete||0===this.selectedCells.length||this.isEditing()};t.prototype.getSelectionStart=function(){var e=this.selectedColumns[0];var t=this.selectedRows[0];return{columnIndex:e,rowIndex:t}};t.prototype.on=function(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]);this.eventHandlers[e].push(t)};t.prototype.fire=function(e){if(this.eventHandlers[e]){var t=arguments;this.eventHandlers[e].forEach(function(e){e.apply(this,t)})}};t.prototype.selectStart=function(e,t,n){if(this.isEditingHeader(t)&&-1===n)return;if(e.shiftKey&&this.selectionRange.start){this.selectionRange.isStillSelecting=true;this.selectExpand(t,n);return}this.clearAll();-1===t?this.selectRow(n):-1===n?this.selectColumn(t):this.selectCell(t,n);this.selectionRange.isStillSelecting=true;this.selectionRange.start={columnIndex:t,rowIndex:n};this.selectionRange.end={columnIndex:t,rowIndex:n}};t.prototype.selectExpand=function(e,t){if(this.isStillSelecting())if(this.isStillSelectingColumns()){-1===e&&(e=0);this.clearAll();this.selectColumns(this.selectionRange.start.columnIndex,e)}else if(this.isStillSelectingRows()){-1===t&&(t=0);this.clearAll();this.selectRows(this.selectionRange.start.rowIndex,t)}else{-1===e&&(e=0);-1===t&&(t=0);this.clearAll();this.selectionRange.end={columnIndex:e,rowIndex:t};this.selectCells(this.selectionRange.start.columnIndex,this.selectionRange.start.rowIndex,e,t)}};t.prototype.selectEnd=function(){if(this.isStillSelecting()){this.updateDeleteDisabled();this.selectionRange.isStillSelecting=false}};t.prototype.selectRows=function(e,t){var n=Math.min(e,t);var i=Math.max(e,t);for(var r=n;r<=i;r++)this.selectRow(r)};t.prototype.selectRow=function(e){this.selectedRowHeaders.indexOf(e)<0&&this.selectedRowHeaders.push(e);this.disableDelete=false;this.selectCells(0,e,this.tableModel.columns.length-1,e)};t.prototype.selectColumns=function(e,t){var n=Math.min(e,t);var i=Math.max(e,t);for(var r=n;r<=i;r++)this.selectColumn(r)};t.prototype.selectColumn=function(e){this.selectedHeaders.indexOf(e)<0&&this.selectedHeaders.push(e);this.disableDelete=false;this.selectCells(e,0,e,this.tableModel.rows.length-1)};t.prototype.selectCells=function(e,t,n,i){var r=Math.min(e,n);var o=Math.max(e,n);var a=Math.min(t,i);var s=Math.max(t,i);for(var l=r;l<=o;l++)for(var u=a;u<=s;u++)this.selectCell(l,u)};t.prototype.selectCell=function(e,t){var n=this.tableModel.rows[t][e];n.selected=true;this.selectedCells.push(n);this.selectedColumns.indexOf(e)<0&&this.selectedColumns.push(e);this.selectedRows.indexOf(t)<0&&this.selectedRows.push(t)};t.prototype.clearAll=function(){this.clearSelection();this.clearEditing()};t.prototype.clearSelection=function(){this.selectedCells.forEach(function(e){e.selected=false});this.selectedCells.length=0;this.selectedColumns.length=0;this.selectedRows.length=0;this.selectedHeaders.length=0;this.selectedRowHeaders.length=0;if(!this.isStillSelecting()){this.selectionRange.start=void 0;this.selectionRange.end=void 0}};t.prototype.clearEditing=function(){if(this.editingCell){var e=this.editingCell.columnIndex;var t=this.editingCell.rowIndex;var n=this.tableModel.rows[t][e];this.fire("editEnd",e,t,n.value!==this.editingCell.value);n.editing=false;this.editingCell=void 0}else if(this.editingHeader){var i=this.editingHeader.columnIndex;var r=this.tableModel.columns[i];""===r.name&&(r.name=this.editingHeader.name);this.fire("editEnd",this.editingHeader.columnIndex,-1,r.name!==this.editingHeader.name);r.editing=false;this.editingHeader=void 0}};t.prototype.editCell=function(t,n){this.selectCell(t,n);var i=this.tableModel.rows[n][t];i.editing=true;this.editingCell=e.extend({columnIndex:t,rowIndex:n},i);this.fire("editStart")};t.prototype.editColumnHeader=function(t){this.selectColumn(t);var n=this.tableModel.columns[t];n.editing=true;this.editingHeader=e.extend({columnIndex:t},n);this.fire("editStart")};t.prototype.editNextRowCell=function(){if(this.isEditingCell()){var e=this.editingCell.rowIndex;var t=this.editingCell.columnIndex;this.clearAll();t===this.tableModel.columns.length-1&&e===this.tableModel.rows.length-1?this.editCell(0,0):t===this.tableModel.columns.length-1?this.editCell(0,e+1):this.editCell(t+1,e)}else if(this.isEditingHeader()){var n=this.editingHeader.columnIndex;this.clearAll();n===this.tableModel.columns.length-1?this.editCell(0,0):this.editColumnHeader(n+1)}};t.prototype.editPrevRowCell=function(){if(this.isEditingCell()){var e=this.editingCell.rowIndex;var t=this.editingCell.columnIndex;if(0!==t){this.clearAll();this.editCell(t-1,e)}else if(0===t){this.clearAll();0!==e?this.editCell(this.tableModel.columns.length-1,e-1):this.editColumnHeader(this.tableModel.columns.length-1)}}else if(this.isEditingHeader()){var n=this.editingHeader.columnIndex;if(n>0){this.clearAll();this.editColumnHeader(n-1)}}};t.prototype.selectNextRowCell=function(){if(this.isSelectingCell()&&!this.isEditing()){var e=this.getSelectionStart();var t=e.columnIndex;var n=e.rowIndex;if(t!==this.tableModel.columns.length-1){this.clearSelection();this.selectCell(t+1,n)}else if(t===this.tableModel.columns.length-1&&n!==this.tableModel.rows.length-1){this.clearSelection();this.selectCell(0,n+1)}this.updateDeleteDisabled()}else if(this.isSelectingHeader()&&!this.isEditing()){var i=this.selectedHeaders[0];this.clearAll();i===this.tableModel.columns.length-1?this.selectCell(0,0):this.selectColumn(i+1)}};t.prototype.selectPrevRowCell=function(){if(this.isSelectingCell()&&!this.isEditing()){var e=this.getSelectionStart();var t=e.columnIndex;var n=e.rowIndex;if(0!==t){this.clearSelection();this.selectCell(t-1,n)}else if(0===t){this.clearSelection();0!==n?this.selectCell(this.tableModel.columns.length-1,n-1):this.selectColumn(this.tableModel.columns.length-1)}this.updateDeleteDisabled()}else if(this.isSelectingHeader()&&!this.isEditing()){var i=this.selectedHeaders[0];if(i>0){this.clearAll();this.selectColumn(i-1)}}};t.prototype.editNextColumnCell=function(){if(this.isEditingCell()){var e=this.editingCell.rowIndex;var t=this.editingCell.columnIndex;this.clearAll();t===this.tableModel.columns.length-1&&e===this.tableModel.rows.length-1?this.editCell(0,0):e===this.tableModel.rows.length-1?this.editCell(t+1,0):this.editCell(t,e+1)}else if(this.isEditingHeader()){var n=this.editingHeader.columnIndex;this.clearAll();this.editCell(n,0)}};t.prototype.editSelectedCell=function(){if(this.isSelectingCell()){var e=this.getSelectionStart();var t=e.columnIndex;var n=e.rowIndex;this.editCell(t,n)}else this.isSelectingHeader()&&this.editColumnHeader(this.selectedHeaders[0])};t.prototype.editPrevColumnCell=function(){if(this.isEditingCell()){var e=this.editingCell.rowIndex;var t=this.editingCell.columnIndex;if(e>=1){this.clearAll();this.editCell(t,e-1)}else if(0===e){this.clearAll();this.editColumnHeader(t)}}};t.prototype.selectNextColumnCell=function(){if(this.isSelectingCell()&&!this.isEditing()){var e=this.getSelectionStart();var t=e.columnIndex;var n=e.rowIndex;if(n!==this.tableModel.rows.length-1){this.clearSelection();this.selectCell(t,n+1)}this.updateDeleteDisabled()}else if(this.isSelectingHeader()&&!this.isEditing()){var i=this.selectedHeaders[0];this.clearSelection();this.selectCell(i,0);this.updateDeleteDisabled()}else if(this.isSelectingRow()&&!this.isEditing()){var r=this.selectedRowHeaders[0];if(r!==this.tableModel.rows.length-1){this.clearSelection();this.selectRow(r+1)}}};t.prototype.selectPrevColumnCell=function(){if(this.isSelectingCell()&&!this.isEditing()){var e=this.getSelectionStart();var t=e.columnIndex;var n=e.rowIndex;this.clearSelection();0!==n?this.selectCell(t,n-1):this.selectColumn(t);this.updateDeleteDisabled()}else if(this.isSelectingRow()&&!this.isEditing()){var i=this.selectedRowHeaders[0];if(0!==i){this.clearSelection();this.selectRow(i-1)}}};t.prototype.updateDeleteDisabled=function(){this.disableDelete=0===this.selectedColumns.length||0===this.selectedRows.length};t.prototype.deleteSelection=function(){if(!this.isDeleteDisabled())if(this.isSelectingRow()||this.isSelectingRows()){var t=this.getSelectionStart().rowIndex;var n=e.sortBy(this.selectedRowHeaders);for(var i=n.length-1;i>=0;i--){var r=n[i];this.tableModel.rows.splice(r,1)}this.fire("delete","row");this.clearSelection();t<this.tableModel.rows.length?this.selectRow(t):this.tableModel.rows.length>0&&this.selectRow(this.tableModel.rows.length-1)}else if(this.isSelectingHeader()||this.isSelectingHeaders()){var o=this.getSelectionStart().columnIndex;var a=e.sortBy(this.selectedHeaders);for(var s=a.length-1;s>=0;s--){var l=a[s];this.tableModel.columns.splice(l,1);this.tableModel.rows.forEach(function(e){e.splice(l,1)})}this.fire("delete","column");this.clearSelection();o<this.tableModel.columns.length?this.selectColumn(o):this.tableModel.columns.length>0&&this.selectColumn(this.tableModel.columns.length-1)}else{this.selectedCells.forEach(function(e){e.value=""});this.fire("delete","cell")}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(91)],r=function(e,t){function n(e){this.model=e;this.lineNumberColumnWidth=15}n.prototype.initColumns=function(){while(this.model.table.columns.length<this.model.MIN_COLUMNS)this.addEmptyColumn();void 0!==this.model.table.columns[this.model.table.columns.length-1].name&&this.addEmptyColumn();this.setHeaders()};n.prototype.initRows=function(){while(this.model.table.rows.length<this.model.MIN_ROWS)this.addEmptyRow();var t=this.model.table.rows[this.model.table.rows.length-1];e.some(t,function(e){return e.value})&&this.addEmptyRow()};n.prototype.initTable=function(){this.initColumns();this.initRows()};n.prototype.getSelectedCellRangeText=function(){var t=e.min(this.model.selection.selectedColumns);var n=e.max(this.model.selection.selectedColumns);var i=e.min(this.model.selection.selectedRows);var r=e.max(this.model.selection.selectedRows);var o="";for(var a=i;a<=r;a++){for(var s=t;s<=n;s++){o+=this.model.table.rows[a][s].value;s!==n&&(o+="\t")}a!==r&&(o+="\n")}return o};n.prototype.isFieldNameUnique=function(t){return void 0===e.findWhere(this.model.table.columns,{name:t})};n.prototype.setColumnWidths=function(){var e=Math.max((this.model.rootElement.width()-this.lineNumberColumnWidth-this.model.table.columns.length-2)/this.model.table.columns.length,this.model.MIN_COLUMN_WIDTH);this.model.table.columns.forEach(function(t){t.width=e});this.model.baseWidth=this.model.tableElement.width();this.model.rowWidth=this.model.baseWidth+this.model.offsetWidth};n.prototype.getTotalColumnWidth=function(){var e=this.lineNumberColumnWidth+this.model.table.columns.length+this.model.table.columns[0].width*this.model.table.columns.length;return e};n.prototype.addEmptyColumn=function(){this.model.table.columns.push({name:void 0});this.model.table.rows.forEach(function(e){e.push({value:"",selected:false,editing:false})})};n.prototype.addEmptyRow=function(){var e=[];this.model.table.columns.forEach(function(){e.push({value:"",selected:false,editing:false})});this.model.table.rows.push(e)};n.prototype.setHeaders=function(){for(var e=0;e<this.model.table.columns.length-1;e++)void 0===this.model.table.columns[e].name&&(this.model.table.columns[e].name=this.generateDefaultFieldName())};n.prototype.generateDefaultFieldName=function(){var e=t.get("EditGrid.Column.DefaultName");e.indexOf("{0}")<0&&(e+="_{0}");var n=void 0,i=1;do{n=e.replace("{0}",i++)}while(!this.isFieldNameUnique(n));return n};n.prototype.checkForNewColumnOrRow=function(e,t){if(e===this.model.table.columns.length-1){this.addEmptyColumn(this.model);this.setColumnWidths();this.setHeaders()}t===this.model.table.rows.length-1&&this.addEmptyRow(this.model)};n.prototype.breakExcelPasteIntoLines=function(e){var t="";var n=[];var i="";var r;var o=0,a=0;var s=/(?:^"(?!")|^(?:"")+(?="(?!"))|\t"(?!")|\t(?:"")+(?="(?!")))"*[^\t\n]*\n(?:[^\t"])*"*(?:"$|"\t|"[^\t\n]+)/gm;while(null!=(r=s.exec(e))){if(r[0].length<3)break;a=r.index;if("\t"===r[0][0]){r[0]=r[0].substring(1);a+=1}t+=e.substring(o,a);o=s.lastIndex;i="";n=r[0].split("\n");for(var l=0;l<n.length;l++){i+=n[l];l<n.length-1&&(i+=" ")}if("\t"===i[i.length-1]){i=i.substring(1,i.length-2)+"\t";s.lastIndex--}else i=i.substring(1,i.length-1);i=i.replace(/""/g,'"');t+=i}t+=e.substring(o);var u=t.split("\n");return u};n.prototype.pasteRawText=function(e){var t=this.breakExcelPasteIntoLines(e);var n=this.model.selection.selectedHeaders;var i=this.model.selection.getSelectionStart();var r,o,a,s;t.length>1&&0===t[t.length-1].length&&t[t.length-2].length>0&&t.splice(t.length-1);for(var l=0;l<t.length;l++){var u=t[l];var c=u.split(/\t/);if(n.length>0)for(var d=0;d<c.length;d++){a=n[0];if(0===l){this.checkForNewColumnOrRow(a+d);var f=this.model.table.columns[a+d];f.name=c[d]?c[d]:void 0}else{this.checkForNewColumnOrRow(a+d,l-1);r=this.model.table.rows[l-1];o=r[a+d];o.value=c[d];o.selected=false;o.editing=false}}else{s=i.rowIndex;a=i.columnIndex;for(var p=0;p<c.length;p++){r=this.model.table.rows[s+l];this.checkForNewColumnOrRow(a+p,s+l);o=r[a+p];o.value=c[p];o.selected=false;o.editing=false}}}this.model.selection.clearSelection();this.setHeaders()};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<input\n\t\tclass="lui-input ds-input"\n\t\tng-class="{calculated: isCalculated, inputClass: inputClass, \'validation-error\': errorState === true}"\n\t\ttype="text"\n\t\tng-model="model"\n\t\ttitle="{{model}}"\n\t\tng-keydown="onKeyDown( $event )"\n\t\tid="column-{{inputId}}"\n\t\tng-change="onChange($event)"\n\t\tng-blur="onBlur( $event )"\n\t\tng-focus="onFocus()"\n\t\ttabindex="{{inputId + 1}}"\n\t\tng-disabled="!editable"\n\t\tng-trim="true"\n/>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(49),n(1870),n(255),n(111)],r=function(e,t,i,r){e.nativeComponent("addDataNavigationList",{bindings:{connections:"<",storageProviders:"<",attachedFilesEnabled:"<",networkFilesEnabled:"<",isExpanded:"<",isPersonalMode:"<",deleteConnection:"<"},controller:["addDataStateService","addDataConnectionsService","qvContextMenu",function(e,r,o){var a=this;a.addDataStateService=e;a.showDataMarket=false;a.showCatalog=i.getFlag("QVD_CATALOG");a.isElastic=i.getFlag("ELASTIC_DND");a.backgroundImage="url("+n.p+"img/connector-logos/DataMarket-Product-Icon.svg)";a.sharedFilesString=t.get("AddData.LeftNav.FileLocations");a.sharedFilesIcon="folder";a.$doCheck=function(){s()};a.$onChanges=function(e){if(a.connections){r.getDataMarketConnector().then(function(e){a.showDataMarket=!(!e||!e.canCreate)&&e.canCreate()});a.filteredConnections=a.connections.filter(function(e){return!e.connectorInstance.type.isFolderConnector&&"QvWebStorageProviderConnectorPackage.exe"!==e.connectorInstance.typeName&&"QvDataMarketConnector.exe"!==e.connectorInstance.typeName&&!e.connectorInstance.scriptOnly})}e.isPersonalMode&&a.isPersonalMode&&!a.isElastic&&(a.sharedFilesString=t.get("AddData.LeftNav.DesktopFiles"));if(a.isElastic){a.sharedFilesString=t.get("AddData.LeftNav.CloudDataFiles");a.sharedFilesIcon="cloud"}};function s(){var t=e.getCurrentState();switch(t.page){case e.STATES.STORAGE_PROVIDER:a.activeItem=t.params.name;break;case e.STATES.IN_APP:a.activeItem=t.params.name;break;case e.STATES.FILE_CONNECTION:a.activeItem=t.params.name;break;case e.STATES.SELECTION:a.activeItem=t.params.connection;break;default:a.activeItem=t.page;break}}a.openContextMenu=function(e,t){var n=o.menu();n.addItem({translation:"scripteditor.accordion.deleteconnection",tid:"delete",icon:"lui-icon lui-icon--bin",select:function e(){var n=t.connectorInstance||t;a.deleteConnection(n.id,n.name)}});o.show(n,{position:{x:e.pageX,y:e.pageY}})};a.navigateToNewConnection=function(){e.changeState(e.STATES.NEW_CONNECTION,{})};a.navigateToDatamarket=function(){e.changeState(e.STATES.DATAMARKET,{})};a.navigateToCatalog=function(){e.changeState(e.STATES.CATALOG,{})};a.navigateToFileConnection=function(){e.changeState(e.STATES.FILE_CONNECTION,{name:e.FILE_CONNECTION_TYPES.NATIVE_FILES})};a.navigateToAttachedFiles=function(){e.changeState(e.STATES.IN_APP,{name:e.IN_APP_TYPES.ATTACHED_FILES})};a.navigateToManualData=function(){e.changeState(e.STATES.IN_APP,{name:e.IN_APP_TYPES.MANUAL_DATA})};a.navigateToStorageProvider=function(t){e.changeState(e.STATES.STORAGE_PROVIDER,{name:t,existing:true})};a.navigateToSelection=function(t){e.changeState(e.STATES.SELECTION,{connection:t,existing:true})}}],template:r})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="add-data-navigation-list" ng-class="{\'collapsed\': !$ctrl.isExpanded}">\n\n\t\x3c!--<div class="new-connection" tid="create-new-connection" ng-click="$ctrl.navigateToNewConnection()" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.STATES.NEW_CONNECTION}">--\x3e\n\t\t\x3c!--<span class="image-container lui-icon  lui-icon&#45;&#45;add" q-title-translation="AddData.LeftNav.New"></span>--\x3e\n\t\t\x3c!--<span class="new-connection-text" ng-if="$ctrl.isExpanded" q-translation="AddData.LeftNav.New"></span>--\x3e\n\t\x3c!--</div>--\x3e\n\n\t<ul class="add-data-navigation-list-connections" ng-class="{\'collapsed\': !$ctrl.isExpanded}">\n\n\t\t<li tid="create-new-connection" class="new-connection" ng-click="$ctrl.navigateToNewConnection()" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.STATES.NEW_CONNECTION}">\n\t\t\t<span class="image-container lui-icon  lui-icon--add" q-title-translation="AddData.LeftNav.New"></span>\n\t\t\t<span class="new-connection-text" ng-if="$ctrl.isExpanded" q-translation="AddData.LeftNav.New"></span>\n\t\t</li>\n\n\t\t<li class="list-header" ng-if="$ctrl.isExpanded">\n\t\t\t<span q-translation="AddData.LeftNav.InApp"></span>\n\t\t</li>\n\n\t\t<li ng-if="$ctrl.attachedFilesEnabled" tid="connection-attachedFiles" ng-click="$ctrl.navigateToAttachedFiles()" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.IN_APP_TYPES.ATTACHED_FILES}">\n\t\t\t<span class="lui-icon  lui-icon--paperclip" q-title-translation="AddData.LeftNav.UploadedFiles"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t\t<span q-translation="AddData.LeftNav.UploadedFiles"></span>\n\t\t\t</span>\n\t\t</li>\n\n\t\t<li class="lui-list__item" tid="connection-manualdata" ng-click="$ctrl.navigateToManualData()" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.IN_APP_TYPES.MANUAL_DATA}">\n\t\t\t<span class="lui-icon lui-icon--edit"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t\t<span q-translation="AddData.LeftNav.ManualData"></span>\n\t\t\t</span>\n\t\t</li>\n\n\t\t<li class="list-header" ng-if="$ctrl.isExpanded && $ctrl.networkFilesEnabled">\n\t\t\t<span q-translation="AddData.LeftNav.FileLocations"></span>\n\t\t</li>\n\n\t\t<li class="lui-list__item" tid="connection-sharedfiles" ng-click="$ctrl.navigateToFileConnection()" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.FILE_CONNECTION_TYPES.NATIVE_FILES}" ng-if="$ctrl.networkFilesEnabled">\n\t\t\t<span class="lui-icon  lui-icon--{{$ctrl.sharedFilesIcon}}" ng-attr-title="{{$ctrl.sharedFilesString}}"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t\t<span ng-bind="$ctrl.sharedFilesString"></span>\n\t\t\t</span>\n\t\t</li>\n\n\t\t<li ng-repeat="connection in $ctrl.storageProviders" tid="connection-storage-{{$index}}" ng-click="$ctrl.navigateToStorageProvider(connection.name)" ng-class="{\'selected\': $ctrl.activeItem === connection.name}" qva-context-menu="$ctrl.openContextMenu($event, connection)">\n\t\t\t<span class="image-container connection-icon" ng-style="{\'background-image\': \'url(\' + connection.connectorImagePath + \')\'}"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t\t<span class="list-text-container-title">{{connection.providerName}}</span>\n\t\t\t\t<span class="list-text-container-subtitle">{{connection.name}}</span>\n\t\t\t</span>\n\n\t\t</li>\n\n\t\t<li class="list-header" ng-if="$ctrl.filteredConnections.length > 0">\n\t\t\t<span ng-if="$ctrl.isExpanded" q-translation="AddData.LeftNav.DataConnections"></span>\n\t\t\t<span class="divider-bar" ng-if="!$ctrl.isExpanded"><hr/></span>\n\t\t</li>\n\n\t\t<li ng-repeat="connection in $ctrl.filteredConnections" tid="connection-data-{{$index}}" ng-click="$ctrl.navigateToSelection(connection.connectorInstance.name)" ng-class="{\'selected\': $ctrl.activeItem === connection.connectorInstance.name}" qva-context-menu="$ctrl.openContextMenu($event, connection)">\n\t\t\t<span class="image-container connection-icon" ng-style="{\'background-image\': \'url(\' + connection.connectorInstance.connectorImagePath + \')\'}" ng-attr-title="{{connection.connectorInstance.name}}"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t\t<span class="list-text-container-title">{{connection.connectorInstance.connectorDisplayName|translate}}</span>\n\t\t\t\t<span class="list-text-container-subtitle">{{connection.connectorInstance.name}}</span>\n\t\t\t</span>\n\n\t\t</li>\n\n\t\t<li class="list-header" ng-if="$ctrl.showDataMarket || $ctrl.showCatalog" >\n\t\t\t<span ng-if="$ctrl.isExpanded" q-translation="AddData.LeftNav.DataContent"></span>\n\t\t\t<span class="divider-bar" ng-if="!$ctrl.isExpanded"><hr/></span>\n\t\t</li>\n\n\t\t<li class="lui-list__item" ng-click="$ctrl.navigateToCatalog()" ng-if="$ctrl.showCatalog" tid="connection-catalog" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.STATES.CATALOG}">\t\t\t\n\t\t\t<span class="lui-icon  lui-icon--grid"></span>\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t<span q-translation="AddData.Catalog.Title"></span>\n\t\t</span>\n\t\t</li>\n\n\t\t<li class="lui-list__item" ng-click="$ctrl.navigateToDatamarket()" ng-if="$ctrl.showDataMarket" tid="connection-datamarket" ng-class="{\'selected\': $ctrl.activeItem === $ctrl.addDataStateService.STATES.DATAMARKET}">\n\t\t\t<span class="image-container connection-icon" ng-style="{\'background-image\': $ctrl.backgroundImage}" q-title-translation="quickdataload.datamarket"></span>\n\n\t\t\t<span class="list-text-container" ng-if="$ctrl.isExpanded">\n\t\t\t<span q-translation="quickdataload.datamarket"></span>\n\t\t</span>\n\t\t</li>\n\n\t</ul>\n\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(103),n(1872),n(255)],r=function(e,t,i){e.componentDirective("qvAuthDataInclude",{destroyComponent:"="});e.nativeComponent("addDataNewConnection",{bindings:{connectors:"<",activeView:"=",searchFilter:"<",attachedFilesEnabled:"<",isSmall:"<"},controller:["$element","$timeout","addDataStateService",function(e,i,r){var o=this;var a="";o.smallIconView=true;o.searchFilter="";o.folderConnectors=[];o.otherConnectors=[];o.iconUrl=n.p+"img/connector-logos/add_data_drag.svg";function s(e){return e.sort(function(e,t){var n=e.getDisplayName()?e.getDisplayName():"";var i=t.getDisplayName()?t.getDisplayName():"";return n.localeCompare(i)})}o.$doCheck=function(){if(o.searchFilter!==a){a=o.searchFilter;i(function(){o.$onChanges()})}};o.$onChanges=function(){if(o.connectors){o.folderConnectors=[];o.otherConnectors=[];var e=[];o.connectors.forEach(function(t){if(!t.canCreate())return;if("datamarket"===t.getCategory()||t.isScriptOnly())return;if(o.searchFilter&&-1===t.getDisplayName().toLowerCase().indexOf(o.searchFilter.toLowerCase()))return;t.getNeedsConnect()||"internet"===t.getId()||t.isStorageProvider()?e.push(t):o.folderConnectors.push(t)});o.otherConnectors=s(e)}};o.folderConnectorClicked=function(e){t.trackEvent(t.customEvents.FOLDER_CLICK);e.isStorageProvider()?o.connectorClicked(e):r.changeState(r.STATES.FILE_CONNECTION,{name:r.IN_APP_TYPES.ATTACHED_FILES})};o.connectorClicked=function(e){t.trackEvent(t.customEvents.CONNECTOR_CLICKED,{id:e.getId(),name:e.getDisplayName(),category:e.getCategory()});r.changeState(r.STATES.NEW_CONNECTION,{connector:e.getId()})};o.attachFileClicked=function(){r.changeState(r.STATES.FILE_CONNECTION,{name:r.IN_APP_TYPES.ATTACHED_FILES,showPicker:true})};var l=null;function u(e){var t=e.dataTransfer||e.originalEvent&&e.originalEvent.dataTransfer;var n=e.target.files||t.files;return n?n[0]:null}function c(e){e.stopPropagation();e.preventDefault();if(l){i.cancel(l);l=null}i(function(){o.draggingOver=true})}function d(e){e.stopPropagation();e.preventDefault();if(e.relatedTarget)return;l&&i.cancel(l);l=i(function(){o.draggingOver=false},100)}function f(e){e.stopPropagation();e.preventDefault();var t=u(e);o.draggingOver=false;r.changeState(r.STATES.FILE_CONNECTION,{name:r.IN_APP_TYPES.ATTACHED_FILES,file:t})}function p(e){e.preventDefault()}o.$postLink=function(){var t=e.find("#add-data-drop-target");t.on("dragover",c);t.on("dragleave",d);t.on("drop",f);t.on("dragstart",p)};o.$onDestroy=function(){var t=e.find("#add-data-drop-target");t.off("dragover",c);t.off("dragleave",d);t.off("drop",f);t.off("dragstart",p)}}],template:i})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="heading" ng-show="$ctrl.attachedFilesEnabled" q-translation="AddData.NewConnection.UploadFiles"></div>\n\n<div class="add-data-drop" ng-show="$ctrl.attachedFilesEnabled" id="add-data-drop-target" ng-class="{\'dragging-over\': $ctrl.draggingOver, \'isSmall\': $ctrl.isSmall}" ng-click="$ctrl.attachFileClicked()">\n\t<img class="icon" ng-src="{{$ctrl.iconUrl}}">\n\n\t</img>\n\t<div class="description" q-translation="AddData.NewConnection.DragOrSelect">\n\t</div>\n</div>\n\n<div class="heading" q-translation="AddData.NewConnection.ConnectToDataSource"></div>\n\n<div class="connectors-toolbar">\n\t<div class="connectors-search">\n\t\t<lui-search query="$ctrl.searchFilter" auto-focus="focus" on-escape="$ctrl.searchFilter = \'\';" placeholder="quickdataload.connectors.ClickToSearch"/>\n\t</div>\n\t<div class="connectors-view-switch">\n\t\t<div class="lui-buttongroup">\n\t\t\t<button class="lui-button lui-button--toolbar" tid="add-data-connector-switch-view" ng-click="$ctrl.smallIconView = false" q-title-translation="quickdataload.connectors.LargeIconViewMode" ng-class="{\'lui-active\': !$ctrl.smallIconView }">\n\t\t\t\t<span class="lui-icon lui-icon--grid"></span>\n\t\t\t</button>\n\t\t\t<button class="lui-button lui-button--toolbar" tid="add-data-connector-switch-view" ng-click="$ctrl.smallIconView = true" q-title-translation="quickdataload.connectors.SmallIconViewMode" ng-class="{\'lui-active\': $ctrl.smallIconView }">\n\t\t\t\t<span class="logos-small"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n\n\x3c!-- Small Icons --\x3e\n<div class="connectors-logos" ng-if="$ctrl.smallIconView">\n\t<div ng-repeat="connector in $ctrl.otherConnectors track by $index" class="logo-item small" tid="qdl.connector.{{connector.getDisplayName()}}" ng-click="$ctrl.connectorClicked(connector)">\n\t\t<div class="name" title="{{connector.getDisplayName()}}">{{connector.getDisplayName()}}</div>\n\t\t<div class="icon" ng-style="{\'background-image\': \'url(\' + connector.getImagePath() + \')\'}"></div>\n\t</div>\n</div>\n\n\x3c!-- Large Icons --\x3e\n<div class="connectors-logos" ng-if="!$ctrl.smallIconView">\n\t<div ng-repeat="connector in $ctrl.otherConnectors track by $index" class="logo-item" tid="qdl.connector.{{connector.getDisplayName()}}" ng-click="$ctrl.connectorClicked(connector)">\n\t\t<div class="icon" ng-style="{\'background-image\': \'url(\' + connector.getImagePath() + \')\'}"></div>\n\t\t<div class="name" title="{{connector.getDisplayName()}}">{{connector.getDisplayName()}}</div>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(118),n(1874),n(1216),n(255)],r=function(e,t,n){e.nativeComponent("addDataAttachFiles",{bindings:{attachedFileConnection:"<",fileToUpload:"<",showFilePicker:"<"},controller:["addDataStateService",function(e){this.stepContext={visible:true};this.selectedFileName={name:null};this.onUploadedFileSelected=function(){var n=t.removeSurroundingSlashes(this.selectedFileName.name);e.changeState("selection",{connection:"AttachedFiles",filename:n})}}],template:n})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<qv-uploaded-data-files-view\n\t\tng-if="$ctrl.attachedFileConnection"\n\t\tupload-folder-connection="$ctrl.attachedFileConnection.connection.connectorInstance"\n\t\ton-file-selected="$ctrl.onUploadedFileSelected(name)"\n\t\tselected-file-name="$ctrl.selectedFileName"\n\t\tstep-context="$ctrl.stepContext"\n\t\tshow-file-picker-on-open="$ctrl.showFilePicker"\n\t\tfile-to-upload-on-first-load="$ctrl.fileToUpload"\n\t\tchoose-on-single-click="true">\n</qv-uploaded-data-files-view>'},function(e,t){e.exports='<qv-select-data-include\n\t\tng-if="$ctrl.initialSelectStep && $ctrl.connectorInput && $ctrl.connector"\n\t\tdata-qv-dialog-context=""\n\t\tdata-component="$ctrl.initialSelectStep"\n\t\tdata-input="$ctrl.connectorInput">\n</qv-select-data-include>\n\n<div class="add-data-selection-loading">\n\t<qv-spinner class="spinner" show="!$ctrl.initialSelectStep || !$ctrl.connectorInput || !$ctrl.connector" show-delay="200" show-for-at-least="500" spinner-height="200px" spinner-width="200px" center-in-parent="true"></qv-spinner>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(118),n(1877)],r=function(e,t,n){e.componentDirective("qvConnectStorageProviderInclude",{});e.nativeComponent("addDataStorageProvider",{bindings:{fileConnection:"<",connectorInput:"<"},controller:["addDataStateService",function(e){var n=this;n.$onChanges=function(){if(n.connectorInput){n.connectorInput.pathModel={path:""};n.connectorInput.continueWithNewConnection=function(n){var i=t.removeSurroundingSlashes(n.singleFileName);e.changeState(e.STATES.SELECTION_STORAGEPROVIDER,{connection:n.connectionName,filename:i,existing:n.usingExisting.toString()})};n.loaded||n.connectorInput.storageProvider.testSavedConnection().then(function(t){if(!t){e.changeState(e.STATES.NEW_CONNECTION,{edit:true,connectorid:n.connectorInput.storageProvider.id,connectionid:n.connectorInput.dataconnectorInstance.id,connectortype:n.connectorInput.dataconnectorInstance.type});return}n.loaded=true})}else n.loaded=false}}],template:n})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<qv-connect-storage-provider-include\n\t\tng-if="$ctrl.fileConnection && $ctrl.connectorInput && $ctrl.loaded"\n\t\tdata-qv-dialog-context="$ctrl.connectorInput.qvDialogContext"\n\t\tdata-component="$ctrl.fileConnection.getConnectStep()"\n\t\tdata-input="$ctrl.connectorInput">\n</qv-connect-storage-provider-include>\n\n<div class="add-data-selection-loading">\n\t<qv-spinner class="spinner" show="!$ctrl.loaded" show-delay="100" show-for-at-least="100" spinner-height="200px" spinner-width="200px" center-in-parent="true"></qv-spinner>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(118),n(1879),n(255)],r=function(e,t,n){e.componentDirective("qvConnectFileSourceInclude",{});e.nativeComponent("addDataFileSource",{bindings:{fileConnectionModel:"<"},controller:["addDataStateService",function(e){var n=this;n.activeEntryPoint=void 0;n.selectedFileName={name:null};n.$onInit=function(){e.registerStateChangedListener("file-source",function(){n.connectorInput&&e.updateLastUsedFileData(n.connectorInput.pathModel.path,n.connectorInput.dataconnectorInstance?n.connectorInput.dataconnectorInstance.id:"")})};n.$onChanges=function(){if(n.activeEntryPoint)return;if(n.fileConnectionModel){var i=e.getLastUsedFileData();var r=n.fileConnectionModel.fileConnections;var o=n.fileConnectionModel.fileConnector;i.dataConnectionId&&(o=r.filter(function(e){return e.connectorInstance.id===i.dataConnectionId})[0]);n.fileConnectionModel.fileConnector?n.activeEntryPoint=n.fileConnectionModel.fileConnector.getEntrypoint():n.activeEntryPoint=o?o.connectorMain.entrypoints[0]:r[0].connectorMain.entrypoints[0];n.connectorInput={canBrowseAll:n.fileConnectionModel.fileConnector&&n.fileConnectionModel.fileConnector.canCreate(),startPath:i.path,pathModel:{path:""},qvDialogContext:{},allFileConnections:r,dataconnectorInstance:o?o.connectorInstance:void 0,continueWithNewConnection:function n(i){var r=t.removeSurroundingSlashes(i.singleFileName);r=r.replace(/\\/g,"/");e.changeState("selection",{connection:e.FILE_CONNECTION_TYPES.NATIVE_FILES,filename:r,foldername:i.connectionName,existing:i.usingExisting.toString()})}}}};n.$onDestroy=function(){e.deregisterStateChangedListener("file-source")}}],template:n})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<qv-connect-file-source-include\n\t\tng-if="$ctrl.fileConnectionModel && $ctrl.connectorInput"\n\t\tdata-qv-dialog-context="$ctrl.context"\n\t\tdata-component="$ctrl.activeEntryPoint.initialConnectStep"\n\t\tdata-input="$ctrl.connectorInput">\n</qv-connect-file-source-include>\n\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(1881),n(255),n(1214)],r=function(e,t,n){e.componentDirective("qvDatamarketInclude",{});e.nativeComponent("addDataDatamarket",{bindings:{startLocation:"<"},controller:["$templateCache","addDataStateService","addDataConnectionsService",function(e,n,i){var r=this;r.templateLoaded=false;r.connector=void 0;r.connectorInput={};r.fullScreenView=true;r.$onInit=function(){r.startLocation?a(r.startLocation.connector,r.startLocation.node).then(function(){o()}):o()};r.connectorClicked=function(e){var n=t(e.currentTarget).scope().connector;a(n)};function o(){i.getDataMarketTemplate().then(function(t){e.put("datamarkettemplate",t.template);r.views=t.views;r.templateLoaded=true})}function a(e,t){return i.getServerSide(e.provider).then(function(i){r.connectorInput.serverside=i;r.connectorInput.qvDialogContext={next:function e(){},fullScreenView:r.fullScreenView,navigateToHome:function e(){r.connector=void 0;r.connectorInput={};n.changeState(n.STATES.DATAMARKET,{})}};r.connectorInput.qvxSelectedEntrypoint=t||e.entrypoint;r.connectorInput.initialConnectStep=e.entrypoint.initialConnectStep;r.connectorInput.continueWithNewConnection=function(t){n.updateLastUsedDataMarketConnector(e);n.changeState("selection",{connection:t.connectionName,existing:t.usingExisting,isDataMarket:true,additionalConnectionInput:t})};r.connector=e})}}],template:n})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div ng-if="$ctrl.templateLoaded && !$ctrl.connector" ng-include="\'datamarkettemplate\'"\n\t onload="views = $ctrl.views;\n\t \t\t fullScreenView = $ctrl.fullScreenView;\n\t \t\t connectorClicked = $ctrl.connectorClicked;">\n</div>\n\n<qv-datamarket-include\n\t\tng-if="$ctrl.connector"\n\t\tdata-component="$ctrl.connector.entrypoint.initialConnectStep"\n\t\tdata-input="$ctrl.connectorInput">\n</qv-datamarket-include>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1883),n(255),n(1884),n(1705)],r=function(e,t){e.nativeComponent("addDataTitleBar",{bindings:{theTitle:"<",type:"<",imagepath:"<",icon:"<",canGoBack:"<",menuActions:"<",showFilterTab:"<"},controller:["addDataStateService",function(e){var t=this;t.goBack=function(){e.goBackToLastState()}}],template:t})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='\n<div class="left-side">\n<button ng-if="$ctrl.canGoBack" class="lui-fade-button" ng-click="$ctrl.goBack()">\n\t<span class="lui-fade-button__icon  lui-icon lui-icon--direction-left"></span>\n</button>\n\n<div ng-if="$ctrl.imagepath" class="add-data-title-bar-image" ng-style="{\'background-image\': \'url(\' + $ctrl.imagepath + \')\'}"></div>\n<span ng-if="$ctrl.icon" class="lui-icon add-data-title-bar-image lui-icon--{{$ctrl.icon}}" aria-hidden="true"></span>\n\n<div class="add-data-title-bar-title">\n\t\t<div class="main">{{$ctrl.type|translate}}</div>\n\t\t<div class="sub" ng-if="$ctrl.theTitle">{{$ctrl.theTitle}}</div>\n</div>\n</div>\n\n<div class="right-side">\n\t<add-data-tabs-menu database-name="$ctrl.type" ng-if="$ctrl.showFilterTab"></add-data-tabs-menu>\n\t<add-data-action-menu ng-if="$ctrl.menuActions && $ctrl.menuActions.length > 0" actions="$ctrl.menuActions"></add-data-action-menu>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1885),n(255)],r=function(e,t){e.nativeComponent("addDataActionMenu",{bindings:{actions:"<"},controller:["luiPopover",function(e){var t=this;var n=false;var i='<lui-popover x-variant="{{::variant}}" x-arrow="arrow"> \t\t\t\t<lui-popover-body class="lui-nopad"> \t\t\t\t\t<ul class="lui-list"> \t\t\t\t\t<li class="lui-list__item" style="cursor: pointer" ng-repeat="action in actions"> \t\t\t\t\t<span class="lui-list__aside  lui-icon  lui-icon--{{action.icon}}"></span> \t\t\t\t\t<span class="lui-list__text lui-list__action" \t\t\t\t\t\tng-click="executeAction(action)" \t\t\t\t\t\tq-translation="{{action.label}}"> \t\t\t\t\t</span> \t\t\t\t\t</li> \t\t\t\t\t</ul> \t\t\t\t\t</lui-popover-body> \t\t\t\t\t</lui-popover>';var r;t.menuIsOpen=function(){return n};t.openMenu=function(o){if(r&&n){r.close();return}n=true;r=e.show({template:i,alignTo:o.target,outsideIgnore:"add-data-action-menu",controller:["$scope",function(e){e.actions=t.actions;e.executeAction=function(e){e.execute();r.close()}}],closeOnEscape:true});r.closed.then(function(){n=false})}}],template:t})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<button class="lui-fade-button add-data-action-menu"\n\t\tng-class="{\'lui-active\': $ctrl.menuIsOpen()}"\n\t\tng-click="$ctrl.openMenu($event)" qva-outside-ignore-for="add-data-action-menu">\n\t<span class="lui-button__icon  lui-icon  lui-icon--more"></span>\n</button>'},function(e,t){e.exports='<div class="filter-tab">\n    <ul class="lui-tabset filter-tab-menu" style="border-right: none;">\n        <li class="lui-tab filter-tab-item" ng-class="{\'lui-active\': !$ctrl.filterManagementService.isFilterPageVisible}" ng-click="$ctrl.showTables()" tid="add-data-header-table-tab">\n            <span class="lui-icon  lui-icon--database" aria-hidden="true"></span>\n            <span class="lui-tab__text" q-translation="DataManager.Filter.Tabs.Tables"></span>\n        </li>\n        <li class="lui-tab filter-tab-item" ng-class="{\'lui-active\': $ctrl.filterManagementService.isFilterPageVisible}" ng-click="$ctrl.showFilters()" tid="add-data-header-filter-tab">\n            <span class="lui-icon  lui-icon--filter" aria-hidden="true"></span>\n            <span class="lui-tab__text" q-translation="DataManager.Filter.Tabs.Filters"></span>\n            <span class="filter-tag" ng-if="$ctrl.filterCount">{{$ctrl.filterCount}}</span>\n        </li>\n    </ul>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1888),n(1889),n(51),n(1890),n(255),n(1088)],r=function(e,t,n,i,r){e.nativeComponent("addDataPrepareLoadButton",{bindings:{isDisabled:"<",connectorContext:"<",promptForFilters:"<"},controller:["$element","luiPopover","addDataStateService","addDataLoadService",function(e,t,o,a){var s=this;var l;var u;var c;s.determineIfDisabled=function(){if(s.isDisabled)return true;return o.getPrepareLoadDataModel().isPrepOn?s.connectorContext.nextDisabled():s.connectorContext.finishDisabled()};s.$postLink=function(){c=e.find(".add-data-button-drop")[0]};s.loadData=function(){if(o.getPrepareLoadDataModel().isPrepOn){s.connectorContext.connectorNextComplete=function(){a.prepareData(s.promptForFilters).then(function(e){e.cancelled||s._loadDataHandler()},function e(){})};s.connectorContext.next&&s.connectorContext.next()}else{s.connectorContext.connectorFinishComplete=function(){a.loadData(s.promptForFilters).then(function(e){e.cancelled||s._loadDataHandler()},function e(t){i.show(r,{analysis:t})})};s.connectorContext.finish&&s.connectorContext.finish()}};s._loadDataHandler=function(){o.hideAddData();o.changeState("newconnection",{})};s.showLoadPrepareMenu=function(){if(l&&u){l.close();return}var e={template:n,input:this,controller:["$scope","addDataStateService",function(e,t){e.prepareLoadDataModel=t.getPrepareLoadDataModel()}],dock:"bottom",alignTo:c,closeOnResize:true,outsideIgnore:"add-data-button-drop"};u=true;l=t.show(e);l.closed.then(function(){u=false})}}],template:t})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-buttongroup">\n\t<lui-button tid="prepare-data-button-more" ng-disabled="$ctrl.determineIfDisabled()" class="add-data-button-drop" id="add-data-button-drop" qva-outside-ignore-for="add-data-button-drop" ng-click="$ctrl.showLoadPrepareMenu()">\n\t\t<span class="lui-icon  lui-icon--more" aria-hidden="true"></span>\n\t</lui-button>\n\t<lui-button tid="prepare-data-button" ng-disabled="$ctrl.determineIfDisabled()" class="add-data-button" ng-click="$ctrl.loadData()">\n\t\t<span class="prepare-data-button-text" q-translation="AddData.BottomBar.AddDataButton"></span>\n\t</lui-button>\n</div>'},function(e,t){e.exports='<lui-popover class="add-data-prepare-load-dialog" x-arrow="arrow">\n\n\t<lui-popover-body class="add-data-prepare-load-dialog-body">\n\n\t\t<div class="switch-container">\n\t\t\t<div class="switch-container-left">\n\t\t\t\t<div q-translation="AddData.ProfilingDialog.DataProfiling"></div>\n\t\t\t\t<div q-translation="AddData.ProfilingDialog.ProfilingEnabled" class="status" ng-if="prepareLoadDataModel.isPrepOn"></div>\n\t\t\t\t<div q-translation="AddData.ProfilingDialog.ProfilingDisabled" class="status" ng-if="!prepareLoadDataModel.isPrepOn"></div>\n\t\t\t</div>\n\n\t\t\t<lui-switch class="add-data-prepare-load-dialog-switch" x-model="prepareLoadDataModel.isPrepOn" x-disabled="prepareLoadDataModel.isNoDataMode()" id="add-data-prepare-load-dialog-switch"></lui-switch>\n\t\t</div>\n\n\t\t<div class="text" q-translation="AddData.ProfilingDialog.ProfilingEnabledDetail" ng-if="prepareLoadDataModel.isPrepOn"></div>\n\t\t<div class="text" q-translation="AddData.ProfilingDialog.ProfilingDisabledDetail" ng-if="!prepareLoadDataModel.isPrepOn"></div>\n\n\t</lui-popover-body>\n\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(1891),n(91)],r=function(e,t){return{template:e,controller:["$scope","analysis",function(e,n){function i(){e.destroyComponent();e.deferredResult.resolve()}var r={title:"Common.Close",disabled:false,focus:false,tid:"dataValidationResults.close",eventHandler:function e(){i()}};e.onEnter=i;e.onEscape=i;e.buttons=[r];e.validationHeading="";e.validationMessage="";function o(){if(!n.canLoadData){e.validationHeading=t.get("AnalyzeModel.title");e.validationMessage=t.get("AnalyzeModel.warning.cannotAdd")}}o()}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-data-validation-results qv-modal-container qui-modalbackground" qva-outside-ignore-for="allOutside" ng-style="containerStyle">\n\t<div class="lui-dialog" qv-global-escape="onEscape()" qv-global-enter="onEnter()">\n\t\t<div class="lui-dialog__header">\n\t\t\t<div class="lui-dialog__title">{{validationHeading}}</div>\n\t\t</div>\n\t\t<div class="lui-dialog__body dm-main">\n\t\t\t<div>{{validationMessage}}</div>\n\t\t</div>\n\t\t<div class="lui-dialog__footer dm-footer">\n\t\t\t<div class="button-wrap">\n\t\t\t\t<lui-button ng-repeat="button in buttons" tid="{{ button.tid }}" class="qui-button" ng-click="button.eventHandler()" ng-disabled="button.disabled" q-translation="{{ button.title }}" qva-focus="button.focus"></lui-button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1893),n(255),n(1088)],r=function(e,t){e.nativeComponent("addDataCatalogNextButton",{bindings:{isDisabled:"<",connectorContext:"<"},controller:["addDataStateService","addDataLoadService",function(e,t){var n=this;n.determineIfDisabled=function(){return!e.areCatalogItemsSelected()};n.loadData=function(){var n=e.getSelectedCatalogItems();t.loadMultipleFiles(n).then(function(){e.hideAddData();e.changeState("newconnection",{})})}}],template:t})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-button tid="catalog-next-button" ng-disabled="$ctrl.determineIfDisabled()" class="add-data-button" ng-click="$ctrl.loadData()">\n\t\t<span class="prepare-data-button-text" q-translation="AddData.BottomBar.Next"></span>\n</lui-button>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1706),n(1708),n(1707)],r=function(e,t,n){e.directive("qvGenericSelectDialog",function(){return{restrict:"E",replace:true,template:"<div><qva-include data-component='genericSelectDialog' ng-if='!!provider && !!dataconnectionSelectionEditor' data-input='genericSelectDialogInput'/></div>",scope:{dataconnectionSelectionEditor:"=",provider:"=",options:"=",qvDialogContext:"=",qvInternals:"="},controller:["$scope",function(e){var i=new n(e.provider,e.dataconnectionSelectionEditor,e.qvInternals.newAssociationsModel,e.qvInternals.dataPreviewProvider);var r={insertCode:function e(){}};var o={generateScriptForSelections:function e(){}};e.destroyComponent=function(){e.close()};e.genericSelectDialog=t;e.genericSelectDialogInput={dataSelectionModel:i,scriptGenerator:o,scriptEditorProxy:r,associationsModel:e.qvInternals.newAssociationsModel,inlineMode:true,options:e.provider.fileSelectOptions||e.provider.selectOptions||{},qvDialogContext:e.qvDialogContext,cancel:e.cancel};e.genericSelectDialogInput.options.quickLoadContext=true}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div tid="hdlm-generic-select" ng-class="{\'generic-select-dialog-smallmode\': isSmallMode()}">\n    <div ng-class="{\'qui-modalbackground\':!inlineMode, genericSelectDialogBackdrop:!inlineMode}">\n        <div ng-class="{\'qui-delayedModal\':!inlineMode, genericSelectDialog:\'true\', genericSelectPanel:inlineMode, \'showScriptPreview-false\':!showScriptPreview, \'showScriptPreview-true\':showScriptPreview, \'isTableListDisabled-true\':isTableListDisabled(), \'isFieldListDisabled-true\':isFieldListDisabled()}" data-selectedowner="{{selectedOwnerName}}" data-editmode="{{inEditMode}}">\n            <header class="dm-header">\n                <h1 ng-show="options.selectFromTitleName" ng-bind="options.selectFromTitleNameTranslated"></h1>\n\n                <h1 ng-hide="options.selectFromTitleName" q-translation="scripteditor.dataconnectors.dialog.titlewithoutname"></h1>\n            </header>\n            <main class="dm-main maindialogarea" tabindex="-1">\n                <div class="databaseSetting" ng-show="options.databaseVisible && !inEditMode" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n                    <div class="title">{{options.databaseTitle | translate}}</div>\n                    <lui-select x-model="selectedDatabase" x-options="database.name for database in databases" x-disabled="isDatabaseDisabled()" tid="selectedDatabase">\n                        <option value="">{{options.databasePlaceholder | translate}}</option>\n                    </lui-select>\n                </div>\n                <div class="ownerSetting" data-databaseisvisible="{{options.databaseVisible}}" ng-show="options.ownerVisible && (!inEditMode || !isOwnerDisabled())" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n                    <div class="title">{{options.ownerTitle | translate}}</div>\n                    <lui-select x-model="selectedOwner" x-options="owner as owner.label for owner in owners" x-disabled="isOwnerDisabled() || cancelIsInProgress" tid="selectedOwner">\n                        <option ng-disabled="options.ownerPlaceholder.length==0" ng-hide="options.ownerPlaceholder.length==0" value="">{{options.ownerPlaceholder | translate}}</option>\n                    </lui-select>\n                </div>\n                <div class="top-right" data-databaseisvisible="{{options.databaseVisible}}" ng-show="isSelectionsListShown()" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n                    <div class="title"><span q-translation="scripteditor.dataconnectors.selectionsMade"> </span></div>\n                    <div class="dbSelections">\n                        <table>\n                            <tr class="dbRow"\n                                ng-class="{true: \'selected\'}[dbownerentry.database.name === selectedDatabase.name && dbownerentry.owner.name === selectedOwner.name]"\n                                ng-repeat="dbownerentry in getExistingDatabaseSelections()">\n                                <td class="database">\n                                    <a ng-click="onDbOwnerEntryClick(dbownerentry)"> {{dbownerentry.database.name}} </a>\n                                </td>\n                                <td class="owner">\n                                    <a ng-click="onDbOwnerEntryClick(dbownerentry)"> {{dbownerentry.owner.name}}</a>\n                                </td>\n                                <td class="columnCount">\n                                    <span ng-click="onDbOwnerEntryClick(dbownerentry)" q-translation="scripteditor.dataconnectors.selection.table|scripteditor.dataconnectors.selection.tables,{{dbownerentry.selectionStats.tableCount}}"></span>\n                                </td>\n                                <td class="columnCount">\n                                    <span ng-click="onDbOwnerEntryClick(dbownerentry)" q-translation="scripteditor.dataconnectors.selection.field|scripteditor.dataconnectors.selection.fields,{{dbownerentry.selectionStats.fieldCount}}"></span>\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                </div>\n\n\t\t\t\t<div class="{{options.tablesLocation}}" ng-show="options.tablesVisible && !gettingTables" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n\n                    <div class="title-container">\n                    <div class="title"> {{options.tablesTitle |translate}}</div>\n\n                    <button class="lui-fade-button"\n                            ng-click="toggleTableListExpansion()">\n                        <span class="lui-button__icon  lui-icon" ng-class="{\'lui-icon--direction-right\': !isTableListExpanded(), \'lui-icon--direction-left\': isTableListExpanded()}"></span>\n                    </button>\n                    </div>\n\n                    <div class="table-search-container">\n                    <lui-search class="table-search"\n                                autocapitalize="off"\n                                autocorrect="off"\n                                autocomplete="off"\n                                x-disabled="isTableListDisabled() || cancelIsInProgress"\n                                query="tableFilter" on-escape="tableFilter = \'\';" placeholder="scripteditor.dataconnectors.tables.filter.placeholder"></lui-search>\n                    </div>\n\n\n                    <div class="table-panel borderbox">\n                        <ul class="table-list borderbox" vs-repeat>\n\n                            <li ng-repeat="table in tables" class="fieldsChecked-{{table.fieldsChecked}} selected-{{isTableSelected(table)}}" ng-click="onTableShowClick($event)" tid="styledTableRow">\n                                <div class="table-list-container ">\n\n                                    <label class="lui-checkbox" ng-disabled="isTableListDisabled()">\n                                        <input class="lui-checkbox__input" type="checkbox" ng-hide="options.forceSelectTables" ng-click="onTableCheckboxClick($event)" qva-indeterminate="table.indeterminate" ng-checked="table.checked" tid="selectTable" ng-disabled="isTableListDisabled()" />\n                                        <div class="lui-checkbox__check-wrap">\n                                            <span class="lui-checkbox__check"></span>\n                                        </div>\n                                    </label>\n\n                                    <div class="tableName" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}" title="{{table.name}}" tid="tableNameInList">\n                                        <span gsd-highlight-term="tableFilter" gsd-highlight-content="table.name"></span>\n                                    </div>\n\n                                    <div class="tableInfo"> {{table.nbrOfCheckedFields}}</div>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="{{options.specialTableSettingsLocation}} special-table-settings-part" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n                    <div gsd-include-addon-content component="options.specialTableSettings"\n                         database-name="selectedDatabaseName"\n                         owner-name="selectedOwnerName"\n                         table-name="selectedTableName"\n                         on-refresh="onSpecialTableSettingsUpdated()">\n                    </div>\n                </div>\n                <div class="table-panel-properties-part tabel-panel-properties-notables-{{options.tablesVisible}}" ng-show="options.showTablePanel && selectedTable" ng-class="{ \'table-list-expanded\': isTableListExpanded() }">\n                    <span class="table-title title">{{selectedTable.name}}</span>\n                    <div class="table-line-separator"></div>\n                    <div ng-show="hasTableRowCount(selectedTable)" class="filter-status-pane-position filter-status-pane-position-expanded-{{ selectedTable.showTableProperties}}"> \n                        <span class="icon-filter-preview-mismatch-warning" ng-show="isTableFilterDirty(selectedTable)"></span>\n                        <span class="filter-status-summary-padding"\n                              ng-show="selectedTable.showTableProperties && isTableFilterDirty(selectedTable)"\n                              q-translation="scripteditor.dataconnectors.table.filter.dirty"\n                              q-title-translation="scripteditor.dataconnectors.table.filter.dirty">\n                        </span>\n                        <span class="filter-status-summary-padding" ng-hide="selectedTable.showTableProperties || !selectedTable.loadProperties.filterInfo.filterClause">({{selectedTable.loadProperties.filterInfo.filterClause}})</span>\n                        <span q-translation="Common.Rows"></span>\n                        <span>:</span>\n                        <span>{{selectedTable.filteredSourceRowCount}}</span>\n                        <span ng-show="hasTableRowsFiltered(selectedTable)">/</span>\n                        <span ng-show="hasTableRowsFiltered(selectedTable)">{{selectedTable.sourceRowCount}}</span>\n                    </div>\n                    <div class="filter-input-container">\n                        <input class="filter-text-input lui-input" ng-disabled="showFieldDataLoader()" q-placeholder="scripteditor.dataconnectors.table.filter.placeholder" ng-model="selectedTable.loadProperties.filterInfo.filterClause" ng-show="selectedTable.showTableProperties" />\n                        <button class="appy-button-position btn lui-overlay-button-with-text lui-button" ng-disabled="showFieldDataLoader() || !isTableFilterDirty(selectedTable)" ng-click="onPreviewDataWithFilter()" ng-show="selectedTable.showTableProperties" q-translation="Common.Apply"></button>\n                    </div>\n                    <div ng-click="selectedTable.showTableProperties = !selectedTable.showTableProperties">\n                        <button type="button" tid="expandTablePropertiesButton" class="filter-data-group-button qui-smalliconbutton buttoniconcommand lui-icon {{ selectedTable.showTableProperties ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></button>\n                        <div class="filter-data-group-label" q-translation="scripteditor.dataconnectors.table.filter.header"></div>\n                    </div>\n                </div>\n\n                <div class="field-part" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext, \'field-part-with-assocations\': selectedTable.hasAssociations(), \'field-part\':\'true\', \'field-part-with-table-properties-panel\': options.showTablePanel, \'field-part-with-table-properties-panel-expanded\': selectedTable.showTableProperties}">\n                    <div class="title" ng-class="{tweakfieldtitlefornotabs: !options.metadataVisible && !(!options.tablesVisible && options.fieldsAreSelectable)}">{{options.fieldsTitle |translate}}</div>\n                    <div class="field-list-mode-buttons" data-editmode="inEditMode">\n                        <div class="selectAllContainer" ng-show="(!options.tablesVisible && options.fieldsAreSelectable) || inEditMode">\n                            <label class="lui-checkbox">\n                                <input class="lui-checkbox__input" id="selectAllFields" type=\'checkbox\' indeterminate="selectedTable.indeterminate" ng-disabled="!selectedTable || cancelIsInProgress" ng-checked="selectedTable.checked" tid="selectAllFields" ng-click="onSelectAllFieldsCheckboxClick()">\n\n                                <div class="lui-checkbox__check-wrap">\n                                    <span class="lui-checkbox__check"></span>\n                                </div>\n\n                                <label for=\'selectAllFields\' q-translation="scripteditor.dataconnectors.selectallfields"></label>\n                                </input>\n\n                            </label>\n                        </div>\n                        <button class="lui-button right-button" ng-class="{ \'lui-active\': !dataview }" ng-show="options.metadataVisible" ng-click="onMetaDataClick()" q-translation="scripteditor.dataconnectors.metadata" ng-disabled="isFieldListDisabled() || previewTooLarge" tid="selectMetadata"></button>\n                        <button class="lui-button left-button" ng-class="{ \'lui-active\' : dataview }" ng-if="!options.quickLoadContext || inlineMode" ng-show="options.metadataVisible" ng-click="onDataPreviewClick()" q-translation="scripteditor.dataconnectors.datapreview" ng-disabled="isFieldListDisabled() || previewTooLarge" tid="selectPreview">Data</button>\n                        \x3c!-- options for the fixed width view --\x3e\n                        <button class="lui-button showfixedwidthguicanvas right-button" ng-class="{\'lui-active\':options.showfixedwidthguicanvas}" ng-click="options.showfixedwidthguicanvas = true" q-translation="scripteditor.dataconnectors.showfixedwidthguicanvas" tid="selectedFixedWidthGUI"></button>\n                        <button class="lui-button showfixedwidthguicanvas left-button" ng-class="{\'lui-active\':!options.showfixedwidthguicanvas}" ng-click="options.showfixedwidthguicanvas = false" q-translation="scripteditor.dataconnectors.datapreview" tid="selectedFixedWidthDataPreview"></button>\n\n                        <div class="after"></div>\n                    </div>\n                    <div class="field-list-mode-buttons" ng-hide="options.metadataVisible">\n                    </div>\n\n                    <lui-search class="field-search"\n                                autocapitalize="off"\n                                autocorrect="off"\n                                autocomplete="off"\n                                x-disabled="isFieldListDisabled() || cancelIsInProgress"\n                                query="fieldFilter"\n                                on-escape="fieldFilter = \'\';" placeholder="scripteditor.dataconnectors.fields.filter.placeholder"></lui-search>\n\n\n                    <div class="table-container-panel">\n                        <div ng-if="!previewTooLarge" class="table-scroll-area" ng-class="{\'overflow-hidden\': showFieldDataLoader()}">\n                            <table ng-if="dataview && !previewTooLarge" class="datapreviewgrid">\n                                <tr>\n                                    <th ng-repeat="field in fields" class="selected-{{field.checked}}" tid="styledDataViewFieldName">\n                                        \x3c!--<input id="fieldcheckbox{{$index}}" type="checkbox" ng-checked="field.checked" tid="selectFieldInPreview" ng-show="options.fieldsAreSelectable"/>--\x3e\n                                        <div class="field-header">\n                                            <label class="lui-checkbox">\n                                                <input class="lui-checkbox__input" type="checkbox" id="fieldcheckbox{{$index}}" class="hidden-checkbox" ng-click="onFieldClick($event)" ng-checked="field.checked" tid="selectFieldInPreview" ng-show="options.fieldsAreSelectable">\n                                                <div class="lui-checkbox__check-wrap">\n                                                    <span class="lui-checkbox__check"></span>\n                                                </div>\n                                            </label>\n\n                                            <div class="labelcontainer">\n                                                <div gsd-highlight-term="fieldFilter" gsd-highlight-content="field.alias"></div>\n                                                <input maxlength="256" ng-model="field.alias" ng-attr-title="{{field.alias}}" qva-model-onblur size="{{field.alias.length+2}}" onclick="event.stopPropagation();" ng-show="options.allowFieldRename" ng-disabled="!options.allowFieldRename" tid=\'fieldAlias\' />\n                                            </div>\n                                            <span class="icon" ng-show="field.key">\n                                                <i class="icon-primarykey"></i>\n                                            </span>\n                                        </div>\n                                    </th>\n                                </tr>\n                                \x3c!-- Steve: Wired off for now (MS12 - need to revisit)\n                                                <tr ng-if="selectedTable.hasAssociations()">\n                                                        <th ng-repeat="field in fields" class="selected-{{field.checked}}">\n                                                            <div ng-repeat="associatedTable in field.associationInfo.tables" ng-show="associatedTable.key != selectedTable._loadModelTableEditor.data.key">\n                                                                <div class="associated-table-tiny-box" ng-class="{\'selected-associated-table-tiny-box\':field.checked}">\n                                                                    &#10149; {{associatedTable.tableName}}\n                                                                </div>\n                                                            </div>\n                                                        </th>\n                                                    </tr>\n                                --\x3e\n                                <tr ng-repeat="row in preview track by row.rowNbr">\n                                    <td ng-attr-title="{{cell.v}}" ng-click="onFieldClick($event)" ng-repeat="cell in row track by cell.cellNbr">{{cell.v}}&nbsp;</td>\n                                </tr>\n                            </table>\n                            <div class="preview-too-large" ng-show="dataview && previewTooLarge" q-translation="scripteditor.dataconnectors.selection.preview-too-large"></div>\n                            <table ng-if="!dataview && !previewTooLarge" class="metadatagrid">\n                                <tr ng-show="fields.length > 0">\n                                    <th q-translation="scripteditor.dataconnectors.columname"></th>\n                                    <th q-translation="scripteditor.dataconnectors.primarykey"></th>\n                                </tr>\n                                <tr ng-repeat="field in fields">\n                                    <td class="columnname selected-{{field.checked}}" tid="styledMetadataFieldName">\n\n                                        <label class="lui-checkbox" ng-class="{\'lui-disabled\': isOkDisabled() }">\n                                            <input class="lui-checkbox__input" type="checkbox" ng-checked="field.checked" ng-click="onFieldClick($event)" tid="selectFieldInMetadata" />\n                                            <div class="lui-checkbox__check-wrap">\n                                                <span class="lui-checkbox__check"></span>\n                                                <span gsd-highlight-term="fieldFilter" gsd-highlight-content="field.alias"></span>\n                                            </div>\n                                        </label>\n                                    </td>\n                                    <td class="selected-{{field.checked}}" q-translation="{{field.key ? \'Common.Yes\' : \'Common.No\'}}"></td>\n                                </tr>\n                            </table>\n                        </div>\n\n                        <div ng-if="previewTooLarge" class="preview-too-large-container borderbox">\n                            <div class="preview-field-name-title-container">\n                                <span class="preview-field-name-title" q-translation="scripteditor.dataconnectors.columname"></span><span class="preview-disabled-text" q-translation="scripteditor.dataconnectors.selection.preview-too-large"></span>\n                            </div>\n                            <div class="preview-too-large-content">\n                                <div class="preview-too-large-grid" vs-repeat>\n                                    <div class="item" ng-repeat="field in fields">\n\n                                        <label class="lui-checkbox columnname">\n                                            <input class="lui-checkbox__input" type="checkbox" ng-click="onFieldClick($event)" ng-checked="field.checked" tid="selectFieldInMetadata" />\n                                            <div class="lui-checkbox__check-wrap">\n                                                <span class="lui-checkbox__check"></span>\n                                                <span class="lui-checkbox__check-text">{{field.alias}}</span>\n                                            </div>\n                                        </label>\n\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="field-loader" ng-show="showFieldDataLoader()">\n                            <div class="qv-loader"></div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="scriptpreviewcontainer" ng-show="showScriptPreview" ng-class="{\'table-list-expanded\': isTableListExpanded(), \'in-dle\': !options.quickLoadContext}">\n                    <pre class="scriptpreview" ng-disabled="cancelIsInProgress">{{getScriptPreview()}}</pre>\n                </div>\n                <div id="fixedwidthguicontainer" class="fixedwidthguicontainer" ng-show="options.showfixedwidthguicanvas">\n                    \x3c!-- place holder for the fixed width gui canvas --\x3e\n                </div>\n                <button class="lui-button scriptpreviewtoggle" ng-if="!options.quickLoadContext && !inlineMode" ng-class="{ \'lui-active\': showScriptPreview }" ng-disabled="cancelIsInProgress" ng-click="onToggleScriptPreview()" q-translation="{{showScriptPreview ? \'scripteditor.dataconnectors.hidescriptpreview\' : \'scripteditor.dataconnectors.showscriptpreview\'}}"></button>\n            </main>\n            <footer class="dm-footer footer qui-dark">\n                <div class="dialog-buttons">\n                    <lui-button x-variant="inverse" ng-click="$event.preventDefault(); onOK()" ng-hide="inlineMode || options.quickLoadContext" q-translation="{{options.quickLoadContext? \'scripteditor.dataconnectors.quickdataimport\' : \'scripteditor.dataconnectors.addToScript\'}}" ng-disabled="isAddScriptButtonDisabled()" tid="closeGenericSelectDialog"></lui-button>\n                    <lui-button x-variant="inverse" ng-click="$event.preventDefault(); onCancel()" ng-hide="inlineMode" ng-disabled="cancelIsInProgress" qqva-focus="true" q-translation="Common.Cancel"></lui-button>\n\n                    \x3c!-- beg of checkbox for load statement --\x3e\n                    <label class="lui-checkbox  lui-checkbox--inverse" ng-show="options.precedingLoadVisible && !inlineMode">\n                        <input class="lui-checkbox__input" type="checkbox" tid="precedingLoad" ng-model="precedingLoad">\n\n                        <div class="lui-checkbox__check-wrap">\n                            <span class="lui-checkbox__check"></span>\n                            <span class="lui-checkbox__check-text" q-translation="scripteditor.dataconnectors.precedingload">#precedingload#</span>\n                        </div>\n                    </label>\n                    \x3c!-- end of checkbox for load statement --\x3e\n                </div>\n            </footer>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(119)],r=function(e){e.directive("quiSelect",function(){return{restrict:"E",replace:true,transclude:false,scope:true,template:'<div style="margin-right: 20px;"><lui-select x-model="prop.value" tid="{{prop.name}}" x-options="option.value as option.name for option in prop.inputOptions.items" x-disabled="!prop.isEnabled" qui-show="prop.isVisible" ng-show="prop.isVisible"></lui-select></div>',controller:[function(){}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="table-filter-container" tid="table-filter-container">\n    <div class="subcontainer">\n        <div class="filterpane-root">\n        \n            <div class="flex-columns filter-table-header">\n                <div class="column table-column" q-translation="DataManager.Filter.Header.Table"></div>\n                <div class="column field-column" q-translation="DataManager.Filter.Header.Field"></div>\n                <div class="column condition-column" q-translation="DataManager.Filter.Header.Condition"></div>\n                <div class="column value-column" q-translation="DataManager.Filter.Header.Value"></div>\n            </div>\n\n            <div class="tables-container">\n                <div class="filter-tables-list" ng-repeat="table in $ctrl.sessionTables.tables">\n                    <qv-data-manager-filter-builder class="filter-builder-container" table="table" new-selections="$ctrl.newSelections" load-model="$ctrl.loadModel"></qv-data-manager-filter-builder>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(54),n(48),n(1899),n(1358),n(1159),n(1900)],r=function(e,t,n,i,r){var o={bindings:{table:"=",newSelections:"<",loadModel:"<"},template:i,controller:["addDataFilterManagementService","$scope",function(n,i){var o=this;var a={};o.$onInit=function(){o.operations=r;o.targetTable=t.find(o.loadModel.targetTableModels,function(e){return e.data.tableRef===o.table.id});o.advancedDropdownOptions={items:[],isStaticCollection:false,collectionProperty:"",hideDownArrow:true};t.each(o.newSelections,function(e){a[e.id]=e});o.collapsed=false;o.actualFieldList=[];o.sessionFieldList=[];o.actualFieldListHashMap={};o.sessionFieldListHashMap={};t.each(o.newSelections,function(e){e.id===o.table.id&&t.each(e.fields,function(e){o.actualFieldList.push({id:e.id,name:e.alias});o.actualFieldListHashMap[e.id]={id:e.id,name:e.alias}})});var e=!!o.table.filter;e?o.table=n.synchronizeFields(o.table,a[o.table.id]):o.table["filter"]={operands:[],operator:"and"};t.each(o.table.fields,function(e){if(e.selected){o.sessionFieldList.push({id:e.id,name:e.alias});o.sessionFieldListHashMap[e.id]={id:e.id,name:e.alias}}else if(!e.selected&&o.table.disabled){o.actualFieldList.push({id:e.id,name:e.alias});o.actualFieldListHashMap[e.id]={id:e.id,name:e.alias}}})};o.setInputState=function(t,n){switch(n){case"hoverOut":e(t.currentTarget).find(".filter-select").addClass("not-active");e(t.currentTarget).find(".advanced-dropdown__input").removeClass("active");break;case"focus":case"hoverIn":e(t.currentTarget).find(".advanced-dropdown__input").addClass("active");e(t.currentTarget).find(".filter-select").removeClass("not-active");break;default:e(t.currentTarget).find(".filter-select").removeClass("not-active");break}};o.filterUpdated=function(){o.targetTable&&o.targetTable.setUpdateStatus()};o.addFilter=function(){var e={fieldId:o.sessionFieldList[0].id,operator:r.CONTAINS.value,literalValues:[]};var t=!!o.table.filter.operands;t||(o.table.filter.operands=[]);o.table.filter.operands.push(e);o.filterUpdated();i.$emit("filterCountUpdated")};o.deleteFilter=function(e){o.table.filter.operands.splice(e,1);o.filterUpdated();i.$emit("filterCountUpdated")};i.$on("filterValueUpdated",function(){o.filterUpdated()});o.collapseTable=function(){o.collapsed=!o.collapsed}}]};n.nativeComponent("qvDataManagerFilterBuilder",o)}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="table-filter-field flex-columns no-pad">\n\n    <div class="flex-columns pad-bottom">\n        \n        <div class="column table-name">\n            <span ng-attr-title="{{ $ctrl.table.tableName }}" ng-bind="$ctrl.table.tableName" ></span>\n        </div>\n\n        <div class="flex-columns field-row no-pad">\n            <div class="flex-columns filter-column" ng-repeat="filter in $ctrl.table.filter.operands" ng-focus="$ctrl.setInputState($event, \'focus\')" ng-mouseover="$ctrl.setInputState($event, \'hoverIn\')" ng-mouseleave="$ctrl.setInputState($event, \'hoverOut\')">\n\n                <div class="column field-column">\n                    <select ng-if="$ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled" ng-change="$ctrl.filterUpdated()" ng-class="{\'disabled\': $ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled}" class="lui-select filter-select field-select not-active" ng-disabled="$ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled" ng-model="$ctrl.table.filter.operands[$index].fieldId">\n                        <option  ng-repeat="field in $ctrl.actualFieldList" value="{{ field.id }}" ng-bind="field.name"></option>\n                    </select>\n                    \n                    <select ng-if="!$ctrl.table.filter.operands[$index].disabled && !$ctrl.table.disabled" ng-change="$ctrl.filterUpdated()" class="lui-select filter-select field-select not-active" ng-model="$ctrl.table.filter.operands[$index].fieldId">\n                        <option ng-repeat="field in $ctrl.sessionFieldList" value="{{ field.id }}" ng-bind="field.name"></option>\n                    </select>\n                </div>\n                <div class="column condition-column">\n                    <select class="lui-select filter-select basic-operator-select not-active" ng-change="$ctrl.filterUpdated()" ng-class="{\'disabled\': $ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled}" ng-disabled="$ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled" ng-model="$ctrl.table.filter.operands[$index].operator">\n                        <option value="contains">=</option>\n                        <option value=">">&gt;</option>\n                        <option value="<">&lt;</option>\n                        <option value=">=">&gt;=</option>\n                        <option value="<=">&lt;=</option>\n                    </select>\n                </div>\n                <div class="column">\n                    \n                    <div class="flex-columns value-column">\n                        \n                        <div class="column">\n                            <qv-advanced-dropdown value-model="$ctrl.table.filter.operands[$index].literalValues" max-selections="$ctrl.table.filter.operands[$index].operator === $ctrl.operations.CONTAINS.value ? 1000 : 1" options="$ctrl.advancedDropdownOptions" read-only="$ctrl.table.filter.operands[$index].disabled || $ctrl.table.disabled"></qv-advanced-dropdown>\n                        </div>\n                        \n                        <div class="column filter-action-button">\n                            <button class="lui-fade-button tooltip-trigger" ng-if="!$ctrl.table.filter.operands[$index].literalValues.length" aria-haspopup="true" q-title-translation="DataManager.Filter.InvalidFilterWarning">\n                                <span class="filter-incomplete-warning lui-fade-button__icon  lui-icon lui-icon--warning-triangle"></span>\n                            </button>\n                        </div>\n                        \n                        <div class="column filter-action-button filter-delete" ng-click="$ctrl.deleteFilter($index)">\n                            <button class="lui-fade-button">\n                                <span class="lui-fade-button__icon  lui-icon lui-icon--bin"></span>\n                            </button>\n                        </div>\n                        \n                    </div>\n                    \n                </div>\n            </div>\n            <div class="flex-columns button-row" ng-if"$ctrl.table.filter.operands.length || true">\n                <div class="column button-column" ng-class="{\'no-border\': !$ctrl.table.filter.operands.length}">\n                    <button class="lui-fade-button add-filter-button" ng-disabled="$ctrl.table.disabled" ng-click=$ctrl.addFilter()>\n                        <span class="lui-fade-button__icon  lui-icon  lui-icon--plus"></span>\n                        <span class="lui-fade-button__text" q-translation="DataManager.Filter.AddFilterButton"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(48),n(1901)],r=function(e,t,n){var i=function n(i,r){var o=13;var a=9;i.inputModel={text:""};var s=t.service("$timeout");var l=r.find(".advanced-dropdown__input__field");i.handleFocus=function(e){e.preventDefault();e.stopPropagation()};i.removeTag=function(t,n){if(i.readOnly)return false;t.stopPropagation();i.vm.removeSelectedValue(n);i.vm.selectedValues.length||(i.placeHolderMsg=e.get("DataManager.Filter.Input.PlaceHolderMessage"))};var u=function e(){var t=i.inputModel.text.trim();""!==t&&s(function(){i.vm.addSelectedValue(t);i.inputModel.text="";i.placeHolderMsg=""})};var c=function e(t){t.stopPropagation();if(i.vm.valueModel.isReadonly||i.readOnly)return false;t.which!==o&&t.which!==a||u()};var d=function e(){l.focus()};r.on("focus",d);l.on("blur",u);l.on("keydown",c);i.$on("$destroy",function(){r.off("focus",d);l.off("blur",u);l.off("keydown",c)})};var r=["$scope",function(t){t.placeHolderMsg=t.valueModel.length?"":e.get("DataManager.Filter.Input.PlaceHolderMessage");function n(e,t,n){this.setSelectedValuesFromString(e);this.options=t;this.valueModel=e;this.maxSelections=n||1e3}n.prototype.setSelectedValuesFromString=function(e){this.selectedValues=e||[]};n.prototype.convertSelectedValuesToString=function(){return this.selectedValues.join(",")};n.prototype.addSelectedValue=function(e){if(-1===this.selectedValues.indexOf(e)){if(this.selectedValues.length>=t.maxSelections)return;this.selectedValues.push(e);this.valueModel=this.convertSelectedValuesToString();t.$emit("filterValueUpdated");this.selectedValues.length>=t.maxSelections&&(t.hideInput=true)}};n.prototype.getSelectedValues=function(){return this.selectedValues};t.$watch("maxSelections",function(){t.hideInput?1e3===t.maxSelections&&(t.hideInput=false):1===t.maxSelections&&t.vm.getSelectedValues().length>=t.maxSelections?t.hideInput=true:t.hideInput=false});n.prototype.removeSelectedValue=function(e){var n=this.selectedValues.indexOf(e);if(n>-1){this.selectedValues.splice(n,1);this.valueModel=this.convertSelectedValuesToString();0===this.selectedValues.length&&(t.hideInput=false);t.$emit("filterValueUpdated")}};var i=new n(t.valueModel,t.options,t.maxSelections);t.vm=i;return i}];t.directive("qvAdvancedDropdown",function(){return{scope:{valueModel:"=",options:"=",maxSelections:"=",readOnly:"="},link:i,template:n,controller:r}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="advanced-dropdown" tabindex="0">\n    <div class="advanced-dropdown__input" ng-class="{\'read-only\': readOnly}" ng-click="vm.showOptions()">\n        <div class="advanced-dropdown__input__tag lui-tag" ng-class="{\'read-only\': readOnly}" ng-repeat="tag in vm.selectedValues">\n            <div class="advanced-dropdown__input__tag__content" ng-class="{\'read-only\': readOnly}" title="{{tag}}">{{tag}}</div>\n            <div class="advanced-dropdown__input__tag__icon icon-trash" ng-class="{\'read-only\': readOnly}" tabindex="0" ng-focus="handleFocus($event);" q-title-translation="Common.Delete" ng-click="removeTag($event, tag)"></div>\n        </div>\n        <div class="advanced-dropdown__input__container">\n            <input class="advanced-dropdown__input__field" ng-class="{\'read-only\': readOnly}" ng-hide="hideInput" ng-attr-placeholder="{{placeHolderMsg}}" ng-model="inputModel.text"></input>\n        </div>\n    </div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(54),n(91),n(105),n(1903),n(416),n(611),n(255),n(1704),n(1904),n(1088),n(1906),n(1709),n(1159)],r=function(e,t,n,i,r,o){e.nativeComponent("addDataEditPanel",{bindings:{},controller:["addDataStateService","addDataConnectionsService","addDataLoadService","addDataFilterManagementService","qvDataManagerCapabilityService",function(e,r,a,s,l){var u=this;u.isOpen=false;u.filterManagementService=s;u.$onInit=function(){u.initialized=true};u.onCancelClicked=function(){s.reset();e.hideEditAddData()};u.onUpdateClicked=function(){u.currentConnectorInput.qvDialogContext.connectorNextComplete=function(){a.prepareData().then(function(){e.hideEditAddData()})};u.currentConnectorInput.qvDialogContext.next&&u.currentConnectorInput.qvDialogContext.next()};u.$doCheck=function(){!u.isOpen&&e.isEditOpen()&&c(e.editConnection);u.isOpen=e.isEditOpen();if(!u.isOpen){u.connectionToEdit=null;u.currentConnector=null;u.currentConnectorInput=null;u.inlinedataConnector=null;u.titleModel={}}};u.isReady=function(){return!(!u.currentConnectorInput||!!u.currentConnectorInput.qvDialogContext.hasOwnProperty("nextDisabled")&&u.currentConnectorInput.qvDialogContext.nextDisabled())};function c(e){u.connectionToEdit=e;u.connectionToEdit.data.connectionInfo.name===i.AddData.InlineData?r.getDataLoadInput(true).then(function(t){u.currentConnectorInput=t;u.currentConnectorInput.tableModelToEdit=e;u.inlinedataConnector=true;f()}):r.getConnectionInputs(u.connectionToEdit.data.connectionInfo.name,true,true,u.connectionToEdit).then(function(e){var t=e.dataconnectorInstance.sourceConnectorID;u.currentConnectorInput=e;u.currentConnectorInput.tableModelToEdit=u.connectionToEdit;u.currentConnectorInput.editMode=true;t===i.AddData.Folder?r.getNativeFileModel().then(function(e){u.currentConnector=e.getConnector();f()}):r.getConnectorByName(t).then(function(e){u.currentConnector=e;f()})})}function d(e,n){if(n){var i=n.newLoadModel||n.qvInternals.newLoadModel;if(i){var r=t.find(i.targetTableModels,function(t){return t.data.tableRef===e.data.id});if(r)return r.data.name}}return e.data.tableName}function f(){var e=d(u.connectionToEdit,u.currentConnectorInput);u.connectionToEdit.data.connectionInfo.typeName===i.AddData.Folder?l.get()["ps-1245"]?u.titleModel={tableName:e,type:u.connectionToEdit.data.databaseName,imagepath:o.getIconForFile(u.connectionToEdit.data.databaseName),shouldShowFilters:true}:u.titleModel={tableName:e,type:u.connectionToEdit.data.databaseName,imagepath:o.getIconForFile(u.connectionToEdit.data.databaseName)}:u.currentConnector?u.titleModel={tableName:e,type:u.currentConnector.datasource.entrypoint.name,title:u.currentConnectorInput.dataconnectorInstance.name,imagepath:u.currentConnector.datasource.entrypoint.imagePath}:u.connectionToEdit.data.connectionInfo.name===i.AddData.InlineData?u.titleModel={title:n.get("ManualData.Entry.Label"),icon:"edit",tableName:e}:u.titleModel={}}}],template:r})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='\n\t<div class="lui-modal-background ng-scope" ng-class="{ \'lui-fade\': fade }"></div>\n\n\t<div class="add-data-edit" ng-if="$ctrl.isOpen">\n\n\t\t<div ng-if="!$ctrl.initialized" class="loading-screen">\n\t\t\t<qv-spinner class="spinner" show="true" show-for-at-least="300" spinner-height="200px" spinner-width="200px" center-in-parent="true"></qv-spinner>\n\t\t\t<div class="loading-text" q-translation="quickdataload.initializeWizard"></div>\n\t\t</div>\n\n\t\t<div class="add-data-edit-body">\n\t\t\t<add-data-edit-title-bar ng-if="$ctrl.titleModel" show-filter-tab="$ctrl.titleModel.shouldShowFilters" table-name="$ctrl.titleModel.tableName" the-title="$ctrl.titleModel.title" type="$ctrl.titleModel.type" icon="$ctrl.titleModel.icon" imagepath="$ctrl.titleModel.imagepath"></add-data-edit-title-bar>\n\n\t\t\t<div class="add-data-edit-body-content">\n\t\t\t\t<dm-filter-pane active-table="$ctrl.connectionToEdit.data.id" is-ready="$ctrl.isReady()" ng-if="$ctrl.isReady() && $ctrl.filterManagementService.isFilterPageVisible"></dm-filter-pane>\n\t\t\t\t<add-data-selection ng-if="!$ctrl.inlinedataConnector" connector="$ctrl.currentConnector" connector-input="$ctrl.currentConnectorInput"></add-data-selection>\n\t\t\t\t<edit-manual-data ng-if="$ctrl.inlinedataConnector" connector-input="$ctrl.currentConnectorInput"></edit-manual-data>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="add-data-bottom right-aligned">\n\t\t\t<lui-button class="cancel-button" ng-click="$ctrl.onCancelClicked()" q-translation="Common.Cancel"></lui-button>\n\t\t\t<lui-button tid="update-select-data-from-source" ng-disabled="!$ctrl.currentConnectorInput || $ctrl.currentConnectorInput.qvDialogContext.nextDisabled()" ng-click="$ctrl.onUpdateClicked()" q-translation="AddData.SelectDialog.Update"></lui-button>\n\t\t</div>\n\n\t</div>\n\n\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1905),n(1705)],r=function(e,t){e.nativeComponent("addDataEditTitleBar",{bindings:{theTitle:"<",type:"<",imagepath:"<",icon:"<",tableName:"<",showFilterTab:"<"},controller:[function(){}],template:t})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='\n\n<div class="left-side">\n\t<div ng-if="$ctrl.imagepath" class="add-data-title-bar-image" ng-style="{\'background-image\': \'url(\' + $ctrl.imagepath + \')\'}"></div>\n\t<span ng-if="$ctrl.icon" class="lui-icon add-data-title-bar-image lui-icon--{{$ctrl.icon}}" aria-hidden="true"></span>\n\t<div class="add-data-title-bar-title">\n\t\t<div class="main" ng-attr-title="{{ $ctrl.type|translate }}">{{$ctrl.type|translate}}</div>\n\t\t<div class="sub" ng-attr-title="{{ $ctrl.theTitle }}" ng-if="$ctrl.theTitle">{{$ctrl.theTitle}}</div>\n\t</div>\n\t<div q-translation="AddData.SelectDialog.EditTitle,{{$ctrl.tableName}}"></div>\n</div>\n<div class="right-side">\n\t<add-data-tabs-menu database-name="$ctrl.type" ng-if="$ctrl.showFilterTab"></add-data-tabs-menu>\n</div>\n\n\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(54),n(1907),n(1908),n(151),n(1702),n(1703)],r=function(e,t,n,i,r){var o={template:n,bindings:{connectorInput:"<"},controller:["qvManualAddDataService",function(e){var n=this;this.$onInit=function(){this.connectorInput.qvDialogContext.next=function(){n.updateInlineTableInLoadModel();n.connectorInput.qvDialogContext.connectorNextComplete()};this.connectorInput.qvDialogContext.nextDisabled=function(){return!n.tableModel.isDirty};this.tableModel={isDirty:false,data:n.connectorInput.tableModelToEdit.data,columns:o(n.connectorInput.tableModelToEdit),rows:a(n.connectorInput.tableModelToEdit)}};this.updateInlineTableInLoadModel=function(){var o=n.tableModel.rows.map(function(e){e=e.slice(0,-1);return e.map(function(e){return e.value})}).slice(0,-1);var a=n.tableModel.columns.filter(function(e){return e.name});a.forEach(function(e){e.name=e.name.trim()});var s=n.connectorInput.newLoadModel;var l=s.getSourceTableByTableRefId(n.tableModel.data.id);var u=false;var c=l.data.fields;c.forEach(function(e){if(e.selected){var n=t.findWhere(a,{id:e.id});if(!n){u=true;e.selected=false}}});if(u){c.every(function(e){return!e.selected})&&l.addField("$dummy",0,true);s.serialize()}var d=t.find(s.targetTableModels,function(e){return e.data.tableRef===l.data.id});d.setUpdateStatus();var f=d.fields.filter(function(e){return e.type!==r.DSMTypes.QueryField.name}).map(function(e){return e.name});a=e.uniqueFieldNames(a,f);var p=new i.InlineTableOperations(l);p.updateInlineTable(a,o);n.connectorInput.qvInternals.activeConnector=e.getActiveConnector()};function o(e){return e.data.fields.filter(function(e){return e.selected}).map(function(e){return{name:e.alias,id:e.id}})}function a(e){var t=[];e.data.loadStatementModel.data.forEach(function(e){var n=e.map(function(e){return{value:e}});t.push(n)});return t}}]};e.nativeComponent("editManualData",o)}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="edit-manual-data-table">\n\t<ds-edit-grid table-model="$ctrl.tableModel" class="manual-data-grid"></ds-edit-grid>\n</div>'},function(e,t,n){var i,r;!(i=[n,t,n(54)],r=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.inlineTable=e}return e.prototype.setData=function(e){this.inlineTable.data.loadStatementModel.data=e,this.inlineTable.data.state="modified"},e.prototype.getData=function(){return this.inlineTable.data.loadStatementModel.data},e.prototype.updateInlineTable=function(e,t){var i=this;this.setData(t);var r=this.inlineTable.data.fields;this.inlineTable.data.fields=[],e.forEach(function(e,t){if(e.id){var o=n.findWhere(r,{id:e.id});o?(o.name=e.name,o.alias=e.name,i.inlineTable.data.fields.push(o)):i.inlineTable.addField(e.name,t,!0)}else i.inlineTable.addField(e.name,t,!0)}),this.inlineTable.data.state="modified"},e}();t.InlineTableOperations=i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=p(n(98));var r=n(171);var o=p(n(48));var a=p(n(91));var s=p(n(1910));var l=p(n(1711));var u=p(n(1915));var c=p(n(1916));var d=p(n(1917));var f=p(n(1918));n(1919);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return h(e)}function v(e){return b(e)||g(e)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function g(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function b(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function y(e,t){return S(e)||w(e,t)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function w(e,t){var n=[];var i=true;var r=false;var o=void 0;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;o=e}finally{try{i||null==a["return"]||a["return"]()}finally{if(r)throw o}}return n}function S(e){if(Array.isArray(e))return e}function C(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){C(o,i,r,a,s,"next",e)}function s(e){C(o,i,r,a,s,"throw",e)}a(void 0)})}}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function T(e,t,n){t&&_(e.prototype,t);n&&_(e,n);return e}function k(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;return D(e)}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return O(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&I(e,t)}function I(e,t){I=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return I(e,t)}var L=function(e){A(t,e);function t(){var e;q(this,t);e=k(this,O(t).call(this));e.state={showDetails:false,activeView:"card",entities:[],pagedEntities:{},tags:[],sources:[],selectedEntities:{}};e.stateService=o.default.getService("addDataStateService");e.catalogService=new l.default;e.detailEntity=void 0;e.pageCount=-1;e.cardsPerPage=30;e.tagsString="";e.sourcesString="";e.searchString="";e.fetchPagedEntities=e.fetchPagedEntities.bind(D(e));e.handleSearch=e.handleSearch.bind(D(e));e.handleSearchChanged=e.handleSearchChanged.bind(D(e));e.handleTagsChanged=e.handleTagsChanged.bind(D(e));e.handleSourcesChanged=e.handleSourcesChanged.bind(D(e));e.handleSelectionChanged=e.handleSelectionChanged.bind(D(e));e.switchView=e.switchView.bind(D(e));e.handleDetailSelected=e.handleDetailSelected.bind(D(e));e.handleCloseDetails=e.handleCloseDetails.bind(D(e));return e}T(t,[{key:"componentDidMount",value:function(){var e=E(regeneratorRuntime.mark(function e(){var t,n,i,r;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:this.mounted=true;o.next=3;return Promise.all([l.default.getAllTags(),l.default.getAllSources()]);case 3:t=o.sent;n=y(t,2);i=n[0];r=n[1];this.mounted&&this.setState({tags:i,sources:r});case 8:case"end":return o.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this.mounted=false}},{key:"fetchPagedEntities",value:function(){var e=E(regeneratorRuntime.mark(function e(t,n,i,r){var o,a,s,u;return regeneratorRuntime.wrap(function e(c){while(1)switch(c.prev=c.next){case 0:o=this.state,a=o.entities,s=o.pagedEntities;this.pageCount=n;if(!(s&&s.totalPages&&n>s.totalPages)){c.next=4;break}return c.abrupt("return");case 4:c.next=6;return l.default.getCatalog(n,t,i,r,this.searchString,this.tagsString,this.sourcesString);case 6:u=c.sent;!u.getError()&&this.mounted&&this.setState({pagedEntities:u.getPage(),entities:[].concat(v(a),v(u.getPage().entities))});case 8:case"end":return c.stop()}},e,this)}));function t(t,n,i,r){return e.apply(this,arguments)}return t}()},{key:"switchView",value:function e(t){this.pageCount=-1;this.setState({entities:[],activeView:t.currentTarget.value})}},{key:"handleSelectionChanged",value:function e(t){this.setState({selectedEntities:t});this.stateService.setSelectedCatalogItems(Object.values(t).filter(function(e){return e}))}},{key:"handleSearch",value:function e(){var t=this;this.setState({entities:[]},function(){return t.fetchPagedEntities(t.cardsPerPage,0)})}},{key:"handleSearchChanged",value:function e(t){var n=this;if(this.searchString&&""===t){this.searchString=t;this.setState({entities:[]},function(){return n.fetchPagedEntities(n.cardsPerPage,0)})}else this.searchString=t}},{key:"handleTagsChanged",value:function e(t){var n=this;this.tagsString=t.join(",");this.setState({entities:[]},function(){return n.fetchPagedEntities(n.cardsPerPage,0)})}},{key:"handleSourcesChanged",value:function e(t){var n=this;this.sourcesString=t.join(",");this.setState({entities:[]},function(){return n.fetchPagedEntities(n.cardsPerPage,0)})}},{key:"handleDetailSelected",value:function e(t){this.detailEntity=t;this.setState({showDetails:true})}},{key:"handleCloseDetails",value:function e(){this.detailEntity=void 0;this.setState({showDetails:false})}},{key:"render",value:function e(){var t=this;var n=this.state,o=n.entities,l=n.pagedEntities,p=n.tags,h=n.sources,v=n.selectedEntities,m=n.activeView,g=n.showDetails;return i.default.createElement("div",{className:"add-data-catalog"},g&&i.default.createElement(f.default,{entity:this.detailEntity,onCloseDetails:this.handleCloseDetails}),i.default.createElement("div",{className:"add-data-catalog__main",style:{display:g?"none":null}},i.default.createElement("div",{className:"add-data-catalog__searchContainer"},i.default.createElement(u.default,{onSearchChanged:this.handleSearchChanged,placeholderText:a.default.get("AddData.Catalog.SearchPlaceholder")}),i.default.createElement(r.Button,{onClick:this.handleSearch},"Search")),i.default.createElement("div",{className:"add-data-catalog__filters"},i.default.createElement(r.Icon,{className:"add-data-catalog__filters__icon",name:"filter",size:"large"}),i.default.createElement(c.default,{onTagsChanged:this.handleTagsChanged,tags:p,text:a.default.get("AddData.Catalog.Tags")}),i.default.createElement(c.default,{onTagsChanged:this.handleSourcesChanged,tags:h,text:a.default.get("AddData.Catalog.Sources")})),i.default.createElement("div",{className:"add-data-catalog__views"},i.default.createElement(r.ButtonGroup,null,i.default.createElement(r.FadeButton,{active:"card"===m,disabled:false,value:"card",onClick:this.switchView},i.default.createElement(r.FadeButton.Icon,{name:"grid"})),i.default.createElement(r.FadeButton,{active:"list"===m,disabled:false,value:"list",onClick:this.switchView},i.default.createElement(r.FadeButton.Icon,{name:"list"})))),"card"===m&&i.default.createElement(s.default,{entities:o,fetchMoreEntities:function e(){return t.fetchPagedEntities(t.cardsPerPage,++t.pageCount)},selectedEntities:v,onSelectionChanged:this.handleSelectionChanged,onDetailSelected:this.handleDetailSelected}),"list"===m&&i.default.createElement(d.default,{pagedData:l,fetchMoreEntities:this.fetchPagedEntities,selectedEntities:v,onSelectionChanged:this.handleSelectionChanged})))}}]);return t}(i.default.PureComponent);var P=L;t.default=P;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(n(98));var r=s(n(116));var o=s(n(1911));var a=s(n(1912));n(1292);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return l(e)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));i.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function d(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){d(o,i,r,a,s,"next",e)}function s(e){d(o,i,r,a,s,"throw",e)}a(void 0)})}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function v(e,t,n){t&&h(e.prototype,t);n&&h(e,n);return e}function m(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;return b(e)}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&x(e,t)}function x(e,t){x=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return x(e,t)}var w=function(e){y(t,e);function t(){var e;p(this,t);e=m(this,g(t).call(this));e.state={entitiesLoading:true};e.lastScroll=0;e.ignoreLoadRequests=false;e.onScroll=e.onScroll.bind(b(e));e.handleCardSelected=e.handleCardSelected.bind(b(e));e.isCardSelected=e.isCardSelected.bind(b(e));return e}v(t,[{key:"componentDidMount",value:function(){var e=f(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:t=this.props.fetchMoreEntities;this.tableRef&&this.tableRef.addEventListener("scroll",this.onScroll);this.setState({entitiesLoading:true});n.next=5;return t();case 5:this.setState({entitiesLoading:false});case 6:case"end":return n.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this.tableRef.removeEventListener("scroll",this.onScroll)}},{key:"onScroll",value:function e(t){var n=t.target.scrollHeight-t.target.clientHeight;var i=t.target.scrollTop;if(i<this.lastScroll){this.lastScroll=i;return}this.lastScroll=i;i>=.8*n&&this.handleInfiniteOnLoad()}},{key:"handleInfiniteOnLoad",value:function(){var e=f(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:t=this.state.entitiesLoading;n=this.props.fetchMoreEntities;if(!t){i.next=4;break}return i.abrupt("return");case 4:this.setState({entitiesLoading:true});i.next=7;return n();case 7:this.setState({entitiesLoading:false});case 8:case"end":return i.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCardSelected",value:function e(t){var n=this.props,i=n.selectedEntities,r=n.onSelectionChanged;var o=u({},i);o[t.entityId]=o[t.entityId]?void 0:t;r(o)}},{key:"isCardSelected",value:function e(t){var n=this.props.selectedEntities;return!!n[t.entityId]}},{key:"render",value:function e(){var t=this;var n=this.props,r=n.entities,s=n.onDetailSelected;var l=this.state.entitiesLoading;return i.default.createElement("div",{className:"add-data-catalog__results",ref:function e(n){t.tableRef=n}},i.default.createElement(a.default,{show:l&&r&&0===r.length}),r&&r.length>0&&r.map(function(e){return i.default.createElement(o.default,{key:e.entityId,card:e,onClick:t.handleCardSelected,selected:t.isCardSelected(e),onDetailSelected:s})}))}}]);return t}(i.default.PureComponent);w.propTypes={entities:r.default.array.isRequired,selectedEntities:r.default.object.isRequired,onSelectionChanged:r.default.func.isRequired,fetchMoreEntities:r.default.func.isRequired,onDetailSelected:r.default.func.isRequired};var S=w;t.default=S;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=l(n(98));var r=l(n(116));var o=n(171);var a=l(n(91));var s=l(n(1710));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return u(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;return v(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=i.default.memo(function(e){var t=e.children;return i.default.createElement("div",{className:"add-data-catalog__card__column"},t)});var y=i.default.memo(function(e){var t=e.children;return i.default.createElement("div",{className:"add-data-catalog__card__row"},t)});var x=function(e){m(t,e);function t(e){var n;c(this,t);n=p(this,h(t).call(this,e));n.handleClick=n.handleClick.bind(v(n));n.handleDetailsClicked=n.handleDetailsClicked.bind(v(n));return n}f(t,[{key:"handleClick",value:function e(){var t=this.props,n=t.card,i=t.onClick;i(n)}},{key:"handleDetailsClicked",value:function e(t){var n=this.props,i=n.card,r=n.onDetailSelected;t.stopPropagation();r(i)}},{key:"render",value:function e(){var t=this.props,n=t.card,r=t.selected;var l="add-data-catalog__card";r&&(l+=" add-data-catalog__card--selected");return i.default.createElement("div",{className:l,onClick:this.handleClick,onKeyDown:this.handleClick,role:"button",tabIndex:0},i.default.createElement("div",{className:"add-data-catalog__card__header"},i.default.createElement(s.default,{percentage:n.popularityScore,label:a.default.get("AddData.Catalog.Popularity")}),i.default.createElement(s.default,{percentage:n.qualityScore,label:a.default.get("AddData.Catalog.Size")}),i.default.createElement(s.default,{percentage:n.operationalScore,label:a.default.get("AddData.Catalog.Operational")})),i.default.createElement("div",{className:"add-data-catalog__card__details"},i.default.createElement("div",{className:"add-data-catalog__card__title"},n.entityName),i.default.createElement(y,null,i.default.createElement(b,null,a.default.get("AddData.Catalog.EntityLevel")),i.default.createElement(b,null,n.entityLevel)),i.default.createElement(y,null,i.default.createElement(b,null,a.default.get("AddData.Catalog.RowCount")),i.default.createElement(b,null,n.rowCount)),i.default.createElement(y,null,i.default.createElement(b,null,a.default.get("AddData.Catalog.FieldCount")),i.default.createElement(b,null,n.fieldCount)),i.default.createElement(y,null,i.default.createElement(b,null,a.default.get("AddData.Catalog.LastLoad")),i.default.createElement(b,null,new Date(n.lastLoadDate).toLocaleDateString())),i.default.createElement(y,null,i.default.createElement(b,null,n.relativePath))),i.default.createElement("div",{className:"add-data-catalog__card__footer"},i.default.createElement(o.FadeButton,{className:"lui-fade-button add-data-catalog__card__footer__action",disabled:false,onClick:this.handleDetailsClicked},i.default.createElement(o.FadeButton.Icon,{name:"view"}))))}}]);return t}(i.default.PureComponent);x.propTypes={onClick:r.default.func.isRequired,card:r.default.object.isRequired,selected:r.default.bool.isRequired,onDetailSelected:r.default.func.isRequired};var w=x;t.default=w;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=o(n(116));n(1913);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function u(e,t,n){t&&l(e.prototype,t);n&&l(e,n);return e}function c(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return h(e,t)}var v=function(e){p(t,e);function t(){s(this,t);return c(this,f(t).apply(this,arguments))}u(t,[{key:"render",value:function e(){var t=this.props,n=t.width,r=t.height,o=t.show;var a="load-spinner center-in-parent";o&&(a+=" show");var s={height:"".concat(r,"px"),width:"".concat(n,"px")};return i.default.createElement("div",{className:a,style:s},i.default.createElement("div",{className:"qv-loader"}))}}]);return t}(i.default.PureComponent);v.propTypes={show:r.default.bool.isRequired,width:r.default.number,height:r.default.number};v.defaultProps={width:100,height:100};var m=v;t.default=m;e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function o(e,t,n){t&&r(e.prototype,t);n&&r(e,n);return e}var a=function(){function e(t,n){i(this,e);this.catalogJson=t.content?t:void 0;this.error=n}o(e,[{key:"getError",value:function e(){return this.error}},{key:"getPage",value:function e(){this.catalogJson&&this.catalogJson.content.forEach(function(e){e.relativePath="/some/relative/path"});return{entities:this.catalogJson?this.catalogJson.content:[],totalPages:this.catalogJson?this.catalogJson.page.totalPages:0}}},{key:"getEntities",value:function e(){return this.catalogJson?this.catalogJson.content:[]}}]);return e}();var s=a;t.default=s;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(n(98));var r=a(n(116));var o=n(171);n(1292);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return s(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function c(e,t,n){t&&u(e.prototype,t);n&&u(e,n);return e}function d(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;return p(e)}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&v(e,t)}function v(e,t){v=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return v(e,t)}var m=function(e){h(t,e);function t(e){var n;l(this,t);n=d(this,f(t).call(this,e));n.state={value:""};n.handleClear=n.handleClear.bind(p(n));n.handleChange=n.handleChange.bind(p(n));return n}c(t,[{key:"handleClear",value:function e(){var t=this.props.onSearchChanged;this.setState({value:""});t("")}},{key:"handleChange",value:function e(t){var n=this.props.onSearchChanged;this.setState({value:t.target.value});n(t.target.value)}},{key:"render",value:function e(){var t=this.state.value;var n=this.props.placeholderText;return i.default.createElement("div",{className:"add-data-catalog__search"},i.default.createElement(o.Search,{className:"add-data-catalog__search__input",value:t,placeholder:n,onChange:this.handleChange,onClear:this.handleClear}))}}]);return t}(i.default.PureComponent);m.propTypes={onSearchChanged:r.default.func.isRequired,placeholderText:r.default.string};m.defaultProps={placeholderText:""};var g=m;t.default=g;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(n(98));var r=a(n(116));var o=n(171);n(1292);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return s(e)}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));i.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;return v(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=function(e){m(t,e);function t(e){var n;c(this,t);n=p(this,h(t).call(this,e));n.state={open:false,selectedTags:{},searchValue:""};n.showTags=n.showTags.bind(v(n));n.selectTag=n.selectTag.bind(v(n));n.handleSearchChanged=n.handleSearchChanged.bind(v(n));n.handleSearchClear=n.handleSearchClear.bind(v(n));return n}f(t,[{key:"showTags",value:function e(){var t=this.state.open;this.setState({open:!t})}},{key:"selectTag",value:function e(t){var n=this.state.selectedTags;var i=this.props,r=i.onTagsChanged,o=i.tags;var a=l({},n);a[t.key]=!a[t.key];this.setState({selectedTags:a});r(o.filter(function(e){return a[e.key]}).map(function(e){return e.key}))}},{key:"handleSearchChanged",value:function e(t){this.setState({searchValue:t.currentTarget.value})}},{key:"handleSearchClear",value:function e(){this.setState({searchValue:""})}},{key:"createTagSelectionContent",value:function e(){var t=this;var n=this.props.tags;var r=this.state,a=r.selectedTags,s=r.searchValue;var l=n;s&&(l=l.filter(function(e){return e.name.toLowerCase().indexOf(s.toLowerCase())>-1}));return i.default.createElement("div",{className:"add-data-catalog__tagselect__list"},i.default.createElement(o.Search,{className:"add-data-catalog__tagselect__list__search",value:s,placeholder:"Filter",onChange:this.handleSearchChanged,onClear:this.handleSearchClear}),i.default.createElement(o.List,{className:"add-data-catalog__tagselect__list__list"},l&&l.length>0&&l.map(function(e){return i.default.createElement(o.List.Item,{key:e.key,onClick:function n(){return t.selectTag(e)}},i.default.createElement(o.List.Text,null,e.name),a[e.key]&&i.default.createElement(o.List.Aside,null,i.default.createElement(o.Icon,{name:"tick"})))})))}},{key:"render",value:function e(){var t=this;var n=this.state.open;var r=this.props.text;return i.default.createElement("div",{className:"add-data-catalog__tagselect"},i.default.createElement(o.Button,{className:"add-data-catalog__tagselect__button",onClick:this.showTags,ref:function e(n){t.tagExpansionButton=n&&n.element}},i.default.createElement("span",null,r),i.default.createElement("div",{className:"add-data-catalog__tagselect__button__caret"},i.default.createElement("span",{className:"lui-icon lui-button__icon cao-edit-expander-span lui-icon--arrow-down"}))),i.default.createElement(o.Popover,{inline:true,noArrow:true,offset:2,alignTo:this.tagExpansionButton,show:n,onOutside:function e(n){var i=t.tagExpansionButton;i&&i.contains(n.target)&&n.stopImmediatePropagation();if(n.target.classList.contains("lui-icon--close"))return;t.setState({open:false})}},this.createTagSelectionContent()))}}]);return t}(i.default.PureComponent);b.propTypes={onTagsChanged:r.default.func.isRequired,text:r.default.string.isRequired,tags:r.default.array.isRequired};var y=b;t.default=y;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=u(n(98));var r=u(n(116));var o=u(n(1816));var a=n(171);var s=u(n(91));var l=u(n(1710));n(1712);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return c(e)}function d(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){d(o,i,r,a,s,"next",e)}function s(e){d(o,i,r,a,s,"throw",e)}a(void 0)})}}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));i.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function g(e,t,n){t&&m(e.prototype,t);n&&m(e,n);return e}function b(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;return x(e)}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&S(e,t)}function S(e,t){S=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return S(e,t)}var C=function(e){w(t,e);function t(e){var n;v(this,t);n=b(this,y(t).call(this,e));n.state={entitiesLoading:false};n.columns=[{Header:"",sortable:false,className:"add-data-catalog__list__checkbox",accessor:"entityId",minWidth:20,Cell:function e(t){return n.renderCheckbox(t.value)}},{Header:"Entity Name",accessor:"entityName"},{Header:s.default.get("AddData.Catalog.EntityLevel"),id:"entityLevel",accessor:"entityLevel"},{Header:s.default.get("AddData.Catalog.Rows"),minWidth:50,className:"add-data-catalog__list__number",id:"rowCount",accessor:"rowCount"},{Header:s.default.get("AddData.Catalog.Fields"),minWidth:50,className:"add-data-catalog__list__number",id:"fieldCount",accessor:"fieldCount"},{Header:s.default.get("AddData.Catalog.Popularity"),id:"popularityScore",minWidth:50,accessor:"popularityScore",Cell:function e(t){return i.default.createElement(l.default,{percentage:t.value,size:"mini"})}},{Header:s.default.get("AddData.Catalog.Operational"),id:"operationalScore",minWidth:50,accessor:"operationalScore",Cell:function e(t){return i.default.createElement(l.default,{percentage:t.value,size:"mini"})}},{Header:s.default.get("AddData.Catalog.Size"),id:"qualityScore",minWidth:50,accessor:"qualityScore",Cell:function e(t){return i.default.createElement(l.default,{percentage:t.value,size:"mini"})}},{Header:s.default.get("AddData.Catalog.RelativePath"),id:"relativePath",accessor:"relativePath"},{Header:s.default.get("AddData.Catalog.LastLoad"),id:"lastLoadDate",accessor:function e(t){return new Date(t.lastLoadDate).toLocaleDateString()}}];n.handleRowSelected=n.handleRowSelected.bind(x(n));n.fetchData=n.fetchData.bind(x(n));return n}g(t,[{key:"handleRowSelected",value:function e(t){var n=this.props,i=n.onSelectionChanged,r=n.pagedData,o=n.selectedEntities;var a=p({},o);var s=r.entities.filter(function(e){return e.entityId===t})[0];a[t]=a[t]?void 0:s;i(a)}},{key:"fetchData",value:function(){var e=f(regeneratorRuntime.mark(function e(t){var n,i,r,o;return regeneratorRuntime.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:n=this.state.entitiesLoading;i=this.props.fetchMoreEntities;if(!n){a.next=4;break}return a.abrupt("return");case 4:if(t.sorted&&1===t.sorted.length){r=t.sorted[0].id;o=t.sorted[0].desc?"DESC":"ASC"}this.setState({entitiesLoading:true});a.next=8;return i(t.pageSize,t.page,r,o);case 8:this.setState({entitiesLoading:false});case 9:case"end":return a.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"renderCheckbox",value:function e(t){var n=this;var r=this.props.selectedEntities;return i.default.createElement(a.Checkbox,{checked:!!r[t],onChange:function e(){return n.handleRowSelected(t)}})}},{key:"render",value:function e(){var t=this.props.pagedData;var n=this.state.entitiesLoading;return i.default.createElement("div",{className:"add-data-catalog__list"},i.default.createElement(o.default,{columns:this.columns,manual:true,data:t.entities,pages:t.totalPages,loading:n,onFetchData:this.fetchData,defaultPageSize:50,showPageSizeOptions:false,style:{height:"100%"},previousText:s.default.get("AddData.Catalog.List.Previous"),nextText:s.default.get("AddData.Catalog.List.Next"),loadingText:s.default.get("AddData.Catalog.List.Loading"),noDataText:s.default.get("AddData.Catalog.List.NoDataFound"),pageText:s.default.get("AddData.Catalog.List.Page"),ofText:s.default.get("AddData.Catalog.List.Of"),rowsText:s.default.get("AddData.Catalog.List.Rows"),className:"-striped -highlight"}))}}]);return t}(i.default.PureComponent);C.propTypes={pagedData:r.default.object.isRequired,selectedEntities:r.default.object.isRequired,onSelectionChanged:r.default.func.isRequired,fetchMoreEntities:r.default.func.isRequired};var E=C;t.default=E;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=u(n(98));var r=u(n(116));var o=u(n(1816));var a=n(171);var s=u(n(1711));var l=u(n(91));n(1712);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return c(e)}function d(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){d(o,i,r,a,s,"next",e)}function s(e){d(o,i,r,a,s,"throw",e)}a(void 0)})}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function v(e,t,n){t&&h(e.prototype,t);n&&h(e,n);return e}function m(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&x(e,t)}function x(e,t){x=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return x(e,t)}var w=function(e){y(t,e);function t(e){var n;p(this,t);n=m(this,b(t).call(this,e));n.state={columns:void 0,data:void 0};return n}v(t,[{key:"componentDidMount",value:function(){var e=f(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=this.props.entity;r.next=3;return s.default.getSampleData(t.entityId,50);case 3:n=r.sent;i=n.columnInfo.map(function(e,t){return{Header:e.columnName,minWidth:100,id:e.columnName,accessor:function e(n){return n.columnVals[t]}}});this.setState({columns:i,data:n.rows});case 6:case"end":return r.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"closeDetails",value:function e(){var t=this.props.onCloseDetails;t()}},{key:"render",value:function e(){var t=this.state,n=t.columns,r=t.data;var s=this.props,u=s.onCloseDetails,c=s.entity;return i.default.createElement("div",{className:"add-data-catalog__details"},i.default.createElement("div",{className:"add-data-catalog__details__header"},i.default.createElement(a.FadeButton,{onClick:u},i.default.createElement(a.FadeButton.Icon,{name:"arrow-left"})),i.default.createElement("span",null,"Sample data:"," ",c.entityName)),n&&i.default.createElement(o.default,{columns:n,data:r,loading:!r,showPageSizeOptions:false,style:{height:"100%",overflow:"hidden"},previousText:l.default.get("AddData.Catalog.List.Previous"),nextText:l.default.get("AddData.Catalog.List.Next"),loadingText:l.default.get("AddData.Catalog.List.Loading"),noDataText:l.default.get("AddData.Catalog.List.NoDataFound"),pageText:l.default.get("AddData.Catalog.List.Page"),ofText:l.default.get("AddData.Catalog.List.Of"),rowsText:l.default.get("AddData.Catalog.List.Rows"),className:"-striped -highlight"}))}}]);return t}(i.default.PureComponent);w.propTypes={entity:r.default.object.isRequired,onCloseDetails:r.default.func.isRequired};var S=w;t.default=S;e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AddDataLaucherVisibility=d;t.EditAddDataLaucherVisibility=f;t.GetActiveView=p;t.getReactViews=h;var i=n(98);var r=o(n(119));n(255);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return u(e)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){var n=[];var i=true;var r=false;var o=void 0;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;o=e}finally{try{i||null==a["return"]||a["return"]()}finally{if(r)throw o}}return n}function u(e){if(Array.isArray(e))return e}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r.default.getService("$timeout")(e,t)}function d(){var e=(0,i.useState)(false),t=a(e,2),n=t[0],o=t[1];(0,i.useEffect)(function(){var e;var t=r.default.getService("addDataStateService");function n(t){clearTimeout(e);false===t?e=c(function(){return o(false)},500):c(function(){return o(true)})}t.showAddDataBind(n);return function(){clearTimeout(e);t.showAddDataUnbind(n)}},[]);return n}function f(){var e=(0,i.useState)(false),t=a(e,2),n=t[0],o=t[1];(0,i.useEffect)(function(){var e;var t=r.default.getService("addDataStateService");function n(t){clearTimeout(e);false===t?e=c(function(){return o(false)},500):c(function(){return o(true)})}t.showEditAddDataBind(n);return function(){clearTimeout(e);t.showEditAddDataUnbind(n)}},[]);return n}function p(){var e=(0,i.useState)(""),t=a(e,2),n=t[0],o=t[1];(0,i.useEffect)(function(){var e=r.default.getService("addDataStateService");function t(e){c(function(){return o(e)})}e.activeViewBind(t);return function(){e.activeViewUnbind(t)}},[]);return n}function h(){return r.default.getService("addDataStateService").getReactViews()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=p;var i=s(n(98));var r=s(n(1922));var o=s(n(1923));var a=s(n(135));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return d(e)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(e,t){var n=[];var i=true;var r=false;var o=void 0;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;o=e}finally{try{i||null==a["return"]||a["return"]()}finally{if(r)throw o}}return n}function d(e){if(Array.isArray(e))return e}var f;function p(){var e=(0,r.default)(a.default.isSuffixInUse("noData")),t=l(e,2),n=t[0],s=t[1];var u=function e(){clearTimeout(f);f=setTimeout(function(){a.default.removePartialSuffix("noData");s(false)},1e3)};return n?i.default.createElement(o.default,{hide:u}):null}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){return i.default.useState(t)};t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=o;var i=n(1924);var r=null;function o(e){var t=e.hide;var n=(0,i.UseAppLayoutHook)()||{qLastReloadTime:"1970-01-01T00:00:00.000Z"};var o=n.qLastReloadTime;null===r&&(r=o);false===n.qIsOpenedWithoutData&&r!==o&&t();return null}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.UseAppLayoutHook=u;t.default=void 0;var i=n(98);var r=n(1689);function o(e,t){return l(e)||s(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(e,t){var n=[];var i=true;var r=false;var o=void 0;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;o=e}finally{try{i||null==a["return"]||a["return"]()}finally{if(r)throw o}}return n}function l(e){if(Array.isArray(e))return e}function u(){var e=(0,r.getModel)();var t=(0,i.useState)(e.pureLayout),n=o(t,2),a=n[0],s=n[1];var l=null==e.pureLayout;(0,i.useEffect)(function(){var t=true;var n=function n(){return e.getLayout(true).then(function(e){t&&s(e)})};l&&n();e.Invalidated.bind(n);return function(){t=false;e.Invalidated.unbind(n)}},[e&&e.id]);return a||{}}var c={UseAppLayoutHook:u};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=c(n(98));var r=u(n(116));var o=u(n(214));var a=u(n(1043));var s=u(n(1926));var l=u(n(1986));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return d.apply(this,arguments)}function f(e){f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return f(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function v(e,t,n){t&&h(e.prototype,t);n&&h(e,n);return e}function m(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;return b(e)}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&x(e,t)}function x(e,t){x=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return x(e,t)}var w=function(e){y(t,e);function t(e){var n;p(this,t);n=m(this,g(t).call(this,e));n.state={appIsDirty:o.default.isAppDirty()};n.onAppIsDirty=n.onAppIsDirty.bind(b(n));n.onAppIsClean=n.onAppIsClean.bind(b(n));return n}v(t,[{key:"componentDidMount",value:function e(){o.default.onAppIsNowDirty(this.onAppIsDirty);o.default.onAppIsNowClean(this.onAppIsClean)}},{key:"componentWillUnmount",value:function e(){o.default.onAppIsNowDirtyRemove(this.onAppIsDirty);o.default.onAppIsNowCleanRemove(this.onAppIsClean)}},{key:"onAppIsClean",value:function e(){this.setState({appIsDirty:false})}},{key:"onAppIsDirty",value:function e(){this.setState({appIsDirty:true})}},{key:"render",value:function e(){var t=this.props,n=t.view,r=t.isSmallDevice;var a=this.state.appIsDirty;var u;u=r?i.default.createElement(s.default,{appIsDirty:a,saveApp:o.default.saveApp,view:n}):i.default.createElement(l.default,{saveApp:o.default.saveApp,appIsDirty:a,view:n});return i.default.createElement("div",{className:"qs-header"},u)}}]);return t}(i.PureComponent);w.propTypes={view:r.default.object,isSmallDevice:r.default.bool};w.defaultProps={view:null,isSmallDevice:false};var S=function e(t){return i.default.createElement(a.default,null,function(e){return i.default.createElement(w,d({},t,{isSmallDevice:e}))})};t.default=S;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=S(n(98));var r=w(n(116));var o=n(171);var a=w(n(48));var s=w(n(91));var l=w(n(95));var u=w(n(94));var c=w(n(128));var d=w(n(1424));var f=w(n(214));var p=w(n(122));var h=w(n(988));var v=w(n(438));var m=w(n(997));var g=w(n(1938));var b=w(n(90));var y=w(n(177));n(1726);n(1985);var x=w(n(1161));function w(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return C.apply(this,arguments)}function E(e){E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return E(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function T(e,t,n){t&&_(e.prototype,t);n&&_(e,n);return e}function k(e,t){if(t&&("object"===E(t)||"function"===typeof t))return t;return D(e)}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return O(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&I(e,t)}function I(e,t){I=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return I(e,t)}var L=function e(){var t=b.default.getParameterByName("app");var n=y.default.story(t),i=n.storyId,r=n.slideId,o=n.state;p.default.goToStory(i,o,r)};function P(){return i.default.createElement(o.FadeButton,{tid:"4dfd77",size:"large",variant:"inverse",onClick:p.default.goToOverview},i.default.createElement(o.FadeButton.Icon,{name:"previous",size:"large"}))}var M=function(e){A(t,e);function t(e){var n;q(this,t);n=k(this,O(t).call(this,e));n.state={view:u.default.view,state:u.default.state,menuOpen:false,explorationOpen:false,selectionCount:0};n.toggleMenu=n.toggleMenu.bind(D(n));n.stateChanged=n.stateChanged.bind(D(n));n.smallExplore=n.smallExplore.bind(D(n));var i=e.appLayout.qReadOnly,r=void 0!==i&&i;n.isReadOnlyApp=r;return n}T(t,[{key:"componentDidMount",value:function e(){var t=this;d.default.toggle({isSmallDevice:true,showAppDetails:false,forcedValue:true});u.default.StateChanged.bind(this.stateChanged);l.default.subscribe("/toolbar/invalidateMobileToolbar.mobileToolbar",function(e){var n=t.state.selectionCount;e!==n&&t.setState({selectionCount:n})})}},{key:"componentWillUnmount",value:function e(){l.default.unsubscribe(".mobileToolbar");u.default.StateChanged.unbind(this.stateChanged)}},{key:"stateChanged",value:function e(t,n){this.setState({view:t,state:n})}},{key:"toggleMenu",value:function e(t){var n=this.state.menuOpen;var i="undefined"!==typeof t?t:!n;this.setState({menuOpen:i})}},{key:"smallExplore",value:function e(){var t=this;a.default.$apply(a.default.$rootScope,function(){var e=c.default.getGrid();e&&e.exploreMenu(c.default.getZoomCell());t.toggleExploration()})}},{key:"toggleExploration",value:function e(t){var n=this.state.explorationOpen;var i="undefined"!==typeof t?t:!n;this.setState({explorationOpen:i})}},{key:"render",value:function e(){var t=this;var n=this.props,r=n.appLayout,l=n.appIsDirty,d=n.view,p=n.autoSave,h=n.app;var v=this.state,m=v.menuOpen,b=v.explorationOpen,y=v.state,w=v.view;if(y===u.default.States.play)return null;var S=!!x.default.isViewingSource&&y!==u.default.States.editstory;var C=d&&d.renderMobileToolbarLeftContent;C||(C=P);var E=l&&r&&r.permissions.update&&!p;var q=r&&r.qTitle||"";var _=d&&d.helpKey||"AppView";return i.default.createElement("div",{className:"qs-mobile-toolbar"},i.default.createElement("div",{className:"qs-mobile-toolbar__left"},C(),E?i.default.createElement(o.FadeButton,{tid:"2fedad",size:"large",variant:"inverse",onClick:function e(){return f.default.saveApp(function(){})}},i.default.createElement(o.FadeButton.Text,null,s.default.get("Common.Save"))):null),i.default.createElement("div",{className:"qs-mobile-toolbar__center",ref:function e(n){t.appInfoElem=n}},i.default.createElement("h1",{className:"qs-mobile-toolbar__title","data-tid":"toolbar-app-title"},this.isReadOnlyApp?i.default.createElement(o.Icon,{name:"lock",className:"qs-mobile-toolbar__title-lock-icon",title:s.default.get("App.ReadOnly")}):null,q)),i.default.createElement("div",{className:"qs-mobile-toolbar__right"},S?i.default.createElement(o.FadeButton,{tid:"returnToStoryButton",size:"large",variant:"inverse",title:s.default.get("Tooltip.ReturnToStory"),onClick:L},i.default.createElement(o.FadeButton.Icon,{name:"back",size:"large"})):null,u.default.view===u.default.Views.object?i.default.createElement(o.FadeButton,{tid:"465dda",size:"large",variant:"inverse",className:"lui-bg-success",onClick:function e(){return a.default.getService("qvGlobalSelectionsService").toggleGlobalSelection(h)}},i.default.createElement(o.FadeButton.Text,null,a.default.getService("qvGlobalSelectionsService").getSelectionCount(h))):null,u.default.view===u.default.Views.object&&c.default.getZoomCell()&&c.default.getZoomCell().object.hasSoftProperties?i.default.createElement(o.FadeButton,{tid:"small.explore",size:"large",variant:"inverse",active:b,onClick:this.smallExplore},i.default.createElement(o.FadeButton.Icon,{name:"control"})):null,i.default.createElement(o.FadeButton,{tid:"2fedac",size:"large",variant:"inverse",onClick:this.toggleMenu},i.default.createElement(o.FadeButton.Icon,{name:"menu",size:"large"}))),m?i.default.createElement(g.default,{show:m,alignTo:this.appInfoElem,toggleMenu:this.toggleMenu,state:y,view:w,helpKey:_}):null)}}]);return t}(i.Component);M.propTypes={app:r.default.object.isRequired,appLayout:r.default.object.isRequired,appIsDirty:r.default.bool.isRequired,view:r.default.object,autoSave:r.default.bool.isRequired};M.defaultProps={view:null};var N=function e(t){return i.default.createElement(h.default,null,function(e){return i.default.createElement(v.default,null,function(n){return i.default.createElement(m.default,null,function(r){return i.default.createElement(M,C({},t,{app:e,appLayout:n,autoSave:!!r.engineFeatures.qAutoSave}))})})})};t.default=N;e.exports=t.default},function(e,t){e.exports='<div class="app-details-content" tid="app-details" ng-style="dynamicBg" ng-class="{\'options-bg-color\': currentView === views.options}">\n\t<div class="app-details-wrapper">\n\t\t<qv-app-thumbnail ng-if="currentView !== views.options"></qv-app-thumbnail>\n\t\t<div ng-show="viewDetails" class="app-info-wrapper app-view" tid="details-view">\n\t\t\t<div class="info">\n\t\t\t\t<div id="sr-app-info" class="app-info-cont">\n\t\t\t\t\t<h1 class="app-title">\n\t\t\t\t\t\t<span ng-if="appModel.qReadOnly" class="locked"><i class="lui-icon  lui-icon--lock" q-title-translation="App.ReadOnly"></i>&nbsp;</span>\n\t\t\t\t\t\t<span class="dt-span" q-title-translation="{{ appModel.qTitle }}" data-tid="app-details-title">{{ appModel.qTitle }}</span>\n\t\t\t\t\t</h1>\n\n\t\t\t\t\t<div ng-if="appModel.qReadOnly" class="details">\n\t\t\t\t\t\t<span q-translation="App.ReadOnly"></span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="details">\n\t\t\t\t\t\t<span q-translation="Toolbar.DataLastLoaded"></span>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<span class="data-last-reload"> {{ reloadDate }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="details" ng-if="appModel.isPub">\n\t\t\t\t\t\t<span q-translation="App.PublishedDate"></span>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<drm-format-date x-date="appModel.publishTime" x-skeleton="yMMMdjm"></drm-format-date>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id="app-status" ng-if="appModel.published && appModel.stream.length" class="details">\n\t\t\t\t\t\t<span class="adetails-ellips">{{ appModel.publishedString | translate }}&nbsp;{{appModel.stream}}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div ng-if="appModel.showFileName && isPersonalEnv" class="details" title="{{ appModel.qFileName }}">\n\t\t\t\t\t\t<span class="adetails-ellips">{{"AppDetails.FileName"|translate}}&nbsp;{{ appModel.qFileName }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div qv-dimmer-on-scroll content="appModel.description"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="buttons" ng-if="appModel.permissions.update">\n\t\t\t\t<button\n\t\t\t\t\ttid="app-details-edit"\n\t\t\t\t\tclass="edit-btn  lui-overlay-button"\n\t\t\t\t\tqva-focus="true"\n\t\t\t\t\tdata-name="edit"\n\t\t\t\t\tq-title-translation="Common.Edit"\n\t\t\t\t\tng-click="toggleEditMode()">\n\t\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--edit"></span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tng-if="!appModel.published"\n\t\t\t\t\ttid="app-details-options"\n\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\tq-title-translation="AppDetails.Options"\n\t\t\t\t\tng-click="toggleOptionsMode()">\n\t\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--cogwheel"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="editDetails" class="app-info-wrapper app-edit" tid="details-edit">\n\t\t\t<div class="info" ng-class="{\'error\': errors !== \'\'}">\n\t\t\t\t<div class="app-info-cont">\n\t\t\t\t\t<label class="ao-dt-label" q-translation="Common.Title"></label>\n\t\t\t\t\t<input qva-select qv-enter="toggleEditMode()" type="text" maxlength="{{isPersonalEnv ? 200 : 255}}" class="lui-input details-input" ng-model="appModel.qTitle"/>\n\t\t\t\t\t<p ng-if="errors === \'chars\'" class="qv-fail" q-translation="Common.InvalidCharacters"></p>\n\t\t\t\t\t<label class="ao-dt-label" q-translation="Common.Description"></label>\n\t\t\t\t\t<textarea rows="4" maxlength="512" class="lui-textarea details-textarea" ng-model="appModel.description"></textarea>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="buttons">\n\t\t\t\t<button\n\t\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\t\ttid="app-details-stop-edit"\n\t\t\t\t\t\tq-title-translation="Tooltip.StopEdit"\n\t\t\t\t\t\tng-click="toggleEditMode()">\n\t\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--tick  lui-text-success"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<qv-app-details-options ng-if="currentView === views.options" exp="exp" exit-options-mode="toggleOptionsMode"></qv-app-details-options>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1929),n(304),n(832),n(460),n(1930)],r=function(e,t,n,i,r,o){var a=false;var s=function e(){};e.directive("qvAppThumbnail",function(){return{replace:true,restrict:"E",scope:true,template:t,link:function t(l){var u,c,d=new Image,f,p=s;function h(t,n){l.appModel.dynamicColor=n;l.imgSrc=t;f=false;e.$apply(l)}function v(e){return o.getFormatedHSLA({image:e,alpha:1})}function m(){l.appModel.thumbnailUrlProp="";l.appModel.dynamicColor="";l.thumbnailUrl=""}l.appThumbnail=function(e){if("change"===e){l.exp.ignoreOutsideClicks=true;i.show({onCancel:function e(t){l.exp.ignoreOutsideClicks=false;t&&m()},onConfirm:function e(t,i){i&&(l.appModel.thumbnailUrlProp=n.stripBasePath(i));l.thumbnailUrl=t?n.stripBasePath(t):null;f=true;a=true;l.exp.ignoreOutsideClicks=false},selectedFile:l.thumbnailUrl?n.stripBasePath(l.thumbnailUrl):""})}"remove"===e&&m()};c=l.$watch("appModel.thumbnailLayout.qUrl",function(e){l.thumbnailUrl=e});function g(){d&&d.remove&&d.remove();p();p=function e(){};d.onload=null;d.onerror=null;d=new Image}u=l.$watch("thumbnailUrl",function(e){if(e&&e.length>1){g();e=n.stripBasePath(e);e=n.addBasePath(e);d.src=e;d.onerror=function(){h(r.staticSrc().brokenImage(),"")};d.onload=function(){var t=l.appModel.dynamicColor;p();f?t=v(d):t||a||(p=l.$watch(function(){return a},function(){if(a){h(e,v(d));p()}}));h(e,t)}}else h(r.staticSrc().staticApp(),"")});l.$on("$destroy",function(){u();c();i.hide();p();p=s;d&&d.remove&&d.remove();d=null})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='\ufeff<div class="app-thumbnail" tid="app-d-thumb">\n\t<img ng-src="{{ imgSrc }}" draggable="false" class="app-thumbnail-img img-no-drag" />\n\t<div ng-if="editDetails" class="editThumbnail">\n\t\t<button class="lui-overlay-button" tid="change-thumb-btn" ng-click="appThumbnail(\'change\')" q-title-translation="Thumbnail.Change">\n\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--image"></span>\n\t\t</button>\n\t\t<div class="touch-area" ng-click="appThumbnail(\'remove\')" ng-show="editDetails && thumbnailUrl">\n\t\t\t<button class="lui-overlay-button lui-overlay-button--small removeThumbnail" q-title-translation="Thumbnail.Remove">\n\t\t\t\t<span class="lui-overlay-button__icon lui-icon lui-icon--small lui-icon--close"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(109)],r=function(e){var t,n,i,r,o,a,s,l,u,c,d=2e7;function f(){p();t=0;n=3;i=0;r=0;o=0;a=0}function p(){c=null;u=null;l=null;s&&s.remove&&s.remove();s=null}function h(e){return Math.floor(e/t)}function v(e){s=document.createElement("canvas");l=s.getContext("2d");s.height=e.height||0;s.width=e.width||0;l.drawImage(e,0,0);u=l.getImageData(0,0,e.width,e.height).data;c=u.length}function m(){return(i+=4*n)<c}function g(n){f();if(n.width>1&&n.height>1){v(n);while(m()&&t<d){var s=u[i],l=u[i+1],c=u[i+2];r+=s;o+=l;a+=c;t++}r=h(r);o=h(o);a=h(a)}p();return new e(r,o,a)}function b(e,t){var n=18,i=43;return"hsla("+e+","+n+"%,"+i+"%,"+t+")"}function y(e){return""!==e}function x(e,t){var n=e.toHSLA().split(/\(|\)|hsla|,/).filter(y),i=Math.round(n[0]),r=Math.round(n[1]),o=Math.round(n[2]),a="";o>10&&o<90&&r>10&&(a=b(i,t));return a}function w(e){var t=g(e.image);t.setAlpha(e.alpha||1);return t}return{getFormatedHSLA:function e(t){return x(w(t),t.alpha||1)},getRGBA:function e(t){return w(t).toRGBA()},getHEX:function e(t){return g(t.image).toHex()}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="dimmer-cont">\n\t<div class="dimmer-scroll" ng-class="{\'top\': dimmer.top, \'bottom\': dimmer.bottom}">{{ content }}</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(97),n(1933),n(304),n(832),n(162),n(100)],r=function(e,t,n,i,r,o,a,s){var l=function t(i){a.getProperties().then(function(e){d(e);u();p()});i.setLogoPosition=function(e){i.logoPosition=e;a.setProperties({sheetLogoPosition:e})};i.themeService=s;i.setLogoImage=function(){i.exp.ignoreOutsideClicks=true;o.show({onCancel:function e(t){i.exp.ignoreOutsideClicks=false;t&&i.removeLogoImage()},onConfirm:function e(t,n){if(n){a.setProperties({sheetLogoThumbnail:{qStaticContentUrlDef:r.stripBasePath(n)}});i.logoImgSrc=r.addBasePath(t);i.exp.ignoreOutsideClicks=false}},selectedFile:i.logoImgSrc?r.stripBasePath(i.logoImgSrc):""})};i.closeColorpickerFoldout=function(){i.exp.ignoreOutsideClicks=false};i.openColorPickerFoldout=function(){i.exp.ignoreOutsideClicks=true};i.closeThemePickerFoldout=function(){i.exp.ignoreOutsideClicks=false};i.openThemePickerFoldout=function(){i.exp.ignoreOutsideClicks=true};i.removeLogoImage=function(){a.setProperties({sheetLogoThumbnail:{qStaticContentUrlDef:null}});i.logoImgSrc=""};function l(e){d(e)}function u(){a.UpdateObjProps.bind(l)}function c(){a.UpdateObjProps.unbind(l)}function d(e){e.sheetLogoThumbnail&&e.sheetLogoThumbnail.qStaticContentUrl&&e.sheetLogoThumbnail.qStaticContentUrl.qUrl?i.logoImgSrc=r.addBasePath(e.sheetLogoThumbnail.qStaticContentUrl.qUrl):i.logoImgSrc="";f(e);i.logoPosition=e.sheetLogoPosition||"right";i.rtlMode=e.rtl}function f(e){i.sheetBgColor=e.sheetTitleBgColor||"";i.sheetBgGradientColor=e.sheetTitleGradientColor||"";i.sheetFontColor=e.sheetTitleColor||"#b0afae"}function p(){i.$watch("sheetBgColor",function(e,t){if(e!==t){var n="undefined"!==typeof e.color?{color:e.color,index:e.index}:e;a.setProperties({sheetTitleBgColor:n})}});i.$watch("sheetBgGradientColor",function(e,t){if(e!==t){var n="undefined"!==typeof e.color?{color:e.color,index:e.index}:e;a.setProperties({sheetTitleGradientColor:n})}});i.$watch("sheetFontColor",function(e,t){if(e!==t){var n="undefined"!==typeof e.color?e.color:e;a.setProperties({sheetTitleColor:n})}});i.$watch("rtlMode",function(e,t){e!==t&&a.setProperties({rtl:e})})}function h(t){if(Number.isNaN(+t))return;var n=1202;if(t>=n&&i.stacked){i.stacked=false;e("body").removeClass("qv-app-details-options-enabled")}else if(t<n&&!i.stacked){i.stacked=true;e("body").addClass("qv-app-details-options-enabled")}}i.onResize=function(e){h(e&&e.width);i.$apply()};n.on("end."+i.$id,i.onResize);h(window.innerWidth);i.$on("$destroy",function(){c();n.off("end",i.onResize)})};t.directive("qvAppDetailsOptions",function(){return{replace:true,restrict:"E",scope:{exitOptionsMode:"&",exp:"="},template:i,link:l}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="app-info-wrapper ad-options-wrapper" tid="details-options">\n\t<div class="info" ng-class="{\'stacked\' : stacked}">\n\n\t\t<div class="app-info-options" ng-class="{\'horizontal-border\': stacked, \'vertical-border\': !stacked}">\n\t\t\t<div class="option options-appearance">\n\t\t\t\t<h1 class="app-title">\n\t\t\t\t\t<span class="dt-span" q-title-translation="AppDetails.Appearance">{{ "AppDetails.Appearance" | translate }}</span>\n\t\t\t\t</h1>\n\t\t\t\t<div class="options-choice">\n\t\t\t\t\t<div class="options-color">\n\t\t\t\t\t\t<div class="sheet-options">\n\t\t\t\t\t\t\t<div class="options-label" q-title-translation="AppDetails.RightToLeftReadingOrder">{{"AppDetails.RightToLeft" | translate }}</div>\n\t\t\t\t\t\t\t<lui-switch x-variant="inverse" x-model="rtlMode"></lui-switch>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="sheet-options empty-option"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="options-choice" ng-if="themeService">\n\t\t\t\t\t<div class="options-color">\n\t\t\t\t\t\t<div class="sheet-options">\n\t\t\t\t\t\t\t<div class="options-label" q-title-translation="AppDetails.AppTheme">{{"AppDetails.AppTheme" | translate }}</div>\n\t\t\t\t\t\t\t<qv-themes-picker on-close="closeThemePickerFoldout" on-open="openThemePickerFoldout" model="themeService" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="sheet-options empty-option"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="app-info-options">\n\t\t\t<div class="option options-personalization">\n\t\t\t\t<h1 class="app-title">\n\t\t\t\t\t<span class="dt-span" q-title-translation="AppDetails.SheetStyling">{{ "AppDetails.SheetStyling" | translate }}</span>\n\t\t\t\t</h1>\n\t\t\t\t<div class="options-choice">\n\t\t\t\t\t<div class="options-color">\n\t\t\t\t\t\t<div class="sheet-options">\n\t\t\t\t\t\t\t<div class="options-label" q-title-translation="AppDetails.SheetBgColorTooltip">{{"AppDetails.SheetBackgroundColor" | translate }}</div>\n\t\t\t\t\t\t\t<div qv-color-picker-button-new x-variant="inverse" on-close="closeColorpickerFoldout" on-open="openColorPickerFoldout" palette="themeService.currentPalette" extended="true"  ng-model="sheetBgColor" tid="sheettitle-bg-colorpicker" toggle-open="true"></div>\n\t\t\t\t\t\t\t<span class="bg-color-divider"> - </span>\n\t\t\t\t\t\t\t<div qv-color-picker-button-new x-variant="inverse" on-close="closeColorpickerFoldout" on-open="openColorPickerFoldout" palette="themeService.currentPalette" extended="true"  ng-model="sheetBgGradientColor" tid="sheettitle-gradient-colorpicker" toggle-open="true"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="sheet-options">\n\t\t\t\t\t\t\t<div class="options-label" q-title-translation="AppDetails.SheetFontColorTooltip">{{"AppDetails.SheetFontColor" | translate }}</div>\n\t\t\t\t\t\t\t<div qv-color-picker-button-new x-variant="inverse" on-close="closeColorpickerFoldout" on-open="openColorPickerFoldout" palette="themeService.currentPalette"  extended="true" ng-model="sheetFontColor" tid="sheettitle-font-colorpicker" toggle-open="true" disable-none="true"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="options-logo">\n\t\t\t\t\t\t<div class="sheet-options">\n\t\t\t\t\t\t\t<div class="options-label" q-title-translation="AppDetails.SheetImageTooltip">{{"AppDetails.SheetImage" | translate }}</div>\n\t\t\t\t\t\t\t<div class="logo-remove" ng-show="logoImgSrc !== \'\'">\n\t\t\t\t\t\t\t\t<a ng-click="removeLogoImage()" class="logo-remove-icon" q-title-translation="AppDetails.RemoveLogoImg" tid="sheettitle-remove-image">\n\t\t\t\t\t\t\t\t\t<i class="lui-icon lui-icon--remove"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="logo-img">\n\t\t\t\t\t\t\t\t<img ng-show="logoImgSrc !== \'\'" ng-src="{{ logoImgSrc }}" draggable="false" class="sheet-logo-img img-no-drag" />\n\t\t\t\t\t\t\t\t<div class="edit-logo-img">\n\t\t\t\t\t\t\t\t\t<button class="lui-overlay-button" tid="sheettitle-image" ng-click="setLogoImage()" qv-enter="setLogoImage()" q-title-translation="AppDetails.ChangeLogoImg">\n\t\t\t\t\t\t\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--image"></span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="sheet-options">\n\t\t\t\t\t\t\t<div class="options-label" q-title-translation="AppDetails.SheetImageAlignTooltip">{{"AppDetails.SheetImageAlignment" | translate }}</div>\n\t\t\t\t\t\t\t<div class="position-btns">\n\t\t\t\t\t\t\t\t<div class="lui-buttongroup">\n\t\t\t\t\t\t\t\t\t<button tid="sheettitle-image-left" class="lui-button  lui-button--inverse" ng-class="{\'lui-active\': logoPosition === \'left\'}" q-title-translation="AppDetails.LogoLeftAlign" ng-click="setLogoPosition(\'left\')" qv-enter="setLogoPosition(\'left\')">\n\t\t\t\t\t\t\t\t\t\t<span class="lui-icon lui-icon--align-object-left"></span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button tid="sheettitle-image-center" class="lui-button  lui-button--inverse" ng-class="{\'lui-active\': logoPosition === \'center\'}" q-title-translation="AppDetails.LogoCenterAlign" ng-click="setLogoPosition(\'center\')" qv-enter="setLogoPosition(\'center\')">\n\t\t\t\t\t\t\t\t\t\t<span class="lui-icon lui-icon--align-object-center"></span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button tid="sheettitle-image-right" class="lui-button  lui-button--inverse" ng-class="{\'lui-active\': logoPosition === \'right\'}" q-title-translation="AppDetails.LogoRightAlign" ng-click="setLogoPosition(\'right\')" qv-enter="setLogoPosition(\'right\')">\n\t\t\t\t\t\t\t\t\t\t<span class="lui-icon lui-icon--align-object-right"></span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="buttons">\n\t\t<button\n\t\t\t\tclass="lui-overlay-button"\n\t\t\t\ttid="app-options-close"\n\t\t\t\tqva-focus="true"\n\t\t\t\tq-title-translation="AppDetails.ExitOptionsButton"\n\t\t\t\tng-click="exitOptionsMode()()"\n\t\t\t\tqv-enter="exitOptionsMode()()">\n\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--close"></span>\n\t\t</button>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(89),n(51),n(1935),n(1936)],r=function(e,t,n,i,r,o){var a=40;var s=13;var l=9;function u(e){var i=new n;e.getAvailableThemes().then(function(n){var r,o,a=e.getCurrentTheme();if(n&&n.default&&n.default.length)for(r=0;r<n.default.length;r++)if(n.default[r].id===a){o={id:n.default[r].id,name:n.default[r].name};break}if(!o&&n&&n.custom&&n.custom.length)for(r=0;r<n.custom.length;r++)if(n.custom[r].id===a){o={id:n.custom[r].id,name:n.custom[r].name};break}o||(o={id:"sense",name:t.get("Themes.Qlik.Classic")});i.resolve(o)});return i.promise}e.directive("qvThemesPicker",function(){return{restrict:"E",replace:true,scope:{onClose:"=",onOpen:"=",model:"="},template:r,link:function e(t,n){var r,c,d,f;t.active=false;t.currentTheme=null;u(t.model).then(function(e){t.currentTheme=e});function p(){c=i.show(o,{alignTo:n,model:t.model,close:h,selectTheme:v,currentTheme:t.currentTheme,setButtonFocus:m,setPopoverElement:function e(t){f=t}});t.onOpen&&t.onOpen();t.active=true}function h(e){if(e){e.stopPropagation();e.preventDefault()}if(c){c.destroy();c=null}d=e&&e.target?e.target:null;t.onClose&&t.onClose();t.active=false}function v(e,n){t.currentTheme=n;t.model.applyTheme(n.id).then(function(e){e&&t.model.saveTheme()});h(e)}function m(){n.focus()}t.onClick=function(e){r=e.target;d&&d===r?d=null:p()};function g(e){if(e.which===a){e.preventDefault();f.find("li:not(.header)")[0].focus()}else e.which===s?t.active&&h(e):e.which===l&&t.active&&h(e)}n.on("keydown.themes-picker",g);t.$on("$destroy",function(){n.off("keydown.themes-picker",g)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<button qva-activate="onClick($event)" qv-enter="onClick($event)" class="themes-button  lui-button  lui-button--block  lui-button--inverse" ng-class="{\'active\':active}" q-title-translation="AppDetails.ThemePicker.Tooltip">\n\t<span class="lui-button__text">{{ currentTheme.name }}</span><span class="lui-button__caret lui-caret"></span>\n</button>'},function(e,t,n){"use strict";var i,r;!(i=[n(1937),n(97)],r=function(e,t){var n=38;var i=40;var r=13;return{template:e,controller:["$scope","$element",function(e,o){var a=o.find(".themes-popover"),s=0,l;e.hasMoreCustomThemes=false;e.hasCustomThemes=false;e.show=false;a.offset({top:e.input.alignTo.offset().top+e.input.alignTo.outerHeight(),left:e.input.alignTo.offset().left});a.outerWidth(e.input.alignTo.outerWidth());e.input.setPopoverElement(o);e.input.model.getAvailableThemes().then(function(t){e.defaultThemes=t.default;e.input.model.getCustomThemesPage(0).then(function(t){e.customThemes=t;e.show=true})});e.loadMore=function(){e.input.model.getCustomThemesPage(s+1).then(function(t){e.customThemes=e.customThemes.concat(t);s++})};e.$watch("customThemes",function(){e.hasCustomThemes=e.customThemes&&e.customThemes.length;e.customThemes&&e.input.model.getPagesTotal().then(function(t){e.hasMoreCustomThemes=t-1>s})});function u(){e.input.close(null)}t.on("start.themespopover",u);e.$on("$destroy",function(){t.off("start.themespopover",u)});function c(e){var t=o.find("li:focus");t.length||(t=l);if(e===n){t=t.prev();while(t&&t.hasClass("header"))t=t.prev()}else if(e===i){t=t.next();while(t.length&&t.hasClass("header"))t=t.next()}t.length&&t[0].focus();return!!t.length}function d(t){var a,s;if(t.which===n||t.which===i){t.preventDefault();s=c(t.which);s||t.which!==n||e.input.setButtonFocus()}else if(t.which===r){a=o.find("li:focus");if(a.length){a.hasClass("showmore")&&c(n);a.trigger("qv-activate")}}}o.on("keydown.themes-popover",d);e.$on("$destroy",function(){o.off("keydown.themes-popover",d)})}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="themes-popover lui-popover lui-popover--inverse" qva-outside="input.close($event)" ng-show="show">\n\t<ul class="themes-list lui-list lui-list--inverse">\n\t\t<li class="header lui-list__header" ng-if="hasCustomThemes">\n\t\t\t<span class="lui-list__text" q-translation="AppDetails.ThemePicker.Label.Default"></span></li>\n\t\t<li class="lui-list__item lui-list__action" ng-repeat="theme in defaultThemes" ng-class="{\'lui-active\':theme.id===input.currentTheme.id}" qva-activate="input.selectTheme($event,theme)" tabindex="0" title="{{theme.label}}">\n\t\t\t<span class="lui-list__text">{{theme.name}}</span></li>\n\t\t<li class="header lui-list__header" ng-if="hasCustomThemes">\n\t\t\t<span class="lui-list__text" q-translation="AppDetails.ThemePicker.Label.Custom"></span></li>\n\t\t<li class="lui-list__item lui-list__action" ng-repeat="theme in customThemes" ng-class="{\'lui-active\':theme.id===input.currentTheme.id}" qva-activate="input.selectTheme($event,theme)" tabindex="0" title="{{theme.label}}">\n\t\t\t<span class="lui-list__text">{{theme.name}}</span></li>\n\t\t<li class="showmore lui-list__item lui-list__action" ng-if="hasMoreCustomThemes" qva-activate="loadMore()" tabindex="0">\n\t\t\t<span class="lui-list__text" q-translation="AppDetails.ThemePicker.Label.Showmore"></span></li>\n\t</ul>\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=g(n(98));var r=m(n(116));var o=n(171);var a=m(n(48));var s=m(n(91));var l=m(n(93));var u=m(n(49));var c=m(n(94));var d=m(n(1715));var f=m(n(163));var p=m(n(128));var h=m(n(438));var v=m(n(1984));n(1223);function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return b.apply(this,arguments)}function y(e){y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return y(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function S(e,t,n){t&&w(e.prototype,t);n&&w(e,n);return e}function C(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;return q(e)}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return E(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&T(e,t)}function T(e,t){T=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return T(e,t)}var k=function e(t){var n=t.toggleMenu;return i.default.createElement(v.default,{key:"globalSelector",tid:"513asd",onClick:function e(){l.default.getApp().then(function(e){a.default.getService("qvGlobalSelectionsService").toggleGlobalSelection(e);n(false)})},iconName:"global-selector"},s.default.get("Tooltip.GlobalSelector"))};var O=function e(t){var n=t.toggleMenu;return i.default.createElement(v.default,{key:"globalSearch",tid:"513asd",onClick:function e(){l.default.getApp().then(function(e){a.default.getService("qvGlobalSearchService").toggleGlobalSearch(e);n(false)})},iconName:"search"},s.default.get("Tooltip.GlobalSearch"))};var D=function e(t){var n=t.toggleMenu,r=t.tid,o=t.translationKey;return i.default.createElement(v.default,{key:"export",tid:r,onClick:function e(){if(c.default.view===c.default.Views.object){var t=p.default.getZoomCell();a.default.getService("qvMobilePrintService").toggleMobilePrint(t,"Object")}else a.default.getService("qvMobilePrintService").toggleMobilePrint(c.default,"Sheet");n(false)},iconName:"print"},s.default.get(o))};var A=function e(t){var n=t.toggleMenu,r=t.tid,o=t.translationKey;return i.default.createElement(v.default,{key:"download",tid:r,onClick:function e(){if(c.default.view===c.default.Views.object){var t=p.default.getZoomCell();a.default.getService("qvMobileDownloadService").toggleMobileDownload(t,"Object")}else a.default.getService("qvMobileDownloadService").toggleMobileDownload(c.default,"Sheet");n(false)},iconName:"print"},s.default.get(o))};var I=function e(t){var n=t.toggleMenu;return i.default.createElement(v.default,{key:"about",tid:"4dfe27",title:s.default.get("Common.About"),onClick:function e(){a.default.getService("qvAboutDialog").show();n(false)},iconName:"info"},s.default.get("Common.About"))};var L=function e(t){var n=t.toggleMenu,r=t.helpHref;return i.default.createElement(v.default,{key:"help",tid:"4dfe26",title:"Common.Tooltip.OpenHelpInNewTab",onClick:function e(){window.open(r);n(false)},iconName:"help"},s.default.get("GlobalMenu.Help"))};var P=function e(t){var n=t.toggleMenu,r=t.appLayout;return i.default.createElement(v.default,{key:"bookmarks",tid:"4e4ab2",onClick:function e(t){d.default.toggle({pressed:true},t.currentTarget,{create:r.permissions.createBookmark,small:true,smallService:a.default.getService("qvSmallDeviceMenuService"),scope:a.default.$rootScope});n(false)},iconName:"bookmark"},s.default.get("Common.Bookmarks"))};var M=function(e){_(t,e);function t(e){var n;x(this,t);n=C(this,E(t).call(this,e));n.outsideListener=n.outsideListener.bind(q(n));return n}S(t,[{key:"componentDidMount",value:function e(){document.addEventListener("click",this.outsideListener)}},{key:"componentWillUnmount",value:function e(){document.removeEventListener("click",this.outsideListener)}},{key:"outsideListener",value:function e(t){var n=this.props.toggleMenu;this.element.contains(t.target)||n(false)}},{key:"render",value:function e(){var t=this;var n=this.props,r=n.helpKey,a=n.toggleMenu,s=n.appLayout;var l=f.default.path+r;var d=[];if(c.default.view===c.default.Views.sheet){d.push(k({toggleMenu:a}));d.push(P({toggleMenu:a,appLayout:s}));u.default.getFlag("DOWNLOAD_SHEET")?d.push(A({toggleMenu:a,tid:"GlobalMenu.DownloadSheetToPdf",translationKey:"GlobalMenu.DownloadSheetToPdf"})):s.permissions.exportData&&d.push(D({toggleMenu:a,tid:"GlobalMenu.ExportSheetToPdf",translationKey:"GlobalMenu.ExportSheetToPdf"}))}else if(c.default.view===c.default.Views.object){d.push(k({toggleMenu:a}));d.push(O({toggleMenu:a}));d.push(P({toggleMenu:a,appLayout:s}));var h=p.default.getZoomCell();h.object&&h.object.supportExport()&&(u.default.getFlag("DOWNLOAD_OBJECT_MOBILE")?d.push(A({toggleMenu:a,tid:"GlobalMenu.DownloadObject",translationKey:"GlobalMenu.DownloadObject"})):s.permissions.exportData&&d.push(D({toggleMenu:a,tid:"GlobalMenu.ExportObject",translationKey:"GlobalMenu.ExportObject"})))}d.push(L({toggleMenu:a,helpHref:l}));u.default.getFlag("HIDE_ABOUT_BUTTON")||d.push(I({toggleMenu:a}));return i.default.createElement("div",{tid:"3df9b3",className:"qs-mobile-toolbar__menu"},i.default.createElement("div",{ref:function e(n){t.element=n}},i.default.createElement(o.List,{variant:"inverse",className:"lui-bg-inverse"},d)))}}]);return t}(i.Component);M.propTypes={helpKey:r.default.string.isRequired,toggleMenu:r.default.func.isRequired,appLayout:r.default.object.isRequired};var N=function e(t){return i.default.createElement(h.default,null,function(e){return i.default.createElement(M,b({},t,{appLayout:e}))})};t.default=N;e.exports=t.default},function(e,t){e.exports='<lui-popover class="qv-appview-navigator" ng-style="style">\n\t<div class="qv-appview qv-pop-appview" qv-appview-init tid="{{input.tid}}"/>\n</lui-popover>\n'},function(e,t){e.exports='<div class="av-container">\n\t<div class="av-nav-tool" ng-if="is.navigator">\n\t\t<div class="av-navigation" ng-if="shownav" qv-appview-navigation>\n\t\t</div>\n\n\t\t<div class="av-toolbar-container" ng-if="!is.smalldevice" qv-appview-toolbar can-create-this-type="exp.canCreateThisType"\n\t\t\t\t\t\t\t\tcan-create-bookmarks="exp.canCreateBookmark"\n\t\t\t\t\t\t\t\tt-add-new="translations.addNew"\n\t\t\t\t\t\t\t\tis-bookmark="is.bookmark"\n\t\t\t\t\t\t\t\tis-navigator="is.navigator"\n\t\t\t\t\t\t\t\tt-navigator-header="translations.navigatorHeader"\n\t\t\t\t\t\t\t\tis-grid="is.grid"\n\t\t\t\t\t\t\t\tadd-item="funcs.addItem()">\n\t\t</div>\n\t</div>\n\t<div class="av-content-container {{navigationmode}}-container" ng-class="{\'qs-ao-sharing\': features.sharing()}" tabindex="-1" ao-scroll>\n\t\t<h2 ng-if="sections.showError" class="qv-ao-h2">\n\t\t\t<div class="err-text" q-translation="{{ translations.emptySectionMessage }}"></div>\n\t\t\t<div ng-if="sections.showErrorHint" class="qv-ao-hint err-text" q-translation="{{ translations.emptySectionHintMessage }}" q-html-translation-indexes=\'["<i class=\\"lui-icon lui-icon--bookmark\\"></i>"]\'></div>\n\t\t</h2>\n\n\t\t<div qva-context-menu="onContextMenu( $event )" ng-if="!is.bookmark && !sections.showError">\n\t\t\t<qv-ao-approved-section ng-if="sections.approved.show || features.sharing()"></qv-ao-approved-section>\n\t\t\t<qv-ao-community-section ng-if="sections.community.show"></qv-ao-community-section>\n\t\t\t<qv-ao-my-published-section ng-if="sections.myPublished.show"></qv-ao-my-published-section>\n\t\t\t<qv-ao-private-section ng-if="sections.myPrivate.show"></qv-ao-private-section>\n\t\t</div>\n\t\t\x3c!-- Bookmarks --\x3e\n\t\t<qv-bookmarks ng-if="is.bookmark" is-visible="!sections.showError && !sections.showErrorHint" smalldevice="is.smalldevice" is-nav="is.navigator" has-bookmarks="exp.hasBookmarks" can-create="exp.canCreateBookmark" set-autofocus="exp.isOpenedByClick"></qv-bookmarks>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1942),n(1943),n(122),n(94),n(215),n(172),n(1433),n(328),n(91)],r=function(e,t,n,i,r,o,a,s,l,u){function c(e){return e.currentApp.getLayout().then(function(t){return e.currentApp.getPublishableStreams().then(function(c){var d=[];d.push(n.createPlayMenuItem(e,i,r,o,a));d.push(n.createPublishMenuItem(e,r,null!==t.stream,c,e.currentApp,s));d.push(n.createUnpublishMenuItem(e,r,null!==t.stream,c,e.currentApp,s));d.push(n.createEditMenuItem(e,i,r));d.push(n.createDuplicateMenuItem(e,t.permissions,e.expandable,l));d.push(n.createApproveMenuItem(e,null!==t.stream));d.push(n.createUnApproveMenuItem(e,null!==t.stream));d.push(n.createDeleteMenuItem(e,u));return d})})}var d={_ctx:null,show:function n(i){var r=e.getService("qvContextMenu");i.closeView=r.close;c(i).then(function(e){var n=e.filter(function(e){return null!==e});if(!n.length){r.close();return}i.menuItems=n;r.show({items:[0]},{component:t,params:i,position:{x:i.event.pageX,y:i.event.pageY},docking:"BottomRight"});d._ctx=r})},close:function e(){d._ctx&&d._ctx.close()}};return d}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(95),n(11),n(1718),n(300),n(436),n(228),n(1719)],r=function(e,t,n,i,r,o){var a={template:n,scope:{options:"="},controller:["$scope","$element",function(n,a){for(var s in n.options.params)n[s]=n.options.params[s];function l(){var e,n=t(".qv-appview-navigator");e=n.length>0&&n.scope?n.scope().navigationmode:o.navigationMode;n=null;return e}n.navigationMode="nav-"+l();var u=null;function c(){return a.children().first()}function d(e,t){e.$$postDigest(function(){e.$$postDigest(t)})}function f(e){d(n,function(){if(n.options.alignTo)i.align(c(),n.options.alignTo,{collision:n.options.collision||"flip",position:n.options.docking||"top"});else{e=e||u;u=e?r.reposition(c(),e):r.position(c(),n.options.docking,n.options.position)}})}if(n.clickedItem.menuLock){n.closeView();return}f();e.subscribe("/resize/start.appview-contextmenu",n.closeView)}]};return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(94),n(143),n(48),n(1294),n(49),n(118)],r=function(e,t,n,i,r,o){var a;var s;function l(){return r.getFlag("AOSHARE")}function u(e){if(o.startsWith(e,"<")&&o.endsWith(e,">"))return encodeURI(e);return e}t.onDataReceived.then(function(e){if("NONE"!==e.userDirectory){a=e.userId;s=e.userDirectory}});function c(e,t){var r=e.clickedItem,o=e.model,a=e.closeView;if(r.permissions.remove)return{text:"Common.Delete",tid:"delete",action:function e(){var s=r.qInfo.qId,l="sheet"===r.qInfo.qType,c=l?"AppOverView.Confirm.Description.Sheet":"AppOverView.Confirm.Description.Story",d=r.qData.labelExpression||r.qData.title;a();var f=i.show({tid:"DeleteSheetStory",title:t.get(l?"AppOverView.Confirm.Title.Sheet":"AppOverView.Confirm.Title.Story"),content:t.get(c,[u(d)]),action:{name:t.get("Common.Delete"),focus:true,tid:"DeleteSheetStory",callback:function e(){n.getService("qvAppViewService").itemInRemove=s;o.remove(s);n.$rootScope.$emit("clearUndo");f.close();f=null}}})}};return null}function d(e,t,i,r){var o=e.clickedItem,a=e.model,s=e.closeView,l="create"+o.qInfo.qType[0].toUpperCase()+o.qInfo.qType.substring(1);if(t[l])return{text:"Common.Duplicate",tid:"duplicate",action:function t(l){i.forceClose();e.AppOverviewState.setAddingItem(true);var u=o.qInfo.qId,c="sheet"===o.qInfo.qType;n.getService("qvAppViewSectionService").setSectionVisible("myPrivate",c);a.get(u).then(function(e){c?r.duplicateSheet(e):r.duplicateStory(e);s()});l.preventDefault()}};return null}function f(e,t,n){var i=e.clickedItem,r=e.closeView,o="sheet"===i.qInfo.qType;if(o&&i.permissions.update&&!((n.view===n.Views.sheet||n.view===n.Views.object)&&n.state===n.States.edit))return{text:"contextMenu.openEdit",tid:"edit",action:function o(){var a=i.qInfo.qId;r();e.closeNavigator();t.goToSheet(a,Object.keys(n.States)[n.States.edit])}};return null}function p(e,t,n,i,r){var o=e.clickedItem,a=e.closeView,s="story"===o.qInfo.qType;if(s)return{text:"contextMenu.play",tid:"play",action:function s(){var l=o.qInfo.qId;i.get(l).then(function(i){i.getLayout().then(function(i){var o=r.sortSlidesByRank(i.qChildList.qItems.slice());a();e.closeNavigator();t.goToStory(l,Object.keys(n.States)[n.States.play],o[0].qInfo.qId)})})}};return null}function h(e,t){if(t)return e?"ContextMenu.SharedSpace.Sheet.Approve":"ContextMenu.SharedSpace.Story.Approve";return e?"ContextMenu.SharedSpace.Sheet.Unapprove":"ContextMenu.SharedSpace.Story.Unapprove"}function v(t,n,i,r,o,u,c){var d=t.clickedItem,f=t.model,p=t.unlock,v=t.lock,m=t.isActive,g=t.closeNavigator,b=t.closeView,y="sheet"===d.qInfo.qType;if(i&&d.permissions.publish){if("unpublish"===c&&d.qMeta&&d.qMeta.published&&!d.qMeta.approved&&d.qMeta.owner.userId===a&&d.qMeta.owner.userDirectory===s)return{text:l()?h(y,false):"contextMenu.unpublish",tid:l()?"unapprove":"unpublish",action:function n(){v();f.get(d.qInfo.qId).then(function(n){n.title=d.qData.labelExpression||d.qData.title;u.openUnpublishDialog(e,t.model,n);p();b()})}};if("publish"===c&&d.qMeta&&!d.qMeta.published)return{text:l()?h(y,true):"contextMenu.publish",tid:l()?"approve":"publish",action:function t(){v();f.get(d.qInfo.qId).then(function(t){t.title=d.qData.labelExpression||d.qData.title;t.sourceObject=d.qMeta.sourceObject;u.openPublishDialog(e,r,o,t);p();b();n&&n.inStoryPlayState&&m&&g()})}}}return null}function m(e,t,n,i,r,o){return v(e,t,n,i,r,o,"publish")}function g(e,t,n,i,r,o){return v(e,t,n,i,r,o,"unpublish")}function b(e,t){var i=e.clickedItem,r=e.model,o="sheet"===i.qInfo.qType,a=e.unlock,s=e.lock,l=e.closeView;if(t&&i.qMeta&&i.qMeta.published&&!i.qMeta.approved&&i.qMeta.privileges&&-1!==i.qMeta.privileges.indexOf("approve"))return{text:"contextMenu.approve",tid:"approve",action:function e(){s();r.get(i.qInfo.qId).then(function(e){e.approve().then(function(){n.getService("qvAppViewSectionService").setSectionVisible("approved",o)})}).finally(function(){l();a()})}};return null}function y(e,t){var i=e.clickedItem,r=e.model,o="sheet"===i.qInfo.qType,a=e.unlock,s=e.lock,l=e.closeView;if(t&&i.qMeta&&i.qMeta.published&&i.qMeta.approved&&i.qMeta.privileges&&-1!==i.qMeta.privileges.indexOf("approve"))return{text:"contextMenu.unapprove",tid:"unapprove",action:function e(){s();r.get(i.qInfo.qId).then(function(e){e.unApprove().then(function(){n.getService("qvAppViewSectionService").setSectionVisible("myPrivate",o)})}).finally(function(){l();a()})}};return null}return{createDeleteMenuItem:c,createDuplicateMenuItem:d,createEditMenuItem:f,createPlayMenuItem:p,createPublishMenuItem:m,createUnpublishMenuItem:g,createApproveMenuItem:b,createUnApproveMenuItem:y}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(50),n(228)],r=function(e,t,n){var i={},r=null;function o(){n.setViewMode(n.ViewMode.list);e.$apply(r)}function a(){n.setViewMode(n.ViewMode.grid);e.$apply(r)}function s(){if(null===r)return;r.is.grid?a():o()}i.isSmallDeviceListner=function e(i,s){if(null===r)return;r.exp.readonly=r.is.appReadOnly;r.is.smalldevice=i;if(i){r.exp.readonly=true;t.orientation!==t.Orientation.landscape?a():o()}else s||(n.viewModeBeforeEnterSmallDevice===n.ViewMode.grid?a():o())};i.orientationChanged=function e(n){if(null===r)return;if(r.is.smalldevice){r.is.grid=t.Orientation.landscape!==n;s()}};i.setup=function e(n){r=n.scope;r.is.smalldevice=t.isSmallDevice;t.ViewChanged.bind(i.isSmallDeviceListner);t.OrientationChanged.bind(i.orientationChanged);r.is.smalldevice&&(r.is.grid=t.orientation!==t.Orientation.landscape);i.isSmallDeviceListner(r.is.smalldevice,true)};i.destroy=function e(){r=null;t.ViewChanged.unbind(i.isSmallDeviceListner);t.OrientationChanged.unbind(i.orientationChanged)};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(94),n(48),n(184),n(228),n(214),n(93)],r=function(e,t,n,i,r,o,a){var s=false;var l=i.createGroup("app-overview",11);function u(){a.getApp().then(function(e){e.global.getConfiguration().then(function(e){!e.qFeatures.qAutoSave&&s&&l.registerKeys("ctrl+s",h,{allowInInput:true})})});l.on()}function c(e){if(e===t.Views.overview){l.off();s=true;u()}else{s=false;l.off()}}t.StateChanged.bind(c);function d(){var t=n.getService("$delayedModal");return e(".lui-dialog").is(":visible")||t.isOpened}function f(){n.$rootScope.$apply(function(){r.setViewMode(r.ViewMode.grid)})}function p(){n.$rootScope.$apply(function(){r.setViewMode(r.ViewMode.list)})}function h(){var e=d();e||o.saveApp()}function v(){var e=n.getService("qvAppViewService");e.addItem()}l.registerKeys("ctrl+g",f);l.registerKeys("ctrl+shift+l",p);l.registerKeys("ctrl+shift+n",v)}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(49),n(1947),n(128),n(1223),n(114),n(91),n(175)],r=function(e,t,n,i,r,o,a){e.directive("qvQuickNavigation",["qvSheetService","$navigationService","qvGlobalSelectionsService",function(e,s,l){return{restrict:"E",scope:{isSmallDevice:"=",sheetTitle:"=",logoImgSrc:"=",logoPlacement:"=",bgColor:"=",fontColor:"="},template:n,replace:true,link:function n(u){u.clientTabNavigation=t.getFlag("CLIENT_TAB_NAVIGATION");u.isSmallDevice&&(u.showAO=function(e){if(e){e.preventDefault();e.stopImmediatePropagation()}r.open(u,{navigationmode:"sheet",translations:{toolbarTitle:"Common.Sheets",toolbarButton:"Common.Done"}})});u.hasPreviousSheet=function(){return s.Sheets.hasPrevious()};u.hasNextSheet=function(){return s.Sheets.hasNext()};u.previousSheetId=function(){var e=s.Sheets.getPrevious();return e?e.qInfo.qId:""};u.nextSheetId=function(){var e=s.Sheets.getNext();return e?e.qInfo.qId:""};u.previousSheetTooltip=function(){var e=s.Sheets.getPrevious();return a.get("Tooltip.PreviousSheet",e?e.qData.labelExpression||e.qData.title:"")};u.nextSheetTooltip=function(){var e=s.Sheets.getNext();return a.get("Tooltip.NextSheet",e?e.qData.labelExpression||e.qData.title:"")};u.goToPrevious=function(){var e=s.Sheets.getPrevious();s.Sheets.navigateToSheet(e);u.isSmallDevice&&d()};u.goToNext=function(){var e=s.Sheets.getNext();s.Sheets.navigateToSheet(e);u.isSmallDevice&&d()};var c=u.$watch(i.getGrid,function(e){u.grid=e});function d(){var t=e.get();if(t&&t.length){t=t.find("#grid")[0];if(t){t.scrollTop=0;t.scrollLeft=0}t=null}}function f(e){u.options.direction=e}u.disable=function(){return l.isSelectActive()||l.getCaoActive()};u.options={direction:""};o.DirectionChanged.bind(f);u.$on("$destroy",function(){c();o.DirectionChanged.unbind(f)})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="quick-navigation" ng-style="{\'background-color\': bgColor, color: fontColor, \'background-image\': bgColor ? \'none\' : \'invalid\'}">\n\n\t<button tid="btnQuickNavPrevious"\n\t\t\tclass="qn-button qn-previous-button"\n\t\t\tng-class="{\n\t\t\t\t\'lui-button\': !isSmallDevice,\n\t\t\t\t\'lui-button--toolbar\': !isSmallDevice && !clientTabNavigation, \n\t\t\t\t\'tabs-nav\': !isSmallDevice && clientTabNavigation, \n\t\t\t\t\'lui-fade-button  lui-fade-button--inverse  lui-fade-button--large\': isSmallDevice\n\t\t\t}"\n\t\t\tng-style="{color: fontColor}"\n\t\t\tng-click="goToPrevious()"\n\t\t\tng-disabled="!hasPreviousSheet() || disable()"\n\t\t\tdata-sheet-id="{{ previousSheetId() }}"\n\t\t\ttitle="{{ previousSheetTooltip() }}">\n\t\t<span\n\t\t\tclass="lui-icon  lui-icon--previous"\n\t\t\tng-class="{\n\t\t\t\t\'lui-button__icon\': !isSmallDevice,\n\t\t\t\t\'lui-fade-button__icon  lui-icon--large\': isSmallDevice\n\t\t\t}"\n\t\t></span>\n\t</button>\n\n\t<div qva-direction x-dir-setting="{{options.direction}}" ng-if="isSmallDevice" class="qn-sheet-title" ng-click="showAO($event)" ng-class="{\'logo-left\': logoPlacement === \'left\', \'logo-center\': logoPlacement === \'center\', \'only-title\' : !logoImgSrc}">\n\t\t<div qva-direction x-dir-text="{{sheetTitle || \'&nbsp;\'}}"class="qv-ellips qn-sheet-title-text" data-tid="qn-sheet-title">{{sheetTitle || "&nbsp;"}}</div>\n\t\t<div class="sheet-title-logo-img" ng-if="!!logoImgSrc">\n\t\t\t<img ng-src="{{ logoImgSrc }}" draggable="false" class="img-no-drag" />\n\t\t</div>\n\t</div>\n\n\t<button tid="btnQuickNavNext"\n\t\t\tclass="qn-button qn-next-button"\n\t\t\tng-class="{\n\t\t\t\t\'lui-button\': !isSmallDevice,\n\t\t\t\t\'lui-button--toolbar\': !isSmallDevice && !clientTabNavigation, \n\t\t\t\t\'lui-fade-button  lui-fade-button--inverse  lui-fade-button--large\': isSmallDevice\n\t\t\t}"\n\t\t\tng-style="{color: fontColor}"\n\t\t\tng-click="goToNext()"\n\t\t\tng-disabled="!hasNextSheet() || disable()"\n\t\t\tdata-sheet-id="{{ nextSheetId() }}"\n\t\t\ttitle="{{ nextSheetTooltip() }}">\n\t\t<span\n\t\t\tclass="lui-icon  lui-icon--next"\n\t\t\tng-class="{\n\t\t\t\t\'lui-button__icon\': !isSmallDevice,\n\t\t\t\t\'lui-fade-button__icon  lui-icon--large\': isSmallDevice\n\t\t\t}"\n\t\t></span>\n\t</button>\n</div>\n'},function(e,t){e.exports='<div class="qv-small-av" tid="appOverivewSmallDevice" ng-class="ngClasses">\n\t<div class="qv-tbar">\n\t\t<div class="title" q-translation="{{translations.toolbarTitle}}"></div>\n\t\t<qui-toolbarbutton ng-disabled="disableButton" class="qv-bm-toolbar-close" ng-click="closeMenu( $event )" q-translation="{{translations.toolbarButton}}" tid="button-close"></qui-toolbarbutton>\n\t</div>\n\t<div class="qv-av" qv-small-appview navigationmode="{{navigationmode}}" ccb="canCreateBookmark" tid="nav-content"></div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(1950)],r=function(e,t,n){function i(e){return e.split("\n").length}function r(e,t){e.attr("rows",t)}function o(e,t){var n=e.split("\n");n.length>t&&(e=n.slice(0,t).join("\n"));return e}t.directive("qveTextarea",function(){return{template:n,replace:true,scope:{minRows:"@",maxRows:"@",maxLength:"@",model:"="},restrict:"E",controller:["$scope","$element",function(t,n){var a=parseInt(t.minRows,10),s=parseInt(t.maxRows,10),l=false,u=false,c=i(t.model),d=true;t.rows=c<a?a:c;n.on("keydown.manual",function(t){var o=e(this),c=i(o.val()),d=c>=s;l=13===t.keyCode;u=8===t.keyCode||46===t.keyCode;if(l)if(c>=a&&!d)r(n,c+1);else if(d)return false}).on("keyup.manual",function(){var t=e(this),o=i(t.val());u&&r(n,o>a?o:a)});t.$watch("model",function(n){t.model=e.trim(o(n,s));if(d&&t.model.length>0){d=false;c=i(t.model);t.rows=c<a?a:c}});t.$on("$destroy",function(){n.off(".manual")})}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<textarea\n\t\trows="{{rows}}"\n\t\tmaxlength="{{maxLength}}"\n\t\tclass="lui-textarea av-textarea"\n\t\tng-model="model"></textarea>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(90),n(1952),n(173),n(99),n(426),n(89),n(1435),n(49),n(1953),n(1954),n(138)],r=function(e,t,n,i,r,o,a,s,l){var u=false,c,d=true,f={ENTER:13};var p=function e(){return l.getFlag("AOSHARE")};e.directive("qvBookmarks",["qvBookmarkService",function(e){return{restrict:"E",template:n,replace:true,scope:{hasBookmarks:"=",smalldevice:"=",canCreate:"=",isNav:"=",isVisible:"=",setAutofocus:"="},link:function t(n,i){var r,o,l;if(n.canCreate){e.setCreating(false);n.createBookmark=e.createBookmark;n.disableButton=function(){return e.isCreateDisabled()}}function h(t,i){n.saveValuesOnDestroy=t;e.getCreating()&&e.setCreating(n.expand.edit,true);if(i[0]&&i[1]){var r=n.bmList[i[2]].list;var o;for(var l=0;l<r.length;l++){o=r[l];if(i[1]===o.qInfo.qId)return e.getBookmarkTitles(o.qInfo.qId).then(function(t){if(s.isNameValid(o.qData.title,t)){n.search.text="";return e.update(o)}o.qData.title=o.qMeta.title})}}return a.resolve()}n.features={sharing:p};n.searchKeyDown=function(e){if(e.which===f.ENTER&&n.expand.search&&i.find(".bm-action")[0]){e.preventDefault();i.find(".bm-action")[0].focus()}};r=n.$watchCollection("[expand.edit, expand.id, expand.name]",h);o=n.$watch("search.text",e.doSearch);l=n.$watchCollection("[expand.hasSearchMatch, bmList.private.show, bmList.approved.show, isNav]",function(){if(n.bmList&&(n.bmList.approved||n.bmList.private)){n.showWarning=!n.expand.hasSearchMatch||!n.bmList.approved.show&&!n.bmList.private.show&&n.isNav;n.hasBookmarks=n.bmList.approved.list.length>0||n.bmList.private.list.length>0;d=false;n.ftw=false}});n.isSectionVisible=function(e){return!n.ftw&&!n.showWarning&&n.isVisible&&e};n.$on("$destroy",function(){h([],n.saveValuesOnDestroy);u=false;r();o();l();c=null;e.destroy()})},controller:["$scope",function(n){n.expand=e.getExpandObject();n.bmList={};n.saveValuesOnDestroy=[];n.search={text:""};n.doSetAutofocus=n.setAutofocus&&!t.isAndroid();n.focus=r.treatAsDesktop();n.ftw=d;n.hasBookmarks=d;n.showWarning=false;o.get().then(function(e){c=e});n.showSearch=false;i.getList().then(function(t){n.model=t;var i=t.layoutSubscribe(function(t){u&&c&&c.reset();u=true;n.bmList=e.createList(t);n.showSearch=n.isNav||n.bmList.approved.show||n.bmList.private.show});n.$on("$destroy",function(){i.dispose()})})}]}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qs-bookmarks" aria-label=" ">\n\n\t<div class="qs-bm-search" ng-keydown="searchKeyDown( $event )" ng-if="showSearch">\n\t\t<lui-search query="search.text" ng-attr-auto-focus="doSetAutofocus" on-escape="search.text = \'\';" placeholder="Common.Search"/>\n\t\t<label class="hidden-screen-reader-label" id="sr-search-label" aria-live="assertive"></label>\n\t</div>\n\n\t<div class="qs-bm-btn" ng-if="canCreate && smalldevice">\n\t\t<lui-button ng-click="createBookmark()"\n\t\t\t\t\tng-disabled="disableButton()"\n\t\t\t\t\tqva-outside-ignore-for="bmexpand"\n\t\t\t\t\tq-translation="Bookmarks.Add"\n\t\t\t\t\ttid="6f7f8f"></lui-button>\n\t</div>\n\n\t<div ng-if="isSectionVisible(bmList.approved.show || features.sharing())" tid="approved">\n\t\t<qv-bookmarks-section ng-if="bmList.approved.list" section="bmList.approved" expand="expand" smalldevice="smalldevice"></qv-bookmarks-section>\n\t</div>\n\t<div ng-if="isSectionVisible(bmList.private.show || features.sharing())" tid="private">\n\t\t<qv-bookmarks-section ng-if="bmList.private.list" is-nav="isNav" section="bmList.private" expand="expand" smalldevice="smalldevice"></qv-bookmarks-section>\n\t</div>\n\t<div class="qs-nomatch" q-translation="{{ !expand.hasSearchMatch ? \'Common.NoMatchesForCurrentSearch\' : \'Bookmarks.NoBookmarks\'}}" ng-if="!ftw && showWarning"></div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(127),n(1720),n(1435),n(120),n(91),n(89),n(173),n(132),n(94),n(1223),n(139),n(500),n(49),n(90),n(49)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m){var g=function e(){return m.getFlag("AOSHARE")};e.service("qvBookmarkService",function(){var e,m,b,y={},x={},w=false,S="";b={id:0,edit:false,search:false,searchString:"",hasSearchMatch:true,name:""};m={approved:{name:"approved",list:[],show:false,divider:false,isVisible:true,translation:g()?"Bookmarks.PublicBookmarks":"Bookmarks.ApprovedBookmarks"},private:{name:"private",list:[],show:false,divider:false,isVisible:true,translation:"Bookmarks.MyBookmarks"}};function C(e,t){y[e].showItem&&(y[e].prio=t)}e={isAdvancedPart3:h.getFlag("ADVANCED_EXPRESSION_EDITOR_PART3"),findQuery:function e(t,n){return-1!==f.string(t).toLowerCase().indexOf(f.string(n).toLowerCase())},doSearch:function t(n){var i=0;b.search=n.length;b.searchString=n;if(!b.search){b.id=0;b.name="";b.searchString="";b.edit=false;b.hasSearchMatch=true}for(var o in y){y[o].showItem=true;y[o].hideDetails=true;if(b.search){C(o,1e3);y[o].showItem=e.findQuery(y[o].title,n);C(o,1);if(!y[o].showItem){y[o].showItem=e.findQuery(y[o].description,n);C(o,2)}if(!y[o].showItem){y[o].showItem=e.findQuery(y[o].selectionFields,n);C(o,3)}if(!y[o].showItem){y[o].showItem=e.findQuery(y[o].sheetName,n);C(o,4)}}y[o].showItem&&i++}if(b.search){r.hasAnyMatches(b,y);var s;s=0===i?a.get("Accessibility.SearchResults.EmptyList.Label",n):1===i?a.get("Accessibility.SearchResults.OneBookmark.Label",n):a.get("Accessibility.SearchResults.MultipleBookmarks.Label",[i,n]);document.querySelector("label#sr-search-label").textContent=s}},setCreating:function e(t,n){n&&(m.private.isVisible=true);w=t},newBookmarkId:function e(){return S},_fetchBookmarks:function e(){return l.getList().then(function(e){return e.getLayout()})},getBookmarkTitles:function e(t){return this._fetchBookmarks().then(function(e){return Object.keys(e).map(function(n){var i=e[n];if(t&&t===i.qInfo.qId)return null;return i.qData.title})})},createBookmark:function t(){var n=s(),i,o,a="",d,f=e;e.setCreating(true);u.get().then(function(e){e.getLayout().then(function(e){var t=r.getSelections(e);for(d=0;d<t.currentSelectCount;d++){d>0&&(a+=", ");a+=t.currentSelectFields[d]}c.model.moveObject&&c.model.getLayout().then(function(e){o=e.qInfo.qId;var t="Bookmarks.DefaultName";f.getBookmarkTitles().then(function(e){i=r.generateUniqueName(t,e);i=v.ellipseText(i,255);l.create({qMetaDef:{title:i},sheetId:o,selectionFields:a}).then(function(e){S=e.id;b.id=e.id;b.edit=true;b.name=m.private.name;n.resolve(e)})})})})});return n.promise},isCreateDisabled:function t(){return c.view===c.Views.story||e.getCreating()},getCreating:function e(){return w||b.search},showEditBtn:function e(t){return t.permissions.update||t.permissions.remove},getExpandObject:function e(){return b},getSections:function e(){return m},setVisibility:function e(t,n){if(n){t.approved.list.length=0;t.private.list.length=0}t.approved.show=0!==t.approved.list.length;t.private.show=0!==t.private.list.length;t.private.divider=t.approved.show&&t.private.show},sortFn:function t(n){if(b.search)return e.getMoreDetails(n).prio;return n.qData.qBookmark.qUtcModifyTime},createList:function t(n){var i=this.getSections();e.setVisibility(i,true);y={};for(var r in n){var o=n[r];o.sheetName||e.setMoreDetails(o);o.qMeta&&o.qMeta.published?i.approved.list.push(o):i.private.list.push(o)}e.setVisibility(i,false);return i},getMoreDetails:function e(t){return y[t.qInfo.qId]},setMoreDetails:function t(n){var i=s();if(!y[n.qInfo.qId]){y[n.qInfo.qId]={};y[n.qInfo.qId].showItem=true;y[n.qInfo.qId].hideDetails=false;y[n.qInfo.qId].sheetIsMissing=false;y[n.qInfo.qId].prio=1e3}y[n.qInfo.qId].title=n.qData.title;y[n.qInfo.qId].description=n.qData.description;y[n.qInfo.qId].selectionFields=n.qData.selectionFields;e.isAdvancedPart3&&e.getCreating()&&e.newBookmarkId()===n.qInfo.qId&&e.getSetExpressionDetails(n);o.get(n.qData.sheetId).then(function(e){e.getLayout().then(function(e){y[n.qInfo.qId].sheetName=e.labelExpression||e.qMeta.title;i.resolve()})},function(){y[n.qInfo.qId].sheetName=a.get("Bookmarks.SheetMissing");y[n.qInfo.qId].sheetIsMissing=true;i.resolve()});return i.promise},getSetExpressionDetails:function e(t){if(x[t.qInfo.qId]){y[t.qInfo.qId].setExpr=x[t.qInfo.qId];return}y[t.qInfo.qId].setExpr=[];var n=t.qData.qBookmark.qStateData,i=[];n.sort(function(e,t){var n=e.qStateName.toUpperCase(),i=t.qStateName.toUpperCase();if(n<i)return-1;if(n>i)return 1;return 0});n.forEach(function(e){var n="$"===e.qStateName?a.get("AlternateState.DefaultState"):e.qStateName,r=n,o="";for(var s=0,l=e.qFieldItems.length;s<l;s++){s>0&&(o+=", ");o+=e.qFieldItems[s].qDef.qName}y[t.qInfo.qId].setExpr.push({title:r,selFields:o,setExpression:""});var u=p.getSelectionsFromBookmarkId(null,t.qInfo.qId,e.qStateName);i.push(u)});s.all(i).then(function(e){e.forEach(function(e,n){void 0===e?y[t.qInfo.qId].setExpr[n].setExpressionErrorText=a.get("ExpressionEditor.TooManySelections"):void 0!==e.qSetExpression&&""!==e.qSetExpression&&(y[t.qInfo.qId].setExpr[n].setExpression="{"+e.qSetExpression+"}")});x[t.qInfo.qId]=y[t.qInfo.qId].setExpr})},applyBookmark:function t(n,o,a){if(!r.isClickOnScrollbar(o)){i.applyBookmark(n.qInfo.qId,a);e.close();return true}return false},shareBookmark:function e(t){l.get(t.item.qInfo.qId).then(function e(n){t.share?n.publish():n.unPublish()})},toogleSection:function e(i,r){m[i].isVisible=!m[i].isVisible;r&&m[i].isVisible&&setTimeout(function(){n.scrollElmentIntoView(t(r.currentTarget).closest(".bm-section").find(".bm-list").first(),"[ao-scroll]")},0)},remove:function e(t){var n=s();l.remove(t.qInfo.qId).then(function(){n.resolve()});return n.promise},update:function e(n){var i=this;return l.get(n.qInfo.qId).then(function(e){return e.getProperties().then(function(o){var a={};n.qData.title=n.qData.title||o.qMetaDef.title;return i.getBookmarkTitles(n.qInfo.qId).then(function(i){if(!r.isNameValid(n.qData.title,i))return{success:false,code:1};a=t.extend(true,o,{qMetaDef:{title:n.qData.title,description:n.qData.description}});return e.setProperties(a).then(function(){return{success:true,code:0}})})})})},close:function e(){d.close()},getScrollSelector:function e(){return".av-content-container"},destroy:function e(){y={};m.approved.list.length=0;m.private.list.length=0}};return e})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1955),n(1294),n(11),n(1956),n(91),n(49),n(162),n(93),n(89),n(1160),n(1435),n(90),n(394),n(1721)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f){var p={ENTER:13,SPACE:32};function h(e){return"private"===e.name}function v(e){return"approved"===e.name}e.directive("qvBookmarksSection",["qvBookmarkService","$timeout","qvAccessibilityKeyService",function(m,g,b){return{restrict:"E",template:t,replace:true,scope:{section:"=",expand:"=",smalldevice:"=",isNav:"="},link:function t(y,x){var w,S,C,E,q=false;var _=null;y.limit=100;y.showHelp=function(){if(a.getFlag("AOSHARE")){var e=y.section.list;var t=0===e.length;return t&&y.section.isVisible}return false};y.showHelpText=function(){return h(y.section)?"Bookmarks.Sharing.Help.Private":"Bookmarks.Sharing.Help.Public"};y.showAoHelp=function(){return h(y.section)&&!y.isNav};y.showPublicHelpDesc=function(){return y.showHelp()&&v(y.section)};function T(e){if(y.expand.search||y.limit>=y.section.list.length)return;var t=e.target;if(t.scrollHeight-t.scrollTop===t.clientHeight){y.limit+=100;y.$apply()}}y.limit<y.section.list.length&&x.closest(".bookmark-container").off("scroll.bookmarks").on("scroll.bookmarks",T);function k(){return s.getProperties().catch(function(){throw new Error("Could not fetch app properties")})}function O(e,t){t=t||false;return l.getApp().then(function(n){if(!n.layout.permissions.update)return u.resolve();if(t&&y.defaultBookmarkId&&y.defaultBookmarkId===e)y.defaultBookmarkId=_;else{if(t||y.defaultBookmarkId===e)return u.resolve();y.defaultBookmarkId=e}var i=y.defaultBookmarkId;return s.setProperties({defaultBookmarkId:i}).catch(function(){D();throw new Error('Could not save new bookmark:" + defaultBookmarkId + ". Reverting...')})})}function D(){return k().then(function(e){y.defaultBookmarkId=e.defaultBookmarkId||_;return y.defaultBookmarkId})}function A(){y.focusOnButton=!y.expand.edit;y.focusOnButton&&!y.expand.search&&x.find(".btn-edit")[0]&&x.find(".btn-edit")[0].focus();y.border=y.section.divider&&!y.smalldevice}function I(e){return m.getBookmarkTitles(e.qInfo.qId).then(function(t){var n=d.isNameValid(e.qData.title,t);y.nameIsInvalid=!n;return n})}function L(e,t){if(y.expand.id!==e.qInfo.qId&&y.expand.search){y.expand.id=e.qInfo.qId;y.expand.edit=false}else if(y.expand.id===e.qInfo.qId&&y.expand.search){y.resetExpandInfoHolder();return u.resolve()}y.expand.edit=!y.expand.edit;y.expand.name=t;y.expand.edit?y.scrollObj.scroll=y.expand.id:y.scrollObj.scroll=false;m.setCreating(false);return u.resolve()}y.scrollObj={};y.scrollObj.scrollSelector=m.getScrollSelector();y.focusOnButton=true;y.showEditBtn=m.showEditBtn;y.getMoreDetails=m.getMoreDetails;y.sortFn=m.sortFn;y.isAdvancedPart3=m.isAdvancedPart3;y.getCreating=m.getCreating;a.getFlag("DEFAULT_BOOKMARK")&&D();y.resetExpandInfoHolder=function(){y.expand.id=0;y.expand.edit=false};y.onOutsideClick=function(){y.expand.edit?g(function(){i('[tid="exp-edit"]').click()}):g(y.resetExpandInfoHolder)};y.setDefaultBookmark=function(e){var t=e.qInfo.qId;return O(t)};y.removeDefaultBookmark=function(e){var t=e.qInfo.qId;return O(t,true)};y.applySelections=function(e,t){m.applyBookmark(e,t)&&y.$emit("closeNavigator")};y.shareBookmark=m.shareBookmark;y.onContextMenu=function(t,n){var i=e.getService("qvContextMenu");var o={event:t,clickedItem:n,defaultBookmarkId:y.defaultBookmarkId,smalldevice:y.smalldevice,remove:function e(){y.removeBookmark(n)},inEdit:function e(){return y.inEdit(n)},setDefaultBookmark:function e(){return y.setDefaultBookmark(n)},removeDefaultBookmark:function e(){return y.removeDefaultBookmark(n)},applySelections:function e(){y.applySelections(n,t)},shareBookmark:function e(t){y.shareBookmark(t)}};o.closeView=i.close;i.show({items:[0]},{component:r,params:o,position:{x:t.pageX,y:t.pageY},docking:"BottomRight"})};y.applyBookmark=function(e,t){var n="button, input, textarea",r=i(t.target).closest(n).length;if(y.inEdit(e)||r)return;c.shouldApplyDefaultBookmark=false;m.applyBookmark(e,t,true)&&y.$emit("closeNavigator")};y.removeBookmark=function(e){var t=n.show({title:o.get("Bookmarks.Delete.Title"),content:o.get("Bookmarks.Delete.Item",[e.qMeta.title]),tid:"deleteConfirmationDialog",action:{name:o.get("Common.Delete"),tid:"bookmarks.delete.confirm.button",focus:true,callback:function n(){if(a.getFlag("DEFAULT_BOOKMARK"))y.removeDefaultBookmark(e).then(function(){m.remove(e).then(y.resetExpandInfoHolder).then(function(){t.close()})});else{m.remove(e).then(y.resetExpandInfoHolder);t.close()}}}})};y.toggleSection=function(e,t){y.resetExpandInfoHolder();m.toogleSection(e,t)};y.toggleEdit=function(e,t){if(y.expand.edit){e.qData.title=f.ellipseText(e.qData.title,255);return I(e).then(function(n){return n?L(e,t):u.resolve()})}return L(e,t)};y.showDetails=function(e,t){var n=function n(){if(y.expand.search){y.resetExpandInfoHolder();y.expand.name=t}else{y.expand.id=e.qInfo.qId;y.expand.edit=false;y.expand.name=t}};if(y.expand.id===e.qInfo.qId&&!y.expand.search){y.resetExpandInfoHolder();return}y.expand.search&&(n=function n(){y.expand.name=t;y.expand.edit=false;y.getMoreDetails(e).hideDetails=!y.getMoreDetails(e).hideDetails});m.setMoreDetails(e).then(function(){n();m.isAdvancedPart3&&m.getSetExpressionDetails(e)})};y.inEdit=function(e){return y.expand.id===e.qInfo.qId&&y.expand.edit};y.showExpandable=function(e){y.focusOnButton=!y.expand.search;return y.expand.id===e.qInfo.qId||y.expand.search&&!y.getMoreDetails(e).hideDetails};y.isItemVisible=function(e){var t;t=y.expand.search?y.getMoreDetails(e).showItem:y.section.isVisible;return t};var P;y.accCallback=function(e){y.sortedList.forEach(function(t,n){var i;if(n===e){t.tab=0;i=x[0].getElementsByClassName("bm-action");i.length&&i[e]&&i[e].focus()}else-1!==t.tab&&(t.tab=-1)})};y.$watch("sortedList.length",function(){if(y.section.list.length){P=y.section.name+y.section.list[0].qInfo.qType;b.deleteList(P)}y.sortedList.forEach(function(e,t){e.tab=0===t?0:-1;b.addItem(e.qInfo.qId,y.accCallback,y.section.name+e.qInfo.qType)})});y.onKeyDown=function(e,t){y.nameIsInvalid=false;switch(t.which){case b.UP_KEY:case b.DOWN_KEY:b.key(t.which,y.section.name+y.section.list[0].qInfo.qType,true,t);break;case p.ENTER:case p.SPACE:i(t.target).hasClass("bm-action")&&y.applyBookmark(e,t);break}};y.focusBookmark=function(){q||(y.srBookmarkListLabel=o.get("Accessibility.BookmarkList.Label"))};y.blurBookmark=function(){q=document.activeElement.classList.contains("bm-action");y.srBookmarkListLabel=""};y.getAccessibilityLabel=function(){return o.get(y.section.translation)+". "+o.get("Accessibility.BookmarkSection.NumberOfBookmarks",y.section.list.length)};S=y.$watchCollection("[smalldevice, expand.edit]",A);C=y.$watch("expand.search",function(e){y.scrollObj.scroll=!e});E=y.$watch(m.newBookmarkId,function(e){y.scrollObj.scroll=e});y.$on("$destroy",function(){w&&w.destroy&&w.destroy();b.deleteList(P);S();C();E();y.resetExpandInfoHolder();w=null;i(".bookmark-container").off("scroll.bookmarks")});y.copySetExpression=function(e){var t=i(e.target).siblings(".bm-set-expression-text");if(t.length){t=t[0];var n=document.createRange();t.contentEditable=true;t.readOnly=false;n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges();r.addRange(n);t.setSelectionRange(0,999999);t.select();document.execCommand("copy");t.contentEditable=false;t.readOnly=true;setTimeout(function(){e.target.focus()},250)}}}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="bm-section" aria-hidden="true">\n\t<div ng-if="border" class="section-line"></div>\n\t<div class="qs-tb" ng-if="!expand.search" aria-hidden="true">\n\t\t<button class="header" tid="headerTitle"\n\t\t\t\tng-click="toggleSection(section.name, $event)"\n\t\t\t\taria-label="{{getAccessibilityLabel()}}">\n\t\t\t<span class="{{ section.isVisible ? \'lui-icon lui-icon--triangle-bottom\' : \'lui-icon lui-icon--triangle-right\' }} section-c-indicator"\n\t\t\t\t  q-title-translation="{{ section.isVisible ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"\n\t\t\t\t  aria-hidden="true"></span>\n\t\t\t<span class="section-title" q-translation="{{ section.translation }}" aria-hidden="true"></span>\n\t\t\t<span tid="nmbInSection"> ({{section.list.length}})</span>\n\t\t</button>\n\t</div>\n\t<div ng-if="showHelp()" class="qs-bm-help-text">\n\t\t<h1 q-translation="{{showHelpText()}}"></h1>\n\t\t<span ng-if="showPublicHelpDesc()" class="qs-bm-help-text-desc" q-translation="Bookmarks.Sharing.Help.Public.Description"></span>\n\t\t<div ng-if="showAoHelp()" q-translation="Bookmarks.NoBookmarks.Hint" q-html-translation-indexes=\'["<i class=lui-icon--toolbar></i>"]\'></div>\n\t</div>\n\t<div tid="bmSectionRepeat"\n\t\tclass="bm-action"\n\t\tng-repeat="item in (sortedList = (section.list | orderBy:sortFn | limitTo:limit)) track by item.qInfo.qId"\n\t\tng-if="isItemVisible( item )"\n\t\tqva-context-menu="onContextMenu( $event, item )"\n\t\tng-click="applyBookmark( item, $event )"\n\t\tng-keydown="onKeyDown( item, $event )"\n\t\tng-attr-tabindex="{{!expand.search ? item.tab: 0}}"\n\t\tng-focus="focusBookmark()"\n\t\tng-blur="blurBookmark()">\n\t\t<label class="hidden-screen-reader-label" id="sr-bookmark-list-label">{{srBookmarkListLabel}}</label>\n\t\t<div class="bm-list" ng-if="!inEdit( item )" ng-class="{\'first\': $first, \'last\': $last}">\n\t\t\t<div class="bm-td-c">\n\t\t\t\t<div class="bm-title">\n\t\t\t\t\t<span class="bm-tc" qve-highlight text="{{getMoreDetails( item ).title}}" query="expand.searchString"></span>\n\t\t\t\t\t<div ng-if="defaultBookmarkId === item.qInfo.qId" class="badge" q-translation="Bookmarks.AppDefault" q-title-translation="Tooltip.Bookmarks.AppDefault"></div>\n\t\t\t\t</div>\n\t\t\t\t\n\n\t\t\t\t<drm-format-date date="item.qData.creationDate" skeleton="yMd"></drm-format-date>\n\t\t\t\t<label class="hidden-screen-reader-label" q-translation="Accessibility.Bookmark.Activate.Label"></label>\n\t\t\t</div>\n\t\t\t<button class="lui-fade-button  icon-touch-area" ng-class="{\'active-bm\': showExpandable( item )}" q-title-translation="Tooltip.Details" ng-click="showDetails( item, section.name )" qva-outside-ignore-for="bmexpand" tabindex="-1">\n\t\t\t\t<i class="lui-fade-button__icon  lui-icon  lui-icon--info"></i>\n\t\t\t</button>\n\t\t</div>\n\t\t<div ng-if="showExpandable( item )" class="bm-expand" qva-scroll-into-view="scrollObj" qva-outside="onOutsideClick()" qva-outside-ignore-for="bmexpand">\n\t\t\t<div class="bm-meta">\n\t\t\t\t<div class="arrowtip-up" ng-if="!inEdit( item )">\n\t\t\t\t\t<div class="inner-arrow"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="bm-m-cont" ng-class="{\'edit\': inEdit( item ), \'view\': !inEdit( item )}">\n\t\t\t\t\t<div class="bm-top">\n\t\t\t\t\t\t<div class="bm-left">\n\t\t\t\t\t\t\t<div class="bm-desc" ng-class="{\'bm-margin\': item.qData.description}" ng-if="!inEdit( item )"><span class="bm-description" qve-highlight text="{{getMoreDetails( item ).description}}" query="expand.searchString"></span></div>\n\t\t\t\t\t\t\t<div class="bm-desc" ng-if="inEdit( item )">\n\t\t\t\t\t\t\t\t<div q-translation="Common.Title"></div>\n\t\t\t\t\t\t\t\t<input tabindex="0" qv-enter="toggleEdit( item, section.name )" qva-select type="text" maxlength="255" class="lui-input bm-input" ng-class="{\'lui-invalid\': nameIsInvalid}" ng-model="item.qData.title"/>\n\t\t\t\t\t\t\t\t<div ng-if="nameIsInvalid && item.qData.title.length" q-translation="Bookmarks.DuplicateTitle" class="invalid"></div>\n\t\t\t\t\t\t\t\t<div ng-if="nameIsInvalid && !item.qData.title.length" q-translation="Bookmarks.EmptyTitle" class="invalid"></div>\n\t\t\t\t\t\t\t\t<div class="bm-padding-top" q-translation="Common.Description"></div>\n\t\t\t\t\t\t\t\t<textarea tabindex="0" maxlength="512" ng-model="item.qData.description" ng-disabled="!item.permissions.update" class="lui-textarea bm-txtarea"></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bm-right">\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\t\t\t\t\ttid="exp-edit"\n\t\t\t\t\t\t\t\t\tqva-focus="focusOnButton"\n\t\t\t\t\t\t\t\t\tng-click="toggleEdit( item, section.name )"\n\t\t\t\t\t\t\t\t\tqv-enter="toggleEdit( item, section.name )"\n\t\t\t\t\t\t\t\t\tng-if="showEditBtn( item )"\n\t\t\t\t\t\t\t\t\tdata-name="edit"\n\t\t\t\t\t\t\t\t\tq-title-translation="{{ inEdit(item) ? \'Tooltip.StopEdit\' : \'Common.Edit\' }}"\n\t\t\t\t\t\t\t\t\tdata-action="toggleEdit">\n\t\t\t\t\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--{{inEdit( item ) ? \'tick  lui-text-success\' : \'edit\'}}"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div class="bm-btn-remove">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\t\t\t\t\t\tng-click="removeBookmark( item )"\n\t\t\t\t\t\t\t\t\t\tng-if="expand.edit && item.permissions.remove && inEdit( item )"\n\t\t\t\t\t\t\t\t\t\tq-title-translation="Common.Delete">\n\t\t\t\t\t\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--bin"></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bm-bottom" ng-if="!isAdvancedPart3">\n\t\t\t\t\t\t<div class="bm-desc">\n\t\t\t\t\t\t\t<span class="bm-lbl" q-translation="Bookmarks.Selections"></span>:\n\t\t\t\t\t\t\t<span class="bm-val" qve-highlight text="{{getMoreDetails( item ).selectionFields  || \'-\' }}" query="expand.searchString"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bm-desc">\n\t\t\t\t\t\t\t<span class="bm-lbl" q-translation="Bookmarks.Location">Location</span>:\n\t\t\t\t\t\t\t<span class="bm-val" qve-highlight text="{{getMoreDetails( item ).sheetName}}" query="expand.searchString"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bm-desc default-bookmark" ng-if="defaultBookmarkId === item.qInfo.qId">\n\t\t\t\t\t\t\t<span class="bm-val" qve-highlight q-translation="Bookmarks.AppDefault.Hint"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bm-bottom" ng-if="isAdvancedPart3">\n\t\t\t\t\t\t<div class="bm-desc">\n\t\t\t\t\t\t\t<span class="bm-lbl" q-translation="Bookmarks.Location">Location</span>:\n\t\t\t\t\t\t\t<span class="bm-val" qve-highlight text="{{getMoreDetails( item ).sheetName}}" query="expand.searchString"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bm-desc default-bookmark" ng-if="defaultBookmarkId === item.qInfo.qId">\n\t\t\t\t\t\t\t<span class="bm-val" qve-highlight q-translation="Bookmarks.AppDefault.Hint"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bm-left" ng-if="!getCreating( item )" >\n\t\t\t\t\t\t\t<div class="bm-desc" ng-repeat="setExprItem in getMoreDetails( item ).setExpr">\n\t\t\t\t\t\t\t\t<div class="bm-desc bm-padding-top">\n\t\t\t\t\t\t\t\t\t<span class="bm-lbl">{{setExprItem.title}}</span>:\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span q-translation="Bookmarks.Selections"></span>:\n\t\t\t\t\t\t\t\t<span class="bm-val" qve-highlight text="{{setExprItem.selFields || \'-\' }}"></span>\n\t\t\t\t\t\t\t\t<div q-translation="Bookmarks.SetExpression" ></div>\n\t\t\t\t\t\t\t\t<textarea class="bm-set-expression-text lui-textarea lui-textarea--inverse" qve-highlight readonly text="{{ setExprItem.setExpression || setExprItem.setExpressionErrorText }}"></textarea>\n\t\t\t\t\t\t\t\t<button class="lui-button lui-button--inverse bm-set-expression-copy-btn" ng-click="copySetExpression( $event )" ng-disabled="!setExprItem.setExpression" q-translation="Common.Copy"></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(1957),n(1718),n(97),n(300),n(436),n(228),n(49),n(93)],r=function(e,t,n,i,r,o,a,s,l){var u={template:n,scope:{options:"="},controller:["$scope","$element",function(n,u){for(var c in n.options.params)n[c]=n.options.params[c];function d(){var t=e(".qv-appview-navigator");return t.length>0&&t.scope?t.scope().navigationmode:a.navigationMode}n.navigationMode="nav-"+d();var f=[];var p=null;function h(){return u.children().first()}function v(e,t){e.$$postDigest(function(){e.$$postDigest(t)})}function m(e){v(n,function(){if(n.options.alignTo)r.align(h(),n.options.alignTo,{collision:n.options.collision||"flip",position:n.options.docking||"top"});else{e=e||p;p=e?o.reposition(h(),e):o.position(h(),n.options.docking,n.options.position)}})}n.closeView=function(){i.off("start.bookmarks");n.destroyComponent()};f.push(t.createApplyMenuItem(n));s.getFlag("AOSHARE")&&f.push(t.createShareMenuItem(n));l.getApp().then(function(e){e.getLayout().then(function(i){if(s.getFlag("DEFAULT_BOOKMARK")&&!i.published&&i.permissions.update){var r=n.input.options.params.clickedItem;var o=n.input.options.params.defaultBookmarkId;var a=o&&o===r.qInfo.qId;a?f.push(t.createRemoveDefaultMenuItem(n,e)):f.push(t.createSetDefaultMenuItem(n,e))}f.push(t.createDeleteMenuItem(n));n.menuItems=f.filter(function(e){return null!==e});n.showMenu=n.menuItems.length>0})});i.on("start.bookmarks",n.closeView);n.$on("$destroy",function(){i.off("start.bookmarks")});m()}]};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){var t=e.clickedItem,n=e.closeView,i=e.remove;if(t.permissions.remove)return{text:"Common.Delete",tid:"bm-delete",action:function e(){n();i(-1,t)}};return null}function t(e,t){if(!t.published&&t.layout.permissions.update)return{text:"Bookmarks.ContextMenu.SetDefaultBookmark",tid:"bm-setdefault-sel",action:function t(){e.closeView();e.setDefaultBookmark()}};return null}function n(e,t){if(!t.published&&t.layout.permissions.update)return{text:"Bookmarks.ContextMenu.RemoveDefaultBookmark",tid:"bm-removedefault-sel",action:function t(){e.closeView();e.removeDefaultBookmark()}};return null}function i(e){return{text:"Bookmarks.ContextMenu.ApplySelections",tid:"bm-apply-sel",action:function t(){e.closeView();e.applySelections()}}}function r(e){var t=e.clickedItem,n=t.qMeta.published,i=t.permissions.publish;if(i&&!e.smalldevice)return{text:n?"ContextMenu.SharedSpace.Bookmark.Unapprove":"ContextMenu.SharedSpace.Bookmark.Approve",tid:n?"bm-unapprove":"bm-approve",action:function i(){e.shareBookmark({item:t,share:!n});e.closeView()}};return null}return{createDeleteMenuItem:e,createSetDefaultMenuItem:t,createRemoveDefaultMenuItem:n,createApplyMenuItem:i,createShareMenuItem:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1959),n(228)],r=function(e,t,n){e.directive("qvAppviewNavigation",function(){return{restrict:"A",replace:true,template:t,controller:["$scope",function(e){e.sheetClicked=function(){n.setNavigationMode(n.NavigationMode.sheet)};e.bookmarkClicked=function(){n.setNavigationMode(n.NavigationMode.bookmark)};e.storyClicked=function(){n.setNavigationMode(n.NavigationMode.story)};function t(t){e.is.sheet=t===n.NavigationMode.sheet;e.is.bookmark=t===n.NavigationMode.bookmark;e.is.story=t===n.NavigationMode.story}n.NavigationModeChanged.bind(t);e.$on("$destroy",function(){n.NavigationModeChanged.unbind(t)})}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div>\n\t<button class="av-nav-cont lui-fade-button"\n\t\t q-title-translation="Common.Sheets"\n\t\t data-type="sheets"\n\t\t ng-class="{ \'qui-active\': is.sheet }"\n\t\t tid="nav-sheet"\n\t\t ng-click="sheetClicked()">\n\t\t<span class="lui-icon lui-icon--sheet" aria-hidden="true"></span>\n\t\t<span class="av-nav-title">{{"Common.Sheets" | translate }}</span>\n\t</button>\n\t<button class="av-nav-cont av-nav-bm lui-fade-button"\n\t\t q-title-translation="Common.Bookmarks"\n\t\t data-type="bookmarks"\n\t\t ng-class="{ \'qui-active\':  is.bookmark }"\n\t\t tid="nav-bookmark"\n\t\t ng-click="bookmarkClicked()">\n\t\t<span class="lui-icon lui-icon--bookmark" aria-hidden="true"></span>\n\t\t<span class="av-nav-title">{{"Common.Bookmarks" | translate }}</span>\n\t</button>\n\t<button class="av-nav-cont lui-fade-button"\n\t\t q-title-translation="Common.Stories"\n\t\t data-type="stories"\n\t\t ng-class="{ \'qui-active\': is.story }"\n\t\t tid="nav-story"\n\t\t ng-click="storyClicked()">\n\t\t<span class="lui-icon lui-icon--slide-show" aria-hidden="true"></span>\n\t\t<span class="av-nav-title">{{"Common.Stories" | translate }}</span>\n\t</button>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1961),n(228),n(1436)],r=function(e,t,n){e.directive("qvAppviewToolbar",function(){return{restrict:"A",replace:true,template:t,scope:{canCreateThisType:"=",canCreateBookmarks:"=",tAddNew:"=",isBookmark:"=",isNavigator:"=",tNavigatorHeader:"=",isGrid:"=",addItem:"&"},controller:["$scope","$$expandable","qvBookmarkService",function(e,t,i){function r(t){e.isAdding=t}n.AddingItemChanged.bind(r);e.createBookmark=i.createBookmark;e.disableButton=function(){return i.isCreateDisabled()};e.goToGrid=function(){n.setViewMode(n.ViewMode.grid);e.isGrid=true};e.goToList=function(){t.forceClose();n.setViewMode(n.ViewMode.list);e.isGrid=false};e.$on("$destroy",function(){n.AddingItemChanged.unbind(r)})}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div>\n\t<h1 class="av-h1" ng-if="isNavigator" q-translation="{{tNavigatorHeader}}"/>\n\n\t<div class="buttons" ng-show="!isBookmark" tid="ao-btns" aria-hidden="true">\n\t\t<div class="av-button-div" ng-if="canCreateThisType" qva-outside-ignore-for="expandable">\n\t\t\t<lui-button ng-disabled="isAdding"\n\t\t\t\t\t\tng-click="addItem()"\n\t\t\t\t\t\ttid="tlb-add"\n\t\t\t\t\t\tq-title-translation="{{tAddNew}}"\n\t\t\t\t\t\tdata-name="addSheet"><span q-translation="{{tAddNew}}"></span></lui-button>\n\t\t</div>\n\t\t<div class="lui-buttongroup">\n\t\t\t<button class="lui-button"\n\t\t\t\t\tng-class="{\'lui-active\': isGrid }"\n\t\t\t\t\tng-click="goToGrid()"\n\t\t\t\t\tid="viewmode-grid"\n\t\t\t\t\tdata-name="grid"\n\t\t\t\t\tdata-tid="ao-viewmode-grid"\n\t\t\t\t\tq-title-translation="Tooltip.Grid"><span class="lui-icon  lui-icon--grid" aria-hidden="true"></span>\n\t\t\t</button>\n\t\t\t<button class="lui-button"\n\t\t\t\t\tng-class="{\'lui-active\': !isGrid }"\n\t\t\t\t\tng-click="goToList()"\n\t\t\t\t\tid="viewmode-list"\n\t\t\t\t\tdata-name="vertical"\n\t\t\t\t\tdata-tid="ao-viewmode-list"\n\t\t\t\t\tq-title-translation="Tooltip.List"><span class="lui-icon  lui-icon--list" aria-hidden="true"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<div class="buttons" ng-if="isBookmark && canCreateBookmarks">\n\t\t<lui-button qva-outside-ignore-for="bmexpand"\n\t\t\t\t\tng-click="createBookmark()"\n\t\t\t\t\tng-disabled="disableButton()"\n\t\t\t\t\ttid="addBookmarks"><span q-translation="Bookmarks.Add"></span>\n\t\t</lui-button>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1963)],r=function(e,t){e.directive("qvAoApprovedSection",function(){return{restrict:"E",template:t,replace:true,link:function e(t){t.getListItems=function(){var e=0,n=0,i,r=t.is.sheet?t.approvedSheets:t.approvedStories;r.forEach(function(t){e||(e=t.addButton?1:0);n||(n=t.isPhSort?1:0)});i=r.length-n-e;return i};t.showHelp=function(){var e=t.sections.approved;var n=t.is.sheet?e.sheets:e.stories;return t.features.sharing()&&0===t.getListItems()&&n.expand};t.canSort=function(){return t.features.sharing()&&t.canUpdateApp&&!t.is.smalldevice}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div tid="approved-section" ng-class="{\'qv-list-approved\': !is.grid}">\n\t\x3c!-- Header --\x3e\n\t<div class="qs-tb" aria-hidden="true">\n\t\t<button class="header" tid="ApprovedTitle" ng-click="toggleCollapse($event, \'approved\', is.sheet)" aria-label="{{translations.approvedHeader}}. {{translations.numberOfItems(is.sheet ? approvedSheets.length : approvedStories.length)}}">\n\t\t\t<span class="{{ (is.sheet && sections.approved.sheets.expand || is.story && sections.approved.stories.expand) ? \'lui-icon lui-icon--triangle-bottom\' : \'lui-icon lui-icon--triangle-right\' }} section-c-indicator"\n\t\t\t q-title-translation="{{ (is.sheet && sections.approved.sheets || is.story && sections.approved.stories.expand) ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"\n\t\t\t aria-hidden="true"></span>\n\t\t\t<span class="section-title" aria-hidden="true">{{translations.approvedHeader}}</span>\n\t\t\t<span tid="nmbInSection" aria-hidden="true"> ({{getListItems()}})</span>\n\t\t</button>\n\t</div>\n\n\t<div ng-if="showHelp()" class="qs-ao-help-text">\n\t\t<h1>{{translations.sharingHelp}}</h1>\n\t\t<span class="qs-ao-help-text-desc">{{translations.sharingHelpDesc}}</span>\n\t</div>\n\t\x3c!-- Sheets --\x3e\n\t<ul class="qv-content-ul" qv-sortable-list="baseSheetSortableItemLists" ng-if="is.sheet && sections.approved.sheets.expand && !is.smallAppView"\n\t ng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="ApprovedSheets">\n\n\t\t<ao-item ng-class="{ \'last\': $last, \'can-sort\': canSort(item), \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened }"\n\t\t ng-repeat="item in approvedSheets track by item.qInfo.qId" ng-style="item.style" type="\'approved\'" />\n\t</ul>\n\t\x3c!-- SmallDevices --\x3e\n\t<ul class="qv-content-ul" ng-if="is.sheet && sections.approved.sheets.expand && is.smallAppView" tid="ApprovedSheets">\n\n\t\t<ao-small-item ng-class="{\'first\': $first, \'middle\': $middle ,\'last\': $last, \'qv-active-item\': isActive}" ng-repeat="item in approvedSheets track by item.qInfo.qId" />\n\t</ul>\n\n\t\x3c!-- Stories --\x3e\n\t<ul class="qv-content-ul" qv-sortable-list="baseStorySortableItemLists" ng-if="is.story && sections.approved.stories.expand"\n\t ng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="ApprovedStories">\n\n\t\t<ao-item ng-class="{ \'last\': $last, \'can-sort\': canSort(item), \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened }"\n\t\t ng-repeat="item in approvedStories track by item.qInfo.qId" ng-style="item.style" type="\'approvedstory\'" />\n\t</ul>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1965)],r=function(e,t){e.directive("qvAoPrivateSection",function(){return{restrict:"E",template:t,replace:true,link:function e(t){t.getListItems=function(){var e=0,n=0,i,r=t.is.sheet?t.privateSheets:t.privateStories;r.forEach(function(t){e||(e=t.addButton?1:0);n||(n=t.isPhSort?1:0)});i=r.length-n-e;return i};t.canSort=function(e){if(t.features.sharing())return t.canUpdateApp&&!t.is.smalldevice;return!e.readOnly&&!t.is.smalldevice}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div tid="private-section">\n\t\x3c!-- Header --\x3e\n\t<div class="section-line" ng-if="sections.myPrivate.showHeaderLine || features.sharing()"></div>\n\t<div class="qs-tb" aria-hidden="true">\n\t\t<button class="header" tid="PrivateTitle"\n\t\t\t\tng-click="toggleCollapse($event, \'myPrivate\', is.sheet)"\n\t\t\t\taria-label="{{translations.myWorkHeader}}. {{translations.numberOfItems(getListItems())}}">\n\t\t\t<span class="{{ (is.sheet && sections.myPrivate.sheets.expand || is.story && sections.myPrivate.stories.expand) ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon section-c-indicator"\n\t\t\t\t  q-title-translation="{{ (is.sheet && sections.myPrivate.sheets.expand || is.story && sections.myPrivate.stories.expand) ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"\n\t\t\t      aria-hidden="true"></span>\n\t\t\t<span class="section-title"\n\t\t\t\t  aria-hidden="true">{{translations.myWorkHeader}}</span>\n\t\t\t<span tid="nmbInSection" aria-hidden="true"> ({{getListItems()}})</span>\n\t\t</button>\n\t</div>\n\n\t\x3c!-- Sheets --\x3e\n\t<div ng-if="is.sheet && sections.myPrivate.sheets.expand && (exp.canCreateThisType || privateSheets.length)">\n\t\t<ul class="qv-content-ul"\n\t\t\tqv-sortable-list="sheetSortableItemLists"\n\t\t\tng-if="!is.smallAppView"\n\t\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="PrivateSheets"\n\t\t\taria-label=" ">\n\n\t\t\t<ao-item\n\t\t\t\t\tng-class="{\n\t\t\t\t\t\'last\': $last,\n\t\t\t\t\t\'can-sort\': canSort(item),\n\t\t\t\t\t\'qv-add\': item.addButton,\n\t\t\t\t\t\'ng-hide\': item.addButton && is.smalldevice,\n\t\t\t\t\t\'inEdit\': inEdit,\n\t\t\t\t\t\'qv-active-item\': isActive,\n\t\t\t\t\t\'qv-expandable-opened\': isExpandableOpened\n\t\t\t\t\t}"\n\t\t\t\t\tng-repeat="item in privateSheets track by item.qInfo.qId"\n\t\t\t\t\tng-style="item.style"\n\t\t\t\t\ttype="\'private\'"\n\t\t\t\t\t/>\n\t\t</ul>\n\t\t\x3c!-- SmallDevices --\x3e\n\t\t<ul class="qv-content-ul"\n\t\t\tng-if="is.smallAppView"\n\t\t\ttid="PrivateSheets">\n\t\t\t<ao-small-item\n\t\t\t\t\tng-repeat="item in privateSheets track by item.qInfo.qId"\n\t\t\t\t\tng-class="{\'first\': $first, \'middle\': $middle ,\'last\': $last, \'qv-active-item\': isActive}"\n\t\t\t\t\tng-if="!item.addButton"\n\t\t\t\t\t/>\n\t\t</ul>\n\t</div>\n\n\t\x3c!-- Stories --\x3e\n\t<div ng-if="is.story && sections.myPrivate.stories.expand && (exp.canCreateThisType || privateStories.length)">\n\t\t<ul class="qv-content-ul"\n\t\t\tqv-sortable-list="storySortableItemLists"\n\t\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="PrivateStories">\n\n\t\t\t<ao-item\n\t\t\t\t\tng-class="{\n\t\t\t\t\t\'last\': $last,\n\t\t\t\t\t\'can-sort\': !item.readOnly && !is.smalldevice,\n\t\t\t\t\t\'qv-add\': item.addButton,\n\t\t\t\t\t\'ng-hide\': item.addButton && is.smalldevice,\n\t\t\t\t\t\'inEdit\': inEdit,\n\t\t\t\t\t\'qv-active-item\': isActive,\n\t\t\t\t\t\'qv-expandable-opened\': isExpandableOpened\n\t\t\t\t\t}"\n\t\t\t\t\tng-repeat="item in privateStories track by item.qInfo.qId"\n\t\t\t\t\tng-style="item.style"\n\t\t\t\t\ttype="\'privatestory\'"\n\t\t\t\t\t/>\n\t\t</ul>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1967)],r=function(e,t){e.directive("qvAoMyPublishedSection",function(){return{restrict:"E",template:t,replace:true}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div id="published-section">\n\t\x3c!-- Header --\x3e\n\t<div class="section-line" ng-if="sections.myPublished.showHeaderLine"></div>\n\t<div class="qs-tb" aria-hidden="true">\n\t\t<button class="header"\n\t\t\t\tng-click="toggleCollapse($event, \'myPublished\', is.sheet)"\n\t\t\t\ttid="MyPublishedTitle"\n\t\t\t\taria-label="{{translations.myPublishedHeader}}. {{translations.numberOfItems(is.sheet ? myPublishedSheets.length : myPublishedStories.length)}}">\n\t\t\t<span class="{{ (is.sheet && sections.myPublished.sheets.expand || is.story && sections.myPublished.stories.expand) ? \'lui-icon lui-icon--triangle-bottom\' : \'lui-icon lui-icon--triangle-right\' }} section-c-indicator"\n\t\t\t\t  q-title-translation="{{ (is.sheet && sections.myPublished.sheets.expand || is.story && sections.myPublished.stories.expand) ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"\n\t\t\t\t  aria-hidden="true"></span>\n\t\t\t<span class="section-title" aria-hidden="true">{{translations.myPublishedHeader}}</span>\n\t\t\t<span tid="nmbInSection" aria-hidden="true"> ({{is.sheet ? myPublishedSheets.length : myPublishedStories.length}})</span>\n\t\t</button>\n\t</div>\n\t\x3c!-- Sheets --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.sheet && sections.myPublished.sheets.expand && !is.smallAppView"\n\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="MyPublishedSheets">\n\t\t<ao-item ng-repeat="item in myPublishedSheets track by item.qInfo.qId"\n\t\t\t\t ng-class="{\'last\': $last, \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened}"\n\t\t\t\t type="\'published\'"/>\n\t</ul>\n\t\x3c!-- SmallDevices --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.sheet && sections.myPublished.sheets.expand && is.smallAppView"\n\t\ttid="MyPublishedSheets">\n\n\t\t<ao-small-item\n\t\t\t\tng-class="{\'first\': $first, \'middle\': $middle ,\'last\': $last, \'qv-active-item\': isActive}"\n\t\t\t\tng-repeat="item in myPublishedSheets track by item.qInfo.qId"\n\t\t\t\t/>\n\t</ul>\n\n\t\x3c!-- Stories --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.story && sections.myPublished.stories.expand"\n\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="MyPublishedStories">\n\t\t<ao-item ng-repeat="item in myPublishedStories track by item.qInfo.qId"\n\t\t\t\t ng-class="{\'last\': $last, \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened}"\n\t\t\t\t type="\'publishedstory\'"/>\n\t</ul>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1969)],r=function(e,t){e.directive("qvAoCommunitySection",function(){return{restrict:"E",template:t,replace:true}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="community-section" tid="community-section">\n\t\x3c!-- Header --\x3e\n\t<div class="section-line" ng-if="sections.community.showHeaderLine"></div>\n\t<div class="qs-tb" aria-hidden="true">\n\t\t<button class="header"\n\t\t\t\ttid="CommunityTitle"\n\t\t\t\tng-click="toggleCollapse($event, \'community\', is.sheet)"\n\t\t\t\taria-label="{{translations.communityHeader}}. {{translations.numberOfItems(is.sheet ? communitySheets.length : communityStories.length)}}">\n        \t<span class="{{ (is.sheet && sections.community.sheets.expand || is.story && sections.community.stories.expand) ? \'lui-icon lui-icon--triangle-bottom\' : \'lui-icon lui-icon--triangle-right\' }} section-c-indicator"\n\t\t\t\t  q-title-translation="{{ (is.sheet && sections.community.sheets.expand || is.story && sections.community.stories.expand) ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"\n\t\t\t\t  aria-hidden="true"></span>\n\t\t\t<span class="section-title" aria-hidden="true">{{translations.communityHeader}}</span>\n\t\t\t<span tid="nmbInSection" aria-hidden="true"> ({{is.sheet ? communitySheets.length : communityStories.length}})</span>\n\t\t</button>\n\n\t\t<div class="sorting-options lui-buttongroup" ng-if="is.sheet ? sections.community.sheets.expand : sections.community.stories.expand">\n\n\t\t\t<lui-button\n\t\t\t\tng-click="exp.toggleAscDesc()"\n\t\t\t\tclass="asc-desc"\n\t\t\t\ttitle="{{ ::(\'Common.SortDirection\' | translate) }}">\n\t\t\t\t<span class="lui-icon  lui-button__icon" ng-class="exp.isAscending ? \'lui-icon--ascending\' : \'lui-icon--descending\'"></span>\n\t\t\t</lui-button>\n\n\t\t\t<lui-select\n\t\t\t\t\tng-if="is.sheet"\n\t\t\t\t\tclass="sort-filter"\n\t\t\t\t\tx-model="exp.sheetsFilter"\n\t\t\t\t\tx-options="option.value as option.text | translate for option in exp.sections"\n\t\t\t\t\ttitle="{{ ::(\'Common.SortOptions\' | translate) }}" />\n\n\t\t\t<lui-select\n\t\t\t\t\tng-if="is.story"\n\t\t\t\t\tclass="sort-filter"\n\t\t\t\t\tx-model="exp.storiesFilter"\n\t\t\t\t\tx-options="option.value as option.text | translate for option in exp.sections"\n\t\t\t\t\ttitle="{{ ::(\'Common.SortOptions\' | translate) }}" />\n\t\t</div>\n\t</div>\n\t\x3c!-- Sheets --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.sheet && sections.community.sheets.expand && !is.smallAppView"\n\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}" tid="CommunitySheets">\n\n\t\t<ao-item\n\t\t\t\tng-repeat="item in communitySheets track by item.qInfo.qId"\n\t\t\t\tng-class="{\'last\': $last, \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened}"\n\t\t\t\ttype="\'community\'"\n\t\t\t\t/>\n\t</ul>\n\t\x3c!-- SmallDevices --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.sheet && sections.community.sheets.expand && is.smallAppView"\n\t\ttid="CommunitySheets">\n\n\t\t<ao-small-item\n\t\t\t\tng-class="{\'first\': $first, \'middle\': $middle ,\'last\': $last, \'qv-active-item\': isActive}"\n\t\t\t\tng-repeat="item in communitySheets track by item.qInfo.qId"\n\t\t\t\t/>\n\t</ul>\n\n\t\x3c!-- Stories --\x3e\n\t<ul class="qv-content-ul"\n\t\tng-if="is.story && sections.community.stories.expand"\n\t\tng-class="{\'qv-grid\': is.grid, \'qv-list\': !is.grid}">\n\n\t\t<ao-item ng-repeat="item in communityStories track by item.qInfo.qId"\n\t\t\t\t ng-class="{\'last\': $last, \'qv-active-item\': isActive, \'qv-expandable-opened\': isExpandableOpened}"\n\t\t\t\t type="\'communitystory\'"/>\n\t</ul>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(228),n(1971),n(1972),n(1973),n(1974),n(1975),n(122),n(202),n(94),n(120),n(215),n(127),n(1223),n(1434),n(832),n(1295),n(89),n(99),n(150),n(91),n(50),n(1976),n(1978),n(319),n(1723),n(1436),n(1721)],r=function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,v,m,g,b,y,x,w,S){var C,E=null,q="[ao-scroll]",_=false,T={ENTER:13,SPACE:32};function k(e,t,n,i){var r=e.item.qInfo.qId;var o=n.getAllStateKeys();if("story"===e.item.qInfo.qType){var a=o[S.isSmallDevice?n.States.play:n.States.editstory];t.goToStory(r,a)}else{n.view===n.Views.story&&"sheet"===n.model.layout.qInfo.qType&&n.SheetChanged.emit(n.model);var s=n.view===n.Views.overview;u.getCurrentSheetViewState(!!e.item.qMeta.published,s).then(function(e){t.goToSheet(r,e)})}i&&h.close();e.$emit("closeNavigator")}function O(e){if(e.is.sheet)return v.getSheetProperties(e.item.qInfo.qId).then(function(t){e.itemProps=t;e.thumbProps=t.thumbnail});if(e.is.story)return v.getStoryProperties(e.item.qInfo.qId).then(function(t){e.itemProps=t;e.thumbProps=t.thumbnail})}function D(e){return e.is.sheet?v.getSheetLayout(e.item.qInfo.qId).then(function(t){e.itemLayout=t;e.thumbLayout=t.thumbnail}):v.getStoryLayout(e.item.qInfo.qId).then(function(t){e.itemLayout=t;e.thumbLayout=t.thumbnail})}function A(e,t){var n=t.closest("li").scope();return e.is.sheet?d.get(e.item.qInfo.qId).then(function(t){n.modelItem=t;n.modelItem.Invalidated.bind(e.updateThumbLayout)}):f.get(e.item.qInfo.qId).then(function(t){n.modelItem=t;n.modelItem.Invalidated.bind(e.updateThumbLayout)})}function I(e,n,i,r){b.all({props:O(e),layout:D(e),bindItemLayout:A(e,n)}).then(function(){e.item.expandableOptions={currentItem:e.item,scrollElem:n.closest(".av-content-container"),scrollSelector:q,template:s,thatScope:e,isEditMode:i,showEditBtn:r,itemProps:e.itemProps,thumbProps:e.thumbProps,itemLayout:e.itemLayout,thumbLayout:e.thumbLayout,isSheet:e.is.sheet,saveDataCallback:e.commitNewDetails};var o=t.getService("$$expandable");o.open(e.item.qInfo.qId)})}function L(e,t,n){switch(e){case"goToItem":k(t,l,c,false);break;case"toggleExpandable":I(t,n,false,true);break;case"removeItem":t.$emit("removeItem");break}}function P(e){if(e.is.bookmark)return w.get("Accessibility.BookmarkList.Label");if(e.is.grid)return e.is.sheet?w.get("Accessibility.GridView.SheetList.Label"):e.is.story?w.get("Accessibility.GridView.StoryList.Label"):"";return e.is.sheet?w.get("Accessibility.ListView.SheetList.Label"):e.is.story?w.get("Accessibility.ListView.StoryList.Label"):""}function M(e,t){var n="";e.item.qMeta.published&&(n=t.find("#details-published").text());e.item.qMeta.description&&(n+=w.get("Accessibility.Description.Label")+" "+e.item.qMeta.description);e.item.qMeta.published||e.item.qMeta.description||(n=w.get("Accessibility.ListView.NoOtherDetails.Label"));return n}function N(e){if(e.is.sheet)return w.get("Accessibility.GridView.Sheet.Label",e.item.qData.labelExpression||e.item.qData.title);if(e.is.story)return w.get("Accessibility.GridView.Story.Label",e.item.qData.labelExpression||e.item.qData.title)}t.directive("aoItem",["$timeout","qvAppViewService","qvAccessibilityKeyService",function(r,o,a){return{restrict:"E",replace:true,template:i,link:function i(s,l,u){l.attr("data-name",s.item.qInfo.qId);o.ready=false;s.itemProps={qMetaDef:{description:"",title:""}};if(u.type&&!s.item.addButton){s.tab=0===s.$index?0:-1;s.accCallback=function(e,t){s.tab=s.$index===e?0:-1;s.$index!==e||t||l.focus()};a.addItem(s.$id,s.accCallback,u.type);!s.item.qMeta.approved&&s.item.qMeta.published&&s.$watchCollection("[exp.sheetsFilter, exp.storiesFilter, exp.isAscending]",function(e,t){void 0!==e&&e!==t&&0===s.$index&&r(function(){a.softReset(u.type)})});s.item.qMeta.approved||s.item.qMeta.published||s.$watch("item.id",function(e,t){void 0!==e&&e!==t&&r(function(){a.softReset(u.type)})})}function c(e){if(n.newRank===s.item.qData.rank&&n.addingItem){e?I(s,l,true,false):o.itemInEdit=s.item.qInfo.qId;n.newRank=null;r.cancel(C);C=r(function(){n.setAddingItem(false);e||p.scrollElmentIntoView(l,q)},50)}}o.setIsReady();s.performAction=function(t){t.stopPropagation();var n=p.getAction(t,null,true).action;if(!n)return;s.$broadcast("performAction",{event:t,target:e(t.target),action:n})};s.listKeyDown=function(t){switch(t.which){case a.RIGHT_KEY:0===s.tab&&u.type&&!s.item.addButton&&a.key(t.which,u.type,!s.is.grid,t);var n=l.find("#sr-details-label");if(!s.is.grid&&(s.is.sheet||s.is.story)){n.text(M(s,l));n.text("")}break;case a.LEFT_KEY:case a.UP_KEY:case a.DOWN_KEY:0===s.tab&&u.type&&!s.item.addButton&&a.key(t.which,u.type,!s.is.grid,t);break;case T.ENTER:case T.SPACE:e(t.target).hasClass("qv-content-li")&&s.performAction(t);break}};s.updateThumbLayout=function(){D(s)};var d=t.getService("$$expandable");s.expand=d.getExpandObject();s.$watch("expand.id",function(e){if(e===s.item.qInfo.qId)s.isExpandableOpened=true;else{if(s.isExpandableOpened&&s.modelItem){s.modelItem.Invalidated.unbind(s.updateThumbLayout);s.modelItem=null}s.isExpandableOpened=false}});s.$watch(o.getItemInEdit,function(){s.inEdit=o.itemInEdit===s.item.qInfo.qId;s.inEdit&&O(s)});s.$watch(o.getActive,function(){s.isActive=o.getActive()===s.item.qInfo.qId});c(s.is.grid);s.$on("$destroy",function(){u.type&&!s.item.addButton&&a.removeItem(u.type,s.$id);r.cancel(C);C=null});s.onFocus=function(){var e;e=_?N(s):P(s)+" "+N(s);l.find("#item-title").attr("title",e)};s.onBlur=function(){_=document.activeElement.classList.contains("qv-content-li");l.find("#item-title").attr("title",s.item.qData.labelExpression||s.item.qData.title)}}}}]);t.directive("aoGrid",function(){return{restrict:"E",replace:true,template:o,link:function e(t){t.$on("performAction",function(e,n){L(n.action,t,n.target)})}}});t.directive("aoList",["qvAppViewService","$timeout",function(e,t){return{restrict:"E",replace:true,template:a,link:function i(r,o){if(r.item.isPhSort)return;r.showEdit=!n.addingItem;r.$on("performAction",function(t,n){n.target.is("button")&&n.target.blur();if(r.inEdit&&"removeItem"!==n.action)return;if(r.inEdit&&"removeItem"===n.action){n.event.stopPropagation();n.event.preventDefault()}r.inEdit&&(e.itemInRemove=r.item.qInfo.qId);L(n.action,r,n.target,n.event)});r.toggleEdit=function(){r.focusEditBtn=false;var n=g.isClickOnScrollbar(q);if(m.isShown()&&r.inEdit||x.isOpen()&&r.inEdit||n)return;!r.inEdit&&y.treatAsDesktop()||t(function(){r.focusEditBtn=true},100);if(r.inEdit){e.itemInEdit=null;return}e.itemInEdit=r.item.qInfo.qId;E=setTimeout(function(){p.scrollElmentIntoView(o,q)})};r.editBtnKeyDown=function(e){e.which!==T.ENTER&&e.which!==T.SPACE||r.toggleEdit()};function a(t){var i=e.getItemInEdit()===r.item.qInfo.qId,a=e.itemInRemove===r.item.qInfo.qId;o.find("textarea").blur();r.showEdit=!(n.addingItem&&i);a?e.itemInRemove=null:!i&&!t||r.hideEdit||r.commitNewDetails(r.item)}r.$watch("inEdit",function(e,t){t&&a(true)});r.$watch(function(){return e.isOpeningContext()},function(e){r.inEdit&&e&&r.toggleEdit()});r.$on("$destroy",function(){e.getItemInEdit()&&a(true);clearTimeout(E);E=null})}}}]);t.directive("aoSmallItem",["qvAppViewService",function(e){return{restrict:"E",replace:true,template:r,scope:true,link:function t(n,i){i.attr("data-name",n.item.qInfo.qId);e.ready=false;n.goToItem=function(){k(n,l,c,true)};n.$watch(e.getActive,function(){n.isActive=e.getActive()===n.item.qInfo.qId});e.setIsReady()}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<li class="qv-content-li"\n\tqva-outside-ignore-for="listviewedit"\n\tng-keydown="listKeyDown( $event )"\n\tdata-action="goToItem"\n\tng-attr-tabindex="{{tab}}"\n\tng-focus="onFocus()"\n\tng-blur="onBlur()">\n\t<ao-grid ng-if="is.grid && !item.addButton"></ao-grid>\n\t<ao-list ng-if="!is.grid && !item.addButton"></ao-list>\n\t<ao-add ng-if="item.addButton && exp.canCreateThisType"></ao-add>\n</li>\n'},function(e,t){e.exports='<li class="qv-small-li">\n\t<div class="qv-item" ng-click="goToItem()" title="{{item.qData.labelExpression || item.qData.title}}">\n\t\t{{item.qData.labelExpression || item.qData.title || "&nbsp;"}}\n\t</div>\n</li>\n'},function(e,t){e.exports='<div class="qv-content-li-inner">\n\t<div class="item-border-wrapper">\n\t\t<div class="qv-item-border-outer" ng-if="is.story && !item.addButton"></div>\n\t\t<div class="qv-item-border-inner" ng-if="is.story && !item.addButton"></div>\n\t\t<div class="qv-content-item" ng-class="item.classList">\n\t\t\t<div qv-ao-thumb item="item"\n\t\t\t\t ng-click="performAction($event)"\n\t\t\t\t class="qv-thumb-wrap"\n\t\t\t\t islist="0"\n\t\t\t\t data-action="goToItem"\n\t\t\t\t issheet="is.sheet"\n\t\t\t\t thumblayout="item.qData.thumbnail"\n\t\t\t\t editmode="false"></div>\n\n\t\t\t<div class="qv-details-wrap"\n\t\t\t\t tabindex="-1"\n\t\t\t\t ng-click="performAction($event)"\n\t\t\t\t ng-class="{\'active\': isExpandableOpened}"\n\t\t\t\t qva-outside-ignore-for="expandable"\n\t\t\t\t data-action="{{is.smalldevice ? \'goToItem\' : \'toggleExpandable\'}}">\n\t\t\t\t<div class="qv-details-name">\n\t\t\t\t\t<div class="qv-text">\n\t\t\t\t\t\t<span class="q-ellipsis" id="item-title" title="{{item.qData.labelExpression || item.qData.title}}">{{item.qData.labelExpression || item.qData.title}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="qv-details-info" ng-if="!is.smalldevice" tabindex="-1">\n\t\t\t\t\t<span class="lui-icon lui-icon--info" q-title-translation="Tooltip.Details"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<qv-expandable options=item.expandableOptions ng-if="isExpandableOpened"/>\n</div>\n'},function(e,t){e.exports='<div class="item-border-wrapper" ng-class="item.classList">\n\t<div class="qv-content-item" ng-click="performAction($event)">\n\t\t<div qv-ao-thumb item="item"\n\t\t\t islist="1"\n\t\t\t class="qv-thumb-wrap"\n\t\t\t issheet="is.sheet"\n\t\t\t thumblayout="item.qData.thumbnail"\n\t\t\t thumbprop = "thumbProps"\n\t\t\t editmode="inEdit"></div>\n\n\t\t<div class="qv-details-wrap" ng-if="!inEdit">\n\t\t\t<div class="ao-mw">\n\t\t\t\t<div class="qv-details-name">\n\t\t\t\t\t<div class="qv-text" id="item-title" title="{{item.qData.labelExpression || item.qData.title}}" aria-hidden="true">{{item.qData.labelExpression || item.qData.title}}</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div id="details-published" ng-if="item.qMeta.published" aria-hidden="true">\n\t\t\t\t\t<div class="details">\n\t\t\t\t\t\t<span q-translation="Appoverview.Published"></span>\n\t\t\t\t\t\t<drm-format-date x-date="item.qMeta.publishTime" x-skeleton="yMMMdjm"></drm-format-date>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="details" ng-if="item.qMeta.owner && item.qMeta.owner.name">\n\t\t\t\t\t\t<span q-translation="Appoverview.PublishedBy"></span>\n\t\t\t\t\t\t<span>{{ item.qMeta.owner.name }} ({{ item.qMeta.owner.userDirectory }})</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="description" aria-hidden="true">{{item.qData.descriptionExpression || item.qData.description || "&nbsp;"}}</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="inEdit"\n\t\t\t class="qv-details-wrap edit"\n\t\t\t data-action="none"\n\t\t\t qva-outside="toggleEdit()" qva-outside-ignore-for="listviewedit">\n\t\t\t<div class="ao-mw">\n\t\t\t\t<div class="title-text" q-translation="Common.Title"></div>\n\t\t\t\t<input qv-enter="toggleEdit()"\n\t\t\t\t\t   ng-disabled="item.qMeta.sourceObject.length"\n\t\t\t\t\t   qva-select={{!item.qMeta.sourceObject.length}}\n\t\t\t\t\t   type="text" maxlength="255"\n\t\t\t\t\t   class="av-input lui-input"\n\t\t\t\t\t   ng-model="itemProps.qMetaDef.title"/>\n\n\t\t\t\t<div class="description-text" q-translation="Common.Description"></div>\n\t\t\t\t<qv-description-textarea\n\t\t\t\t\t\tdescription="itemProps.qMetaDef.description"\n\t\t\t\t\t\tdescription-expression="itemProps.descriptionExpression"\n\t\t\t\t\t\tdisable-expression="!is.sheet">\n\t\t\t\t</qv-description-textarea>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="buttons"\n\t\t\t data-action=""\n\t\t\t ng-if="item.permissions.update && !is.smalldevice"\n\t\t\t ng-click="performAction($event)"\n\t\t\t ng-class="{\'new-item\': !showEdit}"\n\t\t\t tabindex="-1">\n\n\t\t\t<button\n\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\ttid="exp-edit"\n\t\t\t\t\tng-if="showEdit"\n\t\t\t\t\tng-click="toggleEdit()"\n\t\t\t\t\tng-keydown="editBtnKeyDown($event)"\n\t\t\t\t\tqva-focus="focusEditBtn"\n\t\t\t\t\tq-title-translation="{{inEdit ? \'Tooltip.StopEdit\' : \'Common.Edit\'}}"\n\t\t\t\t\tdata-action="toggleEdit"\n\t\t\t\t\ttabindex="{{inEdit ? 0 : -1}}">\n\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--{{inEdit ? \'tick  lui-text-success\' : \'edit\'}}"></span>\n\t\t\t</button>\n\n\t\t\t<button\n\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\ttid="exp-del"\n\t\t\t\t\tng-if="item.permissions.remove && inEdit"\n\t\t\t\t\tq-title-translation="Common.Delete"\n\t\t\t\t\tdata-action="removeItem">\n\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--bin"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<label class="hidden-screen-reader-label" id="sr-details-label" aria-live="assertive"></label>\n</div>\n'},function(e,t){e.exports='<div class="qv-expandable">\n\t<div class="arrow-wrapper" data-action="">\n\t\t<div class="arrowtip-up" qva-outside-ignore-for="expandable">\n\t\t\t<div class="inner-arrow" />\n\t\t</div>\n\t</div>\n\t<div class="qv-item-expandable"\n\t\t ng-class="{\'edit-mode\': isEditMode}"\n\t\t data-name="{{currentItem.qInfo.qId}}"\n\t\t ng-attr-data-action="{{isEditMode ? \'\': \'goToItem\'}}"\n\t\t ng-click="goToItemExpandable( $event )"\n\t\t qva-outside="onOutsideEvent( $event )"\n\t\t qva-outside-ignore-for="addSheet">\n\t\t<div tid="dw" class="e-dw non-edit-mode" ng-if="!isEditMode">\n\t\t\t<div class="ao-mw">\n\t\t\t\t<div class="qv-expand-title">\n\t\t\t\t\t<span q-title-translation="{{ currentItem.qData.labelExpression || currentItem.qData.title }}" class="title">{{ currentItem.qData.labelExpression || currentItem.qData.title  }}</span>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="currentItem.qReadOnly" class="details" q-translation="App.ReadOnly"></div>\n\t\t\t\t<div class="details" ng-if="currentItem.qMeta.published">\n\t\t\t\t\t<span q-translation="Appoverview.Published"></span>\n\t\t\t\t\t<drm-format-date x-date="currentItem.qMeta.publishTime" x-skeleton = "yMMMdjm"></drm-format-date>\n\t\t\t\t</div>\n\t\t\t\t<div class="details" ng-if="currentItem.qMeta.published && currentItem.qMeta.owner && currentItem.qMeta.owner.name">\n\t\t\t\t\t<span q-translation="Appoverview.PublishedBy"></span>\n\t\t\t\t\t<span>{{ currentItem.qMeta.owner.name }} ({{ currentItem.qMeta.owner.userDirectory }})</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="description">{{ itemLayout.descriptionExpression || itemProps.qMetaDef.description }}</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div tid="dw" class="e-dw" ng-if="isEditMode">\n\t\t\t<div class="item-thumbnail-flex-wrapper">\n\t\t\t\t<div qv-ao-thumb\n\t\t\t\t\t item="currentItem"\n\t\t\t\t\t issheet="isSheet"\n\t\t\t\t\t thumbprop="thumbProps"\n\t\t\t\t\t thumblayout="thumbLayout"\n\t\t\t\t\t editmode="true">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="edit-details-flex-wrapper ao-mw">\n\t\t\t\t<div class="title-text" q-translation="Common.Title"></div>\n\t\t\t\t<div class="av-input-wrapper">\n\t\t\t\t\t<input qv-enter="toggleEditMode( $event )"\n\t\t\t\t\t\tng-disabled="currentItem.qMeta.sourceObject.length"\n\t\t\t\t\t\tqva-select={{!currentItem.qMeta.sourceObject.length}}\n\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\tmaxlength="255"\n\t\t\t\t\t\tclass="lui-input av-input"\n\t\t\t\t\t\tng-model="itemProps.qMetaDef.title">\n\t\t\t\t</div>\n\n\t\t\t\t<div class="description-text" q-translation="Common.Description"></div>\n\t\t\t\t<qv-description-textarea\n\t\t\t\t\t\tdescription="itemProps.qMetaDef.description"\n\t\t\t\t\t\tdescription-expression="itemProps.descriptionExpression"\n\t\t\t\t\t\tdisable-expression="!isSheet">\n\t\t\t\t</qv-description-textarea>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="currentItem.permissions.update"\n\t\t\t class="buttons"\n\t\t\t ng-class="{\'new-item\': !showEdit}">\n\t\t\t<button\n\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\ttid="exp-edit"\n\t\t\t\t\tqva-focus="!isEditMode && focusEditBtn"\n\t\t\t\t\tng-if="showEdit"\n\t\t\t\t\tdata-name="edit"\n\t\t\t\t\tq-title-translation="{{ isEditMode ? \'Tooltip.StopEdit\' : \'Common.Edit\' }}"\n\t\t\t\t\tng-click="toggleEditMode( $event )">\n\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--{{isEditMode ? \'tick  lui-text-success\' : \'edit\'}}"></span>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\t\tclass="lui-overlay-button"\n\t\t\t\t\ttid="exp-del"\n\t\t\t\t\tng-if="currentItem.permissions.remove && isEditMode"\n\t\t\t\t\tdata-name="remove"\n\t\t\t\t\tq-title-translation="Common.Delete"\n\t\t\t\t\tng-click="removeItemExpandable( $event )">\n\t\t\t\t<span class="lui-overlay-button__icon  lui-icon  lui-icon--bin"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1977)],r=function(e,t){e.directive("aoAdd",function(){return{restrict:"E",replace:true,template:t,link:function e(t){t.titleType=t.is.sheet?"AppOverview.Toolbar.CreateNewSheet":"AppOverview.Toolbar.CreateNewStory"}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="item-border-wrapper">\n\t<div ng-click="funcs.addItem( $event )"\n\t\t tid="cont-add"\n\t\t class="qv-content-item"\n\t\t tabindex="-1">\n\t\t<div class="qv-add-cont">\n\t\t\t<div class="ao-icon">\n\t\t\t\t<span class="lui-icon  lui-icon--plus"></span>\n\t\t\t</div>\n\t\t\t<div class="ao-text-wrapper">\n\t\t\t\t<div class="ao-text" q-translation="{{ titleType }}"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(127),n(99),n(1434)],r=function(e,t,n,i){e.directive("aoScroll",["qvAppViewService","$timeout",function(e,r){return{restrict:"A",scope:{},link:function o(a,s){var l;function u(){if(!e.blockScrollIntoView){r.cancel(l);l=r(function(){var e=s.find(".qv-active-item");e.length&&t.scrollElmentIntoView(e,s,true)})}}n.treatAsDesktop()&&!e.getActive()&&a.$destroy();n.treatAsDesktop()||s.on("touchmove.stv",function(e){i.preventScroll()&&e.preventDefault()});if(e.getActive()){a.$watch(e.getActive,function(){a.activeId=e.getActive();u()});a.$watch(e.isGrid,function(){s[0].scrollTop=0;e.blockScrollIntoView=null;a.isGrid=e.isGrid();u()});a.$on("$destroy",function(){s.off("touchmove.stv");r.cancel(l);l=null})}}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-item-border-outer" ng-if="showBorder"></div>\n<div class="qv-item-border-inner" ng-if="showBorder"></div>\n<div class="item-thumb" ng-class="{ editMode: editmode}">\n\t<div ng-if="editmode" class="edit-thumb-area">\n\t\t<button class="lui-overlay-button set-thumb" ng-click="modifyThumb(\'change\')" q-title-translation="Thumbnail.Change" ng-style="setThumbStyle">\n\t\t\t<span class="lui-overlay-button__icon  lui-icon lui-icon--image"></span>\n\t\t</button>\n\n\t\t<div ng-if="thumbUrl" class="touch-area" ng-click="modifyThumb(\'remove\')">\n\t\t\t<button class="lui-overlay-button lui-overlay-button--small removeThumb" q-title-translation="Thumbnail.Remove">\n\t\t\t\t<span class="lui-overlay-button__icon lui-icon lui-icon--small lui-icon--close"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<div ng-if="!thumbUrl" qv-item-thumb-generate class="ao-flex" ng-class="extraClass" aria-hidden="true">\n\t\t<img qva-prevent-drag ng-if="ngImgSrc" class="item-thumb-img img-no-drag" ng-src="{{ ngImgSrc }}">\n\t\t<div ng-if="hasStorySvg" storytelling-thumbnail></div>\n\t</div>\n\t<img qva-prevent-drag ng-if="thumbUrl" ng-src="{{ imgSrc }}" class="item-thumb-img img-no-drag"/>\n\t<div class="thumb-hover"></div>\n\t<div ng-if="statusIndicator && !editmode" qv-item-indicator type="indicatorType"></div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(1981)],r=function(e,t){e.directive("qvItemIndicator",function(){return{restrict:"A",replace:true,scope:{type:"="},template:t,link:function e(t){if("draft"===t.type){t.indicatorClass="draft-indicator";t.label="Common.Draft"}else{t.indicatorClass="updating-indicator";t.label="Common.Updating"}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="item-indicator" ng-class="indicatorClass">\n\t<span class="qv-iis" q-translation="{{label}}"></span>\n\t<div class="triangle"></div>\n</div>'},function(e,t){e.exports='<div class="qv-story-slide-thumbnail">\n    <div ng-repeat="item in items">\n        <div class="qv-slide-thumb-obj" ng-style="item.qData.position" ng-switch="item.qData.visualization">\n\t\t\t<div ng-switch-when="text" class="default-text {{item.qData.visualizationType}}" storytelling-thumbnail-obj></div>\n            <img ng-switch-when="shape" ng-src="{{ item.qData.dataPath }}" storytelling-thumbnail-obj></img>\n            <span ng-switch-when="snapshot" class="{{ item.thumbnailClass }}" storytelling-thumbnail-obj></span>\n            <div ng-switch-when="sheet" class="sheet-bg-icon" storytelling-thumbnail-obj></div>\n            <span ng-switch-when="image" class="lui-icon lui-icon--image" storytelling-thumbnail-obj></span>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<img class="svg" ng-src="{{ dataPath }}" />\n\n\n\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(n(98));var r=a(n(116));var o=n(171);function a(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var n=t.tid,r=t.onClick,a=t.iconName,s=t.children;return i.default.createElement(o.List.Item,{tid:n,onClick:r},i.default.createElement(o.List.Aside,null,i.default.createElement(o.Icon,{name:a})),i.default.createElement(o.List.Text,null,s))};s.propTypes={tid:r.default.string.isRequired,iconName:r.default.string.isRequired,onClick:r.default.func.isRequired,children:r.default.node.isRequired};var l=s;t.default=l;e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=q(n(98));var r=E(n(116));var o=n(171);var a=E(n(48));var s=E(n(91));var l=E(n(90));var u=E(n(95));var c=E(n(1424));var d=E(n(94));var f=E(n(177));var p=E(n(997));var h=E(n(988));var v=E(n(438));var m=E(n(49));var g=E(n(1987));var b=E(n(1991));var y=E(n(1998));var x=E(n(1999));var w=E(n(2e3));var S=E(n(2001));var C=n(1096);n(2002);n(1726);n(415);function E(e){return e&&e.__esModule?e:{default:e}}function q(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return _.apply(this,arguments)}function T(e){T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return T(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function D(e,t,n){t&&O(e.prototype,t);n&&O(e,n);return e}function A(e,t){if(t&&("object"===T(t)||"function"===typeof t))return t;return L(e)}function I(e){I=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return I(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&M(e,t)}function M(e,t){M=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return M(e,t)}function N(e){if(e===d.default.Views.overview)return null;switch(e){case d.default.Views.story:return"story";case d.default.Views.sheet:case d.default.Views.object:case d.default.Views.masterObject:return"analysis";case d.default.Views.dataManager:case d.default.Views.dataSpaceScriptEditor:case d.default.Views.dataSpaceAssociations:case d.default.Views.dataSpaceDataModel:return"data";default:return null}}var R=function(e){P(t,e);function t(e){var n;k(this,t);n=A(this,I(t).call(this,e));var r=l.default.getParameterByName("app");n.state={appDetailsOpen:false,activeTab:f.default.tab(r)||N(d.default.view),navigationMenuOpen:false,qScript:{},developerDialogOpen:false,disableContextualItems:false};n.navigationMenuButtonRef=i.default.createRef();n.toggleAppDetails=n.toggleAppDetails.bind(L(n));n.toggleDeveloperDialog=n.toggleDeveloperDialog.bind(L(n));n.toggleNavigationMenu=n.toggleNavigationMenu.bind(L(n));n.closeNavigationMenu=n.closeNavigationMenu.bind(L(n));n.stateChanged=n.stateChanged.bind(L(n));n.setActiveTab=n.setActiveTab.bind(L(n));n.handleSave=n.handleSave.bind(L(n));n.getEnabledDataViews=n.getEnabledDataViews.bind(L(n));n.disableDLEAutosave=m.default.getFlag("DISABLE_DLE_AUTOSAVE");n.currentView=d.default.view;var o=e.appLayout.qReadOnly,a=void 0!==o&&o;n.isReadOnlyApp=a;n.showSaveButton=!e.engineFeatures.qAutoSave;n.isReadOnlyApp&&(n.showSaveButton=false);return n}D(t,[{key:"componentDidMount",value:function e(){var t=this;var n=this.props.app;d.default.StateChanged.bind(this.stateChanged);n.getScriptEx().then(function(e){return t.setState({qScript:e})}).catch(function(e){return e.isHandled=true});this.unwatchIsCalculatedFieldPaneOpen=a.default.$rootScope.$watch("isCalculatedFieldPaneOpen",function(e){e&&t.toggleAppDetails(false)});d.default.view===d.default.Views.overview&&this.toggleAppDetails(true);u.default.subscribe("/toolbar/setContextItemsVisibility.reactTb",function(e){t.setState({disableContextualItems:e})})}},{key:"componentWillUnmount",value:function e(){u.default.unsubscribe(".reactTb");d.default.StateChanged.unbind(this.stateChanged);this.unwatchIsCalculatedFieldPaneOpen()}},{key:"setActiveTab",value:function e(t){var n=l.default.getParameterByName("app");f.default.setTab(t,n);this.setState({activeTab:t})}},{key:"getEnabledDataViews",value:function e(){var t=this.props,n=t.appLayout,i=t.isPersonalMode;var r=this.state.qScript;var o=n.permissions,a=o.createSheet,s=o.update;var l=i||S.default.canUpdateScript(r);return{adddata:l&&s,datamanager:l&&a&&s,datamodelviewer:a&&s&&n.qHasData,dataloadeditor:l&&a&&s}}},{key:"stateChanged",value:function e(t){var n=N(t);var i=l.default.getParameterByName("app");f.default.setTab(n,i);this.setState({activeTab:n});"undefined"!==typeof this.lastView&&t!==this.lastView?this.toggleAppDetails(t===d.default.Views.overview):"undefined"===typeof this.lastView&&t===d.default.Views.overview&&this.toggleAppDetails(true);this.lastView=t}},{key:"toggleAppDetails",value:function e(t){var n=this.state.appDetailsOpen;var i="boolean"===typeof t?t:!n;if(i!==n){c.default.toggle({isSmallDevice:false,showAppDetails:i,forcedValue:false});this.setState({appDetailsOpen:i})}}},{key:"closeNavigationMenu",value:function e(){this.toggleNavigationMenu(false)}},{key:"toggleNavigationMenu",value:function e(t){var n=this;this.setState(function(){var e=n.state.navigationMenuOpen;return{navigationMenuOpen:"boolean"===typeof t?t:!e}})}},{key:"toggleDeveloperDialog",value:function e(){var t=this.state.developerDialogOpen;this.setState({developerDialogOpen:!t})}},{key:"handleSave",value:function e(){var t=this.props.saveApp;u.default.publish("/data/save-script");t()}},{key:"render",value:function e(){var t=this.props,n=t.appLayout,r=t.appIsDirty,a=t.view,l=t.app;var u=this.state,c=u.appDetailsOpen,f=u.activeTab,p=u.navigationMenuOpen,h=u.developerDialogOpen,v=u.disableContextualItems;var m=!this.showSaveButton&&d.default.view===d.default.Views.dataSpaceScriptEditor&&this.disableDLEAutosave||this.showSaveButton;var S=n&&n.qHasData;var C=this.getEnabledDataViews();var E=a&&a.renderToolbarContent;E||(E=function e(){return null});var q=a&&a.renderMenuItems;q||(q=function e(){return null});if(d.default.state===d.default.States.play)return null;var _=a&&a.helpKey||"AppView";var T=this.navigationMenuButtonRef.current&&this.navigationMenuButtonRef.current.element||null;return i.default.createElement("div",{className:"qs-toolbar-container"},i.default.createElement("div",{className:"qs-toolbar"},i.default.createElement("div",{className:"qs-toolbar__left"},i.default.createElement("div",{className:"qs-popover-container qs-toolbar__element"},i.default.createElement(o.Button,{tid:"2f7a7e",ref:this.navigationMenuButtonRef,title:s.default.get("Common.Navigation"),onClick:this.toggleNavigationMenu,active:p},i.default.createElement(o.Button.Icon,{name:"menu"}),i.default.createElement(o.Button.Caret,null)),i.default.createElement(g.default,{renderMenuItems:q,helpKey:_,closeMenu:this.closeNavigationMenu,openDeveloperDialog:this.toggleDeveloperDialog,alignTo:T,show:p,disableContextualItems:v,warnUnsaved:m,showAddData:C.adddata,showDataManager:C.datamanager,showScriptEditor:C.dataloadeditor,showDataModelViewer:C.datamodelviewer||false})),m?i.default.createElement(o.Button,{tid:"2fedad",className:"qs-toolbar__element",title:s.default.get("Common.Save"),disabled:!r,onClick:this.handleSave},i.default.createElement(o.Button.Text,null,s.default.get("Common.Save"))):null,n?i.default.createElement(y.default,{title:s.default.get(c?"Toolbar.HideAppInformation":"Toolbar.ShowAppInformation"),appTitle:n.qTitle,readOnly:this.isReadOnlyApp,toggleAppDetails:this.toggleAppDetails}):null),i.default.createElement("div",{className:"qs-toolbar__center"},i.default.createElement(w.default,{app:l,appLayout:n,activeTab:f,setActiveTab:this.setActiveTab,enabledDataViews:C,warnUnsaved:m,isReadOnlyApp:this.isReadOnlyApp,disableAnalysisTab:!S,disableStoryTab:!S}),i.default.createElement(b.default,{show:h,close:this.toggleDeveloperDialog,onEscape:this.toggleDeveloperDialog})),i.default.createElement("div",{className:"qs-toolbar__right"},E({appLayout:n}))),c?i.default.createElement(x.default,null):null)}}]);return t}(i.Component);R.propTypes={app:r.default.object.isRequired,appLayout:r.default.object,engineFeatures:r.default.object.isRequired,appIsDirty:r.default.bool.isRequired,saveApp:r.default.func.isRequired,view:r.default.object,isPersonalMode:r.default.bool.isRequired};R.defaultProps={appLayout:null,view:null};var F=function e(t){return i.default.createElement(h.default,null,function(e){return i.default.createElement(p.default,null,function(n){var r=n.engineFeatures,o=n.isPersonalMode;return i.default.createElement(v.default,null,function(n){return i.default.createElement(C.ToolbarProvider,null,i.default.createElement(R,_({},t,{app:e,appLayout:n,isPersonalMode:o,engineFeatures:r})))})})})};t.default=F;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=S(n(98));var r=w(n(116));var o=n(171);var a=w(n(48));var s=w(n(91));var l=w(n(49));var u=w(n(135));var c=w(n(122));var d=w(n(94));var f=w(n(1160));var p=w(n(1005));var h=w(n(438));var v=w(n(1461));var m=w(n(1001));var g=w(n(1988));var b=w(n(163));var y=w(n(1989));var x=w(n(1990));function w(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return C.apply(this,arguments)}function E(e){E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return E(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function T(e,t,n){t&&_(e.prototype,t);n&&_(e,n);return e}function k(e,t){if(t&&("object"===E(t)||"function"===typeof t))return t;return D(e)}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return O(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&I(e,t)}function I(e,t){I=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return I(e,t)}var L=f.default._extractOptions(window.location.pathname);var P=function(e){A(t,e);function t(e){var n;q(this,t);n=k(this,O(t).call(this,e));n.onSelectMenuItem=n.onSelectMenuItem.bind(D(n));return n}T(t,[{key:"onSelectMenuItem",value:function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var o=this.props,a=o.closeMenu,s=o.warnUnsaved;a();if((t.ctrlKey||t.metaKey)&&this.canOpenInNewTab||i)window.open(n,"_blank");else{if(s&&d.default.view===d.default.Views.dataSpaceScriptEditor){var l=false;var c=p.default.getMessage();if(c){l=window.confirm(c);if(!l)return;p.default.unsetBeforeUnloadFunctions()}}u.default.setUrl(n,false,false,r)}i&&t.preventDefault()}},{key:"render",value:function e(){var t=this;var n=this.props,r=n.helpKey,u=n.closeMenu,f=n.alignTo,p=n.show,h=n.renderMenuItems,w=n.disableContextualItems,S=n.showAddData,C=n.showDataManager,E=n.showScriptEditor,q=n.showDataModelViewer,_=n.appLayout,T=n.openDeveloperDialog;var k=!l.default.getFlag("DISABLE_TOGGLE_TOUCH");var O=!l.default.getFlag("DISALLOW_OPEN_IN_TAB");var D=l.default.getFlag("ALLOW_OPEN_HUB_IN_SAME_TAB");var A=c.default.getUrlForHub();var I=c.default.getUrlForOverview();var P=c.default.getUrlForDataModelViewer();var M=c.default.getUrlForDataLoadEditor();var N=c.default.getUrlForDataManager();var R=b.default.path+r;var F=a.default.getService("clientSections").getSync().HubSection_Home;var j=L&&L.indexOf("developer")>-1&&false;var B=_&&_.qHasData||false;var V=function e(t){f&&f.contains(t.target)&&t.stopImmediatePropagation();u()};if(!f)return null;return i.default.createElement(o.Popover,{inline:true,tid:"3df9b3",alignTo:f,onOutside:V,onEscape:u,show:p},i.default.createElement(v.default,{closeMenu:u},i.default.createElement("div",null,i.default.createElement(m.default,{tid:"4dfdd3",iconName:"home",href:I,showOpenInTab:O,title:s.default.get("NavigationMenu.AppOverview"),disabled:d.default.view===d.default.Views.overview,onSelect:function e(n){return t.onSelectMenuItem(n,I)},onClickNewTab:function e(n){return t.onSelectMenuItem(n,I,O)}},s.default.get("NavigationMenu.AppOverview")),C?i.default.createElement(m.default,{tid:"navigation.menuoption.datamanager",iconName:"data-manager",href:N,showOpenInTab:O,title:s.default.get("NavigationMenu.DataSpace"),disabled:d.default.view===d.default.Views.dataManager,onSelect:function e(n){return t.onSelectMenuItem(n,N)},onClickNewTab:function e(n){return t.onSelectMenuItem(n,N,O)}},s.default.get("NavigationMenu.DataSpace")):null,E?i.default.createElement(m.default,{tid:"4dfdd5",iconName:"application",href:M,showOpenInTab:O,title:s.default.get("NavigationMenu.Scripteditor"),disabled:d.default.view===d.default.Views.dataSpaceScriptEditor,onSelect:function e(n){return t.onSelectMenuItem(n,M)},onClickNewTab:function e(n){return t.onSelectMenuItem(n,M,O)}},s.default.get("NavigationMenu.Scripteditor")):null,q?i.default.createElement(m.default,{tid:"4dfdd4",iconName:"data-model",title:s.default.get("NavigationMenu.DataModelViewer"),disabled:d.default.view===d.default.Views.dataSpaceAssociations||d.default.view===d.default.Views.dataSpaceDataModel||!B,href:P,showOpenInTab:O,onSelect:function e(n){return t.onSelectMenuItem(n,P)},onClickNewTab:function e(n){return t.onSelectMenuItem(n,P,O)}},s.default.get("NavigationMenu.DataModelViewer")):null,F?i.default.createElement(m.default,{tid:"4dfdd2",iconName:"hub-logo",showOpenInTab:O,divider:D,title:D?s.default.get("NavigationMenu.Hub"):s.default.get("NavigationMenu.Hub.OpenInTab"),onSelect:function e(n){return D?t.onSelectMenuItem(n,A,false,true):t.onSelectMenuItem(n,A,O,true)},onClickNewTab:function e(n){return t.onSelectMenuItem(n,A,O,true)}},s.default.get("NavigationMenu.Hub")):null),i.default.createElement(g.default,null),i.default.createElement("div",null,h({disabled:w,closeMenu:u,showAddData:S}),k?i.default.createElement(y.default,null):null,i.default.createElement(m.default,{tid:"4dfe26",iconName:"help",title:s.default.get("Common.Tooltip.OpenHelpInNewTab"),onSelect:function e(n){return t.onSelectMenuItem(n,R,true)}},s.default.get("GlobalMenu.Help")),j?i.default.createElement(m.default,{tid:"developer-dialog-item",iconName:"debug",title:"Developer dialog",onSelect:function e(){T();u()}},"Developer dialog"):null,i.default.createElement(x.default,{closeMenu:u}))))}}]);return t}(i.Component);P.propTypes={helpKey:r.default.string.isRequired,show:r.default.bool.isRequired,appLayout:r.default.object,disableContextualItems:r.default.bool.isRequired,showAddData:r.default.bool,showDataManager:r.default.bool,showScriptEditor:r.default.bool,showDataModelViewer:r.default.bool,openDeveloperDialog:r.default.func.isRequired,renderMenuItems:r.default.func,closeMenu:r.default.func.isRequired,alignTo:r.default.instanceOf(HTMLElement),warnUnsaved:r.default.bool};P.defaultProps={renderMenuItems:null,appLayout:null,alignTo:null,showAddData:false,showDataManager:false,showScriptEditor:false,showDataModelViewer:false,warnUnsaved:false};var M=function e(t){return i.default.createElement(h.default,null,function(e){return i.default.createElement(P,C({},t,{appLayout:e}))})};t.default=M;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){return e&&e.__esModule?e:{default:e}}var o=function e(){return i.default.createElement("div",{className:"qs-toolbar__divider"})};var a=o;t.default=a;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=d(n(98));var r=n(171);var o=d(n(1001));var a=d(n(48));var s=d(n(91));var l=d(n(197));var u=d(n(214));var c=d(n(99));function d(e){return e&&e.__esModule?e:{default:e}}function f(){var e=l.default.get("deviceType",{value:"auto"}).value;var t="auto"===e?!c.default.treatAsDesktop():"touch"===e;return t}function p(){var e=a.default.$rootScope.appIsDirty;var t=a.default.getService("qvConfirmDialog");t.show({title:s.default.get("TouchScreenMode.Dialog.Title"),message:s.default.get(e?"TouchScreenMode.Dialog.Message.Save":"TouchScreenMode.Dialog.Message"),okLabel:s.default.get(e?"TouchScreenMode.Dialog.Continue":"Common.Continue")}).closed.then(function(t){if(t){var n=f();l.default.set("deviceType",{value:n?"desktop":"touch"});e?u.default.saveApp(function(){var e=window.setInterval(function(){if(!a.default.$rootScope.appIsDirty){clearInterval(e);window.location.reload()}},10)}):window.location.reload()}})}function h(e){"Enter"!==e.key&&" "!==e.key||p()}var v=function e(){var t=f();return i.default.createElement(o.default,{tid:"4dfe29",iconName:"touch",title:s.default.get("TouchScreenMode.Title"),selectable:false},i.default.createElement("div",{className:"qs-toolbar__toggle-touch"},i.default.createElement("div",{className:"qs-toolbar__toggle-touch-label"},s.default.get("TouchScreenMode.Title"),i.default.createElement("strong",null,s.default.get(t?"properties.on":"properties.off"))),i.default.createElement("div",{className:"qs-toolbar__toggle-touch-switch"},i.default.createElement(r.Switch,{defaultChecked:t,onClick:p,onKeyDown:h}))))};var m=v;t.default=m;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=u(n(98));var r=u(n(116));var o=u(n(1001));var a=u(n(48));var s=u(n(49));var l=u(n(91));function u(e){return e&&e.__esModule?e:{default:e}}function c(){a.default.getService("qvAboutDialog").show()}var d=function e(t){var n=t.closeMenu;return s.default.getFlag("HIDE_ABOUT_BUTTON")?null:i.default.createElement(o.default,{tid:"4dfe27",iconName:"info",title:l.default.get("Common.About"),onSelect:function e(){c();n()}},l.default.get("Common.About"))};d.propTypes={closeMenu:r.default.func.isRequired};var f=d;t.default=f;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=u(n(98));var r=n(171);var o=l(n(1992));var a=l(n(1727));var s=l(n(90));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function c(e){c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return c(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n=p(e,t);var i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){i=o[r];if(t.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,i))continue;n[i]=e[i]}}return n}function p(e,t){if(null==e)return{};var n={};var i=Object.keys(e);var r,o;for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function m(e,t,n){t&&v(e.prototype,t);n&&v(e,n);return e}function g(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;return y(e)}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return w(e,t)}function S(e){return q(e)||E(e)||C()}function C(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function E(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function q(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _(e){var t=S(e);var n=window.location.href;"/"!==n[n.length-1]&&(n="".concat(n,"/"));for(var i=e.length-2;i>=0;i-=2){var r=e[i];if(s.default.getParameterByName(r)){var o=e[i+1];t.splice(i,2);var a=new RegExp("".concat(r,"/.*?/"));n=n.replace(a,"".concat(r,"/").concat(o,"/"))}}return"".concat(n).concat(t.join("/"))}var T=function(e){x(t,e);function t(e){var n;h(this,t);n=g(this,b(t).call(this,e));n.apply=n.apply.bind(y(n));n.onParametersChange=n.onParametersChange.bind(y(n));n.state={parameters:[]};return n}m(t,[{key:"onParametersChange",value:function e(t){this.setState({parameters:t})}},{key:"apply",value:function e(){var t=this.props.close;var n=this.state.parameters;var i=_(n);window.location.href=i;t()}},{key:"render",value:function e(){var t=this;var n=this.props,s=n.close,l=f(n,["close"]);return i.default.createElement(a.default,{render:function e(n){return i.default.createElement(r.Dialog,d({parentElement:n},l),i.default.createElement(r.Dialog.Header,null,i.default.createElement(r.Dialog.Title,null,"Developer")),i.default.createElement(r.Dialog.Body,null,i.default.createElement(o.default,{onParametersChange:t.onParametersChange})),i.default.createElement(r.Dialog.Footer,null,i.default.createElement(r.Button,{onClick:s},"Cancel"),i.default.createElement(r.Button,{variant:"info",onClick:t.apply},"Apply")))}})}}]);return t}(i.Component);var k=T;t.default=k;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=f(n(98));var r=d(n(116));var o=n(171);var a=d(n(91));var s=d(n(90));var l=d(n(1993));var u=d(n(1994));var c=d(n(113));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function p(e){p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return p(e)}function h(e){return g(e)||m(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function g(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function x(e,t,n){t&&y(e.prototype,t);n&&y(e,n);return e}function w(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;return C(e)}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&q(e,t)}function q(e,t){q=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return q(e,t)}var _=function(e){E(t,e);function t(e){var n;b(this,t);n=w(this,S(t).call(this,e));n.notifyParametersChange=n.notifyParametersChange.bind(C(n));n.toggleLanguage=n.toggleLanguage.bind(C(n));n.toggleFeatureFlag=n.toggleFeatureFlag.bind(C(n));n.toggleOpenWithoutData=n.toggleOpenWithoutData.bind(C(n));var i="true"===s.default.getParameterByName("noData");var r=s.default.getParameterByName("language","");var o=s.default.getParameterByName("feature")?s.default.getParameterByName("feature").split("+"):[];n.state={urlFeatureFlags:o,openWithoutData:i,language:r};return n}x(t,[{key:"componentDidMount",value:function e(){}},{key:"getParameters",value:function e(){var t=this.state,n=t.openWithoutData,i=t.language,r=t.urlFeatureFlags;var o=[];var a=[];var s=function e(t,n){a.push(t);a.push(n)};if(i){o.push("languages");s("language",i)}s("noData","".concat(n));o.length&&s("debug",o.join("+"));r.length&&s("feature",r.join("+"));return a}},{key:"toggleFeatureFlag",value:function e(t,n){var i=this.state.urlFeatureFlags;var r=h(i);var o=r.indexOf(t);n&&-1===o?r.push(t):!n&&o>-1&&r.splice(o,1);this.setState({urlFeatureFlags:r},this.notifyParametersChange)}},{key:"toggleLanguage",value:function e(t){this.setState({language:t.target.value},this.notifyParametersChange)}},{key:"notifyParametersChange",value:function e(){var t=this.props.onParametersChange;t(this.getParameters())}},{key:"toggleOpenWithoutData",value:function e(){var t=this.state.openWithoutData;this.setState(function(){return{openWithoutData:!t}},this.notifyParametersChange)}},{key:"render",value:function e(){var t=this;var n=this.state,r=n.bookmark,s=n.openWithoutData,d=n.theme,f=n.language,p=n.urlFeatureFlags;var h=Object.keys(c.default).map(function(e){var n=c.default[e]||p.indexOf(e)>-1;var r=function i(){t.toggleFeatureFlag(e,!n)};var a=n&&-1===p.indexOf(e);return i.default.createElement(l.default,{key:e,text:e},i.default.createElement(o.Checkbox,{checked:n,disabled:a,onChange:r}))});return i.default.createElement("div",null,i.default.createElement("h2",{style:{marginBottom:"10px"}},"Options"),i.default.createElement("div",null,i.default.createElement(u.default,null,i.default.createElement(l.default,{text:"Open without data"},i.default.createElement(o.Checkbox,{checked:s,onChange:this.toggleOpenWithoutData})),i.default.createElement(l.default,{text:"Bookmark"},i.default.createElement(o.Select,{value:r,onChange:this.onBookmarkChange},i.default.createElement("option",{value:"x"},"TODO"))),i.default.createElement(l.default,{text:"Theme"},i.default.createElement(o.Select,{value:d,onChange:this.onThemeChange},i.default.createElement("option",{value:"x"},"TODO"))),i.default.createElement(l.default,{text:"Language"},i.default.createElement(o.Select,{value:f,onChange:this.toggleLanguage},i.default.createElement("option",{value:""},"Browser default"),i.default.createElement("option",{value:"pseudo"},"Pseudo"),a.default.languageList.map(function(e){var t=e.long,n=e.label;return i.default.createElement("option",{key:t,value:t},n)}))))),i.default.createElement("div",null,i.default.createElement("h2",{style:{marginBottom:"10px"}},"Feature flags"),i.default.createElement("div",{style:{maxHeight:"200px",overflow:"auto"}},i.default.createElement(u.default,null,h))))}}]);return t}(i.Component);_.propTypes={onParametersChange:r.default.func.isRequired};var T=_;t.default=T;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=o(n(116));function o(e){return e&&e.__esModule?e:{default:e}}var a=function e(t){var n=t.text,r=t.children;return i.default.createElement("tr",null,i.default.createElement("td",{style:{padding:"4px 10px 4px 0"}},n),i.default.createElement("td",{style:{padding:"4px 0px"}},r))};a.propTypes={children:r.default.node.isRequired,text:r.default.string.isRequired};var s=a;t.default=s;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=o(n(116));function o(e){return e&&e.__esModule?e:{default:e}}var a=function e(t){var n=t.children;return i.default.createElement("table",null,i.default.createElement("tbody",null,n))};a.propTypes={children:r.default.node.isRequired};var s=a;t.default=s;e.exports=t.default},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function r(e){if(Array.isArray(e))return e.slice(0);return i({},e)}function o(e,t){var n="string"===typeof t?t.split("."):t;var r=void 0;r=Array.isArray(e)?e.slice(0):i({},e);var o=r;for(var a=0;a<n.length;a+=1){var s=r[n[a]];s=Array.isArray(s)?s.slice(0):i({},s);r[n[a]]=s;r=s}return o}function a(e,t){var n="string"===typeof t?t.split("."):t;var i=e;for(var r=0;r<n.length;r+=1){i=i[n[r]];if("undefined"===typeof i)break}return i}function s(e,t){return Object.hasOwnProperty.call(e,t)}function l(e,t){var n="string"===typeof t?t.split("."):t;var i=e;for(var r=0;r<n.length-1;r+=1){if(!i)return false;i=i[n[r]]}var o=n[n.length-1];return Object.hasOwnProperty.call(i,o)}function u(e,t,n){var r=i({},e);r[t]=n;return r}function c(e,t,n){var i="string"===typeof t?t.split("."):t;var r=i.length>=2?i.slice(0,i.length-1):[];var s=i[i.length-1];var l=o(e,t);var u=a(l,r);u[s]=n;return l}function d(e,t){var n=e.slice(0);n.push(t);return n}function f(e,t,n){var i=o(e,t);var r=a(i,t);r.push(n);return i}function p(e){var t=e.slice(0);t.shift();return t}function h(e,t){var n=o(e,t);var i=a(n,t);i.shift();return n}function v(e,t,n){var i=e.slice(0);for(var r=arguments.length,o=Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];i.splice.apply(i,[t,n].concat(o));return i}function m(e,t,n,i){var r=o(e,t);var s=a(r,t);for(var l=arguments.length,u=Array(l>4?l-4:0),c=4;c<l;c++)u[c-4]=arguments[c];s.splice.apply(s,[n,i].concat(u));return r}function g(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.apply(void 0,[{},e].concat(n))}function b(e,t){var n=o(e,t);var r=a(n,t);for(var s=arguments.length,l=Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];i.apply(void 0,[r].concat(l));return n}e.exports={getIn:a,has:s,hasIn:l,merge:g,mergeIn:b,push:d,pushIn:f,ref:r,refsTo:o,set:u,setIn:c,shift:p,shiftIn:h,splice:v,spliceIn:m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=l(n(98));var r=s(n(116));var o=s(n(11));var a=s(n(48));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return u(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=false;var y=function(e){m(t,e);function t(){c(this,t);return p(this,v(t).apply(this,arguments))}f(t,[{key:"componentDidMount",value:function e(){if(!b){a.default.componentDirective("qsAngularOverlay",{destroyComponent:"=",input:"=",component:"=",deferredResult:"=",exposedApi:"="});b=true}var t=this.props,n=t.component,i=t.input,r=t.destroy,s=t.exposedApi,l=t.deferredResult;var u="<div qs-angular-overlay\n  data-component='component'\n  data-input='input'\n  data-exposed-api='exposedApi'\n  data-destroy-component='destroy'\n  data-deferred-result='deferredResult'\n></div>";var c=this;this.component=(0,o.default)(this.elem).showComponent({template:u,controller:["$scope",function e(t){t.component=n;t.input=i;t.exposedApi=s;t.deferredResult=l;var o=false;t.destroy=function(){if(!o){o=true;t.$destroy();r()}};c.close=t.destroy}]})}},{key:"close",value:function e(){this.close()}},{key:"render",value:function e(){var t=this;return i.default.createElement("div",{ref:function e(n){t.elem=n}})}}]);return t}(i.Component);y.propTypes={destroy:r.default.func.isRequired,component:r.default.object.isRequired,exposedApi:r.default.object.isRequired,deferredResult:r.default.object.isRequired,input:r.default.object};y.defaultProps={input:{}};var x=y;t.default=x;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(98));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}var o=(0,i.forwardRef)(function(e,t){return i.default.createElement("div",{ref:t},e.children)});var a=o;t.default=a;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(n(98));var r=s(n(116));var o=n(171);var a=s(n(91));function s(e){return e&&e.__esModule?e:{default:e}}var l=function e(t){var n=t.appTitle,r=t.toggleAppDetails,s=t.title,l=t.readOnly;return i.default.createElement("section",{className:"qs-app-info-toggle-container qs-toolbar__element"},i.default.createElement(o.FadeButton,{className:"lui-fade-button qs-app-info-toggle",onClick:r,"data-tid":"toggle-app-details","aria-labelledby":"sr-app-info",disabled:false,title:s},i.default.createElement(o.FadeButton.Icon,{name:"more-rounded"}),l?i.default.createElement(o.FadeButton.Icon,{name:"lock",title:a.default.get("App.ReadOnly")}):null,i.default.createElement(o.FadeButton.Text,{"data-tid":"toolbar-app-title","aria-hidden":"true"},n)))};l.propTypes={appTitle:r.default.string.isRequired,toggleAppDetails:r.default.func.isRequired,title:r.default.string.isRequired,readOnly:r.default.bool.isRequired};var u=l;t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=l(n(98));var r=s(n(11));var o=s(n(48));var a=s(n(97));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return u(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=function(e){m(t,e);function t(){c(this,t);return p(this,v(t).apply(this,arguments))}f(t,[{key:"componentDidMount",value:function e(){var t=this;o.default.getService("qvAppDetailsService").get().then(function(){if(t.destroying)return;document.body.classList.add("qv-app-details-enabled");t.component=(0,r.default)(t.elem).showComponent({template:"<qv-app-details/>",controller:["$scope","$timeout",function e(t,n){this.destroy=function e(){t.destroyComponent();document.body.classList.remove("qv-app-details-enabled");document.body.classList.remove("qv-app-details-options-enabled");n(function(){a.default.force("end")})};n(function(){a.default.force("end")})}]})})}},{key:"componentWillUnmount",value:function e(){this.destroying=true;if(this.component)try{this.component.destroy()}catch(e){console.error(e)}}},{key:"render",value:function e(){var t=this;return i.default.createElement("div",{className:"qv-app-details-container",ref:function e(n){t.elem=n}})}}]);return t}(i.PureComponent);var y=b;t.default=y;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.shouldContinue=A;t.default=void 0;var i=g(n(98));var r=m(n(116));var o=n(171);var a=m(n(91));var s=m(n(90));var l=m(n(94));var u=m(n(122));var c=m(n(362));var d=m(n(177));var f=m(n(202));var p=m(n(1005));var h=n(1096);var v=m(n(1044));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return b.apply(this,arguments)}function y(e){y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return y(e)}function x(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function w(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){x(o,i,r,a,s,"next",e)}function s(e){x(o,i,r,a,s,"throw",e)}a(void 0)})}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function E(e,t,n){t&&C(e.prototype,t);n&&C(e,n);return e}function q(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;return T(e)}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return _(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&O(e,t)}function O(e,t){O=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return O(e,t)}var D=function e(t){var n=t.active,r=t.disabled,s=t.onClick,l=t.onKeyDown,u=t.isIcon,c=t.tid,d=t.translation,f=t.iconName,p=t.className;return i.default.createElement(o.Tab,{active:n,disabled:r,onClick:s,onKeyDown:l,tabIndex:r?-1:0,tid:c,title:a.default.get(d),className:p},u?i.default.createElement(o.Icon,{name:f}):i.default.createElement(o.Tab.Text,null,a.default.get(d)))};D.propTypes={isIcon:r.default.bool.isRequired,active:r.default.bool.isRequired,disabled:r.default.bool.isRequired,onClick:r.default.func.isRequired,onKeyDown:r.default.func.isRequired,tid:r.default.string.isRequired,translation:r.default.string.isRequired,iconName:r.default.string.isRequired,className:r.default.string.isRequired};function A(e){if(void 0===e.button&&void 0!==e.key&&!("Enter"===e.key||" "===e.key))return false;return true}var I=function(e){k(t,e);function t(){var e;S(this,t);e=q(this,_(t).call(this));e.onClickAnalysis=e.onClickAnalysis.bind(T(e));e.onClickStory=e.onClickStory.bind(T(e));e.onClickData=e.onClickData.bind(T(e));e.onTabClick=e.onTabClick.bind(T(e));return e}E(t,[{key:"onTabClick",value:function(){var e=w(regeneratorRuntime.mark(function e(t,n){var i,r,o;return regeneratorRuntime.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:i=this.props.warnUnsaved;if(A(t)){a.next=3;break}return a.abrupt("return");case 3:if("click"===t.type)try{t.currentTarget.blur()}catch(e){}if(!(i&&l.default.view===l.default.Views.dataSpaceScriptEditor)){a.next=14;break}r=false;o=p.default.getMessage();if(!o){a.next=14;break}r=window.confirm(o);if(!r){a.next=13;break}p.default.unsetBeforeUnloadFunctions();a.next=14;break;case 13:return a.abrupt("return");case 14:a.next=16;return n();case 16:case"end":return a.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"onClickData",value:function(){var e=w(regeneratorRuntime.mark(function e(t){var n,i,r,o,a,l;return regeneratorRuntime.wrap(function e(c){while(1)switch(c.prev=c.next){case 0:l=function e(){o("data");var t=d.default.data(a).view;t&&!i[t]&&(t="datamodelviewer");switch(t){case"datamodelviewer":u.default.goToDataModelViewer(a);break;case"dataloadeditor":u.default.goToDataLoadEditor(a);break;default:u.default.goToDataManager(a);break}};n=this.props,i=n.enabledDataViews,r=n.activeTab,o=n.setActiveTab;a=s.default.getParameterByName("app");if(!("data"===r)){c.next=5;break}return c.abrupt("return");case 5:c.next=7;return this.onTabClick(t,l);case 7:case"end":return c.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickStory",value:function(){var e=w(regeneratorRuntime.mark(function e(t){var n,i,r,o,f,p,h,v;return regeneratorRuntime.wrap(function e(m){while(1)switch(m.prev=m.next){case 0:v=function e(){v=w(regeneratorRuntime.mark(function e(){var t,n,i,h,v,m,g,b,y,x;return regeneratorRuntime.wrap(function e(S){while(1)switch(S.prev=S.next){case 0:r("story");t=s.default.getParameterByName("app");n=d.default.story(t);i=n.slideId,h=n.storyId;v=n.state;if(!h){S.next=14;break}S.prev=6;S.next=9;return o.getObject(h);case 9:m=S.sent;S.next=14;break;case 12:S.prev=12;S.t0=S["catch"](6);case 14:p&&(v=l.default.States.play);g=function(){var e=w(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:v=n.state;u.default.goToStory(t,Object.keys(l.default.States)[v],i);case 2:case"end":return r.stop()}},e)}));return function t(n){return e.apply(this,arguments)}}();if(!(h&&m)){S.next=21;break}S.next=19;return g(h);case 19:S.next=42;break;case 21:if(c.default.isInitialized()){S.next=24;break}S.next=24;return c.default.init();case 24:b=c.default.Stories.getFirst();if(!b){S.next=30;break}S.next=28;return g(b.qInfo.qId);case 28:S.next=42;break;case 30:if(!f.permissions.createStory){S.next=39;break}S.next=33;return o.createStory({title:a.default.get("Storytelling.CreateNew")});case 33:x=S.sent;S.next=36;return x.createSlide();case 36:y=x.id;S.next=40;break;case 39:y="";case 40:S.next=42;return g(y);case 42:case"end":return S.stop()}},e,null,[[6,12]])}));return v.apply(this,arguments)};h=function e(){return v.apply(this,arguments)};n=this.props,i=n.activeTab,r=n.setActiveTab,o=n.app,f=n.appLayout,p=n.isReadOnlyApp;if(!("story"===i)){m.next=5;break}return m.abrupt("return");case 5:m.next=7;return this.onTabClick(t,h);case 7:case"end":return m.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickAnalysis",value:function(){var e=w(regeneratorRuntime.mark(function e(t){var n,i,r,o,l,p,h;return regeneratorRuntime.wrap(function e(v){while(1)switch(v.prev=v.next){case 0:h=function e(){h=w(regeneratorRuntime.mark(function e(){var t,n,i,p,h,v,m,g,b;return regeneratorRuntime.wrap(function e(y){while(1)switch(y.prev=y.next){case 0:r("analysis");t=s.default.getParameterByName("app");n=d.default.analysis(t),i=n.sheetId,p=n.overlay;h=d.default.analysis(t).state;if(h){y.next=8;break}y.next=7;return f.default.getDefaultSheetViewState();case 7:h=y.sent;case 8:y.prev=8;y.next=11;return l.getObject(i);case 11:v=y.sent;y.next=17;break;case 14:y.prev=14;y.t0=y["catch"](8);v=void 0;case 17:if(!(i&&v)){y.next=21;break}u.default.goToSheet(i,h,p);y.next=38;break;case 21:if(c.default.isInitialized()){y.next=24;break}y.next=24;return c.default.init();case 24:m=c.default.Sheets.getFirst();if(!m){y.next=29;break}u.default.goToSheet(m.qInfo.qId,h,p);y.next=38;break;case 29:if(!o.permissions.createSheet){y.next=36;break}y.next=32;return l.createSheet({title:a.default.get("SheetItem.myNewSheet")});case 32:b=y.sent;g=b.id;y.next=37;break;case 36:g="";case 37:u.default.goToSheet(g,h,p);case 38:case"end":return y.stop()}},e,null,[[8,14]])}));return h.apply(this,arguments)};p=function e(){return h.apply(this,arguments)};n=this.props,i=n.activeTab,r=n.setActiveTab,o=n.appLayout,l=n.app;if(!("analysis"===i)){v.next=5;break}return v.abrupt("return");case 5:v.next=7;return this.onTabClick(t,p);case 7:case"end":return v.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(){var t=this.props,n=t.isButtonTab,r=t.activeTab,a=t.setActiveTab,s=t.enabledDataViews,l=t.disableAnalysisTab,u=t.disableStoryTab;var c="qs-toolbar__tabset".concat(n?" qs-toolbar__tabset--icons":"");var d="qs-toolbar__tabset--tab";return i.default.createElement(o.Tabset,{className:c},(s.datamanager||s.datamodelviewer||s.dataloadeditor)&&i.default.createElement(D,{className:d,disabled:false,onClick:this.onClickData,onKeyDown:this.onClickData,setActiveTab:a,iconName:"data-manager",tid:"tab-nav-data",translation:"Common.Data",active:"data"===r,isIcon:n}),i.default.createElement(D,{className:d,disabled:l,onClick:this.onClickAnalysis,onKeyDown:this.onClickAnalysis,setActiveTab:a,iconName:"sheet",tid:"tab-nav-analysis",translation:"Common.Analysis",active:"analysis"===r,isIcon:n}),i.default.createElement(D,{className:d,disabled:u,onClick:this.onClickStory,onKeyDown:this.onClickStory,setActiveTab:a,iconName:"slide-show",tid:"tab-nav-story",translation:"Common.Story",active:"story"===r,isIcon:n}))}}]);return t}(i.PureComponent);I.propTypes={activeTab:r.default.string,setActiveTab:r.default.func.isRequired,app:r.default.object.isRequired,appLayout:r.default.object.isRequired,isButtonTab:r.default.bool,enabledDataViews:r.default.shape({adddata:r.default.bool,datamanager:r.default.bool,dataloadeditor:r.default.bool,datamodelviewer:r.default.bool}).isRequired,warnUnsaved:r.default.bool,disableAnalysisTab:r.default.bool.isRequired,disableStoryTab:r.default.bool.isRequired,isReadOnlyApp:r.default.bool.isRequired};I.defaultProps={activeTab:null,isButtonTab:false,warnUnsaved:false};var L=function e(t){return i.default.createElement(h.ToolbarConsumer,null,function(e){return i.default.createElement(I,b({},t,{isButtonTab:e<=v.default.medium}))})};t.default=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=t.privileges,i=void 0===n?[]:n;return i};var r=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=t.qMeta,r=void 0===n?{}:n;return-1!==i(r).indexOf("update")};var o={getPrivegesFromMeta:i,canUpdateScript:r};t.default=o;e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(n(98));var r=n(171);var o=a(n(91));function a(e){return e&&e.__esModule?e:{default:e}}function s(){window.location.href=window.location.href}var l=function e(){return i.default.createElement("div",{className:"qs-page-error"},i.default.createElement("div",{className:"message-text"},o.default.get("ErrorDialog.Title")),i.default.createElement(r.Button,{onClick:s},o.default.get("Common.Refresh")))};var u=l;t.default=u;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=l(n(98));var r=s(n(116));var o=s(n(103));var a=s(n(91));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}t.default=e;return t}function u(e){u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return u(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&d(e.prototype,t);n&&d(e,n);return e}function p(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return g(e,t)}var b=function(e){m(t,e);function t(e){var n;c(this,t);n=p(this,v(t).call(this,e));n.state={error:null};return n}f(t,[{key:"componentDidUpdate",value:function e(t){var n=this.props.view;n!==t.view&&this.setState(function(){return{error:null}})}},{key:"componentDidCatch",value:function e(t){o.default.trackEvent(o.default.customEvents.VIEW_RENDER_ERROR,{message:t&&t.message});this.setState({error:t})}},{key:"render",value:function e(){var t=this.state.error;var n=this.props.view;var r;r=t?i.default.createElement("div",{className:"qs-view-error"},a.default.get("ErrorDialog.Title")):n&&n.renderContent?n.renderContent():null;return r}}]);return t}(i.PureComponent);b.propTypes={view:r.default.object.isRequired};var y=b;t.default=y;e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=o(n(98));var r=o(n(2007));n(2008);function o(e){return e&&e.__esModule?e:{default:e}}function a(){window.location.href=window.location.href}var s={helpKey:"",loaderTranslationKey:"",titleTranslationKey:"",init:function e(){},renderContent:function e(){return i.default.createElement(r.default,{onClick:a})}};t.default=s;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(n(116));var r=s(n(98));var o=n(171);var a=s(n(91));function s(e){return e&&e.__esModule?e:{default:e}}var l=function e(t){var n=t.onClick;return r.default.createElement("div",{className:"qs-view-load-error"},r.default.createElement("div",{className:"message-text"},a.default.get("ErrorDialog.Title")),r.default.createElement(o.Button,{onClick:n},a.default.get("Common.Refresh")))};l.propTypes={onClick:i.default.func.isRequired};var u=l;t.default=u;e.exports=t.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i={name:"home",pattern:"/"};var r={name:"datamanager",pattern:/\/datamanager/i,isPartial:false};var o={name:"dataloadeditor",pattern:/\/dataloadeditor/i};var a={name:"datamodelviewer",pattern:/\/datamodelviewer/i};var s={name:"analysis",pattern:/\/sheet\/([\w-]+)(?:\/state\/(\w+))?([/select/|/options/|/bookmark/].*)?(?:\/singleobject\/(\w+))?/i,isPartial:false};var l={name:"storytelling",pattern:/\/story\/([\w-]+)(?:\/state\/([\w-]+))?(?:\/slide\/([\w-]+))?/i,isPartial:false};var u={name:"default",pattern:/[\w\W]*?/,isPartial:false};var c={home:i,dataManager:r,dataLoadEditor:o,dataModelViewer:a,analysis:s,story:l,defaultView:u};t.default=c;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=n(1730);n(1226);var r=u(n(48));var o=u(n(91));var a=u(n(90));var s=u(n(138));var l=u(n(1691));n(427);n(97);n(428);n(319);n(227);n(449);n(437);n(280);n(255);n(1731);n(2012);n(2013);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,i,r,o,a){try{var s=e[o](a);var l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(i,r)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){c(o,i,r,a,s,"next",e)}function s(e){c(o,i,r,a,s,"throw",e)}a(void 0)})}}var f=d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return s.default.init({Promise:r.default.getService("$q")});case 2:t.next=4;return o.default.setup({context:"client"});case 4:if(a.default.isLocalStorageSupported()){t.next=7;break}l.default.show({mode:"warning",message:o.default.get("Private.Browsing.Turned.On")});return t.abrupt("return");case 7:(0,i.initializeCodearea)({angularModule:r.default,publicPath:"".concat(n.p,"assets/external/sensei-codearea/")});case 8:case"end":return t.stop()}},e)}));t.default=f;e.exports=t.default},function(e,t){e.exports='<div class="qv-block-ui qv-size-warning">\n\t<div class="w-msg">\n\t\t{{message | translate}}\n\t</div>\n\n\t<button class="lui-overlay-button"\n\t\tng-if="button"\n\t\tng-click="button.callback()">\n\t\t{{button.name | translate}}\n\t</button>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(49)],r=function(e){e.load().then(function(){var t=e.getFlag("walkme_prod");var n=e.getFlag("walkme_dev");if(t||n){var i="https://cdn.walkme.com/users/7f35346f156745ffb956859c63128c2b/test/walkme_7f35346f156745ffb956859c63128c2b_https.js";t&&(i="https://cdn.walkme.com/users/7f35346f156745ffb956859c63128c2b/walkme_7f35346f156745ffb956859c63128c2b_https.js");var r=document.createElement("script");r.type="text/javascript";r.async=true;r.src=i;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o);window._walkmeConfig={smartLoad:true}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(94),n(103)],r=function(e,t){var n;var i;function r(e,t){e!==n&&o(e);t!==i&&a(t)}function o(i){var r;Object.keys(e.Views).forEach(function(t){if(e.Views[t]===i){r=t;return}});t.trackEvent(t.customEvents.CLIENT_VIEW_LOADED,{viewName:r});n=i}function a(n){var r;Object.keys(e.States).forEach(function(t){if(e.States[t]===n){r=t;return}});t.trackEvent(t.customEvents.CLIENT_STATE_LOADED,{stateName:r});i=n}e.StateChanged.bind(r)}.apply(t,i),void 0!==r&&(e.exports=r))}])]);